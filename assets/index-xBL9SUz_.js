const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-BB7awD-F.js","assets/vendor-DvtURzSL.js","assets/browser-C42tFqjx.js"])))=>i.map(i=>d[i]);
var LL=Object.defineProperty;var BL=(e,t,r)=>t in e?LL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sj=(e,t,r)=>BL(e,typeof t!="symbol"?t+"":t,r);import{r as Wk,a as F,g as Rr,R as le,u as So,b as Lm,j as s,m as Ne,A as hr,L as oj,P as Oi,c as lj,X as Mt,d as Xv,C as Dw,S as _n,e as si,T as Go,G as Pf,f as J0,h as Bm,D as Bp,i as Vk,k as $L,U as ki,l as dg,n as $p,o as Yv,p as vd,I as Z0,q as An,s as li,t as ad,v as ci,M as Mw,w as qi,x as Oa,y as zL,z as Pi,B as UL,E as id,F as $a,W as N0,N as Du,H as mo,J as fg,K as Fw,O as Rw,Q as Wa,V as hg,Y as Lw,Z as qk,_ as If,$ as da,a0 as HL,a1 as Gk,a2 as Kn,a3 as WL,a4 as cj,a5 as VL,a6 as qL,a7 as GL,a8 as Xo,a9 as XL,aa as YL,ab as KL,ac as $m,ad as Kc,ae as m4,af as Ca,ag as ar,ah as JL,ai as Bw,aj as ZL,ak as QL,al as e9,am as uj,an as t9,ao as Gu,ap as Xb,aq as Gi,ar as vs,as as r9,at as x4,au as n9,av as Xk,aw as Yk,ax as a9,ay as sd,az as Qo,aA as Wc,aB as dj,aC as fj,aD as bd,aE as hj,aF as Kk,aG as Jk,aH as i9,aI as s9,aJ as zm,aK as Um,aL as $w,aM as Zk,aN as Qk,aO as qs,aP as o9,aQ as yd,aR as eT,aS as jo,aT as l9,aU as tT,aV as g4,aW as fp,aX as Kv,aY as pg,aZ as c9,a_ as rT,a$ as nT,b0 as u9,b1 as d9,b2 as aT,b3 as Df,b4 as rg,b5 as Xi,b6 as iT,b7 as f9,b8 as h9,b9 as p9,ba as Hm,bb as m9,bc as x9,bd as pj,be as g9,bf as Q0,bg as v4,bh as v9,bi as b9,bj as y9,bk as w9,bl as _9,bm as N9,bn as sT,bo as mj,bp as xj,bq as j9,br as gj,bs as oT,bt as S9,bu as lT,bv as A9,bw as C9,bx as E9,by as sr,bz as Yb,bA as k9}from"./vendor-DvtURzSL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var cT,vj=Wk;cT=vj.createRoot,vj.hydrateRoot;let T9={data:""},O9=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||T9,P9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,I9=/\/\*[^]*?\*\/|  +/g,bj=/\n+/g,Ic=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ic(o,i):i+"{"+Ic(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ic(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ic.p?Ic.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Cl={},uT=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+uT(e[r]);return t}return e},D9=(e,t,r,n,a)=>{let i=uT(e),o=Cl[i]||(Cl[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Cl[o]){let c=i!==e?e:(u=>{let d,f,h=[{}];for(;d=P9.exec(u.replace(I9,""));)d[4]?h.shift():d[3]?(f=d[3].replace(bj," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(bj," ").trim();return h[0]})(e);Cl[o]=Ic(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Cl.g?Cl.g:null;return r&&(Cl.g=Cl[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Cl[o],t,n,l),o},M9=(e,t,r)=>e.reduce((n,a,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Ic(l,""):l===!1?"":l}return n+a+(o??"")},"");function Jv(e){let t=this||{},r=e.call?e(t.p):e;return D9(r.unshift?r.raw?M9(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,O9(t.target),t.g,t.o,t.k)}let dT,zw,Uw;Jv.bind({g:1});let Wl=Jv.bind({k:1});function F9(e,t,r,n){Ic.p=t,dT=e,zw=r,Uw=n}function ru(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:zw&&zw()},l),r.o=/ *go\d+/.test(c),l.className=Jv.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Uw&&u[0]&&Uw(l),dT(u,l)}return a}}var R9=e=>typeof e=="function",mg=(e,t)=>R9(e)?e(t):e,L9=(()=>{let e=0;return()=>(++e).toString()})(),fT=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),B9=20,hT=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,B9)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return hT(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},ng=[],Lu={toasts:[],pausedAt:void 0},wd=e=>{Lu=hT(Lu,e),ng.forEach(t=>{t(Lu)})},$9={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},z9=(e={})=>{let[t,r]=F.useState(Lu),n=F.useRef(Lu);F.useEffect(()=>(n.current!==Lu&&r(Lu),ng.push(r),()=>{let i=ng.indexOf(r);i>-1&&ng.splice(i,1)}),[]);let a=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||$9[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:a}},U9=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||L9()}),Wm=e=>(t,r)=>{let n=U9(t,e,r);return wd({type:2,toast:n}),n.id},Ni=(e,t)=>Wm("blank")(e,t);Ni.error=Wm("error");Ni.success=Wm("success");Ni.loading=Wm("loading");Ni.custom=Wm("custom");Ni.dismiss=e=>{wd({type:3,toastId:e})};Ni.remove=e=>wd({type:4,toastId:e});Ni.promise=(e,t,r)=>{let n=Ni.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?mg(t.success,a):void 0;return i?Ni.success(i,{id:n,...r,...r==null?void 0:r.success}):Ni.dismiss(n),a}).catch(a=>{let i=t.error?mg(t.error,a):void 0;i?Ni.error(i,{id:n,...r,...r==null?void 0:r.error}):Ni.dismiss(n)}),e};var H9=(e,t)=>{wd({type:1,toast:{id:e,height:t}})},W9=()=>{wd({type:5,time:Date.now()})},hp=new Map,V9=1e3,q9=(e,t=V9)=>{if(hp.has(e))return;let r=setTimeout(()=>{hp.delete(e),wd({type:4,toastId:e})},t);hp.set(e,r)},G9=e=>{let{toasts:t,pausedAt:r}=z9(e);F.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Ni.dismiss(l.id);return}return setTimeout(()=>Ni.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=F.useCallback(()=>{r&&wd({type:6,time:Date.now()})},[r]),a=F.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,m)=>m<f&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+c,0)},[t]);return F.useEffect(()=>{t.forEach(i=>{if(i.dismissed)q9(i.id,i.removeDelay);else{let o=hp.get(i.id);o&&(clearTimeout(o),hp.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:H9,startPause:W9,endPause:n,calculateOffset:a}}},X9=Wl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Y9=Wl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,K9=Wl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,J9=ru("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${X9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Y9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${K9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Z9=Wl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Q9=ru("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Z9} 1s linear infinite;
`,eB=Wl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,tB=Wl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rB=ru("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${tB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nB=ru("div")`
  position: absolute;
`,aB=ru("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,iB=Wl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sB=ru("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${iB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,oB=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?F.createElement(sB,null,t):t:r==="blank"?null:F.createElement(aB,null,F.createElement(Q9,{...n}),r!=="loading"&&F.createElement(nB,null,r==="error"?F.createElement(J9,{...n}):F.createElement(rB,{...n})))},lB=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,cB=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,uB="0%{opacity:0;} 100%{opacity:1;}",dB="0%{opacity:1;} 100%{opacity:0;}",fB=ru("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hB=ru("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,pB=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=fT()?[uB,dB]:[lB(r),cB(r)];return{animation:t?`${Wl(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wl(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mB=F.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?pB(e.position||t||"top-center",e.visible):{opacity:0},i=F.createElement(oB,{toast:e}),o=F.createElement(hB,{...e.ariaProps},mg(e.message,e));return F.createElement(fB,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):F.createElement(F.Fragment,null,i,o))});F9(F.createElement);var xB=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=F.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return F.createElement("div",{ref:i,className:t,style:r},a)},gB=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:fT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},vB=Jv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,n1=16,bB=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=G9(r);return F.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:n1,left:n1,right:n1,bottom:n1,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=gB(d,f);return F.createElement(xB,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?vB:"",style:h},u.type==="custom"?mg(u.message,u):a?a(u):F.createElement(mB,{toast:u,position:d}))}))},j0=Ni;const yB={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},yj=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(yB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},wB=e=>e?yj(e):yj;var pT={exports:{}},mT={},xT={exports:{}},gT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=F;function _B(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NB=typeof Object.is=="function"?Object.is:_B,jB=ef.useState,SB=ef.useEffect,AB=ef.useLayoutEffect,CB=ef.useDebugValue;function EB(e,t){var r=t(),n=jB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return AB(function(){a.value=r,a.getSnapshot=t,Kb(a)&&i({inst:a})},[e,r,t]),SB(function(){return Kb(a)&&i({inst:a}),e(function(){Kb(a)&&i({inst:a})})},[e]),CB(r),r}function Kb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!NB(e,r)}catch{return!0}}function kB(e,t){return t()}var TB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kB:EB;gT.useSyncExternalStore=ef.useSyncExternalStore!==void 0?ef.useSyncExternalStore:TB;xT.exports=gT;var OB=xT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv=F,PB=OB;function IB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DB=typeof Object.is=="function"?Object.is:IB,MB=PB.useSyncExternalStore,FB=Zv.useRef,RB=Zv.useEffect,LB=Zv.useMemo,BB=Zv.useDebugValue;mT.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=FB(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=LB(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&o.hasValue){var m=o.value;if(a(m,p))return f=m}return f=p}if(m=f,DB(d,p))return m;var x=n(p);return a!==void 0&&a(m,x)?(d=p,m):(d=p,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=MB(e,i[0],i[1]);return RB(function(){o.hasValue=!0,o.value=l},[l]),BB(l),l};pT.exports=mT;var $B=pT.exports;const zB=Rr($B),vT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},{useDebugValue:UB}=le,{useSyncExternalStoreWithSelector:HB}=zB;let wj=!1;const WB=e=>e;function VB(e,t=WB,r){(vT?"production":void 0)!=="production"&&r&&!wj&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),wj=!0);const n=HB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return UB(n),n}const qB=e=>{(vT?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?wB(e):e,r=(n,a)=>VB(t,n,a);return Object.assign(r,t),r},GB=e=>qB,XB={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"};function YB(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const zp=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return zp(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return zp(n)(r)}}}},KB=(e,t)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,a);const d=zp(i.serialize),f=()=>{const g=i.partialize({...n()});let v;const y=d({state:g,version:i.version}).then(b=>u.setItem(i.name,b)).catch(b=>{v=b});if(v)throw v;return y},h=a.setState;a.setState=(g,v)=>{h(g,v),f()};const p=e((...g)=>{r(...g),f()},n,a);let m;const x=()=>{var g;if(!u)return;o=!1,l.forEach(y=>y(n()));const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,n()))||void 0;return zp(u.getItem.bind(u))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return m=i.merge(y,(b=n())!=null?b:p),r(m,!0),f()}).then(()=>{v==null||v(m,void 0),o=!0,c.forEach(y=>y(m))}).catch(y=>{v==null||v(void 0,y)})};return a.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},x(),m||p},JB=(e,t)=>(r,n,a)=>{let i={storage:YB(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,a);const d=()=>{const x=i.partialize({...n()});return u.setItem(i.name,{state:x,version:i.version})},f=a.setState;a.setState=(x,g)=>{f(x,g),d()};const h=e((...x)=>{r(...x),d()},n,a);a.getInitialState=()=>h;let p;const m=()=>{var x,g;if(!u)return;o=!1,l.forEach(y=>{var b;return y((b=n())!=null?b:h)});const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(x=n())!=null?x:h))||void 0;return zp(u.getItem.bind(u))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[_,S]=y;if(p=i.merge(S,(b=n())!=null?b:h),r(p,!0),_)return d()}).then(()=>{v==null||v(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return a.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||m(),p||h},ZB=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((XB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),KB(e,t)):JB(e,t),QB=ZB,ys=GB()(QB(e=>({session:null,sidebarCollapsed:!1,tasks:[],notifications:[{id:"1",type:"success",title:"Tâche complétée",message:"La maintenance du système de filtration a été effectuée avec succès.",timestamp:new Date(new Date().getTime()-35*6e4).toISOString(),read:!1,important:!0,category:"task",metadata:{taskId:"task-123"}},{id:"2",type:"info",title:"Employé arrivé",message:"Michel Dupont est arrivé sur le site de production à 8:15.",timestamp:new Date(new Date().getTime()-120*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"3",type:"warning",title:"Tâche en cours",message:"Le nettoyage des bassins est en cours depuis plus de 3 heures.",timestamp:new Date(new Date().getTime()-180*6e4).toISOString(),read:!1,important:!0,category:"task"},{id:"4",type:"alert",title:"Attention requise",message:"Niveau d'oxygène bas dans le bassin 3. Vérification requise.",timestamp:new Date(new Date().getTime()-15*6e4).toISOString(),read:!1,important:!0,category:"quality"},{id:"5",type:"success",title:"Livraison reçue",message:"La livraison de nourriture spéciale a été reçue et enregistrée.",timestamp:new Date(new Date().getTime()-240*6e4).toISOString(),read:!0,important:!1,category:"inventory"},{id:"6",type:"info",title:"Équipe de contrôle arrivée",message:"L'équipe de contrôle qualité est arrivée pour l'inspection mensuelle.",timestamp:new Date(new Date().getTime()-90*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"7",type:"success",title:"Mise à jour système",message:"La mise à jour du système de surveillance a été installée avec succès.",timestamp:new Date(new Date().getTime()-320*6e4).toISOString(),read:!0,important:!1,category:"system"},{id:"8",type:"warning",title:"Tâche en retard",message:"Le rapport hebdomadaire de production n'a pas encore été soumis.",timestamp:new Date(new Date().getTime()-420*6e4).toISOString(),read:!1,important:!0,category:"task"}],unreadCount:6,theme:"dark",batches:[{id:"1",batchNumber:"LOT-TEST-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date().toISOString()}],companyInfo:null,users:[],roles:[{id:"1",name:"Administrateur",description:"Gestion complète de l'application"},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches"},{id:"3",name:"Opérateur",description:"Gestion des lots et des tâches quotidiennes"}],suppliers:[],purchases:[],setSession:t=>e({session:t}),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),addNotification:t=>e(r=>{const n={...t,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};return{notifications:[...r.notifications,n],unreadCount:r.unreadCount+1}}),markAsRead:t=>e(r=>({notifications:r.notifications.map(n=>n.id===t?{...n,read:!0}:n),unreadCount:r.unreadCount-1})),markAllAsRead:()=>e(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0})),setTheme:t=>e({theme:t}),toggleTheme:()=>e(t=>({theme:t.theme==="dark"?"light":"dark"})),addBatch:t=>e(r=>({batches:[...r.batches,{...t,id:crypto.randomUUID()}]})),updateBatch:t=>e(r=>({batches:r.batches.map(n=>n.id===t.id?t:n)})),deleteBatch:t=>e(r=>({batches:r.batches.filter(n=>n.id!==t)})),setCompanyInfo:t=>e({companyInfo:t}),addUser:t=>e(r=>({users:[...r.users,{...t,id:crypto.randomUUID()}]})),updateUser:(t,r)=>e(n=>({users:n.users.map(a=>a.id===t?{...a,...r}:a)})),deleteUser:t=>e(r=>({users:r.users.filter(n=>n.id!==t)})),addRole:t=>e(r=>({roles:[...r.roles,{...t,id:crypto.randomUUID()}]})),updateRole:(t,r)=>e(n=>({roles:n.roles.map(a=>a.id===t?{...a,...r}:a)})),deleteRole:t=>e(r=>({roles:r.roles.filter(n=>n.id!==t)})),addSupplier:t=>e(r=>({suppliers:[...r.suppliers,{...t,id:crypto.randomUUID()}]})),updateSupplier:(t,r)=>e(n=>({suppliers:n.suppliers.map(a=>a.id===t?{...a,...r}:a)})),deleteSupplier:t=>e(r=>({suppliers:r.suppliers.filter(n=>n.id!==t)})),addPurchase:t=>e(r=>({purchases:[...r.purchases,{...t,id:crypto.randomUUID()}]})),updatePurchase:(t,r)=>e(n=>({purchases:n.purchases.map(a=>a.id===t?{...a,...r}:a)})),deletePurchase:t=>e(r=>({purchases:r.purchases.filter(n=>n.id!==t)})),resetSession:()=>e({session:null})}),{name:"oyster-cult-storage",partialize:e=>({companyInfo:e.companyInfo,users:e.users,batches:e.batches,theme:e.theme,roles:e.roles,suppliers:e.suppliers,purchases:e.purchases})})),e$=({onShowMobileMenu:e,onToggleNotifications:t,onShowEmergency:r,onEmergencyClick:n,onToggleMessages:a,unreadMessagesCount:i=0})=>{const{unreadCount:o}=ys(),l=So(),c=Lm(),u=()=>{c.pathname!=="/dashboard"&&l("/dashboard")};return s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 hidden md:block",children:s.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 md:px-6 lg:px-8 w-full transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.1) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",height:"97px"},children:[s.jsxs("div",{className:"flex items-center h-full",children:[s.jsxs("button",{className:`
              inline-flex items-center justify-center font-medium rounded-lg transition-colors
              text-white/60 hover:text-white hover:bg-white/10
              p-2.5 relative group
              will-change-transform
            `,onClick:e,style:{transform:"translate3d(0,0,0)"},"aria-label":"Ouvrir le menu",children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{style:{width:"24px",height:"24px"},className:"relative flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[s.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})]}),s.jsx("div",{className:"h-full w-px bg-gradient-to-b from-transparent via-white/10 to-transparent ml-2 hidden md:block",style:{transform:"translate3d(0,0,0)",height:"calc(100% - 16px)",marginTop:"8px",willChange:"transform"}})]}),s.jsx(Ne.div,{className:"cursor-pointer hidden sm:block",style:{textAlign:"center"},onClick:u,initial:!1,children:s.jsx(Ne.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:s.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[s.jsx(Ne.div,{className:"flex items-center justify-center relative mx-8",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:s.jsx("div",{className:"flex flex-col items-center relative",children:s.jsx("div",{style:{width:"4.5rem",height:"4rem",transform:"translateX(2px)"},className:"relative flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[s.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})})}),s.jsx(Ne.span,{className:"text-[4rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap"},children:"OYSTER"}),s.jsx(Ne.span,{className:"text-[4rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"1rem",whiteSpace:"nowrap"},children:"CULT"})]})})}),s.jsx(Ne.div,{className:"absolute left-1/2 cursor-pointer sm:hidden",style:{transform:"translate3d(-50%, 2px, 0)"},onClick:u,initial:!1,children:s.jsx(Ne.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:s.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[s.jsx(Ne.div,{className:"flex items-center justify-center relative mx-2",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:s.jsx("div",{className:"flex flex-col items-center relative",children:s.jsx("div",{style:{width:"2.5rem",height:"2.5rem",transform:"translateX(1px)"},className:"relative flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[s.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})})}),s.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[s.jsx(Ne.span,{className:"text-[2rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",lineHeight:"1"},children:"OYSTER"}),s.jsx(Ne.span,{className:"text-[2rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",lineHeight:"1"},children:"CULT"})]})]})})}),s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:a,"aria-label":"Afficher les messages",style:{transform:"translate3d(0,0,0)"},children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-messages-square",children:[s.jsx("path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z"}),s.jsx("path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"})]}),i>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-xs font-bold text-white shadow-[0_0_15px_rgba(0,210,255,0.5),0_0_5px_rgba(0,0,0,0.3)_inset] min-w-[20px] min-h-[20px]","aria-label":`${i} messages non lus`,children:i})]}),s.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:t,"aria-label":"Afficher les notifications",style:{transform:"translate3d(0,0,0)"},children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-bell",children:[s.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),s.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-cyan-500 text-xs font-bold text-white shadow-[0_0_10px_rgba(0,210,255,0.5)]",children:o})]})]})})]})})},t$={Principal:{color:"from-blue-500/30 to-blue-600/10",textColor:"text-blue-300"},"Gestion des stocks":{color:"from-green-500/30 to-green-600/10",textColor:"text-green-300"},Commercial:{color:"from-purple-500/30 to-purple-600/10",textColor:"text-purple-300"},Administration:{color:"from-amber-500/30 to-amber-600/10",textColor:"text-amber-300"},Paramètres:{color:"from-cyan-500/30 to-cyan-600/10",textColor:"text-cyan-300"},Surveillance:{color:"from-red-500/30 to-red-600/10",textColor:"text-red-300"}},_j=[{category:"Principal",items:[{path:"/dashboard",label:"Tableau de bord",icon:s.jsx(Xv,{size:22})},{path:"/tasks",label:"Tâches",icon:s.jsx(Dw,{size:22})},{path:"/analyses",label:"Analyses",icon:s.jsx(_n,{size:22}),highlight:!0,color:"#0d9488"}]},{category:"Gestion des stocks",items:[{path:"/stocks",label:"Stocks",icon:s.jsx(si,{size:22}),badge:"Nouveau"},{path:"/traceability",label:"Traçabilité",icon:s.jsx(Go,{size:22})}]},{category:"Commercial",items:[{path:"/network",label:"Entre Pro",icon:s.jsx(Pf,{size:22})},{path:"/suppliers",label:"Fournisseurs",icon:s.jsx(J0,{size:22})},{path:"/purchases",label:"Commandes",icon:s.jsx(Bm,{size:22}),color:"#3b82f6"},{path:"/sales",label:"Ventes",icon:s.jsx(Bp,{size:22})},{path:"/shop",label:"Boutique",icon:s.jsx(Vk,{size:22})}]},{category:"Administration",items:[{path:"/accounting",label:"Comptabilité",icon:s.jsx($L,{size:22}),badge:"2 tâches",color:"rgb(160, 38, 72)"},{path:"/hr",label:"Gestion RH",icon:s.jsx(ki,{size:22}),badge:"2 tâches",color:"rgb(160, 38, 72)"},{path:"/digital-vault",label:"Coffre fort numérique",icon:s.jsx(dg,{size:22}),color:"rgb(56, 189, 248)"},{path:"/profile",label:"Mon Espace",icon:s.jsx($p,{size:22})}]},{category:"Paramètres",items:[{path:"/config",label:"Configuration",icon:s.jsx(Yv,{size:22})}]},{category:"Surveillance",items:[{path:"/surveillance",label:"Surveillance",icon:s.jsx(vd,{size:22}),ariaLabel:"Accéder à la surveillance vidéo"}]}];function r$({showMobileMenu:e,onCloseMobileMenu:t,onEmergencyClick:r}){const n=Lm(),a=So(),{setSession:i}=ys(),[o,l]=F.useState(!1),[c,u]=F.useState(null),[d,f]=F.useState(null),[h,p]=F.useState(!1),[m,x]=F.useState(window.innerWidth<1024),[g,v]=F.useState(!0);F.useEffect(()=>{const C=setTimeout(()=>{v(!1)},300);return()=>clearTimeout(C)},[]),F.useEffect(()=>{const C=()=>{const P=window.innerWidth<1024;x(P),m&&!P&&(l(!1),p(!1),e&&t())};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[m,e,t]);const y=()=>{i(null),a("/auth")},b=()=>{p(!0),l(!o),setTimeout(()=>p(!1),300)},_={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:C=>({opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{delay:C*.03+.1,duration:.3,type:"spring",stiffness:300,damping:25}})},S={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:{opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{opacity:{duration:.3},x:{duration:.2,type:"spring",stiffness:300}}},exit:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap",transition:{opacity:{duration:.2},x:{duration:.2}}}},N={expanded:{width:"260px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"90px",transition:{type:"spring",stiffness:300,damping:30}},mobileHidden:{transform:"translateX(-100%)",transition:{type:"spring",stiffness:400,damping:30}},mobileVisible:{transform:"translateX(0)",width:"85vw",maxWidth:"300px",transition:{type:"spring",stiffness:400,damping:30}}},j={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1,duration:.2}}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`
          fixed inset-0 z-40 backdrop-blur-sm bg-black/50 lg:hidden
          ${e?"opacity-100":"opacity-0 pointer-events-none"}
          transition-opacity duration-300
        `,onClick:t}),s.jsx(Ne.div,{className:`
          fixed inset-y-0 left-0 z-50 overflow-x-hidden
          transition-all duration-300 ease-in-out rounded-tr-3xl rounded-br-3xl
          ${m?"hidden lg:block":""}
        `,initial:!g,animate:o?"collapsed":"expanded",variants:N,transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs(Ne.div,{className:"p-6 flex items-center justify-between border-b border-white/10 relative overflow-hidden",initial:{opacity:0,transform:"translateY(-10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent opacity-50"}),s.jsx(hr,{mode:"wait",children:o?s.jsx(Ne.div,{className:"flex items-center justify-center w-full py-2 relative z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"collapsed-logo"):s.jsx(Ne.div,{className:"flex items-center justify-between px-4 py-2 relative z-10 w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"relative z-10"})})},"expanded-logo")}),s.jsx("div",{className:`flex justify-center ${o?"w-full":""}`,children:s.jsx(Ne.button,{onClick:b,className:`
                  rounded-lg hidden lg:flex items-center justify-center transition-all duration-300 relative z-10
                  p-2.5 bg-white/15 hover:bg-white/25 border border-white/20
                `,whileHover:{scale:1.1},whileTap:{scale:.95},disabled:h||m,"aria-label":o?"Déplier la barre latérale":"Replier la barre latérale",style:{display:m?"none":""},children:s.jsx("div",{className:"flex items-center",children:o?s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:s.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:s.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})})]}),s.jsx("nav",{className:"flex-1 space-y-2 md:space-y-4 p-3 md:p-4 overflow-y-auto custom-scrollbar",children:_j.map((C,P)=>{const M=t$[C.category];return s.jsxs(Ne.div,{className:"mb-8",initial:{opacity:0,transform:"translateY(20px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1+P*.05},onMouseEnter:()=>u(C.category),onMouseLeave:()=>u(null),children:[s.jsx(hr,{children:!o&&s.jsxs(Ne.div,{className:"px-4 mb-3 relative rounded-lg overflow-hidden",initial:g?{opacity:1,x:0}:"hidden",animate:"visible",exit:"exit",variants:S,whileHover:{scale:1.02},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${M.color} opacity-0 rounded-lg ${c===C.category?"opacity-30":""} transition-opacity duration-300`}),s.jsx("p",{className:`text-xs font-medium ${M.textColor} uppercase tracking-wider relative z-10 whitespace-nowrap`,children:C.category})]})}),s.jsx("div",{className:"space-y-2",children:C.items.map((k,E)=>{const R=n.pathname===k.path,H=k.color||(M.textColor.includes("blue")?"#3b82f6":M.textColor.includes("green")?"#10b981":M.textColor.includes("purple")?"#8b5cf6":M.textColor.includes("amber")?"#f59e0b":"#06b6d4");return s.jsx(Ne.div,{custom:E,variants:_,initial:g?{opacity:1,x:0}:"hidden",animate:"visible",whileHover:{scale:1.03,transition:{duration:.2}},onMouseEnter:()=>f(k.path),onMouseLeave:()=>f(null),children:s.jsxs(oj,{to:k.path,className:`
                              relative flex items-center ${o?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                              transition-all duration-200 ease-in-out overflow-hidden
                              ${R?"bg-white/10 text-white shadow-[0_0_12px_rgba(255,255,255,0.1)]":"text-white/70 hover:bg-white/8 hover:text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.07)]"}
                            `,style:{background:R?"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:R?"rgba(0, 0, 0, 0.3) 0px 4px 8px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset, rgba(0, 0, 0, 0.5) 0px 2px 4px inset, rgba(255, 255, 255, 0.1) 0px 0px 8px":"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset",border:"none",transform:R?"translateY(-1px)":"none"},children:[s.jsx("div",{className:`
                                relative z-10 transition-all duration-200
                                flex items-center justify-center w-7 h-7 rounded-full
                                ${o?"mx-auto":"mr-3"}
                                ${R?"bg-white/15 text-white":"text-white/70 group-hover:text-white"}
                              `,style:{boxShadow:R?"rgba(0, 0, 0, 0.3) 0px 2px 4px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset":"none"},children:k.icon&&le.cloneElement(k.icon,{className:`${o?"w-5 h-5":"w-4 h-4"}`,style:{color:R?H:"",filter:R?"drop-shadow(0 0 2px rgba(255,255,255,0.3))":""}})}),s.jsx(hr,{children:!o&&s.jsxs(Ne.div,{className:"flex-1 flex items-center justify-between",children:[s.jsx(Ne.span,{className:`ml-2 md:ml-3 relative z-10 ${R?"font-medium":""} whitespace-nowrap`,variants:j,initial:"hidden",animate:"visible",exit:"hidden",children:k.label}),k.badge&&s.jsx(Ne.span,{className:"ml-auto bg-brand-burgundy text-white text-xs px-2 py-1 rounded-full",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1},children:k.badge})]})}),o&&s.jsx(hr,{children:d===k.path&&s.jsxs(Ne.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:`
                                      absolute left-14 px-4 py-2 rounded-lg z-50
                                      text-sm font-medium whitespace-nowrap
                                      bg-gradient-to-r 
                                      ${M.color.replace("/30","/70").replace("/10","/40")} 
                                      backdrop-blur-sm border border-white/10
                                    `,style:k.color?{boxShadow:`0 0 10px ${k.color}50`,background:`linear-gradient(to right, ${k.color}30, ${k.color}05)`}:{},children:[s.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-2 h-2 rotate-45",style:{background:k.color?`${k.color}30`:M.textColor.includes("blue")?"rgba(59,130,246,0.3)":M.textColor.includes("green")?"rgba(16,185,129,0.3)":M.textColor.includes("purple")?"rgba(139,92,246,0.3)":M.textColor.includes("amber")?"rgba(245,158,11,0.3)":"rgba(6,182,212,0.3)"}}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-white font-medium",children:k.label}),k.badge&&s.jsx("span",{className:"ml-2 bg-brand-burgundy text-white text-xs px-2 py-0.5 rounded-full",children:k.badge})]})]})}),R&&s.jsx(Ne.div,{className:"absolute left-0 w-1.5 h-8 rounded-r-md",style:{background:`linear-gradient(to bottom, ${k.color||(M.textColor.includes("blue")?"#3b82f6":M.textColor.includes("green")?"#10b981":M.textColor.includes("purple")?"#8b5cf6":M.textColor.includes("amber")?"#f59e0b":"#06b6d4")}, transparent)`},initial:{height:0},animate:{height:24},transition:{duration:.2}})]})},k.path)})})]},P)})}),s.jsx(Ne.div,{className:"p-4 border-t border-white/10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs(Ne.button,{onClick:r,className:`
                  flex items-center ${o?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  relative group w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},style:{background:"linear-gradient(135deg, rgba(220, 38, 38, 0.95) 0%, rgba(185, 28, 28, 0.85) 100%)",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.35), inset 0 1px 3px rgba(255, 255, 255, 0.2)"},"aria-label":"Appel d'urgence",children:[s.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${o?"mx-auto":"mr-3"}
                  bg-white/15 text-white
                `,children:s.jsx(Oi,{className:"w-4 h-4"})}),!o&&s.jsx("span",{className:"font-medium",children:"Appel d'urgence"})]}),s.jsxs(Ne.button,{onClick:y,className:`
                  flex items-center ${o?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  bg-white/10 hover:bg-white/15 text-white/80 hover:text-white w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},"aria-label":"Se déconnecter",children:[s.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${o?"mx-auto":"mr-3"}
                  text-white/70 group-hover:text-white
                `,children:s.jsx(lj,{className:"w-4 h-4"})}),!o&&s.jsx("span",{className:"font-medium",children:"Déconnexion"})]})]})})]})}),e&&s.jsx(Ne.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"fixed inset-0 z-50 bg-black/70 lg:hidden",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:s.jsx("div",{className:"absolute inset-y-0 left-0 w-full max-w-xs",children:s.jsx(Ne.div,{className:"h-full overflow-y-auto rounded-tr-3xl rounded-br-3xl",initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/10",children:[s.jsxs("div",{className:"text-white flex items-center",children:[s.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"OYSTER"}),s.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"0.5rem",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"CULT"})]}),s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 text-white flex items-center justify-center",children:s.jsx(Mt,{className:"w-6 h-6"})})]}),s.jsx("nav",{className:"flex-1 space-y-2 p-4 overflow-y-auto",children:_j.map((C,P)=>s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-xs font-medium text-white/70 uppercase tracking-wider px-4 mb-2",children:C.category}),s.jsx("div",{className:"space-y-1",children:C.items.map(M=>{const k=n.pathname===M.path;return s.jsxs(oj,{to:M.path,className:`
                                flex items-center px-4 py-3 rounded-lg text-sm
                                ${k?"bg-white/20 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                              `,onClick:t,children:[M.icon&&le.cloneElement(M.icon,{className:"w-5 h-5 mr-3"}),s.jsx("span",{children:M.label})]},M.path)})})]},P))}),s.jsxs("div",{className:"p-4 pt-2 border-t border-white/10 space-y-3",children:[s.jsxs("button",{onClick:()=>{r(),t()},className:"flex items-center justify-center w-full px-4 py-3 bg-red-600 rounded-lg text-white",children:[s.jsx(Oi,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Appel d'urgence"})]}),s.jsxs("button",{onClick:y,className:"flex items-center justify-center w-full px-4 py-3 bg-white/10 rounded-lg text-white",children:[s.jsx(lj,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Déconnexion"})]})]})]})})})})]})}function ka(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Jc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function n$(e,t){const r=ka(e);return isNaN(t)?Jc(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const bT=6048e5,a$=864e5,i$=36e5;let s$={};function Qv(){return s$}function tf(e,t){var l,c,u,d;const r=Qv(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ka(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function xg(e){return tf(e,{weekStartsOn:1})}function yT(e){const t=ka(e),r=t.getFullYear(),n=Jc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=xg(n),i=Jc(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=xg(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function gg(e){const t=ka(e);return t.setHours(0,0,0,0),t}function Nj(e){const t=ka(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function o$(e,t){const r=gg(e),n=gg(t),a=+r-Nj(r),i=+n-Nj(n);return Math.round((a-i)/a$)}function l$(e){const t=yT(e),r=Jc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),xg(r)}function wT(e,t){const r=t*7;return n$(e,r)}function c$(e,t){const r=gg(e),n=gg(t);return+r==+n}function u$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function d$(e){if(!u$(e)&&typeof e!="number")return!1;const t=ka(e);return!isNaN(Number(t))}function f$(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function h$(e,t){return+ka(e)-+ka(t)}function p$(e,t,r){const n=h$(e,t)/i$;return f$(r==null?void 0:r.roundingMethod)(n)}function m$(e,t){const r=ka(e.start),n=ka(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(ka(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function x$(e){const t=ka(e),r=Jc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function g$(e,t){const r=t==null?void 0:t.weekStartsOn,n=ka(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const v$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b$=(e,t,r)=>{let n;const a=v$[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function $0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const y$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},w$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},N$={date:$0({formats:y$,defaultWidth:"full"}),time:$0({formats:w$,defaultWidth:"full"}),dateTime:$0({formats:_$,defaultWidth:"full"})},j$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},S$=(e,t,r,n)=>j$[e];function Uo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const A$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},E$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},k$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},T$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},P$=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},I$={ordinalNumber:P$,era:Uo({values:A$,defaultWidth:"wide"}),quarter:Uo({values:C$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Uo({values:E$,defaultWidth:"wide"}),day:Uo({values:k$,defaultWidth:"wide"}),dayPeriod:Uo({values:T$,defaultWidth:"wide",formattingValues:O$,defaultFormattingWidth:"wide"})};function Ho(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?M$(l,f=>f.test(o)):D$(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function D$(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function M$(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function _T(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const F$=/^(\d+)(th|st|nd|rd)?/i,R$=/\d+/i,L$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B$={any:[/^b/i,/^(a|c)/i]},$$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z$={any:[/1/i,/2/i,/3/i,/4/i]},U$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X$={ordinalNumber:_T({matchPattern:F$,parsePattern:R$,valueCallback:e=>parseInt(e,10)}),era:Ho({matchPatterns:L$,defaultMatchWidth:"wide",parsePatterns:B$,defaultParseWidth:"any"}),quarter:Ho({matchPatterns:$$,defaultMatchWidth:"wide",parsePatterns:z$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ho({matchPatterns:U$,defaultMatchWidth:"wide",parsePatterns:H$,defaultParseWidth:"any"}),day:Ho({matchPatterns:W$,defaultMatchWidth:"wide",parsePatterns:V$,defaultParseWidth:"any"}),dayPeriod:Ho({matchPatterns:q$,defaultMatchWidth:"any",parsePatterns:G$,defaultParseWidth:"any"})},Y$={code:"en-US",formatDistance:b$,formatLong:N$,formatRelative:S$,localize:I$,match:X$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K$(e){const t=ka(e);return o$(t,x$(t))+1}function J$(e){const t=ka(e),r=+xg(t)-+l$(t);return Math.round(r/bT)+1}function NT(e,t){var d,f,h,p;const r=ka(e),n=r.getFullYear(),a=Qv(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Jc(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=tf(o,t),c=Jc(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=tf(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Z$(e,t){var l,c,u,d;const r=Qv(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=NT(e,t),i=Jc(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),tf(i,t)}function Q$(e,t){const r=ka(e),n=+tf(r,t)-+Z$(r,t);return Math.round(n/bT)+1}function Mr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const xc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mr(r+1,2)},d(e,t){return Mr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mr(e.getHours()%12||12,t.length)},H(e,t){return Mr(e.getHours(),t.length)},m(e,t){return Mr(e.getMinutes(),t.length)},s(e,t){return Mr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Mr(a,t.length)}},i0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jj={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return xc.y(e,t)},Y:function(e,t,r,n){const a=NT(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Mr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mr(i,t.length)},R:function(e,t){const r=yT(e);return Mr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return xc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Q$(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Mr(a,t.length)},I:function(e,t,r){const n=J$(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):xc.d(e,t)},D:function(e,t,r){const n=K$(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Mr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=i0.noon:n===0?a=i0.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=i0.evening:n>=12?a=i0.afternoon:n>=4?a=i0.morning:a=i0.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):xc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):xc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):xc.s(e,t)},S:function(e,t){return xc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Aj(n);case"XXXX":case"XX":return Cu(n);case"XXXXX":case"XXX":default:return Cu(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Aj(n);case"xxxx":case"xx":return Cu(n);case"xxxxx":case"xxx":default:return Cu(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sj(n,":");case"OOOO":default:return"GMT"+Cu(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sj(n,":");case"zzzz":default:return"GMT"+Cu(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Mr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Mr(n,t.length)}};function Sj(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Mr(i,2)}function Aj(e,t){return e%60===0?(e>0?"-":"+")+Mr(Math.abs(e)/60,2):Cu(e,t)}function Cu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Mr(Math.trunc(n/60),2),i=Mr(n%60,2);return r+a+t+i}const Cj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ez=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Cj(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Cj(n,t)).replace("{{time}}",jT(a,t))},tz={p:jT,P:ez},rz=/^D+$/,nz=/^Y+$/,az=["D","DD","YY","YYYY"];function iz(e){return rz.test(e)}function sz(e){return nz.test(e)}function oz(e,t,r){const n=lz(e,t,r);if(console.warn(n),az.includes(e))throw new RangeError(n)}function lz(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dz=/^'([^]*?)'?$/,fz=/''/g,hz=/[a-zA-Z]/;function It(e,t,r){var d,f,h,p,m,x,g,v;const n=Qv(),a=(r==null?void 0:r.locale)??n.locale??Y$,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=ka(e);if(!d$(l))throw new RangeError("Invalid time value");let c=t.match(uz).map(y=>{const b=y[0];if(b==="p"||b==="P"){const _=tz[b];return _(y,a.formatLong)}return y}).join("").match(cz).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:pz(y)};if(jj[b])return{isToken:!0,value:y};if(b.match(hz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&sz(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&iz(b))&&oz(b,t,String(e));const _=jj[b[0]];return _(l,b,a.localize,u)}).join("")}function pz(e){const t=e.match(dz);return t?t[1].replace(fz,"'"):e}function mz(e,t){return wT(e,-t)}const xz={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},gz=(e,t,r)=>{let n;const a=xz[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},vz={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},bz={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yz={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wz={date:$0({formats:vz,defaultWidth:"full"}),time:$0({formats:bz,defaultWidth:"full"}),dateTime:$0({formats:yz,defaultWidth:"full"})},_z={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Nz=(e,t,r,n)=>_z[e],jz={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Sz={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Az={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Cz={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Ez={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},kz=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"ère":"er":i="ème",r+i},Tz=["MMM","MMMM"],Oz={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&Tz.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:kz,era:Uo({values:jz,defaultWidth:"wide"}),quarter:Uo({values:Sz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Uo({values:Az,defaultWidth:"wide"}),day:Uo({values:Cz,defaultWidth:"wide"}),dayPeriod:Uo({values:Ez,defaultWidth:"wide"})},Pz=/^(\d+)(ième|ère|ème|er|e)?/i,Iz=/\d+/i,Dz={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Mz={any:[/^av/i,/^ap/i]},Fz={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Rz={any:[/1/i,/2/i,/3/i,/4/i]},Lz={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Bz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},$z={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},zz={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Uz={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},Hz={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Wz={ordinalNumber:_T({matchPattern:Pz,parsePattern:Iz,valueCallback:e=>parseInt(e)}),era:Ho({matchPatterns:Dz,defaultMatchWidth:"wide",parsePatterns:Mz,defaultParseWidth:"any"}),quarter:Ho({matchPatterns:Fz,defaultMatchWidth:"wide",parsePatterns:Rz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ho({matchPatterns:Lz,defaultMatchWidth:"wide",parsePatterns:Bz,defaultParseWidth:"any"}),day:Ho({matchPatterns:$z,defaultMatchWidth:"wide",parsePatterns:zz,defaultParseWidth:"any"}),dayPeriod:Ho({matchPatterns:Uz,defaultMatchWidth:"any",parsePatterns:Hz,defaultParseWidth:"any"})},cr={code:"fr",formatDistance:gz,formatLong:wz,formatRelative:Nz,localize:Oz,match:Wz,options:{weekStartsOn:1,firstWeekContainsDate:4}},Vz=[{label:"Toutes",value:"all"},{label:"Non lues",value:"unread"},{label:"Importantes",value:"important"}];function qz({onClose:e}){const{notifications:t,markAsRead:r,markAllAsRead:n,addNotification:a}=ys(),[i,o]=F.useState("all"),[l,c]=F.useState(""),[u,d]=F.useState(!1);F.useState(null);const f=F.useMemo(()=>t.filter(x=>!x.read).length,[t]);F.useEffect(()=>{const x=g=>{g.key==="Escape"&&e()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e]),F.useEffect(()=>{const x=g=>{const v=document.querySelector(".notifications-panel"),y=document.querySelector('[data-notification-bell="true"]');y&&y.contains(g.target)||v&&!v.contains(g.target)&&e()};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[e]);const h=x=>{r(x)},p=(x,g)=>{g.stopPropagation();const v=t.find(y=>y.id===x);v&&(a({type:v.type,title:v.title,message:v.message,important:!v.important,category:v.category,metadata:v.metadata}),r(x))},m=(x,g)=>{g.stopPropagation(),r(x)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50",onClick:e,"aria-hidden":"true"}),s.jsx(Ne.div,{className:"notifications-panel fixed inset-y-0 right-0 w-full max-w-md backdrop-blur-md shadow-2xl z-[51] margin-top-65",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(5, 20, 43, 0.92) 0%, rgba(10, 120, 115, 0.88) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) -10px 0px 30px -5px, rgba(0, 0, 0, 0.3) -5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs(Ne.div,{className:"p-6 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Z0,{size:24,className:"text-brand-burgundy"}),f>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-burgundy rounded-full flex items-center justify-center text-xs text-white",children:f})]}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!u),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:s.jsx(An,{size:20})}),s.jsx(Ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:s.jsx(Mt,{size:20})})]})]}),s.jsx(hr,{children:u&&s.jsx(Ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"relative mt-4",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),s.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all"})]})})}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("div",{className:"flex space-x-2",children:Vz.map(x=>s.jsx(Ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(x.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${i===x.value?"bg-brand-burgundy text-white":"bg-white/5 text-white/60 hover:bg-white/10 hover:text-white"}`,children:x.label},x.value))}),s.jsx(Ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"text-sm text-brand-burgundy hover:text-brand-burgundy/80 transition-colors",children:"Tout marquer comme lu"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s.jsx(hr,{mode:"popLayout",children:t.filter(x=>i==="unread"?!x.read:i==="important"?x.important:!0).filter(x=>l?x.title.toLowerCase().includes(l.toLowerCase())||x.message.toLowerCase().includes(l.toLowerCase()):!0).map((x,g)=>s.jsx(Ne.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:g*.05},className:`p-4 transition-colors relative cursor-pointer hover:bg-white/10 ${x.read?"bg-transparent":"bg-white/5 shadow-[0_0_15px_rgba(0,210,255,0.2),0_0_8px_rgba(0,0,0,0.2)_inset] border border-cyan-400/40 hover:border-cyan-400/60 rounded-xl"}`,onClick:()=>h(x.id),tabIndex:0,role:"button","aria-label":`Notification: ${x.title}. ${x.read?"Lu":"Non lu"}`,onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&h(x.id)},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${x.type==="alert"?"bg-red-500/20":x.type==="success"?"bg-green-500/20":x.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"}`,children:x.type==="alert"?s.jsx(li,{className:"text-red-400",size:20}):x.type==="success"?s.jsx(ad,{className:"text-green-400",size:20}):x.type==="warning"?s.jsx(li,{className:"text-yellow-400",size:20}):s.jsx(Z0,{className:"text-blue-400",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx("h3",{className:`font-medium ${x.type==="alert"?"text-red-400":x.type==="success"?"text-green-400":x.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:x.title}),s.jsx("p",{className:"text-sm text-white/70 mt-1",children:x.message})]})}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-white/40",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ci,{size:14,className:"mr-1"}),It(new Date(x.timestamp),"PPp",{locale:cr})]}),x.important&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"•"}),s.jsx("div",{className:"text-brand-burgundy",children:"Important"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-1",children:[x.read?s.jsx(Ne.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-transparent text-white/40 hover:text-white/60 transition-colors rounded-full hover:bg-white/5","aria-label":"Déjà lu",title:"Déjà lu",children:s.jsx(Mw,{size:16})}):s.jsx(Ne.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.stopPropagation(),h(x.id)},className:"p-2 bg-brand-burgundy/20 text-white/80 hover:text-white transition-colors rounded-full hover:bg-brand-burgundy/40","aria-label":"Marquer comme lu",title:"Marquer comme lu",children:s.jsx(Mw,{size:16})}),s.jsx(Ne.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-2 rounded-full ${x.important?"bg-brand-burgundy/20 text-brand-burgundy hover:bg-brand-burgundy/40":"bg-transparent text-white/40 hover:text-white/60 hover:bg-white/5"}`,onClick:v=>p(x.id,v),"aria-label":x.important?"Retirer des importants":"Marquer comme important",title:x.important?"Retirer des importants":"Marquer comme important",children:s.jsx(qi,{size:16})}),s.jsx(Ne.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>m(x.id,v),className:"p-2 bg-transparent text-white/40 hover:text-red-400 transition-colors rounded-full hover:bg-white/5","aria-label":"Supprimer",title:"Supprimer",children:s.jsx(Oa,{size:16})})]})]})},x.id))})})]})})]})}const _d=e=>{const t=F.useRef(null);return F.useEffect(()=>{const r=a=>{t.current&&!t.current.contains(a.target)&&e()},n=setTimeout(()=>{document.addEventListener("mousedown",r)},100);return()=>{clearTimeout(n),document.removeEventListener("mousedown",r)}},[e]),t},Gz=(e,t)=>{const[r,n]=F.useState(0),[a,i]=F.useState(0),[o,l]=F.useState(0),[c,u]=F.useState(!1);return{handlers:{onTouchStart:p=>{n(p.touches[0].clientY),i(Date.now())},onTouchMove:async p=>{if(c)return;const x=p.touches[0].clientY-r,g=Date.now()-a;if(x>100&&g<300&&e){u(!0);try{await e()}finally{u(!1)}}},onTouchEnd:p=>{const m=Date.now();m-o<300&&t&&t(),l(m)}},isRefreshing:c}},Xz={sm:"max-w-md",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function ms({isOpen:e,onClose:t,children:r,title:n,size:a="md",showCloseButton:i=!0,className:o=""}){const l=_d(t);return F.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[e,t]),s.jsx(hr,{children:e&&s.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto custom-scrollbar",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsxs(Ne.div,{ref:l,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`w-full ${Xz[a]} bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md rounded-lg shadow-xl ${o}`,children:[(n||i)&&s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n&&s.jsx("h2",{className:"text-xl font-bold text-white",children:n}),i&&s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsx("div",{className:"p-6",children:r})]})})})]})})}function Yz({isOpen:e,onClose:t}){const[r,n]=F.useState(""),[a,i]=F.useState(""),[o,l]=F.useState(""),[c,u]=F.useState(8),[d,f]=F.useState(!0),[h,p]=F.useState(!1),[m,x]=F.useState(!1),g=[{id:"accident",label:"Accident de travail"},{id:"equipment",label:"Panne critique"},{id:"environmental",label:"Incident environnemental"},{id:"security",label:"Problème de sécurité"},{id:"boatIssue",label:"Panne en mer"}],v=[{name:"SAMU",number:"15",type:"medical"},{name:"Pompiers",number:"18",type:"fire"},{name:"Police",number:"17",type:"security"},{name:"Numéro d'urgence européen",number:"112",type:"all"},{name:"CROSS",number:"196",type:"sea"}];F.useEffect(()=>{let N;return e&&d&&c>0?N=setTimeout(()=>{u(j=>j-1)},1e3):c===0&&(x(!0),f(!1)),()=>{N&&clearTimeout(N)}},[e,c,d]),F.useEffect(()=>{e&&(u(8),f(!0),p(!1),x(!1))},[e]);const y=F.useCallback(()=>{f(!1),p(!0)},[]),b=F.useCallback(()=>{x(!0),n("boatIssue")},[]),_=F.useCallback(()=>{x(!0)},[]),S=F.useCallback(()=>{x(!1),t()},[t]);return m?s.jsxs("div",{className:"fixed inset-0 bg-red-900 z-50 flex flex-col items-center justify-center p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-white mb-4",children:r==="boatIssue"?s.jsx(zL,{className:"text-red-600 h-12 w-12"}):s.jsx(li,{className:"text-red-600 h-12 w-12"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:r==="boatIssue"?"Appel d'aide en mer envoyé":"Appel d'urgence activé"}),s.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:r==="boatIssue"?"Une notification a été envoyée aux producteurs à proximité et aux services de secours. Quelqu'un viendra vous prêter main forte rapidement.":"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),s.jsxs("div",{className:"p-6 bg-white/10 rounded-lg max-w-2xl w-full mb-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Pi,{className:"text-white mr-3",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Localisation"}),s.jsx("p",{className:"text-white/70",children:o||"Position GPS transmise automatiquement"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ci,{className:"text-white mr-3",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Heure de l'appel"}),s.jsx("p",{className:"text-white/70",children:new Date().toLocaleTimeString()})]})]})]}),s.jsx("button",{onClick:S,className:"px-8 py-3 bg-white text-red-600 rounded-lg font-bold hover:bg-white/90 transition-colors",children:"Fermer"})]}):s.jsx(ms,{isOpen:e,onClose:t,title:"Appel d'Urgence",size:"xl",showCloseButton:!1,className:"!bg-gradient-to-br !from-red-900/95 !to-brand-dark/95",children:s.jsxs("div",{className:"space-y-6",children:[d&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("p",{className:"text-white text-lg mb-2",children:"Appel automatique dans :"}),s.jsx("div",{className:"flex justify-center items-center mb-4",children:s.jsx("div",{className:"flex items-center justify-center bg-red-500 text-white w-16 h-16 rounded-full text-3xl font-bold",children:c})}),s.jsx("button",{onClick:y,className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Arrêter le compte à rebours"})]}),h&&s.jsx("div",{className:"mb-6 p-4 border border-red-500/30 rounded-lg bg-red-500/10",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(UL,{className:"text-red-500 mr-3 mt-1",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"En panne en mer ?"}),s.jsx("p",{className:"text-white/70 mb-4",children:"Vous êtes en panne en mer avec votre bateau ? Cliquez ici pour envoyer un appel d'aide immédiat. Une notification sera envoyée aux producteurs à proximité, et quelqu'un viendra rapidement vous prêter main forte."}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Je suis en panne"})]})]})}),s.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Numéros d'urgence"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:v.map(N=>s.jsxs("a",{href:`tel:${N.number}`,className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx(Oi,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:N.name}),s.jsx("div",{className:"text-red-400 text-lg font-bold",children:N.number})]})]},N.number))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type d'urgence"}),s.jsxs("select",{value:r,onChange:N=>n(N.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[s.jsx("option",{value:"",children:"Sélectionner le type d'urgence"}),g.map(N=>s.jsx("option",{value:N.id,children:N.label},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description de l'urgence"}),s.jsx("textarea",{value:a,onChange:N=>i(N.target.value),rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Décrivez la situation d'urgence..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Localisation"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Précisez l'emplacement..."})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:_,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Signaler l'urgence"})]})]})})}function br({variant:e="primary",size:t="md",fullWidth:r=!1,className:n="",children:a,...i}){const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors",l={primary:"bg-brand-primary text-white hover:bg-brand-primary/90",secondary:"bg-white/10 text-white hover:bg-white/20",outline:"border border-white/10 text-white hover:bg-white/5",ghost:"text-white/60 hover:text-white hover:bg-white/5"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return s.jsx("button",{...i,className:`
        ${o}
        ${l[e]}
        ${c[t]}
        ${r?"w-full":""}
        ${n}
      `,children:a})}function Kz(){const[e,t]=F.useState([]);return s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:s.jsx(hr,{children:e.map(r=>s.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg p-4 max-w-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:r.title}),s.jsx(br,{variant:"ghost",size:"sm",onClick:()=>{t(n=>n.filter(a=>a.id!==r.id))},children:s.jsx(Mt,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.message})]},r.id))})})}const Jz=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function Zz(){const[e,t]=F.useState(Jz),[r,n]=F.useState(0);return F.useEffect(()=>{const o=e.reduce((l,c)=>l+(c.unreadCount||0),0);n(o)},[e]),{contacts:e,totalUnreadCount:r,markAsRead:o=>{t(l=>l.map(c=>c.id===o?{...c,unreadCount:0}:c))},addMessage:(o,l,c=!1)=>{t(u=>u.map(d=>d.id===o?{...d,lastMessage:l,lastMessageTime:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),unreadCount:c?d.unreadCount||0:(d.unreadCount||0)+1}:d))}}}const Qz={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3}}},Ej={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};function eU(){const e=So(),t=()=>{localStorage.setItem("isAuthenticated","true"),e("/dashboard",{replace:!0})};return s.jsx("div",{style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",minHeight:"100vh"},children:s.jsxs("div",{className:"relative min-h-screen flex flex-col items-center justify-center p-4",children:[s.jsx(Ne.div,{initial:"hidden",animate:"visible",variants:Qz,className:"text-center max-w-5xl mx-auto px-4 mb-8",style:{transform:"translate3d(0, 0, 0)",willChange:"transform",backfaceVisibility:"hidden",perspective:1e3,WebkitFontSmoothing:"antialiased"},children:s.jsx(Ne.div,{variants:Ej,className:"text-center",children:s.jsx(Ne.div,{className:"flex items-center justify-center",children:s.jsx("div",{className:"flex flex-col items-center justify-center",children:s.jsxs(Ne.h1,{variants:Ej,className:"flex flex-col items-center text-white whitespace-nowrap",children:[s.jsx("div",{className:"flex flex-col items-center",children:s.jsx("span",{className:"text-[10rem] md:text-[12rem]",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.08em",display:"block",lineHeight:"0.8",transform:"translate3d(0, -4rem, 0)",willChange:"transform",backfaceVisibility:"hidden"},children:"O Y S T E R"})}),s.jsx("div",{className:"flex items-center justify-center",style:{transform:"translate3d(0, -2.75rem, 0)",willChange:"transform",backfaceVisibility:"hidden"},children:s.jsxs("div",{className:"flex items-center",style:{transform:"translate3d(calc(2.9rem + 10px), 0, 0)",willChange:"transform",backfaceVisibility:"hidden"},children:[s.jsxs("div",{className:"flex flex-col items-center text-white relative",style:{marginRight:"50px"},children:[s.jsx("div",{className:"absolute",style:{top:"-6rem",left:"-1rem",width:"12rem",height:"12rem"},children:s.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M15 20 Q25 14, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"5.5",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 40 Q25 34, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"5.5",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 60 Q25 54, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"5.5",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 80 Q25 74, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"5.5",strokeLinecap:"round",fill:"none"})]})}),s.jsx("svg",{width:"180",height:"1",viewBox:"0 0 100 1",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"translate3d(-8%, 0, 0)",willChange:"transform",backfaceVisibility:"hidden",opacity:.6},children:s.jsx("g",{children:s.jsx("path",{d:"M5 0.5 Q20 0, 30 0.5 T55 0.5 T80 0.5 T105 0.5 T130 0.5",stroke:"white",strokeWidth:.03,strokeLinecap:"round",fill:"none"})})})]}),s.jsx("span",{className:"text-[10rem] md:text-[12rem] text-white",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:400,letterSpacing:"0.1em",lineHeight:"0.8",display:"block",transform:"translate3d(-1.7rem, -4rem, -30cm)",willChange:"transform",backfaceVisibility:"hidden"},children:"C U L T"})]})})]})})})})},"logo"),s.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md mt-12",children:s.jsxs("div",{className:"w-full max-w-md p-8 rounded-2xl bg-gray-800/50 backdrop-blur-xl border border-gray-700",children:[s.jsx("h2",{className:"text-2xl font-light text-white mb-6 text-center tracking-wide",children:"Pour les pros, par les pros."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-1",children:"Email"}),s.jsx("input",{type:"email",className:"w-full px-4 py-2 rounded-lg bg-gray-700/50 text-white border border-gray-600",readOnly:!0,value:"demo@oystercult.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-1",children:"Mot de passe"}),s.jsx("input",{type:"password",className:"w-full px-4 py-2 rounded-lg bg-gray-700/50 text-white border border-gray-600",readOnly:!0,value:"demo123"})]}),s.jsx("button",{onClick:t,className:"w-full py-3 px-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-center font-medium transition-colors",children:"Accéder à la démo"})]})]})})]})})}const mn={temperature:18,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:12,forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9},{time:"18:00",temp:17,windSpeed:20,windDirection:310,waveHeight:1},{time:"21:00",temp:16,windSpeed:16,windDirection:305,waveHeight:.9}],dailyForecast:[{day:"Demain",condition:"sunny",tempMin:16,tempMax:21,windSpeed:12,windDirection:45},{day:"Mercredi",condition:"partly-cloudy",tempMin:15,tempMax:19,windSpeed:14,windDirection:90},{day:"Jeudi",condition:"rainy",tempMin:14,tempMax:17,windSpeed:18,windDirection:135},{day:"Vendredi",condition:"cloudy",tempMin:15,tempMax:20,windSpeed:10,windDirection:225}]},a1=e=>{const t=["N","NE","E","SE","S","SO","O","NO"],r=Math.round(e/45)%8;return t[r]},kj=({condition:e})=>{switch(e){case"sunny":return s.jsx(hg,{className:"w-12 h-12 text-yellow-400"});case"cloudy":return s.jsx(Lw,{className:"w-12 h-12 text-white/60"});case"rainy":return s.jsx(qk,{className:"w-12 h-12 text-blue-400"});case"partly-cloudy":return s.jsxs("div",{className:"relative",children:[s.jsx(hg,{className:"w-12 h-12 text-yellow-400"}),s.jsx(Lw,{className:"w-8 h-8 text-white/60 absolute -bottom-2 -right-2"})]})}},i1=({title:e,icon:t,children:r,className:n})=>{const[a,i]=le.useState(!1),[o,l]=le.useState(!1);return le.useEffect(()=>{const c=()=>{const u=window.innerWidth<=768;l(u)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]),s.jsxs(Ne.div,{className:`
        ${o?"":"bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]"}
        ${o?"":"-webkit-backdrop-filter backdrop-filter backdrop-blur-[20px]"}
        rounded-lg p-4 
        ${o?"":"shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]"}
        transition-all duration-200 relative overflow-hidden
        ${o?"":a?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
        ${n||""}
      `,onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),whileHover:{y:-4,transition:{duration:.2}},children:[s.jsx(Ne.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.05)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:.2}}),s.jsxs("div",{className:"flex items-center space-x-3 mb-3 relative z-10",children:[s.jsx("div",{className:"text-cyan-400",children:t}),s.jsx("h3",{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent font-medium whitespace-nowrap",children:e})]}),s.jsx("div",{className:"relative z-10",children:r})]})};function tU(){return s.jsx("div",{className:"weather-widget-container w-full",style:{width:"100%",margin:0,padding:0,position:"relative",boxSizing:"border-box"},children:s.jsxs("div",{className:"weather-widget w-full flex flex-col glass-effect rounded-xl p-5",style:{width:"100%",maxWidth:"100%",margin:0,boxSizing:"border-box"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 w-full",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(id,{size:20,className:"text-cyan-400 mr-2"})}),s.jsx("h2",{className:"text-lg font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent whitespace-nowrap",children:"Météo & Conditions Maritimes"})]}),s.jsx("div",{className:"text-sm text-white/60 whitespace-nowrap",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})})]}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-4 md:gap-4 md:mb-6",children:[s.jsxs(i1,{title:"Température",icon:s.jsx(id,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-white",children:[mn.temperature,"°"]}),s.jsx("div",{className:"text-white/60 ml-2",children:"C"})]}),s.jsx("div",{className:"text-white/60 mt-1",children:"Ressenti 19°C"}),s.jsxs("div",{className:"flex items-center mt-3",children:[s.jsx($a,{size:16,className:"text-cyan-400 mr-2"}),s.jsxs("span",{className:"text-white/80",children:["Humidité ",mn.humidity,"%"]})]})]}),s.jsxs(i1,{title:"Vent",icon:s.jsx(N0,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:mn.windSpeed}),s.jsx("div",{className:"text-white/60 ml-1",children:"km/h"})]}),s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Du,{size:16,className:"text-cyan-400 mr-2",style:{transform:`rotate(${mn.windDirection}deg)`}}),s.jsx("span",{className:"text-white/80",children:a1(mn.windDirection)})]}),s.jsxs("div",{className:"text-sm text-white/60",children:["Rafales jusqu'à ",mn.windGust," km/h"]})]}),s.jsxs(i1,{title:"Mer",icon:s.jsx(mo,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:mn.waveHeight}),s.jsx("div",{className:"text-white/60 ml-1",children:"mètres"})]}),s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(fg,{className:"text-cyan-400 mr-2",size:16}),s.jsx("span",{className:"text-white/80",children:a1(mn.waveDirection)})]}),s.jsx("div",{className:"text-sm text-white/60",children:"Température de l'eau: 16°C"})]}),s.jsx(i1,{title:"Marées",icon:s.jsx(fg,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fw,{size:16,className:"text-cyan-400 mr-2"}),s.jsx("span",{className:"text-white/80",children:"Marée haute"})]}),s.jsx("div",{className:"text-white font-medium",children:mn.nextHighTide})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rw,{size:16,className:"text-cyan-400 mr-2"}),s.jsx("span",{className:"text-white/80",children:"Marée basse"})]}),s.jsx("div",{className:"text-white font-medium",children:mn.nextLowTide})]})]})})]}),s.jsxs("div",{className:"border-t border-white/10 p-6",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"Prévisions horaires"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:mn.forecast.map((e,t)=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[s.jsx("div",{className:"text-sm text-white/60 mb-2",children:e.time}),s.jsxs("div",{className:"text-lg font-medium text-white mb-2",children:[e.temp,"°C"]}),s.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Du,{className:"w-4 h-4 text-brand-burgundy mr-1",style:{transform:`rotate(${e.windDirection}deg)`}}),s.jsxs("span",{children:[e.windSpeed," km/h"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(mo,{className:"w-4 h-4 text-brand-burgundy mr-1"}),s.jsxs("span",{children:[e.waveHeight,"m"]})]})]})]},t))})]}),s.jsxs("div",{className:"border-t border-white/10 p-6",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"Prévisions des prochains jours"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:mn.dailyForecast.map((e,t)=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[s.jsx("div",{className:"text-sm text-white/60 mb-2",children:e.day}),s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx(kj,{condition:e.condition})}),s.jsxs("div",{className:"text-center text-lg font-medium text-white mb-2",children:[s.jsxs("span",{className:"text-brand-burgundy",children:[e.tempMin,"°"]})," / ",s.jsxs("span",{children:[e.tempMax,"°"]})]}),s.jsx("div",{className:"text-sm text-white/60 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(N0,{className:"w-4 h-4 text-brand-burgundy mr-1"}),s.jsxs("span",{children:[e.windSpeed," km/h"]}),s.jsx(Du,{className:"w-4 h-4 text-brand-burgundy ml-2",style:{transform:`rotate(${e.windDirection||0}deg)`}}),s.jsx("span",{className:"ml-1",children:a1(e.windDirection||0)})]})})]},t))})]}),s.jsxs("div",{className:"md:hidden flex flex-col space-y-4 w-full",style:{width:"100%",maxWidth:"100%",margin:0,padding:0,boxSizing:"border-box"},children:[s.jsxs("div",{className:"mobile-weather-main w-full glass-effect rounded-xl p-3",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[s.jsxs("div",{className:"mobile-weather-header w-full",children:[s.jsxs("div",{className:"mobile-current-temp",children:[mn.temperature,"°C"]}),s.jsx(kj,{condition:mn.conditions})]}),s.jsxs("div",{className:"mobile-weather-details w-full",children:[s.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Conditions de vent",title:"Conditions de vent",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(N0,{size:20,className:"mobile-weather-detail-icon"})}),s.jsx("div",{className:"mobile-weather-detail-label",children:"Vent"}),s.jsxs("div",{className:"mobile-weather-detail-value",children:[mn.windSpeed," km/h"]})]}),s.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Niveau d'humidité",title:"Niveau d'humidité",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx($a,{size:20,className:"mobile-weather-detail-icon"})}),s.jsx("div",{className:"mobile-weather-detail-label",children:"Humidité"}),s.jsxs("div",{className:"mobile-weather-detail-value",children:[mn.humidity,"%"]})]}),s.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Hauteur des vagues",title:"Hauteur des vagues",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(mo,{size:20,className:"mobile-weather-detail-icon"})}),s.jsx("div",{className:"mobile-weather-detail-label",children:"Vagues"}),s.jsxs("div",{className:"mobile-weather-detail-value",children:[mn.waveHeight," m"]})]})]}),s.jsx("div",{className:"mobile-weather-status",children:"Partiellement nuageux"})]}),s.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[s.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[s.jsxs("div",{className:"mobile-weather-card-header",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(mo,{size:20,className:"mobile-weather-card-icon"})}),s.jsx("div",{className:"mobile-weather-card-title",children:"Marées"})]}),s.jsxs("div",{className:"mobile-weather-card-content",children:[s.jsxs("div",{className:"mobile-weather-card-row",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Fw,{size:16,className:"text-brand-burgundy"})}),s.jsx("div",{className:"mobile-weather-card-label",children:"Haute"}),s.jsx("div",{className:"mobile-weather-card-value",children:mn.nextHighTide})]}),s.jsxs("div",{className:"mobile-weather-card-row",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Rw,{size:16,className:"text-brand-burgundy"})}),s.jsx("div",{className:"mobile-weather-card-label",children:"Basse"}),s.jsx("div",{className:"mobile-weather-card-value",children:mn.nextLowTide})]})]})]}),s.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[s.jsxs("div",{className:"mobile-weather-card-header",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(N0,{size:20,className:"mobile-weather-card-icon"})}),s.jsx("div",{className:"mobile-weather-card-title",children:"Vent"})]}),s.jsxs("div",{className:"mobile-weather-card-content",children:[s.jsxs("div",{className:"mobile-weather-card-row",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Du,{size:16,className:"text-brand-burgundy",style:{transform:`rotate(${mn.windDirection}deg)`}})}),s.jsx("div",{className:"mobile-weather-card-label",children:"Direction"}),s.jsx("div",{className:"mobile-weather-card-value",children:a1(mn.windDirection)})]}),s.jsxs("div",{className:"mobile-weather-card-row",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(N0,{size:16,className:"text-brand-burgundy"})}),s.jsx("div",{className:"mobile-weather-card-label",children:"Rafales"}),s.jsxs("div",{className:"mobile-weather-card-value",children:[mn.windGust," km/h"]})]})]})]})]}),s.jsxs("div",{className:"mobile-forecast-section w-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[s.jsxs("div",{className:"mobile-forecast-header",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Wa,{size:20,className:"mobile-forecast-icon"})}),s.jsx("div",{className:"mobile-forecast-title",children:"Prévisions"})]}),s.jsx("div",{className:"mobile-forecast-content",children:mn.forecast.map((e,t)=>s.jsxs("div",{className:"mobile-forecast-item",children:[s.jsx("div",{className:"mobile-forecast-time",children:e.time}),s.jsxs("div",{className:"mobile-forecast-temp",children:[e.temp,"°"]}),s.jsxs("div",{className:"mobile-forecast-wind",children:[s.jsx(Du,{size:14,className:"mobile-forecast-wind-icon",style:{transform:`rotate(${e.windDirection}deg)`}}),s.jsx("span",{children:e.windSpeed})]}),s.jsxs("div",{className:"mobile-forecast-waves",children:[s.jsx(mo,{size:14,className:"mobile-forecast-waves-icon"}),s.jsxs("span",{children:[e.waveHeight,"m"]})]})]},t))})]})]})]})})}const rU=({value:e,maxValue:t=100,color:r})=>{const n=Math.min(100,Math.round(e/t*100));return s.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},Tj={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)",transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,transform:"translateY(30px)"}}};function ST({table:e,onClose:t}){const r=_d(t),n=e.alert||e.timeProgress>100;return s.jsx(Ne.div,{...Tj.overlay,className:"fixed inset-0 flex items-center justify-center p-4 bg-black/50",style:{zIndex:100},onClick:t,children:s.jsxs(Ne.div,{ref:r,...Tj.content,onClick:a=>a.stopPropagation(),className:"w-full max-w-3xl rounded-2xl shadow-2xl border border-white/10 backdrop-blur-sm",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color",zIndex:101},children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e.name}),s.jsx("p",{className:"text-white/60",children:e.type})]}),s.jsx("button",{className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10",onClick:t,"aria-label":"Fermer",children:s.jsx(Mt,{size:20})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[e.currentSize&&e.targetSize&&s.jsxs(Ne.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.4},className:"glass-effect rounded-xl p-6 space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(Xv,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]})}),s.jsxs("div",{className:"relative py-6",children:[s.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-white/10"}),s.jsx("div",{className:"flex justify-between relative",children:["T15","N°5","N°4","N°3","N°2","N°1"].map((a,i)=>{const o=i*20,l=nU(e.currentSize)>=o,c=a===e.targetSize;return s.jsxs("div",{className:"flex flex-col items-center",children:[a==="N°3"?s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 mb-2 relative ring-4 ring-blue-500/50 shadow-lg shadow-blue-500/50 ring-white animate-pulse"})}):s.jsx("div",{className:`w-5 h-5 rounded-full ${c?"ring-2 ring-offset-2 ring-offset-blue-900/50 ring-blue-400":""} ${l?"bg-blue-500":"bg-white/20"} mb-2`}),s.jsx("span",{className:`text-xs ${l?"text-white":"text-white/40"} ${c?"font-bold":""} ${a==="N°3"?"font-medium":""}`,children:a})]},a)})}),s.jsxs("div",{className:"mt-6 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 mb-2",children:[s.jsx("span",{children:"Temps d'élevage"}),s.jsx("span",{className:"text-white",children:Jb(e.startDate,e.harvest,e.name)})]}),s.jsxs("div",{className:"relative h-3 bg-white/10 rounded-full overflow-hidden",children:[s.jsx(Ne.div,{initial:{width:0},animate:{width:`${Math.min(e.timeProgress,100)}%`},transition:{duration:1,ease:"easeOut"},className:`absolute top-0 left-0 h-full ${n?"bg-red-500":"bg-blue-500"}`}),e.timeProgress>100&&s.jsx(Ne.div,{initial:{width:0},animate:{width:`${Math.min(e.timeProgress-100,100)}%`},transition:{duration:1,ease:"easeOut",delay:.5},className:"absolute top-0 left-0 h-full bg-red-500 opacity-60",style:{left:"100%"}})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",children:[s.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[s.jsx("div",{className:"text-white/60",children:"Début"}),s.jsx("div",{className:"text-white font-medium",children:"T15"}),s.jsx("div",{className:"text-sm font-medium text-white/70",children:Jb(e.startDate,e.harvest,e.name)})]}),s.jsx(If,{size:16,className:"text-white/40"}),s.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[s.jsx("div",{className:"text-white/60",children:"Récolte prévue pour"}),s.jsx("div",{className:"text-white font-medium",children:aU(e.name)})]})]})]})]}),s.jsxs(Ne.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.6},className:"glass-effect rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(mo,{size:18,className:"mr-2 text-blue-400"}),"État global de la table"]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"relative w-40 h-40",children:[s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),s.jsx(Ne.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:e.color||"#3b82f6",strokeWidth:"8",strokeDasharray:"283",initial:{strokeDashoffset:283},animate:{strokeDashoffset:283-283*e.value/100},transition:{duration:1.5,ease:"easeOut"},strokeLinecap:"round",transform:"rotate(-90 50 50)"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsxs("span",{className:"text-3xl font-bold text-white",children:[e.value,"%"]}),s.jsx("span",{className:"text-xs text-white/60",children:"Occupation"})]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("span",{className:"text-white/80 block",children:["Capacité de la table ",e.name==="Table A1"&&e.value>=90?"(presque pleine)":e.value<=20?"(presque vide)":""]})})]}),s.jsxs("div",{className:"space-y-4",children:[e.mortality>0&&s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("div",{className:"text-white/80",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx(li,{size:16,className:"mr-1 text-red-400"}),"Taux de mortalité"]})}),s.jsxs("div",{className:`text-sm font-medium ${e.mortality<=15?"text-green-400":e.mortality<=20?"text-yellow-400":"text-red-400"}`,children:[e.mortality,"%"]})]}),s.jsx(rU,{value:e.mortality,maxValue:30,color:e.mortality<=15?"#22c55e":e.mortality<=20?"#eab308":"#ef4444"}),s.jsx("div",{className:"text-xs text-white/60 mt-1",children:e.mortality<=15?"Taux normal":e.mortality<=20?"Surveillance recommandée":"Situation critique - Action requise!"})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("div",{className:"text-white/80",children:"Durée d'élevage"}),s.jsx("div",{className:"text-sm font-medium text-white",children:Jb(e.startDate,e.harvest,e.name)})]}),s.jsx("div",{className:"text-xs text-white/60",children:e.name!=="Table A1"?s.jsx(s.Fragment,{children:"Depuis le 01/01/2024"}):s.jsxs(s.Fragment,{children:["Depuis le ",e.startDate]})})]})]})]})]}),s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.8},className:"flex justify-end space-x-3",children:s.jsx("button",{onClick:t,className:"px-6 py-2.5 rounded-lg bg-white/10 hover:bg-white/20 text-white/90 hover:text-white transition-colors",children:"Fermer"})})]})]})})}function nU(e){switch(e){case"T15":return 0;case"N°5":return 20;case"N°4":return 40;case"N°3":return 60;case"N°2":return 80;case"N°1":return 100;default:return 0}}function Jb(e,t,r){switch(r){case"Table A1":return"11 mois et 18 jours";case"Table A2":return"2 mois et 2 jours";case"Table B1":return"2 mois et 12 jours";default:return"N/A"}}function aU(e){switch(e){case"Table A2":return"01/01/2025";case"Table B1":return"01/01/2025";case"Table A1":return"15/05/2025";default:return"Non définie"}}function AT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=AT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Kt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=AT(e))&&(n&&(n+=" "),n+=t);return n}var iU=Array.isArray,Yi=iU,sU=typeof da=="object"&&da&&da.Object===Object&&da,CT=sU,oU=CT,lU=typeof self=="object"&&self&&self.Object===Object&&self,cU=oU||lU||Function("return this")(),cl=cU,uU=cl,dU=uU.Symbol,Vm=dU,Oj=Vm,ET=Object.prototype,fU=ET.hasOwnProperty,hU=ET.toString,Fh=Oj?Oj.toStringTag:void 0;function pU(e){var t=fU.call(e,Fh),r=e[Fh];try{e[Fh]=void 0;var n=!0}catch{}var a=hU.call(e);return n&&(t?e[Fh]=r:delete e[Fh]),a}var mU=pU,xU=Object.prototype,gU=xU.toString;function vU(e){return gU.call(e)}var bU=vU,Pj=Vm,yU=mU,wU=bU,_U="[object Null]",NU="[object Undefined]",Ij=Pj?Pj.toStringTag:void 0;function jU(e){return e==null?e===void 0?NU:_U:Ij&&Ij in Object(e)?yU(e):wU(e)}var Yl=jU;function SU(e){return e!=null&&typeof e=="object"}var Kl=SU,AU=Yl,CU=Kl,EU="[object Symbol]";function kU(e){return typeof e=="symbol"||CU(e)&&AU(e)==EU}var Mf=kU,TU=Yi,OU=Mf,PU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,IU=/^\w*$/;function DU(e,t){if(TU(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||OU(e)?!0:IU.test(e)||!PU.test(e)||t!=null&&e in Object(t)}var b4=DU;function MU(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nu=MU;const Ff=Rr(nu);var FU=Yl,RU=nu,LU="[object AsyncFunction]",BU="[object Function]",$U="[object GeneratorFunction]",zU="[object Proxy]";function UU(e){if(!RU(e))return!1;var t=FU(e);return t==BU||t==$U||t==LU||t==zU}var y4=UU;const Bt=Rr(y4);var HU=cl,WU=HU["__core-js_shared__"],VU=WU,Zb=VU,Dj=function(){var e=/[^.]+$/.exec(Zb&&Zb.keys&&Zb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qU(e){return!!Dj&&Dj in e}var GU=qU,XU=Function.prototype,YU=XU.toString;function KU(e){if(e!=null){try{return YU.call(e)}catch{}try{return e+""}catch{}}return""}var kT=KU,JU=y4,ZU=GU,QU=nu,eH=kT,tH=/[\\^$.*+?()[\]{}|]/g,rH=/^\[object .+?Constructor\]$/,nH=Function.prototype,aH=Object.prototype,iH=nH.toString,sH=aH.hasOwnProperty,oH=RegExp("^"+iH.call(sH).replace(tH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lH(e){if(!QU(e)||ZU(e))return!1;var t=JU(e)?oH:rH;return t.test(eH(e))}var cH=lH;function uH(e,t){return e==null?void 0:e[t]}var dH=uH,fH=cH,hH=dH;function pH(e,t){var r=hH(e,t);return fH(r)?r:void 0}var Nd=pH,mH=Nd,xH=mH(Object,"create"),e2=xH,Mj=e2;function gH(){this.__data__=Mj?Mj(null):{},this.size=0}var vH=gH;function bH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yH=bH,wH=e2,_H="__lodash_hash_undefined__",NH=Object.prototype,jH=NH.hasOwnProperty;function SH(e){var t=this.__data__;if(wH){var r=t[e];return r===_H?void 0:r}return jH.call(t,e)?t[e]:void 0}var AH=SH,CH=e2,EH=Object.prototype,kH=EH.hasOwnProperty;function TH(e){var t=this.__data__;return CH?t[e]!==void 0:kH.call(t,e)}var OH=TH,PH=e2,IH="__lodash_hash_undefined__";function DH(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=PH&&t===void 0?IH:t,this}var MH=DH,FH=vH,RH=yH,LH=AH,BH=OH,$H=MH;function Rf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Rf.prototype.clear=FH;Rf.prototype.delete=RH;Rf.prototype.get=LH;Rf.prototype.has=BH;Rf.prototype.set=$H;var zH=Rf;function UH(){this.__data__=[],this.size=0}var HH=UH;function WH(e,t){return e===t||e!==e&&t!==t}var w4=WH,VH=w4;function qH(e,t){for(var r=e.length;r--;)if(VH(e[r][0],t))return r;return-1}var t2=qH,GH=t2,XH=Array.prototype,YH=XH.splice;function KH(e){var t=this.__data__,r=GH(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():YH.call(t,r,1),--this.size,!0}var JH=KH,ZH=t2;function QH(e){var t=this.__data__,r=ZH(t,e);return r<0?void 0:t[r][1]}var eW=QH,tW=t2;function rW(e){return tW(this.__data__,e)>-1}var nW=rW,aW=t2;function iW(e,t){var r=this.__data__,n=aW(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var sW=iW,oW=HH,lW=JH,cW=eW,uW=nW,dW=sW;function Lf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lf.prototype.clear=oW;Lf.prototype.delete=lW;Lf.prototype.get=cW;Lf.prototype.has=uW;Lf.prototype.set=dW;var r2=Lf,fW=Nd,hW=cl,pW=fW(hW,"Map"),_4=pW,Fj=zH,mW=r2,xW=_4;function gW(){this.size=0,this.__data__={hash:new Fj,map:new(xW||mW),string:new Fj}}var vW=gW;function bW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var yW=bW,wW=yW;function _W(e,t){var r=e.__data__;return wW(t)?r[typeof t=="string"?"string":"hash"]:r.map}var n2=_W,NW=n2;function jW(e){var t=NW(this,e).delete(e);return this.size-=t?1:0,t}var SW=jW,AW=n2;function CW(e){return AW(this,e).get(e)}var EW=CW,kW=n2;function TW(e){return kW(this,e).has(e)}var OW=TW,PW=n2;function IW(e,t){var r=PW(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var DW=IW,MW=vW,FW=SW,RW=EW,LW=OW,BW=DW;function Bf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bf.prototype.clear=MW;Bf.prototype.delete=FW;Bf.prototype.get=RW;Bf.prototype.has=LW;Bf.prototype.set=BW;var N4=Bf,TT=N4,$W="Expected a function";function j4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError($W);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(j4.Cache||TT),r}j4.Cache=TT;var OT=j4;const zW=Rr(OT);var UW=OT,HW=500;function WW(e){var t=UW(e,function(n){return r.size===HW&&r.clear(),n}),r=t.cache;return t}var VW=WW,qW=VW,GW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XW=/\\(\\)?/g,YW=qW(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(GW,function(r,n,a,i){t.push(a?i.replace(XW,"$1"):n||r)}),t}),KW=YW;function JW(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var S4=JW,Rj=Vm,ZW=S4,QW=Yi,eV=Mf,tV=1/0,Lj=Rj?Rj.prototype:void 0,Bj=Lj?Lj.toString:void 0;function PT(e){if(typeof e=="string")return e;if(QW(e))return ZW(e,PT)+"";if(eV(e))return Bj?Bj.call(e):"";var t=e+"";return t=="0"&&1/e==-tV?"-0":t}var rV=PT,nV=rV;function aV(e){return e==null?"":nV(e)}var IT=aV,iV=Yi,sV=b4,oV=KW,lV=IT;function cV(e,t){return iV(e)?e:sV(e,t)?[e]:oV(lV(e))}var DT=cV,uV=Mf,dV=1/0;function fV(e){if(typeof e=="string"||uV(e))return e;var t=e+"";return t=="0"&&1/e==-dV?"-0":t}var a2=fV,hV=DT,pV=a2;function mV(e,t){t=hV(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[pV(t[r++])];return r&&r==n?e:void 0}var A4=mV,xV=A4;function gV(e,t,r){var n=e==null?void 0:xV(e,t);return n===void 0?r:n}var MT=gV;const xs=Rr(MT);function vV(e){return e==null}var bV=vV;const Gt=Rr(bV);var yV=Yl,wV=Yi,_V=Kl,NV="[object String]";function jV(e){return typeof e=="string"||!wV(e)&&_V(e)&&yV(e)==NV}var SV=jV;const qm=Rr(SV);var FT={exports:{}},Lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4=Symbol.for("react.element"),E4=Symbol.for("react.portal"),i2=Symbol.for("react.fragment"),s2=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),l2=Symbol.for("react.provider"),c2=Symbol.for("react.context"),AV=Symbol.for("react.server_context"),u2=Symbol.for("react.forward_ref"),d2=Symbol.for("react.suspense"),f2=Symbol.for("react.suspense_list"),h2=Symbol.for("react.memo"),p2=Symbol.for("react.lazy"),CV=Symbol.for("react.offscreen"),RT;RT=Symbol.for("react.module.reference");function Gs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case C4:switch(e=e.type,e){case i2:case o2:case s2:case d2:case f2:return e;default:switch(e=e&&e.$$typeof,e){case AV:case c2:case u2:case p2:case h2:case l2:return e;default:return t}}case E4:return t}}}Lr.ContextConsumer=c2;Lr.ContextProvider=l2;Lr.Element=C4;Lr.ForwardRef=u2;Lr.Fragment=i2;Lr.Lazy=p2;Lr.Memo=h2;Lr.Portal=E4;Lr.Profiler=o2;Lr.StrictMode=s2;Lr.Suspense=d2;Lr.SuspenseList=f2;Lr.isAsyncMode=function(){return!1};Lr.isConcurrentMode=function(){return!1};Lr.isContextConsumer=function(e){return Gs(e)===c2};Lr.isContextProvider=function(e){return Gs(e)===l2};Lr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===C4};Lr.isForwardRef=function(e){return Gs(e)===u2};Lr.isFragment=function(e){return Gs(e)===i2};Lr.isLazy=function(e){return Gs(e)===p2};Lr.isMemo=function(e){return Gs(e)===h2};Lr.isPortal=function(e){return Gs(e)===E4};Lr.isProfiler=function(e){return Gs(e)===o2};Lr.isStrictMode=function(e){return Gs(e)===s2};Lr.isSuspense=function(e){return Gs(e)===d2};Lr.isSuspenseList=function(e){return Gs(e)===f2};Lr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===i2||e===o2||e===s2||e===d2||e===f2||e===CV||typeof e=="object"&&e!==null&&(e.$$typeof===p2||e.$$typeof===h2||e.$$typeof===l2||e.$$typeof===c2||e.$$typeof===u2||e.$$typeof===RT||e.getModuleId!==void 0)};Lr.typeOf=Gs;FT.exports=Lr;var EV=FT.exports,kV=Yl,TV=Kl,OV="[object Number]";function PV(e){return typeof e=="number"||TV(e)&&kV(e)==OV}var LT=PV;const IV=Rr(LT);var DV=LT;function MV(e){return DV(e)&&e!=+e}var FV=MV;const Gm=Rr(FV);var Si=function(t){return t===0?0:t>0?1:-1},Bu=function(t){return qm(t)&&t.indexOf("%")===t.length-1},ot=function(t){return IV(t)&&!Gm(t)},fa=function(t){return ot(t)||qm(t)},RV=0,$f=function(t){var r=++RV;return"".concat(t||"").concat(r)},Ai=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ot(t)&&!qm(t))return n;var i;if(Bu(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Gm(i)&&(i=n),a&&i>r&&(i=r),i},Dc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},LV=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},cs=function(t,r){return ot(t)&&ot(r)?function(n){return t+n*(r-t)}:function(){return r}};function vg(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):xs(n,t))===r})}function z0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Hw(e){"@babel/helpers - typeof";return Hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hw(e)}var BV=["viewBox","children"],$V=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$j=["points","pathLength"],Qb={svg:BV,polygon:$j,polyline:$j},k4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bg=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),!Ff(n))return null;var a={};return Object.keys(n).forEach(function(i){k4.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},zV=function(t,r,n){return function(a){return t(r,n,a),null}},od=function(t,r,n){if(!Ff(t)||Hw(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];k4.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=zV(o,r,n))}),a},UV=["children"],HV=["children"];function zj(e,t){if(e==null)return{};var r=WV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ww(e){"@babel/helpers - typeof";return Ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ww(e)}var Uj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ll=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Hj=null,ey=null,T4=function e(t){if(t===Hj&&Array.isArray(ey))return ey;var r=[];return F.Children.forEach(t,function(n){Gt(n)||(EV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ey=r,Hj=t,r};function gs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ll(a)}):n=[Ll(t)],T4(e).forEach(function(a){var i=xs(a,"type.displayName")||xs(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ls(e,t){var r=gs(e,t);return r&&r[0]}var Wj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ot(n)||n<=0||!ot(a)||a<=0)},VV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qV=function(t){return t&&t.type&&qm(t.type)&&VV.indexOf(t.type)>=0},GV=function(t){return t&&Ww(t)==="object"&&"clipDot"in t},XV=function(t,r,n,a){var i,o=(i=Qb==null?void 0:Qb[a])!==null&&i!==void 0?i:[];return!Bt(t)&&(a&&o.includes(r)||$V.includes(r))||n&&k4.includes(r)},Pt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(F.isValidElement(t)&&(a=t.props),!Ff(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;XV((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},Vw=function e(t,r){if(t===r)return!0;var n=F.Children.count(t);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Vj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Vj(i,o))return!1}return!0},Vj=function(t,r){if(Gt(t)&&Gt(r))return!0;if(!Gt(t)&&!Gt(r)){var n=t.props||{},a=n.children,i=zj(n,UV),o=r.props||{},l=o.children,c=zj(o,HV);return a&&l?z0(i,c)&&Vw(a,l):!a&&!l?z0(i,c):!1}return!1},qj=function(t,r){var n=[],a={};return T4(t).forEach(function(i,o){if(qV(i))n.push(i);else if(i){var l=Ll(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},YV=function(t){var r=t&&t.type;return r&&Uj[r]?Uj[r]:null},KV=function(t,r){return T4(r).indexOf(t)},JV=["children","width","height","viewBox","className","style","title","desc"];function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(this,arguments)}function ZV(e,t){if(e==null)return{};var r=QV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gw(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=ZV(e,JV),d=a||{width:r,height:n,x:0,y:0},f=Kt("recharts-surface",i);return le.createElement("svg",qw({},Pt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),le.createElement("title",null,l),le.createElement("desc",null,c),t)}var eq=["children","className"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(this,arguments)}function tq(e,t){if(e==null)return{};var r=rq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nr=le.forwardRef(function(e,t){var r=e.children,n=e.className,a=tq(e,eq),i=Kt("recharts-layer",n);return le.createElement("g",Xw({className:i},Pt(a,!0),{ref:t}),r)}),_o=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function nq(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var aq=nq,iq=aq;function sq(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:iq(e,t,r)}var oq=sq,lq="\\ud800-\\udfff",cq="\\u0300-\\u036f",uq="\\ufe20-\\ufe2f",dq="\\u20d0-\\u20ff",fq=cq+uq+dq,hq="\\ufe0e\\ufe0f",pq="\\u200d",mq=RegExp("["+pq+lq+fq+hq+"]");function xq(e){return mq.test(e)}var BT=xq;function gq(e){return e.split("")}var vq=gq,$T="\\ud800-\\udfff",bq="\\u0300-\\u036f",yq="\\ufe20-\\ufe2f",wq="\\u20d0-\\u20ff",_q=bq+yq+wq,Nq="\\ufe0e\\ufe0f",jq="["+$T+"]",Yw="["+_q+"]",Kw="\\ud83c[\\udffb-\\udfff]",Sq="(?:"+Yw+"|"+Kw+")",zT="[^"+$T+"]",UT="(?:\\ud83c[\\udde6-\\uddff]){2}",HT="[\\ud800-\\udbff][\\udc00-\\udfff]",Aq="\\u200d",WT=Sq+"?",VT="["+Nq+"]?",Cq="(?:"+Aq+"(?:"+[zT,UT,HT].join("|")+")"+VT+WT+")*",Eq=VT+WT+Cq,kq="(?:"+[zT+Yw+"?",Yw,UT,HT,jq].join("|")+")",Tq=RegExp(Kw+"(?="+Kw+")|"+kq+Eq,"g");function Oq(e){return e.match(Tq)||[]}var Pq=Oq,Iq=vq,Dq=BT,Mq=Pq;function Fq(e){return Dq(e)?Mq(e):Iq(e)}var Rq=Fq,Lq=oq,Bq=BT,$q=Rq,zq=IT;function Uq(e){return function(t){t=zq(t);var r=Bq(t)?$q(t):void 0,n=r?r[0]:t.charAt(0),a=r?Lq(r,1).join(""):t.slice(1);return n[e]()+a}}var Hq=Uq,Wq=Hq,Vq=Wq("toUpperCase"),qq=Vq;const m2=Rr(qq);function Qr(e){return function(){return e}}const qT=Math.cos,yg=Math.sin,Ao=Math.sqrt,wg=Math.PI,x2=2*wg,Jw=Math.PI,Zw=2*Jw,Eu=1e-6,Gq=Zw-Eu;function GT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Xq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return GT;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Yq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?GT:Xq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Eu)if(!(Math.abs(f*c-u*d)>Eu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=a-l,x=c*c+u*u,g=p*p+m*m,v=Math.sqrt(x),y=Math.sqrt(h),b=i*Math.tan((Jw-Math.acos((x+h-g)/(2*v*y)))/2),_=b/y,S=b/v;Math.abs(_-1)>Eu&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Eu||Math.abs(this._y1-d)>Eu)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Zw+Zw),h>Gq?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Eu&&this._append`A${n},${n},0,${+(h>=Jw)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function O4(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Yq(t)}function P4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XT(e){this._context=e}XT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function g2(e){return new XT(e)}function YT(e){return e[0]}function KT(e){return e[1]}function JT(e,t){var r=Qr(!0),n=null,a=g2,i=null,o=O4(l);e=typeof e=="function"?e:e===void 0?YT:Qr(e),t=typeof t=="function"?t:t===void 0?KT:Qr(t);function l(c){var u,d=(c=P4(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Qr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Qr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Qr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function s1(e,t,r){var n=null,a=Qr(!0),i=null,o=g2,l=null,c=O4(u);e=typeof e=="function"?e:e===void 0?YT:Qr(+e),t=typeof t=="function"?t:Qr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KT:Qr(+r);function u(f){var h,p,m,x=(f=P4(f)).length,g,v=!1,y,b=new Array(x),_=new Array(x);for(i==null&&(l=o(y=c())),h=0;h<=x;++h){if(!(h<x&&a(g=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(b[m],_[m]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(g,h,f),_[h]=+t(g,h,f),l.point(n?+n(g,h,f):b[h],r?+r(g,h,f):_[h]))}if(y)return l=null,y+""||null}function d(){return JT().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Qr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Qr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Qr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class ZT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Kq(e){return new ZT(e,!0)}function Jq(e){return new ZT(e,!1)}const I4={draw(e,t){const r=Ao(t/wg);e.moveTo(r,0),e.arc(0,0,r,0,x2)}},Zq={draw(e,t){const r=Ao(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},QT=Ao(1/3),Qq=QT*2,eG={draw(e,t){const r=Ao(t/Qq),n=r*QT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},tG={draw(e,t){const r=Ao(t),n=-r/2;e.rect(n,n,r,r)}},rG=.8908130915292852,eO=yg(wg/10)/yg(7*wg/10),nG=yg(x2/10)*eO,aG=-qT(x2/10)*eO,iG={draw(e,t){const r=Ao(t*rG),n=nG*r,a=aG*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=x2*i/5,l=qT(o),c=yg(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},ty=Ao(3),sG={draw(e,t){const r=-Ao(t/(ty*3));e.moveTo(0,r*2),e.lineTo(-ty*r,-r),e.lineTo(ty*r,-r),e.closePath()}},Os=-.5,Ps=Ao(3)/2,Qw=1/Ao(12),oG=(Qw/2+1)*3,lG={draw(e,t){const r=Ao(t/oG),n=r/2,a=r*Qw,i=n,o=r*Qw+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Os*n-Ps*a,Ps*n+Os*a),e.lineTo(Os*i-Ps*o,Ps*i+Os*o),e.lineTo(Os*l-Ps*c,Ps*l+Os*c),e.lineTo(Os*n+Ps*a,Os*a-Ps*n),e.lineTo(Os*i+Ps*o,Os*o-Ps*i),e.lineTo(Os*l+Ps*c,Os*c-Ps*l),e.closePath()}};function cG(e,t){let r=null,n=O4(a);e=typeof e=="function"?e:Qr(e||I4),t=typeof t=="function"?t:Qr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Qr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Qr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _g(){}function Ng(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function tO(e){this._context=e}tO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uG(e){return new tO(e)}function rO(e){this._context=e}rO.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dG(e){return new rO(e)}function nO(e){this._context=e}nO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ng(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fG(e){return new nO(e)}function aO(e){this._context=e}aO.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hG(e){return new aO(e)}function Gj(e){return e<0?-1:1}function Xj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Gj(i)+Gj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Yj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ry(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function jg(e){this._context=e}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ry(this,this._t0,Yj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ry(this,Yj(this,r=Xj(this,e,t)),r);break;default:ry(this,this._t0,r=Xj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iO(e){this._context=new sO(e)}(iO.prototype=Object.create(jg.prototype)).point=function(e,t){jg.prototype.point.call(this,t,e)};function sO(e){this._context=e}sO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function pG(e){return new jg(e)}function mG(e){return new iO(e)}function oO(e){this._context=e}oO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Kj(e),a=Kj(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Kj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function xG(e){return new oO(e)}function v2(e,t){this._context=e,this._t=t}v2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gG(e){return new v2(e,.5)}function vG(e){return new v2(e,0)}function bG(e){return new v2(e,1)}function rf(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function e5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yG(e,t){return e[t]}function wG(e){const t=[];return t.key=e,t}function _G(){var e=Qr([]),t=e5,r=rf,n=yG;function a(i){var o=Array.from(e.apply(this,arguments),wG),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=P4(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Qr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Qr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?e5:typeof i=="function"?i:Qr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??rf,a):r},a}function NG(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}rf(e,t)}}function jG(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}rf(e,t)}}function SG(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var x=e[t[m]],g=x[n][1]||0,v=x[n-1][1]||0;p+=g-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,rf(e,t)}}function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}var AG=["type","size","sizeType"];function t5(){return t5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t5.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=kG(e,"string");return Up(t)=="symbol"?t:t+""}function kG(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TG(e,t){if(e==null)return{};var r=OG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lO={symbolCircle:I4,symbolCross:Zq,symbolDiamond:eG,symbolSquare:tG,symbolStar:iG,symbolTriangle:sG,symbolWye:lG},PG=Math.PI/180,IG=function(t){var r="symbol".concat(m2(t));return lO[r]||I4},DG=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*PG;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},MG=function(t,r){lO["symbol".concat(m2(t))]=r},D4=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=TG(t,AG),u=Zj(Zj({},c),{},{type:n,size:i,sizeType:l}),d=function(){var g=IG(n),v=cG().type(g).size(DG(i,l,n));return v()},f=u.className,h=u.cx,p=u.cy,m=Pt(u,!0);return h===+h&&p===+p&&i===+i?le.createElement("path",t5({},m,{className:Kt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};D4.registerSymbol=MG;function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function r5(){return r5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r5.apply(this,arguments)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){Hp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function BG(e,t,r){return t&&LG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $G(e,t,r){return t=Sg(t),zG(e,cO()?Reflect.construct(t,r||[],Sg(e).constructor):t.apply(e,r))}function zG(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UG(e)}function UG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(e)}function HG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n5(e,t)}function n5(e,t){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n5(e,t)}function Hp(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=WG(e,"string");return nf(t)=="symbol"?t:t+""}function WG(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Is=32,M4=function(e){function t(){return RG(this,t),$G(this,t,arguments)}return HG(t,e),BG(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Is/2,o=Is/6,l=Is/3,c=n.inactive?a:n.color;if(n.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Is,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Is,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return le.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Is/8,"h").concat(Is,"v").concat(Is*3/4,"h").concat(-Is,"z"),className:"recharts-legend-icon"});if(le.isValidElement(n.legendIcon)){var u=FG({},n);return delete u.legendIcon,le.cloneElement(n.legendIcon,u)}return le.createElement(D4,{fill:c,cx:i,cy:i,size:Is,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Is,height:Is},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var x=p.formatter||c,g=Kt(Hp(Hp({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Bt(p.value)?null:p.value;_o(!Bt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return le.createElement("li",r5({className:g,style:f,key:"legend-item-".concat(m)},od(n.props,p,m)),le.createElement(Gw,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(v,p,m):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(F.PureComponent);Hp(M4,"displayName","Legend");Hp(M4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var VG=r2;function qG(){this.__data__=new VG,this.size=0}var GG=qG;function XG(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var YG=XG;function KG(e){return this.__data__.get(e)}var JG=KG;function ZG(e){return this.__data__.has(e)}var QG=ZG,eX=r2,tX=_4,rX=N4,nX=200;function aX(e,t){var r=this.__data__;if(r instanceof eX){var n=r.__data__;if(!tX||n.length<nX-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rX(n)}return r.set(e,t),this.size=r.size,this}var iX=aX,sX=r2,oX=GG,lX=YG,cX=JG,uX=QG,dX=iX;function zf(e){var t=this.__data__=new sX(e);this.size=t.size}zf.prototype.clear=oX;zf.prototype.delete=lX;zf.prototype.get=cX;zf.prototype.has=uX;zf.prototype.set=dX;var dO=zf,fX="__lodash_hash_undefined__";function hX(e){return this.__data__.set(e,fX),this}var pX=hX;function mX(e){return this.__data__.has(e)}var xX=mX,gX=N4,vX=pX,bX=xX;function Ag(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gX;++t<r;)this.add(e[t])}Ag.prototype.add=Ag.prototype.push=vX;Ag.prototype.has=bX;var fO=Ag;function yX(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var hO=yX;function wX(e,t){return e.has(t)}var pO=wX,_X=fO,NX=hO,jX=pO,SX=1,AX=2;function CX(e,t,r,n,a,i){var o=r&SX,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&AX?new _X:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],x=t[f];if(n)var g=o?n(x,m,f,t,e,i):n(m,x,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!NX(t,function(v,y){if(!jX(p,y)&&(m===v||a(m,v,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(m===x||a(m,x,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var mO=CX,EX=cl,kX=EX.Uint8Array,TX=kX;function OX(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var PX=OX;function IX(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var F4=IX,eS=Vm,tS=TX,DX=w4,MX=mO,FX=PX,RX=F4,LX=1,BX=2,$X="[object Boolean]",zX="[object Date]",UX="[object Error]",HX="[object Map]",WX="[object Number]",VX="[object RegExp]",qX="[object Set]",GX="[object String]",XX="[object Symbol]",YX="[object ArrayBuffer]",KX="[object DataView]",rS=eS?eS.prototype:void 0,ny=rS?rS.valueOf:void 0;function JX(e,t,r,n,a,i,o){switch(r){case KX:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YX:return!(e.byteLength!=t.byteLength||!i(new tS(e),new tS(t)));case $X:case zX:case WX:return DX(+e,+t);case UX:return e.name==t.name&&e.message==t.message;case VX:case GX:return e==t+"";case HX:var l=FX;case qX:var c=n&LX;if(l||(l=RX),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=BX,o.set(e,t);var d=MX(l(e),l(t),n,a,i,o);return o.delete(e),d;case XX:if(ny)return ny.call(e)==ny.call(t)}return!1}var ZX=JX;function QX(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var xO=QX,eY=xO,tY=Yi;function rY(e,t,r){var n=t(e);return tY(e)?n:eY(n,r(e))}var nY=rY;function aY(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var iY=aY;function sY(){return[]}var oY=sY,lY=iY,cY=oY,uY=Object.prototype,dY=uY.propertyIsEnumerable,nS=Object.getOwnPropertySymbols,fY=nS?function(e){return e==null?[]:(e=Object(e),lY(nS(e),function(t){return dY.call(e,t)}))}:cY,hY=fY;function pY(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var mY=pY,xY=Yl,gY=Kl,vY="[object Arguments]";function bY(e){return gY(e)&&xY(e)==vY}var yY=bY,aS=yY,wY=Kl,gO=Object.prototype,_Y=gO.hasOwnProperty,NY=gO.propertyIsEnumerable,jY=aS(function(){return arguments}())?aS:function(e){return wY(e)&&_Y.call(e,"callee")&&!NY.call(e,"callee")},R4=jY,Cg={exports:{}};function SY(){return!1}var AY=SY;Cg.exports;(function(e,t){var r=cl,n=AY,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Cg,Cg.exports);var vO=Cg.exports,CY=9007199254740991,EY=/^(?:0|[1-9]\d*)$/;function kY(e,t){var r=typeof e;return t=t??CY,!!t&&(r=="number"||r!="symbol"&&EY.test(e))&&e>-1&&e%1==0&&e<t}var L4=kY,TY=9007199254740991;function OY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=TY}var B4=OY,PY=Yl,IY=B4,DY=Kl,MY="[object Arguments]",FY="[object Array]",RY="[object Boolean]",LY="[object Date]",BY="[object Error]",$Y="[object Function]",zY="[object Map]",UY="[object Number]",HY="[object Object]",WY="[object RegExp]",VY="[object Set]",qY="[object String]",GY="[object WeakMap]",XY="[object ArrayBuffer]",YY="[object DataView]",KY="[object Float32Array]",JY="[object Float64Array]",ZY="[object Int8Array]",QY="[object Int16Array]",eK="[object Int32Array]",tK="[object Uint8Array]",rK="[object Uint8ClampedArray]",nK="[object Uint16Array]",aK="[object Uint32Array]",on={};on[KY]=on[JY]=on[ZY]=on[QY]=on[eK]=on[tK]=on[rK]=on[nK]=on[aK]=!0;on[MY]=on[FY]=on[XY]=on[RY]=on[YY]=on[LY]=on[BY]=on[$Y]=on[zY]=on[UY]=on[HY]=on[WY]=on[VY]=on[qY]=on[GY]=!1;function iK(e){return DY(e)&&IY(e.length)&&!!on[PY(e)]}var sK=iK;function oK(e){return function(t){return e(t)}}var bO=oK,Eg={exports:{}};Eg.exports;(function(e,t){var r=CT,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Eg,Eg.exports);var lK=Eg.exports,cK=sK,uK=bO,iS=lK,sS=iS&&iS.isTypedArray,dK=sS?uK(sS):cK,yO=dK,fK=mY,hK=R4,pK=Yi,mK=vO,xK=L4,gK=yO,vK=Object.prototype,bK=vK.hasOwnProperty;function yK(e,t){var r=pK(e),n=!r&&hK(e),a=!r&&!n&&mK(e),i=!r&&!n&&!a&&gK(e),o=r||n||a||i,l=o?fK(e.length,String):[],c=l.length;for(var u in e)(t||bK.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xK(u,c)))&&l.push(u);return l}var wK=yK,_K=Object.prototype;function NK(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_K;return e===r}var jK=NK;function SK(e,t){return function(r){return e(t(r))}}var wO=SK,AK=wO,CK=AK(Object.keys,Object),EK=CK,kK=jK,TK=EK,OK=Object.prototype,PK=OK.hasOwnProperty;function IK(e){if(!kK(e))return TK(e);var t=[];for(var r in Object(e))PK.call(e,r)&&r!="constructor"&&t.push(r);return t}var DK=IK,MK=y4,FK=B4;function RK(e){return e!=null&&FK(e.length)&&!MK(e)}var Xm=RK,LK=wK,BK=DK,$K=Xm;function zK(e){return $K(e)?LK(e):BK(e)}var b2=zK,UK=nY,HK=hY,WK=b2;function VK(e){return UK(e,WK,HK)}var qK=VK,oS=qK,GK=1,XK=Object.prototype,YK=XK.hasOwnProperty;function KK(e,t,r,n,a,i){var o=r&GK,l=oS(e),c=l.length,u=oS(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:YK.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var x=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){h=l[f];var v=e[h],y=t[h];if(n)var b=o?n(y,v,h,t,e,i):n(v,y,h,e,t,i);if(!(b===void 0?v===y||a(v,y,r,n,i):b)){x=!1;break}g||(g=h=="constructor")}if(x&&!g){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(x=!1)}return i.delete(e),i.delete(t),x}var JK=KK,ZK=Nd,QK=cl,eJ=ZK(QK,"DataView"),tJ=eJ,rJ=Nd,nJ=cl,aJ=rJ(nJ,"Promise"),iJ=aJ,sJ=Nd,oJ=cl,lJ=sJ(oJ,"Set"),_O=lJ,cJ=Nd,uJ=cl,dJ=cJ(uJ,"WeakMap"),fJ=dJ,a5=tJ,i5=_4,s5=iJ,o5=_O,l5=fJ,NO=Yl,Uf=kT,lS="[object Map]",hJ="[object Object]",cS="[object Promise]",uS="[object Set]",dS="[object WeakMap]",fS="[object DataView]",pJ=Uf(a5),mJ=Uf(i5),xJ=Uf(s5),gJ=Uf(o5),vJ=Uf(l5),ku=NO;(a5&&ku(new a5(new ArrayBuffer(1)))!=fS||i5&&ku(new i5)!=lS||s5&&ku(s5.resolve())!=cS||o5&&ku(new o5)!=uS||l5&&ku(new l5)!=dS)&&(ku=function(e){var t=NO(e),r=t==hJ?e.constructor:void 0,n=r?Uf(r):"";if(n)switch(n){case pJ:return fS;case mJ:return lS;case xJ:return cS;case gJ:return uS;case vJ:return dS}return t});var bJ=ku,ay=dO,yJ=mO,wJ=ZX,_J=JK,hS=bJ,pS=Yi,mS=vO,NJ=yO,jJ=1,xS="[object Arguments]",gS="[object Array]",o1="[object Object]",SJ=Object.prototype,vS=SJ.hasOwnProperty;function AJ(e,t,r,n,a,i){var o=pS(e),l=pS(t),c=o?gS:hS(e),u=l?gS:hS(t);c=c==xS?o1:c,u=u==xS?o1:u;var d=c==o1,f=u==o1,h=c==u;if(h&&mS(e)){if(!mS(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new ay),o||NJ(e)?yJ(e,t,r,n,a,i):wJ(e,t,c,r,n,a,i);if(!(r&jJ)){var p=d&&vS.call(e,"__wrapped__"),m=f&&vS.call(t,"__wrapped__");if(p||m){var x=p?e.value():e,g=m?t.value():t;return i||(i=new ay),a(x,g,r,n,i)}}return h?(i||(i=new ay),_J(e,t,r,n,a,i)):!1}var CJ=AJ,EJ=CJ,bS=Kl;function jO(e,t,r,n,a){return e===t?!0:e==null||t==null||!bS(e)&&!bS(t)?e!==e&&t!==t:EJ(e,t,r,n,jO,a)}var $4=jO,kJ=dO,TJ=$4,OJ=1,PJ=2;function IJ(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new kJ;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?TJ(d,u,OJ|PJ,n,f):h))return!1}}return!0}var DJ=IJ,MJ=nu;function FJ(e){return e===e&&!MJ(e)}var SO=FJ,RJ=SO,LJ=b2;function BJ(e){for(var t=LJ(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,RJ(a)]}return t}var $J=BJ;function zJ(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var AO=zJ,UJ=DJ,HJ=$J,WJ=AO;function VJ(e){var t=HJ(e);return t.length==1&&t[0][2]?WJ(t[0][0],t[0][1]):function(r){return r===e||UJ(r,e,t)}}var qJ=VJ;function GJ(e,t){return e!=null&&t in Object(e)}var XJ=GJ,YJ=DT,KJ=R4,JJ=Yi,ZJ=L4,QJ=B4,eZ=a2;function tZ(e,t,r){t=YJ(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=eZ(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&QJ(a)&&ZJ(o,a)&&(JJ(e)||KJ(e)))}var rZ=tZ,nZ=XJ,aZ=rZ;function iZ(e,t){return e!=null&&aZ(e,t,nZ)}var sZ=iZ,oZ=$4,lZ=MT,cZ=sZ,uZ=b4,dZ=SO,fZ=AO,hZ=a2,pZ=1,mZ=2;function xZ(e,t){return uZ(e)&&dZ(t)?fZ(hZ(e),t):function(r){var n=lZ(r,e);return n===void 0&&n===t?cZ(r,e):oZ(t,n,pZ|mZ)}}var gZ=xZ;function vZ(e){return e}var Hf=vZ;function bZ(e){return function(t){return t==null?void 0:t[e]}}var yZ=bZ,wZ=A4;function _Z(e){return function(t){return wZ(t,e)}}var NZ=_Z,jZ=yZ,SZ=NZ,AZ=b4,CZ=a2;function EZ(e){return AZ(e)?jZ(CZ(e)):SZ(e)}var kZ=EZ,TZ=qJ,OZ=gZ,PZ=Hf,IZ=Yi,DZ=kZ;function MZ(e){return typeof e=="function"?e:e==null?PZ:typeof e=="object"?IZ(e)?OZ(e[0],e[1]):TZ(e):DZ(e)}var ul=MZ;function FZ(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var CO=FZ;function RZ(e){return e!==e}var LZ=RZ;function BZ(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var $Z=BZ,zZ=CO,UZ=LZ,HZ=$Z;function WZ(e,t,r){return t===t?HZ(e,t,r):zZ(e,UZ,r)}var VZ=WZ,qZ=VZ;function GZ(e,t){var r=e==null?0:e.length;return!!r&&qZ(e,t,0)>-1}var XZ=GZ;function YZ(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var KZ=YZ;function JZ(){}var ZZ=JZ,iy=_O,QZ=ZZ,eQ=F4,tQ=1/0,rQ=iy&&1/eQ(new iy([,-0]))[1]==tQ?function(e){return new iy(e)}:QZ,nQ=rQ,aQ=fO,iQ=XZ,sQ=KZ,oQ=pO,lQ=nQ,cQ=F4,uQ=200;function dQ(e,t,r){var n=-1,a=iQ,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=sQ;else if(i>=uQ){var u=t?null:lQ(e);if(u)return cQ(u);o=!1,a=oQ,c=new aQ}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var fQ=dQ,hQ=ul,pQ=fQ;function mQ(e,t){return e&&e.length?pQ(e,hQ(t)):[]}var xQ=mQ;const yS=Rr(xQ);function EO(e,t,r){return t===!0?yS(e,r):Bt(t)?yS(e,t):e}function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}var gQ=["ref"];function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TO(n.key),n)}}function bQ(e,t,r){return t&&_S(e.prototype,t),r&&_S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yQ(e,t,r){return t=kg(t),wQ(e,kO()?Reflect.construct(t,r||[],kg(e).constructor):t.apply(e,r))}function wQ(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Q(e)}function _Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kO=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(e)}function NQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c5(e,t)}function c5(e,t){return c5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c5(e,t)}function y2(e,t,r){return t=TO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TO(e){var t=jQ(e,"string");return af(t)=="symbol"?t:t+""}function jQ(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SQ(e,t){if(e==null)return{};var r=AQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CQ(e){return e.value}function EQ(e,t){if(le.isValidElement(e))return le.cloneElement(e,t);if(typeof e=="function")return le.createElement(e,t);t.ref;var r=SQ(t,gQ);return le.createElement(M4,r)}var NS=1,Xu=function(e){function t(){var r;vQ(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=yQ(this,t,[].concat(a)),y2(r,"lastBoundingBox",{width:-1,height:-1}),r}return NQ(t,e),bQ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>NS||Math.abs(a.height-this.lastBoundingBox.height)>NS)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?El({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return El(El({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=El(El({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},EQ(i,El(El({},this.props),{},{payload:EO(d,u,CQ)})))}}],[{key:"getWithHeight",value:function(n,a){var i=El(El({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ot(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(F.PureComponent);y2(Xu,"displayName","Legend");y2(Xu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jS=Vm,kQ=R4,TQ=Yi,SS=jS?jS.isConcatSpreadable:void 0;function OQ(e){return TQ(e)||kQ(e)||!!(SS&&e&&e[SS])}var PQ=OQ,IQ=xO,DQ=PQ;function OO(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=DQ),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?OO(l,t-1,r,n,a):IQ(a,l):n||(a[a.length]=l)}return a}var PO=OO;function MQ(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var FQ=MQ,RQ=FQ,LQ=RQ(),BQ=LQ,$Q=BQ,zQ=b2;function UQ(e,t){return e&&$Q(e,t,zQ)}var IO=UQ,HQ=Xm;function WQ(e,t){return function(r,n){if(r==null)return r;if(!HQ(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var VQ=WQ,qQ=IO,GQ=VQ,XQ=GQ(qQ),z4=XQ,YQ=z4,KQ=Xm;function JQ(e,t){var r=-1,n=KQ(e)?Array(e.length):[];return YQ(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var DO=JQ;function ZQ(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var QQ=ZQ,AS=Mf;function eee(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=AS(e),o=t!==void 0,l=t===null,c=t===t,u=AS(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var tee=eee,ree=tee;function nee(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=ree(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var aee=nee,sy=S4,iee=A4,see=ul,oee=DO,lee=QQ,cee=bO,uee=aee,dee=Hf,fee=Yi;function hee(e,t,r){t.length?t=sy(t,function(i){return fee(i)?function(o){return iee(o,i.length===1?i[0]:i)}:i}):t=[dee];var n=-1;t=sy(t,cee(see));var a=oee(e,function(i,o,l){var c=sy(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return lee(a,function(i,o){return uee(i,o,r)})}var pee=hee;function mee(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var xee=mee,gee=xee,CS=Math.max;function vee(e,t,r){return t=CS(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=CS(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),gee(e,this,l)}}var bee=vee;function yee(e){return function(){return e}}var wee=yee,_ee=Nd,Nee=function(){try{var e=_ee(Object,"defineProperty");return e({},"",{}),e}catch{}}(),MO=Nee,jee=wee,ES=MO,See=Hf,Aee=ES?function(e,t){return ES(e,"toString",{configurable:!0,enumerable:!1,value:jee(t),writable:!0})}:See,Cee=Aee,Eee=800,kee=16,Tee=Date.now;function Oee(e){var t=0,r=0;return function(){var n=Tee(),a=kee-(n-r);if(r=n,a>0){if(++t>=Eee)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Pee=Oee,Iee=Cee,Dee=Pee,Mee=Dee(Iee),Fee=Mee,Ree=Hf,Lee=bee,Bee=Fee;function $ee(e,t){return Bee(Lee(e,t,Ree),e+"")}var zee=$ee,Uee=w4,Hee=Xm,Wee=L4,Vee=nu;function qee(e,t,r){if(!Vee(r))return!1;var n=typeof t;return(n=="number"?Hee(r)&&Wee(t,r.length):n=="string"&&t in r)?Uee(r[t],e):!1}var w2=qee,Gee=PO,Xee=pee,Yee=zee,kS=w2,Kee=Yee(function(e,t){if(e==null)return[];var r=t.length;return r>1&&kS(e,t[0],t[1])?t=[]:r>2&&kS(t[0],t[1],t[2])&&(t=[t[0]]),Xee(e,Gee(t,1),[])}),Jee=Kee;const U4=Rr(Jee);function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function u5(){return u5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u5.apply(this,arguments)}function Zee(e,t){return rte(e)||tte(e,t)||ete(e,t)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(e,t){if(e){if(typeof e=="string")return TS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(e,t)}}function TS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rte(e){if(Array.isArray(e))return e}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nte(e,t,r){return t=ate(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=ite(e,"string");return Wp(t)=="symbol"?t:t+""}function ite(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e){return Array.isArray(e)&&fa(e[0])&&fa(e[1])?e.join(" ~ "):e}var ote=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,x=t.label,g=t.labelFormatter,v=t.accessibilityLayer,y=v===void 0?!1:v,b=function(){if(d&&d.length){var E={padding:0,margin:0},R=(h?U4(d,h):d).map(function(H,G){if(H.type==="none")return null;var L=oy({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),V=H.formatter||f||ste,J=H.value,W=H.name,ae=J,ve=W;if(V&&ae!=null&&ve!=null){var O=V(J,W,H,G,d);if(Array.isArray(O)){var I=Zee(O,2);ae=I[0],ve=I[1]}else ae=O}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:L},fa(ve)?le.createElement("span",{className:"recharts-tooltip-item-name"},ve):null,fa(ve)?le.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,le.createElement("span",{className:"recharts-tooltip-item-value"},ae),le.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:E},R)}return null},_=oy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=oy({margin:0},u),N=!Gt(x),j=N?x:"",C=Kt("recharts-default-tooltip",p),P=Kt("recharts-tooltip-label",m);N&&g&&d!==void 0&&d!==null&&(j=g(x,d));var M=y?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",u5({className:C,style:_},M),le.createElement("p",{className:P,style:S},le.isValidElement(j)?j:"".concat(j)),b())};function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function l1(e,t,r){return t=lte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lte(e){var t=cte(e,"string");return Vp(t)=="symbol"?t:t+""}function cte(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rh="recharts-tooltip-wrapper",ute={visibility:"hidden"};function dte(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Kt(Rh,l1(l1(l1(l1({},"".concat(Rh,"-right"),ot(r)&&t&&ot(t.x)&&r>=t.x),"".concat(Rh,"-left"),ot(r)&&t&&ot(t.x)&&r<t.x),"".concat(Rh,"-bottom"),ot(n)&&t&&ot(t.y)&&n>=t.y),"".concat(Rh,"-top"),ot(n)&&t&&ot(t.y)&&n<t.y))}function PS(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ot(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var m=f+l,x=c[n]+u;return m>x?Math.max(d,c[n]):Math.max(f,c[n])}function fte(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function hte(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=PS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=PS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=fte({translateX:d,translateY:f,useTranslate3d:l})):u=ute,{cssProperties:u,cssClasses:dte({translateX:d,translateY:f,coordinate:r})}}function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){f5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RO(n.key),n)}}function xte(e,t,r){return t&&mte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gte(e,t,r){return t=Tg(t),vte(e,FO()?Reflect.construct(t,r||[],Tg(e).constructor):t.apply(e,r))}function vte(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bte(e)}function bte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(e)}function yte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d5(e,t)}function d5(e,t){return d5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d5(e,t)}function f5(e,t,r){return t=RO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RO(e){var t=wte(e,"string");return sf(t)=="symbol"?t:t+""}function wte(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MS=1,_te=function(e){function t(){var r;pte(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=gte(this,t,[].concat(a)),f5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),f5(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return yte(t,e),xte(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>MS||Math.abs(n.height-this.state.lastBoundingBox.height)>MS)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,x=a.reverseDirection,g=a.useTranslate3d,v=a.viewBox,y=a.wrapperStyle,b=hte({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),_=b.cssClasses,S=b.cssProperties,N=DS(DS({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return le.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(F.PureComponent),Nte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},el={isSsr:Nte(),get:function(t){return el[t]},set:function(t,r){if(typeof t=="string")el[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){el[a]=t[a]})}}};function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){H4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ste(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BO(n.key),n)}}function Ate(e,t,r){return t&&Ste(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cte(e,t,r){return t=Og(t),Ete(e,LO()?Reflect.construct(t,r||[],Og(e).constructor):t.apply(e,r))}function Ete(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kte(e)}function kte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}function Tte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h5(e,t)}function h5(e,t){return h5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h5(e,t)}function H4(e,t,r){return t=BO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BO(e){var t=Ote(e,"string");return of(t)=="symbol"?t:t+""}function Ote(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pte(e){return e.dataKey}function Ite(e,t){return le.isValidElement(e)?le.cloneElement(e,t):typeof e=="function"?le.createElement(e,t):le.createElement(ote,t)}var Ls=function(e){function t(){return jte(this,t),Cte(this,t,arguments)}return Tte(t,e),Ate(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,x=a.payloadUniqBy,g=a.position,v=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,S=m??[];f&&S.length&&(S=EO(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),x,Pte));var N=S.length>0;return le.createElement(_te,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:g,reverseDirection:v,useTranslate3d:y,viewBox:b,wrapperStyle:_},Ite(u,RS(RS({},this.props),{},{payload:S})))}}])}(F.PureComponent);H4(Ls,"displayName","Tooltip");H4(Ls,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!el.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Dte=cl,Mte=function(){return Dte.Date.now()},Fte=Mte,Rte=/\s/;function Lte(e){for(var t=e.length;t--&&Rte.test(e.charAt(t)););return t}var Bte=Lte,$te=Bte,zte=/^\s+/;function Ute(e){return e&&e.slice(0,$te(e)+1).replace(zte,"")}var Hte=Ute,Wte=Hte,LS=nu,Vte=Mf,BS=NaN,qte=/^[-+]0x[0-9a-f]+$/i,Gte=/^0b[01]+$/i,Xte=/^0o[0-7]+$/i,Yte=parseInt;function Kte(e){if(typeof e=="number")return e;if(Vte(e))return BS;if(LS(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=LS(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Wte(e);var r=Gte.test(e);return r||Xte.test(e)?Yte(e.slice(2),r?2:8):qte.test(e)?BS:+e}var $O=Kte,Jte=nu,ly=Fte,$S=$O,Zte="Expected a function",Qte=Math.max,ere=Math.min;function tre(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Zte);t=$S(t)||0,Jte(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Qte($S(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var j=n,C=a;return n=a=void 0,u=N,o=e.apply(C,j),o}function m(N){return u=N,l=setTimeout(v,t),d?p(N):o}function x(N){var j=N-c,C=N-u,P=t-j;return f?ere(P,i-C):P}function g(N){var j=N-c,C=N-u;return c===void 0||j>=t||j<0||f&&C>=i}function v(){var N=ly();if(g(N))return y(N);l=setTimeout(v,x(N))}function y(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:y(ly())}function S(){var N=ly(),j=g(N);if(n=arguments,a=this,c=N,j){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),o}return S.cancel=b,S.flush=_,S}var rre=tre,nre=rre,are=nu,ire="Expected a function";function sre(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(ire);return are(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),nre(e,t,{leading:n,maxWait:t,trailing:a})}var ore=sre;const zO=Rr(ore);function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){lre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lre(e,t,r){return t=cre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cre(e){var t=ure(e,"string");return qp(t)=="symbol"?t:t+""}function ure(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dre(e,t){return mre(e)||pre(e,t)||hre(e,t)||fre()}function fre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hre(e,t){if(e){if(typeof e=="string")return US(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return US(e,t)}}function US(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mre(e){if(Array.isArray(e))return e}var Pg=F.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,x=m===void 0?0:m,g=e.id,v=e.className,y=e.onResize,b=e.style,_=b===void 0?{}:b,S=F.useRef(null),N=F.useRef();N.current=y,F.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=F.useState({containerWidth:a.width,containerHeight:a.height}),C=dre(j,2),P=C[0],M=C[1],k=F.useCallback(function(R,H){M(function(G){var L=Math.round(R),V=Math.round(H);return G.containerWidth===L&&G.containerHeight===V?G:{containerWidth:L,containerHeight:V}})},[]);F.useEffect(function(){var R=function(W){var ae,ve=W[0].contentRect,O=ve.width,I=ve.height;k(O,I),(ae=N.current)===null||ae===void 0||ae.call(N,O,I)};x>0&&(R=zO(R,x,{trailing:!0,leading:!1}));var H=new ResizeObserver(R),G=S.current.getBoundingClientRect(),L=G.width,V=G.height;return k(L,V),H.observe(S.current),function(){H.disconnect()}},[k,x]);var E=F.useMemo(function(){var R=P.containerWidth,H=P.containerHeight;if(R<0||H<0)return null;_o(Bu(o)||Bu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),_o(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Bu(o)?R:o,L=Bu(c)?H:c;r&&r>0&&(G?L=G/r:L&&(G=L*r),h&&L>h&&(L=h)),_o(G>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,L,o,c,d,f,r);var V=!Array.isArray(p)&&Ll(p.type).endsWith("Chart");return le.Children.map(p,function(J){return le.isValidElement(J)?F.cloneElement(J,c1({width:G,height:L},V?{style:c1({height:"100%",width:"100%",maxHeight:L,maxWidth:G},J.props.style)}:{})):J})},[r,p,c,h,f,d,P,o]);return le.createElement("div",{id:g?"".concat(g):void 0,className:Kt("recharts-responsive-container",v),style:c1(c1({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},E)}),Ym=function(t){return null};Ym.displayName="Cell";function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xre(e,t,r){return t=gre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gre(e){var t=vre(e,"string");return Gp(t)=="symbol"?t:t+""}function vre(e,t){if(Gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0={widthCache:{},cacheCount:0},bre=2e3,yre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WS="recharts_measurement_span";function wre(e){var t=p5({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var pp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||el.isSsr)return{width:0,height:0};var n=wre(r),a=JSON.stringify({text:t,copyStyle:n});if(s0.widthCache[a])return s0.widthCache[a];try{var i=document.getElementById(WS);i||(i=document.createElement("span"),i.setAttribute("id",WS),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=p5(p5({},yre),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return s0.widthCache[a]=c,++s0.cacheCount>bre&&(s0.cacheCount=0,s0.widthCache={}),c}catch{return{width:0,height:0}}},_re=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function Ig(e,t){return Are(e)||Sre(e,t)||jre(e,t)||Nre()}function Nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jre(e,t){if(e){if(typeof e=="string")return VS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(e,t)}}function VS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Are(e){if(Array.isArray(e))return e}function Cre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kre(n.key),n)}}function Ere(e,t,r){return t&&qS(e.prototype,t),r&&qS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kre(e){var t=Tre(e,"string");return Xp(t)=="symbol"?t:t+""}function Tre(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ore=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ire=Object.keys(UO),E0="NaN";function Dre(e,t){return e*UO[t]}var u1=function(){function e(t,r){Cre(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Ore.test(r)&&(this.num=NaN,this.unit=""),Ire.includes(r)&&(this.num=Dre(t,r),this.unit="px")}return Ere(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Pre.exec(r))!==null&&n!==void 0?n:[],i=Ig(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function HO(e){if(e.includes(E0))return E0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=GS.exec(t))!==null&&r!==void 0?r:[],a=Ig(n,4),i=a[1],o=a[2],l=a[3],c=u1.parse(i??""),u=u1.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return E0;t=t.replace(GS,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=XS.exec(t))!==null&&f!==void 0?f:[],p=Ig(h,4),m=p[1],x=p[2],g=p[3],v=u1.parse(m??""),y=u1.parse(g??""),b=x==="+"?v.add(y):v.subtract(y);if(b.isNaN())return E0;t=t.replace(XS,b.toString())}return t}var YS=/\(([^()]*)\)/;function Mre(e){for(var t=e;t.includes("(");){var r=YS.exec(t),n=Ig(r,2),a=n[1];t=t.replace(YS,HO(a))}return t}function Fre(e){var t=e.replace(/\s+/g,"");return t=Mre(t),t=HO(t),t}function Rre(e){try{return Fre(e)}catch{return E0}}function cy(e){var t=Rre(e.slice(5,-1));return t===E0?"":t}var Lre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bre=["dx","dy","angle","className","breakAll"];function m5(){return m5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m5.apply(this,arguments)}function KS(e,t){if(e==null)return{};var r=$re(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $re(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JS(e,t){return Wre(e)||Hre(e,t)||Ure(e,t)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ure(e,t){if(e){if(typeof e=="string")return ZS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(e,t)}}function ZS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Wre(e){if(Array.isArray(e))return e}var WO=/[ \f\n\r\t\v\u2028\u2029]+/,VO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Gt(r)||(n?i=r.toString().split(""):i=r.toString().split(WO));var o=i.map(function(c){return{word:c,width:pp(c,a).width}}),l=n?0:pp(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Vre=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ot(o),f=l,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(L,V){var J=V.word,W=V.width,ae=L[L.length-1];if(ae&&(a==null||i||ae.width+W+n<Number(a)))ae.words.push(J),ae.width+=W+n;else{var ve={words:[J],width:W};L.push(ve)}return L},[])},p=h(r),m=function(G){return G.reduce(function(L,V){return L.width>V.width?L:V})};if(!d)return p;for(var x="…",g=function(G){var L=f.slice(0,G),V=VO({breakAll:u,style:c,children:L+x}).wordsWithComputedWidth,J=h(V),W=J.length>o||m(J).width>Number(a);return[W,J]},v=0,y=f.length-1,b=0,_;v<=y&&b<=f.length-1;){var S=Math.floor((v+y)/2),N=S-1,j=g(N),C=JS(j,2),P=C[0],M=C[1],k=g(S),E=JS(k,1),R=E[0];if(!P&&!R&&(v=S+1),P&&R&&(y=S-1),!P&&R){_=M;break}b++}return _||p},QS=function(t){var r=Gt(t)?[]:t.toString().split(WO);return[{words:r}]},qre=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!el.isSsr){var c,u,d=VO({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return QS(a);return Vre({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return QS(a)},eA="#808080",ld=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,x=m===void 0?"end":m,g=t.fill,v=g===void 0?eA:g,y=KS(t,Lre),b=F.useMemo(function(){return qre({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,S=y.dy,N=y.angle,j=y.className,C=y.breakAll,P=KS(y,Bre);if(!fa(n)||!fa(i))return null;var M=n+(ot(_)?_:0),k=i+(ot(S)?S:0),E;switch(x){case"start":E=cy("calc(".concat(u,")"));break;case"middle":E=cy("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=cy("calc(".concat(b.length-1," * -").concat(l,")"));break}var R=[];if(f){var H=b[0].width,G=y.width;R.push("scale(".concat((ot(G)?G/H:1)/H,")"))}return N&&R.push("rotate(".concat(N,", ").concat(M,", ").concat(k,")")),R.length&&(P.transform=R.join(" ")),le.createElement("text",m5({},Pt(P,!0),{x:M,y:k,className:Kt("recharts-text",j),textAnchor:p,fill:v.includes("url")?eA:v}),b.map(function(L,V){var J=L.words.join(C?"":" ");return le.createElement("tspan",{x:M,dy:V===0?E:l,key:"".concat(J,"-").concat(V)},J)}))};function Vc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function W4(e){let t,r,n;e.length!==2?(t=Vc,r=(l,c)=>Vc(e(l),c),n=(l,c)=>e(l)-c):(t=e===Vc||e===Gre?e:Xre,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Xre(){return 0}function qO(e){return e===null?NaN:+e}function*Yre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Kre=W4(Vc),Km=Kre.right;W4(qO).center;class tA extends Map{constructor(t,r=Qre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(rA(this,t))}has(t){return super.has(rA(this,t))}set(t,r){return super.set(Jre(this,t),r)}delete(t){return super.delete(Zre(this,t))}}function rA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Jre({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Zre({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Qre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ene(e=Vc){if(e===Vc)return GO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function GO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tne=Math.sqrt(50),rne=Math.sqrt(10),nne=Math.sqrt(2);function Dg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=tne?10:i>=rne?5:i>=nne?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Dg(e,t,r*2):[l,c,u]}function x5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Dg(t,e,r):Dg(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function g5(e,t,r){return t=+t,e=+e,r=+r,Dg(e,t,r)[2]}function v5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?g5(t,e,r):g5(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function nA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function aA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function XO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?GO:ene(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));XO(e,t,p,m,a)}const i=e[t];let o=r,l=n;for(Lh(e,r,t),a(e[n],i)>0&&Lh(e,r,n);o<l;){for(Lh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Lh(e,r,l):(++l,Lh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Lh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ane(e,t,r){if(e=Float64Array.from(Yre(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return aA(e);if(t>=1)return nA(e);var n,a=(n-1)*t,i=Math.floor(a),o=nA(XO(e,i).subarray(0,i+1)),l=aA(e.subarray(i+1));return o+(l-o)*(a-i)}}function ine(e,t,r=qO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function sne(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Xs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b5=Symbol("implicit");function V4(){var e=new tA,t=[],r=[],n=b5;function a(i){let o=e.get(i);if(o===void 0){if(n!==b5)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new tA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return V4(t,r).unknown(n)},Xs.apply(a,arguments),a}function Yp(){var e=V4().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,x=p?n:a;i=(x-m)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),m+=(x-m-i*(h-c))*d,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var g=sne(h).map(function(v){return m+i*v});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Yp(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Xs.apply(f(),arguments)}function YO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YO(t())},e}function mp(){return YO(Yp.apply(null,arguments).paddingInner(1))}function q4(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jm(){}var Kp=.7,Mg=1/Kp,U0="\\s*([+-]?\\d+)\\s*",Jp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",one=/^#([0-9a-f]{3,8})$/,lne=new RegExp(`^rgb\\(${U0},${U0},${U0}\\)$`),cne=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),une=new RegExp(`^rgba\\(${U0},${U0},${U0},${Jp}\\)$`),dne=new RegExp(`^rgba\\(${tl},${tl},${tl},${Jp}\\)$`),fne=new RegExp(`^hsl\\(${Jp},${tl},${tl}\\)$`),hne=new RegExp(`^hsla\\(${Jp},${tl},${tl},${Jp}\\)$`),iA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q4(Jm,Zp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sA,formatHex:sA,formatHex8:pne,formatHsl:mne,formatRgb:oA,toString:oA});function sA(){return this.rgb().formatHex()}function pne(){return this.rgb().formatHex8()}function mne(){return JO(this).formatHsl()}function oA(){return this.rgb().formatRgb()}function Zp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=one.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?lA(t):r===3?new Vi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?d1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?d1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lne.exec(e))?new Vi(t[1],t[2],t[3],1):(t=cne.exec(e))?new Vi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=une.exec(e))?d1(t[1],t[2],t[3],t[4]):(t=dne.exec(e))?d1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fne.exec(e))?dA(t[1],t[2]/100,t[3]/100,1):(t=hne.exec(e))?dA(t[1],t[2]/100,t[3]/100,t[4]):iA.hasOwnProperty(e)?lA(iA[e]):e==="transparent"?new Vi(NaN,NaN,NaN,0):null}function lA(e){return new Vi(e>>16&255,e>>8&255,e&255,1)}function d1(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vi(e,t,r,n)}function xne(e){return e instanceof Jm||(e=Zp(e)),e?(e=e.rgb(),new Vi(e.r,e.g,e.b,e.opacity)):new Vi}function y5(e,t,r,n){return arguments.length===1?xne(e):new Vi(e,t,r,n??1)}function Vi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}q4(Vi,y5,KO(Jm,{brighter(e){return e=e==null?Mg:Math.pow(Mg,e),new Vi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kp:Math.pow(Kp,e),new Vi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vi(Yu(this.r),Yu(this.g),Yu(this.b),Fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cA,formatHex:cA,formatHex8:gne,formatRgb:uA,toString:uA}));function cA(){return`#${$u(this.r)}${$u(this.g)}${$u(this.b)}`}function gne(){return`#${$u(this.r)}${$u(this.g)}${$u(this.b)}${$u((isNaN(this.opacity)?1:this.opacity)*255)}`}function uA(){const e=Fg(this.opacity);return`${e===1?"rgb(":"rgba("}${Yu(this.r)}, ${Yu(this.g)}, ${Yu(this.b)}${e===1?")":`, ${e})`}`}function Fg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $u(e){return e=Yu(e),(e<16?"0":"")+e.toString(16)}function dA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xo(e,t,r,n)}function JO(e){if(e instanceof xo)return new xo(e.h,e.s,e.l,e.opacity);if(e instanceof Jm||(e=Zp(e)),!e)return new xo;if(e instanceof xo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new xo(o,l,c,e.opacity)}function vne(e,t,r,n){return arguments.length===1?JO(e):new xo(e,t,r,n??1)}function xo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}q4(xo,vne,KO(Jm,{brighter(e){return e=e==null?Mg:Math.pow(Mg,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kp:Math.pow(Kp,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Vi(uy(e>=240?e-240:e+120,a,n),uy(e,a,n),uy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new xo(fA(this.h),f1(this.s),f1(this.l),Fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fg(this.opacity);return`${e===1?"hsl(":"hsla("}${fA(this.h)}, ${f1(this.s)*100}%, ${f1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fA(e){return e=(e||0)%360,e<0?e+360:e}function f1(e){return Math.max(0,Math.min(1,e||0))}function uy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const G4=e=>()=>e;function bne(e,t){return function(r){return e+r*t}}function yne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wne(e){return(e=+e)==1?ZO:function(t,r){return r-t?yne(t,r,e):G4(isNaN(t)?r:t)}}function ZO(e,t){var r=t-e;return r?bne(e,r):G4(isNaN(e)?t:e)}const hA=function e(t){var r=wne(t);function n(a,i){var o=r((a=y5(a)).r,(i=y5(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=ZO(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function _ne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Nne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jne(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Wf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Sne(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Rg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Ane(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Wf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var w5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dy=new RegExp(w5.source,"g");function Cne(e){return function(){return e}}function Ene(e){return function(t){return e(t)+""}}function kne(e,t){var r=w5.lastIndex=dy.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=w5.exec(e))&&(a=dy.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Rg(n,a)})),r=dy.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Ene(c[0].x):Cne(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Wf(e,t){var r=typeof t,n;return t==null||r==="boolean"?G4(t):(r==="number"?Rg:r==="string"?(n=Zp(t))?(t=n,hA):kne:t instanceof Zp?hA:t instanceof Date?Sne:Nne(t)?_ne:Array.isArray(t)?jne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ane:Rg)(e,t)}function X4(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Tne(e,t){t===void 0&&(t=e,e=Wf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function One(e){return function(){return e}}function Lg(e){return+e}var pA=[0,1];function Ci(e){return e}function _5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:One(isNaN(t)?NaN:.5)}function Pne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ine(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=_5(a,n),i=r(o,i)):(n=_5(n,a),i=r(i,o)),function(l){return i(n(l))}}function Dne(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=_5(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Km(e,l,1,n)-1;return i[c](a[c](l))}}function Zm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _2(){var e=pA,t=pA,r=Wf,n,a,i,o=Ci,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ci&&(o=Pne(e[0],e[h-1])),l=h>2?Dne:Ine,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Rg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Lg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=X4,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ci,d()):o!==Ci},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function Y4(){return _2()(Ci,Ci)}function Mne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function lf(e){return e=Bg(Math.abs(e)),e?e[1]:NaN}function Fne(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Rne(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Lne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qp(e){if(!(t=Lne.exec(e)))throw new Error("invalid format: "+e);var t;return new K4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qp.prototype=K4.prototype;function K4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}K4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bne(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var QO;function $ne(e,t){var r=Bg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(QO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Bg(e,Math.max(0,t+i-1))[0]}function mA(e,t){var r=Bg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mA(e*100,t),r:mA,s:$ne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gA(e){return e}var vA=Array.prototype.map,bA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zne(e){var t=e.grouping===void 0||e.thousands===void 0?gA:Fne(vA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?gA:Rne(vA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Qp(f);var h=f.fill,p=f.align,m=f.sign,x=f.symbol,g=f.zero,v=f.width,y=f.comma,b=f.precision,_=f.trim,S=f.type;S==="n"?(y=!0,S="g"):xA[S]||(b===void 0&&(b=12),_=!0,S="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=x==="$"?n:/[%p]/.test(S)?o:"",C=xA[S],P=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(k){var E=N,R=j,H,G,L;if(S==="c")R=C(k)+R,k="";else{k=+k;var V=k<0||1/k<0;if(k=isNaN(k)?c:C(Math.abs(k),b),_&&(k=Bne(k)),V&&+k==0&&m!=="+"&&(V=!1),E=(V?m==="("?m:l:m==="-"||m==="("?"":m)+E,R=(S==="s"?bA[8+QO/3]:"")+R+(V&&m==="("?")":""),P){for(H=-1,G=k.length;++H<G;)if(L=k.charCodeAt(H),48>L||L>57){R=(L===46?a+k.slice(H+1):k.slice(H))+R,k=k.slice(0,H);break}}}y&&!g&&(k=t(k,1/0));var J=E.length+k.length+R.length,W=J<v?new Array(v-J+1).join(h):"";switch(y&&g&&(k=t(W+k,W.length?v-R.length:1/0),W=""),p){case"<":k=E+k+R+W;break;case"=":k=E+W+k+R;break;case"^":k=W.slice(0,J=W.length>>1)+E+k+R+W.slice(J);break;default:k=W+E+k+R;break}return i(k)}return M.toString=function(){return f+""},M}function d(f,h){var p=u((f=Qp(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(lf(h)/3)))*3,x=Math.pow(10,-m),g=bA[8+m/3];return function(v){return p(x*v)+g}}return{format:u,formatPrefix:d}}var h1,J4,eP;Une({thousands:",",grouping:[3],currency:["$",""]});function Une(e){return h1=zne(e),J4=h1.format,eP=h1.formatPrefix,h1}function Hne(e){return Math.max(0,-lf(Math.abs(e)))}function Wne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lf(t)/3)))*3-lf(Math.abs(e)))}function Vne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lf(t)-lf(e))+1}function tP(e,t,r,n){var a=v5(e,t,r),i;switch(n=Qp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Wne(a,o))&&(n.precision=i),eP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Vne(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Hne(a))&&(n.precision=i-(n.type==="%")*2);break}}return J4(n)}function au(e){var t=e.domain;return e.ticks=function(r){var n=t();return x5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return tP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=g5(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function $g(){var e=Y4();return e.copy=function(){return Zm(e,$g())},Xs.apply(e,arguments),au(e)}function rP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Lg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return rP(e).unknown(t)},e=arguments.length?Array.from(e,Lg):[0,1],au(r)}function nP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function yA(e){return Math.log(e)}function wA(e){return Math.exp(e)}function qne(e){return-Math.log(-e)}function Gne(e){return-Math.exp(-e)}function Xne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yne(e){return e===10?Xne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Kne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _A(e){return(t,r)=>-e(-t,r)}function Z4(e){const t=e(yA,wA),r=t.domain;let n=10,a,i;function o(){return a=Kne(n),i=Yne(n),r()[0]<0?(a=_A(a),i=_A(i),e(qne,Gne)):e(yA,wA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,x;const g=l==null?10:+l;let v=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(x=h<0?m/i(-h):m*i(h),!(x<u)){if(x>d)break;v.push(x)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(x=h>0?m/i(-h):m*i(h),!(x<u)){if(x>d)break;v.push(x)}v.length*2<g&&(v=x5(u,d,g))}else v=x5(h,p,Math.min(p-h,g)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Qp(c)).precision==null&&(c.trim=!0),c=J4(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(nP(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function aP(){const e=Z4(_2()).domain([1,10]);return e.copy=()=>Zm(e,aP()).base(e.base()),Xs.apply(e,arguments),e}function NA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Q4(e){var t=1,r=e(NA(t),jA(t));return r.constant=function(n){return arguments.length?e(NA(t=+n),jA(t)):t},au(r)}function iP(){var e=Q4(_2());return e.copy=function(){return Zm(e,iP()).constant(e.constant())},Xs.apply(e,arguments)}function SA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Jne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zne(e){return e<0?-e*e:e*e}function eN(e){var t=e(Ci,Ci),r=1;function n(){return r===1?e(Ci,Ci):r===.5?e(Jne,Zne):e(SA(r),SA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},au(t)}function tN(){var e=eN(_2());return e.copy=function(){return Zm(e,tN()).exponent(e.exponent())},Xs.apply(e,arguments),e}function Qne(){return tN.apply(null,arguments).exponent(.5)}function AA(e){return Math.sign(e)*e*e}function eae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sP(){var e=Y4(),t=[0,1],r=!1,n;function a(i){var o=eae(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(AA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Lg)).map(AA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xs.apply(a,arguments),au(a)}function oP(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=ine(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Km(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Vc),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return oP().domain(e).range(t).unknown(n)},Xs.apply(i,arguments)}function lP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Km(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return lP().domain([e,t]).range(a).unknown(i)},Xs.apply(au(o),arguments)}function cP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Km(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return cP().domain(e).range(t).unknown(r)},Xs.apply(a,arguments)}const fy=new Date,hy=new Date;function xa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>xa(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(fy.setTime(+i),hy.setTime(+o),e(fy),e(hy),Math.floor(r(fy,hy))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const zg=xa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):zg);zg.range;const Dl=1e3,zs=Dl*60,Ml=zs*60,Vl=Ml*24,rN=Vl*7,CA=Vl*30,py=Vl*365,zu=xa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dl)},(e,t)=>(t-e)/Dl,e=>e.getUTCSeconds());zu.range;const nN=xa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dl)},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getMinutes());nN.range;const aN=xa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getUTCMinutes());aN.range;const iN=xa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dl-e.getMinutes()*zs)},(e,t)=>{e.setTime(+e+t*Ml)},(e,t)=>(t-e)/Ml,e=>e.getHours());iN.range;const sN=xa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ml)},(e,t)=>(t-e)/Ml,e=>e.getUTCHours());sN.range;const Qm=xa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zs)/Vl,e=>e.getDate()-1);Qm.range;const N2=xa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vl,e=>e.getUTCDate()-1);N2.range;const uP=xa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vl,e=>Math.floor(e/Vl));uP.range;function jd(e){return xa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zs)/rN)}const j2=jd(0),Ug=jd(1),tae=jd(2),rae=jd(3),cf=jd(4),nae=jd(5),aae=jd(6);j2.range;Ug.range;tae.range;rae.range;cf.range;nae.range;aae.range;function Sd(e){return xa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rN)}const S2=Sd(0),Hg=Sd(1),iae=Sd(2),sae=Sd(3),uf=Sd(4),oae=Sd(5),lae=Sd(6);S2.range;Hg.range;iae.range;sae.range;uf.range;oae.range;lae.range;const oN=xa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oN.range;const lN=xa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lN.range;const ql=xa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ql.range;const Gl=xa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gl.range;function dP(e,t,r,n,a,i){const o=[[zu,1,Dl],[zu,5,5*Dl],[zu,15,15*Dl],[zu,30,30*Dl],[i,1,zs],[i,5,5*zs],[i,15,15*zs],[i,30,30*zs],[a,1,Ml],[a,3,3*Ml],[a,6,6*Ml],[a,12,12*Ml],[n,1,Vl],[n,2,2*Vl],[r,1,rN],[t,1,CA],[t,3,3*CA],[e,1,py]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=W4(([,,g])=>g).right(o,h);if(p===o.length)return e.every(v5(u/py,d/py,f));if(p===0)return zg.every(Math.max(v5(u,d,f),1));const[m,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(x)}return[l,c]}const[cae,uae]=dP(Gl,lN,S2,uP,sN,aN),[dae,fae]=dP(ql,oN,j2,Qm,iN,nN);function my(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hae(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=$h(a),d=zh(a),f=$h(i),h=zh(i),p=$h(o),m=zh(o),x=$h(l),g=zh(l),v=$h(c),y=zh(c),b={a:V,A:J,b:W,B:ae,c:null,d:IA,e:IA,f:Fae,g:qae,G:Xae,H:Iae,I:Dae,j:Mae,L:fP,m:Rae,M:Lae,p:ve,q:O,Q:FA,s:RA,S:Bae,u:$ae,U:zae,V:Uae,w:Hae,W:Wae,x:null,X:null,y:Vae,Y:Gae,Z:Yae,"%":MA},_={a:I,A:B,b:z,B:q,c:null,d:DA,e:DA,f:Qae,g:cie,G:die,H:Kae,I:Jae,j:Zae,L:pP,m:eie,M:tie,p:se,q:xe,Q:FA,s:RA,S:rie,u:nie,U:aie,V:iie,w:sie,W:oie,x:null,X:null,y:lie,Y:uie,Z:fie,"%":MA},S={a:M,A:k,b:E,B:R,c:H,d:OA,e:OA,f:kae,g:TA,G:kA,H:PA,I:PA,j:Sae,L:Eae,m:jae,M:Aae,p:P,q:Nae,Q:Oae,s:Pae,S:Cae,u:vae,U:bae,V:yae,w:gae,W:wae,x:G,X:L,y:TA,Y:kA,Z:_ae,"%":Tae};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(ie,ye){return function(Te){var X=[],We=-1,Oe=0,Se=ie.length,re,Me,oe;for(Te instanceof Date||(Te=new Date(+Te));++We<Se;)ie.charCodeAt(We)===37&&(X.push(ie.slice(Oe,We)),(Me=EA[re=ie.charAt(++We)])!=null?re=ie.charAt(++We):Me=re==="e"?" ":"0",(oe=ye[re])&&(re=oe(Te,Me)),X.push(re),Oe=We+1);return X.push(ie.slice(Oe,We)),X.join("")}}function j(ie,ye){return function(Te){var X=Bh(1900,void 0,1),We=C(X,ie,Te+="",0),Oe,Se;if(We!=Te.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ye&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Oe=xy(Bh(X.y,0,1)),Se=Oe.getUTCDay(),Oe=Se>4||Se===0?Hg.ceil(Oe):Hg(Oe),Oe=N2.offset(Oe,(X.V-1)*7),X.y=Oe.getUTCFullYear(),X.m=Oe.getUTCMonth(),X.d=Oe.getUTCDate()+(X.w+6)%7):(Oe=my(Bh(X.y,0,1)),Se=Oe.getDay(),Oe=Se>4||Se===0?Ug.ceil(Oe):Ug(Oe),Oe=Qm.offset(Oe,(X.V-1)*7),X.y=Oe.getFullYear(),X.m=Oe.getMonth(),X.d=Oe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Se="Z"in X?xy(Bh(X.y,0,1)).getUTCDay():my(Bh(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Se+5)%7:X.w+X.U*7-(Se+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,xy(X)):my(X)}}function C(ie,ye,Te,X){for(var We=0,Oe=ye.length,Se=Te.length,re,Me;We<Oe;){if(X>=Se)return-1;if(re=ye.charCodeAt(We++),re===37){if(re=ye.charAt(We++),Me=S[re in EA?ye.charAt(We++):re],!Me||(X=Me(ie,Te,X))<0)return-1}else if(re!=Te.charCodeAt(X++))return-1}return X}function P(ie,ye,Te){var X=u.exec(ye.slice(Te));return X?(ie.p=d.get(X[0].toLowerCase()),Te+X[0].length):-1}function M(ie,ye,Te){var X=p.exec(ye.slice(Te));return X?(ie.w=m.get(X[0].toLowerCase()),Te+X[0].length):-1}function k(ie,ye,Te){var X=f.exec(ye.slice(Te));return X?(ie.w=h.get(X[0].toLowerCase()),Te+X[0].length):-1}function E(ie,ye,Te){var X=v.exec(ye.slice(Te));return X?(ie.m=y.get(X[0].toLowerCase()),Te+X[0].length):-1}function R(ie,ye,Te){var X=x.exec(ye.slice(Te));return X?(ie.m=g.get(X[0].toLowerCase()),Te+X[0].length):-1}function H(ie,ye,Te){return C(ie,t,ye,Te)}function G(ie,ye,Te){return C(ie,r,ye,Te)}function L(ie,ye,Te){return C(ie,n,ye,Te)}function V(ie){return o[ie.getDay()]}function J(ie){return i[ie.getDay()]}function W(ie){return c[ie.getMonth()]}function ae(ie){return l[ie.getMonth()]}function ve(ie){return a[+(ie.getHours()>=12)]}function O(ie){return 1+~~(ie.getMonth()/3)}function I(ie){return o[ie.getUTCDay()]}function B(ie){return i[ie.getUTCDay()]}function z(ie){return c[ie.getUTCMonth()]}function q(ie){return l[ie.getUTCMonth()]}function se(ie){return a[+(ie.getUTCHours()>=12)]}function xe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ye=N(ie+="",b);return ye.toString=function(){return ie},ye},parse:function(ie){var ye=j(ie+="",!1);return ye.toString=function(){return ie},ye},utcFormat:function(ie){var ye=N(ie+="",_);return ye.toString=function(){return ie},ye},utcParse:function(ie){var ye=j(ie+="",!0);return ye.toString=function(){return ie},ye}}}var EA={"-":"",_:" ",0:"0"},Pa=/^\s*\d+/,pae=/^%/,mae=/[\\^$*+?|[\]().{}]/g;function jr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function xae(e){return e.replace(mae,"\\$&")}function $h(e){return new RegExp("^(?:"+e.map(xae).join("|")+")","i")}function zh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function gae(e,t,r){var n=Pa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function vae(e,t,r){var n=Pa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function bae(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yae(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wae(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kA(e,t,r){var n=Pa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function TA(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _ae(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Nae(e,t,r){var n=Pa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jae(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function OA(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Sae(e,t,r){var n=Pa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function PA(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Aae(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Cae(e,t,r){var n=Pa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Eae(e,t,r){var n=Pa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kae(e,t,r){var n=Pa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Tae(e,t,r){var n=pae.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Oae(e,t,r){var n=Pa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Pae(e,t,r){var n=Pa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function IA(e,t){return jr(e.getDate(),t,2)}function Iae(e,t){return jr(e.getHours(),t,2)}function Dae(e,t){return jr(e.getHours()%12||12,t,2)}function Mae(e,t){return jr(1+Qm.count(ql(e),e),t,3)}function fP(e,t){return jr(e.getMilliseconds(),t,3)}function Fae(e,t){return fP(e,t)+"000"}function Rae(e,t){return jr(e.getMonth()+1,t,2)}function Lae(e,t){return jr(e.getMinutes(),t,2)}function Bae(e,t){return jr(e.getSeconds(),t,2)}function $ae(e){var t=e.getDay();return t===0?7:t}function zae(e,t){return jr(j2.count(ql(e)-1,e),t,2)}function hP(e){var t=e.getDay();return t>=4||t===0?cf(e):cf.ceil(e)}function Uae(e,t){return e=hP(e),jr(cf.count(ql(e),e)+(ql(e).getDay()===4),t,2)}function Hae(e){return e.getDay()}function Wae(e,t){return jr(Ug.count(ql(e)-1,e),t,2)}function Vae(e,t){return jr(e.getFullYear()%100,t,2)}function qae(e,t){return e=hP(e),jr(e.getFullYear()%100,t,2)}function Gae(e,t){return jr(e.getFullYear()%1e4,t,4)}function Xae(e,t){var r=e.getDay();return e=r>=4||r===0?cf(e):cf.ceil(e),jr(e.getFullYear()%1e4,t,4)}function Yae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jr(t/60|0,"0",2)+jr(t%60,"0",2)}function DA(e,t){return jr(e.getUTCDate(),t,2)}function Kae(e,t){return jr(e.getUTCHours(),t,2)}function Jae(e,t){return jr(e.getUTCHours()%12||12,t,2)}function Zae(e,t){return jr(1+N2.count(Gl(e),e),t,3)}function pP(e,t){return jr(e.getUTCMilliseconds(),t,3)}function Qae(e,t){return pP(e,t)+"000"}function eie(e,t){return jr(e.getUTCMonth()+1,t,2)}function tie(e,t){return jr(e.getUTCMinutes(),t,2)}function rie(e,t){return jr(e.getUTCSeconds(),t,2)}function nie(e){var t=e.getUTCDay();return t===0?7:t}function aie(e,t){return jr(S2.count(Gl(e)-1,e),t,2)}function mP(e){var t=e.getUTCDay();return t>=4||t===0?uf(e):uf.ceil(e)}function iie(e,t){return e=mP(e),jr(uf.count(Gl(e),e)+(Gl(e).getUTCDay()===4),t,2)}function sie(e){return e.getUTCDay()}function oie(e,t){return jr(Hg.count(Gl(e)-1,e),t,2)}function lie(e,t){return jr(e.getUTCFullYear()%100,t,2)}function cie(e,t){return e=mP(e),jr(e.getUTCFullYear()%100,t,2)}function uie(e,t){return jr(e.getUTCFullYear()%1e4,t,4)}function die(e,t){var r=e.getUTCDay();return e=r>=4||r===0?uf(e):uf.ceil(e),jr(e.getUTCFullYear()%1e4,t,4)}function fie(){return"+0000"}function MA(){return"%"}function FA(e){return+e}function RA(e){return Math.floor(+e/1e3)}var o0,xP,gP;hie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hie(e){return o0=hae(e),xP=o0.format,o0.parse,gP=o0.utcFormat,o0.utcParse,o0}function pie(e){return new Date(e)}function mie(e){return e instanceof Date?+e:+new Date(+e)}function cN(e,t,r,n,a,i,o,l,c,u){var d=Y4(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),x=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),_=u("%Y");function S(N){return(c(N)<N?p:l(N)<N?m:o(N)<N?x:i(N)<N?g:n(N)<N?a(N)<N?v:y:r(N)<N?b:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,mie)):h().map(pie)},d.ticks=function(N){var j=h();return e(j[0],j[j.length-1],N??10)},d.tickFormat=function(N,j){return j==null?S:u(j)},d.nice=function(N){var j=h();return(!N||typeof N.range!="function")&&(N=t(j[0],j[j.length-1],N??10)),N?h(nP(j,N)):d},d.copy=function(){return Zm(d,cN(e,t,r,n,a,i,o,l,c,u))},d}function xie(){return Xs.apply(cN(dae,fae,ql,oN,j2,Qm,iN,nN,zu,xP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gie(){return Xs.apply(cN(cae,uae,Gl,lN,S2,N2,sN,aN,zu,gP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function A2(){var e=0,t=1,r,n,a,i,o=Ci,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(Wf),u.rangeRound=d(X4),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function iu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vP(){var e=au(A2()(Ci));return e.copy=function(){return iu(e,vP())},Jl.apply(e,arguments)}function bP(){var e=Z4(A2()).domain([1,10]);return e.copy=function(){return iu(e,bP()).base(e.base())},Jl.apply(e,arguments)}function yP(){var e=Q4(A2());return e.copy=function(){return iu(e,yP()).constant(e.constant())},Jl.apply(e,arguments)}function uN(){var e=eN(A2());return e.copy=function(){return iu(e,uN()).exponent(e.exponent())},Jl.apply(e,arguments)}function vie(){return uN.apply(null,arguments).exponent(.5)}function wP(){var e=[],t=Ci;function r(n){if(n!=null&&!isNaN(n=+n))return t((Km(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ane(e,i/n))},r.copy=function(){return wP(t).domain(e)},Jl.apply(r,arguments)}function C2(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Ci,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function m(x){return function(g){var v,y,b;return arguments.length?([v,y,b]=g,u=Tne(x,[v,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(Wf),p.rangeRound=m(X4),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,a=x(e),i=x(t),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function _P(){var e=au(C2()(Ci));return e.copy=function(){return iu(e,_P())},Jl.apply(e,arguments)}function NP(){var e=Z4(C2()).domain([.1,1,10]);return e.copy=function(){return iu(e,NP()).base(e.base())},Jl.apply(e,arguments)}function jP(){var e=Q4(C2());return e.copy=function(){return iu(e,jP()).constant(e.constant())},Jl.apply(e,arguments)}function dN(){var e=eN(C2());return e.copy=function(){return iu(e,dN()).exponent(e.exponent())},Jl.apply(e,arguments)}function bie(){return dN.apply(null,arguments).exponent(.5)}const LA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yp,scaleDiverging:_P,scaleDivergingLog:NP,scaleDivergingPow:dN,scaleDivergingSqrt:bie,scaleDivergingSymlog:jP,scaleIdentity:rP,scaleImplicit:b5,scaleLinear:$g,scaleLog:aP,scaleOrdinal:V4,scalePoint:mp,scalePow:tN,scaleQuantile:oP,scaleQuantize:lP,scaleRadial:sP,scaleSequential:vP,scaleSequentialLog:bP,scaleSequentialPow:uN,scaleSequentialQuantile:wP,scaleSequentialSqrt:vie,scaleSequentialSymlog:yP,scaleSqrt:Qne,scaleSymlog:iP,scaleThreshold:cP,scaleTime:xie,scaleUtc:gie,tickFormat:tP},Symbol.toStringTag,{value:"Module"}));var yie=Mf;function wie(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!yie(o):r(o,l)))var l=o,c=i}return c}var E2=wie;function _ie(e,t){return e>t}var SP=_ie,Nie=E2,jie=SP,Sie=Hf;function Aie(e){return e&&e.length?Nie(e,Sie,jie):void 0}var Cie=Aie;const k2=Rr(Cie);function Eie(e,t){return e<t}var AP=Eie,kie=E2,Tie=AP,Oie=Hf;function Pie(e){return e&&e.length?kie(e,Oie,Tie):void 0}var Iie=Pie;const T2=Rr(Iie);var Die=S4,Mie=ul,Fie=DO,Rie=Yi;function Lie(e,t){var r=Rie(e)?Die:Fie;return r(e,Mie(t))}var Bie=Lie,$ie=PO,zie=Bie;function Uie(e,t){return $ie(zie(e,t),1)}var Hie=Uie;const Wie=Rr(Hie);var Vie=$4;function qie(e,t){return Vie(e,t)}var Gie=qie;const ex=Rr(Gie);var Vf=1e9,Xie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hN,hn=!0,Ws="[DecimalError] ",Ku=Ws+"Invalid argument: ",fN=Ws+"Exponent out of range: ",qf=Math.floor,Tu=Math.pow,Yie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ds,ja=1e7,cn=7,CP=9007199254740991,Wg=qf(CP/cn),gt={};gt.absoluteValue=gt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};gt.comparedTo=gt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};gt.decimalPlaces=gt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*cn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};gt.dividedBy=gt.div=function(e){return Bl(this,new this.constructor(e))};gt.dividedToIntegerBy=gt.idiv=function(e){var t=this,r=t.constructor;return Gr(Bl(t,new r(e),0,1),r.precision)};gt.equals=gt.eq=function(e){return!this.cmp(e)};gt.exponent=function(){return Zn(this)};gt.greaterThan=gt.gt=function(e){return this.cmp(e)>0};gt.greaterThanOrEqualTo=gt.gte=function(e){return this.cmp(e)>=0};gt.isInteger=gt.isint=function(){return this.e>this.d.length-2};gt.isNegative=gt.isneg=function(){return this.s<0};gt.isPositive=gt.ispos=function(){return this.s>0};gt.isZero=function(){return this.s===0};gt.lessThan=gt.lt=function(e){return this.cmp(e)<0};gt.lessThanOrEqualTo=gt.lte=function(e){return this.cmp(e)<1};gt.logarithm=gt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ds))throw Error(Ws+"NaN");if(r.s<1)throw Error(Ws+(r.s?"NaN":"-Infinity"));return r.eq(ds)?new n(0):(hn=!1,t=Bl(em(r,i),em(e,i),i),hn=!0,Gr(t,a))};gt.minus=gt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TP(t,e):EP(t,(e.s=-e.s,e))};gt.modulo=gt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ws+"NaN");return r.s?(hn=!1,t=Bl(r,e,0,1).times(e),hn=!0,r.minus(t)):Gr(new n(r),a)};gt.naturalExponential=gt.exp=function(){return kP(this)};gt.naturalLogarithm=gt.ln=function(){return em(this)};gt.negated=gt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};gt.plus=gt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EP(t,e):TP(t,(e.s=-e.s,e))};gt.precision=gt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ku+e);if(t=Zn(a)+1,n=a.d.length-1,r=n*cn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};gt.squareRoot=gt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ws+"NaN")}for(e=Zn(l),hn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Yo(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=qf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Bl(l,i,o+2)).times(.5),Yo(i.d).slice(0,o)===(t=Yo(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Gr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return hn=!0,Gr(n,r)};gt.times=gt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%ja|0,t=l/ja|0;i[a]=(i[a]+t)%ja|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,hn?Gr(e,f.precision):e};gt.toDecimalPlaces=gt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(al(e,0,Vf),t===void 0?t=n.rounding:al(t,0,8),Gr(r,e+Zn(r)+1,t))};gt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=cd(n,!0):(al(e,0,Vf),t===void 0?t=a.rounding:al(t,0,8),n=Gr(new a(n),e+1,t),r=cd(n,!0,e+1)),r};gt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?cd(a):(al(e,0,Vf),t===void 0?t=i.rounding:al(t,0,8),n=Gr(new i(a),e+Zn(a)+1,t),r=cd(n.abs(),!1,e+Zn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};gt.toInteger=gt.toint=function(){var e=this,t=e.constructor;return Gr(new t(e),Zn(e)+1,t.rounding)};gt.toNumber=function(){return+this};gt.toPower=gt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ds);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ws+"Infinity");return l}if(l.eq(ds))return l;if(n=c.precision,e.eq(ds))return Gr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=CP){for(a=new c(ds),t=Math.ceil(n/cn+4),hn=!1;r%2&&(a=a.times(l),$A(a.d,t)),r=qf(r/2),r!==0;)l=l.times(l),$A(l.d,t);return hn=!0,e.s<0?new c(ds).div(a):Gr(a,n)}}else if(i<0)throw Error(Ws+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,hn=!1,a=e.times(em(l,n+u)),hn=!0,a=kP(a),a.s=i,a};gt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Zn(a),n=cd(a,r<=i.toExpNeg||r>=i.toExpPos)):(al(e,1,Vf),t===void 0?t=i.rounding:al(t,0,8),a=Gr(new i(a),e,t),r=Zn(a),n=cd(a,e<=r||r<=i.toExpNeg,e)),n};gt.toSignificantDigits=gt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(al(e,1,Vf),t===void 0?t=n.rounding:al(t,0,8)),Gr(new n(r),e,t)};gt.toString=gt.valueOf=gt.val=gt.toJSON=gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zn(e),r=e.constructor;return cd(e,t<=r.toExpNeg||t>=r.toExpPos)};function EP(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),hn?Gr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/cn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ja|0,c[i]%=ja;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,hn?Gr(t,f):t}function al(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ku+e)}function Yo(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=cn-n.length,r&&(i+=Tc(r)),i+=n;o=e[t],n=o+"",r=cn-n.length,r&&(i+=Tc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Bl=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ja|0,o=i/ja|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ja+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,m,x,g,v,y,b,_,S,N,j,C,P=n.constructor,M=n.s==a.s?1:-1,k=n.d,E=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Ws+"Division by zero");for(c=n.e-a.e,j=E.length,S=k.length,p=new P(M),m=p.d=[],u=0;E[u]==(k[u]||0);)++u;if(E[u]>(k[u]||0)&&--c,i==null?y=i=P.precision:o?y=i+(Zn(n)-Zn(a))+1:y=i,y<0)return new P(0);if(y=y/cn+2|0,u=0,j==1)for(d=0,E=E[0],y++;(u<S||d)&&y--;u++)b=d*ja+(k[u]||0),m[u]=b/E|0,d=b%E|0;else{for(d=ja/(E[0]+1)|0,d>1&&(E=e(E,d),k=e(k,d),j=E.length,S=k.length),_=j,x=k.slice(0,j),g=x.length;g<j;)x[g++]=0;C=E.slice(),C.unshift(0),N=E[0],E[1]>=ja/2&&++N;do d=0,l=t(E,x,j,g),l<0?(v=x[0],j!=g&&(v=v*ja+(x[1]||0)),d=v/N|0,d>1?(d>=ja&&(d=ja-1),f=e(E,d),h=f.length,g=x.length,l=t(f,x,h,g),l==1&&(d--,r(f,j<h?C:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<g&&f.unshift(0),r(x,f,g),l==-1&&(g=x.length,l=t(E,x,j,g),l<1&&(d++,r(x,j<g?C:E,g))),g=x.length):l===0&&(d++,x=[0]),m[u++]=d,l&&x[0]?x[g++]=k[_]||0:(x=[k[_]],g=1);while((_++<S||x[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=c,Gr(p,o?i+Zn(p)+1:i)}}();function kP(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Zn(e)>16)throw Error(fN+Zn(e));if(!e.s)return new d(ds);for(t==null?(hn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Tu(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ds),d.precision=l;;){if(a=Gr(a.times(e),l),r=r.times(++c),o=i.plus(Bl(a,r,l)),Yo(o.d).slice(0,l)===Yo(i.d).slice(0,l)){for(;u--;)i=Gr(i.times(i),l);return d.precision=f,t==null?(hn=!0,Gr(i,f)):i}i=o}}function Zn(e){for(var t=e.e*cn,r=e.d[0];r>=10;r/=10)t++;return t}function gy(e,t,r){if(t>e.LN10.sd())throw hn=!0,r&&(e.precision=r),Error(Ws+"LN10 precision limit exceeded");return Gr(new e(e.LN10),t)}function Tc(e){for(var t="";e--;)t+="0";return t}function em(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,m=p.d,x=p.constructor,g=x.precision;if(p.s<1)throw Error(Ws+(p.s?"NaN":"-Infinity"));if(p.eq(ds))return new x(0);if(t==null?(hn=!1,u=g):u=t,p.eq(10))return t==null&&(hn=!0),gy(x,u);if(u+=h,x.precision=u,r=Yo(m),n=r.charAt(0),i=Zn(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Yo(p.d),n=r.charAt(0),f++;i=Zn(p),n>1?(p=new x("0."+r),i++):p=new x(n+"."+r.slice(1))}else return c=gy(x,u+2,g).times(i+""),p=em(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=g,t==null?(hn=!0,Gr(p,g)):p;for(l=o=p=Bl(p.minus(ds),p.plus(ds),u),d=Gr(p.times(p),u),a=3;;){if(o=Gr(o.times(d),u),c=l.plus(Bl(o,new x(a),u)),Yo(c.d).slice(0,u)===Yo(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(gy(x,u+2,g).times(i+""))),l=Bl(l,new x(f),u),x.precision=g,t==null?(hn=!0,Gr(l,g)):l;l=c,a+=2}}function BA(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=qf(r/cn),e.d=[],n=(r+1)%cn,r<0&&(n+=cn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=cn;n<a;)e.d.push(+t.slice(n,n+=cn));t=t.slice(n),n=cn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),hn&&(e.e>Wg||e.e<-Wg))throw Error(fN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Gr(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=cn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/cn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=cn,a=n-cn+o}if(r!==void 0&&(i=Tu(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Tu(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Zn(e),f.length=1,t=t-i-1,f[0]=Tu(10,(cn-t%cn)%cn),e.e=qf(-t/cn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Tu(10,cn-n),f[d]=a>0?(u/Tu(10,o-a)%Tu(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ja&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ja)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(hn&&(e.e>Wg||e.e<-Wg))throw Error(fN+Zn(e));return e}function TP(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),hn?Gr(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/cn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ja-1;--c[i],c[a]+=ja}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,hn?Gr(t,p):t):new h(0)}function cd(e,t,r){var n,a=Zn(e),i=Yo(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Tc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Tc(-a-1)+i,r&&(n=r-o)>0&&(i+=Tc(n))):a>=o?(i+=Tc(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Tc(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Tc(n))),e.s<0?"-"+i:i}function $A(e,t){if(e.length>t)return e.length=t,!0}function OP(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ku+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return BA(o,i.toString())}else if(typeof i!="string")throw Error(Ku+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Yie.test(i))BA(o,i);else throw Error(Ku+i)}if(a.prototype=gt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=OP,a.config=a.set=Kie,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Kie(e){if(!e||typeof e!="object")throw Error(Ws+"Object expected");var t,r,n,a=["precision",1,Vf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(qf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ku+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ku+r+": "+n);return this}var hN=OP(Xie);ds=new hN(1);const Ur=hN;function Jie(e){return tse(e)||ese(e)||Qie(e)||Zie()}function Zie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qie(e,t){if(e){if(typeof e=="string")return N5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N5(e,t)}}function ese(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function tse(e){if(Array.isArray(e))return N5(e)}function N5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rse=function(t){return t},PP={"@@functional/placeholder":!0},IP=function(t){return t===PP},zA=function(t){return function r(){return arguments.length===0||arguments.length===1&&IP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},nse=function e(t,r){return t===1?r:zA(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==PP}).length;return o>=t?r.apply(void 0,a):e(t-o,zA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return IP(f)?c.shift():f});return r.apply(void 0,Jie(d).concat(c))}))})},O2=function(t){return nse(t.length,t)},j5=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},ase=O2(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ise=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return rse;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},S5=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},DP=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function sse(e){var t;return e===0?t=1:t=Math.floor(new Ur(e).abs().log(10).toNumber())+1,t}function ose(e,t,r){for(var n=new Ur(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var lse=O2(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),cse=O2(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),use=O2(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const P2={rangeStep:ose,getDigitCount:sse,interpolateNumber:lse,uninterpolateNumber:cse,uninterpolateTruncation:use};function A5(e){return hse(e)||fse(e)||MP(e)||dse()}function dse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fse(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hse(e){if(Array.isArray(e))return C5(e)}function tm(e,t){return xse(e)||mse(e,t)||MP(e,t)||pse()}function pse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MP(e,t){if(e){if(typeof e=="string")return C5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C5(e,t)}}function C5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mse(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function xse(e){if(Array.isArray(e))return e}function FP(e){var t=tm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function RP(e,t,r){if(e.lte(0))return new Ur(0);var n=P2.getDigitCount(e.toNumber()),a=new Ur(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Ur(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Ur(Math.ceil(c))}function gse(e,t,r){var n=1,a=new Ur(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ur(10).pow(P2.getDigitCount(e)-1),a=new Ur(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ur(Math.floor(e)))}else e===0?a=new Ur(Math.floor((t-1)/2)):r||(a=new Ur(Math.floor(e)));var o=Math.floor((t-1)/2),l=ise(ase(function(c){return a.add(new Ur(c-o).mul(n)).toNumber()}),j5);return l(0,t)}function LP(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ur(0),tickMin:new Ur(0),tickMax:new Ur(0)};var i=RP(new Ur(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ur(0):(o=new Ur(e).add(t).div(2),o=o.sub(new Ur(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ur(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?LP(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ur(l).mul(i)),tickMax:o.add(new Ur(c).mul(i))})}function vse(e){var t=tm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=FP([r,n]),c=tm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(A5(j5(0,a-1).map(function(){return 1/0}))):[].concat(A5(j5(0,a-1).map(function(){return-1/0})),[d]);return r>n?S5(f):f}if(u===d)return gse(u,a,i);var h=LP(u,d,o,i),p=h.step,m=h.tickMin,x=h.tickMax,g=P2.rangeStep(m,x.add(new Ur(.1).mul(p)),p);return r>n?S5(g):g}function bse(e,t){var r=tm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=FP([n,a]),l=tm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=RP(new Ur(u).sub(c).div(d-1),i,0),h=[].concat(A5(P2.rangeStep(new Ur(c),new Ur(u).sub(new Ur(.99).mul(f)),f)),[u]);return n>a?S5(h):h}var yse=DP(vse),wse=DP(bse),_se="Invariant failed";function ud(e,t){throw new Error(_se)}var Nse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function jse(e,t){return Ese(e)||Cse(e,t)||Ase(e,t)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(e,t){if(e){if(typeof e=="string")return UA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(e,t)}}function UA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ese(e){if(Array.isArray(e))return e}function kse(e,t){if(e==null)return{};var r=Tse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ose(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zP(n.key),n)}}function Ise(e,t,r){return t&&Pse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dse(e,t,r){return t=qg(t),Mse(e,BP()?Reflect.construct(t,r||[],qg(e).constructor):t.apply(e,r))}function Mse(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fse(e)}function Fse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!e})()}function qg(e){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(e)}function Rse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E5(e,t)}function E5(e,t){return E5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E5(e,t)}function $P(e,t,r){return t=zP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zP(e){var t=Lse(e,"string");return df(t)=="symbol"?t:t+""}function Lse(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tx=function(e){function t(){return Ose(this,t),Dse(this,t,arguments)}return Rse(t,e),Ise(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=kse(n,Nse),p=Pt(h,!1);this.props.direction==="x"&&d.type!=="number"&&ud();var m=c.map(function(x){var g=u(x,l),v=g.x,y=g.y,b=g.value,_=g.errorVal;if(!_)return null;var S=[],N,j;if(Array.isArray(_)){var C=jse(_,2);N=C[0],j=C[1]}else N=j=_;if(i==="vertical"){var P=d.scale,M=y+a,k=M+o,E=M-o,R=P(b-N),H=P(b+j);S.push({x1:H,y1:k,x2:H,y2:E}),S.push({x1:R,y1:M,x2:H,y2:M}),S.push({x1:R,y1:k,x2:R,y2:E})}else if(i==="horizontal"){var G=f.scale,L=v+a,V=L-o,J=L+o,W=G(b-N),ae=G(b+j);S.push({x1:V,y1:ae,x2:J,y2:ae}),S.push({x1:L,y1:W,x2:L,y2:ae}),S.push({x1:V,y1:W,x2:J,y2:W})}return le.createElement(Nr,Vg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ve){return"".concat(ve.x1,"-").concat(ve.x2,"-").concat(ve.y1,"-").concat(ve.y2)}))},p),S.map(function(ve){return le.createElement("line",Vg({},ve,{key:"line-".concat(ve.x1,"-").concat(ve.x2,"-").concat(ve.y1,"-").concat(ve.y2)}))}))});return le.createElement(Nr,{className:"recharts-errorBars"},m)}}])}(le.Component);$P(tx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$P(tx,"displayName","ErrorBar");function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return t=$se(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $se(e){var t=zse(e,"string");return rm(t)=="symbol"?t:t+""}function zse(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UP=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ls(r,Xu);if(!o)return null;var l=Xu.defaultProps,c=l!==void 0?vu(vu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?vu(vu({},h),f.props):{},m=p.dataKey,x=p.name,g=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:c.iconType||g||"square",color:pN(f),value:x||m,payload:p}}),vu(vu(vu({},c),Xu.getWithHeight(o,a)),{},{payload:u,item:o})};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function WA(e){return Vse(e)||Wse(e)||Hse(e)||Use()}function Use(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hse(e,t){if(e){if(typeof e=="string")return k5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k5(e,t)}}function Wse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vse(e){if(Array.isArray(e))return k5(e)}function k5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H0(e,t,r){return t=qse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qse(e){var t=Gse(e,"string");return nm(t)=="symbol"?t:t+""}function Gse(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(e,t,r){return Gt(e)||Gt(t)?r:fa(t)?xs(e,t,r):Bt(t)?t(e):r}function xp(e,t,r,n){var a=Wie(e,function(l){return ca(l,t)});if(r==="number"){var i=a.filter(function(l){return ot(l)||parseFloat(l)});return i.length?[T2(i),k2(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Gt(l)}):a;return o.map(function(l){return fa(l)||l instanceof Date?l:""})}var Xse=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Si(f-d)!==Si(h-f)){var m=[];if(Si(h-f)===Si(c[1]-c[0])){p=h;var x=f+c[1]-c[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{p=d;var g=h+c[1]-c[0];m[0]=Math.min(f,(g+f)/2),m[1]=Math.max(f,(g+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){o=a[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},pN=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?jn(jn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Yse=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],x=m.items,g=m.cateAxisId,v=x.filter(function(j){return Ll(j.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,b=y!==void 0?jn(jn({},y),v[0].props):v[0].props,_=b.barSize,S=b[g];o[S]||(o[S]=[]);var N=Gt(_)?r:_;o[S].push({item:v[0],stackList:v.slice(1),barSize:Gt(N)?void 0:Ai(N,n,0)})}}return o},Kse=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ai(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,m=o.reduce(function(_,S){return _+S.barSize||0},0);m+=(c-1)*u,m>=a&&(m-=(c-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=c*p);var x=(a-m)/2>>0,g={offset:x-u,size:0};d=o.reduce(function(_,S){var N={item:S.item,position:{offset:g.offset+g.size+u,size:h?p:S.barSize}},j=[].concat(WA(_),[N]);return g=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){j.push({item:C,position:g})}),j},f)}else{var v=Ai(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var y=(a-2*v-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(_,S,N){var j=[].concat(WA(_),[{item:S.item,position:{offset:v+(y+u)*N+(y-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){j.push({item:C,position:j[j.length-1].position})}),j},f)}return d},Jse=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=UP({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&ot(t[p]))return jn(jn({},t),{},H0({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&ot(t[m]))return jn(jn({},t),{},H0({},m,t[m]+(h||0)))}return t},Zse=function(t,r,n){return Gt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},HP=function(t,r,n,a,i){var o=r.props.children,l=gs(o,tx).filter(function(u){return Zse(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=ca(d,n);if(Gt(f))return u;var h=Array.isArray(f)?[T2(f),k2(f)]:[f,f],p=c.reduce(function(m,x){var g=ca(d,x,0),v=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Qse=function(t,r,n,a,i){var o=r.map(function(l){return HP(t,l,n,i,a)}).filter(function(l){return!Gt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},WP=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&HP(t,c,u,a)||xp(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},VP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},qP=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Fl=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Si(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Gm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},vy=new WeakMap,p1=function(t,r){if(typeof r!="function")return t;vy.has(t)||vy.set(t,new WeakMap);var n=vy.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},GP=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Yp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:$g(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mp(),realScaleType:"point"}:i==="category"?{scale:Yp(),realScaleType:"band"}:{scale:$g(),realScaleType:"linear"};if(qm(a)){var c="scale".concat(m2(a));return{scale:(LA[c]||mp)(),realScaleType:LA[c]?c:"point"}}return Bt(a)?{scale:a}:{scale:mp(),realScaleType:"point"}},qA=1e-4,XP=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-qA,o=Math.max(a[0],a[1])+qA,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},eoe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},toe=function(t,r){if(!r||r.length!==2||!ot(r[0])||!ot(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ot(t[0])||t[0]<n)&&(i[0]=n),(!ot(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},roe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Gm(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},noe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Gm(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},aoe={sign:roe,expand:NG,none:rf,silhouette:jG,wiggle:SG,positive:noe},ioe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=aoe[n],o=_G().keys(a).value(function(l,c){return+ca(l,c,0)}).order(e5).offset(i);return o(t)},soe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?jn(jn({},h.type.defaultProps),h.props):h.props,x=m.stackId,g=m.hide;if(g)return f;var v=m[n],y=f[v]||{hasStack:!1,stackGroups:{}};if(fa(x)){var b=y.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[x]=b}else y.stackGroups[$f("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return jn(jn({},f),{},H0({},v,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,g){var v=p.stackGroups[g];return jn(jn({},x),{},H0({},g,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:ioe(t,v.items,i)}))},m)}return jn(jn({},f),{},H0({},h,p))},d)},YP=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=yse(u,i,l);return t.domain([T2(d),k2(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=wse(f,i,l);return{niceTicks:h}}return null};function GA(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gt(a[t.dataKey])){var l=vg(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ca(a,Gt(o)?t.dataKey:o);return Gt(c)?null:t.scale(c)}var XA=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=ca(o,r.dataKey,r.domain[l]);return Gt(c)?null:r.scale(c)-i/2+a},ooe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},loe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?jn(jn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(fa(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},coe=function(t){return t.reduce(function(r,n){return[T2(n.concat([r[0]]).filter(ot)),k2(n.concat([r[1]]).filter(ot))]},[1/0,-1/0])},KP=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=coe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},YA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T5=function(t,r,n){if(Bt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ot(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(YA.test(t[0])){var i=+YA.exec(t[0])[1];a[0]=r[0]-i}else Bt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ot(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(KA.test(t[1])){var o=+KA.exec(t[1])[1];a[1]=r[1]+o}else Bt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Gg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=U4(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},JA=function(t,r,n){return!t||!t.length||ex(t,xs(n,"type.defaultProps.domain"))?r:t},JP=function(t,r){var n=t.type.defaultProps?jn(jn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return jn(jn({},Pt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:pN(t),value:ca(r,a),type:c,payload:r,chartType:u,hide:d})};function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){ZP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZP(e,t,r){return t=uoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uoe(e){var t=doe(e,"string");return am(t)=="symbol"?t:t+""}function doe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function foe(e,t){return xoe(e)||moe(e,t)||poe(e,t)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(e,t){if(e){if(typeof e=="string")return QA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(e,t)}}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function moe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xoe(e){if(Array.isArray(e))return e}var Xg=Math.PI/180,goe=function(t){return t*180/Math.PI},en=function(t,r,n,a){return{x:t+Math.cos(-Xg*a)*n,y:r+Math.sin(-Xg*a)*n}},QP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},voe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ai(t.cx,o,o/2),f=Ai(t.cy,l,l/2),h=QP(o,l,n),p=Ai(t.innerRadius,h,0),m=Ai(t.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(g,v){var y=r[v],b=y.domain,_=y.reversed,S;if(Gt(y.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,m]),_&&(S=[S[1],S[0]]);else{S=y.range;var N=S,j=foe(N,2);c=j[0],u=j[1]}var C=GP(y,i),P=C.realScaleType,M=C.scale;M.domain(b).range(S),XP(M);var k=YP(M,Pl(Pl({},y),{},{realScaleType:P})),E=Pl(Pl(Pl({},y),k),{},{range:S,radius:m,realScaleType:P,scale:M,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return Pl(Pl({},g),{},ZP({},v,E))},{})},boe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},yoe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=boe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:goe(u),angleInRadian:u}},woe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},_oe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},eC=function(t,r){var n=t.x,a=t.y,i=yoe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=woe(r),f=d.startAngle,h=d.endAngle,p=l,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Pl(Pl({},r),{},{radius:o,angle:_oe(p,r)}):null},eI=function(t){return!F.isValidElement(t)&&!Bt(t)&&typeof t!="boolean"?t.className:""};function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}var Noe=["offset"];function joe(e){return Eoe(e)||Coe(e)||Aoe(e)||Soe()}function Soe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aoe(e,t){if(e){if(typeof e=="string")return O5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O5(e,t)}}function Coe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eoe(e){if(Array.isArray(e))return O5(e)}function O5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function koe(e,t){if(e==null)return{};var r=Toe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Toe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){Ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ooe(e,t,r){return t=Poe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Poe(e){var t=Ioe(e,"string");return im(t)=="symbol"?t:t+""}function Ioe(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}var Doe=function(t){var r=t.value,n=t.formatter,a=Gt(t.children)?r:t.children;return Bt(n)?n(a):a},Moe=function(t,r){var n=Si(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Foe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,x=c.clockWise,g=(f+h)/2,v=Moe(p,m),y=v>=0?1:-1,b,_;a==="insideStart"?(b=p+y*o,_=x):a==="insideEnd"?(b=m-y*o,_=!x):a==="end"&&(b=m+y*o,_=x),_=v<=0?_:!_;var S=en(u,d,g,b),N=en(u,d,g,b+(_?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Gt(t.id)?$f("recharts-radial-line-"):t.id;return le.createElement("text",sm({},n,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",l)}),le.createElement("defs",null,le.createElement("path",{id:C,d:j})),le.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Roe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=en(o,l,u+n,h),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,v=en(o,l,g,h),y=v.x,b=v.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Loe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",x=u>=0?1:-1,g=x*a,v=x>0?"end":"start",y=x>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ra(ra({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return ra(ra({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return ra(ra({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return ra(ra({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return i==="insideLeft"?ra({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},j):i==="insideRight"?ra({x:l+u-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},j):i==="insideTop"?ra({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},j):i==="insideBottom"?ra({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},j):i==="insideTopLeft"?ra({x:l+g,y:c+h,textAnchor:y,verticalAnchor:m},j):i==="insideTopRight"?ra({x:l+u-g,y:c+h,textAnchor:v,verticalAnchor:m},j):i==="insideBottomLeft"?ra({x:l+g,y:c+d-h,textAnchor:y,verticalAnchor:p},j):i==="insideBottomRight"?ra({x:l+u-g,y:c+d-h,textAnchor:v,verticalAnchor:p},j):Ff(i)&&(ot(i.x)||Bu(i.x))&&(ot(i.y)||Bu(i.y))?ra({x:l+Ai(i.x,u),y:c+Ai(i.y,d),textAnchor:"end",verticalAnchor:"end"},j):ra({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Boe=function(t){return"cx"in t&&ot(t.cx)};function Aa(e){var t=e.offset,r=t===void 0?5:t,n=koe(e,Noe),a=ra({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Gt(l)&&Gt(c)&&!F.isValidElement(u)&&!Bt(u))return null;if(F.isValidElement(u))return F.cloneElement(u,a);var p;if(Bt(u)){if(p=F.createElement(u,a),F.isValidElement(p))return p}else p=Doe(a);var m=Boe(i),x=Pt(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Foe(a,p,x);var g=m?Roe(a):Loe(a);return le.createElement(ld,sm({className:Kt("recharts-label",f)},x,g,{breakAll:h}),p)}Aa.displayName="Label";var tI=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,x=t.width,g=t.height,v=t.clockWise,y=t.labelViewBox;if(y)return y;if(ot(x)&&ot(g)){if(ot(f)&&ot(h))return{x:f,y:h,width:x,height:g};if(ot(p)&&ot(m))return{x:p,y:m,width:x,height:g}}return ot(f)&&ot(h)?{x:f,y:h,width:0,height:0}:ot(r)&&ot(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},$oe=function(t,r){return t?t===!0?le.createElement(Aa,{key:"label-implicit",viewBox:r}):fa(t)?le.createElement(Aa,{key:"label-implicit",viewBox:r,value:t}):F.isValidElement(t)?t.type===Aa?F.cloneElement(t,{key:"label-implicit",viewBox:r}):le.createElement(Aa,{key:"label-implicit",content:t,viewBox:r}):Bt(t)?le.createElement(Aa,{key:"label-implicit",content:t,viewBox:r}):Ff(t)?le.createElement(Aa,sm({viewBox:r},t,{key:"label-implicit"})):null:null},zoe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=tI(t),o=gs(a,Aa).map(function(c,u){return F.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=$oe(t.label,r||i);return[l].concat(joe(o))};Aa.parseViewBox=tI;Aa.renderCallByParent=zoe;function Uoe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Hoe=Uoe;const Woe=Rr(Hoe);function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}var Voe=["valueAccessor"],qoe=["data","dataKey","clockWise","id","textBreakAll"];function Goe(e){return Joe(e)||Koe(e)||Yoe(e)||Xoe()}function Xoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yoe(e,t){if(e){if(typeof e=="string")return P5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(e,t)}}function Koe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Joe(e){if(Array.isArray(e))return P5(e)}function P5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){Zoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zoe(e,t,r){return t=Qoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qoe(e){var t=ele(e,"string");return om(t)=="symbol"?t:t+""}function ele(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aC(e,t){if(e==null)return{};var r=tle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rle=function(t){return Array.isArray(t.value)?Woe(t.value):t.value};function $l(e){var t=e.valueAccessor,r=t===void 0?rle:t,n=aC(e,Voe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=aC(n,qoe);return!a||!a.length?null:le.createElement(Nr,{className:"recharts-label-list"},a.map(function(d,f){var h=Gt(i)?r(d,f):ca(d&&d.payload,i),p=Gt(l)?{}:{id:"".concat(l,"-").concat(f)};return le.createElement(Aa,Yg({},Pt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Aa.parseViewBox(Gt(o)?d:nC(nC({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}$l.displayName="LabelList";function nle(e,t){return e?e===!0?le.createElement($l,{key:"labelList-implicit",data:t}):le.isValidElement(e)||Bt(e)?le.createElement($l,{key:"labelList-implicit",data:t,content:e}):Ff(e)?le.createElement($l,Yg({data:t},e,{key:"labelList-implicit"})):null:null}function ale(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=gs(n,$l).map(function(o,l){return F.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=nle(e.label,t);return[i].concat(Goe(a))}$l.renderCallByParent=ale;function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function I5(){return I5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I5.apply(this,arguments)}function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){ile(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ile(e,t,r){return t=sle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sle(e){var t=ole(e,"string");return lm(t)=="symbol"?t:t+""}function ole(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lle=function(t,r){var n=Si(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},m1=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Xg,h=u?i:i+o*f,p=en(r,n,d,h),m=en(r,n,a,h),x=u?i-o*f:i,g=en(r,n,d*Math.cos(f*Xg),x);return{center:p,circleTangency:m,lineTangency:g,theta:f}},rI=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=lle(o,l),u=o+c,d=en(r,n,i,o),f=en(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=en(r,n,a,o),m=en(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},cle=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Si(d-u),h=m1({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,x=h.theta,g=m1({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,y=g.lineTangency,b=g.theta,_=c?Math.abs(u-d):Math.abs(u-d)-x-b;if(_<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rI({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=m1({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=N.circleTangency,C=N.lineTangency,P=N.theta,M=m1({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=M.circleTangency,E=M.lineTangency,R=M.theta,H=c?Math.abs(u-d):Math.abs(u-d)-P-R;if(H<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},ule={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nI=function(t){var r=sC(sC({},ule),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Kt("recharts-sector",h),m=o-i,x=Ai(l,m,0,!0),g;return x>0&&Math.abs(d-f)<360?g=cle({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=rI({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),le.createElement("path",I5({},Pt(r,!0),{className:p,d:g,role:"img"}))};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function D5(){return D5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D5.apply(this,arguments)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){dle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dle(e,t,r){return t=fle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fle(e){var t=hle(e,"string");return cm(t)=="symbol"?t:t+""}function hle(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cC={curveBasisClosed:dG,curveBasisOpen:fG,curveBasis:uG,curveBumpX:Kq,curveBumpY:Jq,curveLinearClosed:hG,curveLinear:g2,curveMonotoneX:pG,curveMonotoneY:mG,curveNatural:xG,curveStep:gG,curveStepAfter:bG,curveStepBefore:vG},x1=function(t){return t.x===+t.x&&t.y===+t.y},Uh=function(t){return t.x},Hh=function(t){return t.y},ple=function(t,r){if(Bt(t))return t;var n="curve".concat(m2(t));return(n==="curveMonotone"||n==="curveBump")&&r?cC["".concat(n).concat(r==="vertical"?"Y":"X")]:cC[n]||g2},mle=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=ple(n,l),f=u?i.filter(function(x){return x1(x)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(x){return x1(x)}):o,m=f.map(function(x,g){return lC(lC({},x),{},{base:p[g]})});return l==="vertical"?h=s1().y(Hh).x1(Uh).x0(function(x){return x.base.x}):h=s1().x(Uh).y1(Hh).y0(function(x){return x.base.y}),h.defined(x1).curve(d),h(m)}return l==="vertical"&&ot(o)?h=s1().y(Hh).x1(Uh).x0(o):ot(o)?h=s1().x(Uh).y1(Hh).y0(o):h=JT().x(Uh).y(Hh),h.defined(x1).curve(d),h(f)},Kg=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?mle(t):a;return le.createElement("path",D5({},Pt(t,!1),bg(t),{className:Kt("recharts-curve",r),d:o,ref:i}))},aI={exports:{}},xle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gle=xle,vle=gle;function iI(){}function sI(){}sI.resetWarningCache=iI;var ble=function(){function e(n,a,i,o,l,c){if(c!==vle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sI,resetWarningCache:iI};return r.PropTypes=r,r};aI.exports=ble();var yle=aI.exports;const kr=Rr(yle);var wle=Object.getOwnPropertyNames,_le=Object.getOwnPropertySymbols,Nle=Object.prototype.hasOwnProperty;function uC(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function g1(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function dC(e){return wle(e).concat(_le(e))}var jle=Object.hasOwn||function(e,t){return Nle.call(e,t)};function Ad(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Sle="__v",Ale="__o",Cle="_owner",fC=Object.getOwnPropertyDescriptor,hC=Object.keys;function Ele(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function kle(e,t){return Ad(e.getTime(),t.getTime())}function Tle(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ole(e,t){return e===t}function pC(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Ple=Ad;function Ile(e,t,r){var n=hC(e),a=n.length;if(hC(t).length!==a)return!1;for(;a-- >0;)if(!oI(e,t,r,n[a]))return!1;return!0}function Wh(e,t,r){var n=dC(e),a=n.length;if(dC(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!oI(e,t,r,i)||(o=fC(e,i),l=fC(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Dle(e,t){return Ad(e.valueOf(),t.valueOf())}function Mle(e,t){return e.source===t.source&&e.flags===t.flags}function mC(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Fle(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Rle(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function oI(e,t,r,n){return(n===Cle||n===Ale||n===Sle)&&(e.$$typeof||t.$$typeof)?!0:jle(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Lle="[object Arguments]",Ble="[object Boolean]",$le="[object Date]",zle="[object Error]",Ule="[object Map]",Hle="[object Number]",Wle="[object Object]",Vle="[object RegExp]",qle="[object Set]",Gle="[object String]",Xle="[object URL]",Yle=Array.isArray,xC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,gC=Object.assign,Kle=Object.prototype.toString.call.bind(Object.prototype.toString);function Jle(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,x,g){if(m===x)return!0;if(m==null||x==null)return!1;var v=typeof m;if(v!==typeof x)return!1;if(v!=="object")return v==="number"?o(m,x,g):v==="function"?a(m,x,g):!1;var y=m.constructor;if(y!==x.constructor)return!1;if(y===Object)return l(m,x,g);if(Yle(m))return t(m,x,g);if(xC!=null&&xC(m))return f(m,x,g);if(y===Date)return r(m,x,g);if(y===RegExp)return u(m,x,g);if(y===Map)return i(m,x,g);if(y===Set)return d(m,x,g);var b=Kle(m);return b===$le?r(m,x,g):b===Vle?u(m,x,g):b===Ule?i(m,x,g):b===qle?d(m,x,g):b===Wle?typeof m.then!="function"&&typeof x.then!="function"&&l(m,x,g):b===Xle?h(m,x,g):b===zle?n(m,x,g):b===Lle?l(m,x,g):b===Ble||b===Hle||b===Gle?c(m,x,g):!1}}function Zle(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Wh:Ele,areDatesEqual:kle,areErrorsEqual:Tle,areFunctionsEqual:Ole,areMapsEqual:n?uC(pC,Wh):pC,areNumbersEqual:Ple,areObjectsEqual:n?Wh:Ile,arePrimitiveWrappersEqual:Dle,areRegExpsEqual:Mle,areSetsEqual:n?uC(mC,Wh):mC,areTypedArraysEqual:n?Wh:Fle,areUrlsEqual:Rle};if(r&&(a=gC({},a,r(a))),t){var i=g1(a.areArraysEqual),o=g1(a.areMapsEqual),l=g1(a.areObjectsEqual),c=g1(a.areSetsEqual);a=gC({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Qle(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function ece(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var tce=su();su({strict:!0});su({circular:!0});su({circular:!0,strict:!0});su({createInternalComparator:function(){return Ad}});su({strict:!0,createInternalComparator:function(){return Ad}});su({circular:!0,createInternalComparator:function(){return Ad}});su({circular:!0,createInternalComparator:function(){return Ad},strict:!0});function su(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Zle(e),c=Jle(l),u=n?n(c):Qle(c);return ece({circular:r,comparator:c,createState:a,equals:u,strict:o})}function rce(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function vC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):rce(a)};requestAnimationFrame(n)}function M5(e){"@babel/helpers - typeof";return M5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M5(e)}function nce(e){return oce(e)||sce(e)||ice(e)||ace()}function ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(e,t){if(e){if(typeof e=="string")return bC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(e,t)}}function bC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oce(e){if(Array.isArray(e))return e}function lce(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=nce(o),c=l[0],u=l.slice(1);if(typeof c=="number"){vC(a.bind(null,u),c);return}a(c),vC(a.bind(null,u));return}M5(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){lI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lI(e,t,r){return t=cce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return um(t)==="symbol"?t:String(t)}function uce(e,t){if(um(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dce=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},fce=function(t){return t},hce=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gp=function(t,r){return Object.keys(r).reduce(function(n,a){return wC(wC({},n),{},lI({},a,t(a,r[a])))},{})},_C=function(t,r,n){return t.map(function(a){return"".concat(hce(a)," ").concat(r,"ms ").concat(n)}).join(",")};function pce(e,t){return gce(e)||xce(e,t)||cI(e,t)||mce()}function mce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gce(e){if(Array.isArray(e))return e}function vce(e){return wce(e)||yce(e)||cI(e)||bce()}function bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cI(e,t){if(e){if(typeof e=="string")return F5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F5(e,t)}}function yce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wce(e){if(Array.isArray(e))return F5(e)}function F5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jg=1e-4,uI=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},dI=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},NC=function(t,r){return function(n){var a=uI(t,r);return dI(a,n)}},_ce=function(t,r){return function(n){var a=uI(t,r),i=[].concat(vce(a.map(function(o,l){return o*l}).slice(1)),[0]);return dI(i,n)}},jC=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=pce(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=NC(a,o),h=NC(i,l),p=_ce(a,o),m=function(v){return v>1?1:v<0?0:v},x=function(v){for(var y=v>1?1:v,b=y,_=0;_<8;++_){var S=f(b)-y,N=p(b);if(Math.abs(S-y)<Jg||N<Jg)return h(b);b=m(b-S/N)}return h(b)};return x.isStepper=!1,x},Nce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,m=h*i,x=h+(p-m)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<Jg&&Math.abs(x)<Jg?[f,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},jce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jC(a);case"spring":return Nce();default:if(a.split("(")[0]==="cubic-bezier")return jC(a)}return typeof a=="function"?a:null};function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function SC(e){return Cce(e)||Ace(e)||fI(e)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ace(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cce(e){if(Array.isArray(e))return L5(e)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){R5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R5(e,t,r){return t=Ece(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ece(e){var t=kce(e,"string");return dm(t)==="symbol"?t:String(t)}function kce(e,t){if(dm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tce(e,t){return Ice(e)||Pce(e,t)||fI(e,t)||Oce()}function Oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fI(e,t){if(e){if(typeof e=="string")return L5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L5(e,t)}}function L5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ice(e){if(Array.isArray(e))return e}var Zg=function(t,r,n){return t+(r-t)*n},B5=function(t){var r=t.from,n=t.to;return r!==n},Dce=function e(t,r,n){var a=gp(function(i,o){if(B5(o)){var l=t(o.from,o.to,o.velocity),c=Tce(l,2),u=c[0],d=c[1];return Ra(Ra({},o),{},{from:u,velocity:d})}return o},r);return n<1?gp(function(i,o){return B5(o)?Ra(Ra({},o),{},{velocity:Zg(o.velocity,a[i].velocity,n),from:Zg(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Mce=function(e,t,r,n,a){var i=dce(e,t),o=i.reduce(function(g,v){return Ra(Ra({},g),{},R5({},v,[e[v],t[v]]))},{}),l=i.reduce(function(g,v){return Ra(Ra({},g),{},R5({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return gp(function(v,y){return y.from},l)},p=function(){return!Object.values(l).filter(B5).length},m=function(v){u||(u=v);var y=v-u,b=y/r.dt;l=Dce(r,l,b),a(Ra(Ra(Ra({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},x=function(v){d||(d=v);var y=(v-d)/n,b=gp(function(S,N){return Zg.apply(void 0,SC(N).concat([r(y)]))},o);if(a(Ra(Ra(Ra({},e),t),b)),y<1)c=requestAnimationFrame(f);else{var _=gp(function(S,N){return Zg.apply(void 0,SC(N).concat([r(1)]))},o);a(Ra(Ra(Ra({},e),t),_))}};return f=r.isStepper?m:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}var Fce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rce(e,t){if(e==null)return{};var r=Lce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lce(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function by(e){return Uce(e)||zce(e)||$ce(e)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ce(e,t){if(e){if(typeof e=="string")return $5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $5(e,t)}}function zce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uce(e){if(Array.isArray(e))return $5(e)}function $5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){np(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function np(e,t,r){return t=hI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hI(n.key),n)}}function Vce(e,t,r){return t&&Wce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hI(e){var t=qce(e,"string");return ff(t)==="symbol"?t:String(t)}function qce(e,t){if(ff(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z5(e,t)}function z5(e,t){return z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z5(e,t)}function Xce(e){var t=Yce();return function(){var n=Qg(e),a;if(t){var i=Qg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return U5(this,a)}}function U5(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H5(e)}function H5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qg(e){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(e)}var il=function(e){Gce(r,e);var t=Xce(r);function r(n,a){var i;Hce(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(H5(i)),i.changeStyle=i.changeStyle.bind(H5(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),U5(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},U5(i);i.state={style:c?np({},c,u):u}}else i.state={style:{}};return i}return Vce(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?np({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(tce(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?f:a.to;if(this.state&&h){var g={style:c?np({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(g)}this.runAnimation(ao(ao({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=Mce(o,l,jce(u),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,g,v){if(v===0)return x;var y=g.duration,b=g.easing,_=b===void 0?"ease":b,S=g.style,N=g.properties,j=g.onAnimationEnd,C=v>0?o[v-1]:g,P=N||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(by(x),[i.runJSAnimation.bind(i,{from:C.style,to:S,duration:y,easing:_}),y]);var M=_C(P,y,_),k=ao(ao(ao({},C.style),S),{},{transition:M});return[].concat(by(x),[k,y,j]).filter(fce)};return this.manager.start([c].concat(by(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=lce());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?np({},l,c):c,g=_C(Object.keys(x),o,u);m.start([d,i,ao(ao({},x),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Rce(a,Fce),u=F.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var m=p.props,x=m.style,g=x===void 0?{}:x,v=m.className,y=F.cloneElement(p,ao(ao({},c),{},{style:ao(ao({},g),d),className:v}));return y};return u===1?f(F.Children.only(i)):le.createElement("div",null,F.Children.map(i,function(h){return f(h)}))}}]),r}(F.PureComponent);il.displayName="Animate";il.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};il.propTypes={from:kr.oneOfType([kr.object,kr.string]),to:kr.oneOfType([kr.object,kr.string]),attributeName:kr.string,duration:kr.number,begin:kr.number,easing:kr.oneOfType([kr.string,kr.func]),steps:kr.arrayOf(kr.shape({duration:kr.number.isRequired,style:kr.object.isRequired,easing:kr.oneOfType([kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kr.func]),properties:kr.arrayOf("string"),onAnimationEnd:kr.func})),children:kr.oneOfType([kr.node,kr.func]),isActive:kr.bool,canBegin:kr.bool,onAnimationEnd:kr.func,shouldReAnimate:kr.bool,onAnimationStart:kr.func,onAnimationReStart:kr.func};function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(this,arguments)}function Kce(e,t){return eue(e)||Qce(e,t)||Zce(e,t)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(e,t){if(e){if(typeof e=="string")return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,t)}}function EC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eue(e){if(Array.isArray(e))return e}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t,r){return t=rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return fm(t)=="symbol"?t:t+""}function nue(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OC=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*m,`
            L `).concat(t+n,",").concat(r+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-c*m,",").concat(r+a,`
            L `).concat(t+c*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},aue=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},iue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mN=function(t){var r=TC(TC({},iue),t),n=F.useRef(),a=F.useState(-1),i=Kce(a,2),o=i[0],l=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Kt("recharts-rectangle",p);return y?le.createElement(il,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:m,isActive:y},function(_){var S=_.width,N=_.height,j=_.x,C=_.y;return le.createElement(il,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:v,easing:m},le.createElement("path",ev({},Pt(r,!0),{className:b,d:OC(j,C,S,N,h),ref:n})))}):le.createElement("path",ev({},Pt(r,!0),{className:b,d:OC(c,u,d,f,h)}))},sue=["points","className","baseLinePoints","connectNulls"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(this,arguments)}function oue(e,t){if(e==null)return{};var r=lue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PC(e){return fue(e)||due(e)||uue(e)||cue()}function cue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uue(e,t){if(e){if(typeof e=="string")return W5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W5(e,t)}}function due(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fue(e){if(Array.isArray(e))return W5(e)}function W5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IC=function(t){return t&&t.x===+t.x&&t.y===+t.y},hue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){IC(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),IC(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vp=function(t,r){var n=hue(t);r&&(n=[n.reduce(function(i,o){return[].concat(PC(i),PC(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},pue=function(t,r,n){var a=vp(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(vp(r.reverse(),n).slice(1))},mue=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=oue(t,sue);if(!r||!r.length)return null;var l=Kt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=pue(r,a,i);return le.createElement("g",{className:l},le.createElement("path",k0({},Pt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?le.createElement("path",k0({},Pt(o,!0),{fill:"none",d:vp(r,i)})):null,c?le.createElement("path",k0({},Pt(o,!0),{fill:"none",d:vp(a,i)})):null)}var d=vp(r,i);return le.createElement("path",k0({},Pt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function V5(){return V5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V5.apply(this,arguments)}var I2=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Kt("recharts-dot",i);return r===+r&&n===+n&&a===+a?le.createElement("circle",V5({},Pt(t,!1),bg(t),{className:o,cx:r,cy:n,r:a})):null};function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}var xue=["x","y","top","left","width","height","className"];function q5(){return q5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q5.apply(this,arguments)}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vue(e,t,r){return t=bue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bue(e){var t=yue(e,"string");return hm(t)=="symbol"?t:t+""}function yue(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wue(e,t){if(e==null)return{};var r=_ue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nue=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},jue=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,x=wue(t,xue),g=gue({x:n,y:i,top:l,left:u,width:f,height:p},x);return!ot(n)||!ot(i)||!ot(f)||!ot(p)||!ot(l)||!ot(u)?null:le.createElement("path",q5({},Pt(g,!0),{className:Kt("recharts-cross",m),d:Nue(n,i,f,p,l,u)}))},Sue=E2,Aue=SP,Cue=ul;function Eue(e,t){return e&&e.length?Sue(e,Cue(t),Aue):void 0}var kue=Eue;const Tue=Rr(kue);var Oue=E2,Pue=ul,Iue=AP;function Due(e,t){return e&&e.length?Oue(e,Pue(t),Iue):void 0}var Mue=Due;const Fue=Rr(Mue);var Rue=["cx","cy","angle","ticks","axisLine"],Lue=["ticks","tick","angle","tickFormatter","stroke"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(this,arguments)}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){D2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FC(e,t){if(e==null)return{};var r=Bue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mI(n.key),n)}}function zue(e,t,r){return t&&RC(e.prototype,t),r&&RC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uue(e,t,r){return t=tv(t),Hue(e,pI()?Reflect.construct(t,r||[],tv(e).constructor):t.apply(e,r))}function Hue(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wue(e)}function Wue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pI=function(){return!!e})()}function tv(e){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(e)}function Vue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G5(e,t)}function G5(e,t){return G5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G5(e,t)}function D2(e,t,r){return t=mI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mI(e){var t=que(e,"string");return hf(t)=="symbol"?t:t+""}function que(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M2=function(e){function t(){return $ue(this,t),Uue(this,t,arguments)}return Vue(t,e),zue(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return en(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Tue(l,function(d){return d.coordinate||0}),u=Fue(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=FC(n,Rue),d=l.reduce(function(m,x){return[Math.min(m[0],x.coordinate),Math.max(m[1],x.coordinate)]},[1/0,-1/0]),f=en(a,i,d[0],o),h=en(a,i,d[1],o),p=bu(bu(bu({},Pt(u,!1)),{},{fill:"none"},Pt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return le.createElement("line",bp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=FC(a,Lue),f=this.getTickTextAnchor(),h=Pt(d,!1),p=Pt(o,!1),m=i.map(function(x,g){var v=n.getTickValueCoord(x),y=bu(bu(bu(bu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},v),{},{payload:x});return le.createElement(Nr,bp({className:Kt("recharts-polar-radius-axis-tick",eI(o)),key:"tick-".concat(x.coordinate)},od(n.props,x,g)),t.renderTickItem(o,y,c?c(x.value,g):x.value))});return le.createElement(Nr,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:le.createElement(Nr,{className:Kt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Aa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return le.isValidElement(n)?o=le.cloneElement(n,a):Bt(n)?o=n(a):o=le.createElement(ld,bp({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(F.PureComponent);D2(M2,"displayName","PolarRadiusAxis");D2(M2,"axisType","radiusAxis");D2(M2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(this,arguments)}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){F2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gI(n.key),n)}}function Xue(e,t,r){return t&&BC(e.prototype,t),r&&BC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yue(e,t,r){return t=rv(t),Kue(e,xI()?Reflect.construct(t,r||[],rv(e).constructor):t.apply(e,r))}function Kue(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jue(e)}function Jue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xI=function(){return!!e})()}function rv(e){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rv(e)}function Zue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X5(e,t)}function X5(e,t){return X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X5(e,t)}function F2(e,t,r){return t=gI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gI(e){var t=Que(e,"string");return pf(t)=="symbol"?t:t+""}function Que(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ede=Math.PI/180,$C=1e-5,R2=function(e){function t(){return Gue(this,t),Yue(this,t,arguments)}return Zue(t,e),Xue(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=en(i,o,l,n.coordinate),h=en(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*ede),o;return i>$C?o=a==="outer"?"start":"end":i<-$C?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=yu(yu({},Pt(this.props,!1)),{},{fill:"none"},Pt(l,!1));if(c==="circle")return le.createElement(I2,Mu({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return en(a,i,o,h.coordinate)});return le.createElement(mue,Mu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Pt(this.props,!1),f=Pt(o,!1),h=yu(yu({},d),{},{fill:"none"},Pt(l,!1)),p=i.map(function(m,x){var g=n.getTickLineCoord(m),v=n.getTickTextAnchor(m),y=yu(yu(yu({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:x,payload:m,x:g.x2,y:g.y2});return le.createElement(Nr,Mu({className:Kt("recharts-polar-angle-axis-tick",eI(o)),key:"tick-".concat(m.coordinate)},od(n.props,m,x)),l&&le.createElement("line",Mu({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,y,c?c(m.value,x):m.value))});return le.createElement(Nr,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:le.createElement(Nr,{className:Kt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return le.isValidElement(n)?o=le.cloneElement(n,a):Bt(n)?o=n(a):o=le.createElement(ld,Mu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(F.PureComponent);F2(R2,"displayName","PolarAngleAxis");F2(R2,"axisType","angleAxis");F2(R2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tde=wO,rde=tde(Object.getPrototypeOf,Object),nde=rde,ade=Yl,ide=nde,sde=Kl,ode="[object Object]",lde=Function.prototype,cde=Object.prototype,vI=lde.toString,ude=cde.hasOwnProperty,dde=vI.call(Object);function fde(e){if(!sde(e)||ade(e)!=ode)return!1;var t=ide(e);if(t===null)return!0;var r=ude.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&vI.call(r)==dde}var hde=fde;const pde=Rr(hde);var mde=Yl,xde=Kl,gde="[object Boolean]";function vde(e){return e===!0||e===!1||xde(e)&&mde(e)==gde}var bde=vde;const yde=Rr(bde);function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(this,arguments)}function wde(e,t){return Sde(e)||jde(e,t)||Nde(e,t)||_de()}function _de(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nde(e,t){if(e){if(typeof e=="string")return zC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(e,t)}}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Sde(e){if(Array.isArray(e))return e}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){Ade(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ade(e,t,r){return t=Cde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cde(e){var t=Ede(e,"string");return pm(t)=="symbol"?t:t+""}function Ede(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WC=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},kde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tde=function(t){var r=HC(HC({},kde),t),n=F.useRef(),a=F.useState(-1),i=wde(a,2),o=i[0],l=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Kt("recharts-trapezoid",p);return v?le.createElement(il,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:m,isActive:v},function(b){var _=b.upperWidth,S=b.lowerWidth,N=b.height,j=b.x,C=b.y;return le.createElement(il,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:m},le.createElement("path",nv({},Pt(r,!0),{className:y,d:WC(j,C,_,S,N),ref:n})))}):le.createElement("g",null,le.createElement("path",nv({},Pt(r,!0),{className:y,d:WC(c,u,d,f,h)})))},Ode=["option","shapeType","propTransformer","activeClassName","isActive"];function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function Pde(e,t){if(e==null)return{};var r=Ide(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ide(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){Dde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dde(e,t,r){return t=Mde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mde(e){var t=Fde(e,"string");return mm(t)=="symbol"?t:t+""}function Fde(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rde(e,t){return av(av({},t),e)}function Lde(e,t){return e==="symbols"}function qC(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return le.createElement(mN,r);case"trapezoid":return le.createElement(Tde,r);case"sector":return le.createElement(nI,r);case"symbols":if(Lde(t))return le.createElement(D4,r);break;default:return null}}function Bde(e){return F.isValidElement(e)?e.props:e}function bI(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Rde:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Pde(e,Ode),u;if(F.isValidElement(t))u=F.cloneElement(t,av(av({},c),Bde(t)));else if(Bt(t))u=t(c);else if(pde(t)&&!yde(t)){var d=a(t,c);u=le.createElement(qC,{shapeType:r,elementProps:d})}else{var f=c;u=le.createElement(qC,{shapeType:r,elementProps:f})}return l?le.createElement(Nr,{className:o},u):u}function L2(e,t){return t!=null&&"trapezoids"in e.props}function B2(e,t){return t!=null&&"sectors"in e.props}function xm(e,t){return t!=null&&"points"in e.props}function $de(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function zde(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ude(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Hde(e,t){var r;return L2(e,t)?r=$de:B2(e,t)?r=zde:xm(e,t)&&(r=Ude),r}function Wde(e,t){var r;return L2(e,t)?r="trapezoids":B2(e,t)?r="sectors":xm(e,t)&&(r="points"),r}function Vde(e,t){if(L2(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(B2(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xm(e,t)?t.payload:{}}function qde(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Wde(r,t),i=Vde(r,t),o=n.filter(function(c,u){var d=ex(i,c),f=r.props[a].filter(function(m){var x=Hde(r,t);return x(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var ag;function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){Bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wI(n.key),n)}}function Xde(e,t,r){return t&&XC(e.prototype,t),r&&XC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yde(e,t,r){return t=iv(t),Kde(e,yI()?Reflect.construct(t,r||[],iv(e).constructor):t.apply(e,r))}function Kde(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jde(e)}function Jde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yI=function(){return!!e})()}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(e)}function Zde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y5(e,t)}function Y5(e,t){return Y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y5(e,t)}function Bs(e,t,r){return t=wI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wI(e){var t=Qde(e,"string");return mf(t)=="symbol"?t:t+""}function Qde(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dl=function(e){function t(r){var n;return Gde(this,t),n=Yde(this,t,[r]),Bs(n,"pieRef",null),Bs(n,"sectorRefs",[]),Bs(n,"id",$f("recharts-pie-")),Bs(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Bt(a)&&a()}),Bs(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Bt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Zde(t,e),Xde(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Pt(this.props,!1),f=Pt(o,!1),h=Pt(l,!1),p=o&&o.offsetRadius||20,m=n.map(function(x,g){var v=(x.startAngle+x.endAngle)/2,y=en(x.cx,x.cy,x.outerRadius+p,v),b=Zr(Zr(Zr(Zr({},d),x),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,x.cx)},y),_=Zr(Zr(Zr(Zr({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:g,points:[en(x.cx,x.cy,x.outerRadius,v),y]}),S=c;return Gt(c)&&Gt(u)?S="value":Gt(c)&&(S=u),le.createElement(Nr,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,b,ca(x,S)))});return le.createElement(Nr,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,m=Zr(Zr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return le.createElement(Nr,T0({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},od(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),le.createElement(bI,T0({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return le.createElement(il,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var x=m.t,g=[],v=i&&i[0],y=v.startAngle;return i.forEach(function(b,_){var S=h&&h[_],N=_>0?xs(b,"paddingAngle",0):0;if(S){var j=cs(S.endAngle-S.startAngle,b.endAngle-b.startAngle),C=Zr(Zr({},b),{},{startAngle:y+N,endAngle:y+j(x)+N});g.push(C),y=C.endAngle}else{var P=b.endAngle,M=b.startAngle,k=cs(0,P-M),E=k(x),R=Zr(Zr({},b),{},{startAngle:y+N,endAngle:y+E+N});g.push(R),y=R.endAngle}}),le.createElement(Nr,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!ex(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!ot(u)||!ot(d)||!ot(f)||!ot(h))return null;var x=Kt("recharts-pie",l);return le.createElement(Nr,{tabIndex:this.props.rootTabIndex,className:x,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),Aa.renderCallByParent(this.props,null,!1),(!p||m)&&$l.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(le.isValidElement(n))return le.cloneElement(n,a);if(Bt(n))return n(a);var o=Kt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return le.createElement(Kg,T0({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(le.isValidElement(n))return le.cloneElement(n,a);var o=i;if(Bt(n)&&(o=n(a),le.isValidElement(o)))return o;var l=Kt("recharts-pie-label-text",typeof n!="boolean"&&!Bt(n)?n.className:"");return le.createElement(ld,T0({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(F.PureComponent);ag=dl;Bs(dl,"displayName","Pie");Bs(dl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!el.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Bs(dl,"parseDeltaAngle",function(e,t){var r=Si(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Bs(dl,"getRealPieData",function(e){var t=e.data,r=e.children,n=Pt(e,!1),a=gs(r,Ym);return t&&t.length?t.map(function(i,o){return Zr(Zr(Zr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Zr(Zr({},n),i.props)}):[]});Bs(dl,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=QP(a,i),l=n+Ai(e.cx,a,a/2),c=r+Ai(e.cy,i,i/2),u=Ai(e.innerRadius,o,0),d=Ai(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Bs(dl,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Zr(Zr({},t.type.defaultProps),t.props):t.props,a=ag.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=ag.parseCoordinateOfPie(n,r),x=ag.parseDeltaAngle(o,l),g=Math.abs(x),v=u;Gt(u)&&Gt(f)?(_o(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Gt(u)&&(_o(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var y=a.filter(function(C){return ca(C,v,0)!==0}).length,b=(g>=360?y:y-1)*c,_=g-y*p-b,S=a.reduce(function(C,P){var M=ca(P,v,0);return C+(ot(M)?M:0)},0),N;if(S>0){var j;N=a.map(function(C,P){var M=ca(C,v,0),k=ca(C,d,P),E=(ot(M)?M:0)/S,R;P?R=j.endAngle+Si(x)*c*(M!==0?1:0):R=o;var H=R+Si(x)*((M!==0?p:0)+E*_),G=(R+H)/2,L=(m.innerRadius+m.outerRadius)/2,V=[{name:k,value:M,payload:C,dataKey:v,type:h}],J=en(m.cx,m.cy,L,G);return j=Zr(Zr(Zr({percent:E,cornerRadius:i,name:k,tooltipPayload:V,midAngle:G,middleRadius:L,tooltipPosition:J},C),m),{},{value:ca(C,v),startAngle:R,endAngle:H,payload:C,paddingAngle:Si(x)*c}),j})}return Zr(Zr({},m),{},{sectors:N,data:a})});var e0e=Math.ceil,t0e=Math.max;function r0e(e,t,r,n){for(var a=-1,i=t0e(e0e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var n0e=r0e,a0e=$O,YC=1/0,i0e=17976931348623157e292;function s0e(e){if(!e)return e===0?e:0;if(e=a0e(e),e===YC||e===-YC){var t=e<0?-1:1;return t*i0e}return e===e?e:0}var _I=s0e,o0e=n0e,l0e=w2,yy=_I;function c0e(e){return function(t,r,n){return n&&typeof n!="number"&&l0e(t,r,n)&&(r=n=void 0),t=yy(t),r===void 0?(r=t,t=0):r=yy(r),n=n===void 0?t<r?1:-1:yy(n),o0e(t,r,n,e)}}var u0e=c0e,d0e=u0e,f0e=d0e(),h0e=f0e;const sv=Rr(h0e);function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){NI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NI(e,t,r){return t=p0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p0e(e){var t=m0e(e,"string");return gm(t)=="symbol"?t:t+""}function m0e(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x0e=["Webkit","Moz","O","ms"],g0e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=x0e.reduce(function(i,o){return JC(JC({},i),{},NI({},o+n,r))},{});return a[t]=r,a};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SI(n.key),n)}}function b0e(e,t,r){return t&&QC(e.prototype,t),r&&QC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y0e(e,t,r){return t=lv(t),w0e(e,jI()?Reflect.construct(t,r||[],lv(e).constructor):t.apply(e,r))}function w0e(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _0e(e)}function _0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!e})()}function lv(e){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(e)}function N0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K5(e,t)}function K5(e,t){return K5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K5(e,t)}function os(e,t,r){return t=SI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e){var t=j0e(e,"string");return xf(t)=="symbol"?t:t+""}function j0e(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S0e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=mp().domain(sv(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},e6=function(t){return t.changedTouches&&!!t.changedTouches.length},gf=function(e){function t(r){var n;return v0e(this,t),n=y0e(this,t,[r]),os(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),os(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),os(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),os(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),os(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),os(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),os(n,"handleSlideDragStart",function(a){var i=e6(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return N0e(t,e),b0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=ca(i[n],l,n);return Bt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,x=n.pageX-i;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==h||g.endIndex!==p)&&m&&m(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=e6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,x=d.gap,g=d.data,v={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),v[o]=u+y;var b=this.getIndex(v),_=b.startIndex,S=b.endIndex,N=function(){var C=g.length-1;return o==="startX"&&(l>c?_%x===0:S%x===0)||l<c&&S===C||o==="endX"&&(l>c?S%x===0:_%x===0)||l>c&&S===C};this.setState(os(os({},o,u+y),"brushMoveStartX",n.pageX),function(){m&&N()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(os({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return le.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=F.Children.only(u);return f?le.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,x=c.startIndex,g=c.endIndex,v=Math.max(n,this.props.x),y=wy(wy({},Pt(this.props,!1)),{},{x:v,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=m[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[g])===null||o===void 0?void 0:o.name);return le.createElement(Nr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return le.createElement(Nr,{className:"recharts-brush-texts"},le.createElement(ld,ov({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},m),this.getTextOfTick(a)),le.createElement(ld,ov({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,x=h.isTextActive,g=h.isSlideMoving,v=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!ot(l)||!ot(c)||!ot(u)||!ot(d)||u<=0||d<=0)return null;var b=Kt("recharts-brush",i),_=le.Children.count(o)===1,S=g0e("userSelect","none");return le.createElement(Nr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||g||v||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),le.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return le.isValidElement(n)?i=le.cloneElement(n,a):Bt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return wy({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?S0e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(F.PureComponent);os(gf,"displayName","Brush");os(gf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var A0e=z4;function C0e(e,t){var r;return A0e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var E0e=C0e,k0e=hO,T0e=ul,O0e=E0e,P0e=Yi,I0e=w2;function D0e(e,t,r){var n=P0e(e)?k0e:O0e;return r&&I0e(e,t,r)&&(t=void 0),n(e,T0e(t))}var M0e=D0e;const F0e=Rr(M0e);var rl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},t6=MO;function R0e(e,t,r){t=="__proto__"&&t6?t6(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var L0e=R0e,B0e=L0e,$0e=IO,z0e=ul;function U0e(e,t){var r={};return t=z0e(t),$0e(e,function(n,a,i){B0e(r,a,t(n,a,i))}),r}var H0e=U0e;const W0e=Rr(H0e);function V0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var q0e=V0e,G0e=z4;function X0e(e,t){var r=!0;return G0e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Y0e=X0e,K0e=q0e,J0e=Y0e,Z0e=ul,Q0e=Yi,efe=w2;function tfe(e,t,r){var n=Q0e(e)?K0e:J0e;return r&&efe(e,t,r)&&(t=void 0),n(e,Z0e(t))}var rfe=tfe;const AI=Rr(rfe);var nfe=["x","y"];function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function J5(){return J5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J5.apply(this,arguments)}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){afe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function afe(e,t,r){return t=ife(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ife(e){var t=sfe(e,"string");return vm(t)=="symbol"?t:t+""}function sfe(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ofe(e,t){if(e==null)return{};var r=lfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cfe(e,t){var r=e.x,n=e.y,a=ofe(e,nfe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Vh(Vh(Vh(Vh(Vh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function n6(e){return le.createElement(bI,J5({shapeType:"rectangle",propTransformer:cfe,activeClassName:"recharts-active-bar"},e))}var ufe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||ud(),r)}},dfe=["value","background"],CI;function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function ffe(e,t){if(e==null)return{};var r=hfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(this,arguments)}function a6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(r),!0).forEach(function(n){$c(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kI(n.key),n)}}function mfe(e,t,r){return t&&i6(e.prototype,t),r&&i6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xfe(e,t,r){return t=uv(t),gfe(e,EI()?Reflect.construct(t,r||[],uv(e).constructor):t.apply(e,r))}function gfe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vfe(e)}function vfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EI=function(){return!!e})()}function uv(e){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(e)}function bfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z5(e,t)}function Z5(e,t){return Z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z5(e,t)}function $c(e,t,r){return t=kI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kI(e){var t=yfe(e,"string");return vf(t)=="symbol"?t:t+""}function yfe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cd=function(e){function t(){var r;pfe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xfe(this,t,[].concat(a)),$c(r,"state",{isAnimationFinished:!1}),$c(r,"id",$f("recharts-bar-")),$c(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),$c(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return bfe(t,e),mfe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Pt(this.props,!1);return n&&n.map(function(f,h){var p=h===c,m=p?u:o,x=Gn(Gn(Gn({},d),f),{},{isActive:p,option:m,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return le.createElement(Nr,cv({className:"recharts-bar-rectangle"},od(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),le.createElement(n6,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return le.createElement(il,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=i.map(function(g,v){var y=h&&h[v];if(y){var b=cs(y.x,g.x),_=cs(y.y,g.y),S=cs(y.width,g.width),N=cs(y.height,g.height);return Gn(Gn({},g),{},{x:b(m),y:_(m),width:S(m),height:N(m)})}if(o==="horizontal"){var j=cs(0,g.height),C=j(m);return Gn(Gn({},g),{},{y:g.y+g.height-C,height:C})}var P=cs(0,g.width),M=P(m);return Gn(Gn({},g),{},{width:M})});return le.createElement(Nr,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!ex(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Pt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=ffe(u,dfe);if(!f)return null;var p=Gn(Gn(Gn(Gn(Gn({},h),{},{fill:"#eee"},f),c),od(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return le.createElement(n6,cv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=gs(d,tx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,v){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:ca(g,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return le.createElement(Nr,m,f.map(function(x){return le.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,v=Kt("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=y||b,S=Gt(x)?this.id:x;return le.createElement(Nr,{className:v},y||b?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(S)},le.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,le.createElement(Nr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!p||g)&&$l.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(F.PureComponent);CI=Cd;$c(Cd,"displayName","Bar");$c(Cd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!el.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$c(Cd,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=eoe(n,r);if(!p)return null;var m=t.layout,x=r.type.defaultProps,g=x!==void 0?Gn(Gn({},x),r.props):r.props,v=g.dataKey,y=g.children,b=g.minPointSize,_=m==="horizontal"?o:i,S=u?_.scale.domain():null,N=ooe({numericAxis:_}),j=gs(y,Ym),C=f.map(function(P,M){var k,E,R,H,G,L;u?k=toe(u[d+M],S):(k=ca(P,v),Array.isArray(k)||(k=[N,k]));var V=ufe(b,CI.defaultProps.minPointSize)(k[1],M);if(m==="horizontal"){var J,W=[o.scale(k[0]),o.scale(k[1])],ae=W[0],ve=W[1];E=XA({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:M}),R=(J=ve??ae)!==null&&J!==void 0?J:void 0,H=p.size;var O=ae-ve;if(G=Number.isNaN(O)?0:O,L={x:E,y:o.y,width:H,height:o.height},Math.abs(V)>0&&Math.abs(G)<Math.abs(V)){var I=Si(G||V)*(Math.abs(V)-Math.abs(G));R-=I,G+=I}}else{var B=[i.scale(k[0]),i.scale(k[1])],z=B[0],q=B[1];if(E=z,R=XA({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:M}),H=q-z,G=p.size,L={x:i.x,y:R,width:i.width,height:G},Math.abs(V)>0&&Math.abs(H)<Math.abs(V)){var se=Si(H||V)*(Math.abs(V)-Math.abs(H));H+=se}}return Gn(Gn(Gn({},P),{},{x:E,y:R,width:H,height:G,value:u?k:k[1],payload:P,background:L},j&&j[M]&&j[M].props),{},{tooltipPayload:[JP(r,P)],tooltipPosition:{x:E+H/2,y:R+G/2}})});return Gn({data:C,layout:m},h)});function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function wfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TI(n.key),n)}}function _fe(e,t,r){return t&&s6(e.prototype,t),r&&s6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(n){$2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $2(e,t,r){return t=TI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TI(e){var t=Nfe(e,"string");return bm(t)=="symbol"?t:t+""}function Nfe(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OI=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ls(u,Cd);return d.reduce(function(p,m){var x=r[m],g=x.orientation,v=x.domain,y=x.padding,b=y===void 0?{}:y,_=x.mirror,S=x.reversed,N="".concat(g).concat(_?"Mirror":""),j,C,P,M,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var E=v[1]-v[0],R=1/0,H=x.categoricalDomain.sort();if(H.forEach(function(B,z){z>0&&(R=Math.min((B||0)-(H[z-1]||0),R))}),Number.isFinite(R)){var G=R/E,L=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(j=G*L/2),x.padding==="no-gap"){var V=Ai(t.barCategoryGap,G*L),J=G*L/2;j=J-V-(J-V)/L*V}}}a==="xAxis"?C=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:C=x.range,S&&(C=[C[1],C[0]]);var W=GP(x,i,h),ae=W.scale,ve=W.realScaleType;ae.domain(v).range(C),XP(ae);var O=YP(ae,fo(fo({},x),{},{realScaleType:ve}));a==="xAxis"?(k=g==="top"&&!_||g==="bottom"&&_,P=n.left,M=f[N]-k*x.height):a==="yAxis"&&(k=g==="left"&&!_||g==="right"&&_,P=f[N]-k*x.width,M=n.top);var I=fo(fo(fo({},x),O),{},{realScaleType:ve,x:P,y:M,scale:ae,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return I.bandSize=Gg(I,O),!x.hide&&a==="xAxis"?f[N]+=(k?-1:1)*I.height:x.hide||(f[N]+=(k?-1:1)*I.width),fo(fo({},p),{},$2({},m,I))},{})},PI=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},jfe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return PI({x:r,y:n},{x:a,y:i})},II=function(){function e(t){wfe(this,e),this.scale=t}return _fe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();$2(II,"EPS",1e-4);var xN=function(t){var r=Object.keys(t).reduce(function(n,a){return fo(fo({},n),{},$2({},a,II.create(t[a])))},{});return fo(fo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return W0e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return AI(a,function(i,o){return r[o].isInRange(i)})}})};function Sfe(e){return(e%180+180)%180}var Afe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Sfe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Cfe=ul,Efe=Xm,kfe=b2;function Tfe(e){return function(t,r,n){var a=Object(t);if(!Efe(t)){var i=Cfe(r);t=kfe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var Ofe=Tfe,Pfe=_I;function Ife(e){var t=Pfe(e),r=t%1;return t===t?r?t-r:t:0}var Dfe=Ife,Mfe=CO,Ffe=ul,Rfe=Dfe,Lfe=Math.max;function Bfe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Rfe(r);return a<0&&(a=Lfe(n+a,0)),Mfe(e,Ffe(t),a)}var $fe=Bfe,zfe=Ofe,Ufe=$fe,Hfe=zfe(Ufe),Wfe=Hfe;const Vfe=Rr(Wfe);var qfe=zW(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),gN=F.createContext(void 0),vN=F.createContext(void 0),DI=F.createContext(void 0),MI=F.createContext({}),FI=F.createContext(void 0),RI=F.createContext(0),LI=F.createContext(0),l6=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=qfe(i);return le.createElement(gN.Provider,{value:n},le.createElement(vN.Provider,{value:a},le.createElement(MI.Provider,{value:i},le.createElement(DI.Provider,{value:d},le.createElement(FI.Provider,{value:o},le.createElement(RI.Provider,{value:u},le.createElement(LI.Provider,{value:c},l)))))))},Gfe=function(){return F.useContext(FI)},BI=function(t){var r=F.useContext(gN);r==null&&ud();var n=r[t];return n==null&&ud(),n},Xfe=function(){var t=F.useContext(gN);return Dc(t)},Yfe=function(){var t=F.useContext(vN),r=Vfe(t,function(n){return AI(n.domain,Number.isFinite)});return r||Dc(t)},$I=function(t){var r=F.useContext(vN);r==null&&ud();var n=r[t];return n==null&&ud(),n},Kfe=function(){var t=F.useContext(DI);return t},Jfe=function(){return F.useContext(MI)},bN=function(){return F.useContext(LI)},yN=function(){return F.useContext(RI)};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function Zfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UI(n.key),n)}}function ehe(e,t,r){return t&&Qfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function the(e,t,r){return t=dv(t),rhe(e,zI()?Reflect.construct(t,r||[],dv(e).constructor):t.apply(e,r))}function rhe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nhe(e)}function nhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!e})()}function dv(e){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(e)}function ahe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q5(e,t)}function Q5(e,t){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q5(e,t)}function c6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(r),!0).forEach(function(n){wN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wN(e,t,r){return t=UI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UI(e){var t=ihe(e,"string");return bf(t)=="symbol"?t:t+""}function ihe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function she(e,t){return uhe(e)||che(e,t)||lhe(e,t)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(e,t){if(e){if(typeof e=="string")return d6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d6(e,t)}}function d6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function che(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function uhe(e){if(Array.isArray(e))return e}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(this,arguments)}var dhe=function(t,r){var n;return le.isValidElement(t)?n=le.cloneElement(t,r):Bt(t)?n=t(r):n=le.createElement("line",e_({},r,{className:"recharts-reference-line-line"})),n},fhe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=u.y,x=t.y.apply(m,{position:o});if(rl(u,"discard")&&!t.y.isInRange(x))return null;var g=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?g.reverse():g}if(r){var v=u.x,y=t.x.apply(v,{position:o});if(rl(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,S=_.map(function(N){return t.apply(N,{position:o})});return rl(u,"discard")&&F0e(S,function(N){return!t.isInRange(N)})?null:S}return null};function hhe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Gfe(),d=BI(a),f=$I(i),h=Kfe();if(!u||!h)return null;_o(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=xN({x:d.scale,y:f.scale}),m=fa(t),x=fa(r),g=n&&n.length===2,v=fhe(p,m,x,g,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var y=she(v,2),b=y[0],_=b.x,S=b.y,N=y[1],j=N.x,C=N.y,P=rl(e,"hidden")?"url(#".concat(u,")"):void 0,M=u6(u6({clipPath:P},Pt(e,!0)),{},{x1:_,y1:S,x2:j,y2:C});return le.createElement(Nr,{className:Kt("recharts-reference-line",l)},dhe(o,M),Aa.renderCallByParent(e,jfe({x1:_,y1:S,x2:j,y2:C})))}var _N=function(e){function t(){return Zfe(this,t),the(this,t,arguments)}return ahe(t,e),ehe(t,[{key:"render",value:function(){return le.createElement(hhe,this.props)}}])}(le.Component);wN(_N,"displayName","ReferenceLine");wN(_N,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(this,arguments)}function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function f6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(r),!0).forEach(function(n){z2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function phe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WI(n.key),n)}}function xhe(e,t,r){return t&&mhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ghe(e,t,r){return t=fv(t),vhe(e,HI()?Reflect.construct(t,r||[],fv(e).constructor):t.apply(e,r))}function vhe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bhe(e)}function bhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!e})()}function fv(e){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(e)}function yhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r_(e,t)}function z2(e,t,r){return t=WI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WI(e){var t=whe(e,"string");return yf(t)=="symbol"?t:t+""}function whe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _he=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=xN({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return rl(t,"discard")&&!o.isInRange(l)?null:l},U2=function(e){function t(){return phe(this,t),ghe(this,t,arguments)}return yhe(t,e),xhe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=fa(a),d=fa(i);if(_o(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_he(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,x=m.shape,g=m.className,v=rl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=h6(h6({clipPath:v},Pt(this.props,!0)),{},{cx:h,cy:p});return le.createElement(Nr,{className:Kt("recharts-reference-dot",g)},t.renderDot(x,y),Aa.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(le.Component);z2(U2,"displayName","ReferenceDot");z2(U2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});z2(U2,"renderDot",function(e,t){var r;return le.isValidElement(e)?r=le.cloneElement(e,t):Bt(e)?r=e(t):r=le.createElement(I2,t_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function p6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p6(Object(r),!0).forEach(function(n){H2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qI(n.key),n)}}function She(e,t,r){return t&&jhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ahe(e,t,r){return t=hv(t),Che(e,VI()?Reflect.construct(t,r||[],hv(e).constructor):t.apply(e,r))}function Che(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ehe(e)}function Ehe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VI=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hv(e)}function khe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a_(e,t)}function a_(e,t){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a_(e,t)}function H2(e,t,r){return t=qI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qI(e){var t=The(e,"string");return wf(t)=="symbol"?t:t+""}function The(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ohe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=xN({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return rl(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:PI(p,m)},W2=function(e){function t(){return Nhe(this,t),Ahe(this,t,arguments)}return khe(t,e),She(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;_o(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=fa(a),h=fa(i),p=fa(o),m=fa(l),x=this.props.shape;if(!f&&!h&&!p&&!m&&!x)return null;var g=Ohe(f,h,p,m,this.props);if(!g&&!x)return null;var v=rl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return le.createElement(Nr,{className:Kt("recharts-reference-area",c)},t.renderRect(x,m6(m6({clipPath:v},Pt(this.props,!0)),g)),Aa.renderCallByParent(this.props,g))}}])}(le.Component);H2(W2,"displayName","ReferenceArea");H2(W2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});H2(W2,"renderRect",function(e,t){var r;return le.isValidElement(e)?r=le.cloneElement(e,t):Bt(e)?r=e(t):r=le.createElement(mN,n_({},t,{className:"recharts-reference-area-rect"})),r});function GI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Phe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Afe(n,r)}function Ihe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function pv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Dhe(e,t){return GI(e,t+1)}function Mhe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:GI(n,u)};var x=c,g,v=function(){return g===void 0&&(g=r(m,x)),g},y=m.coordinate,b=c===0||pv(e,y,v,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function x6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(r),!0).forEach(function(n){Fhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fhe(e,t,r){return t=Rhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rhe(e){var t=Lhe(e,"string");return ym(t)=="symbol"?t:t+""}function Lhe(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bhe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],m,x=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var g=e*(p.coordinate+e*x()/2-c);i[h]=p=ei(ei({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=ei(ei({},p),{},{tickCoord:p.coordinate});var v=pv(e,p.tickCoord,x,l,c);v&&(c=p.tickCoord-e*(x()/2+a),i[h]=ei(ei({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function $he(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ei(ei({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=pv(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=ei(ei({},d),{},{isShow:!0}))}for(var m=i?l-1:l,x=function(y){var b=o[y],_,S=function(){return _===void 0&&(_=r(b,y)),_};if(y===0){var N=e*(b.coordinate-e*S()/2-c);o[y]=b=ei(ei({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[y]=b=ei(ei({},b),{},{tickCoord:b.coordinate});var j=pv(e,b.tickCoord,S,c,u);j&&(c=b.tickCoord+e*(S()/2+a),o[y]=ei(ei({},b),{},{isShow:!0}))},g=0;g<m;g++)x(g);return o}function NN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ot(c)||el.isSsr)return Dhe(a,typeof c=="number"&&ot(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?pp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(b,_){var S=Bt(u)?u(b.value,_):b.value;return p==="width"?Phe(pp(S,{fontSize:t,letterSpacing:r}),m,f):pp(S,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?Si(a[1].coordinate-a[0].coordinate):1,v=Ihe(i,g,p);return c==="equidistantPreserveStart"?Mhe(g,v,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=$he(g,v,x,a,o,c==="preserveStartEnd"):h=Bhe(g,v,x,a,o),h.filter(function(y){return y.isShow}))}var zhe=["viewBox"],Uhe=["viewBox"],Hhe=["ticks"];function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(this,arguments)}function g6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(r),!0).forEach(function(n){jN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _y(e,t){if(e==null)return{};var r=Whe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Whe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YI(n.key),n)}}function qhe(e,t,r){return t&&v6(e.prototype,t),r&&v6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ghe(e,t,r){return t=mv(t),Xhe(e,XI()?Reflect.construct(t,r||[],mv(e).constructor):t.apply(e,r))}function Xhe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yhe(e)}function Yhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!e})()}function mv(e){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(e)}function Khe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i_(e,t)}function jN(e,t,r){return t=YI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YI(e){var t=Jhe(e,"string");return _f(t)=="symbol"?t:t+""}function Jhe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gf=function(e){function t(r){var n;return Vhe(this,t),n=Ghe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Khe(t,e),qhe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=_y(n,zhe),l=this.props,c=l.viewBox,u=_y(l,Uhe);return!z0(i,c)||!z0(o,u)||!z0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,x,g,v,y,b=f?-1:1,_=n.tickSize||d,S=ot(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,g=o+ +!f*c,x=g-b*_,y=x-b*h,v=S;break;case"left":x=g=n.coordinate,m=i+ +!f*l,p=m-b*_,v=p-b*h,y=S;break;case"right":x=g=n.coordinate,m=i+ +f*l,p=m+b*_,v=p+b*h,y=S;break;default:p=m=n.coordinate,g=o+ +f*c,x=g+b*_,y=x+b*h,v=S;break}return{line:{x1:p,y1:x,x2:m,y2:g},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=xi(xi(xi({},Pt(this.props,!1)),Pt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=xi(xi({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=xi(xi({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return le.createElement("line",O0({},f,{className:Kt("recharts-cartesian-axis-line",xs(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=NN(xi(xi({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=Pt(this.props,!1),v=Pt(d,!1),y=xi(xi({},g),{},{fill:"none"},Pt(c,!1)),b=p.map(function(_,S){var N=o.getTickLineCoord(_),j=N.line,C=N.tick,P=xi(xi(xi(xi({textAnchor:m,verticalAnchor:x},g),{},{stroke:"none",fill:u},v),C),{},{index:S,payload:_,visibleTicksCount:p.length,tickFormatter:f});return le.createElement(Nr,O0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},od(o.props,_,S)),c&&le.createElement("line",O0({},y,j,{className:Kt("recharts-cartesian-axis-tick-line",xs(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Bt(f)?f(_.value,S):_.value).concat(h||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=_y(f,Hhe),m=h;return Bt(c)&&(m=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:le.createElement(Nr,{className:Kt("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Aa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return le.isValidElement(n)?o=le.cloneElement(n,a):Bt(n)?o=n(a):o=le.createElement(ld,O0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(F.Component);jN(Gf,"displayName","CartesianAxis");jN(Gf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zhe=["x1","y1","x2","y2","key"],Qhe=["offset"];function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function b6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b6(Object(r),!0).forEach(function(n){epe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function epe(e,t,r){return t=tpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tpe(e){var t=rpe(e,"string");return dd(t)=="symbol"?t:t+""}function rpe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function y6(e,t){if(e==null)return{};var r=npe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function npe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ape=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return le.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function KI(e,t){var r;if(le.isValidElement(e))r=le.cloneElement(e,t);else if(Bt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=y6(t,Zhe),u=Pt(c,!1);u.offset;var d=y6(u,Qhe);r=le.createElement("line",Uu({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function ipe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ri(ri({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return KI(a,u)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function spe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ri(ri({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return KI(a,u)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ope(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?a+o-h:d[p+1]-h;if(x<=0)return null;var g=p%t.length;return le.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function lpe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?i+l-h:d[p+1]-h;if(x<=0)return null;var g=p%n.length;return le.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cpe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return qP(NN(ri(ri(ri({},Gf.defaultProps),n),{},{ticks:Fl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},upe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return qP(NN(ri(ri(ri({},Gf.defaultProps),n),{},{ticks:Fl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},l0={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function SN(e){var t,r,n,a,i,o,l=bN(),c=yN(),u=Jfe(),d=ri(ri({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:l0.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:l0.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:l0.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:l0.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:l0.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:l0.verticalFill,x:ot(e.x)?e.x:u.left,y:ot(e.y)?e.y:u.top,width:ot(e.width)?e.width:u.width,height:ot(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,x=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,y=Xfe(),b=Yfe();if(!ot(p)||p<=0||!ot(m)||m<=0||!ot(f)||f!==+f||!ot(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||cpe,S=d.horizontalCoordinatesGenerator||upe,N=d.horizontalPoints,j=d.verticalPoints;if((!N||!N.length)&&Bt(S)){var C=g&&g.length,P=S({yAxis:b?ri(ri({},b),{},{ticks:C?g:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:x);_o(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dd(P),"]")),Array.isArray(P)&&(N=P)}if((!j||!j.length)&&Bt(_)){var M=v&&v.length,k=_({xAxis:y?ri(ri({},y),{},{ticks:M?v:y.ticks}):void 0,width:l,height:c,offset:u},M?!0:x);_o(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dd(k),"]")),Array.isArray(k)&&(j=k)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(ape,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),le.createElement(ipe,Uu({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:b})),le.createElement(spe,Uu({},d,{offset:u,verticalPoints:j,xAxis:y,yAxis:b})),le.createElement(ope,Uu({},d,{horizontalPoints:N})),le.createElement(lpe,Uu({},d,{verticalPoints:j})))}SN.displayName="CartesianGrid";var dpe=["type","layout","connectNulls","ref"],fpe=["key"];function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function w6(e,t){if(e==null)return{};var r=hpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(this,arguments)}function _6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c0(e){return gpe(e)||xpe(e)||mpe(e)||ppe()}function ppe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mpe(e,t){if(e){if(typeof e=="string")return s_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s_(e,t)}}function xpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gpe(e){if(Array.isArray(e))return s_(e)}function s_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZI(n.key),n)}}function bpe(e,t,r){return t&&N6(e.prototype,t),r&&N6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ype(e,t,r){return t=xv(t),wpe(e,JI()?Reflect.construct(t,r||[],xv(e).constructor):t.apply(e,r))}function wpe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(e)}function _pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JI=function(){return!!e})()}function xv(e){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xv(e)}function Npe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o_(e,t)}function ho(e,t,r){return t=ZI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZI(e){var t=jpe(e,"string");return Nf(t)=="symbol"?t:t+""}function jpe(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rx=function(e){function t(){var r;vpe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ype(this,t,[].concat(a)),ho(r,"state",{isAnimationFinished:!0,totalLength:0}),ho(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ho(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,y){return v+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],m=0,x=0;m<c.length;x+=c[m],++m)if(x+c[m]>f){p=[].concat(c0(c.slice(0,m)),[f-x]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(c0(t.repeat(c,d)),c0(p),g).map(function(v){return"".concat(v,"px")}).join(", ")}),ho(r,"id",$f("recharts-line-")),ho(r,"pathRef",function(o){r.mainCurve=o}),ho(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ho(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Npe(t,e),bpe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=gs(d,tx);if(!f)return null;var h=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:ca(x.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return le.createElement(Nr,p,f.map(function(m){return le.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Pt(this.props,!1),h=Pt(c,!0),p=u.map(function(x,g){var v=is(is(is({key:"dot-".concat(g),r:3},f),h),{},{value:x.value,dataKey:d,cx:x.x,cy:x.y,index:g,payload:x.payload});return t.renderDotItem(c,v)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return le.createElement(Nr,yp({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=w6(l,dpe),h=is(is(is({},Pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return le.createElement(Kg,yp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,x=o.width,g=o.height,v=this.state,y=v.prevPoints,b=v.totalLength;return le.createElement(il,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(y){var N=y.length/l.length,j=l.map(function(E,R){var H=Math.floor(R*N);if(y[H]){var G=y[H],L=cs(G.x,E.x),V=cs(G.y,E.y);return is(is({},E),{},{x:L(S),y:V(S)})}if(m){var J=cs(x*2,E.x),W=cs(g/2,E.y);return is(is({},E),{},{x:J(S),y:W(S)})}return is(is({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(j,n,a)}var C=cs(0,b),P=C(S),M;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});M=i.getStrokeDasharray(P,b,k)}else M=i.generateSimpleStrokeDasharray(b,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ex(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,x=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,y=l.length===1,b=Kt("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=_||S,j=Gt(g)?this.id:g,C=(n=Pt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=C.r,M=P===void 0?3:P,k=C.strokeWidth,E=k===void 0?2:k,R=GV(o)?o:{},H=R.clipDot,G=H===void 0?!0:H,L=M*2+E;return le.createElement(Nr,{className:b},_||S?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(j)},le.createElement("rect",{x:_?h:h-p/2,y:S?f:f-m/2,width:_?p:p*2,height:S?m:m*2})),!G&&le.createElement("clipPath",{id:"clipPath-dots-".concat(j)},le.createElement("rect",{x:h-L/2,y:f-L/2,width:p+L,height:m+L}))):null,!y&&this.renderCurve(N,j),this.renderErrorBar(N,j),(y||o)&&this.renderDots(N,G,j),(!x||v)&&$l.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(c0(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(c0(o),c0(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(le.isValidElement(n))i=le.cloneElement(n,a);else if(Bt(n))i=n(a);else{var o=a.key,l=w6(a,fpe),c=Kt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=le.createElement(I2,yp({key:o},l,{className:c}))}return i}}])}(F.PureComponent);ho(rx,"displayName","Line");ho(rx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!el.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ho(rx,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var m=ca(h,o);return d==="horizontal"?{x:GA({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Gt(m)?null:n.scale(m),value:m,payload:h}:{x:Gt(m)?null:r.scale(m),y:GA({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:m,payload:h}});return is({points:f,layout:d},u)});function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function Spe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ape(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tD(n.key),n)}}function Cpe(e,t,r){return t&&Ape(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Epe(e,t,r){return t=gv(t),kpe(e,QI()?Reflect.construct(t,r||[],gv(e).constructor):t.apply(e,r))}function kpe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tpe(e)}function Tpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QI=function(){return!!e})()}function gv(e){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gv(e)}function Ope(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l_(e,t)}function eD(e,t,r){return t=tD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tD(e){var t=Ppe(e,"string");return jf(t)=="symbol"?t:t+""}function Ppe(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(this,arguments)}function Ipe(e){var t=e.xAxisId,r=bN(),n=yN(),a=BI(t);return a==null?null:le.createElement(Gf,c_({},a,{className:Kt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Fl(o,!0)}}))}var Xf=function(e){function t(){return Spe(this,t),Epe(this,t,arguments)}return Ope(t,e),Cpe(t,[{key:"render",value:function(){return le.createElement(Ipe,this.props)}}])}(le.Component);eD(Xf,"displayName","XAxis");eD(Xf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function Dpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aD(n.key),n)}}function Fpe(e,t,r){return t&&Mpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rpe(e,t,r){return t=vv(t),Lpe(e,rD()?Reflect.construct(t,r||[],vv(e).constructor):t.apply(e,r))}function Lpe(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bpe(e)}function Bpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rD=function(){return!!e})()}function vv(e){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vv(e)}function $pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u_(e,t)}function nD(e,t,r){return t=aD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aD(e){var t=zpe(e,"string");return Sf(t)=="symbol"?t:t+""}function zpe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(this,arguments)}var Upe=function(t){var r=t.yAxisId,n=bN(),a=yN(),i=$I(r);return i==null?null:le.createElement(Gf,d_({},i,{className:Kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Fl(l,!0)}}))},Yf=function(e){function t(){return Dpe(this,t),Rpe(this,t,arguments)}return $pe(t,e),Fpe(t,[{key:"render",value:function(){return le.createElement(Upe,this.props)}}])}(le.Component);nD(Yf,"displayName","YAxis");nD(Yf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function j6(e){return qpe(e)||Vpe(e)||Wpe(e)||Hpe()}function Hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wpe(e,t){if(e){if(typeof e=="string")return f_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f_(e,t)}}function Vpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qpe(e){if(Array.isArray(e))return f_(e)}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h_=function(t,r,n,a,i){var o=gs(t,_N),l=gs(t,U2),c=[].concat(j6(o),j6(l)),u=gs(t,W2),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(x,g){if(g.props[d]===n&&rl(g.props,"extendDomain")&&ot(g.props[f])){var v=g.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(x,g){if(g.props[d]===n&&rl(g.props,"extendDomain")&&ot(g.props[p])&&ot(g.props[m])){var v=g.props[p],y=g.props[m];return[Math.min(x[0],v,y),Math.max(x[1],v,y)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,g){return ot(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},h)),h},iD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var x=r?r+u:u;if(!this._events[x])return!1;var g=this._events[x],v=arguments.length,y,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,m),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];g.fn.apply(g.context,y)}else{var _=g.length,S;for(b=0;b<_;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),v){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,d);break;case 3:g[b].fn.call(g[b].context,d,f);break;case 4:g[b].fn.call(g[b].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];g[b].fn.apply(g[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var x=0,g=[],v=m.length;x<v;x++)(m[x].fn!==d||h&&!m[x].once||f&&m[x].context!==f)&&g.push(m[x]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(iD);var Gpe=iD.exports;const Xpe=Rr(Gpe);var Ny=new Xpe,jy="recharts.syncMouseEvents";function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function Ype(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sD(n.key),n)}}function Jpe(e,t,r){return t&&Kpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sy(e,t,r){return t=sD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sD(e){var t=Zpe(e,"string");return wm(t)=="symbol"?t:t+""}function Zpe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qpe=function(){function e(){Ype(this,e),Sy(this,"activeIndex",0),Sy(this,"coordinateList",[]),Sy(this,"layout","horizontal")}return Jpe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function eme(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ot(n)&&ot(a))return!0}return!1}function tme(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oD(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=en(t,r,n,a),l=en(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function rme(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=en(l,c,u,f),p=en(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return oD(t);return[{x:n,y:a},{x:i,y:o}]}function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function S6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(r),!0).forEach(function(n){nme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nme(e,t,r){return t=ame(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ame(e){var t=ime(e,"string");return _m(t)=="symbol"?t:t+""}function ime(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sme(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var m,x=Kg;if(h==="ScatterChart")m=o,x=jue;else if(h==="BarChart")m=tme(f,o,c,d),x=mN;else if(f==="radial"){var g=oD(o),v=g.cx,y=g.cy,b=g.radius,_=g.startAngle,S=g.endAngle;m={cx:v,cy:y,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},x=nI}else m={points:rme(f,o,c)},x=Kg;var N=v1(v1(v1(v1({stroke:"#ccc",pointerEvents:"none"},c),m),Pt(p,!1)),{},{payload:l,payloadIndex:u,className:Kt("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,N):F.createElement(x,N)}var ome=["item"],lme=["children","className","width","height","style","compact","title","desc"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function A6(e,t){return dme(e)||ume(e,t)||cD(e,t)||cme()}function cme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ume(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dme(e){if(Array.isArray(e))return e}function C6(e,t){if(e==null)return{};var r=fme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uD(n.key),n)}}function mme(e,t,r){return t&&pme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xme(e,t,r){return t=bv(t),gme(e,lD()?Reflect.construct(t,r||[],bv(e).constructor):t.apply(e,r))}function gme(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vme(e)}function vme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!e})()}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(e)}function bme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p_(e,t)}function Cf(e){return _me(e)||wme(e)||cD(e)||yme()}function yme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cD(e,t){if(e){if(typeof e=="string")return m_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m_(e,t)}}function wme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _me(e){if(Array.isArray(e))return m_(e)}function m_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(r),!0).forEach(function(n){Dt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dt(e,t,r){return t=uD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uD(e){var t=Nme(e,"string");return Af(t)=="symbol"?t:t+""}function Nme(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jme={xAxis:["bottom","top"],yAxis:["left","right"]},Sme={width:"100%",height:"100%"},dD={x:0,y:0};function b1(e){return e}var Ame=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Cme=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Ye(Ye(Ye({},a),en(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Ye(Ye(Ye({},a),en(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return dD},V2=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Cf(l),Cf(u)):l},[]);return o.length>0?o:t&&t.length&&ot(a)&&ot(i)?t.slice(a,i+1):[]};function fD(e){return e==="number"?[0,"auto"]:void 0}var x_=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=V2(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=vg(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Cf(c),[JP(u,h)]):c},[])},k6=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Ame(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Xse(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=x_(t,r,d,f),p=Cme(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Eme=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=VP(d,i);return n.reduce(function(m,x){var g,v=x.type.defaultProps!==void 0?Ye(Ye({},x.type.defaultProps),x.props):x.props,y=v.type,b=v.dataKey,_=v.allowDataOverflow,S=v.allowDuplicatedCategory,N=v.scale,j=v.ticks,C=v.includeHidden,P=v[o];if(m[P])return m;var M=V2(t.data,{graphicalItems:a.filter(function(O){var I,B=o in O.props?O.props[o]:(I=O.type.defaultProps)===null||I===void 0?void 0:I[o];return B===P}),dataStartIndex:c,dataEndIndex:u}),k=M.length,E,R,H;eme(v.domain,_,y)&&(E=T5(v.domain,null,_),p&&(y==="number"||N!=="auto")&&(H=xp(M,b,"category")));var G=fD(y);if(!E||E.length===0){var L,V=(L=v.domain)!==null&&L!==void 0?L:G;if(b){if(E=xp(M,b,y),y==="category"&&p){var J=LV(E);S&&J?(R=E,E=sv(0,k)):S||(E=JA(V,E,x).reduce(function(O,I){return O.indexOf(I)>=0?O:[].concat(Cf(O),[I])},[]))}else if(y==="category")S?E=E.filter(function(O){return O!==""&&!Gt(O)}):E=JA(V,E,x).reduce(function(O,I){return O.indexOf(I)>=0||I===""||Gt(I)?O:[].concat(Cf(O),[I])},[]);else if(y==="number"){var W=Qse(M,a.filter(function(O){var I,B,z=o in O.props?O.props[o]:(I=O.type.defaultProps)===null||I===void 0?void 0:I[o],q="hide"in O.props?O.props.hide:(B=O.type.defaultProps)===null||B===void 0?void 0:B.hide;return z===P&&(C||!q)}),b,i,d);W&&(E=W)}p&&(y==="number"||N!=="auto")&&(H=xp(M,b,"category"))}else p?E=sv(0,k):l&&l[P]&&l[P].hasStack&&y==="number"?E=h==="expand"?[0,1]:KP(l[P].stackGroups,c,u):E=WP(M,a.filter(function(O){var I=o in O.props?O.props[o]:O.type.defaultProps[o],B="hide"in O.props?O.props.hide:O.type.defaultProps.hide;return I===P&&(C||!B)}),y,d,!0);if(y==="number")E=h_(f,E,P,i,j),V&&(E=T5(V,E,_));else if(y==="category"&&V){var ae=V,ve=E.every(function(O){return ae.indexOf(O)>=0});ve&&(E=ae)}}return Ye(Ye({},m),{},Dt({},P,Ye(Ye({},v),{},{axisType:i,domain:E,categoricalDomain:H,duplicateDomain:R,originalDomain:(g=v.domain)!==null&&g!==void 0?g:G,isCategorical:p,layout:d})))},{})},kme=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=V2(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=VP(d,i),x=-1;return n.reduce(function(g,v){var y=v.type.defaultProps!==void 0?Ye(Ye({},v.type.defaultProps),v.props):v.props,b=y[o],_=fD("number");if(!g[b]){x++;var S;return m?S=sv(0,p):l&&l[b]&&l[b].hasStack?(S=KP(l[b].stackGroups,c,u),S=h_(f,S,b,i)):(S=T5(_,WP(h,n.filter(function(N){var j,C,P=o in N.props?N.props[o]:(j=N.type.defaultProps)===null||j===void 0?void 0:j[o],M="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===b&&!M}),"number",d),a.defaultProps.allowDataOverflow),S=h_(f,S,b,i)),Ye(Ye({},g),{},Dt({},b,Ye(Ye({axisType:i},a.defaultProps),{},{hide:!0,orientation:xs(jme,"".concat(i,".").concat(x%2),null),domain:S,originalDomain:_,isCategorical:m,layout:d})))}return g},{})},Tme=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=gs(d,i),p={};return h&&h.length?p=Eme(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=kme(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Ome=function(t){var r=Dc(t),n=Fl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:U4(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Gg(r,n)}},T6=function(t){var r=t.children,n=t.defaultShowTooltip,a=ls(r,gf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Pme=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ll(r&&r.type);return n&&n.indexOf("Bar")>=0})},O6=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ime=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ls(f,gf),m=ls(f,Xu),x=Object.keys(c).reduce(function(S,N){var j=c[N],C=j.orientation;return!j.mirror&&!j.hide?Ye(Ye({},S),{},Dt({},C,S[C]+j.width)):S},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(S,N){var j=o[N],C=j.orientation;return!j.mirror&&!j.hide?Ye(Ye({},S),{},Dt({},C,xs(S,"".concat(C))+j.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=Ye(Ye({},g),x),y=v.bottom;p&&(v.bottom+=p.props.height||gf.defaultProps.height),m&&r&&(v=Jse(v,a,n,r));var b=u-v.left-v.right,_=d-v.top-v.bottom;return Ye(Ye({brushBottom:y},v),{},{width:Math.max(b,0),height:Math.max(_,0)})},Dme=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},AN=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,y){var b=y.graphicalItems,_=y.stackGroups,S=y.offset,N=y.updateId,j=y.dataStartIndex,C=y.dataEndIndex,P=v.barSize,M=v.layout,k=v.barGap,E=v.barCategoryGap,R=v.maxBarSize,H=O6(M),G=H.numericAxisName,L=H.cateAxisName,V=Pme(b),J=[];return b.forEach(function(W,ae){var ve=V2(v.data,{graphicalItems:[W],dataStartIndex:j,dataEndIndex:C}),O=W.type.defaultProps!==void 0?Ye(Ye({},W.type.defaultProps),W.props):W.props,I=O.dataKey,B=O.maxBarSize,z=O["".concat(G,"Id")],q=O["".concat(L,"Id")],se={},xe=c.reduce(function(Ie,we){var je=y["".concat(we.axisType,"Map")],He=O["".concat(we.axisType,"Id")];je&&je[He]||we.axisType==="zAxis"||ud();var Qe=je[He];return Ye(Ye({},Ie),{},Dt(Dt({},we.axisType,Qe),"".concat(we.axisType,"Ticks"),Fl(Qe)))},se),ie=xe[L],ye=xe["".concat(L,"Ticks")],Te=_&&_[z]&&_[z].hasStack&&loe(W,_[z].stackGroups),X=Ll(W.type).indexOf("Bar")>=0,We=Gg(ie,ye),Oe=[],Se=V&&Yse({barSize:P,stackGroups:_,totalSize:Dme(xe,L)});if(X){var re,Me,oe=Gt(B)?R:B,me=(re=(Me=Gg(ie,ye,!0))!==null&&Me!==void 0?Me:oe)!==null&&re!==void 0?re:0;Oe=Kse({barGap:k,barCategoryGap:E,bandSize:me!==We?me:We,sizeList:Se[q],maxBarSize:oe}),me!==We&&(Oe=Oe.map(function(Ie){return Ye(Ye({},Ie),{},{position:Ye(Ye({},Ie.position),{},{offset:Ie.position.offset-me/2})})}))}var _e=W&&W.type&&W.type.getComposedData;_e&&J.push({props:Ye(Ye({},_e(Ye(Ye({},xe),{},{displayedData:ve,props:v,dataKey:I,item:W,bandSize:We,barPosition:Oe,offset:S,stackedData:Te,layout:M,dataStartIndex:j,dataEndIndex:C}))),{},Dt(Dt(Dt({key:W.key||"item-".concat(ae)},G,xe[G]),L,xe[L]),"animationId",N)),childIndex:KV(W,v.children),item:W})}),J},p=function(v,y){var b=v.props,_=v.dataStartIndex,S=v.dataEndIndex,N=v.updateId;if(!Wj({props:b}))return null;var j=b.children,C=b.layout,P=b.stackOffset,M=b.data,k=b.reverseStackOrder,E=O6(C),R=E.numericAxisName,H=E.cateAxisName,G=gs(j,n),L=soe(M,G,"".concat(R,"Id"),"".concat(H,"Id"),P,k),V=c.reduce(function(O,I){var B="".concat(I.axisType,"Map");return Ye(Ye({},O),{},Dt({},B,Tme(b,Ye(Ye({},I),{},{graphicalItems:G,stackGroups:I.axisType===R&&L,dataStartIndex:_,dataEndIndex:S}))))},{}),J=Ime(Ye(Ye({},V),{},{props:b,graphicalItems:G}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(O){V[O]=d(b,V[O],J,O.replace("Map",""),r)});var W=V["".concat(H,"Map")],ae=Ome(W),ve=h(b,Ye(Ye({},V),{},{dataStartIndex:_,dataEndIndex:S,updateId:N,graphicalItems:G,stackGroups:L,offset:J}));return Ye(Ye({formattedGraphicalItems:ve,graphicalItems:G,offset:J,stackGroups:L},ae),V)},m=function(g){function v(y){var b,_,S;return hme(this,v),S=xme(this,v,[y]),Dt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Dt(S,"accessibilityManager",new Qpe),Dt(S,"handleLegendBBoxUpdate",function(N){if(N){var j=S.state,C=j.dataStartIndex,P=j.dataEndIndex,M=j.updateId;S.setState(Ye({legendBBox:N},p({props:S.props,dataStartIndex:C,dataEndIndex:P,updateId:M},Ye(Ye({},S.state),{},{legendBBox:N}))))}}),Dt(S,"handleReceiveSyncEvent",function(N,j,C){if(S.props.syncId===N){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(j)}}),Dt(S,"handleBrushChange",function(N){var j=N.startIndex,C=N.endIndex;if(j!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return Ye({dataStartIndex:j,dataEndIndex:C},p({props:S.props,dataStartIndex:j,dataEndIndex:C,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:j,dataEndIndex:C})}}),Dt(S,"handleMouseEnter",function(N){var j=S.getMouseInfo(N);if(j){var C=Ye(Ye({},j),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseEnter;Bt(P)&&P(C,N)}}),Dt(S,"triggeredAfterMouseMove",function(N){var j=S.getMouseInfo(N),C=j?Ye(Ye({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseMove;Bt(P)&&P(C,N)}),Dt(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Dt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Dt(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),Dt(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};S.setState(j),S.triggerSyncEvent(j);var C=S.props.onMouseLeave;Bt(C)&&C(j,N)}),Dt(S,"handleOuterEvent",function(N){var j=YV(N),C=xs(S.props,"".concat(j));if(j&&Bt(C)){var P,M;/.*touch.*/i.test(j)?M=S.getMouseInfo(N.changedTouches[0]):M=S.getMouseInfo(N),C((P=M)!==null&&P!==void 0?P:{},N)}}),Dt(S,"handleClick",function(N){var j=S.getMouseInfo(N);if(j){var C=Ye(Ye({},j),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var P=S.props.onClick;Bt(P)&&P(C,N)}}),Dt(S,"handleMouseDown",function(N){var j=S.props.onMouseDown;if(Bt(j)){var C=S.getMouseInfo(N);j(C,N)}}),Dt(S,"handleMouseUp",function(N){var j=S.props.onMouseUp;if(Bt(j)){var C=S.getMouseInfo(N);j(C,N)}}),Dt(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Dt(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),Dt(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),Dt(S,"handleDoubleClick",function(N){var j=S.props.onDoubleClick;if(Bt(j)){var C=S.getMouseInfo(N);j(C,N)}}),Dt(S,"handleContextMenu",function(N){var j=S.props.onContextMenu;if(Bt(j)){var C=S.getMouseInfo(N);j(C,N)}}),Dt(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&Ny.emit(jy,S.props.syncId,N,S.eventEmitterSymbol)}),Dt(S,"applySyncEvent",function(N){var j=S.props,C=j.layout,P=j.syncMethod,M=S.state.updateId,k=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(Ye({dataStartIndex:k,dataEndIndex:E},p({props:S.props,dataStartIndex:k,dataEndIndex:E,updateId:M},S.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,H=N.chartY,G=N.activeTooltipIndex,L=S.state,V=L.offset,J=L.tooltipTicks;if(!V)return;if(typeof P=="function")G=P(J,N);else if(P==="value"){G=-1;for(var W=0;W<J.length;W++)if(J[W].value===N.activeLabel){G=W;break}}var ae=Ye(Ye({},V),{},{x:V.left,y:V.top}),ve=Math.min(R,ae.x+ae.width),O=Math.min(H,ae.y+ae.height),I=J[G]&&J[G].value,B=x_(S.state,S.props.data,G),z=J[G]?{x:C==="horizontal"?J[G].coordinate:ve,y:C==="horizontal"?O:J[G].coordinate}:dD;S.setState(Ye(Ye({},N),{},{activeLabel:I,activeCoordinate:z,activePayload:B,activeTooltipIndex:G}))}else S.setState(N)}),Dt(S,"renderCursor",function(N){var j,C=S.state,P=C.isTooltipActive,M=C.activeCoordinate,k=C.activePayload,E=C.offset,R=C.activeTooltipIndex,H=C.tooltipAxisBandSize,G=S.getTooltipEventType(),L=(j=N.props.active)!==null&&j!==void 0?j:P,V=S.props.layout,J=N.key||"_recharts-cursor";return le.createElement(sme,{key:J,activeCoordinate:M,activePayload:k,activeTooltipIndex:R,chartName:r,element:N,isActive:L,layout:V,offset:E,tooltipAxisBandSize:H,tooltipEventType:G})}),Dt(S,"renderPolarAxis",function(N,j,C){var P=xs(N,"type.axisType"),M=xs(S.state,"".concat(P,"Map")),k=N.type.defaultProps,E=k!==void 0?Ye(Ye({},k),N.props):N.props,R=M&&M[E["".concat(P,"Id")]];return F.cloneElement(N,Ye(Ye({},R),{},{className:Kt(P,R.className),key:N.key||"".concat(j,"-").concat(C),ticks:Fl(R,!0)}))}),Dt(S,"renderPolarGrid",function(N){var j=N.props,C=j.radialLines,P=j.polarAngles,M=j.polarRadius,k=S.state,E=k.radiusAxisMap,R=k.angleAxisMap,H=Dc(E),G=Dc(R),L=G.cx,V=G.cy,J=G.innerRadius,W=G.outerRadius;return F.cloneElement(N,{polarAngles:Array.isArray(P)?P:Fl(G,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(M)?M:Fl(H,!0).map(function(ae){return ae.coordinate}),cx:L,cy:V,innerRadius:J,outerRadius:W,key:N.key||"polar-grid",radialLines:C})}),Dt(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,j=S.props,C=j.children,P=j.width,M=j.height,k=S.props.margin||{},E=P-(k.left||0)-(k.right||0),R=UP({children:C,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!R)return null;var H=R.item,G=C6(R,ome);return F.cloneElement(H,Ye(Ye({},G),{},{chartWidth:P,chartHeight:M,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Dt(S,"renderTooltip",function(){var N,j=S.props,C=j.children,P=j.accessibilityLayer,M=ls(C,Ls);if(!M)return null;var k=S.state,E=k.isTooltipActive,R=k.activeCoordinate,H=k.activePayload,G=k.activeLabel,L=k.offset,V=(N=M.props.active)!==null&&N!==void 0?N:E;return F.cloneElement(M,{viewBox:Ye(Ye({},L),{},{x:L.left,y:L.top}),active:V,label:G,payload:V?H:[],coordinate:R,accessibilityLayer:P})}),Dt(S,"renderBrush",function(N){var j=S.props,C=j.margin,P=j.data,M=S.state,k=M.offset,E=M.dataStartIndex,R=M.dataEndIndex,H=M.updateId;return F.cloneElement(N,{key:N.key||"_recharts-brush",onChange:p1(S.handleBrushChange,N.props.onChange),data:P,x:ot(N.props.x)?N.props.x:k.left,y:ot(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(C.bottom||0),width:ot(N.props.width)?N.props.width:k.width,startIndex:E,endIndex:R,updateId:"brush-".concat(H)})}),Dt(S,"renderReferenceElement",function(N,j,C){if(!N)return null;var P=S,M=P.clipPathId,k=S.state,E=k.xAxisMap,R=k.yAxisMap,H=k.offset,G=N.type.defaultProps||{},L=N.props,V=L.xAxisId,J=V===void 0?G.xAxisId:V,W=L.yAxisId,ae=W===void 0?G.yAxisId:W;return F.cloneElement(N,{key:N.key||"".concat(j,"-").concat(C),xAxis:E[J],yAxis:R[ae],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:M})}),Dt(S,"renderActivePoints",function(N){var j=N.item,C=N.activePoint,P=N.basePoint,M=N.childIndex,k=N.isRange,E=[],R=j.props.key,H=j.item.type.defaultProps!==void 0?Ye(Ye({},j.item.type.defaultProps),j.item.props):j.item.props,G=H.activeDot,L=H.dataKey,V=Ye(Ye({index:M,dataKey:L,cx:C.x,cy:C.y,r:4,fill:pN(j.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Pt(G,!1)),bg(G));return E.push(v.renderActiveDot(G,V,"".concat(R,"-activePoint-").concat(M))),P?E.push(v.renderActiveDot(G,Ye(Ye({},V),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(M))):k&&E.push(null),E}),Dt(S,"renderGraphicChild",function(N,j,C){var P=S.filterFormatItem(N,j,C);if(!P)return null;var M=S.getTooltipEventType(),k=S.state,E=k.isTooltipActive,R=k.tooltipAxis,H=k.activeTooltipIndex,G=k.activeLabel,L=S.props.children,V=ls(L,Ls),J=P.props,W=J.points,ae=J.isRange,ve=J.baseLine,O=P.item.type.defaultProps!==void 0?Ye(Ye({},P.item.type.defaultProps),P.item.props):P.item.props,I=O.activeDot,B=O.hide,z=O.activeBar,q=O.activeShape,se=!!(!B&&E&&V&&(I||z||q)),xe={};M!=="axis"&&V&&V.props.trigger==="click"?xe={onClick:p1(S.handleItemMouseEnter,N.props.onClick)}:M!=="axis"&&(xe={onMouseLeave:p1(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:p1(S.handleItemMouseEnter,N.props.onMouseEnter)});var ie=F.cloneElement(N,Ye(Ye({},P.props),xe));function ye(we){return typeof R.dataKey=="function"?R.dataKey(we.payload):null}if(se)if(H>=0){var Te,X;if(R.dataKey&&!R.allowDuplicatedCategory){var We=typeof R.dataKey=="function"?ye:"payload.".concat(R.dataKey.toString());Te=vg(W,We,G),X=ae&&ve&&vg(ve,We,G)}else Te=W==null?void 0:W[H],X=ae&&ve&&ve[H];if(q||z){var Oe=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[F.cloneElement(N,Ye(Ye(Ye({},P.props),xe),{},{activeIndex:Oe})),null,null]}if(!Gt(Te))return[ie].concat(Cf(S.renderActivePoints({item:P,activePoint:Te,basePoint:X,childIndex:H,isRange:ae})))}else{var Se,re=(Se=S.getItemByXY(S.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:ie},Me=re.graphicalItem,oe=Me.item,me=oe===void 0?N:oe,_e=Me.childIndex,Ie=Ye(Ye(Ye({},P.props),xe),{},{activeIndex:_e});return[F.cloneElement(me,Ie),null,null]}return ae?[ie,null,null]:[ie,null]}),Dt(S,"renderCustomized",function(N,j,C){return F.cloneElement(N,Ye(Ye({key:"recharts-customized-".concat(C)},S.props),S.state))}),Dt(S,"renderMap",{CartesianGrid:{handler:b1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:b1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:b1},YAxis:{handler:b1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:$f("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=zO(S.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return bme(v,g),mme(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,S=b.data,N=b.height,j=b.layout,C=ls(_,Ls);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=x_(this.state,S,P,M),E=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+N)/2,H=j==="horizontal",G=H?{x:E,y:R}:{y:E,x:R},L=this.state.formattedGraphicalItems.find(function(J){var W=J.item;return W.type.name==="Scatter"});L&&(G=Ye(Ye({},G),L.props.points[P].tooltipPosition),k=L.props.points[P].tooltipPayload);var V={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:M,activePayload:k,activeCoordinate:G};this.setState(V),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){Vw([ls(b.children,Ls)],[ls(this.props.children,Ls)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ls(this.props.children,Ls);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),N=_re(S),j={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},C=S.width/_.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,C);if(!P)return null;var M=this.state,k=M.xAxisMap,E=M.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&k&&E){var H=Dc(k).scale,G=Dc(E).scale,L=H&&H.invert?H.invert(j.chartX):null,V=G&&G.invert?G.invert(j.chartY):null;return Ye(Ye({},j),{},{xValue:L,yValue:V})}var J=k6(this.state,this.props.data,this.props.layout,P);return J?Ye(Ye({},j),J):null}},{key:"inRange",value:function(b,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,j=b/S,C=_/S;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,M=j>=P.left&&j<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return M?{x:j,y:C}:null}var k=this.state,E=k.angleAxisMap,R=k.radiusAxisMap;if(E&&R){var H=Dc(E);return eC({x:j,y:C},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),S=ls(b,Ls),N={};S&&_==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=bg(this.props,this.handleOuterEvent);return Ye(Ye({},j),N)}},{key:"addListener",value:function(){Ny.on(jy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ny.removeListener(jy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,S){for(var N=this.state.formattedGraphicalItems,j=0,C=N.length;j<C;j++){var P=N[j];if(P.item===b||P.props.key===b.key||_===Ll(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,S=_.left,N=_.top,j=_.height,C=_.width;return le.createElement("defs",null,le.createElement("clipPath",{id:b},le.createElement("rect",{x:S,y:N,height:j,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,S){var N=A6(S,2),j=N[0],C=N[1];return Ye(Ye({},_),{},Dt({},j,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,S){var N=A6(S,2),j=N[0],C=N[1];return Ye(Ye({},_),{},Dt({},j,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,S=_.formattedGraphicalItems,N=_.activeItem;if(S&&S.length)for(var j=0,C=S.length;j<C;j++){var P=S[j],M=P.props,k=P.item,E=k.type.defaultProps!==void 0?Ye(Ye({},k.type.defaultProps),k.props):k.props,R=Ll(k.type);if(R==="Bar"){var H=(M.data||[]).find(function(J){return aue(b,J)});if(H)return{graphicalItem:P,payload:H}}else if(R==="RadialBar"){var G=(M.data||[]).find(function(J){return eC(b,J)});if(G)return{graphicalItem:P,payload:G}}else if(L2(P,N)||B2(P,N)||xm(P,N)){var L=qde({graphicalItem:P,activeTooltipItem:N,itemData:E.data}),V=E.activeIndex===void 0?L:E.activeIndex;return{graphicalItem:Ye(Ye({},P),{},{childIndex:V}),payload:xm(P,N)?E.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!Wj(this))return null;var _=this.props,S=_.children,N=_.className,j=_.width,C=_.height,P=_.style,M=_.compact,k=_.title,E=_.desc,R=C6(_,lme),H=Pt(R,!1);if(M)return le.createElement(l6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(Gw,P0({},H,{width:j,height:C,title:k,desc:E}),this.renderClipPath(),qj(S,this.renderMap)));if(this.props.accessibilityLayer){var G,L;H.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,H.role=(L=this.props.role)!==null&&L!==void 0?L:"application",H.onKeyDown=function(J){b.accessibilityManager.keyboardEvent(J)},H.onFocus=function(){b.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return le.createElement(l6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",P0({className:Kt("recharts-wrapper",N),style:Ye({position:"relative",cursor:"default",width:j,height:C},P)},V,{ref:function(W){b.container=W}}),le.createElement(Gw,P0({},H,{width:j,height:C,title:k,desc:E,style:Sme}),this.renderClipPath(),qj(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);Dt(m,"displayName",r),Dt(m,"defaultProps",Ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Dt(m,"getDerivedStateFromProps",function(g,v){var y=g.dataKey,b=g.data,_=g.children,S=g.width,N=g.height,j=g.layout,C=g.stackOffset,P=g.margin,M=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var E=T6(g);return Ye(Ye(Ye({},E),{},{updateId:0},p(Ye(Ye({props:g},E),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:b,prevWidth:S,prevHeight:N,prevLayout:j,prevStackOffset:C,prevMargin:P,prevChildren:_})}if(y!==v.prevDataKey||b!==v.prevData||S!==v.prevWidth||N!==v.prevHeight||j!==v.prevLayout||C!==v.prevStackOffset||!z0(P,v.prevMargin)){var R=T6(g),H={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},G=Ye(Ye({},k6(v,b,j)),{},{updateId:v.updateId+1}),L=Ye(Ye(Ye({},R),H),G);return Ye(Ye(Ye({},L),p(Ye({props:g},L),v)),{},{prevDataKey:y,prevData:b,prevWidth:S,prevHeight:N,prevLayout:j,prevStackOffset:C,prevMargin:P,prevChildren:_})}if(!Vw(_,v.prevChildren)){var V,J,W,ae,ve=ls(_,gf),O=ve&&(V=(J=ve.props)===null||J===void 0?void 0:J.startIndex)!==null&&V!==void 0?V:M,I=ve&&(W=(ae=ve.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&W!==void 0?W:k,B=O!==M||I!==k,z=!Gt(b),q=z&&!B?v.updateId:v.updateId+1;return Ye(Ye({updateId:q},p(Ye(Ye({props:g},v),{},{updateId:q,dataStartIndex:O,dataEndIndex:I}),v)),{},{prevChildren:_,dataStartIndex:O,dataEndIndex:I})}return null}),Dt(m,"renderActiveDot",function(g,v,y){var b;return F.isValidElement(g)?b=F.cloneElement(g,v):Bt(g)?b=g(v):b=le.createElement(I2,v),le.createElement(Nr,{className:"recharts-active-dot",key:y},b)});var x=F.forwardRef(function(v,y){return le.createElement(m,P0({},v,{ref:y}))});return x.displayName=m.displayName,x},Mme=AN({chartName:"LineChart",GraphicalChild:rx,axisComponents:[{axisType:"xAxis",AxisComp:Xf},{axisType:"yAxis",AxisComp:Yf}],formatAxisMap:OI}),Fme=AN({chartName:"BarChart",GraphicalChild:Cd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xf},{axisType:"yAxis",AxisComp:Yf}],formatAxisMap:OI}),hD=AN({chartName:"PieChart",GraphicalChild:dl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:R2},{axisType:"radiusAxis",AxisComp:M2}],formatAxisMap:voe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const I0={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},item:{initial:{opacity:0,y:15},animate:e=>({opacity:1,y:0,transition:{delay:e*.1,duration:.5,ease:[.19,1,.22,1]}})}},y1=({icon:e,label:t,value:r,unit:n="",subValue:a="",colorClass:i="text-white",index:o})=>s.jsxs(Ne.div,{custom:o,variants:I0.item,initial:"initial",animate:"animate",whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"relative bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 shadow-lg",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center border border-white/5 shadow-inner",children:e}),s.jsx("div",{className:"text-white/70",children:t})]}),s.jsx("div",{className:`text-xl font-bold mt-2 ${i}`,children:typeof r=="number"||typeof r=="string"?s.jsxs(s.Fragment,{children:[r,n&&s.jsx("span",{className:"text-sm font-normal text-white/50 ml-1",children:n})]}):r}),a&&s.jsx("div",{className:"text-sm text-white/50 mt-1",children:a})]}),Rme=({name:e,weight:t,timeRemaining:r,index:n})=>s.jsxs(Ne.div,{custom:n+5,variants:I0.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center mr-3 border border-white/10",children:s.jsx(Gk,{size:18,className:"text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:e}),s.jsx("div",{className:"text-sm text-white/60",children:t})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-white font-medium",children:r}),s.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]});function pD({pool:e,onClose:t}){const r=_d(t);Math.round(e.oxygen/100*50+(1-Math.abs(e.temperature-15)/10)*25+(1-Math.abs(e.ph-8)/1)*25);const n=[{name:"LOT-2025-001",weight:"500 kg (Huîtres N°3)",timeRemaining:"12h"},{name:"LOT-2025-002",weight:"300 kg (Huîtres N°2)",timeRemaining:"24h"}];return s.jsx(Ne.div,{...I0.overlay,className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:s.jsxs(Ne.div,{ref:r,...I0.content,className:"bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)] rounded-2xl overflow-hidden max-w-3xl w-full max-h-[90vh] overflow-y-auto relative z-10 border border-white/10 shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e.name}),s.jsx("p",{className:"text-white/60",children:"Bassin de purification"})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10","aria-label":"Fermer",children:s.jsx(Mt,{size:20})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsxs(Ne.div,{variants:I0.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Stock dans le bassin"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[s.jsx("div",{className:"col-span-1 flex flex-col items-center justify-center",children:s.jsxs("div",{className:"relative w-40 h-40",children:[s.jsx(Pg,{width:"100%",height:"100%",children:s.jsx(hD,{children:s.jsx(dl,{data:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,paddingAngle:2,dataKey:"value",startAngle:90,endAngle:-270,stroke:"none",children:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}].map((a,i)=>s.jsx(Ym,{fill:a.color},`cell-${i}`))})})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:s.jsx("div",{className:"text-2xl font-bold text-white",children:"26.7%"})})]})}),s.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[s.jsx(y1,{icon:s.jsx(id,{size:20,className:"text-brand-burgundy"}),label:"Température",value:12.5,unit:"°C",index:0}),s.jsx(y1,{icon:s.jsx(HL,{size:20,className:"text-brand-burgundy"}),label:"Oxygène dissous",value:87,unit:"%",index:1}),s.jsx(y1,{icon:s.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0d9488] flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),label:"Huîtres N°3",value:500,unit:"kg",index:2}),s.jsx(y1,{icon:s.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#3b82f6] flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),label:"Huîtres N°2",value:300,unit:"kg",index:3})]})]}),s.jsx("div",{className:"mt-5",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:s.jsx($a,{size:20,className:"text-cyan-400"})}),s.jsx("div",{className:"text-white/70",children:"Dernier nettoyage"}),s.jsxs("div",{className:"text-white font-medium ml-auto",children:["12 mars 2025 ",s.jsx("span",{className:"text-sm text-white/50",children:"(il y a 1 jour)"})]})]})}),s.jsxs("div",{className:"h-48 w-full bg-gradient-to-br from-[#071a40]/95 to-[#0a2858]/95 rounded-xl overflow-hidden shadow-2xl border border-blue-900/20 relative mt-6",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-white/30 to-transparent z-10"}),s.jsxs("div",{className:"relative h-full w-full",children:[s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),s.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"0 0 20px rgba(37, 99, 235, 0.2)"}}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),s.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:s.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})]})]}),s.jsxs(Ne.div,{variants:I0.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(Gk,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Lots en purification"]}),s.jsx("div",{className:"space-y-3",children:n.map((a,i)=>s.jsx(Rme,{name:a.name,weight:a.weight,timeRemaining:a.timeRemaining,index:i},a.name))})]})]}),s.jsx("div",{className:"flex justify-end mt-6 space-x-3",children:s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}const Lme={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function Kf({icon:e,title:t}){return s.jsxs(Ne.div,{variants:Lme,className:"flex items-center mb-8 mt-6 pt-4",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:e})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:t})]})}const g_=({table:e,isHovered:t=!1,onHoverStart:r=()=>{},onHoverEnd:n=()=>{},onClick:a=()=>{},compact:i=!1})=>{const o=e.alert||e.timeProgress>100;return i?s.jsxs("div",{className:"relative rounded-lg p-3 overflow-hidden bg-[rgba(0,40,80,0.2)] shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] cursor-pointer",onClick:a,"aria-label":`Table ${e.name}, taux d'occupation ${e.value}%`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.5)]",style:{backgroundColor:e.value===100?"#22c55e":"#eab308"}}),s.jsx("div",{className:"text-white font-medium text-sm",children:e.name})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-base font-semibold text-white",children:[e.value,"%"]})})]}),s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10 h-5 mb-2",children:[...Array(10)].map((l,c)=>s.jsx("div",{className:"h-full rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c<Math.floor(e.value/100*10)?1:.1},"aria-hidden":"true"},c))}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-xs text-white/70",children:e.type}),o&&s.jsxs("div",{className:"text-amber-400 flex items-center",children:[s.jsx(Kn,{size:12,className:"mr-1"}),s.jsx("span",{className:"text-xs",children:"Attention"})]})]})]}):s.jsxs(Ne.div,{className:`
        relative rounded-lg p-4 overflow-hidden
        bg-[rgba(0,40,80,0.2)]
        shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
        cursor-pointer transition-all duration-200
      `,onHoverStart:r,onHoverEnd:n,onClick:a,style:{transform:t?"scale(1.02)":"none"},children:[s.jsx(Ne.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:t?1:0}}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:e.value===100?"#22c55e":"#eab308"}}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:e.name}),s.jsx("div",{className:"text-xs text-white/70",children:e.plates})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-white",children:[e.value,"%"]}),s.jsx("div",{className:"text-xs text-white/70",children:"occupée"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(e.value===100)return s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c);if(e.name==="Table A1"){const u=Math.floor(e.value/100*8),d=e.value/100*8%1,f=c-1;return c===0?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c):c===9?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):f>=8-u?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):f===7-u&&d>0?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:s.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},c):s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c)}return s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(e.value/100*8)?1:0}},c)})}),s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(e.value===100)return s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`);if(e.name==="Table A1"){const u=Math.floor(e.value/100*8),d=e.value/100*8%1,f=c-1;return c===0?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`):c===9?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):f>=8-u?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):f===7-u&&d>0?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:s.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},`second-${c}`):s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`)}return s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(e.value/100*8)?1:0}},`second-${c}`)})})]}),s.jsx("div",{className:"flex items-center justify-between mt-3",children:s.jsx("div",{className:"text-xs text-white/70",children:e.value>0&&e.mortality>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:"Mortalité :"})," ",e.mortality,"%"]})})}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(_n,{size:14,className:"text-cyan-400 mr-1"}),s.jsx("span",{className:"text-xs text-white/70",children:e.type})]}),e.startDate&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wa,{size:14,className:"text-cyan-400 mr-1"}),s.jsx("span",{className:"text-xs text-white/70",children:e.startDate})]})]}),o&&s.jsxs("div",{className:"text-amber-400 flex items-center",children:[s.jsx(Kn,{size:16,className:"mr-1"}),s.jsx("span",{className:"text-xs",children:"Attention"})]})]})]})]})},In={temperature:18,feelsLike:16,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:15,sunrise:"06:45",sunset:"20:35",forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8,conditions:"partly-cloudy"},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9,conditions:"sunny"},{time:"18:00",temp:17,windSpeed:20,windDirection:300,waveHeight:1,conditions:"partly-cloudy"},{time:"21:00",temp:16,windSpeed:15,windDirection:280,waveHeight:.7,conditions:"cloudy"},{time:"00:00",temp:15,windSpeed:12,windDirection:270,waveHeight:.5,conditions:"cloudy"},{time:"03:00",temp:14,windSpeed:10,windDirection:260,waveHeight:.4,conditions:"partly-cloudy"},{time:"06:00",temp:15,windSpeed:12,windDirection:280,waveHeight:.6,conditions:"partly-cloudy"},{time:"09:00",temp:17,windSpeed:14,windDirection:290,waveHeight:.7,conditions:"sunny"}],dailyForecast:[{day:"Aujourd'hui",highTemp:19,lowTemp:14,conditions:"partly-cloudy",windSpeed:20,waveHeight:1,precipitation:10},{day:"Demain",highTemp:20,lowTemp:15,conditions:"sunny",windSpeed:15,waveHeight:.8,precipitation:0},{day:"Lundi",highTemp:22,lowTemp:16,conditions:"sunny",windSpeed:12,waveHeight:.6,precipitation:0},{day:"Mardi",highTemp:21,lowTemp:17,conditions:"partly-cloudy",windSpeed:14,waveHeight:.7,precipitation:5},{day:"Mercredi",highTemp:19,lowTemp:15,conditions:"cloudy",windSpeed:18,waveHeight:.9,precipitation:30},{day:"Jeudi",highTemp:18,lowTemp:14,conditions:"rainy",windSpeed:20,waveHeight:1.2,precipitation:80},{day:"Vendredi",highTemp:17,lowTemp:13,conditions:"cloudy",windSpeed:15,waveHeight:1,precipitation:40}]},Ay=e=>["N","NE","E","SE","S","SO","O","NO"][Math.round(e/45)%8],CN=({condition:e,size:t=32,className:r=""})=>{switch(e){case"sunny":return s.jsx(hg,{size:t,className:`text-yellow-400 ${r}`});case"cloudy":return s.jsx(Lw,{size:t,className:`text-gray-300 ${r}`});case"rainy":return s.jsx(qk,{size:t,className:`text-blue-300 ${r}`});case"partly-cloudy":return s.jsx(cj,{size:t,className:`text-gray-200 ${r}`});default:return s.jsx(cj,{size:t,className:`text-gray-200 ${r}`})}},Bme=({forecast:e})=>s.jsxs("div",{className:"forecast-card",children:[s.jsx("p",{className:"forecast-time",children:e.time}),s.jsx(CN,{condition:e.conditions,size:24,className:"my-2"}),s.jsxs("p",{className:"forecast-temp",children:[e.temp,"°"]}),s.jsxs("div",{className:"forecast-wind-indicator",children:[s.jsx(Du,{size:12,style:{transform:`rotate(${e.windDirection}deg)`}}),s.jsx("span",{children:e.windSpeed})]}),s.jsxs("p",{className:"forecast-waves",children:[e.waveHeight," m"]})]}),$me=({forecast:e})=>s.jsxs("div",{className:"daily-forecast-row",children:[s.jsx("div",{className:"daily-forecast-day",children:e.day}),s.jsx("div",{className:"daily-forecast-icon",children:s.jsx(CN,{condition:e.conditions,size:20})}),s.jsxs("div",{className:"daily-forecast-precip",children:[s.jsx($a,{size:14,className:"text-blue-300"}),s.jsxs("span",{children:[e.precipitation,"%"]})]}),s.jsxs("div",{className:"daily-forecast-temp",children:[s.jsxs("span",{className:"high-temp",children:[e.highTemp,"°"]}),s.jsxs("span",{className:"low-temp",children:[e.lowTemp,"°"]})]})]}),zme=()=>s.jsxs("div",{className:"mobile-weather-container",children:[s.jsxs("header",{className:"weather-header",children:[s.jsx("h1",{className:"weather-location-title",children:"Météo & Marée"}),s.jsxs("div",{className:"weather-update-time",children:[s.jsx(ci,{size:14,className:"text-cyan-300"}),s.jsxs("span",{children:["Mise à jour ",new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs("section",{className:"current-weather",children:[s.jsxs("div",{className:"primary-info",children:[s.jsxs("div",{className:"temp-display",children:[s.jsxs("span",{className:"current-temp",children:[In.temperature,"°"]}),s.jsxs("span",{className:"feels-like",children:["Ressenti ",In.feelsLike,"°"]})]}),s.jsx("div",{className:"weather-icon-large",children:s.jsx(CN,{condition:In.conditions,size:80})})]}),s.jsx("div",{className:"weather-condition-text",children:"Partiellement nuageux"})]}),s.jsxs("section",{className:"current-indicators",children:[s.jsxs("div",{className:"indicator-item",children:[s.jsx(N0,{size:18,className:"indicator-icon"}),s.jsx("div",{className:"indicator-label",children:"Vent"}),s.jsxs("div",{className:"indicator-value",children:[In.windSpeed," km/h"]}),s.jsx("div",{className:"indicator-detail",children:Ay(In.windDirection)})]}),s.jsxs("div",{className:"indicator-item",children:[s.jsx(mo,{size:18,className:"indicator-icon"}),s.jsx("div",{className:"indicator-label",children:"Vagues"}),s.jsxs("div",{className:"indicator-value",children:[In.waveHeight," m"]}),s.jsx("div",{className:"indicator-detail",children:Ay(In.waveDirection)})]}),s.jsxs("div",{className:"indicator-item",children:[s.jsx($a,{size:18,className:"indicator-icon"}),s.jsx("div",{className:"indicator-label",children:"Humidité"}),s.jsxs("div",{className:"indicator-value",children:[In.humidity,"%"]})]}),s.jsx("div",{className:"indicator-item",children:s.jsxs(Ne.div,{className:"tide-indicator",animate:{height:`${In.tideLevel/10*100}%`},transition:{duration:1},children:[s.jsx("div",{className:"indicator-label",children:"Marée"}),s.jsxs("div",{className:"indicator-value",children:[In.tideLevel," m"]}),s.jsxs("div",{className:"tide-times",children:[s.jsxs("div",{children:[s.jsx(Fw,{size:12})," ",In.nextHighTide]}),s.jsxs("div",{children:[s.jsx(Rw,{size:12})," ",In.nextLowTide]})]})]})})]}),s.jsxs("section",{className:"hourly-forecast",children:[s.jsx("h2",{className:"section-title",children:"Prévisions horaires"}),s.jsx("div",{className:"forecast-scroll-container",children:In.forecast.map((e,t)=>s.jsx(Bme,{forecast:e},t))})]}),s.jsxs("section",{className:"daily-forecast",children:[s.jsx("h2",{className:"section-title",children:"Prévisions 7 jours"}),s.jsx("div",{className:"daily-forecast-container",children:In.dailyForecast.map((e,t)=>s.jsx($me,{forecast:e},t))})]}),s.jsxs("section",{className:"wind-detail-section",children:[s.jsx("h2",{className:"section-title",children:"Détails du vent"}),s.jsxs("div",{className:"wind-detail-container",children:[s.jsxs("div",{className:"wind-compass",children:[s.jsx(fg,{size:100,className:"wind-compass-base"}),s.jsx("div",{className:"wind-direction-indicator",style:{transform:`rotate(${In.windDirection}deg)`},children:s.jsx(Du,{size:40,className:"text-cyan-400"})})]}),s.jsxs("div",{className:"wind-stats",children:[s.jsxs("div",{className:"wind-stat-row",children:[s.jsx("span",{children:"Direction"}),s.jsxs("span",{children:[Ay(In.windDirection)," (",In.windDirection,"°)"]})]}),s.jsxs("div",{className:"wind-stat-row",children:[s.jsx("span",{children:"Vitesse"}),s.jsxs("span",{children:[In.windSpeed," km/h"]})]}),s.jsxs("div",{className:"wind-stat-row",children:[s.jsx("span",{children:"Rafales"}),s.jsxs("span",{children:[In.windGust," km/h"]})]})]})]})]}),s.jsx("section",{className:"sun-times",children:s.jsxs("div",{className:"sun-time-container",children:[s.jsxs("div",{className:"sunrise",children:[s.jsx(hg,{size:18,className:"text-yellow-400"}),s.jsx("span",{className:"sun-time-label",children:"Lever"}),s.jsx("span",{className:"sun-time-value",children:In.sunrise})]}),s.jsx("div",{className:"sun-path",children:s.jsx("div",{className:"sun-path-line"})}),s.jsxs("div",{className:"sunset",children:[s.jsx(WL,{size:18,className:"text-blue-300"}),s.jsx("span",{className:"sun-time-label",children:"Coucher"}),s.jsx("span",{className:"sun-time-value",children:In.sunset})]})]})})]}),qh={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}}},Ume=()=>{const[e,t]=F.useState("overview"),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(0);F.useState(0);const c=F.useRef(null);F.useEffect(()=>{document.querySelectorAll(".animate-fade-in").forEach((p,m)=>{setTimeout(()=>{p.classList.add("visible")},m*100)})},[]),F.useEffect(()=>{c.current&&(c.current.scrollTop=0)},[e]);const u=h=>{t(h),c.current&&(c.current.scrollTop=0)},d=[{id:"table1",name:"Table Nord-Est",value:78,color:"#38bdf8",type:"Spéciale de Claire",plates:"45/60",currentSize:"6.5 cm",targetSize:"9 cm",timeProgress:65,startDate:"10/01/2023",harvest:"30/06/2023",mortality:8.5,alert:null,status:"active",occupiedUnits:45,totalUnits:60,location:"Secteur Nord-Est",area:120,waterHeight:1.2,lastInspection:"15/05/2023",currentConditions:"Optimales",lastUpdate:"Il y a 2h",occupancyRate:78,lastUpdated:"Il y a 2h",oysterType:"Spéciale de Claire",lastHarvest:"12/05/2023",quality:4.2,avgSize:7.8},{id:"table2",name:"Table Centrale",value:45,color:"#22c55e",type:"Fine de Claire",plates:"30/60",currentSize:"5.8 cm",targetSize:"8 cm",timeProgress:50,startDate:"15/01/2023",harvest:"15/07/2023",mortality:6.2,status:"active",occupiedUnits:30,totalUnits:60,location:"Secteur Central",area:110,waterHeight:1.1,lastInspection:"12/05/2023",currentConditions:"Bonnes",lastUpdate:"Il y a 1h",occupancyRate:45,lastUpdated:"Il y a 1h",oysterType:"Fine de Claire",lastHarvest:"15/05/2023",quality:3.8,avgSize:6.5},{id:"table3",name:"Table Ouest",value:92,color:"#ef4444",type:"Spéciale de Claire",plates:"55/60",currentSize:"7.2 cm",targetSize:"9 cm",timeProgress:80,startDate:"05/01/2023",harvest:"20/06/2023",mortality:9.8,alert:"Forte densité",status:"active",occupiedUnits:55,totalUnits:60,location:"Secteur Ouest",area:130,waterHeight:1.3,lastInspection:"10/05/2023",currentConditions:"Densité élevée",lastUpdate:"Il y a 3h",occupancyRate:92,lastUpdated:"Il y a 3h",oysterType:"Spéciale de Claire",lastHarvest:"10/05/2023",quality:4.5,avgSize:8.2}],f=[{id:"pool1",name:"Bassin Principal",status:"Optimal",temperature:14.7,oxygen:95,salinity:33.5,ph:8.1,lastCheck:"Il y a 30 min",alert:!1,stock:{mussels:120,urchins:45},healthIndex:87,lastUpdated:"Il y a 30 min",waterLevel:1.45,waterChangeRate:12},{id:"pool2",name:"Bassin de Purification",status:"Optimal",temperature:15.2,oxygen:97,salinity:32.8,ph:8,lastCheck:"Il y a 1h",alert:!1,stock:{mussels:85,urchins:30},healthIndex:92,lastUpdated:"Il y a 1h",waterLevel:1.22,waterChangeRate:18},{id:"pool3",name:"Bassin d'Élevage",status:"Attention",temperature:14.3,oxygen:82,salinity:34.1,ph:7.8,lastCheck:"Il y a 2h",alert:!0,stock:{mussels:150,urchins:0},healthIndex:65,lastUpdated:"Il y a 2h",waterLevel:.87,waterChangeRate:8}];return s.jsx("div",{className:"mobile-dashboard",children:s.jsx("div",{className:"mobile-dashboard-wrapper",ref:c,children:s.jsxs("div",{className:"mobile-dashboard-content",children:[e==="overview"&&s.jsx(Ne.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qh,children:s.jsxs("div",{className:"dashboard-sections space-y-5",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tableau de bord"}),s.jsx("div",{className:"animate-fade-in",children:s.jsx(zme,{})}),s.jsxs("section",{className:"animate-fade-in mt-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Tables ostréicoles"}),s.jsxs("button",{className:"text-cyan-400 text-sm flex items-center gap-1",onClick:()=>u("tables"),"aria-label":"Voir toutes les tables",children:["Tout voir ",s.jsx(If,{size:16})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"mobile-carousel",children:d.map((h,p)=>s.jsx("div",{className:`mobile-carousel-item ${p===o?"active":""}`,onClick:()=>n(h),children:s.jsx(g_,{table:h,compact:!0,onClick:()=>n(h)})},h.id))}),s.jsx("div",{className:"mobile-carousel-indicators mt-2",children:d.map((h,p)=>s.jsx("button",{className:`mobile-carousel-indicator ${p===o?"active":""}`,onClick:()=>l(p),"aria-label":`Voir table ${p+1}`},p))})]})]})]})}),e==="tables"&&s.jsxs(Ne.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qh,children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Tables ostréicoles"}),d.map(h=>s.jsx(g_,{table:h},h.id))]}),e==="pools"&&s.jsxs(Ne.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qh,children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Bassins"}),f.map(h=>s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:h.name}),s.jsxs("p",{children:["Status: ",h.status]}),s.jsxs("p",{children:["Température: ",h.temperature,"°C"]}),s.jsxs("p",{children:["Oxygène: ",h.oxygen,"%"]}),s.jsxs("p",{children:["Salinité: ",h.salinity,"‰"]}),s.jsxs("p",{children:["pH: ",h.ph]}),s.jsxs("p",{children:["Dernière vérification: ",h.lastCheck]}),s.jsxs("p",{children:["Alerte: ",h.alert?"Oui":"Non"]}),s.jsxs("p",{children:["Stock: ",h.stock.mussels," moules, ",h.stock.urchins," oursins"]})]},h.id))]}),e==="notifications"&&s.jsxs(Ne.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qh,children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Alertes"}),s.jsxs("ul",{children:[d.map(h=>h.alert&&s.jsxs("li",{children:[h.name,": ",h.alert]},h.id)),f.map(h=>h.alert&&s.jsxs("li",{children:[h.name,": ",h.alert]},h.id))]})]}),e==="emergency"&&s.jsxs(Ne.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qh,children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6 text-red-400",children:"Urgence"}),s.jsx("p",{children:"Contenu de la section urgence"})]}),s.jsx("div",{className:"fixed-bottom-nav",children:s.jsxs("div",{className:"mobile-bottom-nav",children:[s.jsxs("button",{className:`mobile-nav-item ${e==="overview"?"active":""}`,onClick:()=>u("overview"),"aria-label":"Vue d'ensemble",children:[s.jsx(VL,{size:22}),s.jsx("span",{children:"Accueil"})]}),s.jsxs("button",{className:`mobile-nav-item ${e==="tables"?"active":""}`,onClick:()=>u("tables"),"aria-label":"Tables",children:[s.jsx(si,{size:22}),s.jsx("span",{children:"Tables"})]}),s.jsxs("button",{className:`mobile-nav-item ${e==="pools"?"active":""}`,onClick:()=>u("pools"),"aria-label":"Bassins",children:[s.jsx(qL,{size:22}),s.jsx("span",{children:"Bassins"})]}),s.jsxs("button",{className:`mobile-nav-item ${e==="notifications"?"active":""}`,onClick:()=>u("notifications"),"aria-label":"Alertes",children:[s.jsx(li,{size:22}),s.jsx("span",{children:"Alertes"})]}),s.jsxs("button",{className:`mobile-nav-item emergency ${e==="emergency"?"active":""}`,onClick:()=>u("emergency"),"aria-label":"Urgence",children:[s.jsx(GL,{size:22}),s.jsx("span",{children:"Urgence"})]})]})}),s.jsxs(hr,{children:[r&&s.jsx(ST,{table:r,onClose:()=>n(null)}),a&&s.jsx(pD,{pool:a,onClose:()=>i(null)})]})]})})})},P6=[{name:"Table A1",value:72,color:"#22c55e",type:"Huîtres creuses",plates:"N°3",harvest:"En cours",mortality:15,currentSize:"3.2cm",targetSize:"4.5cm",timeProgress:65,startDate:"10/01/24",status:"En cours"},{name:"Table A2",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°4",harvest:"01/01/2026",mortality:8,currentSize:"T15",targetSize:"4.2cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B1",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°2",harvest:"01/01/2026",mortality:12,currentSize:"T15",targetSize:"4.8cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B2",value:0,color:"#22c55e",type:"",plates:"",harvest:"",mortality:0,currentSize:"",targetSize:"",timeProgress:0,startDate:"",status:"Vide"}],I6=[{id:"pool-a1",name:"Bassin A1",status:"Optimal",temperature:12.5,oxygen:95,salinity:32.4,ph:8.1,lastCheck:"08:30",alert:!1},{id:"pool-a2",name:"Bassin A2",status:"Bon",temperature:13.2,oxygen:88,salinity:31.9,ph:8,lastCheck:"08:35",alert:!1,stock:{mussels:500,urchins:100}}],kl=[{name:"Bassin A1",value:80,color:"#22c55e",type:"Purification",capacity:1e3,currentLoad:800,products:[{name:"Plates",quantity:500,unit:"kg",color:"#22c55e"},{name:"Creuses",quantity:300,unit:"kg",color:"#eab308"}],waterQuality:{quality:98,oxygen:95,temperature:12.5}},{name:"Bassin A2",value:65,color:"#eab308",type:"Purification",capacity:1e3,currentLoad:650,products:[{name:"Moules",quantity:500,unit:"kg",color:"#22c55e"},{name:"Oursins",quantity:100,unit:"dz",color:"#eab308"}],waterQuality:{quality:92,oxygen:88,temperature:13.2}}],Wn={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},Hme={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},w1={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function Wme(){const[e,t]=F.useState(null),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(null),[c,u]=F.useState(!1);return F.useEffect(()=>{const d=()=>{u(window.innerWidth<=768)};return d(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]),F.useEffect(()=>(c?document.body.classList.add("has-fixed-nav"):document.body.classList.remove("has-fixed-nav"),()=>{document.body.classList.remove("has-fixed-nav")}),[c]),c?s.jsx("div",{className:"dashboard-page",children:s.jsx(Ume,{tableOccupancyData:P6,poolData:I6,poolDisplayData:kl})}):s.jsxs(Ne.div,{initial:"hidden",animate:"visible",variants:Hme,className:"space-y-6",children:[s.jsx(Kf,{icon:s.jsx(Xv,{size:28,className:"text-white"}),title:"Tableau de bord"}),s.jsx(Ne.div,{variants:w1,className:`mb-6 w-full ${Wn.container} ${Wn.hoverEffect}`,children:s.jsx(tU,{})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[s.jsxs(Ne.div,{variants:w1,className:`${Wn.container} ${Wn.hoverEffect} p-5 space-y-4`,children:[s.jsx("h2",{className:Wn.heading,children:"Statistiques globales"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:Wn.subheading,children:"Taux production"}),s.jsx("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:"+4.2%"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"97.8%"}),s.jsx("div",{className:Wn.progressBar,children:s.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:"97.8%"},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:Wn.subheading,children:"Santé moyenne"}),s.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"92.3%"}),s.jsx("div",{className:Wn.progressBar,children:s.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"92.3%"},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:Wn.subheading,children:"Taux mortalité"}),s.jsx("div",{className:"bg-yellow-500/20 text-yellow-300 text-xs px-2 py-1 rounded-full",children:"-0.5%"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"2.5%"}),s.jsx("div",{className:Wn.progressBar,children:s.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-400",initial:{width:0},animate:{width:"25%"},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:Wn.subheading,children:"Récolte prévue"}),s.jsx("div",{className:"bg-purple-500/20 text-purple-300 text-xs px-2 py-1 rounded-full",children:"15 jours"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"4.8t"}),s.jsx("div",{className:Wn.progressBar,children:s.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-purple-500 to-pink-400",initial:{width:0},animate:{width:"80%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),s.jsxs(Ne.div,{variants:w1,className:`${Wn.container} ${Wn.hoverEffect} p-5`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h2",{className:Wn.heading,children:"Occupation des tables"}),s.jsx("div",{className:"text-sm text-white/60",children:"3 tables actives"})]}),s.jsx("div",{className:"space-y-4",children:P6.map((d,f)=>s.jsx(g_,{table:d,isHovered:e===d.name,onHoverStart:()=>t(d.name),onHoverEnd:()=>t(null),onClick:()=>i(d)},f))})]}),s.jsxs(Ne.div,{variants:w1,className:`${Wn.container} ${Wn.hoverEffect} p-5`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h2",{className:Wn.heading,children:"Santé des bassins"}),s.jsx("div",{className:"text-sm text-white/60",children:"2 bassins actifs"})]}),s.jsx("div",{className:"space-y-4",children:I6.map((d,f)=>{var h,p,m,x,g,v,y,b;return s.jsxs(Ne.div,{className:`
                  relative rounded-lg p-4 overflow-hidden
                  bg-[rgba(0,40,80,0.2)]
                  shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
                  cursor-pointer transition-all duration-200
                  ${r===d.name?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
                `,onHoverStart:()=>n(d.name),onHoverEnd:()=>n(null),onClick:()=>l(d),whileHover:{y:-4,transition:{duration:.2}},children:[s.jsx(Ne.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===d.name?1:0},transition:{duration:.2}}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:(h=kl.find(_=>_.name===d.name))==null?void 0:h.color}}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:d.name}),s.jsx("div",{className:"text-xs text-white/70",children:d.status})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-white",children:[(p=kl.find(_=>_.name===d.name))==null?void 0:p.value,"%"]}),s.jsx("div",{className:"text-xs text-white/70",children:"qualité"})]})]}),s.jsx("div",{className:Wn.progressBar,children:s.jsx(Ne.div,{className:"h-full rounded-full",style:{background:`linear-gradient(to right, ${(m=kl.find(_=>_.name===d.name))==null?void 0:m.color}, ${(x=kl.find(_=>_.name===d.name))==null?void 0:x.color}80)`,boxShadow:`0 0 10px ${(g=kl.find(_=>_.name===d.name))==null?void 0:g.color}40`},initial:{width:0},animate:{width:`${(v=kl.find(_=>_.name===d.name))==null?void 0:v.value}%`},transition:{duration:1,ease:"easeOut"}})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[s.jsxs("div",{className:"text-xs text-white/70",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(id,{className:"w-3 h-3 mr-1 text-cyan-400"}),s.jsx("span",{children:"Température"})]}),s.jsxs("span",{className:"text-white",children:[d.temperature,"°C"]})]}),s.jsxs("div",{className:"text-xs text-white/70",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx($a,{className:"w-3 h-3 mr-1 text-cyan-400"}),s.jsx("span",{children:"Oxygène"})]}),s.jsxs("span",{className:"text-white",children:[d.oxygen,"%"]})]}),s.jsxs("div",{className:"text-xs text-white/70",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(mo,{className:"w-3 h-3 mr-1 text-cyan-400"}),s.jsx("span",{children:"Capacité"})]}),s.jsxs("span",{className:"text-white",children:[(((y=kl.find(_=>_.name===d.name))==null?void 0:y.currentLoad)/((b=kl.find(_=>_.name===d.name))==null?void 0:b.capacity)*100).toFixed(0),"%"]})]})]})]})]},f)})})]})]}),s.jsxs(hr,{children:[a&&s.jsx(ST,{table:a,onClose:()=>i(null)}),o&&s.jsx(pD,{pool:o,onClose:()=>l(null)})]})]})}const Vme=[{id:"1",name:"Bouzigues",tableNumber:"T-1234",position:{x:50,y:150},size:{width:150,height:400},status:"optimal",temperature:12.5,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:2.5,cells:Array(20).fill(null).map((e,t)=>{const r=Math.random()>.3,n=t%2,a=Math.floor(t/2),i=n===0?a+1:a+11;return{id:`b1-cell-${t}`,filled:r,fillOrder:r?i:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:300,estimatedHarvestDate:"2025-06-15"}},{id:"2",name:"Bouzigues",tableNumber:"T-1235",position:{x:250,y:150},size:{width:150,height:400},status:"optimal",temperature:12.8,salinity:34,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.8,cells:Array(20).fill(null).map((e,t)=>{const r=Math.random()>.3,n=t%2,a=Math.floor(t/2),i=n===0?a+1:a+11;return{id:`b2-cell-${t}`,filled:r,fillOrder:r?i:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"2",quantity:300,estimatedHarvestDate:"2025-06-20"}},{id:"3",name:"Mèze",tableNumber:"T-2234",position:{x:500,y:250},size:{width:150,height:400},status:"warning",temperature:13.2,salinity:33,lastCheck:"2025-02-18",nextCheck:"2025-02-25",mortalityRate:4.2,cells:Array(20).fill(null).map((e,t)=>{const r=Math.random()>.3,n=t%2,a=Math.floor(t/2),i=n===0?a+1:a+11;return{id:`m1-cell-${t}`,filled:r,fillOrder:r?i:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:500,estimatedHarvestDate:"2025-07-01"}},{id:"4",name:"Mèze",tableNumber:"T-2235",position:{x:700,y:250},size:{width:150,height:400},status:"warning",temperature:13,salinity:33,lastCheck:"2025-02-18",nextCheck:"2025-02-25",mortalityRate:3.7,cells:Array(20).fill(null).map((e,t)=>{const r=Math.random()>.3,n=t%2,a=Math.floor(t/2),i=n===0?a+1:a+11;return{id:`m2-cell-${t}`,filled:r,fillOrder:r?i:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"4",quantity:350,estimatedHarvestDate:"2025-07-05"}},{id:"5",name:"Marseillan",tableNumber:"T-3234",position:{x:900,y:400},size:{width:150,height:400},status:"optimal",temperature:12.3,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.5,cells:Array(20).fill(null).map((e,t)=>{const r=Math.random()>.3,n=t%2,a=Math.floor(t/2),i=n===0?a+1:a+11;return{id:`ma1-cell-${t}`,filled:r,fillOrder:r?i:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:550,estimatedHarvestDate:"2025-06-25"}},{id:"6",name:"Marseillan",tableNumber:"T-3235",position:{x:1100,y:400},size:{width:150,height:400},status:"optimal",temperature:12.4,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.9,cells:Array(20).fill(null).map((e,t)=>{const r=Math.random()>.3,n=t%2,a=Math.floor(t/2),i=n===0?a+1:a+11;return{id:`ma2-cell-${t}`,filled:r,fillOrder:r?i:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"2",quantity:480,estimatedHarvestDate:"2025-06-30"}}];function qme({onTableSelect:e,onTableHover:t,hoveredTable:r,selectedTable:n}){var N,j,C,P,M,k,E,R,H,G,L,V,J,W,ae,ve,O,I,B;F.useState(!0);const[a,i]=F.useState(1),[o,l]=F.useState({x:0,y:0}),[c,u]=F.useState(Vme);F.useState(null),F.useState(!1);const[d,f]=F.useState(null),[h,p]=F.useState(""),m={initial:{opacity:.6,scale:.95},animate:z=>({opacity:[.6,1,.6],scale:[.95,1,.95],transition:{duration:3,repeat:1/0,delay:z*.1,ease:"easeInOut"}})},x={initial:{opacity:.8,scale:.95},animate:z=>({opacity:[.8,1,.8],scale:[.95,1.05,.95],transition:{duration:4,repeat:1/0,delay:z*.2,ease:"easeInOut"}})},g=()=>{i(z=>{const q=Math.min(z+.2,3);return console.log("Zoom in:",q),q})},v=()=>{i(z=>{const q=Math.max(z-.2,.5);return console.log("Zoom out:",q),q})},y=()=>{i(.5),l({x:0,y:0})},b=(z,q)=>{f(z),p(q)},_=z=>{console.log(`Table ID: ${z}, Nouveau numéro: ${h}`),c.map(q=>q.id===z?{...q,tableNumber:h}:q),f(null)},S=()=>{f(null)};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[s.jsx("div",{className:"col-span-9 glass-effect rounded-xl",children:s.jsxs("div",{className:"relative h-[800px] bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden border border-white/10",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-burgundy/5 to-brand-burgundy/10"}),s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,...')] opacity-10"})]}),s.jsxs("div",{className:"absolute top-0 left-0 right-0 flex justify-between p-6",children:[s.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[s.jsx(Xo,{size:16,className:"text-brand-burgundy"}),s.jsx("span",{className:"text-white font-medium",children:"Bouzigues"})]}),s.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[s.jsx(Xo,{size:16,className:"text-brand-burgundy"}),s.jsx("span",{className:"text-white font-medium",children:"Mèze"})]}),s.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[s.jsx(Xo,{size:16,className:"text-brand-burgundy"}),s.jsx("span",{className:"text-white font-medium",children:"Marseillan"})]})]}),s.jsxs("div",{className:"absolute bottom-6 right-6 flex items-center space-x-4",children:[s.jsxs("div",{className:"glass-effect p-2 rounded-lg z-30",children:[s.jsx("button",{onClick:g,className:"p-1.5 hover:bg-white/10 rounded-md text-white mr-1",children:s.jsx(XL,{size:18})}),s.jsx("button",{onClick:v,className:"p-1.5 hover:bg-white/10 rounded-md text-white mr-1",children:s.jsx(YL,{size:18})}),s.jsx("button",{onClick:y,className:"p-1.5 hover:bg-white/10 rounded-md text-white",children:s.jsx(KL,{size:18})})]}),s.jsxs("div",{className:"relative w-24 h-24",children:[s.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 rounded-full blur-xl"}),s.jsxs("div",{className:"relative w-full h-full bg-black/40 backdrop-blur-sm rounded-full border border-white/20 flex items-center justify-center",children:[s.jsx(fg,{size:48,className:"text-brand-burgundy animate-spin-slow"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-white font-bold text-xs",children:"N"})})]})]})]}),s.jsx("div",{className:"relative h-full overflow-hidden",children:s.jsx("div",{className:"absolute inset-0 transition-transform duration-300 ease-out",style:{transform:`scale(${a}) translate(${o.x}px, ${o.y}px)`,transformOrigin:"center center",cursor:"grab"},onMouseDown:z=>{const q=z.currentTarget,se=z.clientX,xe=z.clientY,ie=o.x,ye=o.y,Te=We=>{const Oe=(We.clientX-se)/a,Se=(We.clientY-xe)/a;l({x:ie+Oe,y:ye+Se}),q.style.cursor="grabbing"},X=()=>{document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",X),q.style.cursor="grab"};document.addEventListener("mousemove",Te),document.addEventListener("mouseup",X)},children:c.map(z=>s.jsxs(Ne.div,{className:"absolute",style:{left:`${z.position.x}px`,top:`${z.position.y}px`,width:`${z.size.width}px`,height:`${z.size.height}px`},whileHover:{scale:1.02},onHoverStart:()=>t==null?void 0:t(z),onHoverEnd:()=>t==null?void 0:t(null),onClick:()=>e(z),children:[s.jsx("div",{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 glass-effect px-3 py-1 rounded-full",children:d===z.id?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("input",{type:"text",value:h,onChange:q=>p(q.target.value),className:"w-20 py-1 px-2 bg-white/10 border border-white/20 rounded text-white text-sm",autoFocus:!0,onClick:q=>q.stopPropagation(),onKeyDown:q=>{q.stopPropagation(),q.key==="Enter"?_(z.id):q.key==="Escape"&&S()}}),s.jsx("button",{onClick:q=>{q.stopPropagation(),_(z.id)},className:"text-brand-primary hover:text-brand-primary/80",children:s.jsx($m,{size:14})})]}):s.jsxs("span",{className:"text-white text-sm font-medium cursor-pointer flex items-center",onClick:q=>{q.stopPropagation(),b(z.id,z.tableNumber)},children:[z.tableNumber,s.jsx(Kc,{size:12,className:"ml-1 text-white/60 hover:text-white"})]})}),s.jsxs("div",{className:`relative h-full rounded-lg overflow-hidden transition-all duration-300
                        ${(n==null?void 0:n.id)===z.id?"ring-4 ring-brand-burgundy shadow-neon":"ring-1 ring-white/20"}`,children:[s.jsx("div",{className:`absolute inset-0 backdrop-blur-sm ${z.status==="optimal"?"bg-green-500/10":z.status==="warning"?"bg-yellow-500/10":"bg-red-500/10"}`,children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"})}),s.jsx("div",{className:"absolute inset-0 grid grid-cols-2 grid-rows-10 gap-2 p-4",children:z.cells.map((q,se)=>s.jsx(Ne.div,{className:`relative rounded-md transition-all duration-300 ${q.filled?`${q.type==="triplo"?"bg-brand-burgundy shadow-neon":q.type==="diplo"?"bg-brand-primary shadow-neon":"bg-brand-tertiary shadow-neon"}`:"bg-white/5"}`,variants:q.filled?x:m,initial:"initial",animate:"animate",custom:se,children:s.jsx("div",{className:"absolute inset-0 rounded-md border-2 border-white shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:q.filled&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-bold",children:q.fillOrder})})})},q.id))})]})]},z.id))})}),s.jsxs("div",{className:"absolute bottom-6 left-6 glass-effect rounded-lg p-4",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Types d'huîtres"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-burgundy shadow-neon"}),s.jsx("span",{className:"text-white/60 text-sm",children:"Triploïdes"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-primary shadow-neon"}),s.jsx("span",{className:"text-white/60 text-sm",children:"Diploïdes"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-tertiary shadow-neon"}),s.jsx("span",{className:"text-white/60 text-sm",children:"Naturelles"})]}),s.jsx("div",{className:"mt-4 pt-2 border-t border-white/10",children:s.jsx("span",{className:"text-white/60 text-sm",children:"Les numéros indiquent l'ordre de remplissage"})})]})]})]})}),s.jsx("div",{className:"col-span-3",children:s.jsx(hr,{mode:"wait",children:r||n?s.jsxs(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"glass-effect p-6 rounded-xl h-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-white",children:["Table ",(N=n||r)==null?void 0:N.tableNumber]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${((j=n||r)==null?void 0:j.status)==="optimal"?"bg-green-500/20 text-green-400":((C=n||r)==null?void 0:C.status)==="warning"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:((P=n||r)==null?void 0:P.status)==="optimal"?"Optimal":((M=n||r)==null?void 0:M.status)==="warning"?"Attention":"Critique"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[s.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Température"}),s.jsxs("div",{className:"text-white font-medium flex items-center",children:[s.jsx(id,{className:"w-4 h-4 mr-1 text-brand-burgundy"}),(k=n||r)==null?void 0:k.temperature,"°C"]})]}),s.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[s.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Salinité"}),s.jsxs("div",{className:"text-white font-medium flex items-center",children:[s.jsx($a,{className:"w-4 h-4 mr-1 text-brand-primary"}),(E=n||r)==null?void 0:E.salinity," g/L"]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Occupation"}),s.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-brand-burgundy",style:{width:`${(((R=n||r)==null?void 0:R.cells.filter(z=>z.filled).length)||0)*5}%`}})}),s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsxs("span",{className:"text-xs text-white/60",children:[(H=n||r)==null?void 0:H.cells.filter(z=>z.filled).length," / 20 emplacements"]}),s.jsxs("span",{className:"text-xs text-white/60",children:[(((G=n||r)==null?void 0:G.cells.filter(z=>z.filled).length)||0)*5,"%"]})]})]})]}),((L=n||r)==null?void 0:L.currentBatch)&&s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx(_n,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Calibre"}),s.jsxs("span",{className:"text-white font-medium",children:["N°",(J=(V=n||r)==null?void 0:V.currentBatch)==null?void 0:J.size]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Quantité"}),s.jsxs("span",{className:"text-white font-medium",children:[(ae=(W=n||r)==null?void 0:W.currentBatch)==null?void 0:ae.quantity," kg d'Huîtres N°",(O=(ve=n||r)==null?void 0:ve.currentBatch)==null?void 0:O.size]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Récolte estimée"}),s.jsx("span",{className:"text-white font-medium",children:new Date(((B=(I=n||r)==null?void 0:I.currentBatch)==null?void 0:B.estimatedHarvestDate)||"").toLocaleDateString()})]})]})]})]},"table-info"):s.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"glass-effect p-6 rounded-xl flex flex-col items-center justify-center h-full text-center",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color"},children:[s.jsx("div",{className:"bg-white/5 rounded-full p-4 mb-4",children:s.jsx(Xo,{className:"w-10 h-10 text-brand-burgundy"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sélectionnez une table"}),s.jsx("p",{className:"text-white/60",children:"Cliquez sur une table pour voir ses détails et gérer son contenu"})]},"no-table-selected")})})]})})}function Gme({isOpen:e,onClose:t,onConfirm:r,maintenanceType:n,lastMaintenance:a,uvLampHours:i}){const[o,l]=F.useState(""),[c,u]=F.useState(!1),d=()=>{r(n,o),u(!1),t()};return s.jsx(ms,{isOpen:e,onClose:t,title:n==="cleaning"?"Nettoyage du bassin":"Changement de la lampe UV",size:"md",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[s.jsx(li,{size:24,className:"text-yellow-400 flex-shrink-0"}),s.jsx("p",{className:"text-yellow-400",children:n==="cleaning"?"Le bassin devra être vidé pour le nettoyage. Assurez-vous qu'aucun lot n'est en cours de purification.":"La lampe UV doit être changée après 8000 heures d'utilisation pour garantir son efficacité."})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ci,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Dernière maintenance"}),s.jsx("div",{className:"text-white font-medium",children:It(new Date(a),"PPP",{locale:cr})})]})]}),n==="uv_lamp"&&i&&s.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[s.jsx(ci,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Heures d'utilisation"}),s.jsxs("div",{className:`font-medium ${i>=8e3?"text-red-400":i>=7e3?"text-yellow-400":"text-white"}`,children:[i," heures"]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de maintenance"}),s.jsx("textarea",{value:o,onChange:f=>l(f.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes sur la maintenance..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer la maintenance"})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer l'opération"}),s.jsxs("p",{className:"text-white/70 mb-6",children:["Êtes-vous sûr de vouloir procéder à ",n==="cleaning"?"ce nettoyage":"ce changement de lampe UV"," ? Cette action sera enregistrée dans l'historique de maintenance."]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer"})]})]})})]})})}function Xme({isOpen:e,onClose:t,onConfirm:r,batch:n}){const[a,i]=F.useState(n.quantity),[o,l]=F.useState(""),[c,u]=F.useState(""),[d,f]=F.useState(n.remainingTime>0),h=p=>{p.preventDefault(),r({quantity:a,destination:o,notes:c})};return s.jsx(ms,{isOpen:e,onClose:t,title:"Sortie de lot",size:"md",children:s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Détails du lot"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Numéro de lot"}),s.jsx("div",{className:"text-white font-medium",children:n.number})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Type"}),s.jsx("div",{className:"text-white font-medium",children:n.type})]})]})]}),d&&s.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(li,{size:20,className:"text-yellow-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-yellow-400 font-medium",children:"Attention"}),s.jsxs("p",{className:"text-yellow-400/80 mt-1",children:["Ce lot a encore ",n.remainingTime,"h de purification restantes. Êtes-vous sûr de vouloir le sortir maintenant ?"]})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité à sortir"}),s.jsx("input",{type:"number",value:a,onChange:p=>i(Number(p.target.value)),max:n.quantity,min:1,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Maximum disponible : ",n.quantity," unités"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Destination"}),s.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",required:!0,children:[s.jsx("option",{value:"",children:"Sélectionner une destination..."}),s.jsx("option",{value:"stock",children:"Stock"}),s.jsx("option",{value:"vente",children:"Vente directe"}),s.jsx("option",{value:"destruction",children:"Destruction"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes"}),s.jsx("textarea",{value:c,onChange:p=>u(p.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes ou observations..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(m4,{size:20,className:"mr-2"}),"Sortir le lot"]})]})]})})}const Yme=[{id:"1",name:"Bassin A1",capacity:1e3,currentOccupancy:800,filterType:"UV + Ozone",filterStatus:"active",waterQuality:98,lastMaintenance:"2025-02-15",temperature:12.5,uvLampHours:7500,lastUVChange:"2024-08-15",batches:[{id:"b1",number:"LOT-2025-001",quantity:500,entryTime:"2025-02-18T08:00:00",remainingTime:12,type:"plates"},{id:"b2",number:"LOT-2025-002",quantity:300,entryTime:"2025-02-19T10:00:00",remainingTime:24,type:"creuses"}]},{id:"2",name:"Bassin A2",capacity:1e3,currentOccupancy:600,filterType:"UV",filterStatus:"maintenance",waterQuality:92,lastMaintenance:"2025-02-10",temperature:13,uvLampHours:8200,lastUVChange:"2024-07-01",batches:[{id:"b3",number:"LOT-2025-003",quantity:600,entryTime:"2025-02-17T14:00:00",remainingTime:4,type:"speciales"}]}];function Kme({pool:e,onClose:t}){const[r,n]=F.useState("info"),a=_d(t),[i,o]=F.useState(!1),[l,c]=F.useState("cleaning"),[u,d]=F.useState(null),[f,h]=F.useState(!1),p=(x,g)=>{console.log(`Maintenance ${x} confirmée:`,g),o(!1)},m=x=>{console.log("Sortie du lot:",{batch:u,...x}),h(!1),d(null)};return s.jsxs(s.Fragment,{children:[s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:s.jsxs(Ne.div,{ref:a,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e.name}),s.jsxs("p",{className:"text-white/60",children:["Système de filtration : ",e.filterType]})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>n("info"),className:`px-4 py-2 rounded-lg transition-colors ${r==="info"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Informations"}),s.jsx("button",{onClick:()=>n("history"),className:`px-4 py-2 rounded-lg transition-colors ${r==="history"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Historique"}),s.jsx("button",{onClick:()=>n("config"),className:`px-4 py-2 rounded-lg transition-colors ${r==="config"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Configuration"})]}),s.jsxs(hr,{mode:"wait",children:[r==="info"&&s.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(id,{size:20,className:"mr-2 text-brand-primary"}),"Température"]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.temperature,"°C"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx($a,{size:20,className:"mr-2 text-brand-primary"}),"Qualité eau"]}),s.jsxs("div",{className:`text-2xl font-bold ${e.waterQuality>=95?"text-green-400":e.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[e.waterQuality,"%"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(_n,{size:20,className:"mr-2 text-brand-primary"}),"Occupation"]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(e.currentOccupancy/e.capacity*100),"%"]}),s.jsxs("div",{className:"text-sm text-white/60",children:[e.currentOccupancy,"/",e.capacity]})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Lots en purification"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{c("cleaning"),o(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[s.jsx(JL,{size:16,className:"mr-1 inline-block"}),"Nettoyage"]}),s.jsxs("button",{onClick:()=>{c("uv_lamp"),o(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[s.jsx(Bw,{size:16,className:"mr-1 inline-block"}),"Lampe UV"]}),s.jsxs("button",{className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[s.jsx(ar,{size:16,className:"mr-1 inline-block"}),"Nouveau lot"]})]})]}),s.jsx("div",{className:"space-y-3",children:e.batches.map(x=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:x.number}),s.jsxs("div",{className:"text-sm text-white/60",children:[x.quantity," kg - ",x.type]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-white",children:[x.remainingTime,"h"]}),s.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),s.jsx("button",{onClick:()=>{d(x),h(!0)},className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:s.jsx(m4,{size:20,className:"text-white/60"})})]})]},x.id))})]}),s.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(Bw,{size:20,className:"mr-2 text-brand-primary"}),"Lampe UV"]}),s.jsxs("div",{className:`text-lg font-medium ${e.uvLampHours>=8e3?"text-red-400":e.uvLampHours>=7e3?"text-yellow-400":"text-white"}`,children:[e.uvLampHours," heures d'utilisation"]}),s.jsxs("div",{className:"text-sm text-white/60",children:["Dernier changement: ",It(new Date(e.lastUVChange),"PP",{locale:cr})]})]}),e.uvLampHours>=7e3&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(li,{size:20,className:"text-yellow-400"}),s.jsx("span",{className:"text-yellow-400",children:e.uvLampHours>=8e3?"Changement nécessaire":"Changement recommandé"})]})]})})]},"info"),r==="history"&&s.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des opérations"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center text-white",children:[s.jsx(ci,{size:16,className:"mr-2"}),s.jsxs("span",{children:["Dernier nettoyage: ",It(new Date(e.lastMaintenance),"PP",{locale:cr})]})]})}),s.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center text-white",children:[s.jsx(Ca,{size:16,className:"mr-2"}),s.jsxs("span",{children:["Changement filtre: ",It(new Date(e.lastMaintenance),"PP",{locale:cr})]})]})})]})]})},"history"),r==="config"&&s.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Configuration du bassin"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de filtration"}),s.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"uv",children:"UV"}),s.jsx("option",{value:"uv_ozone",children:"UV + Ozone"}),s.jsx("option",{value:"mechanical",children:"Mécanique"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Durée de purification par défaut"}),s.jsx("input",{type:"number",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Heures"})]})]})]})},"config")]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),r==="config"&&s.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})}),i&&s.jsx(Gme,{isOpen:i,onClose:()=>o(!1),onConfirm:p,maintenanceType:l,lastMaintenance:e.lastMaintenance,uvLampHours:e.uvLampHours}),f&&u&&s.jsx(Xme,{isOpen:f,onClose:()=>{h(!1),d(null)},onConfirm:m,batch:u})]})}function Jme(){const[e,t]=F.useState(null),[r,n]=F.useState(null),[a,i]=F.useState(Yme),[o,l]=F.useState(!1),[c,u]=F.useState(null),[d,f]=F.useState({number:"",quantity:0,type:"plates",entryTime:It(new Date,"yyyy-MM-dd'T'HH:mm")}),h=(m,x)=>{m.stopPropagation(),u(x),f({number:`LOT-${It(new Date,"yyyy")}-${String(Math.floor(Math.random()*999)).padStart(3,"0")}`,quantity:0,type:"plates",entryTime:It(new Date,"yyyy-MM-dd'T'HH:mm")}),l(!0)},p=()=>{c&&d.quantity>0&&(console.log(`Ajout d'un lot au bassin ${c.name}:`,d),l(!1),u(null))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 gap-6",children:a.map(m=>s.jsxs(Ne.div,{className:`bg-white/5 border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer relative overflow-hidden ${r===m.id?"ring-2 ring-brand-primary shadow-neon":""}`,onClick:()=>t(m),onHoverStart:()=>n(m.id),onHoverEnd:()=>n(null),whileHover:{y:-4},children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:m.name}),s.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/60",children:[s.jsx(Ca,{size:16,className:"mr-1"}),m.filterType]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:x=>h(x,m),className:"px-3 py-1 text-sm bg-brand-primary rounded-lg text-white hover:bg-brand-primary/80 transition-colors flex items-center",children:[s.jsx(ar,{size:14,className:"mr-1"}),"Rentrer un lot"]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${m.filterStatus==="active"?"bg-green-500/20 text-green-300":m.filterStatus==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:m.filterStatus==="active"?"Actif":m.filterStatus==="maintenance"?"Maintenance":"Erreur"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Occupation"}),s.jsxs("div",{className:"text-xl font-bold text-white",children:[Math.round(m.currentOccupancy/m.capacity*100),"%"]}),s.jsxs("div",{className:"text-sm text-white/60",children:[m.currentOccupancy,"/",m.capacity]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Qualité eau"}),s.jsxs("div",{className:`text-xl font-bold ${m.waterQuality>=95?"text-green-400":m.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[m.waterQuality,"%"]}),s.jsxs("div",{className:"text-sm text-white/60",children:[m.temperature,"°C"]})]})]}),s.jsx("div",{className:"space-y-3",children:m.batches.map(x=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:x.number}),s.jsxs("div",{className:"text-sm text-white/60",children:[x.quantity," kg"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-white",children:[x.remainingTime,"h"]}),s.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),s.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:s.jsx(m4,{size:20,className:"text-white/60"})})]})]},x.id))}),s.jsx(Ne.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===m.id?1:0},transition:{duration:.2}})]},m.id))}),s.jsx(hr,{children:e&&s.jsx(Kme,{pool:e,onClose:()=>t(null)})}),o&&c&&s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:s.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white",children:["Rentrer un lot dans ",c.name]}),s.jsx("button",{onClick:()=>l(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("form",{onSubmit:m=>{m.preventDefault(),p()},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot"}),s.jsx("input",{type:"text",value:d.number,onChange:m=>f({...d,number:m.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type d'huîtres"}),s.jsxs("select",{value:d.type,onChange:m=>f({...d,type:m.target.value}),className:"w-full p-4 bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"plates",children:"Plates"}),s.jsx("option",{value:"creuses",children:"Creuses"}),s.jsx("option",{value:"speciales",children:"Spéciales"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité"}),s.jsx("input",{type:"number",value:d.quantity,onChange:m=>f({...d,quantity:parseInt(m.target.value)}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date et heure d'entrée"}),s.jsx("input",{type:"datetime-local",value:d.entryTime,onChange:m=>f({...d,entryTime:m.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter le lot"})]})]})]})})]})}const EN="-",Zme=e=>{const t=exe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(EN);return l[0]===""&&l.length!==1&&l.shift(),mD(l,t)||Qme(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},mD=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?mD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(EN);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},D6=/^\[(.+)\]$/,Qme=e=>{if(D6.test(e)){const t=D6.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},exe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)v_(r[a],n,a,t);return n},v_=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:M6(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(txe(a)){v_(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{v_(o,M6(t,i),r,n)})})},M6=(e,t)=>{let r=e;return t.split(EN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},txe=e=>e.isThemeGetter,rxe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},b_="!",y_=":",nxe=y_.length,axe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;for(let m=0;m<a.length;m++){let x=a[m];if(o===0&&l===0){if(x===y_){i.push(a.slice(c,m)),c=m+nxe;continue}if(x==="/"){u=m;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const d=i.length===0?a:a.substring(c),f=ixe(d),h=f!==d,p=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const a=t+y_,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},ixe=e=>e.endsWith(b_)?e.substring(0,e.length-1):e.startsWith(b_)?e.substring(1):e,sxe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},oxe=e=>({cache:rxe(e.cacheSize),parseClassName:axe(e),sortModifiers:sxe(e),...Zme(e)}),lxe=/\s+/,cxe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(lxe);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:x}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let g=!!x,v=n(g?m.substring(0,x):m);if(!v){if(!g){c=d+(c.length>0?" "+c:c);continue}if(v=n(m),!v){c=d+(c.length>0?" "+c:c);continue}g=!1}const y=i(h).join(":"),b=p?y+b_:y,_=b+v;if(o.includes(_))continue;o.push(_);const S=a(v,g);for(let N=0;N<S.length;++N){const j=S[N];o.push(b+j)}c=d+(c.length>0?" "+c:c)}return c};function uxe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xD(t))&&(n&&(n+=" "),n+=r);return n}const xD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=xD(e[n]))&&(r&&(r+=" "),r+=t);return r};function dxe(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=oxe(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=cxe(c,r);return a(c,d),d}return function(){return i(uxe.apply(null,arguments))}}const ya=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},gD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fxe=/^\d+\/\d+$/,hxe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pxe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mxe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xxe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gxe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,u0=e=>fxe.test(e),nr=e=>!!e&&!Number.isNaN(Number(e)),wu=e=>!!e&&Number.isInteger(Number(e)),F6=e=>e.endsWith("%")&&nr(e.slice(0,-1)),gc=e=>hxe.test(e),vxe=()=>!0,bxe=e=>pxe.test(e)&&!mxe.test(e),kN=()=>!1,yxe=e=>xxe.test(e),wxe=e=>gxe.test(e),_xe=e=>!_t(e)&&!Nt(e),Nxe=e=>Jf(e,wD,kN),_t=e=>gD.test(e),_u=e=>Jf(e,_D,bxe),Cy=e=>Jf(e,Dxe,nr),jxe=e=>Jf(e,bD,kN),Sxe=e=>Jf(e,yD,wxe),Axe=e=>Jf(e,kN,yxe),Nt=e=>vD.test(e),_1=e=>Zf(e,_D),Cxe=e=>Zf(e,Mxe),Exe=e=>Zf(e,bD),kxe=e=>Zf(e,wD),Txe=e=>Zf(e,yD),Oxe=e=>Zf(e,Fxe,!0),Jf=(e,t,r)=>{const n=gD.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Zf=(e,t,r=!1)=>{const n=vD.exec(e);return n?n[1]?t(n[1]):r:!1},bD=e=>e==="position",Pxe=new Set(["image","url"]),yD=e=>Pxe.has(e),Ixe=new Set(["length","size","percentage"]),wD=e=>Ixe.has(e),_D=e=>e==="length",Dxe=e=>e==="number",Mxe=e=>e==="family-name",Fxe=e=>e==="shadow",Rxe=()=>{const e=ya("color"),t=ya("font"),r=ya("text"),n=ya("font-weight"),a=ya("tracking"),i=ya("leading"),o=ya("breakpoint"),l=ya("container"),c=ya("spacing"),u=ya("radius"),d=ya("shadow"),f=ya("inset-shadow"),h=ya("drop-shadow"),p=ya("blur"),m=ya("perspective"),x=ya("aspect"),g=ya("ease"),v=ya("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],N=()=>[Nt,_t,c],j=()=>[u0,"full","auto",...N()],C=()=>[wu,"none","subgrid",Nt,_t],P=()=>["auto",{span:["full",wu,Nt,_t]},Nt,_t],M=()=>[wu,"auto",Nt,_t],k=()=>["auto","min","max","fr",Nt,_t],E=()=>["start","end","center","between","around","evenly","stretch","baseline"],R=()=>["start","end","center","stretch"],H=()=>["auto",...N()],G=()=>[u0,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],L=()=>[e,Nt,_t],V=()=>[F6,_u],J=()=>["","none","full",u,Nt,_t],W=()=>["",nr,_1,_u],ae=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["","none",p,Nt,_t],I=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nt,_t],B=()=>["none",nr,Nt,_t],z=()=>["none",nr,Nt,_t],q=()=>[nr,Nt,_t],se=()=>[u0,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gc],breakpoint:[gc],color:[vxe],container:[gc],"drop-shadow":[gc],ease:["in","out","in-out"],font:[_xe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gc],shadow:[gc],spacing:["px",nr],text:[gc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",u0,_t,Nt,x]}],container:["container"],columns:[{columns:[nr,_t,Nt,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...b(),_t,Nt]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[wu,"auto",Nt,_t]}],basis:[{basis:[u0,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nr,u0,"auto","initial","none",_t]}],grow:[{grow:["",nr,Nt,_t]}],shrink:[{shrink:["",nr,Nt,_t]}],order:[{order:[wu,"first","last","none",Nt,_t]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...E(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...E()]}],"align-items":[{items:[...R(),"baseline"]}],"align-self":[{self:["auto",...R(),"baseline"]}],"place-content":[{"place-content":E()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...G()]}],h:[{h:["screen",...G()]}],"min-h":[{"min-h":["screen","none",...G()]}],"max-h":[{"max-h":["screen",...G()]}],"font-size":[{text:["base",r,_1,_u]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Nt,Cy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",F6,_t]}],"font-family":[{font:[Cxe,_t,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Nt,_t]}],"line-clamp":[{"line-clamp":[nr,"none",Nt,Cy]}],leading:[{leading:[i,...N()]}],"list-image":[{"list-image":["none",Nt,_t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Nt,_t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[nr,"from-font","auto",Nt,_u]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[nr,"auto",Nt,_t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt,_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt,_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...b(),Exe,jxe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",kxe,Nxe]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wu,Nt,_t],radial:["",Nt,_t],conic:[wu,Nt,_t]},Txe,Sxe]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nr,Nt,_t]}],"outline-w":[{outline:["",nr,_1,_u]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",d,Oxe,Axe]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",Nt,_t,f]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[nr,_u]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":L()}],opacity:[{opacity:[nr,Nt,_t]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none",Nt,_t]}],blur:[{blur:O()}],brightness:[{brightness:[nr,Nt,_t]}],contrast:[{contrast:[nr,Nt,_t]}],"drop-shadow":[{"drop-shadow":["","none",h,Nt,_t]}],grayscale:[{grayscale:["",nr,Nt,_t]}],"hue-rotate":[{"hue-rotate":[nr,Nt,_t]}],invert:[{invert:["",nr,Nt,_t]}],saturate:[{saturate:[nr,Nt,_t]}],sepia:[{sepia:["",nr,Nt,_t]}],"backdrop-filter":[{"backdrop-filter":["","none",Nt,_t]}],"backdrop-blur":[{"backdrop-blur":O()}],"backdrop-brightness":[{"backdrop-brightness":[nr,Nt,_t]}],"backdrop-contrast":[{"backdrop-contrast":[nr,Nt,_t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nr,Nt,_t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nr,Nt,_t]}],"backdrop-invert":[{"backdrop-invert":["",nr,Nt,_t]}],"backdrop-opacity":[{"backdrop-opacity":[nr,Nt,_t]}],"backdrop-saturate":[{"backdrop-saturate":[nr,Nt,_t]}],"backdrop-sepia":[{"backdrop-sepia":["",nr,Nt,_t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Nt,_t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nr,"initial",Nt,_t]}],ease:[{ease:["linear","initial",g,Nt,_t]}],delay:[{delay:[nr,Nt,_t]}],animate:[{animate:["none",v,Nt,_t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Nt,_t]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:B()}],"rotate-x":[{"rotate-x":B()}],"rotate-y":[{"rotate-y":B()}],"rotate-z":[{"rotate-z":B()}],scale:[{scale:z()}],"scale-x":[{"scale-x":z()}],"scale-y":[{"scale-y":z()}],"scale-z":[{"scale-z":z()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[Nt,_t,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt,_t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt,_t]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[nr,_1,_u,Cy]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Lxe=dxe(Rxe);function fl(...e){return Lxe(Kt(e))}function wp({children:e,className:t,...r}){return s.jsx("div",{className:fl("border border-white/10 rounded-lg overflow-hidden",t),style:{background:"linear-gradient(135deg, rgba(0, 20, 40, 0.98) 0%, rgba(0, 80, 80, 0.95) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px, rgba(0, 180, 180, 0.1) 0px 0px 10px inset"},...r,children:e})}const zt=F.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:`flex h-10 w-full rounded-md border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))] px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--color-brand-primary))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:n,...r}));zt.displayName="Input";function zl(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function R6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ND(...e){return t=>{let r=!1;const n=e.map(a=>{const i=R6(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():R6(e[a],null)}}}}function Zl(...e){return F.useCallback(ND(...e),e)}function Bxe(e,t){const r=F.createContext(t),n=i=>{const{children:o,...l}=i,c=F.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=F.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function jD(e,t=[]){let r=[];function n(i,o){const l=F.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...m}=f,x=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=F.useMemo(()=>m,Object.values(m));return s.jsx(x.Provider,{value:g,children:p})};u.displayName=i+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,m=F.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>F.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return F.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,$xe(a,...t)]}function $xe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return F.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var yv=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},zxe=ZL.useId||(()=>{}),Uxe=0;function Ey(e){const[t,r]=F.useState(zxe());return yv(()=>{e||r(n=>n??String(Uxe++))},[e]),e||(t?`radix-${t}`:"")}function fd(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e}),F.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Hxe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Wxe({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=fd(r),c=F.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function Wxe({defaultProp:e,onChange:t}){const r=F.useState(e),[n]=r,a=F.useRef(n),i=fd(t);return F.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var TN=F.forwardRef((e,t)=>{const{children:r,...n}=e,a=F.Children.toArray(r),i=a.find(Vxe);if(i){const o=i.props.children,l=a.map(c=>c===i?F.Children.count(o)>1?F.Children.only(null):F.isValidElement(o)?o.props.children:null:c);return s.jsx(w_,{...n,ref:t,children:F.isValidElement(o)?F.cloneElement(o,void 0,l):null})}return s.jsx(w_,{...n,ref:t,children:r})});TN.displayName="Slot";var w_=F.forwardRef((e,t)=>{const{children:r,...n}=e;if(F.isValidElement(r)){const a=Gxe(r),i=qxe(n,r.props);return r.type!==F.Fragment&&(i.ref=t?ND(t,a):a),F.cloneElement(r,i)}return F.Children.count(r)>1?F.Children.only(null):null});w_.displayName="SlotClone";var SD=({children:e})=>s.jsx(s.Fragment,{children:e});function Vxe(e){return F.isValidElement(e)&&e.type===SD}function qxe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Gxe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ql=Xxe.reduce((e,t)=>{const r=F.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?TN:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yxe(e,t){e&&Wk.flushSync(()=>e.dispatchEvent(t))}function Kxe(e,t=globalThis==null?void 0:globalThis.document){const r=fd(e);F.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Jxe="DismissableLayer",__="dismissableLayer.update",Zxe="dismissableLayer.pointerDownOutside",Qxe="dismissableLayer.focusOutside",L6,AD=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),CD=F.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=F.useContext(AD),[d,f]=F.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=F.useState({}),m=Zl(t,j=>f(j)),x=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(g),y=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=v,S=r1e(j=>{const C=j.target,P=[...u.branches].some(M=>M.contains(C));!_||P||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),N=n1e(j=>{const C=j.target;[...u.branches].some(M=>M.contains(C))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return Kxe(j=>{y===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),F.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(L6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),B6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=L6)}},[d,h,r,u]),F.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),B6())},[d,u]),F.useEffect(()=>{const j=()=>p({});return document.addEventListener(__,j),()=>document.removeEventListener(__,j)},[]),s.jsx(Ql.div,{...c,ref:m,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:zl(e.onFocusCapture,N.onFocusCapture),onBlurCapture:zl(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:zl(e.onPointerDownCapture,S.onPointerDownCapture)})});CD.displayName=Jxe;var e1e="DismissableLayerBranch",t1e=F.forwardRef((e,t)=>{const r=F.useContext(AD),n=F.useRef(null),a=Zl(t,n);return F.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ql.div,{...e,ref:a})});t1e.displayName=e1e;function r1e(e,t=globalThis==null?void 0:globalThis.document){const r=fd(e),n=F.useRef(!1),a=F.useRef(()=>{});return F.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){ED(Zxe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function n1e(e,t=globalThis==null?void 0:globalThis.document){const r=fd(e),n=F.useRef(!1);return F.useEffect(()=>{const a=i=>{i.target&&!n.current&&ED(Qxe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function B6(){const e=new CustomEvent(__);document.dispatchEvent(e)}function ED(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Yxe(a,i):a.dispatchEvent(i)}var ky="focusScope.autoFocusOnMount",Ty="focusScope.autoFocusOnUnmount",$6={bubbles:!1,cancelable:!0},a1e="FocusScope",kD=F.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=F.useState(null),u=fd(a),d=fd(i),f=F.useRef(null),h=Zl(t,x=>c(x)),p=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(n){let x=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Cc(f.current,{select:!0})},g=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Cc(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Cc(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,p.paused]),F.useEffect(()=>{if(l){U6.add(p);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(ky,$6);l.addEventListener(ky,u),l.dispatchEvent(v),v.defaultPrevented||(i1e(u1e(TD(l)),{select:!0}),document.activeElement===x&&Cc(l))}return()=>{l.removeEventListener(ky,u),setTimeout(()=>{const v=new CustomEvent(Ty,$6);l.addEventListener(Ty,d),l.dispatchEvent(v),v.defaultPrevented||Cc(x??document.body,{select:!0}),l.removeEventListener(Ty,d),U6.remove(p)},0)}}},[l,u,d,p]);const m=F.useCallback(x=>{if(!r&&!n||p.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(g&&v){const y=x.currentTarget,[b,_]=s1e(y);b&&_?!x.shiftKey&&v===_?(x.preventDefault(),r&&Cc(b,{select:!0})):x.shiftKey&&v===b&&(x.preventDefault(),r&&Cc(_,{select:!0})):v===y&&x.preventDefault()}},[r,n,p.paused]);return s.jsx(Ql.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});kD.displayName=a1e;function i1e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cc(n,{select:t}),document.activeElement!==r)return}function s1e(e){const t=TD(e),r=z6(t,e),n=z6(t.reverse(),e);return[r,n]}function TD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function z6(e,t){for(const r of e)if(!o1e(r,{upTo:t}))return r}function o1e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function l1e(e){return e instanceof HTMLInputElement&&"select"in e}function Cc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&l1e(e)&&t&&e.select()}}var U6=c1e();function c1e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=H6(e,t),e.unshift(t)},remove(t){var r;e=H6(e,t),(r=e[0])==null||r.resume()}}}function H6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function u1e(e){return e.filter(t=>t.tagName!=="A")}var d1e="Portal",OD=F.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=F.useState(!1);yv(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?QL.createPortal(s.jsx(Ql.div,{...n,ref:t}),o):null});OD.displayName=d1e;function f1e(e,t){return F.useReducer((r,n)=>t[r][n]??r,e)}var q2=e=>{const{present:t,children:r}=e,n=h1e(t),a=typeof r=="function"?r({present:n.isPresent}):F.Children.only(r),i=Zl(n.ref,p1e(a));return typeof r=="function"||n.isPresent?F.cloneElement(a,{ref:i}):null};q2.displayName="Presence";function h1e(e){const[t,r]=F.useState(),n=F.useRef({}),a=F.useRef(e),i=F.useRef("none"),o=e?"mounted":"unmounted",[l,c]=f1e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const u=N1(n.current);i.current=l==="mounted"?u:"none"},[l]),yv(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=N1(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),yv(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=N1(n.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=N1(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:F.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function N1(e){return(e==null?void 0:e.animationName)||"none"}function p1e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Oy=0;function m1e(){F.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??W6()),document.body.insertAdjacentElement("beforeend",e[1]??W6()),Oy++,()=>{Oy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Oy--}},[])}function W6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wo=function(){return Wo=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Wo.apply(this,arguments)};function PD(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function x1e(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ig="right-scroll-bar-position",sg="width-before-scroll-bar",g1e="with-scroll-bars-hidden",v1e="--removed-body-scroll-bar-size";function Py(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function b1e(e,t){var r=F.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var y1e=typeof window<"u"?F.useLayoutEffect:F.useEffect,V6=new WeakMap;function w1e(e,t){var r=b1e(null,function(n){return e.forEach(function(a){return Py(a,n)})});return y1e(function(){var n=V6.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Py(l,null)}),i.forEach(function(l){a.has(l)||Py(l,o)})}V6.set(r,e)},[e]),r}function _1e(e){return e}function N1e(e,t){t===void 0&&(t=_1e);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function j1e(e){e===void 0&&(e={});var t=N1e(null);return t.options=Wo({async:!0,ssr:!1},e),t}var ID=function(e){var t=e.sideCar,r=PD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return F.createElement(n,Wo({},r))};ID.isSideCarExport=!0;function S1e(e,t){return e.useMedium(t),ID}var DD=j1e(),Iy=function(){},G2=F.forwardRef(function(e,t){var r=F.useRef(null),n=F.useState({onScrollCapture:Iy,onWheelCapture:Iy,onTouchMoveCapture:Iy}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,m=e.inert,x=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,y=e.gapMode,b=PD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=w1e([r,t]),N=Wo(Wo({},b),a);return F.createElement(F.Fragment,null,d&&F.createElement(_,{sideCar:DD,removeScrollBar:u,shards:f,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:y}),o?F.cloneElement(F.Children.only(l),Wo(Wo({},N),{ref:S})):F.createElement(v,Wo({},N,{className:c,ref:S}),l))});G2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};G2.classNames={fullWidth:sg,zeroRight:ig};var A1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function C1e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=A1e();return t&&e.setAttribute("nonce",t),e}function E1e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function k1e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var T1e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=C1e())&&(E1e(t,r),k1e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},O1e=function(){var e=T1e();return function(t,r){F.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},MD=function(){var e=O1e(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},P1e={left:0,top:0,right:0,gap:0},Dy=function(e){return parseInt(e||"",10)||0},I1e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Dy(r),Dy(n),Dy(a)]},D1e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return P1e;var t=I1e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},M1e=MD(),W0="data-scroll-locked",F1e=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(g1e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(W0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ig,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(W0,`] {
    `).concat(v1e,": ").concat(l,`px;
  }
`)},q6=function(){var e=parseInt(document.body.getAttribute(W0)||"0",10);return isFinite(e)?e:0},R1e=function(){F.useEffect(function(){return document.body.setAttribute(W0,(q6()+1).toString()),function(){var e=q6()-1;e<=0?document.body.removeAttribute(W0):document.body.setAttribute(W0,e.toString())}},[])},L1e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;R1e();var i=F.useMemo(function(){return D1e(a)},[a]);return F.createElement(M1e,{styles:F1e(i,!t,a,r?"":"!important")})},N_=!1;if(typeof window<"u")try{var j1=Object.defineProperty({},"passive",{get:function(){return N_=!0,!0}});window.addEventListener("test",j1,j1),window.removeEventListener("test",j1,j1)}catch{N_=!1}var d0=N_?{passive:!1}:!1,B1e=function(e){return e.tagName==="TEXTAREA"},FD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!B1e(e)&&r[t]==="visible")},$1e=function(e){return FD(e,"overflowY")},z1e=function(e){return FD(e,"overflowX")},G6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=RD(e,n);if(a){var i=LD(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},U1e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},H1e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},RD=function(e,t){return e==="v"?$1e(t):z1e(t)},LD=function(e,t){return e==="v"?U1e(t):H1e(t)},W1e=function(e,t){return e==="h"&&t==="rtl"?-1:1},V1e=function(e,t,r,n,a){var i=W1e(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=LD(e,l),m=p[0],x=p[1],g=p[2],v=x-g-i*m;(m||v)&&RD(e,l)&&(f+=v,h+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},S1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},X6=function(e){return[e.deltaX,e.deltaY]},Y6=function(e){return e&&"current"in e?e.current:e},q1e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},G1e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},X1e=0,f0=[];function Y1e(e){var t=F.useRef([]),r=F.useRef([0,0]),n=F.useRef(),a=F.useState(X1e++)[0],i=F.useState(MD)[0],o=F.useRef(e);F.useEffect(function(){o.current=e},[e]),F.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=x1e([e.lockRef.current],(e.shards||[]).map(Y6),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=F.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var v=S1(x),y=r.current,b="deltaX"in x?x.deltaX:y[0]-v[0],_="deltaY"in x?x.deltaY:y[1]-v[1],S,N=x.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in x&&j==="h"&&N.type==="range")return!1;var C=G6(j,N);if(!C)return!0;if(C?S=j:(S=j==="v"?"h":"v",C=G6(j,N)),!C)return!1;if(!n.current&&"changedTouches"in x&&(b||_)&&(n.current=S),!S)return!0;var P=n.current||S;return V1e(P,g,x,P==="h"?b:_,!0)},[]),c=F.useCallback(function(x){var g=x;if(!(!f0.length||f0[f0.length-1]!==i)){var v="deltaY"in g?X6(g):S1(g),y=t.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&q1e(S.delta,v)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(Y6).filter(Boolean).filter(function(S){return S.contains(g.target)}),_=b.length>0?l(g,b[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=F.useCallback(function(x,g,v,y){var b={name:x,delta:g,target:v,should:y,shadowParent:K1e(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=F.useCallback(function(x){r.current=S1(x),n.current=void 0},[]),f=F.useCallback(function(x){u(x.type,X6(x),x.target,l(x,e.lockRef.current))},[]),h=F.useCallback(function(x){u(x.type,S1(x),x.target,l(x,e.lockRef.current))},[]);F.useEffect(function(){return f0.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,d0),document.addEventListener("touchmove",c,d0),document.addEventListener("touchstart",d,d0),function(){f0=f0.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,d0),document.removeEventListener("touchmove",c,d0),document.removeEventListener("touchstart",d,d0)}},[]);var p=e.removeScrollBar,m=e.inert;return F.createElement(F.Fragment,null,m?F.createElement(i,{styles:G1e(a)}):null,p?F.createElement(L1e,{gapMode:e.gapMode}):null)}function K1e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const J1e=S1e(DD,Y1e);var BD=F.forwardRef(function(e,t){return F.createElement(G2,Wo({},e,{ref:t,sideCar:J1e}))});BD.classNames=G2.classNames;var Z1e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},h0=new WeakMap,A1=new WeakMap,C1={},My=0,$D=function(e){return e&&(e.host||$D(e.parentNode))},Q1e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$D(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ege=function(e,t,r,n){var a=Q1e(t,Array.isArray(e)?e:[e]);C1[r]||(C1[r]=new WeakMap);var i=C1[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",x=(h0.get(h)||0)+1,g=(i.get(h)||0)+1;h0.set(h,x),i.set(h,g),o.push(h),x===1&&m&&A1.set(h,!0),g===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),My++,function(){o.forEach(function(f){var h=h0.get(f)-1,p=i.get(f)-1;h0.set(f,h),i.set(f,p),h||(A1.has(f)||f.removeAttribute(n),A1.delete(f)),p||f.removeAttribute(r)}),My--,My||(h0=new WeakMap,h0=new WeakMap,A1=new WeakMap,C1={})}},tge=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Z1e(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),ege(n,a,r,"aria-hidden")):function(){return null}},ON="Dialog",[zD,UD]=jD(ON),[rge,Co]=zD(ON),HD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=F.useRef(null),c=F.useRef(null),[u=!1,d]=Hxe({prop:n,defaultProp:a,onChange:i});return s.jsx(rge,{scope:t,triggerRef:l,contentRef:c,contentId:Ey(),titleId:Ey(),descriptionId:Ey(),open:u,onOpenChange:d,onOpenToggle:F.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};HD.displayName=ON;var WD="DialogTrigger",VD=F.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Co(WD,r),i=Zl(t,a.triggerRef);return s.jsx(Ql.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":DN(a.open),...n,ref:i,onClick:zl(e.onClick,a.onOpenToggle)})});VD.displayName=WD;var PN="DialogPortal",[nge,qD]=zD(PN,{forceMount:void 0}),GD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Co(PN,t);return s.jsx(nge,{scope:t,forceMount:r,children:F.Children.map(n,o=>s.jsx(q2,{present:r||i.open,children:s.jsx(OD,{asChild:!0,container:a,children:o})}))})};GD.displayName=PN;var wv="DialogOverlay",XD=F.forwardRef((e,t)=>{const r=qD(wv,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Co(wv,e.__scopeDialog);return i.modal?s.jsx(q2,{present:n||i.open,children:s.jsx(age,{...a,ref:t})}):null});XD.displayName=wv;var age=F.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Co(wv,r);return s.jsx(BD,{as:TN,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ql.div,{"data-state":DN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),hd="DialogContent",YD=F.forwardRef((e,t)=>{const r=qD(hd,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Co(hd,e.__scopeDialog);return s.jsx(q2,{present:n||i.open,children:i.modal?s.jsx(ige,{...a,ref:t}):s.jsx(sge,{...a,ref:t})})});YD.displayName=hd;var ige=F.forwardRef((e,t)=>{const r=Co(hd,e.__scopeDialog),n=F.useRef(null),a=Zl(t,r.contentRef,n);return F.useEffect(()=>{const i=n.current;if(i)return tge(i)},[]),s.jsx(KD,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zl(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:zl(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:zl(e.onFocusOutside,i=>i.preventDefault())})}),sge=F.forwardRef((e,t)=>{const r=Co(hd,e.__scopeDialog),n=F.useRef(!1),a=F.useRef(!1);return s.jsx(KD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),KD=F.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Co(hd,r),c=F.useRef(null),u=Zl(t,c);return m1e(),s.jsxs(s.Fragment,{children:[s.jsx(kD,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(CD,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":DN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(lge,{titleId:l.titleId}),s.jsx(uge,{contentRef:c,descriptionId:l.descriptionId})]})]})}),IN="DialogTitle",JD=F.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Co(IN,r);return s.jsx(Ql.h2,{id:a.titleId,...n,ref:t})});JD.displayName=IN;var ZD="DialogDescription",QD=F.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Co(ZD,r);return s.jsx(Ql.p,{id:a.descriptionId,...n,ref:t})});QD.displayName=ZD;var e7="DialogClose",t7=F.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Co(e7,r);return s.jsx(Ql.button,{type:"button",...n,ref:t,onClick:zl(e.onClick,()=>a.onOpenChange(!1))})});t7.displayName=e7;function DN(e){return e?"open":"closed"}var r7="DialogTitleWarning",[oge,n7]=Bxe(r7,{contentName:hd,titleName:IN,docsSlug:"dialog"}),lge=({titleId:e})=>{const t=n7(r7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return F.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},cge="DialogDescriptionWarning",uge=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n7(cge).contentName}}.`;return F.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},a7=HD,dge=VD,i7=GD,MN=XD,FN=YD,RN=JD,LN=QD,BN=t7;const _v=a7,fge=i7,s7=F.forwardRef(({className:e,...t},r)=>s.jsx(MN,{ref:r,className:`fixed inset-0 z-50 bg-black/80 backdrop-blur-sm ${e||""}`,...t}));s7.displayName=MN.displayName;const Nm=F.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fge,{children:[s.jsx(s7,{}),s.jsxs(FN,{ref:n,className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-background/95 p-6 shadow-lg duration-200 sm:rounded-lg md:w-full ${e||""}`,...r,children:[t,s.jsxs(BN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Mt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nm.displayName=FN.displayName;const jm=({className:e,...t})=>s.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${e||""}`,...t});jm.displayName="DialogHeader";const o7=({className:e,...t})=>s.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${e||""}`,...t});o7.displayName="DialogFooter";const Sm=F.forwardRef(({className:e,...t},r)=>s.jsx(RN,{ref:r,className:`text-lg font-semibold leading-none tracking-tight ${e||""}`,...t}));Sm.displayName=RN.displayName;const Nv=F.forwardRef(({className:e,...t},r)=>s.jsx(LN,{ref:r,className:`text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] ${e||""}`,...t}));Nv.displayName=LN.displayName;const hge=[{id:1,status:"en_trempe",batches:[],number:1,remainingRopes:85,totalRopes:100,tableName:"Table Nord #128",description:"Huîtres Fines de Claire",startDate:"2024-10-15",harvestDate:"2025-01-15",mortalityRate:12,currentSize:"N°4",targetSize:"N°2",occupancy:{current:9,total:10}},{id:2,status:"pret",batches:[],number:2,remainingRopes:0,totalRopes:100,tableName:"Table Nord #129",description:"Huîtres Fines de Claire",startDate:"2024-09-15",harvestDate:"2025-01-01",mortalityRate:8,currentSize:"N°3",targetSize:"N°2",occupancy:{current:10,total:10}}],pge={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},E1={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},K6={initial:{scale:1},highlight:{scale:[1,1.05,1],transition:{duration:.6,times:[0,.5,1],ease:[.25,.25,0,1]}}},mge=e=>({initial:{scaleX:0,filter:"brightness(1)"},animate:{scaleX:e.remainingRopes/e.totalRopes,filter:["brightness(1)","brightness(1.5)","brightness(1)"],transition:{duration:.6,filter:{times:[0,.5,1],duration:.8},ease:[.25,.25,0,1]}}}),J6={hidden:{opacity:0,transform:"scale(0.95) translateY(10px)"},visible:{opacity:1,transform:"scale(1) translateY(0)",transition:{duration:.2,ease:[.4,0,.2,1],transform:{type:"spring",damping:15,stiffness:300}}},exit:{opacity:0,transform:"scale(0.95) translateY(10px)",transition:{duration:.15,ease:[.4,0,1,1],transform:{type:"spring",damping:20,stiffness:300}}}},k1={hidden:{opacity:0,transform:"translateY(10px)"},visible:{opacity:1,transform:"translateY(0)",transition:{duration:.3,ease:[.25,.25,0,1],transform:{type:"spring",damping:15,stiffness:200}}}},xge=()=>{le.useState(null);const[e,t]=le.useState(null);le.useState({x:0,y:0}),le.useState(!1),le.useState(!0),le.useState(!1),le.useState(null);const[r,n]=le.useState(hge);le.useState(!1);const[a,i]=le.useState(!1),[o,l]=le.useState({tableName:"",description:"Huîtres Fines de Claire",startDate:new Date().toISOString().split("T")[0],harvestDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],currentSize:"T15",targetSize:"N°2"});le.useState(!1),le.useState(1),le.useState("");const[c,u]=le.useState(!1),{batches:d}=ys();return le.useEffect(()=>{const f={};d.forEach(h=>{if(h.trempeSquareId){f[h.trempeSquareId]||(f[h.trempeSquareId]=[]);const p={id:h.id,name:h.batchNumber||`Lot ${h.id}`,status:h.status,quantity:h.quantity,createdAt:h.createdAt,updatedAt:h.updatedAt,date:new Date(h.startDate||Date.now()),trempeSquareId:h.trempeSquareId};f[h.trempeSquareId].push(p)}}),n(h=>h.map(p=>({...p,batches:f[p.id]||[]})))},[d]),s.jsxs(Ne.div,{initial:"hidden",animate:"visible",variants:pge,className:"w-full",children:[s.jsx(wp,{children:s.jsxs("div",{className:"bg-brand-dark/30 rounded-xl p-6 border border-white/10 backdrop-blur-xl",children:[s.jsxs(Ne.div,{variants:E1,className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Trempes"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Gérez vos trempes en cours"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(br,{variant:"primary",className:"group bg-brand-accent hover:bg-brand-accent/90 text-white px-4 py-2 rounded-lg border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},children:[s.jsx(ar,{className:"w-4 h-4 transform transition-transform group-hover:scale-110"}),s.jsx("span",{children:"Nouvelle trempe"})]}),s.jsxs(br,{variant:"outline",className:"group bg-brand-darker/30 hover:bg-brand-darker/50 text-white px-4 py-2 rounded-lg border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},onClick:()=>i(!0),children:[s.jsx(ar,{className:"w-4 h-4 transform transition-transform group-hover:scale-110"}),s.jsx("span",{children:"Nouvelle table"})]})]})]}),s.jsxs(Ne.div,{variants:E1,className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),s.jsx(zt,{type:"text",placeholder:"Rechercher une trempe...",className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg pl-10 pr-4 py-2 text-white backdrop-blur-xl transition-colors"})]}),s.jsxs(br,{variant:"outline",className:"group px-4 py-2 rounded-lg text-white bg-brand-darker/30 hover:bg-brand-darker/50 border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},children:[s.jsx(Ca,{className:"w-4 h-4 transform transition-transform group-hover:rotate-180"}),s.jsx("span",{children:"Filtres"})]})]}),s.jsx(Ne.div,{variants:E1,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(f=>s.jsxs(Ne.div,{variants:E1,initial:f.id===1?"initial":void 0,animate:f.id===1?"highlight":void 0,className:"bg-brand-dark/30 rounded-xl p-4 border border-white/10 hover:border-white/20 transition-colors backdrop-blur-md cursor-pointer",style:f.id===1?{willChange:"transform, border-color"}:void 0,onClick:()=>{t(f),u(!0)},children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx(Ne.h3,{initial:"initial",animate:"highlight",variants:K6,className:"text-lg font-semibold text-white stat-title bg-brand-darker/30 px-3 py-1.5 rounded-lg backdrop-blur-xl border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px",style:f.id===1?{willChange:"transform"}:void 0,children:f.tableName}),s.jsx(Ne.span,{initial:"initial",animate:"highlight",variants:K6,className:`px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-2 transition-all duration-200 transform hover:-translate-y-px backdrop-blur-xl ${f.status==="en_trempe"?"bg-green-500/20 text-green-400 border border-green-500/20":f.status==="pret"?"bg-blue-500/20 text-blue-400 border border-blue-500/20":"bg-gray-500/20 text-gray-400 border border-gray-500/20"}`,style:f.id===1?{willChange:"transform"}:void 0,children:f.status==="en_trempe"?s.jsxs(s.Fragment,{children:[s.jsx(e9,{className:"w-3.5 h-3.5 animate-spin"}),s.jsx("span",{children:"En trempe"})]}):f.status==="pret"?s.jsxs(s.Fragment,{children:[s.jsx(ad,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Prêt"})]}):s.jsxs(s.Fragment,{children:[s.jsx(uj,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Disponible"})]})})]}),s.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{children:"Lots actifs:"}),s.jsx(Ne.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},style:f.id===1?{willChange:"transform, opacity"}:void 0,className:`px-2 py-0.5 rounded-md text-xs ${f.batches.length>0?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:f.batches.length},f.batches.length)]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{children:["Cordes restantes:",s.jsx(Ne.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},className:"ml-1",style:f.id===1?{willChange:"transform, opacity"}:void 0,children:f.remainingRopes},f.remainingRopes)]}),s.jsxs(Ne.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},className:"text-xs",style:f.id===1?{willChange:"transform, opacity"}:void 0,children:[Math.round(f.remainingRopes/f.totalRopes*100),"%"]},f.remainingRopes)]}),s.jsx("div",{className:"w-full h-1.5 bg-brand-darker/50 rounded-full overflow-hidden",children:s.jsx(Ne.div,{initial:"initial",animate:"animate",variants:mge(f),className:"h-full rounded-full origin-left",style:{willChange:f.id===1?"transform, filter":void 0,backgroundColor:f.status==="en_trempe"?"rgb(34 197 94 / 0.5)":f.status==="pret"?"rgb(59 130 246 / 0.5)":"rgb(107 114 128 / 0.5)"}})})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:s.jsxs(br,{variant:"outline",className:"group w-full px-4 py-2 rounded-lg text-white bg-brand-darker/30 hover:bg-brand-darker/50 border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center justify-center gap-2",style:{willChange:"transform"},children:[s.jsx("span",{children:"Voir les détails"}),s.jsx(t9,{className:"w-4 h-4 transform transition-transform group-hover:translate-x-1"})]})})]},f.id))})]})}),s.jsx(_v,{open:c,onOpenChange:u,children:s.jsx(Nm,{className:"bg-brand-darker/95 border-white/10 max-w-2xl w-full",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",willChange:"transform"},children:s.jsxs(Ne.div,{variants:J6,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{willChange:"transform, opacity"},children:[s.jsx(jm,{className:"pb-4 border-b border-white/10",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Sm,{className:"text-2xl font-bold text-white",children:e==null?void 0:e.tableName}),s.jsx(Nv,{className:"text-white/60 mt-1",children:e==null?void 0:e.description})]}),s.jsx(br,{variant:"ghost",className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/5",onClick:()=>u(!1),children:s.jsx(Mt,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"py-4 space-y-6",children:[s.jsxs(Ne.div,{variants:k1,className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:`px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2 ${(e==null?void 0:e.status)==="en_trempe"?"bg-green-500/20 text-green-400 border border-green-500/20":(e==null?void 0:e.status)==="pret"?"bg-blue-500/20 text-blue-400 border border-blue-500/20":"bg-gray-500/20 text-gray-400 border border-gray-500/20"}`,children:(e==null?void 0:e.status)==="en_trempe"?s.jsxs(s.Fragment,{children:[s.jsx(ci,{className:"w-4 h-4"}),s.jsx("span",{children:"Active"})]}):(e==null?void 0:e.status)==="pret"?s.jsxs(s.Fragment,{children:[s.jsx(ad,{className:"w-4 h-4"}),s.jsx("span",{children:"Prêt"})]}):s.jsxs(s.Fragment,{children:[s.jsx(uj,{className:"w-4 h-4"}),s.jsx("span",{children:"Disponible"})]})})})}),s.jsxs("div",{className:"flex space-x-4 border-b border-white/10",children:[s.jsx("button",{className:"px-4 py-2 text-white border-b-2 border-brand-accent",children:"Informations"}),s.jsx("button",{className:"px-4 py-2 text-white/60 hover:text-white",children:"Historique"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Occupation de la table"}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Progression"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-white font-medium",children:[e==null?void 0:e.occupancy.current,"/",e==null?void 0:e.occupancy.total," unités"]}),s.jsxs("span",{className:"text-white/60",children:["(",Math.round(((e==null?void 0:e.occupancy.current)||0)/((e==null?void 0:e.occupancy.total)||1)*100),"%)"]})]})]}),s.jsx("div",{className:"w-full h-2 bg-brand-darker/50 rounded-full overflow-hidden",children:s.jsx(Ne.div,{initial:{scaleX:0},animate:{scaleX:e?e.occupancy.current/e.occupancy.total:0,backgroundColor:"rgb(34 197 94 / 0.5)"},transition:{duration:.6,ease:[.25,.25,0,1]},className:"h-full rounded-full origin-left",style:{willChange:"transform"}})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Progression du calibre"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Début"}),s.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:s.jsx("span",{className:"text-white font-medium",children:"T15"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Objectif"}),s.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:s.jsx("span",{className:"text-white font-medium",children:e==null?void 0:e.targetSize})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Final"}),s.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:s.jsx("span",{className:"text-white font-medium",children:e==null?void 0:e.currentSize})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-[3px] w-full rounded-full overflow-hidden",style:{background:"linear-gradient(to right, #3b82f6 0%, #3b82f6 30%, #60a5fa 50%, #93c5fd 75%, #22c55e 85%, #f97316 95%, #ef4444 100%)"}}),s.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-white/40",style:{left:"85%",transform:"translateX(-50%)",willChange:"transform"}}),s.jsxs(Ne.div,{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4",style:{left:`${["T15","N°5","N°4","N°3","N°2","N°1"].indexOf((e==null?void 0:e.currentSize)||"T15")/5*100}%`,willChange:"transform, left"},initial:!1,animate:{scale:[1,1.2,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-500/20 animate-pulse"}),s.jsx("div",{className:"absolute inset-[2px] rounded-full bg-blue-500"})]})]}),s.jsx("div",{className:"flex items-center justify-between space-x-2 py-2",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(f=>s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:`text-xs ${f===(e==null?void 0:e.currentSize)?"text-blue-400 font-medium":f===(e==null?void 0:e.targetSize)?"text-green-400 font-medium":"text-white/40"}`,children:f}),s.jsx("div",{className:`h-1 mt-1 rounded-full transform origin-center transition-transform ${f===(e==null?void 0:e.currentSize)?"bg-blue-500 scale-100":f===(e==null?void 0:e.targetSize)?"bg-green-500 scale-100":"bg-white/10 scale-75"}`,style:{willChange:"transform"}})]},f))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Calibre actuel"}),s.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:s.jsx("span",{className:"text-white font-medium",children:e==null?void 0:e.currentSize})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Calibre cible"}),s.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:s.jsx("span",{className:"text-white font-medium",children:e==null?void 0:e.targetSize})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informations de production"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Date de démarrage"}),s.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:s.jsx("span",{className:"text-white font-medium",children:new Date((e==null?void 0:e.startDate)||"").toLocaleDateString("fr-FR")})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Date de récolte prévue"}),s.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:s.jsx("span",{className:"text-white font-medium",children:new Date((e==null?void 0:e.harvestDate)||"").toLocaleDateString("fr-FR")})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Taux de mortalité"}),s.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:s.jsxs("span",{className:"text-white font-medium",children:[e==null?void 0:e.mortalityRate,"%"]})})]})]})]})]}),s.jsxs(Ne.div,{variants:k1,className:"flex items-center gap-3 pt-4 border-t border-white/10",children:[s.jsx(br,{variant:"primary",className:"flex-1 bg-brand-accent hover:bg-brand-accent/90",children:"Ajouter des cordes"}),s.jsx(br,{variant:"outline",className:"flex-1",children:"Récolter"})]})]})]})})}),s.jsx(_v,{open:a,onOpenChange:i,children:s.jsx(Nm,{className:"bg-brand-darker/95 border-white/10 max-w-2xl w-full",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",willChange:"transform"},children:s.jsxs(Ne.div,{variants:J6,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{willChange:"transform, opacity"},children:[s.jsx(jm,{className:"pb-4 border-b border-white/10",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Sm,{className:"text-2xl font-bold text-white",children:"Nouvelle table"}),s.jsx(Nv,{className:"text-white/60 mt-1",children:"Créer une nouvelle table de trempe"})]}),s.jsx(br,{variant:"ghost",className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/5",onClick:()=>i(!1),children:s.jsx(Mt,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"py-4 space-y-6",children:[s.jsxs(Ne.div,{variants:k1,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-white/60",children:"Nom de la table"}),s.jsx(zt,{value:o.tableName,onChange:f=>l({...o,tableName:f.target.value}),placeholder:"ex: Table Nord #128",className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-white/60",children:"Description"}),s.jsx(zt,{value:o.description,onChange:f=>l({...o,description:f.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-white/60",children:"Date de démarrage"}),s.jsx(zt,{type:"date",value:o.startDate,onChange:f=>l({...o,startDate:f.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-white/60",children:"Date de récolte prévue"}),s.jsx(zt,{type:"date",value:o.harvestDate,onChange:f=>l({...o,harvestDate:f.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-white/60",children:"Calibre initial"}),s.jsx("select",{value:o.currentSize,onChange:f=>l({...o,currentSize:f.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-white/60",children:"Calibre cible"}),s.jsx("select",{value:o.targetSize,onChange:f=>l({...o,targetSize:f.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(f=>s.jsx("option",{value:f,children:f},f))})]})]})]}),s.jsxs(Ne.div,{variants:k1,className:"flex items-center gap-3 pt-4 border-t border-white/10",children:[s.jsx(br,{variant:"primary",className:"flex-1 bg-brand-accent hover:bg-brand-accent/90",onClick:()=>{const f={id:r.length+1,status:"disponible",batches:[],number:r.length+1,remainingRopes:100,totalRopes:100,tableName:o.tableName,description:o.description,startDate:o.startDate,harvestDate:o.harvestDate,mortalityRate:0,currentSize:o.currentSize,targetSize:o.targetSize,occupancy:{current:0,total:10}};n([...r,f]),i(!1)},children:"Créer la table"}),s.jsx(br,{variant:"outline",className:"flex-1",onClick:()=>i(!1),children:"Annuler"})]})]})]})})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var l7=1252,gge=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],$N={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},zN=function(e){gge.indexOf(e)!=-1&&(l7=$N[0]=e)};function vge(){zN(1252)}var yo=function(e){zN(e)};function c7(){yo(1200),vge()}function Z6(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function bge(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function u7(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var ap=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?bge(e.slice(2)):t==254&&r==255?u7(e.slice(2)):t==65279?e.slice(1):e},T1=function(t){return String.fromCharCode(t)},Q6=function(t){return String.fromCharCode(t)},Mc,zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function eE(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=zc.charAt(i)+zc.charAt(o)+zc.charAt(l)+zc.charAt(c);return t}function bs(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=zc.indexOf(e.charAt(u++)),o=zc.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=zc.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=zc.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var lr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ed=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Zc(e){return lr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function tE(e){return lr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var go=function(t){return lr?Ed(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function kd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function UN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return UN(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Fc=lr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ed(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function yge(e){for(var t=[],r=0,n=e.length+250,a=Zc(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Zc(65535),n=65530)}return t.push(a.slice(0,r)),Fc(t)}var Ti=/\u0000/g,ip=/[\u0001-\u0006]/g;function V0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function wo(e,t){var r=""+e;return r.length>=t?r:Sn("0",t-r.length)+r}function HN(e,t){var r=""+e;return r.length>=t?r:Sn(" ",t-r.length)+r}function jv(e,t){var r=""+e;return r.length>=t?r:r+Sn(" ",t-r.length)}function wge(e,t){var r=""+Math.round(e);return r.length>=t?r:Sn("0",t-r.length)+r}function _ge(e,t){var r=""+e;return r.length>=t?r:Sn("0",t-r.length)+r}var rE=Math.pow(2,32);function p0(e,t){if(e>rE||e<-rE)return wge(e,t);var r=Math.round(e);return _ge(r,t)}function Sv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var nE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Fy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Nge(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Yt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},aE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jge={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Av(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Hu(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=Tge(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var d7=new Date(1899,11,31,0,0,0),Sge=d7.getTime(),Age=new Date(1900,2,1,0,0,0);function f7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Age&&(r+=24*60*60*1e3),(r-(Sge+(e.getTimezoneOffset()-d7.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function WN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Cge(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Ege(e){var t=e<0?12:11,r=WN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function kge(e){var t=WN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Am(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Ege(e):t===10?r=e.toFixed(10).substr(0,12):r=kge(e),WN(Cge(r.toUpperCase()))}function pd(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Am(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Vs(14,f7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Tge(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Oge(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Fy[r.m-1][1];case 5:return Fy[r.m-1][0];default:return Fy[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return nE[r.q][0];default:return nE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?wo(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=wo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?wo(c,u):"";return d}function Uc(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var h7=/%/g;function Pge(e,t,r){var n=t.replace(h7,""),a=t.length-n.length;return Ul(e,n,r*Math.pow(10,2*a))+Sn("%",a)}function Ige(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ul(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function p7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+p7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var m7=/# (\?+)( ?)\/( ?)(\d+)/;function Dge(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Sn(" ",e[1].length+1+e[4].length):HN(o,e[1].length)+e[2]+"/"+e[3]+wo(l,e[4].length))}function Mge(e,t,r){return r+(t===0?"":""+t)+Sn(" ",e[1].length+2+e[4].length)}var x7=/^#*0*\.([0#]+)/,g7=/\).*[0#]/,v7=/\(###\) ###\\?-####/;function wi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function iE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function sE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Fge(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Rge(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ms(e,t,r){if(e.charCodeAt(0)===40&&!t.match(g7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ms("n",n,r):"("+Ms("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ige(e,t,r);if(t.indexOf("%")!==-1)return Pge(e,t,r);if(t.indexOf("E")!==-1)return p7(t,r);if(t.charCodeAt(0)===36)return"$"+Ms(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+p0(c,t.length);if(t.match(/^[#?]+$/))return a=p0(r,0),a==="0"&&(a=""),a.length>t.length?a:wi(t.substr(0,t.length-a.length))+a;if(i=t.match(m7))return Dge(i,c,u);if(t.match(/^#+0+$/))return u+p0(c,t.length-t.indexOf("0"));if(i=t.match(x7))return a=iE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+wi(i[1])).replace(/\.$/,"."+wi(i[1])).replace(/\.(\d*)$/,function(m,x){return"."+x+Sn("0",wi(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+iE(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Uc(p0(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ms(e,t,-r):Uc(""+(Math.floor(r)+Fge(r,i[1].length)))+"."+wo(sE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ms(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=V0(Ms(e,t.replace(/[\\-]/g,""),r)),o=0,V0(V0(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return o<a.length?a.charAt(o++):m==="0"?"0":""}));if(t.match(v7))return a=Ms(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Av(c,Math.pow(10,o)-1,!1),a=""+u,d=Ul("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=jv(l[2],o),d.length<i[4].length&&(d=wi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Av(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?HN(l[1],o)+i[2]+"/"+i[3]+jv(l[2],o):Sn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=p0(r,0),t.length<=a.length?a:wi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return wi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=sE(r,i[1].length),r<0?"-"+Ms(e,t,-r):Uc(Rge(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?wo(0,3-m.length):"")+m})+"."+wo(o,i[1].length);switch(t){case"###,##0.00":return Ms(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Uc(p0(c,0));return p!=="0"?u+p:"";case"###,###.00":return Ms(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ms(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Lge(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ul(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Bge(e,t,r){var n=t.replace(h7,""),a=t.length-n.length;return Ul(e,n,r*Math.pow(10,2*a))+Sn("%",a)}function b7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+b7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Lo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(g7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Lo("n",n,r):"("+Lo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Lge(e,t,r);if(t.indexOf("%")!==-1)return Bge(e,t,r);if(t.indexOf("E")!==-1)return b7(t,r);if(t.charCodeAt(0)===36)return"$"+Lo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+wo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:wi(t.substr(0,t.length-a.length))+a;if(i=t.match(m7))return Mge(i,c,u);if(t.match(/^#+0+$/))return u+wo(c,t.length-t.indexOf("0"));if(i=t.match(x7))return a=(""+r).replace(/^([^\.]+)$/,"$1."+wi(i[1])).replace(/\.$/,"."+wi(i[1])),a=a.replace(/\.(\d*)$/,function(m,x){return"."+x+Sn("0",wi(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Uc(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Lo(e,t,-r):Uc(""+r)+"."+Sn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Lo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=V0(Lo(e,t.replace(/[\\-]/g,""),r)),o=0,V0(V0(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return o<a.length?a.charAt(o++):m==="0"?"0":""}));if(t.match(v7))return a=Lo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Av(c,Math.pow(10,o)-1,!1),a=""+u,d=Ul("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=jv(l[2],o),d.length<i[4].length&&(d=wi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Av(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?HN(l[1],o)+i[2]+"/"+i[3]+jv(l[2],o):Sn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:wi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return wi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Lo(e,t,-r):Uc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?wo(0,3-m.length):"")+m})+"."+wo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Uc(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Lo(e,t.slice(0,t.lastIndexOf(".")),r)+wi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ul(e,t,r){return(r|0)===r?Lo(e,t,r):Ms(e,t,r)}function $ge(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var y7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Qf(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Sv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(y7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function zge(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Sv(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Hu(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Hu(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var x={t:l,v:l};if(u==null&&(u=Hu(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(x.v=u.H>=12?"下午":"上午"),x.t="T",o+=5,h="h"):(x.t="t",++o),u==null&&x.t==="T")return"";a[a.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(y7)){if(u==null&&(u=Hu(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Qf(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,v=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",_;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Oge(a[o].t.charCodeAt(0),a[o].v,u,v),a[o].t="t";break;case"n":case"?":for(_=o+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[o].v+=a[_].v,a[_]={v:"",t:";"},++_;b+=a[o].v,o=_-1;break;case"G":a[o].t="t",a[o].v=pd(t,r);break}var S="",N,j;if(b.length>0){b.charCodeAt(0)==40?(N=t<0&&b.charCodeAt(0)===45?-t:t,j=Ul("n",b,N)):(N=t<0&&n>1?-t:t,j=Ul("n",b,N),N<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),_=j.length-1;var C=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){C=o;break}var P=a.length;if(C===a.length&&j.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(_>=a[o].v.length-1?(_-=a[o].v.length,a[o].v=j.substr(_+1,a[o].v.length)):_<0?a[o].v="":(a[o].v=j.substr(0,_+1),_=-1),a[o].t="t",P=o);_>=0&&P<a.length&&(a[P].v=j.substr(0,_+1)+a[P].v)}else if(C!==a.length&&j.indexOf("E")===-1){for(_=j.indexOf(".")-1,o=C;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===C?a[o].v.indexOf(".")-1:a[o].v.length-1,S=a[o].v.substr(d+1);d>=0;--d)_>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(S=j.charAt(_--)+S);a[o].v=S,a[o].t="t",P=o}for(_>=0&&P<a.length&&(a[P].v=j.substr(0,_+1)+a[P].v),_=j.indexOf(".")+1,o=C;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==C)){for(d=a[o].v.indexOf(".")>-1&&o===C?a[o].v.indexOf(".")+1:0,S=a[o].v.substr(0,d);d<a[o].v.length;++d)_<j.length&&(S+=j.charAt(_++));a[o].v=S,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Ul(a[o].t,a[o].v,N),a[o].t="t");var M="";for(o=0;o!==a.length;++o)a[o]!=null&&(M+=a[o].v);return M}var oE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function lE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Uge(e,t){var r=$ge(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(oE),l=r[1].match(oE);return lE(t,o)?[n,r[0]]:lE(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Vs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Yt)[e],n==null&&(n=r.table&&r.table[aE[e]]||Yt[aE[e]]),n==null&&(n=jge[e]||"General");break}if(Sv(n,0))return pd(t,r);t instanceof Date&&(t=f7(t,r.date1904));var a=Uge(n,t);if(Sv(a[1]))return pd(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return zge(a[1],t,r,a[0])}function Ju(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Yt[r]==null){t<0&&(t=r);continue}if(Yt[r]==e){t=r;break}}t<0&&(t=391)}return Yt[t]=e,t}function w7(){Yt=Nge()}var Hge={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},_7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Wge(e){var t=typeof e=="number"?Yt[e]:e;return t=t.replace(_7,"(\\d+)"),new RegExp("^"+t+"$")}function Vge(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(_7)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var qge=function(){var e={};e.version="1.2.0";function t(){for(var j=0,C=new Array(256),P=0;P!=256;++P)j=P,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,C[P]=j;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(j){var C=0,P=0,M=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)k[M]=j[M];for(M=0;M!=256;++M)for(P=j[M],C=256+M;C<4096;C+=256)P=k[C]=P>>>8^j[P&255];var E=[];for(M=1;M!=16;++M)E[M-1]=typeof Int32Array<"u"?k.subarray(M*256,M*256+256):k.slice(M*256,M*256+256);return E}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],m=a[9],x=a[10],g=a[11],v=a[12],y=a[13],b=a[14];function _(j,C){for(var P=C^-1,M=0,k=j.length;M<k;)P=P>>>8^r[(P^j.charCodeAt(M++))&255];return~P}function S(j,C){for(var P=C^-1,M=j.length-15,k=0;k<M;)P=b[j[k++]^P&255]^y[j[k++]^P>>8&255]^v[j[k++]^P>>16&255]^g[j[k++]^P>>>24]^x[j[k++]]^m[j[k++]]^p[j[k++]]^h[j[k++]]^f[j[k++]]^d[j[k++]]^u[j[k++]]^c[j[k++]]^l[j[k++]]^o[j[k++]]^i[j[k++]]^r[j[k++]];for(M+=15;k<M;)P=P>>>8^r[(P^j[k++])&255];return~P}function N(j,C){for(var P=C^-1,M=0,k=j.length,E=0,R=0;M<k;)E=j.charCodeAt(M++),E<128?P=P>>>8^r[(P^E)&255]:E<2048?(P=P>>>8^r[(P^(192|E>>6&31))&255],P=P>>>8^r[(P^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,R=j.charCodeAt(M++)&1023,P=P>>>8^r[(P^(240|E>>8&7))&255],P=P>>>8^r[(P^(128|E>>2&63))&255],P=P>>>8^r[(P^(128|R>>6&15|(E&3)<<4))&255],P=P>>>8^r[(P^(128|R&63))&255]):(P=P>>>8^r[(P^(224|E>>12&15))&255],P=P>>>8^r[(P^(128|E>>6&63))&255],P=P>>>8^r[(P^(128|E&63))&255]);return~P}return e.table=r,e.bstr=_,e.buf=S,e.str=N,e}(),fr=function(){var t={};t.version="1.2.1";function r(Q,pe){for(var ce=Q.split("/"),ue=pe.split("/"),he=0,ge=0,Re=Math.min(ce.length,ue.length);he<Re;++he){if(ge=ce[he].length-ue[he].length)return ge;if(ce[he]!=ue[he])return ce[he]<ue[he]?-1:1}return ce.length-ue.length}function n(Q){if(Q.charAt(Q.length-1)=="/")return Q.slice(0,-1).indexOf("/")===-1?Q:n(Q.slice(0,-1));var pe=Q.lastIndexOf("/");return pe===-1?Q:Q.slice(0,pe+1)}function a(Q){if(Q.charAt(Q.length-1)=="/")return a(Q.slice(0,-1));var pe=Q.lastIndexOf("/");return pe===-1?Q:Q.slice(pe+1)}function i(Q,pe){typeof pe=="string"&&(pe=new Date(pe));var ce=pe.getHours();ce=ce<<6|pe.getMinutes(),ce=ce<<5|pe.getSeconds()>>>1,Q.write_shift(2,ce);var ue=pe.getFullYear()-1980;ue=ue<<4|pe.getMonth()+1,ue=ue<<5|pe.getDate(),Q.write_shift(2,ue)}function o(Q){var pe=Q.read_shift(2)&65535,ce=Q.read_shift(2)&65535,ue=new Date,he=ce&31;ce>>>=5;var ge=ce&15;ce>>>=4,ue.setMilliseconds(0),ue.setFullYear(ce+1980),ue.setMonth(ge-1),ue.setDate(he);var Re=pe&31;pe>>>=5;var Ve=pe&63;return pe>>>=6,ue.setHours(pe),ue.setMinutes(Ve),ue.setSeconds(Re<<1),ue}function l(Q){Ba(Q,0);for(var pe={},ce=0;Q.l<=Q.length-4;){var ue=Q.read_shift(2),he=Q.read_shift(2),ge=Q.l+he,Re={};switch(ue){case 21589:ce=Q.read_shift(1),ce&1&&(Re.mtime=Q.read_shift(4)),he>5&&(ce&2&&(Re.atime=Q.read_shift(4)),ce&4&&(Re.ctime=Q.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}Q.l=ge,pe[ue]=Re}return pe}var c;function u(){return c||(c={})}function d(Q,pe){if(Q[0]==80&&Q[1]==75)return an(Q,pe);if((Q[0]|32)==109&&(Q[1]|32)==105)return Ns(Q,pe);if(Q.length<512)throw new Error("CFB file size "+Q.length+" < 512");var ce=3,ue=512,he=0,ge=0,Re=0,Ve=0,Fe=0,ze=[],Ue=Q.slice(0,512);Ba(Ue,0);var nt=f(Ue);switch(ce=nt[0],ce){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(nt[1]==0)return an(Q,pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}ue!==512&&(Ue=Q.slice(0,ue),Ba(Ue,28));var it=Q.slice(0,ue);h(Ue,ce);var ht=Ue.read_shift(4,"i");if(ce===3&&ht!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ht);Ue.l+=4,Re=Ue.read_shift(4,"i"),Ue.l+=4,Ue.chk("00100000","Mini Stream Cutoff Size: "),Ve=Ue.read_shift(4,"i"),he=Ue.read_shift(4,"i"),Fe=Ue.read_shift(4,"i"),ge=Ue.read_shift(4,"i");for(var at=-1,ft=0;ft<109&&(at=Ue.read_shift(4,"i"),!(at<0));++ft)ze[ft]=at;var Lt=p(Q,ue);g(Fe,ge,Lt,ue,ze);var Er=y(Lt,Re,ze,ue);Er[Re].name="!Directory",he>0&&Ve!==R&&(Er[Ve].name="!MiniFAT"),Er[ze[0]].name="!FAT",Er.fat_addrs=ze,Er.ssz=ue;var Br={},$n=[],Js=[],gl=[];b(Re,Er,Lt,$n,he,Br,Js,Ve),m(Js,gl,$n),$n.shift();var Oo={FileIndex:Js,FullPaths:gl};return pe&&pe.raw&&(Oo.raw={header:it,sectors:Lt}),Oo}function f(Q){if(Q[Q.l]==80&&Q[Q.l+1]==75)return[0,0];Q.chk(H,"Header Signature: "),Q.l+=16;var pe=Q.read_shift(2,"u");return[Q.read_shift(2,"u"),pe]}function h(Q,pe){var ce=9;switch(Q.l+=2,ce=Q.read_shift(2)){case 9:if(pe!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(pe!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}Q.chk("0600","Mini Sector Shift: "),Q.chk("000000000000","Reserved: ")}function p(Q,pe){for(var ce=Math.ceil(Q.length/pe)-1,ue=[],he=1;he<ce;++he)ue[he-1]=Q.slice(he*pe,(he+1)*pe);return ue[ce-1]=Q.slice(ce*pe),ue}function m(Q,pe,ce){for(var ue=0,he=0,ge=0,Re=0,Ve=0,Fe=ce.length,ze=[],Ue=[];ue<Fe;++ue)ze[ue]=Ue[ue]=ue,pe[ue]=ce[ue];for(;Ve<Ue.length;++Ve)ue=Ue[Ve],he=Q[ue].L,ge=Q[ue].R,Re=Q[ue].C,ze[ue]===ue&&(he!==-1&&ze[he]!==he&&(ze[ue]=ze[he]),ge!==-1&&ze[ge]!==ge&&(ze[ue]=ze[ge])),Re!==-1&&(ze[Re]=ue),he!==-1&&ue!=ze[ue]&&(ze[he]=ze[ue],Ue.lastIndexOf(he)<Ve&&Ue.push(he)),ge!==-1&&ue!=ze[ue]&&(ze[ge]=ze[ue],Ue.lastIndexOf(ge)<Ve&&Ue.push(ge));for(ue=1;ue<Fe;++ue)ze[ue]===ue&&(ge!==-1&&ze[ge]!==ge?ze[ue]=ze[ge]:he!==-1&&ze[he]!==he&&(ze[ue]=ze[he]));for(ue=1;ue<Fe;++ue)if(Q[ue].type!==0){if(Ve=ue,Ve!=ze[Ve])do Ve=ze[Ve],pe[ue]=pe[Ve]+"/"+pe[ue];while(Ve!==0&&ze[Ve]!==-1&&Ve!=ze[Ve]);ze[ue]=-1}for(pe[0]+="/",ue=1;ue<Fe;++ue)Q[ue].type!==2&&(pe[ue]+="/")}function x(Q,pe,ce){for(var ue=Q.start,he=Q.size,ge=[],Re=ue;ce&&he>0&&Re>=0;)ge.push(pe.slice(Re*E,Re*E+E)),he-=E,Re=Fu(ce,Re*4);return ge.length===0?ia(0):Fc(ge).slice(0,Q.size)}function g(Q,pe,ce,ue,he){var ge=R;if(Q===R){if(pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(Q!==-1){var Re=ce[Q],Ve=(ue>>>2)-1;if(!Re)return;for(var Fe=0;Fe<Ve&&(ge=Fu(Re,Fe*4))!==R;++Fe)he.push(ge);g(Fu(Re,ue-4),pe-1,ce,ue,he)}}function v(Q,pe,ce,ue,he){var ge=[],Re=[];he||(he=[]);var Ve=ue-1,Fe=0,ze=0;for(Fe=pe;Fe>=0;){he[Fe]=!0,ge[ge.length]=Fe,Re.push(Q[Fe]);var Ue=ce[Math.floor(Fe*4/ue)];if(ze=Fe*4&Ve,ue<4+ze)throw new Error("FAT boundary crossed: "+Fe+" 4 "+ue);if(!Q[Ue])break;Fe=Fu(Q[Ue],ze)}return{nodes:ge,data:vE([Re])}}function y(Q,pe,ce,ue){var he=Q.length,ge=[],Re=[],Ve=[],Fe=[],ze=ue-1,Ue=0,nt=0,it=0,ht=0;for(Ue=0;Ue<he;++Ue)if(Ve=[],it=Ue+pe,it>=he&&(it-=he),!Re[it]){Fe=[];var at=[];for(nt=it;nt>=0;){at[nt]=!0,Re[nt]=!0,Ve[Ve.length]=nt,Fe.push(Q[nt]);var ft=ce[Math.floor(nt*4/ue)];if(ht=nt*4&ze,ue<4+ht)throw new Error("FAT boundary crossed: "+nt+" 4 "+ue);if(!Q[ft]||(nt=Fu(Q[ft],ht),at[nt]))break}ge[it]={nodes:Ve,data:vE([Fe])}}return ge}function b(Q,pe,ce,ue,he,ge,Re,Ve){for(var Fe=0,ze=ue.length?2:0,Ue=pe[Q].data,nt=0,it=0,ht;nt<Ue.length;nt+=128){var at=Ue.slice(nt,nt+128);Ba(at,64),it=at.read_shift(2),ht=YN(at,0,it-ze),ue.push(ht);var ft={name:ht,type:at.read_shift(1),color:at.read_shift(1),L:at.read_shift(4,"i"),R:at.read_shift(4,"i"),C:at.read_shift(4,"i"),clsid:at.read_shift(16),state:at.read_shift(4,"i"),start:0,size:0},Lt=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);Lt!==0&&(ft.ct=_(at,at.l-8));var Er=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);Er!==0&&(ft.mt=_(at,at.l-8)),ft.start=at.read_shift(4,"i"),ft.size=at.read_shift(4,"i"),ft.size<0&&ft.start<0&&(ft.size=ft.type=0,ft.start=R,ft.name=""),ft.type===5?(Fe=ft.start,he>0&&Fe!==R&&(pe[Fe].name="!StreamData")):ft.size>=4096?(ft.storage="fat",pe[ft.start]===void 0&&(pe[ft.start]=v(ce,ft.start,pe.fat_addrs,pe.ssz)),pe[ft.start].name=ft.name,ft.content=pe[ft.start].data.slice(0,ft.size)):(ft.storage="minifat",ft.size<0?ft.size=0:Fe!==R&&ft.start!==R&&pe[Fe]&&(ft.content=x(ft,pe[Fe].data,(pe[Ve]||{}).data))),ft.content&&Ba(ft.content,0),ge[ht]=ft,Re.push(ft)}}function _(Q,pe){return new Date((us(Q,pe+4)/1e7*Math.pow(2,32)+us(Q,pe)/1e7-11644473600)*1e3)}function S(Q,pe){return u(),d(c.readFileSync(Q),pe)}function N(Q,pe){var ce=pe&&pe.type;switch(ce||lr&&Buffer.isBuffer(Q)&&(ce="buffer"),ce||"base64"){case"file":return S(Q,pe);case"base64":return d(go(bs(Q)),pe);case"binary":return d(go(Q),pe)}return d(Q,pe)}function j(Q,pe){var ce=pe||{},ue=ce.root||"Root Entry";if(Q.FullPaths||(Q.FullPaths=[]),Q.FileIndex||(Q.FileIndex=[]),Q.FullPaths.length!==Q.FileIndex.length)throw new Error("inconsistent CFB structure");Q.FullPaths.length===0&&(Q.FullPaths[0]=ue+"/",Q.FileIndex[0]={name:ue,type:5}),ce.CLSID&&(Q.FileIndex[0].clsid=ce.CLSID),C(Q)}function C(Q){var pe="Sh33tJ5";if(!fr.find(Q,"/"+pe)){var ce=ia(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,Q.FileIndex.push({name:pe,type:2,content:ce,size:4,L:69,R:69,C:69}),Q.FullPaths.push(Q.FullPaths[0]+pe),P(Q)}}function P(Q,pe){j(Q);for(var ce=!1,ue=!1,he=Q.FullPaths.length-1;he>=0;--he){var ge=Q.FileIndex[he];switch(ge.type){case 0:ue?ce=!0:(Q.FileIndex.pop(),Q.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(ge.R*ge.L*ge.C)&&(ce=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!pe)){var Re=new Date(1987,1,19),Ve=0,Fe=Object.create?Object.create(null):{},ze=[];for(he=0;he<Q.FullPaths.length;++he)Fe[Q.FullPaths[he]]=!0,Q.FileIndex[he].type!==0&&ze.push([Q.FullPaths[he],Q.FileIndex[he]]);for(he=0;he<ze.length;++he){var Ue=n(ze[he][0]);ue=Fe[Ue],ue||(ze.push([Ue,{name:a(Ue).replace("/",""),type:1,clsid:L,ct:Re,mt:Re,content:null}]),Fe[Ue]=!0)}for(ze.sort(function(ht,at){return r(ht[0],at[0])}),Q.FullPaths=[],Q.FileIndex=[],he=0;he<ze.length;++he)Q.FullPaths[he]=ze[he][0],Q.FileIndex[he]=ze[he][1];for(he=0;he<ze.length;++he){var nt=Q.FileIndex[he],it=Q.FullPaths[he];if(nt.name=a(it).replace("/",""),nt.L=nt.R=nt.C=-(nt.color=1),nt.size=nt.content?nt.content.length:0,nt.start=0,nt.clsid=nt.clsid||L,he===0)nt.C=ze.length>1?1:-1,nt.size=0,nt.type=5;else if(it.slice(-1)=="/"){for(Ve=he+1;Ve<ze.length&&n(Q.FullPaths[Ve])!=it;++Ve);for(nt.C=Ve>=ze.length?-1:Ve,Ve=he+1;Ve<ze.length&&n(Q.FullPaths[Ve])!=n(it);++Ve);nt.R=Ve>=ze.length?-1:Ve,nt.type=1}else n(Q.FullPaths[he+1]||"")==n(it)&&(nt.R=he+1),nt.type=2}}}function M(Q,pe){var ce=pe||{};if(ce.fileType=="mad")return Tt(Q,ce);switch(P(Q),ce.fileType){case"zip":return Ks(Q,ce)}var ue=function(ht){for(var at=0,ft=0,Lt=0;Lt<ht.FileIndex.length;++Lt){var Er=ht.FileIndex[Lt];if(Er.content){var Br=Er.content.length;Br>0&&(Br<4096?at+=Br+63>>6:ft+=Br+511>>9)}}for(var $n=ht.FullPaths.length+3>>2,Js=at+7>>3,gl=at+127>>7,Oo=Js+ft+$n+gl,Zs=Oo+127>>7,Po=Zs<=109?0:Math.ceil((Zs-109)/127);Oo+Zs+Po+127>>7>Zs;)Po=++Zs<=109?0:Math.ceil((Zs-109)/127);var es=[1,Po,Zs,gl,$n,ft,at,0];return ht.FileIndex[0].size=at<<6,es[7]=(ht.FileIndex[0].start=es[0]+es[1]+es[2]+es[3]+es[4]+es[5])+(es[6]+7>>3),es}(Q),he=ia(ue[7]<<9),ge=0,Re=0;{for(ge=0;ge<8;++ge)he.write_shift(1,G[ge]);for(ge=0;ge<8;++ge)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ge=0;ge<3;++ge)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ue[2]),he.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:R),he.write_shift(4,ue[3]),he.write_shift(-4,ue[1]?ue[0]-1:R),he.write_shift(4,ue[1]),ge=0;ge<109;++ge)he.write_shift(-4,ge<ue[2]?ue[1]+ge:-1)}if(ue[1])for(Re=0;Re<ue[1];++Re){for(;ge<236+Re*127;++ge)he.write_shift(-4,ge<ue[2]?ue[1]+ge:-1);he.write_shift(-4,Re===ue[1]-1?R:Re+1)}var Ve=function(ht){for(Re+=ht;ge<Re-1;++ge)he.write_shift(-4,ge+1);ht&&(++ge,he.write_shift(-4,R))};for(Re=ge=0,Re+=ue[1];ge<Re;++ge)he.write_shift(-4,V.DIFSECT);for(Re+=ue[2];ge<Re;++ge)he.write_shift(-4,V.FATSECT);Ve(ue[3]),Ve(ue[4]);for(var Fe=0,ze=0,Ue=Q.FileIndex[0];Fe<Q.FileIndex.length;++Fe)Ue=Q.FileIndex[Fe],Ue.content&&(ze=Ue.content.length,!(ze<4096)&&(Ue.start=Re,Ve(ze+511>>9)));for(Ve(ue[6]+7>>3);he.l&511;)he.write_shift(-4,V.ENDOFCHAIN);for(Re=ge=0,Fe=0;Fe<Q.FileIndex.length;++Fe)Ue=Q.FileIndex[Fe],Ue.content&&(ze=Ue.content.length,!(!ze||ze>=4096)&&(Ue.start=Re,Ve(ze+63>>6)));for(;he.l&511;)he.write_shift(-4,V.ENDOFCHAIN);for(ge=0;ge<ue[4]<<2;++ge){var nt=Q.FullPaths[ge];if(!nt||nt.length===0){for(Fe=0;Fe<17;++Fe)he.write_shift(4,0);for(Fe=0;Fe<3;++Fe)he.write_shift(4,-1);for(Fe=0;Fe<12;++Fe)he.write_shift(4,0);continue}Ue=Q.FileIndex[ge],ge===0&&(Ue.start=Ue.size?Ue.start-1:R);var it=ge===0&&ce.root||Ue.name;if(ze=2*(it.length+1),he.write_shift(64,it,"utf16le"),he.write_shift(2,ze),he.write_shift(1,Ue.type),he.write_shift(1,Ue.color),he.write_shift(-4,Ue.L),he.write_shift(-4,Ue.R),he.write_shift(-4,Ue.C),Ue.clsid)he.write_shift(16,Ue.clsid,"hex");else for(Fe=0;Fe<4;++Fe)he.write_shift(4,0);he.write_shift(4,Ue.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,Ue.start),he.write_shift(4,Ue.size),he.write_shift(4,0)}for(ge=1;ge<Q.FileIndex.length;++ge)if(Ue=Q.FileIndex[ge],Ue.size>=4096)if(he.l=Ue.start+1<<9,lr&&Buffer.isBuffer(Ue.content))Ue.content.copy(he,he.l,0,Ue.size),he.l+=Ue.size+511&-512;else{for(Fe=0;Fe<Ue.size;++Fe)he.write_shift(1,Ue.content[Fe]);for(;Fe&511;++Fe)he.write_shift(1,0)}for(ge=1;ge<Q.FileIndex.length;++ge)if(Ue=Q.FileIndex[ge],Ue.size>0&&Ue.size<4096)if(lr&&Buffer.isBuffer(Ue.content))Ue.content.copy(he,he.l,0,Ue.size),he.l+=Ue.size+63&-64;else{for(Fe=0;Fe<Ue.size;++Fe)he.write_shift(1,Ue.content[Fe]);for(;Fe&63;++Fe)he.write_shift(1,0)}if(lr)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function k(Q,pe){var ce=Q.FullPaths.map(function(Fe){return Fe.toUpperCase()}),ue=ce.map(function(Fe){var ze=Fe.split("/");return ze[ze.length-(Fe.slice(-1)=="/"?2:1)]}),he=!1;pe.charCodeAt(0)===47?(he=!0,pe=ce[0].slice(0,-1)+pe):he=pe.indexOf("/")!==-1;var ge=pe.toUpperCase(),Re=he===!0?ce.indexOf(ge):ue.indexOf(ge);if(Re!==-1)return Q.FileIndex[Re];var Ve=!ge.match(ip);for(ge=ge.replace(Ti,""),Ve&&(ge=ge.replace(ip,"!")),Re=0;Re<ce.length;++Re)if((Ve?ce[Re].replace(ip,"!"):ce[Re]).replace(Ti,"")==ge||(Ve?ue[Re].replace(ip,"!"):ue[Re]).replace(Ti,"")==ge)return Q.FileIndex[Re];return null}var E=64,R=-2,H="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],L="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:L,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(Q,pe,ce){u();var ue=M(Q,ce);c.writeFileSync(pe,ue)}function W(Q){for(var pe=new Array(Q.length),ce=0;ce<Q.length;++ce)pe[ce]=String.fromCharCode(Q[ce]);return pe.join("")}function ae(Q,pe){var ce=M(Q,pe);switch(pe&&pe.type||"buffer"){case"file":return u(),c.writeFileSync(pe.filename,ce),ce;case"binary":return typeof ce=="string"?ce:W(ce);case"base64":return eE(typeof ce=="string"?ce:W(ce));case"buffer":if(lr)return Buffer.isBuffer(ce)?ce:Ed(ce);case"array":return typeof ce=="string"?go(ce):ce}return ce}var ve;function O(Q){try{var pe=Q.InflateRaw,ce=new pe;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)ve=Q;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function I(Q,pe){if(!ve)return xr(Q,pe);var ce=ve.InflateRaw,ue=new ce,he=ue._processChunk(Q.slice(Q.l),ue._finishFlushFlag);return Q.l+=ue.bytesRead,he}function B(Q){return ve?ve.deflateRawSync(Q):lt(Q)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(Q){var pe=(Q<<1|Q<<11)&139536|(Q<<5|Q<<15)&558144;return(pe>>16|pe>>8|pe)&255}for(var ie=typeof Uint8Array<"u",ye=ie?new Uint8Array(256):[],Te=0;Te<256;++Te)ye[Te]=xe(Te);function X(Q,pe){var ce=ye[Q&255];return pe<=8?ce>>>8-pe:(ce=ce<<8|ye[Q>>8&255],pe<=16?ce>>>16-pe:(ce=ce<<8|ye[Q>>16&255],ce>>>24-pe))}function We(Q,pe){var ce=pe&7,ue=pe>>>3;return(Q[ue]|(ce<=6?0:Q[ue+1]<<8))>>>ce&3}function Oe(Q,pe){var ce=pe&7,ue=pe>>>3;return(Q[ue]|(ce<=5?0:Q[ue+1]<<8))>>>ce&7}function Se(Q,pe){var ce=pe&7,ue=pe>>>3;return(Q[ue]|(ce<=4?0:Q[ue+1]<<8))>>>ce&15}function re(Q,pe){var ce=pe&7,ue=pe>>>3;return(Q[ue]|(ce<=3?0:Q[ue+1]<<8))>>>ce&31}function Me(Q,pe){var ce=pe&7,ue=pe>>>3;return(Q[ue]|(ce<=1?0:Q[ue+1]<<8))>>>ce&127}function oe(Q,pe,ce){var ue=pe&7,he=pe>>>3,ge=(1<<ce)-1,Re=Q[he]>>>ue;return ce<8-ue||(Re|=Q[he+1]<<8-ue,ce<16-ue)||(Re|=Q[he+2]<<16-ue,ce<24-ue)||(Re|=Q[he+3]<<24-ue),Re&ge}function me(Q,pe,ce){var ue=pe&7,he=pe>>>3;return ue<=5?Q[he]|=(ce&7)<<ue:(Q[he]|=ce<<ue&255,Q[he+1]=(ce&7)>>8-ue),pe+3}function _e(Q,pe,ce){var ue=pe&7,he=pe>>>3;return ce=(ce&1)<<ue,Q[he]|=ce,pe+1}function Ie(Q,pe,ce){var ue=pe&7,he=pe>>>3;return ce<<=ue,Q[he]|=ce&255,ce>>>=8,Q[he+1]=ce,pe+8}function we(Q,pe,ce){var ue=pe&7,he=pe>>>3;return ce<<=ue,Q[he]|=ce&255,ce>>>=8,Q[he+1]=ce&255,Q[he+2]=ce>>>8,pe+16}function je(Q,pe){var ce=Q.length,ue=2*ce>pe?2*ce:pe+5,he=0;if(ce>=pe)return Q;if(lr){var ge=tE(ue);if(Q.copy)Q.copy(ge);else for(;he<Q.length;++he)ge[he]=Q[he];return ge}else if(ie){var Re=new Uint8Array(ue);if(Re.set)Re.set(Q);else for(;he<ce;++he)Re[he]=Q[he];return Re}return Q.length=ue,Q}function He(Q){for(var pe=new Array(Q),ce=0;ce<Q;++ce)pe[ce]=0;return pe}function Qe(Q,pe,ce){var ue=1,he=0,ge=0,Re=0,Ve=0,Fe=Q.length,ze=ie?new Uint16Array(32):He(32);for(ge=0;ge<32;++ge)ze[ge]=0;for(ge=Fe;ge<ce;++ge)Q[ge]=0;Fe=Q.length;var Ue=ie?new Uint16Array(Fe):He(Fe);for(ge=0;ge<Fe;++ge)ze[he=Q[ge]]++,ue<he&&(ue=he),Ue[ge]=0;for(ze[0]=0,ge=1;ge<=ue;++ge)ze[ge+16]=Ve=Ve+ze[ge-1]<<1;for(ge=0;ge<Fe;++ge)Ve=Q[ge],Ve!=0&&(Ue[ge]=ze[Ve+16]++);var nt=0;for(ge=0;ge<Fe;++ge)if(nt=Q[ge],nt!=0)for(Ve=X(Ue[ge],ue)>>ue-nt,Re=(1<<ue+4-nt)-1;Re>=0;--Re)pe[Ve|Re<<nt]=nt&15|ge<<4;return ue}var ct=ie?new Uint16Array(512):He(512),vt=ie?new Uint16Array(32):He(32);if(!ie){for(var wt=0;wt<512;++wt)ct[wt]=0;for(wt=0;wt<32;++wt)vt[wt]=0}(function(){for(var Q=[],pe=0;pe<32;pe++)Q.push(5);Qe(Q,vt,32);var ce=[];for(pe=0;pe<=143;pe++)ce.push(8);for(;pe<=255;pe++)ce.push(9);for(;pe<=279;pe++)ce.push(7);for(;pe<=287;pe++)ce.push(8);Qe(ce,ct,288)})();var bt=function(){for(var pe=ie?new Uint8Array(32768):[],ce=0,ue=0;ce<se.length-1;++ce)for(;ue<se[ce+1];++ue)pe[ue]=ce;for(;ue<32768;++ue)pe[ue]=29;var he=ie?new Uint8Array(259):[];for(ce=0,ue=0;ce<q.length-1;++ce)for(;ue<q[ce+1];++ue)he[ue]=ce;function ge(Ve,Fe){for(var ze=0;ze<Ve.length;){var Ue=Math.min(65535,Ve.length-ze),nt=ze+Ue==Ve.length;for(Fe.write_shift(1,+nt),Fe.write_shift(2,Ue),Fe.write_shift(2,~Ue&65535);Ue-- >0;)Fe[Fe.l++]=Ve[ze++]}return Fe.l}function Re(Ve,Fe){for(var ze=0,Ue=0,nt=ie?new Uint16Array(32768):[];Ue<Ve.length;){var it=Math.min(65535,Ve.length-Ue);if(it<10){for(ze=me(Fe,ze,+(Ue+it==Ve.length)),ze&7&&(ze+=8-(ze&7)),Fe.l=ze/8|0,Fe.write_shift(2,it),Fe.write_shift(2,~it&65535);it-- >0;)Fe[Fe.l++]=Ve[Ue++];ze=Fe.l*8;continue}ze=me(Fe,ze,+(Ue+it==Ve.length)+2);for(var ht=0;it-- >0;){var at=Ve[Ue];ht=(ht<<5^at)&32767;var ft=-1,Lt=0;if((ft=nt[ht])&&(ft|=Ue&-32768,ft>Ue&&(ft-=32768),ft<Ue))for(;Ve[ft+Lt]==Ve[Ue+Lt]&&Lt<250;)++Lt;if(Lt>2){at=he[Lt],at<=22?ze=Ie(Fe,ze,ye[at+1]>>1)-1:(Ie(Fe,ze,3),ze+=5,Ie(Fe,ze,ye[at-23]>>5),ze+=3);var Er=at<8?0:at-4>>2;Er>0&&(we(Fe,ze,Lt-q[at]),ze+=Er),at=pe[Ue-ft],ze=Ie(Fe,ze,ye[at]>>3),ze-=3;var Br=at<4?0:at-2>>1;Br>0&&(we(Fe,ze,Ue-ft-se[at]),ze+=Br);for(var $n=0;$n<Lt;++$n)nt[ht]=Ue&32767,ht=(ht<<5^Ve[Ue])&32767,++Ue;it-=Lt-1}else at<=143?at=at+48:ze=_e(Fe,ze,1),ze=Ie(Fe,ze,ye[at]),nt[ht]=Ue&32767,++Ue}ze=Ie(Fe,ze,0)-1}return Fe.l=(ze+7)/8|0,Fe.l}return function(Fe,ze){return Fe.length<8?ge(Fe,ze):Re(Fe,ze)}}();function lt(Q){var pe=ia(50+Math.floor(Q.length*1.1)),ce=bt(Q,pe);return pe.slice(0,ce)}var rt=ie?new Uint16Array(32768):He(32768),ir=ie?new Uint16Array(32768):He(32768),St=ie?new Uint16Array(128):He(128),En=1,mr=1;function Xr(Q,pe){var ce=re(Q,pe)+257;pe+=5;var ue=re(Q,pe)+1;pe+=5;var he=Se(Q,pe)+4;pe+=4;for(var ge=0,Re=ie?new Uint8Array(19):He(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Fe=1,ze=ie?new Uint8Array(8):He(8),Ue=ie?new Uint8Array(8):He(8),nt=Re.length,it=0;it<he;++it)Re[z[it]]=ge=Oe(Q,pe),Fe<ge&&(Fe=ge),ze[ge]++,pe+=3;var ht=0;for(ze[0]=0,it=1;it<=Fe;++it)Ue[it]=ht=ht+ze[it-1]<<1;for(it=0;it<nt;++it)(ht=Re[it])!=0&&(Ve[it]=Ue[ht]++);var at=0;for(it=0;it<nt;++it)if(at=Re[it],at!=0){ht=ye[Ve[it]]>>8-at;for(var ft=(1<<7-at)-1;ft>=0;--ft)St[ht|ft<<at]=at&7|it<<3}var Lt=[];for(Fe=1;Lt.length<ce+ue;)switch(ht=St[Me(Q,pe)],pe+=ht&7,ht>>>=3){case 16:for(ge=3+We(Q,pe),pe+=2,ht=Lt[Lt.length-1];ge-- >0;)Lt.push(ht);break;case 17:for(ge=3+Oe(Q,pe),pe+=3;ge-- >0;)Lt.push(0);break;case 18:for(ge=11+Me(Q,pe),pe+=7;ge-- >0;)Lt.push(0);break;default:Lt.push(ht),Fe<ht&&(Fe=ht);break}var Er=Lt.slice(0,ce),Br=Lt.slice(ce);for(it=ce;it<286;++it)Er[it]=0;for(it=ue;it<30;++it)Br[it]=0;return En=Qe(Er,rt,286),mr=Qe(Br,ir,30),pe}function ws(Q,pe){if(Q[0]==3&&!(Q[1]&3))return[Zc(pe),2];for(var ce=0,ue=0,he=tE(pe||1<<18),ge=0,Re=he.length>>>0,Ve=0,Fe=0;!(ue&1);){if(ue=Oe(Q,ce),ce+=3,ue>>>1)ue>>1==1?(Ve=9,Fe=5):(ce=Xr(Q,ce),Ve=En,Fe=mr);else{ce&7&&(ce+=8-(ce&7));var ze=Q[ce>>>3]|Q[(ce>>>3)+1]<<8;if(ce+=32,ze>0)for(!pe&&Re<ge+ze&&(he=je(he,ge+ze),Re=he.length);ze-- >0;)he[ge++]=Q[ce>>>3],ce+=8;continue}for(;;){!pe&&Re<ge+32767&&(he=je(he,ge+32767),Re=he.length);var Ue=oe(Q,ce,Ve),nt=ue>>>1==1?ct[Ue]:rt[Ue];if(ce+=nt&15,nt>>>=4,!(nt>>>8&255))he[ge++]=nt;else{if(nt==256)break;nt-=257;var it=nt<8?0:nt-4>>2;it>5&&(it=0);var ht=ge+q[nt];it>0&&(ht+=oe(Q,ce,it),ce+=it),Ue=oe(Q,ce,Fe),nt=ue>>>1==1?vt[Ue]:ir[Ue],ce+=nt&15,nt>>>=4;var at=nt<4?0:nt-2>>1,ft=se[nt];for(at>0&&(ft+=oe(Q,ce,at),ce+=at),!pe&&Re<ht&&(he=je(he,ht+100),Re=he.length);ge<ht;)he[ge]=he[ge-ft],++ge}}}return pe?[he,ce+7>>>3]:[he.slice(0,ge),ce+7>>>3]}function xr(Q,pe){var ce=Q.slice(Q.l||0),ue=ws(ce,pe);return Q.l+=ue[1],ue[0]}function To(Q,pe){if(Q)typeof console<"u"&&console.error(pe);else throw new Error(pe)}function an(Q,pe){var ce=Q;Ba(ce,0);var ue=[],he=[],ge={FileIndex:ue,FullPaths:he};j(ge,{root:pe.root});for(var Re=ce.length-4;(ce[Re]!=80||ce[Re+1]!=75||ce[Re+2]!=5||ce[Re+3]!=6)&&Re>=0;)--Re;ce.l=Re+4,ce.l+=4;var Ve=ce.read_shift(2);ce.l+=6;var Fe=ce.read_shift(4);for(ce.l=Fe,Re=0;Re<Ve;++Re){ce.l+=20;var ze=ce.read_shift(4),Ue=ce.read_shift(4),nt=ce.read_shift(2),it=ce.read_shift(2),ht=ce.read_shift(2);ce.l+=8;var at=ce.read_shift(4),ft=l(ce.slice(ce.l+nt,ce.l+nt+it));ce.l+=nt+it+ht;var Lt=ce.l;ce.l=at+4,Zi(ce,ze,Ue,ge,ft),ce.l=Lt}return ge}function Zi(Q,pe,ce,ue,he){Q.l+=2;var ge=Q.read_shift(2),Re=Q.read_shift(2),Ve=o(Q);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Fe=Q.read_shift(4),ze=Q.read_shift(4),Ue=Q.read_shift(4),nt=Q.read_shift(2),it=Q.read_shift(2),ht="",at=0;at<nt;++at)ht+=String.fromCharCode(Q[Q.l++]);if(it){var ft=l(Q.slice(Q.l,Q.l+it));(ft[21589]||{}).mt&&(Ve=ft[21589].mt),((he||{})[21589]||{}).mt&&(Ve=he[21589].mt)}Q.l+=it;var Lt=Q.slice(Q.l,Q.l+ze);switch(Re){case 8:Lt=I(Q,Ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var Er=!1;ge&8&&(Fe=Q.read_shift(4),Fe==134695760&&(Fe=Q.read_shift(4),Er=!0),ze=Q.read_shift(4),Ue=Q.read_shift(4)),ze!=pe&&To(Er,"Bad compressed size: "+pe+" != "+ze),Ue!=ce&&To(Er,"Bad uncompressed size: "+ce+" != "+Ue),Di(ue,ht,Lt,{unsafe:!0,mt:Ve})}function Ks(Q,pe){var ce=pe||{},ue=[],he=[],ge=ia(1),Re=ce.compression?8:0,Ve=0,Fe=0,ze=0,Ue=0,nt=0,it=Q.FullPaths[0],ht=it,at=Q.FileIndex[0],ft=[],Lt=0;for(Fe=1;Fe<Q.FullPaths.length;++Fe)if(ht=Q.FullPaths[Fe].slice(it.length),at=Q.FileIndex[Fe],!(!at.size||!at.content||ht=="Sh33tJ5")){var Er=Ue,Br=ia(ht.length);for(ze=0;ze<ht.length;++ze)Br.write_shift(1,ht.charCodeAt(ze)&127);Br=Br.slice(0,Br.l),ft[nt]=qge.buf(at.content,0);var $n=at.content;Re==8&&($n=B($n)),ge=ia(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,Ve),ge.write_shift(2,Re),at.mt?i(ge,at.mt):ge.write_shift(4,0),ge.write_shift(-4,ft[nt]),ge.write_shift(4,$n.length),ge.write_shift(4,at.content.length),ge.write_shift(2,Br.length),ge.write_shift(2,0),Ue+=ge.length,ue.push(ge),Ue+=Br.length,ue.push(Br),Ue+=$n.length,ue.push($n),ge=ia(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,Ve),ge.write_shift(2,Re),ge.write_shift(4,0),ge.write_shift(-4,ft[nt]),ge.write_shift(4,$n.length),ge.write_shift(4,at.content.length),ge.write_shift(2,Br.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,Er),Lt+=ge.l,he.push(ge),Lt+=Br.length,he.push(Br),++nt}return ge=ia(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,nt),ge.write_shift(2,nt),ge.write_shift(4,Lt),ge.write_shift(4,Ue),ge.write_shift(2,0),Fc([Fc(ue),Fc(he),ge])}var Hr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $t(Q,pe){if(Q.ctype)return Q.ctype;var ce=Q.name||"",ue=ce.match(/\.([^\.]+)$/);return ue&&Hr[ue[1]]||pe&&(ue=(ce=pe).match(/[\.\\]([^\.\\])+$/),ue&&Hr[ue[1]])?Hr[ue[1]]:"application/octet-stream"}function wr(Q){for(var pe=eE(Q),ce=[],ue=0;ue<pe.length;ue+=76)ce.push(pe.slice(ue,ue+76));return ce.join(`\r
`)+`\r
`}function xl(Q){var pe=Q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var Ue=ze.charCodeAt(0).toString(16).toUpperCase();return"="+(Ue.length==1?"0"+Ue:Ue)});pe=pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pe.charAt(0)==`
`&&(pe="=0D"+pe.slice(1)),pe=pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],ue=pe.split(`\r
`),he=0;he<ue.length;++he){var ge=ue[he];if(ge.length==0){ce.push("");continue}for(var Re=0;Re<ge.length;){var Ve=76,Fe=ge.slice(Re,Re+Ve);Fe.charAt(Ve-1)=="="?Ve--:Fe.charAt(Ve-2)=="="?Ve-=2:Fe.charAt(Ve-3)=="="&&(Ve-=3),Fe=ge.slice(Re,Re+Ve),Re+=Ve,Re<ge.length&&(Fe+="="),ce.push(Fe)}}return ce.join(`\r
`)}function Qn(Q){for(var pe=[],ce=0;ce<Q.length;++ce){for(var ue=Q[ce];ce<=Q.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+Q[++ce];pe.push(ue)}for(var he=0;he<pe.length;++he)pe[he]=pe[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return go(pe.join(`\r
`))}function _s(Q,pe,ce){for(var ue="",he="",ge="",Re,Ve=0;Ve<10;++Ve){var Fe=pe[Ve];if(!Fe||Fe.match(/^\s*$/))break;var ze=Fe.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":ue=ze[2].trim();break;case"content-type":ge=ze[2].trim();break;case"content-transfer-encoding":he=ze[2].trim();break}}switch(++Ve,he.toLowerCase()){case"base64":Re=go(bs(pe.slice(Ve).join("")));break;case"quoted-printable":Re=Qn(pe.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var Ue=Di(Q,ue.slice(ce.length),Re,{unsafe:!0});ge&&(Ue.ctype=ge)}function Ns(Q,pe){if(W(Q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=pe&&pe.root||"",ue=(lr&&Buffer.isBuffer(Q)?Q.toString("binary"):W(Q)).split(`\r
`),he=0,ge="";for(he=0;he<ue.length;++he)if(ge=ue[he],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),ce||(ce=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),ge.slice(0,ce.length)!=ce););var Re=(ue[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var Ve="--"+(Re[1]||""),Fe=[],ze=[],Ue={FileIndex:Fe,FullPaths:ze};j(Ue);var nt,it=0;for(he=0;he<ue.length;++he){var ht=ue[he];ht!==Ve&&ht!==Ve+"--"||(it++&&_s(Ue,ue.slice(nt,he),ce),nt=he)}return Ue}function Tt(Q,pe){var ce=pe||{},ue=ce.boundary||"SheetJS";ue="------="+ue;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],ge=Q.FullPaths[0],Re=ge,Ve=Q.FileIndex[0],Fe=1;Fe<Q.FullPaths.length;++Fe)if(Re=Q.FullPaths[Fe].slice(ge.length),Ve=Q.FileIndex[Fe],!(!Ve.size||!Ve.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Lt){return"_x"+Lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Lt){return"_u"+Lt.charCodeAt(0).toString(16)+"_"});for(var ze=Ve.content,Ue=lr&&Buffer.isBuffer(ze)?ze.toString("binary"):W(ze),nt=0,it=Math.min(1024,Ue.length),ht=0,at=0;at<=it;++at)(ht=Ue.charCodeAt(at))>=32&&ht<128&&++nt;var ft=nt>=it*4/5;he.push(ue),he.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+Re),he.push("Content-Transfer-Encoding: "+(ft?"quoted-printable":"base64")),he.push("Content-Type: "+$t(Ve,Re)),he.push(""),he.push(ft?xl(Ue):wr(Ue))}return he.push(ue+`--\r
`),he.join(`\r
`)}function Qi(Q){var pe={};return j(pe,Q),pe}function Di(Q,pe,ce,ue){var he=ue&&ue.unsafe;he||j(Q);var ge=!he&&fr.find(Q,pe);if(!ge){var Re=Q.FullPaths[0];pe.slice(0,Re.length)==Re?Re=pe:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+pe).replace("//","/")),ge={name:a(pe),type:2},Q.FileIndex.push(ge),Q.FullPaths.push(Re),he||fr.utils.cfb_gc(Q)}return ge.content=ce,ge.size=ce?ce.length:0,ue&&(ue.CLSID&&(ge.clsid=ue.CLSID),ue.mt&&(ge.mt=ue.mt),ue.ct&&(ge.ct=ue.ct)),ge}function Va(Q,pe){j(Q);var ce=fr.find(Q,pe);if(ce){for(var ue=0;ue<Q.FileIndex.length;++ue)if(Q.FileIndex[ue]==ce)return Q.FileIndex.splice(ue,1),Q.FullPaths.splice(ue,1),!0}return!1}function kn(Q,pe,ce){j(Q);var ue=fr.find(Q,pe);if(ue){for(var he=0;he<Q.FileIndex.length;++he)if(Q.FileIndex[he]==ue)return Q.FileIndex[he].name=a(ce),Q.FullPaths[he]=ce,!0}return!1}function vn(Q){P(Q,!0)}return t.find=k,t.read=N,t.parse=d,t.write=ae,t.writeFile=J,t.utils={cfb_new:Qi,cfb_add:Di,cfb_del:Va,cfb_mov:kn,cfb_gc:vn,ReadShift:_p,CheckField:W7,prep_blob:Ba,bconcat:Fc,use_zlib:O,_deflateRaw:lt,_inflateRaw:xr,consts:V},t}();function Gge(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function sl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function VN(e){for(var t=[],r=sl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Cv=new Date(1899,11,30,0,0,0);function Ii(e,t){var r=e.getTime(),n=Cv.getTime()+(e.getTimezoneOffset()-Cv.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var N7=new Date,Xge=Cv.getTime()+(N7.getTimezoneOffset()-Cv.getTimezoneOffset())*6e4,cE=N7.getTimezoneOffset();function X2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Xge),t.getTimezoneOffset()!==cE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-cE)*6e4),t}function Yge(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var uE=new Date("2017-02-19T19:06:09.000Z"),j7=isNaN(uE.getFullYear())?new Date("2/19/17"):uE,Kge=j7.getFullYear()==2017;function Ta(e,t){var r=new Date(e);if(Kge)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(j7.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function md(e,t){if(lr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return op(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return op(u7(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return op(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return op(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ua(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ua(e[r]));return t}function Sn(e,t){for(var r="";r.length<t;)r+=e;return r}function No(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Jge=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ef(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Jge.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Zge=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}}();function S7(e){return e?e.content&&e.type?md(e.content,!0):e.data?ap(e.data):e.asNodeBuffer&&lr?ap(e.asNodeBuffer().toString("binary")):e.asBinary?ap(e.asBinary()):e._data&&e._data.getContent?ap(md(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function A7(e){if(!e)return null;if(e.data)return Z6(e.data);if(e.asNodeBuffer&&lr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Z6(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Qge(e){return e&&e.name.slice(-4)===".bin"?A7(e):S7(e)}function Rs(e,t){for(var r=e.FullPaths||sl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function qN(e,t){var r=Rs(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Xn(e,t,r){if(!r)return Qge(qN(e,t));if(!t)return null;try{return Xn(e,t)}catch{return null}}function fs(e,t,r){if(!r)return S7(qN(e,t));if(!t)return null;try{return fs(e,t)}catch{return null}}function eve(e,t,r){return A7(qN(e,t))}function dE(e){for(var t=e.FullPaths||sl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function tve(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return lr?n=Ed(r):n=yge(r),fr.utils.cfb_add(e,t,n)}fr.utils.cfb_add(e,t,r)}else e.file(t,r)}function C7(e,t){switch(t.type){case"base64":return fr.read(e,{type:"base64"});case"binary":return fr.read(e,{type:"binary"});case"buffer":case"array":return fr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function sp(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var E7=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,rve=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,fE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,nve=/<[^>]*>/g,di=E7.match(fE)?fE:nve,ave=/<\w*:/,ive=/<(\/?)\w+:/;function Rt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(rve),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function hl(e){return e.replace(ive,"<$1")}var k7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},sve=VN(k7),yr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return k7[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}}(),ove=/[&<>'"]/g,lve=/[\u0000-\u001f]/g;function GN(e){var t=e+"";return t.replace(ove,function(r){return sve[r]}).replace(/\n/g,"<br/>").replace(lve,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var hE=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function dn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ry(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function pE(e){var t=Zc(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function mE(e){return Ed(e,"binary").toString("utf8")}var O1="foo bar bazâð£",tn=lr&&(mE(O1)==Ry(O1)&&mE||pE(O1)==Ry(O1)&&pE)||Ry,op=lr?function(e){return Ed(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Cm=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),T7=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),cve=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),uve=/<\/?(?:vt:)?variant>/g,dve=/<(?:vt:)([^>]*)>([\s\S]*)</;function xE(e,t){var r=Rt(e),n=e.match(cve(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(uve,"").match(dve);o&&a.push({v:tn(o[2]),t:o[1]})}),a}var fve=/(^\s|\s$|\n)/;function hve(e){return sl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function pve(e,t,r){return"<"+e+(r!=null?hve(r):"")+(t!=null?(t.match(fve)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function XN(e){if(lr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return tn(kd(UN(e)));throw new Error("Bad input format: expected Buffer or string")}var Em=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,mve={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},xve=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function gve(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function vve(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var gE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},vE=lr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ed(t)})):gE(e)}:gE,bE=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Rl(e,a)));return n.join("").replace(Ti,"")},YN=lr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ti,""):bE(e,t,r)}:bE,yE=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},O7=lr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):yE(e,t,r)}:yE,wE=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(S0(e,a)));return n.join("")},nx=lr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):wE(t,r,n)}:wE,P7=function(e,t){var r=us(e,t);return r>0?nx(e,t+4,t+4+r-1):""},I7=P7,D7=function(e,t){var r=us(e,t);return r>0?nx(e,t+4,t+4+r-1):""},M7=D7,F7=function(e,t){var r=2*us(e,t);return r>0?nx(e,t+4,t+4+r-1):""},R7=F7,L7=function(t,r){var n=us(t,r);return n>0?YN(t,r+4,r+4+n):""},B7=L7,$7=function(e,t){var r=us(e,t);return r>0?nx(e,t+4,t+4+r):""},z7=$7,U7=function(e,t){return gve(e,t)},Ev=U7,H7=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};lr&&(I7=function(t,r){if(!Buffer.isBuffer(t))return P7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},M7=function(t,r){if(!Buffer.isBuffer(t))return D7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},R7=function(t,r){if(!Buffer.isBuffer(t))return F7(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},B7=function(t,r){if(!Buffer.isBuffer(t))return L7(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},z7=function(t,r){if(!Buffer.isBuffer(t))return $7(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Ev=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):U7(t,r)},H7=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var S0=function(e,t){return e[t]},Rl=function(e,t){return e[t+1]*256+e[t]},bve=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},us=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Fu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},yve=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function _p(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,lr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Rl(this,u)),u+=2;e*=2;break;case"utf8":r=nx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=YN(this,this.l,this.l+e);break;case"wstr":return _p.call(this,e,"dbcs");case"lpstr-ansi":r=I7(this,this.l),e=4+us(this,this.l);break;case"lpstr-cp":r=M7(this,this.l),e=4+us(this,this.l);break;case"lpwstr":r=R7(this,this.l),e=4+2*us(this,this.l);break;case"lpp4":e=4+us(this,this.l),r=B7(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+us(this,this.l),r=z7(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=S0(this,this.l+e++))!==0;)i.push(T1(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Rl(this,this.l+e))!==0;)i.push(T1(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=S0(this,u),this.l=u+1,l=_p.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(T1(Rl(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=S0(this,u),this.l=u+1,l=_p.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(T1(S0(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=S0(this,this.l),this.l++,n;case 2:return n=(t==="i"?bve:Rl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Fu:yve)(this,this.l),this.l+=4,n):(a=us(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Ev(this,this.l):a=Ev([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=O7(this,this.l,e);break}}return this.l+=e,r}var wve=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},_ve=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Nve=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function jve(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Nve(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,wve(this,t,this.l);break;case 8:if(n=8,r==="f"){vve(this,t,this.l);break}case 16:break;case-4:n=4,_ve(this,t,this.l);break}return this.l+=n,this}function W7(e,t){var r=O7(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ba(e,t){e.l=t,e.read_shift=_p,e.chk=W7,e.write_shift=jve}function ui(e,t){e.l+=t}function ia(e){var t=Zc(e);return Ba(t,0),t}function ec(e,t,r){if(e){var n,a,i;Ba(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=Dv[l]||Dv[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function j_(){var e=[],t=lr?256:2048,r=function(u){var d=ia(u);return Ba(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Fc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Np(e,t,r){var n=Ua(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function _E(e,t,r){var n=Ua(e);return n.s=Np(n.s,t.s,r),n.e=Np(n.e,t.s,r),n}function jp(e,t){if(e.cRel&&e.c<0)for(e=Ua(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ua(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Vt(e);return!e.cRel&&e.cRel!=null&&(r=Cve(r)),!e.rRel&&e.rRel!=null&&(r=Sve(r)),r}function Ly(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ha(e.s.c)+":"+(e.e.cRel?"":"$")+ha(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ha(e.s.r)+":"+(e.e.rRel?"":"$")+Ha(e.e.r):jp(e.s,t.biff)+":"+jp(e.e,t.biff)}function KN(e){return parseInt(Ave(e),10)-1}function Ha(e){return""+(e+1)}function Sve(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ave(e){return e.replace(/\$(\d+)$/,"$1")}function JN(e){for(var t=Eve(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ha(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Cve(e){return e.replace(/^([A-Z])/,"$$$1")}function Eve(e){return e.replace(/^\$([A-Z])/,"$1")}function kve(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ei(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Vt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function eh(e){var t=e.indexOf(":");return t==-1?{s:Ei(e),e:Ei(e)}:{s:Ei(e.slice(0,t)),e:Ei(e.slice(t+1))}}function pr(e,t){return typeof t>"u"||typeof t=="number"?pr(e.s,e.e):(typeof e!="string"&&(e=Vt(e)),typeof t!="string"&&(t=Vt(t)),e==t?e:e+":"+t)}function Cn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function NE(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Vs(e.z,r?Ii(t):t)}catch{}try{return e.w=Vs((e.XF||{}).numFmtId||(r?14:0),r?Ii(t):t)}catch{return""+t}}function Xl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Pd[e.v]||e.v:t==null?NE(e,e.v):NE(e,t))}function ou(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function V7(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Ei(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Cn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=o+f,x=l+h;if(u.s.r>m&&(u.s.r=m),u.s.c>x&&(u.s.c=x),u.e.r<m&&(u.e.r=m),u.e.c<x&&(u.e.c=x),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Yt[14],n.cellDates?(p.t="d",p.w=Vs(p.z,Ii(p.v))):(p.t="n",p.v=Ii(p.v),p.w=Vs(p.z,p.v))):p.t="s";if(a)i[m]||(i[m]=[]),i[m][x]&&i[m][x].z&&(p.z=i[m][x].z),i[m][x]=p;else{var g=Vt({c:x,r:m});i[g]&&i[g].z&&(p.z=i[g].z),i[g]=p}}}return u.s.c<1e7&&(i["!ref"]=pr(u)),i}function th(e,t){return V7(null,e,t)}function Tve(e){return e.read_shift(4,"i")}function oi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ove(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ZN(e,t){var r=e.l,n=e.read_shift(1),a=oi(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(Ove(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var Pve=ZN;function Ys(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Td(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Ive=oi;function QN(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Dve=oi,S_=QN;function e3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Ev([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Fu(t,0)>>2;return r?a/100:a}function q7(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Od=q7;function ni(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Mve(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Zu[a];u&&(t.rgb=Tm(u));break;case 2:t.rgb=Tm([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Fve(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function G7(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Rve(e){return G7(e,1)}function Lve(e){return G7(e,2)}var t3=2,Ui=3,P1=11,jE=12,kv=19,I1=64,Bve=65,$ve=71,zve=4108,Uve=4126,Sa=80,X7=81,Hve=[Sa,X7],Wve={1:{n:"CodePage",t:t3},2:{n:"Category",t:Sa},3:{n:"PresentationFormat",t:Sa},4:{n:"ByteCount",t:Ui},5:{n:"LineCount",t:Ui},6:{n:"ParagraphCount",t:Ui},7:{n:"SlideCount",t:Ui},8:{n:"NoteCount",t:Ui},9:{n:"HiddenCount",t:Ui},10:{n:"MultimediaClipCount",t:Ui},11:{n:"ScaleCrop",t:P1},12:{n:"HeadingPairs",t:zve},13:{n:"TitlesOfParts",t:Uve},14:{n:"Manager",t:Sa},15:{n:"Company",t:Sa},16:{n:"LinksUpToDate",t:P1},17:{n:"CharacterCount",t:Ui},19:{n:"SharedDoc",t:P1},22:{n:"HyperlinksChanged",t:P1},23:{n:"AppVersion",t:Ui,p:"version"},24:{n:"DigSig",t:Bve},26:{n:"ContentType",t:Sa},27:{n:"ContentStatus",t:Sa},28:{n:"Language",t:Sa},29:{n:"Version",t:Sa},255:{},2147483648:{n:"Locale",t:kv},2147483651:{n:"Behavior",t:kv},1919054434:{}},Vve={1:{n:"CodePage",t:t3},2:{n:"Title",t:Sa},3:{n:"Subject",t:Sa},4:{n:"Author",t:Sa},5:{n:"Keywords",t:Sa},6:{n:"Comments",t:Sa},7:{n:"Template",t:Sa},8:{n:"LastAuthor",t:Sa},9:{n:"RevNumber",t:Sa},10:{n:"EditTime",t:I1},11:{n:"LastPrinted",t:I1},12:{n:"CreatedDate",t:I1},13:{n:"ModifiedDate",t:I1},14:{n:"PageCount",t:Ui},15:{n:"WordCount",t:Ui},16:{n:"CharCount",t:Ui},17:{n:"Thumbnail",t:$ve},18:{n:"Application",t:Sa},19:{n:"DocSecurity",t:Ui},255:{},2147483648:{n:"Locale",t:kv},2147483651:{n:"Behavior",t:kv},1919054434:{}},SE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},qve=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Gve(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Xve=Gve([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Zu=Ua(Xve),Pd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Y7={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},AE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Yve(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Kve(e){var t=Yve();if(!e||!e.match)return t;var r={};if((e.match(di)||[]).forEach(function(n){var a=Rt(n);switch(a[0].replace(ave,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[AE[a.ContentType]]!==void 0&&t[AE[a.ContentType]].push(a.PartName);break}}),t.xmlns!==mve.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var D0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function A_(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Sp(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(di)||[]).forEach(function(a){var i=Rt(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:sp(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}var Jve="application/vnd.oasis.opendocument.spreadsheet";function Zve(e,t){for(var r=XN(e),n,a;n=Em.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Rt(n[0],!1),a.path=="/"&&a.type!==Jve)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Ap=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Qve=function(){for(var e=new Array(Ap.length),t=0;t<Ap.length;++t){var r=Ap[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function K7(e){var t={};e=tn(e);for(var r=0;r<Ap.length;++r){var n=Ap[r],a=e.match(Qve[r]);a!=null&&a.length>0&&(t[n[1]]=yr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ta(t[n[1]]))}return t}var e2e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function J7(e,t,r,n){var a=[];if(typeof e=="string")a=xE(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?xE(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function t2e(e,t,r){var n={};return t||(t={}),e=tn(e),e2e.forEach(function(a){var i=(e.match(Cm(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=yr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&J7(n.HeadingPairs,n.TitlesOfParts,t,r),t}var r2e=/<[^>]+>[^<]*/g;function n2e(e,t){var r={},n="",a=e.match(r2e);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Rt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=yr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=yr(d);break;case"bool":r[n]=dn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Ta(d);break;case"cy":case"error":r[n]=yr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var a2e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},By;function i2e(e,t,r){By||(By=VN(a2e)),t=By[t]||t,e[t]=r}function r3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Z7(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Q7(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function eM(e,t,r){return t===31?Q7(e):Z7(e,t,r)}function C_(e,t,r){return eM(e,t,r===!1?0:4)}function s2e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return eM(e,t,0)}function o2e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ti,""),e.l-a&2&&(e.l+=2)}return r}function l2e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ti,"");return r}function c2e(e){var t=e.l,r=Tv(e,X7);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Tv(e,Ui);return[r,n]}function u2e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(c2e(e));return r}function CE(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ti,"").replace(ip,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function tM(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function d2e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Tv(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==jE&&n!==t&&Hve.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===jE?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Z7(e,n,4).replace(Ti,"");case 31:return Q7(e);case 64:return r3(e);case 65:return tM(e);case 71:return d2e(e);case 80:return C_(e,n,!i.raw).replace(Ti,"");case 81:return s2e(e,n).replace(Ti,"");case 4108:return u2e(e);case 4126:case 4127:return n==4127?o2e(e):l2e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function EE(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(y,b){return y[1]-b[1]});var h={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var m=t[i[o][0]];if(h[m.n]=Tv(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yo(l=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[o][0]===1){if(l=h.CodePage=Tv(e,t3),yo(l),c!==-1){var x=e.l;e.l=i[c][1],u=CE(e,l),e.l=x}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=CE(e,l)}else{var g=u[i[o][0]],v;switch(e[e.l]){case 65:e.l+=4,v=tM(e);break;case 30:e.l+=4,v=C_(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=C_(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=Dn(e,4);break;case 64:e.l+=4,v=Ta(r3(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=v}}return e.l=r+n,h}function kE(e,t,r){var n=e.content;if(!n)return{};Ba(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==fr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=EE(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var m;try{m=EE(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[i,o],h}function vc(e,t){return e.read_shift(t),null}function f2e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Dn(e,t){return e.read_shift(t)===1}function Yn(e){return e.read_shift(2,"u")}function rM(e,t){return f2e(e,t,Yn)}function h2e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function ax(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function p2e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function xd(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ix(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):xd(e,n,r)}function Id(e,t,r){if(r.biff>5)return ix(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function m2e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function x2e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ti,"");return n&&(e.l+=24),a}function g2e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(Ti,"");return r+o}function v2e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return x2e(e);case"0303000000000000c000000000000046":return g2e(e);default:throw new Error("Unsupported Moniker "+r)}}function D1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ti,""):"";return r}function b2e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=D1(e,r-e.l)),a&128&&(o=D1(e,r-e.l)),(a&257)===257&&(l=D1(e,r-e.l)),(a&257)===1&&(c=v2e(e,r-e.l)),a&8&&(u=D1(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=r3(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function nM(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function aM(e,t){var r=nM(e);return r[3]=0,r}function pl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function y2e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function w2e(e,t,r){return t===0?"":Id(e,t,r)}function _2e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function iM(e){var t=e.read_shift(2),r=e3(e);return[t,r]}function N2e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=ax(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function Y2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function sM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var j2e=sM;function oM(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function S2e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function A2e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Xa(e){e.l+=2,e.l+=e.read_shift(2)}var C2e={0:Xa,4:Xa,5:Xa,6:Xa,7:A2e,8:Xa,9:Xa,10:Xa,11:Xa,12:Xa,13:S2e,14:Xa,15:Xa,16:Xa,17:Xa,18:Xa,19:Xa,20:Xa,21:oM};function E2e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(C2e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function M1(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function k2e(e,t){return t===0||e.read_shift(2),1200}function T2e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Id(e,0,r);return e.read_shift(t+n-e.l),a}function O2e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function P2e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=ax(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function I2e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(p2e(e));return i.Count=n,i.Unique=a,i}function D2e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function M2e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function F2e(e){var t=y2e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function R2e(e){return e.read_shift(2),e.read_shift(4)}function TE(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function L2e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function B2e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function $2e(){}function z2e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=ax(e,0,r),n}function U2e(e){var t=pl(e);return t.isst=e.read_shift(4),t}function H2e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=pl(e);r.biff==2&&e.l++;var i=ix(e,n-e.l,r);return a.val=i,a}function W2e(e,t,r){var n=e.read_shift(2),a=Id(e,0,r);return[n,a]}var V2e=Id;function OE(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function q2e(e){var t=e.read_shift(2),r=e.read_shift(2),n=iM(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function G2e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(iM(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function X2e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function Y2e(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=qve[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function K2e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Y2e(e,t,n.fStyle,r),n}function J2e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function PE(e,t,r){var n=pl(e);(r.biff==2||t==9)&&++e.l;var a=h2e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Z2e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=pl(e),a=ni(e);return n.val=a,n}var IE=w2e;function Q2e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=xd(e,i),l=[];n>e.l;)l.push(ix(e));return[i,a,o,l]}function DE(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=N2e(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var ebe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function ME(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=xd(e,o,r);a&32&&(u=ebe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:M5e(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function lM(e,t,r){if(r.biff<8)return tbe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(_2e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function tbe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ax(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function rbe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=xd(e,n,r),o=xd(e,a,r);return[i,o]}function nbe(e,t,r){var n=sM(e);e.l++;var a=e.read_shift(1);return t-=8,[F5e(e,t,r),a,n]}function FE(e,t,r){var n=j2e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,I5e(e,t,r)]}function abe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function ibe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=Id(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function sbe(e,t,r){return ibe(e,t,r)}function obe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Y2(e));return r}function lbe(e,t,r){if(r&&r.biff<8)return ube(e,t,r);var n=oM(e),a=E2e(e,t-22,n[1]);return{cmo:n,ft:a}}var cbe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function ube(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((cbe[n]||ui)(e,t,r)),{cmo:[a,n,i],ft:o}}function dbe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=m2e(e,6,r);var l=e.read_shift(2);e.read_shift(2),Yn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=xd(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function fbe(e,t){var r=Y2(e);e.l+=16;var n=b2e(e,t-24);return[r,n]}function hbe(e,t){e.read_shift(2);var r=Y2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ti,""),[r,n]}function pbe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=SE[r]||r,r=e.read_shift(2),t[1]=SE[r]||r,t}function mbe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(aM(e));return r}function xbe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(aM(e));return r}function gbe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function cM(e,t,r){if(!r.cellStyles)return ui(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function vbe(e,t){var r={};return t<32||(e.l+=16,r.header=ni(e),r.footer=ni(e),e.l+=2),r}function bbe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var ybe=pl,wbe=rM,_be=ix;function Nbe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function jbe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=pl(e);++e.l;var a=Id(e,t-7,r);return n.t="str",n.val=a,n}function Sbe(e){var t=pl(e);++e.l;var r=ni(e);return t.t="n",t.val=r,t}function Abe(e){var t=pl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Cbe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Ebe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function kbe(e,t,r){var n=e.l+t,a=pl(e),i=e.read_shift(2),o=xd(e,i,r);return e.l=n,a.t="str",a.val=o,a}var Tbe=[2,3,48,49,131,139,140,245],RE=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=VN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Zc(1);switch(c.type){case"base64":d=go(bs(l));break;case"binary":d=go(l);break;case"buffer":case"array":d=l;break}Ba(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,g=521;f==2&&(x=d.read_shift(2)),d.l+=3,f!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(g=d.read_shift(2));var v=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var b=[],_={},S=Math.min(d.length,f==2?521:g-10-(p?264:0)),N=m?32:11;d.l<S&&d[d.l]!=13;)switch(_={},_.name=Mc.utils.decode(y,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!m&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&b.push(_),f!=2&&(d.l+=m?13:14),_.type){case"B":(!p||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var j=0,C=0;for(u[0]=[],C=0;C!=b.length;++C)u[0][C]=b[C].name;for(;x-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++j]=[],C=0,C=0;C!=b.length;++C){var P=d.slice(d.l,d.l+b[C].len);d.l+=b[C].len,Ba(P,0);var M=Mc.utils.decode(y,P);switch(b[C].type){case"C":M.trim().length&&(u[j][C]=M.replace(/\s+$/,""));break;case"D":M.length===8?u[j][C]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):u[j][C]=M;break;case"F":u[j][C]=parseFloat(M.trim());break;case"+":case"I":u[j][C]=m?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[j][C]=!0;break;case"N":case"F":u[j][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][C]="##MEMO##"+(m?parseInt(M.trim(),10):P.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(u[j][C]=+M||0);break;case"@":u[j][C]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[j][C]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[j][C]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][C]=-P.read_shift(-8,"f");break;case"B":if(p&&b[C].len==8){u[j][C]=P.read_shift(8,"f");break}case"G":case"P":P.l+=b[C].len;break;case"0":if(b[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=th(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return ou(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&yo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=j_(),f=D_(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=l["!cols"]||[],x=0,g=0,v=0,y=1;for(x=0;x<h.length;++x){if(((m[x]||{}).DBF||{}).name){h[x]=m[x].DBF.name,++v;continue}if(h[x]!=null){if(++v,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(g=0;g<1024;++g)if(h.indexOf(h[x]+"_"+g)==-1){h[x]+="_"+g;break}}}}var b=Cn(l["!ref"]),_=[],S=[],N=[];for(x=0;x<=b.e.c-b.s.c;++x){var j="",C="",P=0,M=[];for(g=0;g<p.length;++g)p[g][x]!=null&&M.push(p[g][x]);if(M.length==0||h[x]==null){_[x]="?";continue}for(g=0;g<M.length;++g){switch(typeof M[g]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=M[g]instanceof Date?"D":"C";break;default:C="C"}P=Math.max(P,String(M[g]).length),j=j&&j!=C?"C":C}P>250&&(P=250),C=((m[x]||{}).DBF||{}).type,C=="C"&&m[x].DBF.len>P&&(P=m[x].DBF.len),j=="B"&&C=="N"&&(j="N",N[x]=m[x].DBF.dec,P=m[x].DBF.len),S[x]=j=="C"||C=="N"?P:i[j]||0,y+=S[x],_[x]=j}var k=d.next(32);for(k.write_shift(4,318902576),k.write_shift(4,p.length),k.write_shift(2,296+32*v),k.write_shift(2,y),x=0;x<4;++x)k.write_shift(4,0);for(k.write_shift(4,0|(+t[l7]||3)<<8),x=0,g=0;x<h.length;++x)if(h[x]!=null){var E=d.next(32),R=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,R,"sbcs"),E.write_shift(1,_[x]=="?"?"C":_[x],"sbcs"),E.write_shift(4,g),E.write_shift(1,S[x]||i[_[x]]||0),E.write_shift(1,N[x]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),g+=S[x]||i[_[x]]||0}var H=d.next(264);for(H.write_shift(4,13),x=0;x<65;++x)H.write_shift(4,0);for(x=0;x<p.length;++x){var G=d.next(y);for(G.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(_[g]){case"L":G.write_shift(1,p[x][g]==null?63:p[x][g]?84:70);break;case"B":G.write_shift(8,p[x][g]||0,"f");break;case"N":var L="0";for(typeof p[x][g]=="number"&&(L=p[x][g].toFixed(N[g]||0)),v=0;v<S[g]-L.length;++v)G.write_shift(1,32);G.write_shift(1,L,"sbcs");break;case"D":p[x][g]?(G.write_shift(4,("0000"+p[x][g].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(p[x][g].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+p[x][g].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var V=String(p[x][g]!=null?p[x][g]:"").slice(0,S[g]);for(G.write_shift(1,V,"sbcs"),v=0;v<S[g]-V.length;++v)G.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),Obe=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+sl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?Q6(m):m},n=function(h,p,m){var x=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return x==59?h:Q6(x)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(bs(h),p);case"binary":return i(h,p);case"buffer":return i(lr&&Buffer.isBuffer(h)?h.toString("binary"):kd(h),p);case"array":return i(md(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var m=h.split(/[\n\r]+/),x=-1,g=-1,v=0,y=0,b=[],_=[],S=null,N={},j=[],C=[],P=[],M=0,k;for(+p.codepage>=0&&yo(+p.codepage);v!==m.length;++v){M=0;var E=m[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),R=E.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),H=R[0],G;if(E.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&_.push(E.slice(3).replace(/;;/g,";"));break;case"C":var L=!1,V=!1,J=!1,W=!1,ae=-1,ve=-1;for(y=1;y<R.length;++y)switch(R[y].charAt(0)){case"A":break;case"X":g=parseInt(R[y].slice(1))-1,V=!0;break;case"Y":for(x=parseInt(R[y].slice(1))-1,V||(g=0),k=b.length;k<=x;++k)b[k]=[];break;case"K":G=R[y].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(No(G))?isNaN(Ef(G).getDate())||(G=Ta(G)):(G=No(G),S!==null&&Qf(S)&&(G=X2(G))),L=!0;break;case"E":W=!0;var O=q0(R[y].slice(1),{r:x,c:g});b[x][g]=[b[x][g],O];break;case"S":J=!0,b[x][g]=[b[x][g],"S5S"];break;case"G":break;case"R":ae=parseInt(R[y].slice(1))-1;break;case"C":ve=parseInt(R[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}if(L&&(b[x][g]&&b[x][g].length==2?b[x][g][0]=G:b[x][g]=G,S=null),J){if(W)throw new Error("SYLK shared formula cannot have own formula");var I=ae>-1&&b[ae][ve];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");b[x][g][1]=bM(I[1],{r:x-ae,c:g-ve})}break;case"F":var B=0;for(y=1;y<R.length;++y)switch(R[y].charAt(0)){case"X":g=parseInt(R[y].slice(1))-1,++B;break;case"Y":for(x=parseInt(R[y].slice(1))-1,k=b.length;k<=x;++k)b[k]=[];break;case"M":M=parseInt(R[y].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(R[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=R[y].slice(1).split(" "),k=parseInt(P[0],10);k<=parseInt(P[1],10);++k)M=parseInt(P[2],10),C[k-1]=M===0?{hidden:!0}:{wch:M},kf(C[k-1]);break;case"C":g=parseInt(R[y].slice(1))-1,C[g]||(C[g]={});break;case"R":x=parseInt(R[y].slice(1))-1,j[x]||(j[x]={}),M>0?(j[x].hpt=M,j[x].hpx=Om(M)):M===0&&(j[x].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}B<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}}return j.length>0&&(N["!rows"]=j),C.length>0&&(N["!cols"]=C),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,N]}function o(h,p){var m=a(h,p),x=m[0],g=m[1],v=th(x,p);return sl(g).forEach(function(y){v[y]=g[y]}),v}function l(h,p){return ou(o(h,p),p)}function c(h,p,m,x){var g="C;Y"+(m+1)+";X"+(x+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+gwe(h.f,{r:m,c:x}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,p){p.forEach(function(m,x){var g="F;W"+(x+1)+" "+(x+1)+" ";m.hidden?g+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=Pv(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=Iv(m.wpx)),typeof m.wch=="number"&&(g+=Math.round(m.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,p){p.forEach(function(m,x){var g="F;";m.hidden?g+="M0;":m.hpt?g+="M"+20*m.hpt+";":m.hpx&&(g+="M"+20*xM(m.hpx)+";"),g.length>2&&h.push(g+"R"+(x+1))})}function f(h,p){var m=["ID;PWXL;N;E"],x=[],g=Cn(h["!ref"]),v,y=Array.isArray(h),b=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&u(m,h["!cols"]),h["!rows"]&&d(m,h["!rows"]),m.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var _=g.s.r;_<=g.e.r;++_)for(var S=g.s.c;S<=g.e.c;++S){var N=Vt({r:_,c:S});v=y?(h[_]||[])[S]:h[N],!(!v||v.v==null&&(!v.f||v.F))&&x.push(c(v,h,_,S))}return m.join(b)+b+x.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),Pbe=function(){function e(i,o){switch(o.type){case"base64":return t(bs(i),o);case"binary":return t(i,o);case"buffer":return t(lr&&Buffer.isBuffer(i)?i.toString("binary"):kd(i),o);case"array":return t(md(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],m=h[1];++d;for(var x=l[d]||"";(x.match(/["]/g)||[]).length&1&&d<l.length-1;)x+=`
`+l[++d];switch(x=x.trim(),+p){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN(No(m))?isNaN(Ef(m).getDate())?f[c][u]=m:f[c][u]=Ta(m):f[c][u]=No(m),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return th(e(i,o),o)}function n(i,o){return ou(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Cn(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var x=Vt({r:p,c:m});if(f=h?(c[p]||[])[m]:c[x],!f){o(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Vs(f.z||Yt[14],Ii(Ta(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var v=`\r
`,y=u.join(v);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Ibe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,x=-1,g=0,v=[];g!==p.length;++g){var y=p[g].trim().split(":");if(y[0]==="cell"){var b=Ei(y[1]);if(v.length<=b.r)for(m=v.length;m<=b.r;++m)v[m]||(v[m]=[]);switch(m=b.r,x=b.c,y[2]){case"t":v[m][x]=e(y[3]);break;case"v":v[m][x]=+y[3];break;case"vtf":var _=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[m][x]=!!+y[4];break;default:v[m][x]=+y[4];break}y[2]=="vtf"&&(v[m][x]=[v[m][x],_])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return th(r(f,h),h)}function a(f,h){return ou(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,x="",g=eh(f["!ref"]),v=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var b=g.s.c;b<=g.e.c;++b)if(x=Vt({r:y,c:b}),m=v?(f[y]||[])[b]:f[x],!(!m||m.v==null||m.t==="z")){switch(p=["cell",x,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var _=Ii(Ta(m.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=m.w||Vs(m.z||Yt[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),km=function(){function e(d,f,h,p,m){m.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(No(d))?isNaN(Ef(d).getDate())?f[h][p]=d:f[h][p]=Ta(d):f[h][p]=No(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),x=m.length-1;x>=0&&m[x].length===0;)--x;for(var g=10,v=0,y=0;y<=x;++y)v=m[y].indexOf(" "),v==-1?v=m[y].length:v++,g=Math.max(g,v);for(y=0;y<=x;++y){p[y]=[];var b=0;for(e(m[y].slice(0,g).trim(),p,y,b,h),b=1;b<=(m[y].length-g)/10+1;++b)e(m[y].slice(g+(b-1)*10,g+b*10).trim(),p,y,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(x,g){return x[0]-g[0]||n[x[1]]-n[g[1]]}),r[m.pop()[1]]||44}function i(d,f){var h=f||{},p="",m=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var g=0,v=0,y=0,b=0,_=0,S=p.charCodeAt(0),N=!1,j=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=h.dateNF!=null?Wge(h.dateNF):null;function M(){var k=d.slice(b,_),E={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)E.t="z";else if(h.raw)E.t="s",E.v=k;else if(k.trim().length===0)E.t="s",E.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(E.t="s",E.v=k.slice(2,-1).replace(/""/g,'"')):bwe(k)?(E.t="n",E.f=k.slice(1)):(E.t="s",E.v=k);else if(k=="TRUE")E.t="b",E.v=!0;else if(k=="FALSE")E.t="b",E.v=!1;else if(!isNaN(y=No(k)))E.t="n",h.cellText!==!1&&(E.w=k),E.v=y;else if(!isNaN(Ef(k).getDate())||P&&k.match(P)){E.z=h.dateNF||Yt[14];var R=0;P&&k.match(P)&&(k=Vge(k,h.dateNF,k.match(P)||[]),R=1),h.cellDates?(E.t="d",E.v=Ta(k,R)):(E.t="n",E.v=Ii(Ta(k,R))),h.cellText!==!1&&(E.w=Vs(E.z,E.v instanceof Date?Ii(E.v):E.v)),h.cellNF||delete E.z}else E.t="s",E.v=k;if(E.t=="z"||(h.dense?(m[g]||(m[g]=[]),m[g][v]=E):m[Vt({c:v,r:g})]=E),b=_+1,C=d.charCodeAt(b),x.e.c<v&&(x.e.c=v),x.e.r<g&&(x.e.r=g),j==S)++v;else if(v=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;_<d.length;++_)switch(j=d.charCodeAt(_)){case 34:C===34&&(N=!N);break;case S:case 10:case 13:if(!N&&M())break e;break}return _-b>0&&M(),m["!ref"]=pr(x),m}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):th(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:u3(d,f);switch(f.type){case"base64":h=bs(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Mc<"u"?h=Mc.utils.decode(f.codepage,d):h=lr&&Buffer.isBuffer(d)?d.toString("binary"):kd(d);break;case"array":h=md(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=tn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=tn(h):f.type=="binary"&&typeof Mc<"u"&&f.codepage&&(h=Mc.utils.decode(f.codepage,Mc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?Ibe.to_sheet(f.type=="string"?h:tn(h),f):o(h,f)}function c(d,f){return ou(l(d,f),f)}function u(d){for(var f=[],h=Cn(d["!ref"]),p,m=Array.isArray(d),x=h.s.r;x<=h.e.r;++x){for(var g=[],v=h.s.c;v<=h.e.c;++v){var y=Vt({r:x,c:v});if(p=m?(d[x]||[])[v]:d[y],!p||p.v==null){g.push("          ");continue}for(var b=(p.w||(Xl(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";g.push(b+(v===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function Dbe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Obe.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return km.to_workbook(e,t)}}var Cp=function(){function e(O,I,B){if(O){Ba(O,O.l||0);for(var z=B.Enum||ae;O.l<O.length;){var q=O.read_shift(2),se=z[q]||z[65535],xe=O.read_shift(2),ie=O.l+xe,ye=se.f&&se.f(O,xe,B);if(O.l=ie,I(ye,se,q))return}}}function t(O,I){switch(I.type){case"base64":return r(go(bs(O)),I);case"binary":return r(go(O),I);case"buffer":case"array":return r(O,I)}throw"Unsupported type "+I.type}function r(O,I){if(!O)return O;var B=I||{},z=B.dense?[]:{},q="Sheet1",se="",xe=0,ie={},ye=[],Te=[],X={s:{r:0,c:0},e:{r:0,c:0}},We=B.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)B.Enum=ae,e(O,function(Me,oe,me){switch(me){case 0:B.vers=Me,Me>=4096&&(B.qpro=!0);break;case 6:X=Me;break;case 204:Me&&(se=Me);break;case 222:se=Me;break;case 15:case 51:B.qpro||(Me[1].v=Me[1].v.slice(1));case 13:case 14:case 16:me==14&&(Me[2]&112)==112&&(Me[2]&15)>1&&(Me[2]&15)<15&&(Me[1].z=B.dateNF||Yt[14],B.cellDates&&(Me[1].t="d",Me[1].v=X2(Me[1].v))),B.qpro&&Me[3]>xe&&(z["!ref"]=pr(X),ie[q]=z,ye.push(q),z=B.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},xe=Me[3],q=se||"Sheet"+(xe+1),se="");var _e=B.dense?(z[Me[0].r]||[])[Me[0].c]:z[Vt(Me[0])];if(_e){_e.t=Me[1].t,_e.v=Me[1].v,Me[1].z!=null&&(_e.z=Me[1].z),Me[1].f!=null&&(_e.f=Me[1].f);break}B.dense?(z[Me[0].r]||(z[Me[0].r]=[]),z[Me[0].r][Me[0].c]=Me[1]):z[Vt(Me[0])]=Me[1];break}},B);else if(O[2]==26||O[2]==14)B.Enum=ve,O[2]==14&&(B.qpro=!0,O.l=0),e(O,function(Me,oe,me){switch(me){case 204:q=Me;break;case 22:Me[1].v=Me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Me[3]>xe&&(z["!ref"]=pr(X),ie[q]=z,ye.push(q),z=B.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},xe=Me[3],q="Sheet"+(xe+1)),We>0&&Me[0].r>=We)break;B.dense?(z[Me[0].r]||(z[Me[0].r]=[]),z[Me[0].r][Me[0].c]=Me[1]):z[Vt(Me[0])]=Me[1],X.e.c<Me[0].c&&(X.e.c=Me[0].c),X.e.r<Me[0].r&&(X.e.r=Me[0].r);break;case 27:Me[14e3]&&(Te[Me[14e3][0]]=Me[14e3][1]);break;case 1537:Te[Me[0]]=Me[1],Me[0]==xe&&(q=Me[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(z["!ref"]=pr(X),ie[se||q]=z,ye.push(se||q),!Te.length)return{SheetNames:ye,Sheets:ie};for(var Oe={},Se=[],re=0;re<Te.length;++re)ie[ye[re]]?(Se.push(Te[re]||ye[re]),Oe[Te[re]]=ie[Te[re]]||ie[ye[re]]):(Se.push(Te[re]),Oe[Te[re]]={"!ref":"A1"});return{SheetNames:Se,Sheets:Oe}}function n(O,I){var B=I||{};if(+B.codepage>=0&&yo(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=j_(),q=Cn(O["!ref"]),se=Array.isArray(O),xe=[];so(z,0,i(1030)),so(z,6,c(q));for(var ie=Math.min(q.e.r,8191),ye=q.s.r;ye<=ie;++ye)for(var Te=Ha(ye),X=q.s.c;X<=q.e.c;++X){ye===q.s.r&&(xe[X]=ha(X));var We=xe[X]+Te,Oe=se?(O[ye]||[])[X]:O[We];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")(Oe.v|0)==Oe.v&&Oe.v>=-32768&&Oe.v<=32767?so(z,13,p(ye,X,Oe.v)):so(z,14,x(ye,X,Oe.v));else{var Se=Xl(Oe);so(z,15,f(ye,X,Se.slice(0,239)))}}return so(z,1),z.end()}function a(O,I){var B=I||{};if(+B.codepage>=0&&yo(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=j_();so(z,0,o(O));for(var q=0,se=0;q<O.SheetNames.length;++q)(O.Sheets[O.SheetNames[q]]||{})["!ref"]&&so(z,27,W(O.SheetNames[q],se++));var xe=0;for(q=0;q<O.SheetNames.length;++q){var ie=O.Sheets[O.SheetNames[q]];if(!(!ie||!ie["!ref"])){for(var ye=Cn(ie["!ref"]),Te=Array.isArray(ie),X=[],We=Math.min(ye.e.r,8191),Oe=ye.s.r;Oe<=We;++Oe)for(var Se=Ha(Oe),re=ye.s.c;re<=ye.e.c;++re){Oe===ye.s.r&&(X[re]=ha(re));var Me=X[re]+Se,oe=Te?(ie[Oe]||[])[re]:ie[Me];if(!(!oe||oe.t=="z"))if(oe.t=="n")so(z,23,M(Oe,re,xe,oe.v));else{var me=Xl(oe);so(z,22,j(Oe,re,xe,me.slice(0,239)))}}++xe}}return so(z,1),z.end()}function i(O){var I=ia(2);return I.write_shift(2,O),I}function o(O){var I=ia(26);I.write_shift(2,4096),I.write_shift(2,4),I.write_shift(4,0);for(var B=0,z=0,q=0,se=0;se<O.SheetNames.length;++se){var xe=O.SheetNames[se],ie=O.Sheets[xe];if(!(!ie||!ie["!ref"])){++q;var ye=eh(ie["!ref"]);B<ye.e.r&&(B=ye.e.r),z<ye.e.c&&(z=ye.e.c)}}return B>8191&&(B=8191),I.write_shift(2,B),I.write_shift(1,q),I.write_shift(1,z),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(1,1),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(4,0),I}function l(O,I,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return I==8&&B.qpro?(z.s.c=O.read_shift(1),O.l++,z.s.r=O.read_shift(2),z.e.c=O.read_shift(1),O.l++,z.e.r=O.read_shift(2),z):(z.s.c=O.read_shift(2),z.s.r=O.read_shift(2),I==12&&B.qpro&&(O.l+=2),z.e.c=O.read_shift(2),z.e.r=O.read_shift(2),I==12&&B.qpro&&(O.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(O){var I=ia(8);return I.write_shift(2,O.s.c),I.write_shift(2,O.s.r),I.write_shift(2,O.e.c),I.write_shift(2,O.e.r),I}function u(O,I,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=O.read_shift(1),z[3]=O.read_shift(1),z[0].r=O.read_shift(2),O.l+=2):(z[2]=O.read_shift(1),z[0].c=O.read_shift(2),z[0].r=O.read_shift(2)),z}function d(O,I,B){var z=O.l+I,q=u(O,I,B);if(q[1].t="s",B.vers==20768){O.l++;var se=O.read_shift(1);return q[1].v=O.read_shift(se,"utf8"),q}return B.qpro&&O.l++,q[1].v=O.read_shift(z-O.l,"cstr"),q}function f(O,I,B){var z=ia(7+B.length);z.write_shift(1,255),z.write_shift(2,I),z.write_shift(2,O),z.write_shift(1,39);for(var q=0;q<z.length;++q){var se=B.charCodeAt(q);z.write_shift(1,se>=128?95:se)}return z.write_shift(1,0),z}function h(O,I,B){var z=u(O,I,B);return z[1].v=O.read_shift(2,"i"),z}function p(O,I,B){var z=ia(7);return z.write_shift(1,255),z.write_shift(2,I),z.write_shift(2,O),z.write_shift(2,B,"i"),z}function m(O,I,B){var z=u(O,I,B);return z[1].v=O.read_shift(8,"f"),z}function x(O,I,B){var z=ia(13);return z.write_shift(1,255),z.write_shift(2,I),z.write_shift(2,O),z.write_shift(8,B,"f"),z}function g(O,I,B){var z=O.l+I,q=u(O,I,B);if(q[1].v=O.read_shift(8,"f"),B.qpro)O.l=z;else{var se=O.read_shift(2);_(O.slice(O.l,O.l+se),q),O.l+=se}return q}function v(O,I,B){var z=I&32768;return I&=-32769,I=(z?O:0)+(I>=8192?I-16384:I),(z?"":"$")+(B?ha(I):Ha(I))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(O,I){Ba(O,0);for(var B=[],z=0,q="",se="",xe="",ie="";O.l<O.length;){var ye=O[O.l++];switch(ye){case 0:B.push(O.read_shift(8,"f"));break;case 1:se=v(I[0].c,O.read_shift(2),!0),q=v(I[0].r,O.read_shift(2),!1),B.push(se+q);break;case 2:{var Te=v(I[0].c,O.read_shift(2),!0),X=v(I[0].r,O.read_shift(2),!1);se=v(I[0].c,O.read_shift(2),!0),q=v(I[0].r,O.read_shift(2),!1),B.push(Te+X+":"+se+q)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(O.read_shift(2));break;case 6:{for(var We="";ye=O[O.l++];)We+=String.fromCharCode(ye);B.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:ie=B.pop(),xe=B.pop(),B.push(["AND","OR"][ye-20]+"("+xe+","+ie+")");break;default:if(ye<32&&b[ye])ie=B.pop(),xe=B.pop(),B.push(xe+b[ye]+ie);else if(y[ye]){if(z=y[ye][1],z==69&&(z=O[O.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+B.join("|")+"|");return}var Oe=B.slice(-z);B.length-=z,B.push(y[ye][0]+"("+Oe.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}B.length==1?I[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function S(O){var I=[{c:0,r:0},{t:"n",v:0},0];return I[0].r=O.read_shift(2),I[3]=O[O.l++],I[0].c=O[O.l++],I}function N(O,I){var B=S(O);return B[1].t="s",B[1].v=O.read_shift(I-4,"cstr"),B}function j(O,I,B,z){var q=ia(6+z.length);q.write_shift(2,O),q.write_shift(1,B),q.write_shift(1,I),q.write_shift(1,39);for(var se=0;se<z.length;++se){var xe=z.charCodeAt(se);q.write_shift(1,xe>=128?95:xe)}return q.write_shift(1,0),q}function C(O,I){var B=S(O);B[1].v=O.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function P(O,I){var B=S(O),z=O.read_shift(4),q=O.read_shift(4),se=O.read_shift(2);if(se==65535)return z===0&&q===3221225472?(B[1].t="e",B[1].v=15):z===0&&q===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var xe=se&32768;return se=(se&32767)-16446,B[1].v=(1-xe*2)*(q*Math.pow(2,se+32)+z*Math.pow(2,se)),B}function M(O,I,B,z){var q=ia(14);if(q.write_shift(2,O),q.write_shift(1,B),q.write_shift(1,I),z==0)return q.write_shift(4,0),q.write_shift(4,0),q.write_shift(2,65535),q;var se=0,xe=0,ie=0,ye=0;return z<0&&(se=1,z=-z),xe=Math.log2(z)|0,z/=Math.pow(2,xe-31),ye=z>>>0,ye&2147483648||(z/=2,++xe,ye=z>>>0),z-=ye,ye|=2147483648,ye>>>=0,z*=Math.pow(2,32),ie=z>>>0,q.write_shift(4,ie),q.write_shift(4,ye),xe+=16383+(se?32768:0),q.write_shift(2,xe),q}function k(O,I){var B=P(O);return O.l+=I-14,B}function E(O,I){var B=S(O),z=O.read_shift(4);return B[1].v=z>>6,B}function R(O,I){var B=S(O),z=O.read_shift(8,"f");return B[1].v=z,B}function H(O,I){var B=R(O);return O.l+=I-10,B}function G(O,I){return O[O.l+I-1]==0?O.read_shift(I,"cstr"):""}function L(O,I){var B=O[O.l++];B>I-1&&(B=I-1);for(var z="";z.length<B;)z+=String.fromCharCode(O[O.l++]);return z}function V(O,I,B){if(!(!B.qpro||I<21)){var z=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var q=O.read_shift(I-21,"cstr");return[z,q]}}function J(O,I){for(var B={},z=O.l+I;O.l<z;){var q=O.read_shift(2);if(q==14e3){for(B[q]=[0,""],B[q][0]=O.read_shift(2);O[O.l];)B[q][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return B}function W(O,I){var B=ia(5+O.length);B.write_shift(2,14e3),B.write_shift(2,I);for(var z=0;z<O.length;++z){var q=O.charCodeAt(z);B[B.l++]=q>127?95:q}return B[B.l++]=0,B}var ae={0:{n:"BOF",f:Yn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:L},65535:{n:""}},ve={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Mbe(e){var t={},r=e.match(di),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Rt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=$N[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Fbe=function(){var e=Cm("t"),t=Cm("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:yr(o[1])},c=i.match(t);return c&&(l.s=Mbe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),Rbe=function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),Lbe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Bbe=/<(?:\w+:)?r>/,$be=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function n3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=yr(tn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=tn(e),r&&(n.h=GN(n.t))):e.match(Bbe)&&(n.r=tn(e),n.t=yr(tn((e.replace($be,"").match(Lbe)||[]).join("").replace(di,""))),r&&(n.h=Rbe(Fbe(n.r)))),n):{t:""}}var zbe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Ube=/<(?:\w+:)?(?:si|sstItem)>/g,Hbe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Wbe(e,t){var r=[],n="";if(!e)return r;var a=e.match(zbe);if(a){n=a[2].replace(Ube,"").split(Hbe);for(var i=0;i!=n.length;++i){var o=n3(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=Rt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Vbe(e){return[e.read_shift(4),e.read_shift(4)]}function qbe(e,t){var r=[],n=!1;return ec(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function uM(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Hl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Gbe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Hl(e,4),t.U=Hl(e,4),t.W=Hl(e,4),t}function Xbe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Ybe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Xbe(e));return t}function Kbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Jbe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Hl(e,4),t.U=Hl(e,4),t.W=Hl(e,4),t}function Zbe(e){var t=Jbe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function dM(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function fM(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Qbe(e){var t=Hl(e);switch(t.Minor){case 2:return[t.Minor,eye(e)];case 3:return[t.Minor,tye()];case 4:return[t.Minor,rye(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function eye(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=dM(e,r),a=fM(e,e.length-e.l);return{t:"Std",h:n,v:a}}function tye(){throw new Error("File is password-protected: ECMA-376 Extensible")}function rye(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(di,function(i){var o=Rt(i);switch(hl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function nye(e,t){var r={},n=r.EncryptionVersionInfo=Hl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=dM(e,a),t-=a,r.EncryptionVerifier=fM(e,t),r}function aye(e){var t={},r=t.EncryptionVersionInfo=Hl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function iye(e){var t=0,r,n=uM(e),a=n.length+1,i,o,l,c,u;for(r=Zc(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var hM=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=uM(o),c=i(l),u=l.length,d=Zc(16),f=0;f!=16;++f)d[f]=0;var h,p,m;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=l[l.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,m=15-l.length;m>0;)h=c>>8,d[u]=a(e[m],h),--u,--m,h=c&255,d[u]=a(l[u],h),--u,--m;return d}}(),sye=function(e,t,r,n,a){a||(a=t),n||(n=hM(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},oye=function(e){var t=0,r=hM(e);return function(n){var a=sye("",n,t,r);return t=a[1],a[0]}};function lye(e,t,r,n){var a={key:Yn(e),verificationBytes:Yn(e)};return r.password&&(a.verifier=iye(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=oye(r.password)),a}function cye(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=aye(e):n.Data=nye(e,t),n}function uye(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?cye(e,t-2,n):lye(e,r.biff>=8?t:t-2,r,n),n}var dye=function(){function e(a,i){switch(i.type){case"base64":return t(bs(a),i);case"binary":return t(a,i);case"buffer":return t(lr&&Buffer.isBuffer(a)?a.toString("binary"):kd(a),i);case"array":return t(md(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,m,x=-1;m=h.exec(d);){switch(m[0]){case"\\cell":var g=d.slice(p,h.lastIndex-m[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var v={v:g,t:"s"};Array.isArray(l)?l[f][x]=v:l[Vt({r:f,c:x})]=v}break}p=h.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=pr(u),l}function r(a,i){return ou(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Cn(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Vt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Xl(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function fye(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Tm(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function hye(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function pye(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function Ov(e,t){if(t===0)return e;var r=hye(fye(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Tm(pye(r))}var pM=6,mye=15,xye=1,ji=pM;function Pv(e){return Math.floor((e+Math.round(128/ji)/256)*ji)}function Iv(e){return Math.floor((e-5)/ji*100+.5)/100}function E_(e){return Math.round((e*ji+5)/ji*256)/256}function $y(e){return E_(Iv(Pv(e)))}function a3(e){var t=Math.abs(e-$y(e)),r=ji;if(t>.005)for(ji=xye;ji<mye;++ji)Math.abs(e-$y(e))<=t&&(t=Math.abs(e-$y(e)),r=ji);ji=r}function kf(e){e.width?(e.wpx=Pv(e.width),e.wch=Iv(e.wpx),e.MDW=ji):e.wpx?(e.wch=Iv(e.wpx),e.width=E_(e.wch),e.MDW=ji):typeof e.wch=="number"&&(e.width=E_(e.wch),e.wpx=Pv(e.width),e.MDW=ji),e.customWidth&&delete e.customWidth}var gye=96,mM=gye;function xM(e){return e*96/mM}function Om(e){return e*mM/96}var vye={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function bye(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(di)||[]).forEach(function(o){var l=Rt(o);switch(hl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=dn(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=dn(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function yye(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(di)||[]).forEach(function(o){var l=Rt(o);switch(hl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function wye(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(di)||[]).forEach(function(o){var l=Rt(o);switch(hl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=tn(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?dn(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?dn(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?dn(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?dn(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?dn(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?dn(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?dn(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=$N[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=dn(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Zu[a.color.index];a.color.index==81&&(c=Zu[1]),c||(c=Zu[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Ov(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function _ye(e,t,r){t.NumberFmt=[];for(var n=sl(Yt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Yt[n[a]];var i=e[0].match(di);if(i)for(a=0;a<i.length;++a){var o=Rt(i[a]);switch(hl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=yr(tn(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Ju(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var F1=["numFmtId","fillId","fontId","borderId","xfId"],R1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Nye(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(di)||[]).forEach(function(i){var o=Rt(i),l=0;switch(hl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<F1.length;++l)n[F1[l]]&&(n[F1[l]]=parseInt(n[F1[l]],10));for(l=0;l<R1.length;++l)n[R1[l]]&&(n[R1[l]]=dn(n[R1[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=dn(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var jye=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&_ye(f,d,u),(f=l.match(a))&&wye(f,d,c,u),(f=l.match(n))&&yye(f,d,c,u),(f=l.match(i))&&bye(f,d,c,u),(f=l.match(r))&&Nye(f,d,u),d}}();function Sye(e,t){var r=e.read_shift(2),n=oi(e);return[r,n]}function Aye(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Fve(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Mve(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=oi(e),n}var Cye=ui;function Eye(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var kye=ui;function Tye(e,t,r){var n={};n.NumberFmt=[];for(var a in Yt)n.NumberFmt[a]=Yt[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return ec(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Ju(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Ov(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Oye=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Pye(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(di)||[]).forEach(function(a){var i=Rt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Oye.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Iye(){}function Dye(){}var Mye=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Fye=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Rye=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Lye(e,t,r){t.themeElements={};var n;[["clrScheme",Mye,Pye],["fontScheme",Fye,Iye],["fmtScheme",Rye,Dye]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Bye=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function gM(e,t){(!e||e.length===0)&&(e=$ye());var r,n={};if(!(r=e.match(Bye)))throw new Error("themeElements not found in theme");return Lye(r[0],n,t),n.raw=e,n}function $ye(e,t){var r=[E7];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function zye(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=C7(i,{type:"array"})}catch{return}var l=fs(o,"theme/theme/theme1.xml",!0);if(l)return gM(l,r)}}function Uye(e){return e.read_shift(4)}function Hye(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Wye(e,4);break;case 2:t.xclrValue=nM(e);break;case 3:t.xclrValue=Uye(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Wye(e,t){return ui(e,t)}function Vye(e,t){return ui(e,t)}function qye(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Hye(e);break;case 6:n[1]=Vye(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Gye(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(qye(e,r-e.l));return{ixfe:n,ext:i}}function Xye(e,t){t.forEach(function(r){switch(r[0]){}})}function Yye(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:oi(e)}}function Kye(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Jye(e){return e.l+=4,e.read_shift(4)!=0}function Zye(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return ec(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function Qye(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(di,function(l){var c=Rt(l);switch(hl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function ewe(e){var t=[];if(!e)return t;var r=1;return(e.match(di)||[]).forEach(function(n){var a=Rt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function twe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Vt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function rwe(e,t,r){var n=[];return ec(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function nwe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;ec(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function awe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function LE(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=Ei(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Cn(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=pr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function iwe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Rt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Ei(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&n3(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function swe(e,t){var r=[],n=!1,a={},i=0;return e.replace(di,function(l,c){var u=Rt(l);switch(hl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function owe(e,t){var r=[],n=!1;return e.replace(di,function(i){var o=Rt(i);switch(hl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function lwe(e){var t={};t.iauthor=e.read_shift(4);var r=Od(e);return t.rfx=r.s,t.ref=Vt(r.s),e.l+=16,t}var cwe=oi;function uwe(e,t){var r=[],n=[],a={},i=!1;return ec(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var dwe="application/vnd.ms-office.vbaProject";function fwe(e){var t=fr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");fr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),fr.write(t)}function hwe(){return{"!type":"dialog"}}function pwe(){return{"!type":"dialog"}}function mwe(){return{"!type":"macro"}}function xwe(){return{"!type":"macro"}}var q0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+ha(d)+(c?"":"$")+Ha(u)}return function(a,i){return t=i,a.replace(e,r)}}(),vM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,gwe=function(){return function(t,r){return t.replace(vM,function(n,a,i,o,l,c){var u=JN(o)-(i?0:r.c),d=KN(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function bM(e,t){return e.replace(vM,function(r,n,a,i,o,l){return n+(a=="$"?a+i:ha(JN(i)+t.c))+(o=="$"?o+l:Ha(KN(l)+t.r))})}function vwe(e,t,r){var n=eh(t),a=n.s,i=Ei(r),o={r:i.r-a.r,c:i.c-a.c};return bM(e,o)}function bwe(e){return e.length!=1}function BE(e){return e.replace(/_xlfn\./g,"")}function Vn(e){e.l+=1}function Qc(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function yM(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return wM(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Qc(e),l=Qc(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function wM(e){var t=Qc(e),r=Qc(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function ywe(e,t,r){if(r.biff<8)return wM(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Qc(e),o=Qc(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function _M(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return wwe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Qc(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function wwe(e){var t=Qc(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function _we(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Nwe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return jwe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function jwe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Swe(e,t,r){var n=(e[e.l++]&96)>>5,a=yM(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Awe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=yM(e,i,r);return[n,a,o]}function Cwe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Ewe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function kwe(e,t,r){var n=(e[e.l++]&96)>>5,a=ywe(e,t-1,r);return[n,a]}function Twe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function $E(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Owe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Pwe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Iwe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Dwe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Mwe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function NM(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Fwe(e){return e.read_shift(2),NM(e)}function Rwe(e){return e.read_shift(2),NM(e)}function Lwe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=_M(e,0,r);return[n,a]}function Bwe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Nwe(e,0,r);return[n,a]}function $we(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=_M(e,0,r);return[n,a,i]}function zwe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[U5e[a],AM[a],n]}function Uwe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Hwe(e);return[a,(i[0]===0?AM:z5e)[i[1]]]}function Hwe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Wwe(e,t,r){e.l+=r&&r.biff==2?3:4}function Vwe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function qwe(e){return e.l++,Pd[e.read_shift(1)]}function Gwe(e){return e.l++,e.read_shift(2)}function Xwe(e){return e.l++,e.read_shift(1)!==0}function Ywe(e){return e.l++,ni(e)}function Kwe(e,t,r){return e.l++,ax(e,t-1,r)}function Jwe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Dn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Pd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ni(e);break;case 2:r[1]=Id(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Zwe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Od:Y2)(e));return a}function Qwe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=Jwe(e,r.biff);return o}function e5e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function t5e(e,t,r){if(r.biff==5)return r5e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function r5e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function n5e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function a5e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function i5e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function s5e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var o5e=ui,l5e=ui,c5e=ui;function sx(e,t,r){return e.l+=2,[_we(e)]}function i3(e){return e.l+=6,[]}var u5e=sx,d5e=i3,f5e=i3,h5e=sx;function jM(e){return e.l+=2,[Yn(e),e.read_shift(2)&1]}var p5e=sx,m5e=jM,x5e=i3,g5e=sx,v5e=sx,b5e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function y5e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=b5e[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function w5e(e){return e.l+=2,[e.read_shift(4)]}function _5e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function N5e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function j5e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function S5e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function A5e(e){return e.l+=4,[0,0]}var zE={1:{n:"PtgExp",f:Vwe},2:{n:"PtgTbl",f:c5e},3:{n:"PtgAdd",f:Vn},4:{n:"PtgSub",f:Vn},5:{n:"PtgMul",f:Vn},6:{n:"PtgDiv",f:Vn},7:{n:"PtgPower",f:Vn},8:{n:"PtgConcat",f:Vn},9:{n:"PtgLt",f:Vn},10:{n:"PtgLe",f:Vn},11:{n:"PtgEq",f:Vn},12:{n:"PtgGe",f:Vn},13:{n:"PtgGt",f:Vn},14:{n:"PtgNe",f:Vn},15:{n:"PtgIsect",f:Vn},16:{n:"PtgUnion",f:Vn},17:{n:"PtgRange",f:Vn},18:{n:"PtgUplus",f:Vn},19:{n:"PtgUminus",f:Vn},20:{n:"PtgPercent",f:Vn},21:{n:"PtgParen",f:Vn},22:{n:"PtgMissArg",f:Vn},23:{n:"PtgStr",f:Kwe},26:{n:"PtgSheet",f:_5e},27:{n:"PtgEndSheet",f:N5e},28:{n:"PtgErr",f:qwe},29:{n:"PtgBool",f:Xwe},30:{n:"PtgInt",f:Gwe},31:{n:"PtgNum",f:Ywe},32:{n:"PtgArray",f:Twe},33:{n:"PtgFunc",f:zwe},34:{n:"PtgFuncVar",f:Uwe},35:{n:"PtgName",f:e5e},36:{n:"PtgRef",f:Lwe},37:{n:"PtgArea",f:Swe},38:{n:"PtgMemArea",f:n5e},39:{n:"PtgMemErr",f:o5e},40:{n:"PtgMemNoMem",f:l5e},41:{n:"PtgMemFunc",f:a5e},42:{n:"PtgRefErr",f:i5e},43:{n:"PtgAreaErr",f:Cwe},44:{n:"PtgRefN",f:Bwe},45:{n:"PtgAreaN",f:kwe},46:{n:"PtgMemAreaN",f:j5e},47:{n:"PtgMemNoMemN",f:S5e},57:{n:"PtgNameX",f:t5e},58:{n:"PtgRef3d",f:$we},59:{n:"PtgArea3d",f:Awe},60:{n:"PtgRefErr3d",f:s5e},61:{n:"PtgAreaErr3d",f:Ewe},255:{}},C5e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},E5e={1:{n:"PtgElfLel",f:jM},2:{n:"PtgElfRw",f:g5e},3:{n:"PtgElfCol",f:u5e},6:{n:"PtgElfRwV",f:v5e},7:{n:"PtgElfColV",f:h5e},10:{n:"PtgElfRadical",f:p5e},11:{n:"PtgElfRadicalS",f:x5e},13:{n:"PtgElfColS",f:d5e},15:{n:"PtgElfColSV",f:f5e},16:{n:"PtgElfRadicalLel",f:m5e},25:{n:"PtgList",f:y5e},29:{n:"PtgSxName",f:w5e},255:{}},k5e={0:{n:"PtgAttrNoop",f:A5e},1:{n:"PtgAttrSemi",f:Mwe},2:{n:"PtgAttrIf",f:Iwe},4:{n:"PtgAttrChoose",f:Owe},8:{n:"PtgAttrGoto",f:Pwe},16:{n:"PtgAttrSum",f:Wwe},32:{n:"PtgAttrBaxcel",f:$E},33:{n:"PtgAttrBaxcel",f:$E},64:{n:"PtgAttrSpace",f:Fwe},65:{n:"PtgAttrSpaceSemi",f:Rwe},128:{n:"PtgAttrIfError",f:Dwe},255:{}};function ox(e,t,r,n){if(n.biff<8)return ui(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Qwe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Zwe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(ui(e,t)),i}function lx(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=zE[i]||zE[C5e[i]],(i===24||i===25)&&(a=(i===24?E5e:k5e)[e[e.l+1]]),!a||!a.f?ui(e,t):o.push([a.n,a.f(e,t,r)]);return o}function T5e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var O5e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function P5e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function SM(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function UE(e,t,r){var n=SM(e,t,r);return n=="#REF"?n:P5e(n,r)}function ti(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var x=-1,g="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:g=Sn(" ",e[0][x][1][1]);break;case 1:g=Sn("\r",e[0][x][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+g,x=-1}l.push(u+O5e[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Np(b[1][1],o,a),l.push(jp(d,i));break;case"PtgRefN":d=r?Np(b[1][1],r,a):b[1][1],l.push(jp(d,i));break;case"PtgRef3d":f=b[1][1],d=Np(b[1][2],o,a),m=UE(n,f,a),l.push(m+"!"+jp(d,i));break;case"PtgFunc":case"PtgFuncVar":var _=b[1][0],S=b[1][1];_||(_=0),_&=127;var N=_==0?[]:l.slice(-_);l.length-=_,S==="User"&&(S=N.shift()),l.push(S+"("+N.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":p=_E(b[1][1],r?{s:r}:o,a),l.push(Ly(p,a));break;case"PtgArea":p=_E(b[1][1],o,a),l.push(Ly(p,a));break;case"PtgArea3d":f=b[1][1],p=b[1][2],m=UE(n,f,a),l.push(m+"!"+Ly(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],C=j?j.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),l.push(C);break;case"PtgNameX":var P=b[1][1];h=b[1][2];var M;if(a.biff<=5)P<0&&(P=-P),n[P]&&(M=n[P][h]);else{var k="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][h]&&n[P][h].itab>0&&(k=n.SheetNames[n[P][h].itab-1]+"!"):k=n.SheetNames[h-1]+"!"),n[P]&&n[P][h])k+=n[P][h].Name;else if(n[0]&&n[0][h])k+=n[0][h].Name;else{var E=(SM(n,P,a)||"").split(";;");E[h-1]?k=E[h-1]:k+="SH33TJSERRX"}l.push(k);break}M||(M={Name:"SH33TJSERRY"}),l.push(M.Name);break;case"PtgParen":var R="(",H=")";if(x>=0){switch(g="",e[0][x][1][0]){case 2:R=Sn(" ",e[0][x][1][1])+R;break;case 3:R=Sn("\r",e[0][x][1][1])+R;break;case 4:H=Sn(" ",e[0][x][1][1])+H;break;case 5:H=Sn("\r",e[0][x][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(R+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var G={c:r.c,r:r.r};if(n.sharedf[Vt(d)]){var L=n.sharedf[Vt(d)];l.push(ti(L,o,G,n,a))}else{var V=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(ti(u[1],o,G,n,a)),V=!0;break}V||l.push(b[1])}break;case"PtgArray":l.push("{"+T5e(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&J.indexOf(e[0][v][0])==-1){b=e[0][x];var W=!0;switch(b[1][0]){case 4:W=!1;case 0:g=Sn(" ",b[1][1]);break;case 5:W=!1;case 1:g=Sn("\r",b[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((W?g:"")+l.pop()+(W?"":g)),x=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function I5e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],ui(e,t-2)];var l=lx(e,o,r);return t!==o+a&&(i=ox(e,t-o-a,l,r)),e.l=n,[l,i]}function D5e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],ui(e,t-2)];var l=lx(e,o,r);return t!==o+a&&(i=ox(e,t-o-a,l,r)),e.l=n,[l,i]}function M5e(e,t,r,n){var a=e.l+t,i=lx(e,n,r),o;return a!==e.l&&(o=ox(e,a-e.l,i,r)),[i,o]}function F5e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=lx(e,i,r);return i==65535?[[],ui(e,t-2)]:(t!==i+2&&(a=ox(e,n-i-2,o,r)),[o,a])}function R5e(e){var t;if(Rl(e,e.l+6)!==65535)return[ni(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function zy(e,t,r){var n=e.l+t,a=pl(e);r.biff==2&&++e.l;var i=R5e(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=D5e(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function K2(e,t,r){var n=e.read_shift(4),a=lx(e,n,r),i=e.read_shift(4),o=i>0?ox(e,i,a,r):null;return[a,o]}var L5e=K2,J2=K2,B5e=K2,$5e=K2,z5e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},AM={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},U5e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HE(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Uy(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Ep={},G0={};function kp(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function CM(e,t,r,n,a,i){try{n.cellNF&&(e.z=Yt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ta(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Yt[t]==null&&Ju(Hge[t]||"General",t),e.t==="e")e.w=e.w||Pd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Am(e.v);else if(e.t==="d"){var o=Ii(e.v);(o|0)===o?e.w=o.toString(10):e.w=Am(o)}else{if(e.v===void 0)return"";e.w=pd(e.v,G0)}else e.t==="d"?e.w=Vs(t,Ii(e.v),G0):e.w=Vs(t,e.v,G0)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ov(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ov(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function H5e(e,t){var r=Cn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=pr(r))}var W5e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,V5e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,q5e=/<(?:\w:)?hyperlink [^>]*>/mg,G5e=/"(\w*:\w*)"/,X5e=/<(?:\w:)?col\b[^>]*[\/]?>/g,Y5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,K5e=/<(?:\w:)?pageMargins[^>]*\/>/g,EM=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,J5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Z5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Q5e(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(V5e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(EM);h?s3(h[0],l,a,r):(h=u.match(J5e))&&e_e(h[0],h[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=u.slice(p,p+50).match(G5e);m&&H5e(l,m[1])}var x=u.match(Z5e);x&&x[1]&&s_e(x[1],a);var g=[];if(t.cellStyles){var v=u.match(X5e);v&&n_e(g,v)}f&&o_e(f[1],l,t,c,i,o);var y=d.match(Y5e);y&&(l["!autofilter"]=a_e(y[0]));var b=[],_=d.match(W5e);if(_)for(p=0;p!=_.length;++p)b[p]=Cn(_[p].slice(_[p].indexOf('"')+1));var S=d.match(q5e);S&&t_e(l,S,n);var N=d.match(K5e);if(N&&(l["!margins"]=r_e(Rt(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=pr(c)),t.sheetRows>0&&l["!ref"]){var j=Cn(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=pr(j))}return g.length>0&&(l["!cols"]=g),b.length>0&&(l["!merges"]=b),l}function s3(e,t,r,n){var a=Rt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=yr(tn(a.codeName)))}function e_e(e,t,r,n,a){s3(e.slice(0,e.indexOf(">")),r,n,a)}function t_e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Rt(tn(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+yr(i.location))):(i.Target="#"+yr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Cn(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Vt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function r_e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function n_e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Rt(t[n],!0);a.hidden&&(a.hidden=dn(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,a3(a.width)),kf(a);i<=o;)e[i++]=Ua(a)}}function a_e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var i_e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function s_e(e,t){t.Views||(t.Views=[{}]),(e.match(i_e)||[]).forEach(function(r,n){var a=Rt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),dn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var o_e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Cm("v"),o=Cm("f");return function(c,u,d,f,h,p){for(var m=0,x="",g=[],v=[],y=0,b=0,_=0,S="",N,j,C=0,P=0,M,k,E=0,R=0,H=Array.isArray(p.CellXf),G,L=[],V=[],J=Array.isArray(u),W=[],ae={},ve=!1,O=!!d.sheetStubs,I=c.split(t),B=0,z=I.length;B!=z;++B){x=I[B].trim();var q=x.length;if(q!==0){var se=0;e:for(m=0;m<q;++m)switch(x[m]){case">":if(x[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(j=Rt(x.slice(se,m),!0),C=j.r!=null?parseInt(j.r,10):C+1,P=-1,d.sheetRows&&d.sheetRows<C)continue;ae={},ve=!1,j.ht&&(ve=!0,ae.hpt=parseFloat(j.ht),ae.hpx=Om(ae.hpt)),j.hidden=="1"&&(ve=!0,ae.hidden=!0),j.outlineLevel!=null&&(ve=!0,ae.level=+j.outlineLevel),ve&&(W[C-1]=ae)}break;case"<":se=m;break}if(se>=m)break;if(j=Rt(x.slice(se,m),!0),C=j.r!=null?parseInt(j.r,10):C+1,P=-1,!(d.sheetRows&&d.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),d&&d.cellStyles&&(ae={},ve=!1,j.ht&&(ve=!0,ae.hpt=parseFloat(j.ht),ae.hpx=Om(ae.hpt)),j.hidden=="1"&&(ve=!0,ae.hidden=!0),j.outlineLevel!=null&&(ve=!0,ae.level=+j.outlineLevel),ve&&(W[C-1]=ae)),g=x.slice(m).split(e);for(var xe=0;xe!=g.length&&g[xe].trim().charAt(0)=="<";++xe);for(g=g.slice(xe),m=0;m!=g.length;++m)if(x=g[m].trim(),x.length!==0){if(v=x.match(r),y=m,b=0,_=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,v!=null&&v.length===2){for(y=0,S=v[1],b=0;b!=S.length&&!((_=S.charCodeAt(b)-64)<1||_>26);++b)y=26*y+_;--y,P=y}else++P;for(b=0;b!=x.length&&x.charCodeAt(b)!==62;++b);if(++b,j=Rt(x.slice(0,b),!0),j.r||(j.r=Vt({r:C-1,c:P})),S=x.slice(b),N={t:""},(v=S.match(i))!=null&&v[1]!==""&&(N.v=yr(v[1])),d.cellFormula){if((v=S.match(o))!=null&&v[1]!==""){if(N.f=yr(tn(v[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=BE(N.f)),v[0].indexOf('t="array"')>-1)N.F=(S.match(a)||[])[1],N.F.indexOf(":")>-1&&L.push([Cn(N.F),N.F]);else if(v[0].indexOf('t="shared"')>-1){k=Rt(v[0]);var ie=yr(tn(v[1]));d.xlfn||(ie=BE(ie)),V[parseInt(k.si,10)]=[k,ie,j.r]}}else(v=S.match(/<f[^>]*\/>/))&&(k=Rt(v[0]),V[k.si]&&(N.f=vwe(V[k.si][1],V[k.si][2],j.r)));var ye=Ei(j.r);for(b=0;b<L.length;++b)ye.r>=L[b][0].s.r&&ye.r<=L[b][0].e.r&&ye.c>=L[b][0].s.c&&ye.c<=L[b][0].e.c&&(N.F=L[b][1])}if(j.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(O)N.t="z";else continue;else N.t=j.t||"n";switch(f.s.c>P&&(f.s.c=P),f.e.c<P&&(f.e.c=P),N.t){case"n":if(N.v==""||N.v==null){if(!O)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!O)continue;N.t="z"}else M=Ep[parseInt(N.v,10)],N.v=M.t,N.r=M.r,d.cellHTML&&(N.h=M.h);break;case"str":N.t="s",N.v=N.v!=null?tn(N.v):"",d.cellHTML&&(N.h=GN(N.v));break;case"inlineStr":v=S.match(n),N.t="s",v!=null&&(M=n3(v[1]))?(N.v=M.t,d.cellHTML&&(N.h=M.h)):N.v="";break;case"b":N.v=dn(N.v);break;case"d":d.cellDates?N.v=Ta(N.v,1):(N.v=Ii(Ta(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=Y7[N.v];break}if(E=R=0,G=null,H&&j.s!==void 0&&(G=p.CellXf[j.s],G!=null&&(G.numFmtId!=null&&(E=G.numFmtId),d.cellStyles&&G.fillId!=null&&(R=G.fillId))),CM(N,E,R,d,h,p),d.cellDates&&H&&N.t=="n"&&Qf(Yt[E])&&(N.t="d",N.v=X2(N.v)),j.cm&&d.xlmeta){var Te=(d.xlmeta.Cell||[])[+j.cm-1];Te&&Te.type=="XLDAPR"&&(N.D=!0)}if(J){var X=Ei(j.r);u[X.r]||(u[X.r]=[]),u[X.r][X.c]=N}else u[j.r]=N}}}}W.length>0&&(u["!rows"]=W)}}();function l_e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var c_e=Od;function u_e(){}function d_e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Ive(e),r}function f_e(e){var t=Ys(e);return[t]}function h_e(e){var t=Td(e);return[t]}function p_e(e){var t=Ys(e),r=e.read_shift(1);return[t,r,"b"]}function m_e(e){var t=Td(e),r=e.read_shift(1);return[t,r,"b"]}function x_e(e){var t=Ys(e),r=e.read_shift(1);return[t,r,"e"]}function g_e(e){var t=Td(e),r=e.read_shift(1);return[t,r,"e"]}function v_e(e){var t=Ys(e),r=e.read_shift(4);return[t,r,"s"]}function b_e(e){var t=Td(e),r=e.read_shift(4);return[t,r,"s"]}function y_e(e){var t=Ys(e),r=ni(e);return[t,r,"n"]}function kM(e){var t=Td(e),r=ni(e);return[t,r,"n"]}function w_e(e){var t=Ys(e),r=e3(e);return[t,r,"n"]}function __e(e){var t=Td(e),r=e3(e);return[t,r,"n"]}function N_e(e){var t=Ys(e),r=ZN(e);return[t,r,"is"]}function j_e(e){var t=Ys(e),r=oi(e);return[t,r,"str"]}function S_e(e){var t=Td(e),r=oi(e);return[t,r,"str"]}function A_e(e,t,r){var n=e.l+t,a=Ys(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=J2(e,n-e.l,r);o[3]=ti(l,null,a,r.supbooks,r)}else e.l=n;return o}function C_e(e,t,r){var n=e.l+t,a=Ys(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=J2(e,n-e.l,r);o[3]=ti(l,null,a,r.supbooks,r)}else e.l=n;return o}function E_e(e,t,r){var n=e.l+t,a=Ys(e);a.r=r["!row"];var i=ni(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=J2(e,n-e.l,r);o[3]=ti(l,null,a,r.supbooks,r)}else e.l=n;return o}function k_e(e,t,r){var n=e.l+t,a=Ys(e);a.r=r["!row"];var i=oi(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=J2(e,n-e.l,r);o[3]=ti(l,null,a,r.supbooks,r)}else e.l=n;return o}var T_e=Od;function O_e(e,t){var r=e.l+t,n=Od(e),a=QN(e),i=oi(e),o=oi(e),l=oi(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function P_e(){}function I_e(e,t,r){var n=e.l+t,a=q7(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=L5e(e,n-e.l,r);o[1]=l}else e.l=n;return o}function D_e(e,t,r){var n=e.l+t,a=Od(e),i=[a];if(r.cellFormula){var o=$5e(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}var M_e=["left","right","top","bottom","header","footer"];function F_e(e){var t={};return M_e.forEach(function(r){t[r]=ni(e)}),t}function R_e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function L_e(){}function B_e(){}function $_e(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,x,g,v,y,b,_,S,N=[];l.biff=12,l["!row"]=0;var j=0,C=!1,P=[],M={},k=l.supbooks||a.supbooks||[[]];if(k.sharedf=M,k.arrayf=P,k.SheetNames=a.SheetNames||a.Sheets.map(function(J){return J.name}),!l.supbooks&&(l.supbooks=k,a.Names))for(var E=0;E<a.Names.length;++E)k[0][E+1]=a.Names[E];var R=[],H=[],G=!1;Dv[16]={n:"BrtShortReal",f:kM};var L;if(ec(e,function(W,ae,ve){if(!h)switch(ve){case 148:u=W;break;case 0:p=W,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),_=Ha(g=p.r),l["!row"]=p.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=Om(W.hpt)),H[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:W[2]},W[2]){case"n":m.v=W[1];break;case"s":b=Ep[W[1]],m.v=b.t,m.r=b.r;break;case"b":m.v=!!W[1];break;case"e":m.v=W[1],l.cellText!==!1&&(m.w=Pd[m.v]);break;case"str":m.t="s",m.v=W[1];break;case"is":m.t="s",m.v=W[1].t;break}if((x=o.CellXf[W[0].iStyleRef])&&CM(m,x.numFmtId,null,l,i,o),v=W[0].c==-1?v+1:W[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=m):c[ha(v)+_]=m,l.cellFormula){for(C=!1,j=0;j<P.length;++j){var O=P[j];p.r>=O[0].s.r&&p.r<=O[0].e.r&&v>=O[0].s.c&&v<=O[0].e.c&&(m.F=pr(O[0]),C=!0)}!C&&W.length>3&&(m.f=W[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),l.cellDates&&x&&m.t=="n"&&Qf(Yt[x.numFmtId])){var I=Hu(m.v);I&&(m.t="d",m.v=new Date(I.y,I.m-1,I.d,I.H,I.M,I.S,I.u))}L&&(L.type=="XLDAPR"&&(m.D=!0),L=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;m={t:"z",v:void 0},v=W[0].c==-1?v+1:W[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=m):c[ha(v)+_]=m,d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),L&&(L.type=="XLDAPR"&&(m.D=!0),L=void 0);break;case 176:N.push(W);break;case 49:L=((l.xlmeta||{}).Cell||[])[W-1];break;case 494:var B=n["!id"][W.relId];for(B?(W.Target=B.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=B):W.relId==""&&(W.Target="#"+W.loc),g=W.rfx.s.r;g<=W.rfx.e.r;++g)for(v=W.rfx.s.c;v<=W.rfx.e.c;++v)l.dense?(c[g]||(c[g]=[]),c[g][v]||(c[g][v]={t:"z",v:void 0}),c[g][v].l=W):(y=Vt({c:v,r:g}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=W);break;case 426:if(!l.cellFormula)break;P.push(W),S=l.dense?c[g][v]:c[ha(v)+_],S.f=ti(W[1],d,{r:p.r,c:v},k,l),S.F=pr(W[0]);break;case 427:if(!l.cellFormula)break;M[Vt(W[0].s)]=W[1],S=l.dense?c[g][v]:c[ha(v)+_],S.f=ti(W[1],d,{r:p.r,c:v},k,l);break;case 60:if(!l.cellStyles)break;for(;W.e>=W.s;)R[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},G||(G=!0,a3(W.w/256)),kf(R[W.e+1]);break;case 161:c["!autofilter"]={ref:pr(W)};break;case 476:c["!margins"]=W;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),W.name&&(a.Sheets[r].CodeName=W.name),(W.above||W.left)&&(c["!outline"]={above:W.above,left:W.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),W.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ae.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+ve.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=pr(u||d)),l.sheetRows&&c["!ref"]){var V=Cn(c["!ref"]);l.sheetRows<=+V.e.r&&(V.e.r=l.sheetRows-1,V.e.r>d.e.r&&(V.e.r=d.e.r),V.e.r<V.s.r&&(V.s.r=V.e.r),V.e.c>d.e.c&&(V.e.c=d.e.c),V.e.c<V.s.c&&(V.s.c=V.e.c),c["!fullref"]=c["!ref"],c["!ref"]=pr(V))}return N.length>0&&(c["!merges"]=N),R.length>0&&(c["!cols"]=R),H.length>0&&(c["!rows"]=H),c}function z_e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=yr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function U_e(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=z_e(f);d.s.r=d.s.c=0,d.e.c=l,u=ha(l),h[0].forEach(function(p,m){o[u+Ha(m)]={t:"n",v:p,z:h[1]},c=m}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=pr(d)),o}function H_e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(EM);return l&&s3(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function W_e(e,t){e.l+=10;var r=oi(e);return{name:r}}function V_e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return ec(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var TM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],q_e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],G_e=[],X_e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function WE(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=dn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function VE(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=dn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function OM(e){VE(e.WBProps,TM),VE(e.CalcPr,X_e),WE(e.WBView,q_e),WE(e.Sheets,G_e),G0.date1904=dn(e.WBProps.date1904)}var Y_e="][*?/\\".split("");function K_e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Y_e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var J_e=/<\w+:workbook/;function Z_e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(di,function(c,u){var d=Rt(c);switch(hl(d[0])){case"<?xml":break;case"<workbook":c.match(J_e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":TM.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=dn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=tn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=yr(tn(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=tn(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),dn(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=yr(tn(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),xve.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return OM(r),r}function Q_e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=S_(e),r.name=oi(e),r}function e4e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?oi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function t4e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function r4e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Dve(e),o=B5e(e,0,r),l=QN(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function n4e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Dv[16]={n:"BrtFRTArchID$",f:t4e},ec(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ti(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),OM(r),r.Names=i,r.supbooks=o,r}function a4e(e,t,r){return t.slice(-4)===".bin"?n4e(e,r):Z_e(e,r)}function i4e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?$_e(e,n,r,a,i,o,l):Q5e(e,n,r,a,i,o,l)}function s4e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?V_e(e,n,r,a,i):H_e(e,n,r,a,i)}function o4e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?mwe():xwe()}function l4e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?hwe():pwe()}function c4e(e,t,r,n){return t.slice(-4)===".bin"?Tye(e,r,n):jye(e,r,n)}function u4e(e,t,r){return gM(e,r)}function d4e(e,t,r){return t.slice(-4)===".bin"?qbe(e,r):Wbe(e,r)}function f4e(e,t,r){return t.slice(-4)===".bin"?uwe(e,r):iwe(e,r)}function h4e(e,t,r){return t.slice(-4)===".bin"?rwe(e):ewe(e)}function p4e(e,t,r,n){return r.slice(-4)===".bin"?nwe(e,t,r,n):void 0}function m4e(e,t,r){return t.slice(-4)===".bin"?Zye(e,t,r):Qye(e,t,r)}var PM=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,IM=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function io(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(PM),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(IM),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function x4e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(PM),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(IM),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var Tp;function g4e(e,t){var r=Tp[e]||yr(e);return r==="General"?pd(t):Vs(r,t)}function v4e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=dn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ta(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[yr(t)]=a}function b4e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Pd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Am(e.v):e.w=pd(e.v):e.w=g4e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Tp[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Qf(n)){var a=Hu(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function y4e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=vye[n.Pattern]||n.Pattern)}e[t.ID]=t}function w4e(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],m=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=dn(e);break;case"String":n.t="s",n.r=hE(yr(e)),n.v=e.indexOf("<")>-1?yr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ta(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=yr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Y7[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=hE(t||e));break}if(b4e(n,d,u),u.cellFormula!==!1)if(n.Formula){var x=yr(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=q0(x,a),delete n.Formula,n.ArrayRange=="RC"?n.F=q0("RC:RC",a):n.ArrayRange&&(n.F=q0(n.ArrayRange,a),c.push([Cn(n.F),n.F]))}else for(m=0;m<c.length;++m)a.r>=c[m][0].s.r&&a.r<=c[m][0].e.r&&a.c>=c[m][0].s.c&&a.c<=c[m][0].e.c&&(n.F=c[m][1]);u.cellStyles&&(p.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function _4e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Hy(e,t){var r=t||{};w7();var n=ap(XN(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=tn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Ua(r);return o.type="string",km.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(oe){a.indexOf("<"+oe)>=0&&(i=!0)}),i)return O4e(n,r);Tp={"General Number":"General","General Date":Yt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Yt[15],"Short Date":Yt[14],"Long Time":Yt[19],"Medium Time":Yt[18],"Short Time":Yt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Yt[2],Standard:Yt[4],Percent:Yt[10],Scientific:Yt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},p="",m={},x={},g=io('<Data ss:Type="String">'),v=0,y=0,b=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},N={},j="",C=0,P=[],M={},k={},E=0,R=[],H=[],G={},L=[],V,J=!1,W=[],ae=[],ve={},O=0,I=0,B={Sheets:[],WBProps:{date1904:!1}},z={};Em.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var q="";l=Em.exec(n);)switch(l[3]=(q=l[3]).toLowerCase()){case"data":if(q=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?w4e(n.slice(v,l.index),j,g,c[c.length-1][0]=="comment"?G:m,{c:y,r:b},S,L[y],x,W,r):(j="",g=io(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(H.length>0&&(m.c=H),(!r.sheetRows||r.sheetRows>b)&&m.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=m):h[ha(y)+Ha(b)]=m),m.HRef&&(m.l={Target:yr(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(O=y+(parseInt(m.MergeAcross,10)|0),I=b+(parseInt(m.MergeDown,10)|0),P.push({s:{c:y,r:b},e:{c:O,r:I}})),!r.sheetStubs)m.MergeAcross?y=O+1:++y;else if(m.MergeAcross||m.MergeDown){for(var se=y;se<=O;++se)for(var xe=b;xe<=I;++xe)(se>y||xe>b)&&(r.dense?(h[xe]||(h[xe]=[]),h[xe][se]={t:"z"}):h[ha(se)+Ha(xe)]={t:"z"});y=O+1}else++y;else m=x4e(l[0]),m.Index&&(y=+m.Index-1),y<_.s.c&&(_.s.c=y),y>_.e.c&&(_.e.c=y),l[0].slice(-2)==="/>"&&++y,H=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<_.s.r&&(_.s.r=b),b>_.e.r&&(_.e.r=b),l[0].slice(-2)==="/>"&&(x=io(l[0]),x.Index&&(b=+x.Index-1)),y=0,++b):(x=io(l[0]),x.Index&&(b=+x.Index-1),ve={},(x.AutoFitHeight=="0"||x.Height)&&(ve.hpx=parseInt(x.Height,10),ve.hpt=xM(ve.hpx),ae[b]=ve),x.Hidden=="1"&&(ve.hidden=!0,ae[b]=ve));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=pr(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=pr(_))),P.length&&(h["!merges"]=P),L.length>0&&(h["!cols"]=L),ae.length>0&&(h["!rows"]=ae),d[p]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([l[3],!1]),u=io(l[0]),p=yr(u.Name),h=r.dense?[]:{},P=[],W=[],ae=[],z={name:p,Hidden:0},B.Sheets.push(z);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),L=[],J=!1}break;case"style":l[1]==="/"?y4e(S,N,r):N=io(l[0]);break;case"numberformat":N.nf=yr(io(l[0]).Format||"General"),Tp[N.nf]&&(N.nf=Tp[N.nf]);for(var ie=0;ie!=392&&Yt[ie]!=N.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Yt[ie]==null){Ju(N.nf,ie);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(V=io(l[0]),V.Hidden&&(V.hidden=!0,delete V.Hidden),V.Width&&(V.wpx=parseInt(V.Width,10)),!J&&V.wpx>10){J=!0,ji=pM;for(var ye=0;ye<L.length;++ye)L[ye]&&kf(L[ye])}J&&kf(V),L[V.Index-1||L.length]=V;for(var Te=0;Te<+V.Span;++Te)L[L.length]=Ua(V);break;case"namedrange":if(l[1]==="/")break;B.Names||(B.Names=[]);var X=Rt(l[0]),We={Name:X.Name,Ref:q0(X.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(We.Sheet=B.Sheets.length-1),B.Names.push(We);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(C,l.index):C=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=io(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?i2e(M,q,n.slice(E,l.index)):E=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));_4e(G),H.push(G)}else c.push([l[3],!1]),u=io(l[0]),G={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Oe=io(l[0]);h["!autofilter"]={ref:q0(Oe.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return JE(n,r);var Se=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(l[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(E,l.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else E=l.index+l[0].length;break;case"header":h["!margins"]||kp(h["!margins"]={},"xlml"),isNaN(+Rt(l[0]).Margin)||(h["!margins"].header=+Rt(l[0]).Margin);break;case"footer":h["!margins"]||kp(h["!margins"]={},"xlml"),isNaN(+Rt(l[0]).Margin)||(h["!margins"].footer=+Rt(l[0]).Margin);break;case"pagemargins":var re=Rt(l[0]);h["!margins"]||kp(h["!margins"]={},"xlml"),isNaN(+re.Top)||(h["!margins"].top=+re.Top),isNaN(+re.Left)||(h["!margins"].left=+re.Left),isNaN(+re.Right)||(h["!margins"].right=+re.Right),isNaN(+re.Bottom)||(h["!margins"].bottom=+re.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?v4e(k,q,R,n.slice(E,l.index)):(R=l,E=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Me={};return!r.bookSheets&&!r.bookProps&&(Me.Sheets=d),Me.SheetNames=f,Me.Workbook=B,Me.SSF=Ua(Yt),Me.Props=M,Me.Custprops=k,Me}function k_(e,t){switch(c3(t=t||{}),t.type||"base64"){case"base64":return Hy(bs(e),t);case"binary":case"buffer":case"file":return Hy(e,t);case"array":return Hy(kd(e),t)}}function N4e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Rve(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Lve(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var j4e=[60,1084,2066,2165,2175];function S4e(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Rl(r,r.l),u=T_[c],d=0;u!=null&&j4e.indexOf(c)>-1;)i=Rl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=T_[c=Rl(r,r.l)];var f=Fc(o);Ba(f,0);var h=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(h),h+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Ro(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Yt[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Pd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Am(e.v):e.w=pd(e.v):e.w=Vs(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Qf(Yt[n]||String(n))){var a=Hu(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function L1(e,t,r){return{v:e,ixfe:t,t:r}}function A4e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,h="",p,m,x,g,v={},y=[],b,_,S=[],N=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},P=function(lt){return lt<8?Zu[lt]:lt<64&&N[lt-8]||Zu[lt]},M=function(lt,rt,ir){var St=rt.XF.data;if(!(!St||!St.patternType||!ir||!ir.cellStyles)){rt.s={},rt.s.patternType=St.patternType;var En;(En=Tm(P(St.icvFore)))&&(rt.s.fgColor={rgb:En}),(En=Tm(P(St.icvBack)))&&(rt.s.bgColor={rgb:En})}},k=function(lt,rt,ir){if(!(ve>1)&&!(ir.sheetRows&&lt.r>=ir.sheetRows)){if(ir.cellStyles&&rt.XF&&rt.XF.data&&M(lt,rt,ir),delete rt.ixfe,delete rt.XF,f=lt,h=Vt(lt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),lt.r<o.s.r&&(o.s.r=lt.r),lt.c<o.s.c&&(o.s.c=lt.c),lt.r+1>o.e.r&&(o.e.r=lt.r+1),lt.c+1>o.e.c&&(o.e.c=lt.c+1),ir.cellFormula&&rt.f){for(var St=0;St<y.length;++St)if(!(y[St][0].s.c>lt.c||y[St][0].s.r>lt.r)&&!(y[St][0].e.c<lt.c||y[St][0].e.r<lt.r)){rt.F=pr(y[St][0]),(y[St][0].s.c!=lt.c||y[St][0].s.r!=lt.r)&&delete rt.f,rt.f&&(rt.f=""+ti(y[St][1],o,lt,W,E));break}}ir.dense?(a[lt.r]||(a[lt.r]=[]),a[lt.r][lt.c]=rt):a[h]=rt}},E={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(E.password=t.password);var R,H=[],G=[],L=[],V=[],J=!1,W=[];W.SheetNames=E.snames,W.sharedf=E.sharedf,W.arrayf=E.arrayf,W.names=[],W.XTI=[];var ae=0,ve=0,O=0,I=[],B=[],z;E.codepage=1200,yo(1200);for(var q=!1;e.l<e.length-1;){var se=e.l,xe=e.read_shift(2);if(xe===0&&ae===10)break;var ie=e.l===e.length?0:e.read_shift(2),ye=T_[xe];if(ye&&ye.f){if(t.bookSheets&&ae===133&&xe!==133)break;if(ae=xe,ye.r===2||ye.r==12){var Te=e.read_shift(2);if(ie-=2,!E.enc&&Te!==xe&&((Te&255)<<8|Te>>8)!==xe)throw new Error("rt mismatch: "+Te+"!="+xe);ye.r==12&&(e.l+=10,ie-=10)}var X={};if(xe===10?X=ye.f(e,ie,E):X=S4e(xe,ye,e,ie,E),ve==0&&[9,521,1033,2057].indexOf(ae)===-1)continue;switch(xe){case 34:r.opts.Date1904=j.WBProps.date1904=X;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(E.enc||(e.l=0),E.enc=X,!t.password)throw new Error("File is password-protected");if(X.valid==null)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case 92:E.lastuser=X;break;case 66:var We=Number(X);switch(We){case 21010:We=1200;break;case 32768:We=1e4;break;case 32769:We=1252;break}yo(E.codepage=We),q=!0;break;case 317:E.rrtabid=X;break;case 25:E.winlocked=X;break;case 439:r.opts.RefreshAll=X;break;case 12:r.opts.CalcCount=X;break;case 16:r.opts.CalcDelta=X;break;case 17:r.opts.CalcIter=X;break;case 13:r.opts.CalcMode=X;break;case 14:r.opts.CalcPrecision=X;break;case 95:r.opts.CalcSaveRecalc=X;break;case 15:E.CalcRefMode=X;break;case 2211:r.opts.FullCalc=X;break;case 129:X.fDialog&&(a["!type"]="dialog"),X.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),X.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(X);break;case 430:W.push([X]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(X);break;case 24:case 536:z={Name:X.Name,Ref:ti(X.rgce,o,null,W,E)},X.itab>0&&(z.Sheet=X.itab-1),W.names.push(z),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(X),X.Name=="_xlnm._FilterDatabase"&&X.itab>0&&X.rgce&&X.rgce[0]&&X.rgce[0][0]&&X.rgce[0][0][0]=="PtgArea3d"&&(B[X.itab-1]={ref:pr(X.rgce[0][0][1][2])});break;case 22:E.ExternCount=X;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(X),W.XTI=W.XTI.concat(X);break;case 2196:if(E.biff<8)break;z!=null&&(z.Comment=X[1]);break;case 18:a["!protect"]=X;break;case 19:X!==0&&E.WTF&&console.error("Password verifier: "+X);break;case 133:i[X.pos]=X,E.snames.push(X.name);break;case 10:{if(--ve)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=pr(o),t.sheetRows&&t.sheetRows<=o.e.r){var Oe=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=pr(o),o.e.r=Oe}o.e.r++,o.e.c++}H.length>0&&(a["!merges"]=H),G.length>0&&(a["!objects"]=G),L.length>0&&(a["!cols"]=L),V.length>0&&(a["!rows"]=V),j.Sheets.push(C)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(E.biff===8&&(E.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[X.BIFFVer]||8),E.biffguess=X.BIFFVer==0,X.BIFFVer==0&&X.dt==4096&&(E.biff=5,q=!0,yo(E.codepage=28591)),E.biff==8&&X.BIFFVer==0&&X.dt==16&&(E.biff=2),ve++)break;if(a=t.dense?[]:{},E.biff<8&&!q&&(q=!0,yo(E.codepage=t.codepage||1252)),E.biff<5||X.BIFFVer==0&&X.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-ie,name:u};i[Se.pos]=Se,E.snames.push(u)}else u=(i[se]||{name:""}).name;X.dt==32&&(a["!type"]="chart"),X.dt==64&&(a["!type"]="macro"),H=[],G=[],E.arrayf=y=[],L=[],V=[],J=!1,C={Hidden:(i[se]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[X.r]||[])[X.c]:a[Vt({c:X.c,r:X.r})])&&++X.c,b={ixfe:X.ixfe,XF:S[X.ixfe]||{},v:X.val,t:"n"},O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k({c:X.c,r:X.r},b,t);break;case 5:case 517:b={ixfe:X.ixfe,XF:S[X.ixfe],v:X.val,t:X.t},O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k({c:X.c,r:X.r},b,t);break;case 638:b={ixfe:X.ixfe,XF:S[X.ixfe],v:X.rknum,t:"n"},O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k({c:X.c,r:X.r},b,t);break;case 189:for(var re=X.c;re<=X.C;++re){var Me=X.rkrec[re-X.c][0];b={ixfe:Me,XF:S[Me],v:X.rkrec[re-X.c][1],t:"n"},O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k({c:re,r:X.r},b,t)}break;case 6:case 518:case 1030:{if(X.val=="String"){l=X;break}if(b=L1(X.val,X.cell.ixfe,X.tt),b.XF=S[b.ixfe],t.cellFormula){var oe=X.formula;if(oe&&oe[0]&&oe[0][0]&&oe[0][0][0]=="PtgExp"){var me=oe[0][0][1][0],_e=oe[0][0][1][1],Ie=Vt({r:me,c:_e});v[Ie]?b.f=""+ti(X.formula,o,X.cell,W,E):b.F=((t.dense?(a[me]||[])[_e]:a[Ie])||{}).F}else b.f=""+ti(X.formula,o,X.cell,W,E)}O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k(X.cell,b,t),l=X}break;case 7:case 519:if(l)l.val=X,b=L1(X,l.cell.ixfe,"s"),b.XF=S[b.ixfe],t.cellFormula&&(b.f=""+ti(l.formula,o,l.cell,W,E)),O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(X);var we=Vt(X[0].s);if(p=t.dense?(a[X[0].s.r]||[])[X[0].s.c]:a[we],t.cellFormula&&p){if(!l||!we||!p)break;p.f=""+ti(X[1],o,X[0],W,E),p.F=pr(X[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;v[Vt(l.cell)]=X[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Vt(l.cell)],(p||{}).f=""+ti(X[0],o,f,W,E)}}break;case 253:b=L1(c[X.isst].t,X.ixfe,"s"),c[X.isst].h&&(b.h=c[X.isst].h),b.XF=S[b.ixfe],O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k({c:X.c,r:X.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:X.ixfe,XF:S[X.ixfe],t:"z"},O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k({c:X.c,r:X.r},b,t));break;case 190:if(t.sheetStubs)for(var je=X.c;je<=X.C;++je){var He=X.ixfe[je-X.c];b={ixfe:He,XF:S[He],t:"z"},O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k({c:je,r:X.r},b,t)}break;case 214:case 516:case 4:b=L1(X.val,X.ixfe,"s"),b.XF=S[b.ixfe],O>0&&(b.z=I[b.ixfe>>8&63]),Ro(b,t,r.opts.Date1904),k({c:X.c,r:X.r},b,t);break;case 0:case 512:ve===1&&(o=X);break;case 252:c=X;break;case 1054:if(E.biff==4){I[O++]=X[1];for(var Qe=0;Qe<O+163&&Yt[Qe]!=X[1];++Qe);Qe>=163&&Ju(X[1],O+163)}else Ju(X[1],X[0]);break;case 30:{I[O++]=X;for(var ct=0;ct<O+163&&Yt[ct]!=X;++ct);ct>=163&&Ju(X,O+163)}break;case 229:H=H.concat(X);break;case 93:G[X.cmo[0]]=E.lastobj=X;break;case 438:E.lastobj.TxO=X;break;case 127:E.lastobj.ImData=X;break;case 440:for(g=X[0].s.r;g<=X[0].e.r;++g)for(x=X[0].s.c;x<=X[0].e.c;++x)p=t.dense?(a[g]||[])[x]:a[Vt({c:x,r:g})],p&&(p.l=X[1]);break;case 2048:for(g=X[0].s.r;g<=X[0].e.r;++g)for(x=X[0].s.c;x<=X[0].e.c;++x)p=t.dense?(a[g]||[])[x]:a[Vt({c:x,r:g})],p&&p.l&&(p.l.Tooltip=X[1]);break;case 28:{if(E.biff<=5&&E.biff>=2)break;p=t.dense?(a[X[0].r]||[])[X[0].c]:a[Vt(X[0])];var vt=G[X[2]];p||(t.dense?(a[X[0].r]||(a[X[0].r]=[]),p=a[X[0].r][X[0].c]={t:"z"}):p=a[Vt(X[0])]={t:"z"},o.e.r=Math.max(o.e.r,X[0].r),o.s.r=Math.min(o.s.r,X[0].r),o.e.c=Math.max(o.e.c,X[0].c),o.s.c=Math.min(o.s.c,X[0].c)),p.c||(p.c=[]),m={a:X[1],t:vt.TxO.t},p.c.push(m)}break;case 2173:Xye(S[X.ixfe],X.ext);break;case 125:{if(!E.cellStyles)break;for(;X.e>=X.s;)L[X.e--]={width:X.w/256,level:X.level||0,hidden:!!(X.flags&1)},J||(J=!0,a3(X.w/256)),kf(L[X.e+1])}break;case 520:{var wt={};X.level!=null&&(V[X.r]=wt,wt.level=X.level),X.hidden&&(V[X.r]=wt,wt.hidden=!0),X.hpt&&(V[X.r]=wt,wt.hpt=X.hpt,wt.hpx=Om(X.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||kp(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=X;break;case 161:a["!margins"]||kp(a["!margins"]={}),a["!margins"].header=X.header,a["!margins"].footer=X.footer;break;case 574:X.RTL&&(j.Views[0].RTL=!0);break;case 146:N=X;break;case 2198:R=X;break;case 140:_=X;break;case 442:u?C.CodeName=X||C.name:j.WBProps.CodeName=X||"ThisWorkbook";break}}else ye||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=ie}return r.SheetNames=sl(i).sort(function(bt,lt){return Number(bt)-Number(lt)}).map(function(bt){return i[bt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&B.forEach(function(bt,lt){r.Sheets[r.SheetNames[lt]]["!autofilter"]=bt}),r.Strings=c,r.SSF=Ua(Yt),E.enc&&(r.Encryption=E.enc),R&&(r.Themes=R),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),W.names.length>0&&(j.Names=W.names),r.Workbook=j,r}var qE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function C4e(e,t,r){var n=fr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=kE(n,Wve,qE.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=fr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=kE(o,Vve,qE.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(J7(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function DM(e,t){t||(t={}),c3(t),c7(),t.codepage&&zN(t.codepage);var r,n;if(e.FullPaths){if(fr.find(e,"/encryption"))throw new Error("File is password-protected");r=fr.find(e,"!CompObj"),n=fr.find(e,"/Workbook")||fr.find(e,"/Book")}else{switch(t.type){case"base64":e=go(bs(e));break;case"binary":e=go(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ba(e,0),n={content:e}}var a,i;if(r&&N4e(r),t.bookProps&&!t.bookSheets)a={};else{var o=lr?"buffer":"array";if(n&&n.content)a=A4e(n.content,t);else if((i=fr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Cp.to_workbook(i.content,(t.type=o,t));else if((i=fr.find(e,"NativeContent_MAIN"))&&i.content)a=Cp.to_workbook(i.content,(t.type=o,t));else throw(i=fr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&fr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=fwe(e))}var l={};return e.FullPaths&&C4e(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var Dv={0:{f:l_e},1:{f:f_e},2:{f:w_e},3:{f:x_e},4:{f:p_e},5:{f:y_e},6:{f:j_e},7:{f:v_e},8:{f:k_e},9:{f:E_e},10:{f:A_e},11:{f:C_e},12:{f:h_e},13:{f:__e},14:{f:g_e},15:{f:m_e},16:{f:kM},17:{f:S_e},18:{f:b_e},19:{f:ZN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:r4e},40:{},42:{},43:{f:Aye},44:{f:Sye},45:{f:Cye},46:{f:kye},47:{f:Eye},48:{},49:{f:Tve},50:{},51:{f:Kye},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:cM},62:{f:N_e},63:{f:twe},64:{f:L_e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ui,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:R_e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:d_e},148:{f:c_e,p:16},151:{f:P_e},152:{},153:{f:e4e},154:{},155:{},156:{f:Q_e},157:{},158:{},159:{T:1,f:Vbe},160:{T:-1},161:{T:1,f:Od},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:T_e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Yye},336:{T:-1},337:{f:Jye,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:S_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:lM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:I_e},427:{f:D_e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:F_e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:u_e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:O_e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:S_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:cwe},633:{T:1},634:{T:-1},635:{T:1,f:lwe},636:{T:-1},637:{f:Pve},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:W_e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:B_e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},T_={6:{f:zy},10:{f:vc},12:{f:Yn},13:{f:Yn},14:{f:Dn},15:{f:Dn},16:{f:ni},17:{f:Dn},18:{f:Dn},19:{f:Yn},20:{f:IE},21:{f:IE},23:{f:lM},24:{f:ME},25:{f:Dn},26:{},27:{},28:{f:sbe},29:{},34:{f:Dn},35:{f:DE},38:{f:ni},39:{f:ni},40:{f:ni},41:{f:ni},42:{f:Dn},43:{f:Dn},47:{f:uye},49:{f:z2e},51:{f:Yn},60:{},61:{f:L2e},64:{f:Dn},65:{f:$2e},66:{f:Yn},77:{},80:{},81:{},82:{},85:{f:Yn},89:{},90:{},91:{},92:{f:T2e},93:{f:lbe},94:{},95:{f:Dn},96:{},97:{},99:{f:Dn},125:{f:cM},128:{f:J2e},129:{f:O2e},130:{f:Yn},131:{f:Dn},132:{f:Dn},133:{f:P2e},134:{},140:{f:pbe},141:{f:Yn},144:{},146:{f:xbe},151:{},152:{},153:{},154:{},155:{},156:{f:Yn},157:{},158:{},160:{f:wbe},161:{f:vbe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:G2e},190:{f:X2e},193:{f:vc},197:{},198:{},199:{},200:{},201:{},202:{f:Dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Yn},220:{},221:{f:Dn},222:{},224:{f:K2e},225:{f:k2e},226:{f:vc},227:{},229:{f:obe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:I2e},253:{f:U2e},255:{f:D2e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:rM},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Dn},353:{f:vc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Q2e},431:{f:Dn},432:{},433:{},434:{},437:{},438:{f:dbe},439:{f:Dn},440:{f:fbe},441:{},442:{f:ix},443:{},444:{f:Yn},445:{},446:{},448:{f:vc},449:{f:R2e,r:2},450:{f:vc},512:{f:OE},513:{f:ybe},515:{f:Z2e},516:{f:H2e},517:{f:PE},519:{f:_be},520:{f:M2e},523:{},545:{f:FE},549:{f:TE},566:{},574:{f:B2e},638:{f:q2e},659:{},1048:{},1054:{f:W2e},1084:{},1212:{f:nbe},2048:{f:hbe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:M1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:vc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:gbe,r:12},2173:{f:Gye,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:rbe,r:12},2197:{},2198:{f:zye,r:12},2199:{},2200:{},2201:{},2202:{f:abe,r:12},2203:{f:vc},2204:{},2205:{},2206:{},2207:{},2211:{f:F2e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Yn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:bbe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:mbe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:OE},1:{},2:{f:Abe},3:{f:Sbe},4:{f:jbe},5:{f:PE},7:{f:Cbe},8:{},9:{f:M1},11:{},22:{f:Yn},30:{f:V2e},31:{},32:{},33:{f:FE},36:{},37:{f:TE},50:{f:Ebe},62:{},52:{},67:{},68:{f:Yn},69:{},86:{},126:{},127:{f:Nbe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:kbe},223:{},234:{},354:{},421:{},518:{f:zy},521:{f:M1},536:{f:ME},547:{f:DE},561:{},579:{},1030:{f:zy},1033:{f:M1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function so(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&H7(r)&&e.push(r)}}function GE(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=Zge(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(o=0;o<c.length;++o){var x=c[o].trim(),g=x.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var v=x.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var y=v[l].trim();if(y.match(/<t[dh]/i)){for(var b=y,_=0;b.charAt(0)=="<"&&(_=b.indexOf(">"))>-1;)b=b.slice(_+1);for(var S=0;S<m.length;++S){var N=m[S];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,S=-1)}var j=Rt(y.slice(0,y.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&m.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var C=j.t||j["data-t"]||"";if(!b.length){d+=h;continue}if(b=T7(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=h;continue}var P={t:"s",v:b};r.raw||!b.trim().length||C=="s"||(b==="TRUE"?P={t:"b",v:!0}:b==="FALSE"?P={t:"b",v:!1}:isNaN(No(b))?isNaN(Ef(b).getDate())||(P={t:"d",v:Ta(b)},r.cellDates||(P={t:"n",v:Ii(P.v)}),P.z=r.dateNF||Yt[14]):P={t:"n",v:No(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=P):n[Vt({r:u,c:d})]=P,d+=h}}}}return n["!ref"]=pr(p),m.length&&(n["!merges"]=m),n}function E4e(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Vt({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||GN(f.w||(Xl(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(pve("td",h,p))}}var m="<tr>";return m+i.join("")+"</tr>"}var k4e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',T4e="</body></html>";function O4e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return ou(GE(r[0],t),t);var n=d3();return r.forEach(function(a,i){f3(n,GE(a,t),"Sheet"+(i+1))}),n}function P4e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function I4e(e,t){var r=t||{},n=r.header!=null?r.header:k4e,a=r.footer!=null?r.footer:T4e,i=[n],o=eh(e["!ref"]);r.dense=Array.isArray(e),i.push(P4e(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(E4e(e,o,l,r));return i.push("</table>"+a),i.join("")}function MM(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Ei(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=eh(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,x=0,g=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);m<l.length&&x<c;++m){var _=l[m];if(XE(_)){if(n.display)continue;p[x]={hidden:!0}}var S=_.children;for(g=v=0;g<S.length;++g){var N=S[g];if(!(n.display&&XE(N))){var j=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):T7(N.innerHTML),C=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var P=f[h];P.s.c==v+i&&P.s.r<x+a&&x+a<=P.e.r&&(v=P.e.c+1-i,h=-1)}b=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:x+a,c:v+i},e:{r:x+a+(y||1)-1,c:v+i+(b||1)-1}});var M={t:"s",v:j},k=N.getAttribute("data-t")||N.getAttribute("t")||"";j!=null&&(j.length==0?M.t=k||"z":n.raw||j.trim().length==0||k=="s"||(j==="TRUE"?M={t:"b",v:!0}:j==="FALSE"?M={t:"b",v:!1}:isNaN(No(j))?isNaN(Ef(j).getDate())||(M={t:"d",v:Ta(j)},n.cellDates||(M={t:"n",v:Ii(M.v)}),M.z=n.dateNF||Yt[14]):M={t:"n",v:No(j)})),M.z===void 0&&C!=null&&(M.z=C);var E="",R=N.getElementsByTagName("A");if(R&&R.length)for(var H=0;H<R.length&&!(R[H].hasAttribute("href")&&(E=R[H].getAttribute("href"),E.charAt(0)!="#"));++H);E&&E.charAt(0)!="#"&&(M.l={Target:E}),n.dense?(e[x+a]||(e[x+a]=[]),e[x+a][v+i]=M):e[Vt({c:v+i,r:x+a})]=M,u.e.c<v+i&&(u.e.c=v+i),v+=b}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+a),e["!ref"]=pr(u),x>=c&&(e["!fullref"]=pr((u.e.r=l.length-m+x-1+a,u))),e}function FM(e,t){var r=t||{},n=r.dense?[]:{};return MM(n,e,t)}function D4e(e,t){return ou(FM(e,t),t)}function XE(e){var t="",r=M4e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function M4e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function F4e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=yr(t.replace(/<[^>]*>/g,""));return[r]}var YE={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function RM(e,t){var r=t||{},n=XN(e),a=[],i,o,l={name:""},c="",u=0,d,f,h={},p=[],m=r.dense?[]:{},x,g,v={value:""},y="",b=0,_=[],S=-1,N=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,P={},M=[],k={},E=0,R=0,H=[],G=1,L=1,V=[],J={Names:[]},W={},ae=["",""],ve=[],O={},I="",B=0,z=!1,q=!1,se=0;for(Em.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Em.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"工作表":x[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?m["!ref"]=pr(j):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(m["!fullref"]=m["!ref"],j.e.r=r.sheetRows-1,m["!ref"]=pr(j)),M.length&&(m["!merges"]=M),H.length&&(m["!rows"]=H),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=m,q=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=Rt(x[0],!1),S=N=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,m=r.dense?[]:{},M=[],H=[],q=!0);break;case"table-row-group":x[1]==="/"?--C:++C;break;case"table-row":case"行":if(x[1]==="/"){S+=G,G=1;break}if(f=Rt(x[0],!1),f.行号?S=f.行号-1:S==-1&&(S=0),G=+f["number-rows-repeated"]||1,G<10)for(se=0;se<G;++se)C>0&&(H[S+se]={level:C});N=-1;break;case"covered-table-cell":x[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(m[S]||(m[S]=[]),m[S][N]={t:"z"}):m[Vt({r:S,c:N})]={t:"z"}),y="",_=[];break;case"table-cell":case"数据":if(x[0].charAt(x[0].length-2)==="/")++N,v=Rt(x[0],!1),L=parseInt(v["number-columns-repeated"]||"1",10),g={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(g.f=HE(yr(v.formula))),(v.数据类型||v["value-type"])=="string"&&(g.t="s",g.v=yr(v["string-value"]||""),r.dense?(m[S]||(m[S]=[]),m[S][N]=g):m[Vt({r:S,c:N})]=g),N+=L-1;else if(x[1]!=="/"){++N,y="",b=0,_=[],L=1;var xe=G?S+G-1:S;if(N>j.e.c&&(j.e.c=N),N<j.s.c&&(j.s.c=N),S<j.s.r&&(j.s.r=S),xe>j.e.r&&(j.e.r=xe),v=Rt(x[0],!1),ve=[],O={},g={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=yr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(E=parseInt(v["number-matrix-rows-spanned"],10)||0,R=parseInt(v["number-matrix-columns-spanned"],10)||0,k={s:{r:S,c:N},e:{r:S+E-1,c:N+R-1}},g.F=pr(k),V.push([k,g.F])),v.formula)g.f=HE(v.formula);else for(se=0;se<V.length;++se)S>=V[se][0].s.r&&S<=V[se][0].e.r&&N>=V[se][0].s.c&&N<=V[se][0].e.c&&(g.F=V[se][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(E=parseInt(v["number-rows-spanned"],10)||0,R=parseInt(v["number-columns-spanned"],10)||0,k={s:{r:S,c:N},e:{r:S+E-1,c:N+R-1}},M.push(k)),v["number-columns-repeated"]&&(L=parseInt(v["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=dn(v["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(v.value);break;case"percentage":g.t="n",g.v=parseFloat(v.value);break;case"currency":g.t="n",g.v=parseFloat(v.value);break;case"date":g.t="d",g.v=Ta(v["date-value"]),r.cellDates||(g.t="n",g.v=Ii(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=Yge(v["time-value"])/86400,r.cellDates&&(g.t="d",g.v=X2(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(v.数据数值);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",v["string-value"]!=null&&(y=yr(v["string-value"]),_=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(z=!1,g.t==="s"&&(g.v=y||"",_.length&&(g.R=_),z=b==0),W.Target&&(g.l=W),ve.length>0&&(g.c=ve,ve=[]),y&&r.cellText!==!1&&(g.w=y),z&&(g.t="z",delete g.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ie=0;ie<G;++ie){if(L=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(m[S+ie]||(m[S+ie]=[]),m[S+ie][N]=ie==0?g:Ua(g);--L>0;)m[S+ie][N+L]=Ua(g);else for(m[Vt({r:S+ie,c:N})]=g;--L>0;)m[Vt({r:S+ie,c:N+L})]=Ua(g);j.e.c<=N&&(j.e.c=N)}L=parseInt(v["number-columns-repeated"]||"1",10),N+=L-1,L=0,g={},y="",_=[]}W={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i;O.t=y,_.length&&(O.R=_),O.a=I,ve.push(O)}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);I="",B=0,y="",b=0,_=[];break;case"creator":x[1]==="/"?I=n.slice(B,x.index):B=x.index+x[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);y="",b=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(P[l.name]=c,(i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Rt(x[0],!1),a.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Rt(x[0],!1),c+=YE[x[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Rt(x[0],!1),c+=YE[x[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":o=Rt(x[0],!1),ae=Uy(o["cell-range-address"]);var ye={Name:o.name,Ref:ae[0]+"!"+ae[1]};q&&(ye.Sheet=p.length),J.Names.push(ye);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(x[1]==="/"&&(!v||!v["string-value"])){var Te=F4e(n.slice(b,x.index));y=(y.length>0?y+`
`:"")+Te[0]}else Rt(x[0],!1),b=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{ae=Uy(Rt(x[0])["target-range-address"]),h[ae[0]]["!autofilter"]={ref:ae[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(W=Rt(x[0],!1),!W.href)break;W.Target=yr(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(ae=Uy(W.Target.slice(1)),W.Target="#"+ae[0]+"!"+ae[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(x)}}var X={Sheets:h,SheetNames:p,Workbook:J};return r.bookSheets&&delete X.Sheets,X}function KE(e,t){t=t||{},Rs(e,"META-INF/manifest.xml")&&Zve(Xn(e,"META-INF/manifest.xml"),t);var r=fs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=RM(tn(r),t);return Rs(e,"meta.xml")&&(n.Props=K7(Xn(e,"meta.xml"))),n}function JE(e,t){return RM(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function o3(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function O_(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):tn(kd(e))}function P_(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function ZE(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function R4e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Pm(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ma(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ii(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Pm(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Pm(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function l3(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function L4e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Pm(e,n),i=ii(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:ma(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ii(l.data),u=ma(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=ma(i[3][0].data)>>>0>0),r.push(o)}return r}function B4e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Pm(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[P_(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=P_(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function $4e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(B4e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return P_(t)}function z4e(e,t,r,n){var a=o3(e),i=a.getUint32(4,!0),o=(n>1?12:8)+ZE(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=ZE(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function U4e(e,t,r){var n=o3(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=R4e(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function H4e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return z4e(e,t,r,e[0]);case 5:return U4e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function qc(e){var t=ii(e);return Pm(t[1][0].data)}function QE(e,t){var r=ii(t.data),n=ma(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=ii(o.data),c=ma(l[1][0].data)>>>0;switch(n){case 1:i[c]=O_(l[3][0].data);break;case 8:{var u=e[qc(l[9][0].data)][0],d=ii(u.data),f=e[qc(d[1][0].data)][0],h=ma(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=ii(f.data);i[c]=p[3].map(function(m){return O_(m.data)}).join("")}break}}),i}function W4e(e,t){var r,n,a,i,o,l,c,u,d,f,h,p,m,x,g=ii(e),v=ma(g[1][0].data)>>>0,y=ma(g[2][0].data)>>>0,b=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&ma(g[8][0].data)>0||!1,_,S;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&t!=0)_=(l=(o=g[7])==null?void 0:o[0])==null?void 0:l.data,S=(u=(c=g[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(p=(h=g[4])==null?void 0:h[0])==null?void 0:p.data,S=(x=(m=g[3])==null?void 0:m[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=b?4:1,j=o3(_),C=[],P=0;P<_.length/2;++P){var M=j.getUint16(P*2,!0);M<65535&&C.push([P,M])}if(C.length!=y)throw"Expected ".concat(y," cells, found ").concat(C.length);var k=[];for(P=0;P<C.length-1;++P)k[C[P][0]]=S.subarray(C[P][1]*N,C[P+1][1]*N);return C.length>=1&&(k[C[C.length-1][0]]=S.subarray(C[C.length-1][1]*N)),{R:v,cells:k}}function V4e(e,t){var r,n=ii(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ma(n[7][0].data)>>>0>0?1:0:-1,i=l3(n[5],function(o){return W4e(o,a)});return{nrows:ma(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function q4e(e,t,r){var n,a=ii(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ma(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ma(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=pr(i);var o=ii(a[4][0].data),l=QE(e,e[qc(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?QE(e,e[qc(o[17][0].data)][0]):[],u=ii(o[3][0].data),d=0;u[1].forEach(function(f){var h=ii(f.data),p=e[qc(h[2][0].data)][0],m=ma(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var x=V4e(e,p);x.data.forEach(function(g,v){g.forEach(function(y,b){var _=Vt({r:d+v,c:b}),S=H4e(y,l,c);S&&(r[_]=S)})}),d+=x.nrows})}function G4e(e,t){var r=ii(t.data),n={"!ref":"A1"},a=e[qc(r[2][0].data)],i=ma(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return q4e(e,a[0],n),n}function X4e(e,t){var r,n=ii(t.data),a={name:(r=n[1])!=null&&r[0]?O_(n[1][0].data):"",sheets:[]},i=l3(n[2],qc);return i.forEach(function(o){e[o].forEach(function(l){var c=ma(l.meta[1][0].data);c==6e3&&a.sheets.push(G4e(e,l))})}),a}function Y4e(e,t){var r=d3(),n=ii(t.data),a=l3(n[1],qc);if(a.forEach(function(i){e[i].forEach(function(o){var l=ma(o.meta[1][0].data);if(l==2){var c=X4e(e,o);c.sheets.forEach(function(u,d){f3(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Wy(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=$4e(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=L4e(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ma(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=ma(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Y4e(i,l)}function K4e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function c3(e){K4e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function J4e(e){return D0.WS.indexOf(e)>-1?"sheet":e==D0.CS?"chart":e==D0.DS?"dialog":e==D0.MS?"macro":e&&e.length?e:"sheet"}function Z4e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,J4e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Q4e(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=Sp(fs(e,r,!0),t);var h=Xn(e,t),p;switch(l){case"sheet":p=i4e(h,t,a,c,i[n],u,d,f);break;case"chart":if(p=s4e(h,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var m=sp(p["!drawel"].Target,t),x=A_(m),g=awe(fs(e,m,!0),Sp(fs(e,x,!0),m)),v=sp(g,m),y=A_(v);p=U_e(fs(e,v,!0),v,c,Sp(fs(e,y,!0),v),u,p);break;case"macro":p=o4e(h,t,a,c,i[n],u,d,f);break;case"dialog":p=l4e(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var b=[];i&&i[n]&&sl(i[n]).forEach(function(_){var S="";if(i[n][_].Type==D0.CMNT){S=sp(i[n][_].Target,t);var N=f4e(Xn(e,S,!0),S,c);if(!N||!N.length)return;LE(p,N,!1)}i[n][_].Type==D0.TCMNT&&(S=sp(i[n][_].Target,t),b=b.concat(swe(Xn(e,S,!0),c)))}),b&&b.length&&LE(p,b,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function Ds(e){return e.charAt(0)=="/"?e.slice(1):e}function eNe(e,t){if(w7(),t=t||{},c3(t),Rs(e,"META-INF/manifest.xml")||Rs(e,"objectdata.xml"))return KE(e,t);if(Rs(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Wy<"u"){if(e.FileIndex)return Wy(e);var r=fr.utils.cfb_new();return dE(e).forEach(function(H){tve(r,H,eve(e,H))}),Wy(r)}throw new Error("Unsupported NUMBERS file")}if(!Rs(e,"[Content_Types].xml"))throw Rs(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Rs(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=dE(e),a=Kve(fs(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Xn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Xn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Ep=[],a.sst)try{Ep=d4e(Xn(e,Ds(a.sst)),a.sst,t)}catch(H){if(t.WTF)throw H}t.cellStyles&&a.themes.length&&(c=u4e(fs(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=c4e(Xn(e,Ds(a.style)),a.style,c,t))}a.links.map(function(H){try{var G=Sp(fs(e,A_(Ds(H))),H);return p4e(Xn(e,Ds(H)),G,H,t)}catch{}});var d=a4e(Xn(e,Ds(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Xn(e,Ds(a.coreprops[0]),!0),h&&(f=K7(h)),a.extprops.length!==0&&(h=Xn(e,Ds(a.extprops[0]),!0),h&&t2e(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=fs(e,Ds(a.custprops[0]),!0),h&&(p=n2e(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(G){return G.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof o<"u"&&(m.SheetNames=o),t.bookSheets?m.SheetNames:t.bookProps))return m;o={};var x={};t.bookDeps&&a.calcchain&&(x=h4e(Xn(e,Ds(a.calcchain)),a.calcchain));var g=0,v={},y,b;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var N=i?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");Rs(e,C)||(C="xl/_rels/workbook."+N+".rels");var P=Sp(fs(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=m4e(Xn(e,Ds(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=owe(Xn(e,Ds(a.people[0])),t)),P&&(P=Z4e(P,d.Sheets));var M=Xn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var k="sheet";if(P&&P[g]?(y="xl/"+P[g][1].replace(/[\/]?xl\//,""),Rs(e,y)||(y=P[g][1]),Rs(e,y)||(y=C.replace(/_rels\/.*$/,"")+P[g][1]),k=P[g][2]):(y="xl/worksheets/sheet"+(g+1-M)+"."+N,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var E=!1,R=0;R!=t.sheets.length;++R)typeof t.sheets[R]=="number"&&t.sheets[R]==g&&(E=1),typeof t.sheets[R]=="string"&&t.sheets[R].toLowerCase()==f.SheetNames[g].toLowerCase()&&(E=1);if(!E)continue e}}Q4e(e,y,b,f.SheetNames[g],g,v,o,k,t,d,c,u)}return m={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:x,Sheets:o,SheetNames:f.SheetNames,Strings:Ep,Styles:u,Themes:c,SSF:Ua(Yt)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(H,G){H=H.replace(/^Root Entry[\/]/,""),m.keys.push(H),m.files[H]=e.FileIndex[G]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=Xn(e,Ds(a.vba[0]),!0):a.defaults&&a.defaults.bin===dwe&&(m.vbaraw=Xn(e,"xl/vbaProject.bin",!0))),m}function tNe(e,t){var r=t||{},n="Workbook",a=fr.find(e,n);try{if(n="/!DataSpaces/Version",a=fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Gbe(a.content),n="/!DataSpaces/DataSpaceMap",a=fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Ybe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Kbe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Zbe(a.content)}catch{}if(n="/EncryptionInfo",a=fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Qbe(a.content);if(n="/EncryptedPackage",a=fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function u3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=bs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function rNe(e,t){return fr.find(e,"EncryptedPackage")?tNe(e,t):DM(e,t)}function nNe(e,t){var r,n=e,a=t||{};return a.type||(a.type=lr&&Buffer.isBuffer(e)?"buffer":"base64"),r=C7(n,a),eNe(r,a)}function LM(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return k_(e.slice(r),t);default:break e}return km.to_workbook(e,t)}function aNe(e,t){var r="",n=u3(e,t);switch(t.type){case"base64":r=bs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=md(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=tn(r)),t.type="binary",LM(r,t)}function iNe(e,t){var r=e;return t.type=="base64"&&(r=bs(r)),r=Mc.utils.decode(1200,r.slice(2),"str"),t.type="binary",LM(r,t)}function sNe(e){return e.match(/[^\x00-\x7F]/)?op(e):e}function Vy(e,t,r,n){return n?(r.type="string",km.to_workbook(e,r)):km.to_workbook(t,r)}function I_(e,t){c7();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return I_(new Uint8Array(e),(r=Ua(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),G0={},r.dateNF&&(G0.dateNF=r.dateNF),r.type||(r.type=lr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=lr?"buffer":"binary",n=Gge(e),typeof Uint8Array<"u"&&!lr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=sNe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Ua(r),r.type="array",I_(UN(n),r)}switch((a=u3(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return rNe(fr.read(n,r),r);break;case 9:if(a[1]<=8)return DM(n,r);break;case 60:return k_(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Dbe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Pbe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?nNe(n,r):Vy(e,n,r,i);case 239:return a[3]===60?k_(n,r):Vy(e,n,r,i);case 255:if(a[1]===254)return iNe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Cp.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Cp.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return RE.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return dye.to_workbook(n,r);break;case 10:case 13:case 32:return aNe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Tbe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?RE.to_workbook(n,r):Vy(e,n,r,i)}function oNe(e,t,r,n,a,i,o,l){var c=Ha(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=o?e[r][p]:e[n[p]+c];if(m===void 0||m.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var x=m.v;switch(m.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[p]!=null){if(x==null)if(m.t=="e"&&x===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&x===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(m.t!=="n"||m.t==="n"&&l.rawNumbers!==!1)?x:Xl(m,x,l);x!=null&&(f=!1)}}return{row:h,isempty:f}}function D_(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Cn(d);break;case"number":c=Cn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Ha(c.s.r),h=[],p=[],m=0,x=0,g=Array.isArray(e),v=c.s.r,y=0,b={};g&&!e[v]&&(e[v]=[]);var _=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(_[y]||{}).hidden)switch(h[y]=ha(y),r=g?e[v][y]:e[h[y]+f],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Xl(r,null,u),x=b[o]||0,!x)b[o]=1;else{do l=o+"_"+x++;while(b[l]);b[o]=x,b[l]=1}i[y]=l}for(v=c.s.r+a;v<=c.e.r;++v)if(!(S[v]||{}).hidden){var N=oNe(e,c,v,h,n,i,g,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[m++]=N.row)}return p.length=m,p}var e8=/"/g;function lNe(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Ha(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:Xl(p,null,l));for(var m=0,x=0;m!==d.length;++m)if((x=d.charCodeAt(m))===a||x===i||x===34||l.forceQuotes){d='"'+d.replace(e8,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(e8,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function BM(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Cn(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=ha(m));for(var x=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(d=lNe(e,a,g,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((x++?l:"")+d)));return delete n.dense,r.join("")}function cNe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=BM(e,t);return r}function uNe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Cn(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ha(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Ha(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function $M(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Ei(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Cn(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(x,g){sl(x).forEach(function(v){(p=h.indexOf(v))==-1&&(h[p=h.length]=v);var y=x[v],b="z",_="",S=Vt({c:l+p,r:o+g+a});u=Im(i,S),y&&typeof y=="object"&&!(y instanceof Date)?i[S]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=Ii(y)),_=n.dateNF||Yt[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,_&&(u.z=_)):i[S]=u={t:b,v:y},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var m=Ha(o);if(a)for(p=0;p<h.length;++p)i[ha(p+l)+m]={t:"s",v:h[p]};return i["!ref"]=pr(d),i}function dNe(e,t){return $M(null,e,t)}function Im(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ei(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Im(e,Vt(t)):Im(e,Vt({r:t,c:r||0}))}function fNe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function d3(){return{SheetNames:[],Sheets:{}}}function f3(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(K_e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function hNe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=fNe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function pNe(e,t){return e.z=t,e}function zM(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function mNe(e,t,r){return zM(e,"#"+t,r)}function xNe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function gNe(e,t,r,n){for(var a=typeof t!="string"?t:Cn(t),i=typeof t=="string"?t:pr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Im(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var vNe={encode_col:ha,encode_row:Ha,encode_cell:Vt,encode_range:pr,decode_col:JN,decode_row:KN,split_cell:kve,decode_cell:Ei,decode_range:eh,format_cell:Xl,sheet_add_aoa:V7,sheet_add_json:$M,sheet_add_dom:MM,aoa_to_sheet:th,json_to_sheet:dNe,table_to_sheet:FM,table_to_book:D4e,sheet_to_csv:BM,sheet_to_txt:cNe,sheet_to_json:D_,sheet_to_html:I4e,sheet_to_formulae:uNe,sheet_to_row_object_array:D_,sheet_get_cell:Im,book_new:d3,book_append_sheet:f3,book_set_sheet_visibility:hNe,cell_set_number_format:pNe,cell_set_hyperlink:zM,cell_set_internal_link:mNe,cell_add_comment:xNe,sheet_set_array_formula:gNe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function bNe({cell:e,onClose:t,onUpdate:r,setShowNaissainModal:n}){const a=_d(t),[i,o]=F.useState(e.type||""),[l,c]=F.useState(e.ropeCount||0),[u,d]=F.useState(e.size||""),[f,h]=F.useState(0),[p,m]=F.useState(!e.filled),x=g=>{g.preventDefault();let v;p?v={type:i,ropeCount:l,size:u,filled:!0}:e.filled?v={harvestedRopes:f,batchNumber:`LOT-${new Date().getTime()}`}:v={type:i,ropeCount:l,size:u,filled:!0},r(v),t()};return s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:s.jsxs(Ne.div,{ref:a,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:e.filled&&!p?"Récolte":e.filled&&p?"Modifier le bassin":"Nouvelle production"}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),e.filled&&!p&&s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs("button",{type:"button",onClick:()=>m(!0),className:"flex items-center text-brand-tertiary hover:text-brand-tertiary/80 transition-colors",children:[s.jsx(Kc,{size:16,className:"mr-1"}),"Modifier les propriétés"]})}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[!e.filled||p?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de production"}),s.jsx("div",{className:"flex justify-between items-center mb-3",children:s.jsx("button",{type:"button",onClick:()=>{n?n(!0):console.warn("setShowNaissainModal is not defined")},className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",children:"Naissain"})}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"triplo",label:"Triploïde",color:"bg-brand-burgundy"},{value:"diplo",label:"Diploïde",color:"bg-brand-primary"},{value:"naturelle",label:"Naturelle",color:"bg-brand-tertiary"}].map(g=>s.jsxs("button",{type:"button",onClick:()=>o(g.value),className:`p-3 rounded-lg flex flex-col items-center justify-center transition-all ${i===g.value?`${g.color} shadow-neon`:"bg-white/5 hover:bg-white/10"}`,children:[s.jsx("div",{className:`w-4 h-4 rounded-sm ${g.color} mb-2`}),s.jsx("span",{className:"text-sm text-white",children:g.label})]},g.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes par perche"}),s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-4",children:[s.jsx("button",{type:"button",onClick:()=>c(Math.max(0,l-1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"-"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:l}),s.jsx("button",{type:"button",onClick:()=>c(l+1),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"+"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taille des huîtres"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:["T5","T10","T15","T20","T30"].map(g=>s.jsx("button",{type:"button",onClick:()=>d(g),className:`p-3 rounded-lg flex items-center justify-center transition-all ${u===g?"bg-brand-burgundy shadow-neon":"bg-white/5 hover:bg-white/10"}`,children:s.jsx("span",{className:"text-white font-medium",children:g})},g))})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes récoltées"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-4",children:[s.jsx("button",{type:"button",onClick:()=>h(Math.max(0,f-1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"-"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:f}),s.jsx("button",{type:"button",onClick:()=>h(Math.min(e.ropeCount,f+1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"+"})]}),s.jsxs("div",{className:"mt-2 text-sm text-white/60 text-center",children:["sur ",e.ropeCount," cordes au total"]})]})]}),s.jsxs("div",{className:"p-4 bg-brand-burgundy/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-brand-burgundy mb-2",children:[s.jsx(Go,{size:20,className:"mr-2"}),s.jsx("span",{className:"font-medium",children:"Numéro de lot"})]}),s.jsxs("div",{className:"text-white font-mono",children:["LOT-",new Date().getTime()]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:e.filled&&!p?"Valider la récolte":e.filled&&p?"Enregistrer les modifications":"Ajouter la production"})]})]})]})})}function yNe({table:e,onClose:t,onTableUpdate:r}){var Ie;const n=we=>{we.stopPropagation()},a=we=>{we.target===we.currentTarget&&t()},[i,o]=F.useState(null),[l,c]=F.useState(!0),[u,d]=F.useState(!1),[f,h]=F.useState({side:"left"}),[p,m]=F.useState(""),[x,g]=F.useState(""),[v,y]=F.useState(!1),[b,_]=F.useState(e.tableNumber),[S,N]=F.useState(!1),[j,C]=F.useState(""),[P,M]=F.useState(null),[k,E]=F.useState(It(new Date,"yyyy-MM-dd")),[R,H]=F.useState(!1),[G,L]=F.useState(""),[V,J]=F.useState(!1),[W,ae]=F.useState(It(new Date,"yyyy-MM-dd")),[ve,O]=F.useState(!1),[I,B]=F.useState([]),[z,q]=F.useState([]),[se,xe]=F.useState(""),ie=F.useRef(null),ye=(we,je)=>{console.log("Updating cell:",we,je);const He=e.cells.findIndex(ct=>ct.id===we);if(He===-1)return;const Qe=[...e.cells];Qe[He]={...Qe[He],...je},r&&r(e.id,{cells:Qe})},Te=we=>{h({side:we}),d(!0)},X=()=>{console.log(`Remplissage de la colonne ${f.side} avec ordre de remplissage ${p} à la date ${x}`),d(!1),m(""),g("")},We=()=>{r&&b.trim()!==""&&r(e.id,{tableNumber:b.trim()}),y(!1)},Oe=()=>{_(e.tableNumber),y(!1)},Se=()=>{if(typeof j=="number"){const je=(Math.random()*2-1)*.2,He=j*(1+je);M(Number(He.toFixed(1)))}console.log(`Échantillonnage enregistré avec un taux de mortalité de ${j}% à la date ${k}`),N(!1)},re=()=>{C(""),M(null),E(It(new Date,"yyyy-MM-dd")),N(!0)},Me=we=>{we.preventDefault();const je={source:G,date:It(new Date,"yyyy-MM-dd"),batchNumber:`NAIS-${new Date().getTime()}`};console.log("Naissain enregistré:",je),r&&r(e.id,{naissainSource:je.source,naissainBatchNumber:je.batchNumber}),H(!1),L("")},oe=()=>{console.log(`Recherche dans l'historique pour la date: ${W}`)},me=we=>{var Qe;const je=(Qe=we.target.files)==null?void 0:Qe[0];if(!je)return;xe("");const He=new FileReader;He.onload=ct=>{var vt;try{const wt=(vt=ct.target)==null?void 0:vt.result,bt=I_(wt,{type:"binary"}),lt=bt.SheetNames[0],rt=bt.Sheets[lt],ir=vNe.sheet_to_json(rt);if(ir.length===0){xe("Le fichier ne contient pas de données valides.");return}B(ir),q(ir.slice(0,5))}catch(wt){console.error("Erreur lors de la lecture du fichier Excel:",wt),xe("Une erreur est survenue lors de la lecture du fichier. Vérifiez que le format est correct.")}},He.onerror=()=>{xe("Une erreur est survenue lors de la lecture du fichier.")},He.readAsBinaryString(je)},_e=()=>{if(I.length===0){xe("Aucune donnée à importer.");return}if(console.log("Importation des données:",I),r){const we={lastUpdated:new Date().toISOString()};r(e.id,we)}O(!1),B([]),q([])};return s.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:a,children:[s.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-2xl",onClick:n,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:(e==null?void 0:e.name)||"Détails de la table"}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(Gu,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:e.temperature?`${e.temperature}°C`:"Non disponible"})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx($a,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.salinity,"g/L"]})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(Kn,{size:20,className:"mr-2 text-brand-tertiary"}),"Mortalité"]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.mortalityRate,"%"]})]})]}),(e==null?void 0:e.currentBatch)&&s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx(_n,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Calibre"}),s.jsxs("span",{className:"text-white font-medium",children:["N°",e.currentBatch.size]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Quantité"}),s.jsxs("span",{className:"text-white font-medium",children:[e.currentBatch.quantity," unités"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Date de récolte estimée"}),s.jsx("span",{className:"text-white font-medium",children:It(new Date(e.currentBatch.estimatedHarvestDate),"PP",{locale:cr})})]})]})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx(Wa,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),s.jsx("span",{className:"text-white",children:It(new Date(e.lastCheck),"PP",{locale:cr})})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),s.jsx("span",{className:"text-white",children:It(new Date(e.nextCheck),"PP",{locale:cr})})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",onClick:()=>J(!0),children:"Historique"}),s.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",onClick:()=>Te("left"),children:"Remplir colonne gauche"}),s.jsx("button",{className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",onClick:()=>Te("right"),children:"Remplir colonne droite"}),s.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",onClick:re,children:"Échantillonnage"}),s.jsx("button",{className:"px-4 py-2 text-white/70 hover:text-white transition-colors",onClick:t,children:"Fermer"})]})]})]}),s.jsxs(Ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"w-80 glass-effect rounded-lg p-4 self-start mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-white font-medium flex items-center",children:[s.jsx(Z0,{size:16,className:"mr-2 text-brand-burgundy"}),"Types d'huîtres"]}),s.jsx("button",{onClick:()=>c(!l),className:"text-white/60 hover:text-white transition-colors",children:l?"Réduire":"Voir"})]}),s.jsx(hr,{children:l&&s.jsx(Ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3 overflow-hidden",children:[{type:"triplo",label:"Triploïdes",color:"bg-brand-burgundy",description:"Huîtres stériles à croissance rapide"},{type:"diplo",label:"Diploïdes",color:"bg-brand-primary",description:"Huîtres naturelles améliorées"},{type:"naturelle",label:"Naturelles",color:"bg-brand-tertiary",description:"Huîtres sauvages traditionnelles"}].map(we=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-lg ${we.color} shadow-neon border-2 border-white/80 shadow-[0_0_15px_rgba(255,255,255,0.6)] flex-shrink-0`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:we.label}),s.jsx("div",{className:"text-sm text-white/60",children:we.description})]})]},we.type))})})]}),s.jsx(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-[400px] h-[800px] bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden border border-white/10",children:s.jsx("div",{className:"relative h-full grid grid-cols-2 grid-rows-10 gap-1 p-8 transform rotate-0",children:e.cells.map((we,je)=>s.jsxs(Ne.button,{onClick:()=>o(we),className:`relative rounded-md transition-all duration-300 group ${we.filled?`${we.type==="triplo"?"bg-brand-burgundy shadow-neon":we.type==="diplo"?"bg-brand-primary shadow-neon":"bg-brand-tertiary shadow-neon"}`:"bg-white/5 hover:bg-white/10"}`,variants:{initial:{opacity:.6,scale:.95},animate:He=>({opacity:[.6,1,.6],scale:[.95,1,.95],transition:{duration:3,repeat:1/0,delay:He*.1,ease:"easeInOut"}})},initial:"initial",animate:"animate",custom:je,children:[s.jsx("div",{className:"absolute inset-0 rounded-md border-2 border-white shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:we.filled&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-bold",children:we.fillOrder||je+1})})}),we.filled&&s.jsx("div",{className:"absolute bottom-1 right-1 text-[8px] text-white/60",children:we.ropeCount}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/40 rounded-md transition-opacity",children:s.jsx(Kc,{size:16,className:"text-white"})})]},we.id))})}),s.jsx(Ne.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"w-96 bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 h-full border-l border-white/10 overflow-y-auto custom-scrollbar",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e.name}),v?s.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[s.jsx("input",{type:"text",value:b,onChange:we=>_(we.target.value),className:"w-full p-2 bg-white/10 border border-white/20 rounded-lg text-white",autoFocus:!0}),s.jsx("button",{onClick:We,className:"p-2 bg-brand-primary/20 hover:bg-brand-primary/40 rounded-lg transition-colors",title:"Valider",children:s.jsx($m,{size:18,className:"text-white"})}),s.jsx("button",{onClick:Oe,className:"p-2 bg-red-500/20 hover:bg-red-500/40 rounded-lg transition-colors",title:"Annuler",children:s.jsx(Mt,{size:18,className:"text-white"})})]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx("p",{className:"text-white/60",children:e.tableNumber}),s.jsx("button",{onClick:()=>y(!0),className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:s.jsx(Kc,{size:14,className:"text-white/60"})})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Mt,{size:24,className:"text-white/60"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(Gu,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.temperature,"°C"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx($a,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.salinity,"g/L"]})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx(ci,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),s.jsx("span",{className:"text-white",children:It(new Date(e.lastCheck),"PP",{locale:cr})})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),s.jsx("span",{className:"text-white",children:It(new Date(e.nextCheck),"PP",{locale:cr})})]}),s.jsx("div",{className:"pt-2 border-t border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),s.jsxs("span",{className:`text-lg font-medium ${e.mortalityRate>3?"text-red-400":e.mortalityRate>2?"text-yellow-400":"text-green-400"}`,children:[e.mortalityRate,"%"]})]})})]})]}),e.currentBatch&&s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx(_n,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Calibre"}),s.jsxs("span",{className:"text-white font-medium",children:["N°",e.currentBatch.size]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Quantité"}),s.jsxs("span",{className:"text-white font-medium",children:[e.currentBatch.quantity," unités"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),s.jsx("span",{className:"text-white font-medium",children:(Ie=e.currentBatch)!=null&&Ie.estimatedHarvestDate?It(new Date(e.currentBatch.estimatedHarvestDate),"PP",{locale:cr}):"Non définie"})]})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx(Xb,{size:20,className:"mr-2 text-brand-tertiary"}),"Importation de données"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),s.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[s.jsx(Gi,{size:16,className:"mr-1"}),"Télécharger un modèle de fichier"]}),s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),s.jsxs("button",{onClick:()=>O(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[s.jsx(vs,{size:18}),"Importer des données"]})]})]})]})}),s.jsx(hr,{children:i&&s.jsx(bNe,{cell:i,onClose:()=>o(null),onUpdate:we=>ye(i.id,we),setShowNaissainModal:H})}),s.jsx(hr,{children:u&&s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:s.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white",children:["Remplissage de la colonne ",f.side]}),s.jsx("button",{onClick:()=>d(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("form",{onSubmit:we=>{we.preventDefault(),X()},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Ordre de remplissage"}),s.jsx("input",{type:"number",value:p,onChange:we=>m(we.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date de remplissage"}),s.jsx("input",{type:"date",value:x,onChange:we=>g(we.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Remplir la colonne"})]})]})]})})}),s.jsx(hr,{children:S&&s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:s.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Échantillonnage"}),s.jsx("button",{onClick:()=>N(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("form",{onSubmit:we=>{we.preventDefault(),Se()},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taux évalué de mortalité"}),s.jsx("input",{type:"number",value:j,onChange:we=>C(we.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: 3.7%"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taux potentiel de mortalité (IA)"}),s.jsx("input",{type:"number",value:P,onChange:we=>M(we.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Prédiction IA calculée automatiquement",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date d'échantillonnage"}),s.jsx("input",{type:"date",value:k,onChange:we=>E(we.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'échantillonnage"})]})]})]})})}),s.jsx(hr,{children:R&&s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:s.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestion du Naissain"}),s.jsx("button",{onClick:()=>H(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Source du naissain (écloserie)"}),s.jsx("input",{type:"text",value:G,onChange:we=>L(we.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: Écloserie Atlantique"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot fournisseur"}),s.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: ATLANT-2025-0012"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date de réception"}),s.jsx("input",{type:"date",className:"w-full p-4 bg-white/5 rounded-lg text-white",defaultValue:It(new Date,"yyyy-MM-dd")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité reçue"}),s.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: 10000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes sur la qualité"}),s.jsx("textarea",{className:"w-full p-4 bg-white/5 rounded-lg text-white h-24 resize-none",placeholder:"Observations sur la qualité du naissain à la réception..."})]}),s.jsxs("div",{className:"bg-brand-burgundy/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-brand-burgundy mb-2",children:[s.jsx(Z0,{size:20,className:"mr-2"}),s.jsx("span",{className:"font-medium",children:"Numéro de traçabilité"})]}),s.jsxs("div",{className:"text-white font-mono",children:["NAIS-",new Date().getTime()]}),s.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Ce numéro sera utilisé pour la traçabilité et permettra de suivre la performance de ce lot de naissain."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>H(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer le naissain"})]})]})]})})}),s.jsx(hr,{children:V&&s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:s.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white",children:["Historique de la table ",e==null?void 0:e.name]}),s.jsx("button",{onClick:()=>J(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"text-lg font-medium text-white",children:"Rechercher par date"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"date",value:W,onChange:we=>ae(we.target.value),className:"p-2 bg-white/5 rounded-lg text-white"}),s.jsx("button",{onClick:oe,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Rechercher"})]})]}),s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[s.jsxs("h4",{className:"text-white font-medium mb-4",children:["Données pour le ",It(new Date(W),"dd MMMM yyyy",{locale:cr})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(Gu,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx($a,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(Kn,{size:20,className:"mr-2 text-brand-tertiary"}),"Mortalité"]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5%"})]})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx(_n,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Calibre"}),s.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Quantité"}),s.jsx("span",{className:"text-white font-medium",children:"5000 unités"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Date de récolte estimée"}),s.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Source du naissain"}),s.jsx("span",{className:"text-white font-medium",children:"Écloserie Atlantique"})]})]})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4 mt-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx(Wa,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),s.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),s.jsx("span",{className:"text-white",children:"26 févr. 2025"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",children:"Exporter les données"}),s.jsx("button",{type:"button",onClick:()=>J(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})]})]})]})})}),s.jsx(hr,{children:ve&&s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:s.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xb,{size:24,className:"mr-3 text-brand-tertiary"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Importer des données"})]}),s.jsx("button",{onClick:()=>O(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("div",{className:"mb-6 bg-white/5 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-white mb-2",children:"Format de fichier attendu"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Votre fichier Excel doit contenir les colonnes suivantes :"}),s.jsxs("ul",{className:"list-disc list-inside text-white/70 text-sm mt-2 space-y-1",children:[s.jsx("li",{children:"Position (ID de la case)"}),s.jsx("li",{children:"Type (type de production)"}),s.jsx("li",{children:"Quantité (nombre d'unités)"}),s.jsx("li",{children:"Date de mise en place (format JJ/MM/AAAA)"}),s.jsx("li",{children:"Calibre (taille des huîtres)"}),s.jsx("li",{children:"Source (provenance du naissain)"})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[s.jsx(Gi,{size:16,className:"mr-1"}),"Télécharger un modèle de fichier"]})})]}),s.jsxs("form",{onSubmit:we=>{we.preventDefault(),_e()},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Sélectionner un fichier Excel (.xlsx, .xls) ou CSV"}),s.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center cursor-pointer hover:border-white/40 transition-colors",onClick:()=>{var we;return(we=ie.current)==null?void 0:we.click()},children:[s.jsx(vs,{size:36,className:"mx-auto text-white/60 mb-3"}),s.jsx("p",{className:"text-white/80 mb-2",children:"Glissez-déposez votre fichier ici ou cliquez pour parcourir"}),s.jsx("p",{className:"text-white/50 text-sm",children:"Formats supportés: .xlsx, .xls, .csv"}),s.jsx("input",{type:"file",ref:ie,onChange:me,className:"hidden",accept:".xlsx, .xls, .csv"})]})]}),se&&s.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 text-red-300 p-4 rounded-lg text-sm",children:[s.jsx("div",{className:"font-medium mb-1",children:"Erreur d'importation"}),se]}),z.length>0&&s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[s.jsxs("h4",{className:"text-white font-medium mb-4",children:["Aperçu des données (",I.length," enregistrements au total)"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"border-b border-white/10",children:Object.keys(z[0]).map(we=>s.jsx("th",{className:"text-left py-2 px-3 text-white/80",children:we},we))})}),s.jsx("tbody",{children:z.map((we,je)=>s.jsx("tr",{className:"border-b border-white/5",children:Object.keys(we).map(He=>s.jsx("td",{className:"py-2 px-3 text-white/70",children:we[He]},He))},je))})]})}),s.jsx("div",{className:"mt-4 text-white/60 text-sm",children:"* Seules les 5 premières lignes sont affichées"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:I.length===0,className:`px-4 py-2 rounded-lg text-white transition-colors flex items-center 
                    ${I.length===0?"bg-white/20 cursor-not-allowed":"bg-brand-burgundy hover:bg-brand-burgundy/90"}`,children:[s.jsx(Xb,{size:18,className:"mr-2"}),"Importer les données"]})]})]})]})})})]})}var cx=e=>e.type==="checkbox",Wu=e=>e instanceof Date,_i=e=>e==null;const UM=e=>typeof e=="object";var Bn=e=>!_i(e)&&!Array.isArray(e)&&UM(e)&&!Wu(e),wNe=e=>Bn(e)&&e.target?cx(e.target)?e.target.checked:e.target.value:e,_Ne=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,NNe=(e,t)=>e.has(_Ne(t)),jNe=e=>{const t=e.constructor&&e.constructor.prototype;return Bn(t)&&t.hasOwnProperty("isPrototypeOf")},h3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function La(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(h3&&(e instanceof Blob||n))&&(r||Bn(e)))if(t=r?[]:{},!r&&!jNe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=La(e[a]));else return e;return t}var ux=e=>Array.isArray(e)?e.filter(Boolean):[],fn=e=>e===void 0,xt=(e,t,r)=>{if(!t||!Bn(e))return r;const n=ux(t.split(/[,[\].]+?/)).reduce((a,i)=>_i(a)?a:a[i],e);return fn(n)||n===e?fn(e[t])?r:e[t]:n},zo=e=>typeof e=="boolean",p3=e=>/^\w*$/.test(e),HM=e=>ux(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Vr=(e,t,r)=>{let n=-1;const a=p3(t)?[t]:HM(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Bn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}return e};const t8={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Tl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},SNe=le.createContext(null),ANe=()=>le.useContext(SNe);var CNe=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==$s.all&&(t._proxyFormState[o]=!n||$s.all),e[o]}});return a},yi=e=>Bn(e)&&!Object.keys(e).length,ENe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return yi(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===$s.all)},hs=e=>Array.isArray(e)?e:[e];function WM(e){const t=le.useRef(e);t.current=e,le.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Ko=e=>typeof e=="string",kNe=(e,t,r,n,a)=>Ko(e)?(n&&t.watch.add(e),xt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),xt(r,i))):(n&&(t.watchAll=!0),r),TNe=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},bc=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},qy=(e,t,r={})=>r.shouldFocus||fn(r.shouldFocus)?r.focusName||`${e}.${fn(r.focusIndex)?t:r.focusIndex}.`:"",Op=e=>({isOnSubmit:!e||e===$s.onSubmit,isOnBlur:e===$s.onBlur,isOnChange:e===$s.onChange,isOnAll:e===$s.all,isOnTouch:e===$s.onTouched}),M_=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const X0=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=xt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(X0(l,t))break}else if(Bn(l)&&X0(l,t))break}}};var VM=(e,t,r)=>{const n=hs(xt(e,r));return Vr(n,"root",t[r]),Vr(e,r,n),e},m3=e=>e.type==="file",Vo=e=>typeof e=="function",Mv=e=>{if(!h3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},og=e=>Ko(e),x3=e=>e.type==="radio",Fv=e=>e instanceof RegExp;const r8={value:!1,isValid:!1},n8={value:!0,isValid:!0};var qM=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fn(e[0].attributes.value)?fn(e[0].value)||e[0].value===""?n8:{value:e[0].value,isValid:!0}:n8:r8}return r8};const a8={isValid:!1,value:null};var GM=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,a8):a8;function i8(e,t,r="validate"){if(og(e)||Array.isArray(e)&&e.every(og)||zo(e)&&!e)return{type:r,message:og(e)?e:"",ref:t}}var m0=e=>Bn(e)&&!Fv(e)?e:{value:e,message:""},F_=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:m,name:x,valueAsNumber:g,mount:v}=e._f,y=xt(r,x);if(!v||t.has(x))return{};const b=l?l[0]:o,_=E=>{a&&b.reportValidity&&(b.setCustomValidity(zo(E)?"":E||""),b.reportValidity())},S={},N=x3(o),j=cx(o),C=N||j,P=(g||m3(o))&&fn(o.value)&&fn(y)||Mv(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,M=TNe.bind(null,x,n,S),k=(E,R,H,G=Tl.maxLength,L=Tl.minLength)=>{const V=E?R:H;S[x]={type:E?G:L,message:V,ref:o,...M(E?G:L,V)}};if(i?!Array.isArray(y)||!y.length:c&&(!C&&(P||_i(y))||zo(y)&&!y||j&&!qM(l).isValid||N&&!GM(l).isValid)){const{value:E,message:R}=og(c)?{value:!!c,message:c}:m0(c);if(E&&(S[x]={type:Tl.required,message:R,ref:b,...M(Tl.required,R)},!n))return _(R),S}if(!P&&(!_i(f)||!_i(h))){let E,R;const H=m0(h),G=m0(f);if(!_i(y)&&!isNaN(y)){const L=o.valueAsNumber||y&&+y;_i(H.value)||(E=L>H.value),_i(G.value)||(R=L<G.value)}else{const L=o.valueAsDate||new Date(y),V=ae=>new Date(new Date().toDateString()+" "+ae),J=o.type=="time",W=o.type=="week";Ko(H.value)&&y&&(E=J?V(y)>V(H.value):W?y>H.value:L>new Date(H.value)),Ko(G.value)&&y&&(R=J?V(y)<V(G.value):W?y<G.value:L<new Date(G.value))}if((E||R)&&(k(!!E,H.message,G.message,Tl.max,Tl.min),!n))return _(S[x].message),S}if((u||d)&&!P&&(Ko(y)||i&&Array.isArray(y))){const E=m0(u),R=m0(d),H=!_i(E.value)&&y.length>+E.value,G=!_i(R.value)&&y.length<+R.value;if((H||G)&&(k(H,E.message,R.message),!n))return _(S[x].message),S}if(p&&!P&&Ko(y)){const{value:E,message:R}=m0(p);if(Fv(E)&&!y.match(E)&&(S[x]={type:Tl.pattern,message:R,ref:o,...M(Tl.pattern,R)},!n))return _(R),S}if(m){if(Vo(m)){const E=await m(y,r),R=i8(E,b);if(R&&(S[x]={...R,...M(Tl.validate,R.message)},!n))return _(R.message),S}else if(Bn(m)){let E={};for(const R in m){if(!yi(E)&&!n)break;const H=i8(await m[R](y,r),b,R);H&&(E={...H,...M(R,H.message)},_(H.message),n&&(S[x]=E))}if(!yi(E)&&(S[x]={ref:b,...E},!n))return S}}return _(!0),S},Gy=(e,t)=>[...e,...hs(t)],Xy=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Yy(e,t,r){return[...e.slice(0,t),...hs(r),...e.slice(t)]}var Ky=(e,t,r)=>Array.isArray(e)?(fn(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Jy=(e,t)=>[...hs(t),...hs(e)];function ONe(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return ux(n).length?n:[]}var Zy=(e,t)=>fn(t)?[]:ONe(e,hs(t).sort((r,n)=>r-n)),Qy=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function PNe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=fn(e)?n++:e[t[n++]];return e}function INe(e){for(const t in e)if(e.hasOwnProperty(t)&&!fn(e[t]))return!1;return!0}function qn(e,t){const r=Array.isArray(t)?t:p3(t)?[t]:HM(t),n=r.length===1?e:PNe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Bn(n)&&yi(n)||Array.isArray(n)&&INe(n))&&qn(e,r.slice(0,-1)),e}var s8=(e,t,r)=>(e[t]=r,e);function DNe(e){const t=ANe(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,c]=le.useState(r._getFieldArray(n)),u=le.useRef(r._getFieldArray(n).map(bc)),d=le.useRef(l),f=le.useRef(n),h=le.useRef(!1);f.current=n,d.current=l,r._names.array.add(n),o&&r.register(n,o),WM({next:({values:N,name:j})=>{if(j===f.current||!j){const C=xt(N,f.current);Array.isArray(C)&&(c(C),u.current=C.map(bc))}},subject:r._subjects.array});const p=le.useCallback(N=>{h.current=!0,r._updateFieldArray(n,N)},[r,n]),m=(N,j)=>{const C=hs(La(N)),P=Gy(r._getFieldArray(n),C);r._names.focus=qy(n,P.length-1,j),u.current=Gy(u.current,C.map(bc)),p(P),c(P),r._updateFieldArray(n,P,Gy,{argA:Xy(N)})},x=(N,j)=>{const C=hs(La(N)),P=Jy(r._getFieldArray(n),C);r._names.focus=qy(n,0,j),u.current=Jy(u.current,C.map(bc)),p(P),c(P),r._updateFieldArray(n,P,Jy,{argA:Xy(N)})},g=N=>{const j=Zy(r._getFieldArray(n),N);u.current=Zy(u.current,N),p(j),c(j),!Array.isArray(xt(r._fields,n))&&Vr(r._fields,n,void 0),r._updateFieldArray(n,j,Zy,{argA:N})},v=(N,j,C)=>{const P=hs(La(j)),M=Yy(r._getFieldArray(n),N,P);r._names.focus=qy(n,N,C),u.current=Yy(u.current,N,P.map(bc)),p(M),c(M),r._updateFieldArray(n,M,Yy,{argA:N,argB:Xy(j)})},y=(N,j)=>{const C=r._getFieldArray(n);Qy(C,N,j),Qy(u.current,N,j),p(C),c(C),r._updateFieldArray(n,C,Qy,{argA:N,argB:j},!1)},b=(N,j)=>{const C=r._getFieldArray(n);Ky(C,N,j),Ky(u.current,N,j),p(C),c(C),r._updateFieldArray(n,C,Ky,{argA:N,argB:j},!1)},_=(N,j)=>{const C=La(j),P=s8(r._getFieldArray(n),N,C);u.current=[...P].map((M,k)=>!M||k===N?bc():u.current[k]),p(P),c([...P]),r._updateFieldArray(n,P,s8,{argA:N,argB:C},!0,!1)},S=N=>{const j=hs(La(N));u.current=j.map(bc),p([...j]),c([...j]),r._updateFieldArray(n,[...j],C=>C,{},!0,!1)};return le.useEffect(()=>{if(r._state.action=!1,M_(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!Op(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(N=>{const j=xt(N.errors,n),C=xt(r._formState.errors,n);(C?!j&&C.type||j&&(C.type!==j.type||C.message!==j.message):j&&j.type)&&(j?Vr(r._formState.errors,n,j):qn(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const N=xt(r._fields,n);N&&N._f&&!(Op(r._options.reValidateMode).isOnSubmit&&Op(r._options.mode).isOnSubmit)&&F_(N,r._names.disabled,r._formValues,r._options.criteriaMode===$s.all,r._options.shouldUseNativeValidation,!0).then(j=>!yi(j)&&r._subjects.state.next({errors:VM(r._formState.errors,j,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&X0(r._fields,(N,j)=>{if(r._names.focus&&j.startsWith(r._names.focus)&&N.focus)return N.focus(),1}),r._names.focus="",r._updateValid(),h.current=!1},[l,n,r]),le.useEffect(()=>(!xt(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||i)&&r.unregister(n)}),[n,r,a,i]),{swap:le.useCallback(y,[p,n,r]),move:le.useCallback(b,[p,n,r]),prepend:le.useCallback(x,[p,n,r]),append:le.useCallback(m,[p,n,r]),remove:le.useCallback(g,[p,n,r]),insert:le.useCallback(v,[p,n,r]),update:le.useCallback(_,[p,n,r]),replace:le.useCallback(S,[p,n,r]),fields:le.useMemo(()=>l.map((N,j)=>({...N,[a]:u.current[j]||bc()})),[l,a])}}var ew=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},R_=e=>_i(e)||!UM(e);function Rc(e,t){if(R_(e)||R_(t))return e===t;if(Wu(e)&&Wu(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Wu(i)&&Wu(o)||Bn(i)&&Bn(o)||Array.isArray(i)&&Array.isArray(o)?!Rc(i,o):i!==o)return!1}}return!0}var XM=e=>e.type==="select-multiple",MNe=e=>x3(e)||cx(e),tw=e=>Mv(e)&&e.isConnected,YM=e=>{for(const t in e)if(Vo(e[t]))return!0;return!1};function Rv(e,t={}){const r=Array.isArray(e);if(Bn(e)||r)for(const n in e)Array.isArray(e[n])||Bn(e[n])&&!YM(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Rv(e[n],t[n])):_i(e[n])||(t[n]=!0);return t}function KM(e,t,r){const n=Array.isArray(e);if(Bn(e)||n)for(const a in e)Array.isArray(e[a])||Bn(e[a])&&!YM(e[a])?fn(t)||R_(r[a])?r[a]=Array.isArray(e[a])?Rv(e[a],[]):{...Rv(e[a])}:KM(e[a],_i(t)?{}:t[a],r[a]):r[a]=!Rc(e[a],t[a]);return r}var Gh=(e,t)=>KM(e,t,Rv(t)),JM=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>fn(e)?e:t?e===""?NaN:e&&+e:r&&Ko(e)?new Date(e):n?n(e):e;function rw(e){const t=e.ref;return m3(t)?t.files:x3(t)?GM(e.refs).value:XM(t)?[...t.selectedOptions].map(({value:r})=>r):cx(t)?qM(e.refs).value:JM(fn(t.value)?e.ref.value:t.value,e)}var FNe=(e,t,r,n)=>{const a={};for(const i of e){const o=xt(t,i);o&&Vr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Xh=e=>fn(e)?e:Fv(e)?e.source:Bn(e)?Fv(e.value)?e.value.source:e.value:e;const o8="AsyncFunction";var RNe=e=>!!e&&!!e.validate&&!!(Vo(e.validate)&&e.validate.constructor.name===o8||Bn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===o8)),LNe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function l8(e,t,r){const n=xt(e,r);if(n||p3(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=xt(t,i),l=xt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var BNe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,$Ne=(e,t)=>!ux(xt(e,t)).length&&qn(e,t);const zNe={mode:$s.onSubmit,reValidateMode:$s.onChange,shouldFocusError:!0};function UNe(e={}){let t={...zNe,...e},r={submitCount:0,isDirty:!1,isLoading:Vo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Bn(t.defaultValues)||Bn(t.values)?La(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:La(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:ew(),array:ew(),state:ew()},h=Op(t.mode),p=Op(t.reValidateMode),m=t.criteriaMode===$s.all,x=oe=>me=>{clearTimeout(u),u=setTimeout(oe,me)},g=async oe=>{if(!t.disabled&&(d.isValid||oe)){const me=t.resolver?yi((await C()).errors):await M(n,!0);me!==r.isValid&&f.state.next({isValid:me})}},v=(oe,me)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((oe||Array.from(l.mount)).forEach(_e=>{_e&&(me?Vr(r.validatingFields,_e,me):qn(r.validatingFields,_e))}),f.state.next({validatingFields:r.validatingFields,isValidating:!yi(r.validatingFields)}))},y=(oe,me=[],_e,Ie,we=!0,je=!0)=>{if(Ie&&_e&&!t.disabled){if(o.action=!0,je&&Array.isArray(xt(n,oe))){const He=_e(xt(n,oe),Ie.argA,Ie.argB);we&&Vr(n,oe,He)}if(je&&Array.isArray(xt(r.errors,oe))){const He=_e(xt(r.errors,oe),Ie.argA,Ie.argB);we&&Vr(r.errors,oe,He),$Ne(r.errors,oe)}if(d.touchedFields&&je&&Array.isArray(xt(r.touchedFields,oe))){const He=_e(xt(r.touchedFields,oe),Ie.argA,Ie.argB);we&&Vr(r.touchedFields,oe,He)}d.dirtyFields&&(r.dirtyFields=Gh(a,i)),f.state.next({name:oe,isDirty:E(oe,me),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Vr(i,oe,me)},b=(oe,me)=>{Vr(r.errors,oe,me),f.state.next({errors:r.errors})},_=oe=>{r.errors=oe,f.state.next({errors:r.errors,isValid:!1})},S=(oe,me,_e,Ie)=>{const we=xt(n,oe);if(we){const je=xt(i,oe,fn(_e)?xt(a,oe):_e);fn(je)||Ie&&Ie.defaultChecked||me?Vr(i,oe,me?je:rw(we._f)):G(oe,je),o.mount&&g()}},N=(oe,me,_e,Ie,we)=>{let je=!1,He=!1;const Qe={name:oe};if(!t.disabled){const ct=!!(xt(n,oe)&&xt(n,oe)._f&&xt(n,oe)._f.disabled);if(!_e||Ie){d.isDirty&&(He=r.isDirty,r.isDirty=Qe.isDirty=E(),je=He!==Qe.isDirty);const vt=ct||Rc(xt(a,oe),me);He=!!(!ct&&xt(r.dirtyFields,oe)),vt||ct?qn(r.dirtyFields,oe):Vr(r.dirtyFields,oe,!0),Qe.dirtyFields=r.dirtyFields,je=je||d.dirtyFields&&He!==!vt}if(_e){const vt=xt(r.touchedFields,oe);vt||(Vr(r.touchedFields,oe,_e),Qe.touchedFields=r.touchedFields,je=je||d.touchedFields&&vt!==_e)}je&&we&&f.state.next(Qe)}return je?Qe:{}},j=(oe,me,_e,Ie)=>{const we=xt(r.errors,oe),je=d.isValid&&zo(me)&&r.isValid!==me;if(t.delayError&&_e?(c=x(()=>b(oe,_e)),c(t.delayError)):(clearTimeout(u),c=null,_e?Vr(r.errors,oe,_e):qn(r.errors,oe)),(_e?!Rc(we,_e):we)||!yi(Ie)||je){const He={...Ie,...je&&zo(me)?{isValid:me}:{},errors:r.errors,name:oe};r={...r,...He},f.state.next(He)}},C=async oe=>{v(oe,!0);const me=await t.resolver(i,t.context,FNe(oe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(oe),me},P=async oe=>{const{errors:me}=await C(oe);if(oe)for(const _e of oe){const Ie=xt(me,_e);Ie?Vr(r.errors,_e,Ie):qn(r.errors,_e)}else r.errors=me;return me},M=async(oe,me,_e={valid:!0})=>{for(const Ie in oe){const we=oe[Ie];if(we){const{_f:je,...He}=we;if(je){const Qe=l.array.has(je.name),ct=we._f&&RNe(we._f);ct&&d.validatingFields&&v([Ie],!0);const vt=await F_(we,l.disabled,i,m,t.shouldUseNativeValidation&&!me,Qe);if(ct&&d.validatingFields&&v([Ie]),vt[je.name]&&(_e.valid=!1,me))break;!me&&(xt(vt,je.name)?Qe?VM(r.errors,vt,je.name):Vr(r.errors,je.name,vt[je.name]):qn(r.errors,je.name))}!yi(He)&&await M(He,me,_e)}}return _e.valid},k=()=>{for(const oe of l.unMount){const me=xt(n,oe);me&&(me._f.refs?me._f.refs.every(_e=>!tw(_e)):!tw(me._f.ref))&&q(oe)}l.unMount=new Set},E=(oe,me)=>!t.disabled&&(oe&&me&&Vr(i,oe,me),!Rc(ve(),a)),R=(oe,me,_e)=>kNe(oe,l,{...o.mount?i:fn(me)?a:Ko(oe)?{[oe]:me}:me},_e,me),H=oe=>ux(xt(o.mount?i:a,oe,t.shouldUnregister?xt(a,oe,[]):[])),G=(oe,me,_e={})=>{const Ie=xt(n,oe);let we=me;if(Ie){const je=Ie._f;je&&(!je.disabled&&Vr(i,oe,JM(me,je)),we=Mv(je.ref)&&_i(me)?"":me,XM(je.ref)?[...je.ref.options].forEach(He=>He.selected=we.includes(He.value)):je.refs?cx(je.ref)?je.refs.length>1?je.refs.forEach(He=>(!He.defaultChecked||!He.disabled)&&(He.checked=Array.isArray(we)?!!we.find(Qe=>Qe===He.value):we===He.value)):je.refs[0]&&(je.refs[0].checked=!!we):je.refs.forEach(He=>He.checked=He.value===we):m3(je.ref)?je.ref.value="":(je.ref.value=we,je.ref.type||f.values.next({name:oe,values:{...i}})))}(_e.shouldDirty||_e.shouldTouch)&&N(oe,we,_e.shouldTouch,_e.shouldDirty,!0),_e.shouldValidate&&ae(oe)},L=(oe,me,_e)=>{for(const Ie in me){const we=me[Ie],je=`${oe}.${Ie}`,He=xt(n,je);(l.array.has(oe)||Bn(we)||He&&!He._f)&&!Wu(we)?L(je,we,_e):G(je,we,_e)}},V=(oe,me,_e={})=>{const Ie=xt(n,oe),we=l.array.has(oe),je=La(me);Vr(i,oe,je),we?(f.array.next({name:oe,values:{...i}}),(d.isDirty||d.dirtyFields)&&_e.shouldDirty&&f.state.next({name:oe,dirtyFields:Gh(a,i),isDirty:E(oe,je)})):Ie&&!Ie._f&&!_i(je)?L(oe,je,_e):G(oe,je,_e),M_(oe,l)&&f.state.next({...r}),f.values.next({name:o.mount?oe:void 0,values:{...i}})},J=async oe=>{o.mount=!0;const me=oe.target;let _e=me.name,Ie=!0;const we=xt(n,_e),je=()=>me.type?rw(we._f):wNe(oe),He=Qe=>{Ie=Number.isNaN(Qe)||Wu(Qe)&&isNaN(Qe.getTime())||Rc(Qe,xt(i,_e,Qe))};if(we){let Qe,ct;const vt=je(),wt=oe.type===t8.BLUR||oe.type===t8.FOCUS_OUT,bt=!LNe(we._f)&&!t.resolver&&!xt(r.errors,_e)&&!we._f.deps||BNe(wt,xt(r.touchedFields,_e),r.isSubmitted,p,h),lt=M_(_e,l,wt);Vr(i,_e,vt),wt?(we._f.onBlur&&we._f.onBlur(oe),c&&c(0)):we._f.onChange&&we._f.onChange(oe);const rt=N(_e,vt,wt,!1),ir=!yi(rt)||lt;if(!wt&&f.values.next({name:_e,type:oe.type,values:{...i}}),bt)return d.isValid&&(t.mode==="onBlur"&&wt?g():wt||g()),ir&&f.state.next({name:_e,...lt?{}:rt});if(!wt&&lt&&f.state.next({...r}),t.resolver){const{errors:St}=await C([_e]);if(He(vt),Ie){const En=l8(r.errors,n,_e),mr=l8(St,n,En.name||_e);Qe=mr.error,_e=mr.name,ct=yi(St)}}else v([_e],!0),Qe=(await F_(we,l.disabled,i,m,t.shouldUseNativeValidation))[_e],v([_e]),He(vt),Ie&&(Qe?ct=!1:d.isValid&&(ct=await M(n,!0)));Ie&&(we._f.deps&&ae(we._f.deps),j(_e,ct,Qe,rt))}},W=(oe,me)=>{if(xt(r.errors,me)&&oe.focus)return oe.focus(),1},ae=async(oe,me={})=>{let _e,Ie;const we=hs(oe);if(t.resolver){const je=await P(fn(oe)?oe:we);_e=yi(je),Ie=oe?!we.some(He=>xt(je,He)):_e}else oe?(Ie=(await Promise.all(we.map(async je=>{const He=xt(n,je);return await M(He&&He._f?{[je]:He}:He)}))).every(Boolean),!(!Ie&&!r.isValid)&&g()):Ie=_e=await M(n);return f.state.next({...!Ko(oe)||d.isValid&&_e!==r.isValid?{}:{name:oe},...t.resolver||!oe?{isValid:_e}:{},errors:r.errors}),me.shouldFocus&&!Ie&&X0(n,W,oe?we:l.mount),Ie},ve=oe=>{const me={...o.mount?i:a};return fn(oe)?me:Ko(oe)?xt(me,oe):oe.map(_e=>xt(me,_e))},O=(oe,me)=>({invalid:!!xt((me||r).errors,oe),isDirty:!!xt((me||r).dirtyFields,oe),error:xt((me||r).errors,oe),isValidating:!!xt(r.validatingFields,oe),isTouched:!!xt((me||r).touchedFields,oe)}),I=oe=>{oe&&hs(oe).forEach(me=>qn(r.errors,me)),f.state.next({errors:oe?r.errors:{}})},B=(oe,me,_e)=>{const Ie=(xt(n,oe,{_f:{}})._f||{}).ref,we=xt(r.errors,oe)||{},{ref:je,message:He,type:Qe,...ct}=we;Vr(r.errors,oe,{...ct,...me,ref:Ie}),f.state.next({name:oe,errors:r.errors,isValid:!1}),_e&&_e.shouldFocus&&Ie&&Ie.focus&&Ie.focus()},z=(oe,me)=>Vo(oe)?f.values.subscribe({next:_e=>oe(R(void 0,me),_e)}):R(oe,me,!0),q=(oe,me={})=>{for(const _e of oe?hs(oe):l.mount)l.mount.delete(_e),l.array.delete(_e),me.keepValue||(qn(n,_e),qn(i,_e)),!me.keepError&&qn(r.errors,_e),!me.keepDirty&&qn(r.dirtyFields,_e),!me.keepTouched&&qn(r.touchedFields,_e),!me.keepIsValidating&&qn(r.validatingFields,_e),!t.shouldUnregister&&!me.keepDefaultValue&&qn(a,_e);f.values.next({values:{...i}}),f.state.next({...r,...me.keepDirty?{isDirty:E()}:{}}),!me.keepIsValid&&g()},se=({disabled:oe,name:me,field:_e,fields:Ie})=>{(zo(oe)&&o.mount||oe||l.disabled.has(me))&&(oe?l.disabled.add(me):l.disabled.delete(me),N(me,rw(_e?_e._f:xt(Ie,me)._f),!1,!1,!0))},xe=(oe,me={})=>{let _e=xt(n,oe);const Ie=zo(me.disabled)||zo(t.disabled);return Vr(n,oe,{..._e||{},_f:{..._e&&_e._f?_e._f:{ref:{name:oe}},name:oe,mount:!0,...me}}),l.mount.add(oe),_e?se({field:_e,disabled:zo(me.disabled)?me.disabled:t.disabled,name:oe}):S(oe,!0,me.value),{...Ie?{disabled:me.disabled||t.disabled}:{},...t.progressive?{required:!!me.required,min:Xh(me.min),max:Xh(me.max),minLength:Xh(me.minLength),maxLength:Xh(me.maxLength),pattern:Xh(me.pattern)}:{},name:oe,onChange:J,onBlur:J,ref:we=>{if(we){xe(oe,me),_e=xt(n,oe);const je=fn(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,He=MNe(je),Qe=_e._f.refs||[];if(He?Qe.find(ct=>ct===je):je===_e._f.ref)return;Vr(n,oe,{_f:{..._e._f,...He?{refs:[...Qe.filter(tw),je,...Array.isArray(xt(a,oe))?[{}]:[]],ref:{type:je.type,name:oe}}:{ref:je}}}),S(oe,!1,void 0,je)}else _e=xt(n,oe,{}),_e._f&&(_e._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(NNe(l.array,oe)&&o.action)&&l.unMount.add(oe)}}},ie=()=>t.shouldFocusError&&X0(n,W,l.mount),ye=oe=>{zo(oe)&&(f.state.next({disabled:oe}),X0(n,(me,_e)=>{const Ie=xt(n,_e);Ie&&(me.disabled=Ie._f.disabled||oe,Array.isArray(Ie._f.refs)&&Ie._f.refs.forEach(we=>{we.disabled=Ie._f.disabled||oe}))},0,!1))},Te=(oe,me)=>async _e=>{let Ie;_e&&(_e.preventDefault&&_e.preventDefault(),_e.persist&&_e.persist());let we=La(i);if(l.disabled.size)for(const je of l.disabled)Vr(we,je,void 0);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:je,values:He}=await C();r.errors=je,we=He}else await M(n);if(qn(r.errors,"root"),yi(r.errors)){f.state.next({errors:{}});try{await oe(we,_e)}catch(je){Ie=je}}else me&&await me({...r.errors},_e),ie(),setTimeout(ie);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yi(r.errors)&&!Ie,submitCount:r.submitCount+1,errors:r.errors}),Ie)throw Ie},X=(oe,me={})=>{xt(n,oe)&&(fn(me.defaultValue)?V(oe,La(xt(a,oe))):(V(oe,me.defaultValue),Vr(a,oe,La(me.defaultValue))),me.keepTouched||qn(r.touchedFields,oe),me.keepDirty||(qn(r.dirtyFields,oe),r.isDirty=me.defaultValue?E(oe,La(xt(a,oe))):E()),me.keepError||(qn(r.errors,oe),d.isValid&&g()),f.state.next({...r}))},We=(oe,me={})=>{const _e=oe?La(oe):a,Ie=La(_e),we=yi(oe),je=we?a:Ie;if(me.keepDefaultValues||(a=_e),!me.keepValues){if(me.keepDirtyValues){const He=new Set([...l.mount,...Object.keys(Gh(a,i))]);for(const Qe of Array.from(He))xt(r.dirtyFields,Qe)?Vr(je,Qe,xt(i,Qe)):V(Qe,xt(je,Qe))}else{if(h3&&fn(oe))for(const He of l.mount){const Qe=xt(n,He);if(Qe&&Qe._f){const ct=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(Mv(ct)){const vt=ct.closest("form");if(vt){vt.reset();break}}}}n={}}i=t.shouldUnregister?me.keepDefaultValues?La(a):{}:La(je),f.array.next({values:{...je}}),f.values.next({values:{...je}})}l={mount:me.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!me.keepIsValid||!!me.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:me.keepSubmitCount?r.submitCount:0,isDirty:we?!1:me.keepDirty?r.isDirty:!!(me.keepDefaultValues&&!Rc(oe,a)),isSubmitted:me.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:me.keepDirtyValues?me.keepDefaultValues&&i?Gh(a,i):r.dirtyFields:me.keepDefaultValues&&oe?Gh(a,oe):me.keepDirty?r.dirtyFields:{},touchedFields:me.keepTouched?r.touchedFields:{},errors:me.keepErrors?r.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Oe=(oe,me)=>We(Vo(oe)?oe(i):oe,me);return{control:{register:xe,unregister:q,getFieldState:O,handleSubmit:Te,setError:B,_executeSchema:C,_getWatch:R,_getDirty:E,_updateValid:g,_removeUnmounted:k,_updateFieldArray:y,_updateDisabledField:se,_getFieldArray:H,_reset:We,_resetDefaultValues:()=>Vo(t.defaultValues)&&t.defaultValues().then(oe=>{Oe(oe,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:oe=>{r={...r,...oe}},_disableForm:ye,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(oe){o=oe},get _defaultValues(){return a},get _names(){return l},set _names(oe){l=oe},get _formState(){return r},set _formState(oe){r=oe},get _options(){return t},set _options(oe){t={...t,...oe}}},trigger:ae,register:xe,handleSubmit:Te,watch:z,setValue:V,getValues:ve,reset:Oe,resetField:X,clearErrors:I,unregister:q,setError:B,setFocus:(oe,me={})=>{const _e=xt(n,oe),Ie=_e&&_e._f;if(Ie){const we=Ie.refs?Ie.refs[0]:Ie.ref;we.focus&&(we.focus(),me.shouldSelect&&Vo(we.select)&&we.select())}},getFieldState:O}}function rh(e={}){const t=le.useRef(void 0),r=le.useRef(void 0),[n,a]=le.useState({isDirty:!1,isValidating:!1,isLoading:Vo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Vo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...UNe(e),formState:n});const i=t.current.control;return i._options=e,WM({subject:i._subjects.state,next:o=>{ENe(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),le.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),le.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),le.useEffect(()=>{e.values&&!Rc(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),le.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),le.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),le.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=CNe(n,i),t.current}function HNe({isOpen:e,onClose:t}){const{register:r,handleSubmit:n,formState:{errors:a}}=rh(),i=o=>{console.log(o),t()};return s.jsx(ms,{isOpen:e,onClose:t,title:"Nouvel Article",size:"xl",children:s.jsxs("form",{onSubmit:n(i),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'article"}),s.jsx("input",{...r("name",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.name&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"SKU"}),s.jsx("input",{...r("sku",{required:"Le SKU est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.sku&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.sku.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{...r("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),s.jsxs("select",{...r("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"huitres",children:"Huîtres"}),s.jsx("option",{value:"materiels",children:"Matériels"}),s.jsx("option",{value:"emballages",children:"Emballages"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),s.jsxs("select",{...r("unit"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"douzaines",children:"Douzaines"}),s.jsx("option",{value:"unites",children:"Unités"}),s.jsx("option",{value:"kg",children:"Kilogrammes"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock actuel"}),s.jsx("input",{type:"number",...r("currentStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock minimum"}),s.jsx("input",{type:"number",...r("minimumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock maximum"}),s.jsx("input",{type:"number",...r("maximumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix d'achat"}),s.jsx("input",{type:"number",step:"0.01",...r("costPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix de vente"}),s.jsx("input",{type:"number",step:"0.01",...r("sellingPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Emplacement"}),s.jsx("input",{...r("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Fournisseur"}),s.jsxs("select",{...r("supplier"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"",children:"Sélectionner un fournisseur"}),s.jsx("option",{value:"supplier1",children:"Fournisseur 1"}),s.jsx("option",{value:"supplier2",children:"Fournisseur 2"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Créer l'article"})]})]})})}const WNe=[{label:"Huîtres",value:"huitres"},{label:"Matériels",value:"materiels"},{label:"Emballages",value:"emballages"}],VNe=[{label:"Zone A",value:"zone_a"},{label:"Zone B",value:"zone_b"},{label:"Zone C",value:"zone_c"}],qNe=[{label:"En stock",value:"in_stock"},{label:"Stock faible",value:"low_stock"},{label:"Rupture",value:"out_of_stock"}];function GNe({isOpen:e,onClose:t,onApplyFilters:r}){const[n,a]=le.useState([]),[i,o]=le.useState([]),[l,c]=le.useState([]),[u,d]=le.useState({min:"",max:""}),f=()=>{r({categories:n,locations:i,status:l,priceRange:u}),t()},h=()=>{a([]),o([]),c([]),d({min:"",max:""})};return s.jsx(ms,{isOpen:e,onClose:t,title:"Filtres avancés",size:"xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:WNe.map(p=>s.jsx("button",{onClick:()=>{a(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Emplacement"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:VNe.map(p=>s.jsx("button",{onClick:()=>{o(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${i.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut du stock"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:qNe.map(p=>s.jsx("button",{onClick:()=>{c(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${l.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Fourchette de prix"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix minimum"}),s.jsx("input",{type:"number",value:u.min,onChange:p=>d({...u,min:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix maximum"}),s.jsx("input",{type:"number",value:u.max,onChange:p=>d({...u,max:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"100"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[s.jsx("button",{onClick:h,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:f,className:"px-4 py-2 bg-brand-primary rounded-lg text-sm text-white hover:bg-brand-primary/90 transition-colors",children:"Appliquer les filtres"})]})]})]})})}const c8=[{id:"M001",name:"Moules de Méditerranée",type:"moules",price:4.5,unit:"kg",minOrder:100,description:"Moules de Méditerranée, chair généreuse et iodée",origin:"Méditerranée",calibre:"40/50",conservation:"5 jours",certification:["Label Rouge","Pêche durable"]},{id:"P001",name:"Palourdes de l'étang de Thau",type:"palourdes",price:12.9,unit:"kg",minOrder:50,description:"Palourdes sauvages de l'étang de Thau, qualité exceptionnelle",origin:"Étang de Thau",calibre:"20/30",conservation:"7 jours",certification:["IGP Thau"]}],XNe=[{id:"CDB",name:"CDB - Coquillages De Bretagne",address:"12 Quai des Marées, 56000 Vannes",contact:"02.97.54.32.10",preferredProducts:["Moules","Palourdes"],lastDelivery:"2025-02-24",reliability:97,status:"active"},{id:"1",name:"Fournisseur A",address:"123 Rue de la Mer",contact:"0123456789",preferredProducts:["Huîtres","Palourdes"],lastDelivery:"2025-02-20",reliability:98,status:"active"}];function YNe(){const[e,t]=F.useState(null),[r,n]=F.useState(0),[a,i]=F.useState(null),[o,l]=F.useState(null),[c,u]=F.useState(!1),[d,f]=F.useState(0),[h,p]=F.useState({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),m=_=>{const S=parseInt(_,10);!isNaN(S)&&S>=0&&n(S)},x=()=>e&&r?(e.price*r).toFixed(2):"0.00",g=_=>{switch(_){case"moules":return s.jsx(_n,{className:"w-4 h-4"});case"palourdes":return s.jsx(Yk,{className:"w-4 h-4"});default:return s.jsx(si,{className:"w-4 h-4"})}},v=()=>{console.log("Commande confirmée:",{product:e==null?void 0:e.name,quantity:r,total:x()}),t(null),n(0)},y=_=>{var N;const S=(N=_.target.files)==null?void 0:N[0];S&&p(j=>({...j,invoice:S}))},b=_=>{_.preventDefault(),console.log("Nouveau achat:",{...h,rating:d}),u(!1),p({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),f(0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configuration des achats"}),s.jsxs(br,{onClick:()=>u(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-brand-blue/90 text-white",children:[s.jsx(ar,{className:"w-4 h-4"}),"Nouvel achat"]})]}),s.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:XNe.map(_=>s.jsxs(wp,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),s.jsx("div",{className:"relative p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($p,{className:"w-5 h-5 text-brand-burgundy"}),s.jsx("h3",{className:"text-base font-medium text-white",children:_.name})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-white/60",children:_.address}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[s.jsx(Oi,{className:"w-4 h-4"}),_.contact]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-green-500/20 text-green-500 rounded-lg",children:["Fiabilité ",_.reliability,"%"]}),s.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-blue-500/20 text-blue-500 rounded-lg",children:["Dernière livraison : ",_.lastDelivery]})]})]})})})]},_.id))}),o==="CDB"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Catalogue CDB"}),s.jsx("p",{className:"text-sm text-white/60",children:"Sélectionnez vos produits et passez commande"})]}),s.jsxs(br,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(ar,{className:"w-4 h-4"}),"Nouveau produit"]})]}),s.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:c8.map(_=>s.jsxs(wp,{className:`relative overflow-hidden cursor-pointer transition-all duration-200 ${(e==null?void 0:e.id)===_.id?"ring-2 ring-brand-burgundy ring-offset-2 ring-offset-black":"hover:bg-white/5"}`,onClick:()=>t(_),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),s.jsxs("div",{className:"relative p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-base font-medium text-white",children:_.name}),s.jsx("p",{className:"text-sm text-white/60",children:_.description})]}),s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-brand-burgundy/20 rounded-lg",children:[g(_.type),s.jsx("span",{className:"text-xs font-medium text-brand-burgundy",children:_.type})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J0,{className:"w-4 h-4 text-white/40"}),s.jsx("span",{className:"text-sm text-white",children:_.origin})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(r9,{className:"w-4 h-4 text-white/40"}),s.jsxs("span",{className:"text-sm text-white",children:[_.price,"€/",_.unit]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x4,{className:"w-4 h-4 text-white/40"}),s.jsxs("span",{className:"text-sm text-white",children:["Min. ",_.minOrder,_.unit]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n9,{className:"w-4 h-4 text-white/40"}),s.jsx("span",{className:"text-sm text-white",children:_.calibre})]})]}),_.certification&&s.jsx("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:_.certification.map((S,N)=>s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-lg",children:S},N))})]})]},_.id))})]}),e&&s.jsxs(wp,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),s.jsx("div",{className:"relative p-4",children:s.jsx("div",{className:"flex items-start gap-4",children:s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-base font-medium text-white",children:["Commander ",e.name]}),s.jsx(br,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",onClick:()=>i(e.id),children:s.jsx(Z0,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm text-white/60",children:["Quantité (",e.unit,")"]}),s.jsx(zt,{type:"number",value:r,onChange:_=>m(_.target.value),min:0,className:"bg-white/5 border-white/10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-white/60",children:"Total estimé"}),s.jsx("div",{className:"h-9 px-3 flex items-center bg-white/5 rounded-md border border-white/10",children:s.jsxs("span",{className:"text-white font-medium",children:[x(),"€"]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[s.jsxs("p",{className:"text-sm text-white/60",children:["Minimum de commande : ",e.minOrder,e.unit]}),s.jsx(br,{variant:"default",size:"sm",disabled:r<e.minOrder,className:"bg-brand-burgundy hover:bg-brand-burgundy/90",onClick:v,children:"Confirmer la commande"})]})]})})})]}),a&&s.jsx(_v,{open:!!a,children:s.jsxs(Nm,{children:[s.jsx(jm,{children:s.jsx(Sm,{children:"Détails du produit"})}),(()=>{var S;const _=c8.find(N=>N.id===a);return _?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white/5 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-brand-burgundy/20 rounded-lg",children:g(_.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white",children:_.name}),s.jsx("p",{className:"text-sm text-white/60",children:_.description})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-white mb-2",children:"Caractéristiques"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Calibre"}),s.jsx("span",{className:"text-sm text-white",children:_.calibre})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Conservation"}),s.jsx("span",{className:"text-sm text-white",children:_.conservation})]})]})]}),s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-white mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(S=_.certification)==null?void 0:S.map((N,j)=>s.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 rounded-lg text-sm",children:N},j))})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(br,{variant:"outline",onClick:()=>i(null),children:"Fermer"})})]}):null})()]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:s.jsx(Mt,{className:"text-white/60",size:20})})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),s.jsx(zt,{type:"text",value:h.supplier,onChange:_=>p(S=>({...S,supplier:_.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du produit"}),s.jsx(zt,{type:"text",value:h.product,onChange:_=>p(S=>({...S,product:_.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),s.jsx(zt,{type:"date",value:h.expiryDate,onChange:_=>p(S=>({...S,expiryDate:_.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Lieu de stockage"}),s.jsxs("select",{value:h.storageLocation,onChange:_=>p(S=>({...S,storageLocation:_.target.value})),className:"w-full px-3 py-2 rounded-md bg-brand-dark/80 border border-brand-blue/30 text-white focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",required:!0,children:[s.jsx("option",{value:"",children:"Sélectionner un lieu de stockage"}),s.jsx("option",{value:"Frigo 1",children:"Frigo 1"}),s.jsx("option",{value:"Frigo 2",children:"Frigo 2"}),s.jsx("option",{value:"Congélateur 1",children:"Congélateur 1"}),s.jsx("option",{value:"Congélateur 2",children:"Congélateur 2"}),s.jsx("option",{value:"Remise",children:"Remise"}),s.jsx("option",{value:"Cave",children:"Cave"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation du produit"}),s.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(_=>s.jsx("button",{type:"button",onClick:()=>f(_),className:"focus:outline-none",children:s.jsx(qi,{size:24,className:_<=d?"text-yellow-400 fill-yellow-400":"text-white/20"})},_))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:y,className:"hidden"}),s.jsx(vs,{className:"w-5 h-5 text-white/60 mr-2"}),s.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),s.jsxs(br,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[s.jsx(vd,{className:"w-4 h-4"}),"Photo"]}),s.jsxs(br,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[s.jsx(Xk,{className:"w-4 h-4"}),"Scanner"]})]}),h.invoice&&s.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",h.invoice.name]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(br,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Annuler"}),s.jsx(br,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function KNe({isOpen:e,onClose:t}){const{register:r,handleSubmit:n,formState:{errors:a},setValue:i,watch:o}=rh({defaultValues:{rating:0,quantity:1,unitPrice:0}}),[l,c]=F.useState(null),u=o("rating"),d=p=>{console.log(p),t()},f=p=>{var x;const m=(x=p.target.files)==null?void 0:x[0];if(m){const g=new FileReader;g.onloadend=()=>{c(g.result)},g.readAsDataURL(m)}},h=p=>{i("rating",p)};return s.jsx(ms,{isOpen:e,onClose:t,title:"Nouvel achat",size:"lg",children:s.jsxs("form",{onSubmit:n(d),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),s.jsx("input",{...r("productName",{required:"Le nom du produit est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.productName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.productName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),s.jsx("input",{...r("supplierName",{required:"Le nom du fournisseur est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.supplierName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.supplierName.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"DLC"}),s.jsx("input",{type:"date",...r("expiryDate",{required:"La DLC est requise"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.expiryDate&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.expiryDate.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),s.jsx("input",{...r("storageLocation",{required:"Le lieu de stockage est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.storageLocation&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.storageLocation.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Quantité"}),s.jsx("input",{type:"number",min:"1",...r("quantity",{required:"La quantité est requise",min:{value:1,message:"La quantité doit être supérieure à 0"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.quantity.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix unitaire (€)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",...r("unitPrice",{required:"Le prix unitaire est requis",min:{value:0,message:"Le prix doit être positif"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.unitPrice&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.unitPrice.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Note de qualité"}),s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(p=>s.jsx("button",{type:"button",onClick:()=>h(p),className:"focus:outline-none",children:s.jsx(qi,{size:24,className:`${p<=u?"text-yellow-400 fill-current":"text-white/20"} transition-colors`})},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes / Commentaires"}),s.jsx("textarea",{...r("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez des notes ou commentaires sur l'achat..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),s.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:l?s.jsxs("div",{className:"w-full space-y-3",children:[s.jsx("img",{src:l,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>c(null),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):s.jsxs("div",{className:"w-full space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[s.jsx(vs,{size:20,className:"mr-2"}),s.jsx("span",{children:"Choisir un fichier"}),s.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:f})]})}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[s.jsx(vd,{size:20,className:"mr-2"}),s.jsx("span",{children:"Prendre une photo"})]})})]})}),s.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Traçabilité et Comptabilité"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})})}const JNe=()=>{var _e,Ie,we;const[e,t]=F.useState("tables"),[r,n]=F.useState(""),[a,i]=F.useState(null),[o,l]=F.useState(null),[c,u]=F.useState(!1),[d,f]=F.useState(!1),[h,p]=F.useState(!1),[m,x]=F.useState(null),[g,v]=F.useState(!1),[y,b]=F.useState(!1),[_,S]=F.useState(null),[N,j]=F.useState(""),[C,P]=F.useState({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),[M,k]=F.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]}),E=le.useRef(null),R=je=>{const He=Math.floor(Math.random()*1e4);return`${je}-${He.toString().padStart(5,"0")}`},H=()=>{if(!m||!C.name||!C.quantity)return;let je="";m.includes("Frigo")?je="F":m.includes("Congélateur")?je="C":m==="Remise"?je="R":m==="Cave"&&(je="CA");const He={id:R(je),name:C.name,quantity:`${C.quantity}${C.unit==="unités"?" unités":C.unit==="bouteilles"?" bouteilles":C.unit}`,arrivalDate:C.arrivalDate,expiryDate:C.expiryDate===""?"N/A":C.expiryDate};k({...M,[m]:[...M[m],He]}),P({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),v(!1)},G=(je,He)=>{S({id:He.id,name:He.name,quantity:He.quantity});const Qe=He.quantity.match(/^(\d+(?:\.\d+)?)/);Qe&&Qe[1]?j(Qe[1]):j(""),b(!0)},L=je=>{const He=je.match(/[a-zA-Z]+|unités|bouteilles/);return He?He[0]:""},V=je=>{const He=je.match(/^(\d+(?:\.\d+)?)/);return He?parseFloat(He[1]):0},J=()=>{if(!m||!_)return;const je=V(_.quantity),He=parseFloat(N),Qe=L(_.quantity),ct=[...M[m]],vt=ct.findIndex(wt=>wt.id===_.id);if(vt!==-1){if(He>=je){const wt=ct.filter(bt=>bt.id!==_.id);k({...M,[m]:wt}),console.log(`Produit ${_.id} entièrement retiré de ${m}`)}else{const wt={...ct[vt],quantity:`${(je-He).toFixed(2).replace(/\.00$/,"")}${Qe}`};ct[vt]=wt,k({...M,[m]:ct}),console.log(`${N}${Qe} de ${_.name} retiré de ${m}`)}b(!1),S(null),j("")}},{handlers:W,isRefreshing:ae}=Gz(async()=>{await new Promise(je=>setTimeout(je,1e3))}),ve=()=>{switch(e){case"tables":return"Tables";case"trempes":return"Trempes";case"pools":return"Bassins";case"autres":return"Autres emplacements";case"achats":return"Achats";case"charges":return"Charges";default:return""}},[O,I]=F.useState(!1),{register:B,handleSubmit:z,formState:{errors:q}}=rh({defaultValues:{chargeName:"",amount:0,description:"",invoice:null}}),[se,xe]=F.useState(null),ie=je=>{console.log(je),I(!1)},ye=je=>{var Qe;const He=(Qe=je.target.files)==null?void 0:Qe[0];if(He){const ct=new FileReader;ct.onloadend=()=>{xe(ct.result)},ct.readAsDataURL(He)}},Te=()=>{xe(null)};F.useState(!1);const X=[{id:"CH-001",name:"Carburant voiture",amount:50,date:"2025-03-01"},{id:"CH-002",name:"Carburant bateau",amount:75,date:"2025-03-03"},{id:"CH-003",name:"Réparation équipement",amount:200,date:"2025-03-05"}],[We,Oe]=F.useState(!1),[Se,re]=F.useState(null),[Me,oe]=F.useState(!1),me=je=>{re(je),oe(!0)};return s.jsxs("div",{ref:E,className:"p-6 space-y-6",...W,children:[s.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:s.jsx(a9,{size:28,className:"text-white"})})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Inventaire"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:ve()}),s.jsx("div",{className:"flex items-center space-x-3"})]}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[s.jsx("button",{onClick:()=>t("tables"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="tables"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(si,{size:16,className:"mr-2"}),"Tables"]})}),s.jsx("button",{onClick:()=>t("trempes"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="trempes"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($a,{size:16,className:"mr-2"}),"Trempes"]})}),s.jsx("button",{onClick:()=>t("pools"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="pools"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($a,{size:16,className:"mr-2"}),"Bassins"]})}),s.jsx("button",{onClick:()=>t("autres"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="autres"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xo,{size:16,className:"mr-2"}),"Autres emplacements"]})}),s.jsx("button",{onClick:()=>t("achats"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="achats"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bm,{size:16,className:"mr-2"}),"Achats"]})}),s.jsx("button",{onClick:()=>t("charges"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="charges"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bp,{size:16,className:"mr-2"}),"Charges"]})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),s.jsx("input",{type:"text",value:r,onChange:je=>n(je.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(Ca,{size:20,className:"mr-2"}),"Filtres"]})]}),e==="tables"&&s.jsx(qme,{onTableSelect:i,onTableHover:l,hoveredTable:o,selectedTable:a}),e==="pools"&&s.jsx(Jme,{}),e==="trempes"&&s.jsx(xge,{}),e==="autres"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Lieux de stockage alternatifs"}),s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(ar,{size:18,className:"mr-2"}),"Ajouter lieu de stockage"]})]}),s.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Frigo 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:s.jsx($a,{size:18,className:"text-blue-400"})}),s.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),s.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"500 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"65%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:s.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),s.jsx("div",{className:"hidden group-hover:block mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Frigo 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:s.jsx($a,{size:18,className:"text-blue-400"})}),s.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),s.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"300 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"30%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:s.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),s.jsx("div",{className:"hidden group-hover:block mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Congélateur 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:s.jsx(Gu,{size:18,className:"text-cyan-400"})}),s.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),s.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"200 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"85%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:s.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),s.jsx("div",{className:"hidden group-hover:block mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Congélateur 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:s.jsx(Gu,{size:18,className:"text-cyan-400"})}),s.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),s.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"150 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"40%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:s.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),s.jsx("div",{className:"hidden group-hover:block mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Remise"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:s.jsx(si,{size:18,className:"text-amber-400"})}),s.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),s.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"1000 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"55%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:s.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),s.jsx("div",{className:"hidden group-hover:block mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Cave"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:s.jsx(Xo,{size:18,className:"text-purple-400"})}),s.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),s.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"800 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"25%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:s.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),s.jsx("div",{className:"hidden group-hover:block mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})})]}),e==="achats"&&s.jsx(YNe,{}),a&&s.jsx(yNe,{table:a,onClose:()=>i(null)}),c&&e!=="achats"&&s.jsx(HNe,{isOpen:c,onClose:()=>u(!1)}),c&&e==="achats"&&s.jsx(KNe,{isOpen:c,onClose:()=>u(!1)}),d&&s.jsx(GNe,{isOpen:d,onClose:()=>f(!1)}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${m.includes("Frigo")?"bg-blue-500/20":m.includes("Congélateur")?"bg-cyan-500/20":m==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:m.includes("Frigo")?s.jsx($a,{size:20,className:"text-blue-400"}):m.includes("Congélateur")?s.jsx(Gu,{size:20,className:"text-cyan-400"}):m==="Remise"?s.jsx(si,{size:20,className:"text-amber-400"}):s.jsx(Xo,{size:20,className:"text-purple-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:m})]}),s.jsx("button",{onClick:()=>x(null),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-white/70",children:[(_e=M[m])==null?void 0:_e.length," produits stockés"]})}),s.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors flex items-center gap-2",children:[s.jsx(ar,{size:16}),"Ajouter un produit"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[s.jsx("div",{children:"Produit"}),s.jsx("div",{children:"Quantité"}),s.jsx("div",{children:"Date d'arrivée"}),s.jsx("div",{children:"DLC"}),s.jsx("div",{className:"text-right",children:"Actions"})]}),((Ie=M[m])==null?void 0:Ie.length)>0?(we=M[m])==null?void 0:we.map(je=>s.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[s.jsx("div",{className:"font-medium",children:je.name}),s.jsx("div",{children:je.quantity}),s.jsx("div",{children:je.arrivalDate}),s.jsx("div",{children:je.expiryDate==="N/A"?s.jsx("span",{className:"text-white/50",children:"N/A"}):s.jsx("span",{className:`${new Date(je.expiryDate)<new Date?"text-red-400":new Date(je.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:je.expiryDate})}),s.jsx("div",{className:"flex items-center justify-end gap-2",children:s.jsx("button",{onClick:He=>{He.stopPropagation(),G(m,je)},className:"px-3 py-1 bg-brand-burgundy/80 hover:bg-brand-burgundy text-white text-xs rounded-lg transition-colors",children:"Sortir"})})]},je.id)):s.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})}),g&&m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white",children:["Ajouter un produit - ",m]}),s.jsx("button",{onClick:()=>v(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("form",{onSubmit:je=>{je.preventDefault(),H()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Nom du produit"}),s.jsx("input",{type:"text",value:C.name,onChange:je=>P({...C,name:je.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: Huîtres Fines de Claire"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité"}),s.jsx("input",{type:"text",value:C.quantity,onChange:je=>P({...C,quantity:je.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: 50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Unité"}),s.jsxs("select",{value:C.unit,onChange:je=>P({...C,unit:je.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"tonnes",children:"tonnes"}),s.jsx("option",{value:"unités",children:"unités"}),s.jsx("option",{value:"bouteilles",children:"bouteilles"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'arrivée"}),s.jsx("input",{type:"date",value:C.arrivalDate,onChange:je=>P({...C,arrivalDate:je.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'expiration (DLC)"}),s.jsx("input",{type:"date",value:C.expiryDate,onChange:je=>P({...C,expiryDate:je.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"}),s.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Laissez vide si non applicable"})]}),s.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter"})]})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Nouveau lieu de stockage"}),s.jsx("button",{onClick:()=>p(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),s.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Entrepôt principal"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type de stockage"}),s.jsxs("select",{className:"w-full p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[s.jsx("option",{value:"",children:"Sélectionner un type"}),s.jsx("option",{value:"frigo",children:"Frigo"}),s.jsx("option",{value:"congelateur",children:"Congélateur"}),s.jsx("option",{value:"remise",children:"Remise"}),s.jsx("option",{value:"other",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Capacité (estimée)"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: 1000"}),s.jsxs("select",{className:"p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"tonnes",children:"tonnes"}),s.jsx("option",{value:"units",children:"unités"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"w-full py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})]})}),y&&_&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Sortir un produit"}),s.jsx("button",{onClick:()=>{b(!1),S(null)},className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-white text-lg mb-2",children:_.name}),s.jsxs("p",{className:"text-white/70",children:["Quantité disponible: ",_.quantity]})]}),s.jsxs("form",{onSubmit:je=>{je.preventDefault(),J()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité à sortir"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",min:"0.01",step:"0.01",max:V(_.quantity),value:N,onChange:je=>j(je.target.value),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-l-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Quantité"}),s.jsx("span",{className:"bg-white/10 text-white px-4 py-3 rounded-r-lg border-t border-r border-b border-brand-blue/30",children:L(_.quantity)})]})]}),s.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>{b(!1),S(null)},className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Confirmer"})]})]})]})}),e==="charges"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Charges"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(Bp,{size:18,className:"mr-2"}),"Nouvelle Charge"]}),s.jsxs("button",{onClick:()=>Oe(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(sd,{size:18,className:"mr-2"}),"Calendrier"]})]})]}),s.jsxs("div",{className:"space-y-4 mt-6",children:[s.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:s.jsx(Qo,{className:"text-brand-blue",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Carburant voiture"}),s.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-01"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("p",{className:"text-white font-medium",children:"50 €"}),s.jsx("button",{onClick:()=>me(X[0]),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Wc,{size:20})})]})]}),s.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:s.jsx(Qo,{className:"text-brand-blue",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Carburant bateau"}),s.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-03"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("p",{className:"text-white font-medium",children:"75 €"}),s.jsx("button",{onClick:()=>me(X[1]),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Wc,{size:20})})]})]}),s.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:s.jsx(Qo,{className:"text-brand-blue",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Réparation équipement"}),s.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-05"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("p",{className:"text-white font-medium",children:"200 €"}),s.jsx("button",{onClick:()=>me(X[2]),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Wc,{size:20})})]})]})]}),O&&s.jsx(ms,{isOpen:O,onClose:()=>I(!1),title:"Nouvelle Charge",size:"lg",children:s.jsxs("form",{onSubmit:z(ie),className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la charge"}),s.jsx("input",{...B("chargeName",{required:"Le nom de la charge est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),q.chargeName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:q.chargeName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Montant (€)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",...B("amount",{required:"Le montant est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),q.amount&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:q.amount.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{...B("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez une description..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),s.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:se?s.jsxs("div",{className:"w-full space-y-3",children:[s.jsx("img",{src:se,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),s.jsx("button",{type:"button",onClick:Te,className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):s.jsxs("div",{className:"w-full space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[s.jsx(vs,{size:20,className:"mr-2"}),s.jsx("span",{children:"Choisir un fichier"}),s.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:ye})]})}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[s.jsx(vd,{size:20,className:"mr-2"}),s.jsx("span",{children:"Prendre une photo"})]})})]})}),s.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Comptabilité"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})}),We&&s.jsx(ms,{isOpen:We,onClose:()=>Oe(!1),title:"Calendrier",size:"lg",children:s.jsx("div",{className:"p-4",children:s.jsx("p",{className:"text-white",children:"Ici, vous pouvez intégrer un composant de calendrier."})})})]}),Me&&Se&&s.jsx(ms,{isOpen:Me,onClose:()=>oe(!1),title:"Détails de la facture",size:"lg",children:s.jsx("div",{className:"p-4",children:s.jsxs("p",{className:"text-white",children:["Détails de la facture pour ",Se.name]})})}),ae&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white/5 rounded-full p-4",children:s.jsx("div",{className:"w-8 h-8 border-2 border-brand-primary border-t-transparent rounded-full animate-spin"})})})]})},ZNe=[{id:"1",name:"Frigo 1",type:"frigo",capacity:500,occupation:65,icon:"droplets"},{id:"2",name:"Frigo 2",type:"frigo",capacity:300,occupation:30,icon:"droplets"},{id:"3",name:"Congélateur 1",type:"congélateur",capacity:200,occupation:85,icon:"thermometer"},{id:"4",name:"Congélateur 2",type:"congélateur",capacity:150,occupation:40,icon:"thermometer"},{id:"5",name:"Remise",type:"remise",capacity:1e3,occupation:55,icon:"package"},{id:"6",name:"Cave",type:"remise",capacity:800,occupation:25,icon:"map"}],QNe=(e,t)=>{switch(e){case"droplets":return s.jsx($a,{className:t});case"thermometer":return s.jsx(Gu,{className:t});case"package":return s.jsx(si,{className:t});case"map":return s.jsx(Xo,{className:t})}},e3e=e=>{switch(e){case"frigo":return"blue";case"congélateur":return"cyan";case"remise":return e==="remise"?"amber":"purple";default:return"blue"}},t3e=()=>{const[e,t]=F.useState(null);return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ZNe.map(r=>{const n=e3e(r.type);return s.jsxs("div",{className:"relative p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors cursor-pointer group",onClick:()=>t(r.id),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-md bg-${n}-500/20 flex items-center justify-center mr-3`,children:QNe(r.icon,`text-${n}-400`)}),s.jsx("h3",{className:"text-white font-medium",children:r.name})]}),s.jsx("div",{className:`bg-${n}-500/20 text-${n}-400 text-xs px-2 py-1 rounded-full`,children:r.type.charAt(0).toUpperCase()+r.type.slice(1)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsxs("span",{className:"text-white",children:[r.capacity," kg"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsxs("span",{className:"text-white",children:[r.occupation,"%"]})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:s.jsx("div",{className:`bg-${n}-400 h-full rounded-full`,style:{width:`${r.occupation}%`}})}),s.jsx("div",{className:"hidden group-hover:block mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]},r.id)})})},r3e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},n3e={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},a3e=[{id:"1",name:"Huîtres N°3",quantity:1e3,unit:"pièces",location:"Bassin A",lastUpdate:new Date},{id:"2",name:"Huîtres N°2",quantity:500,unit:"pièces",location:"Bassin B",lastUpdate:new Date},{id:"3",name:"Huîtres N°1",quantity:300,unit:"pièces",location:"Bassin C",lastUpdate:new Date}],i3e=()=>{const[e,t]=le.useState(a3e),[r,n]=le.useState(""),[a,i]=F.useState("current"),o=So(),l=d=>{o(`/tables/${d}`)},c=d=>{i(d)},u=[{id:"current",label:"Stock actuel",icon:s.jsx(si,{size:20,className:"text-cyan-400"}),count:3},{id:"movements",label:"Mouvements",icon:s.jsx(dj,{size:20,className:"text-cyan-400"})},{id:"history",label:"Historique",icon:s.jsx(sd,{size:20,className:"text-cyan-400"})},{id:"analytics",label:"Statistiques",icon:s.jsx(fj,{size:20,className:"text-cyan-400"})}];return F.useEffect(()=>{},[a]),s.jsxs("div",{className:"w-full p-6 min-h-screen animate-fadeIn",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion des Stocks"}),s.jsx("p",{className:"text-white/70 mt-2",children:"Gestion centralisée des stocks pour tous vos produits."})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(An,{className:"absolute left-3 text-white/50",size:18,"aria-hidden":"true"}),s.jsx("input",{type:"text",placeholder:"Rechercher un stock...",value:r,onChange:d=>n(d.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-auto min-w-[280px] rounded-lg bg-white/5 border border-white/10 focus:border-cyan-400/30 text-white shadow-[0_4px_10px_rgba(0,0,0,0.25)] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher un stock"}),s.jsx(Ca,{className:"absolute right-3 text-white/50",size:18,"aria-hidden":"true"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un nouveau stock",children:[s.jsx(ar,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Nouveau stock"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les stocks",children:[s.jsx(Ca,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Filtres"})]})]}),s.jsx("div",{className:"relative mb-6 mt-4",children:s.jsx("div",{id:"stock-page-tabs",className:"w-full overflow-x-auto hide-scrollbar",children:s.jsx("div",{className:"flex gap-4",role:"tablist",style:{padding:"4px",borderRadius:"12px"},children:u.map(d=>s.jsxs("button",{onClick:()=>c(d.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",transition:"all 0.3s ease",minWidth:"44px",minHeight:"44px",backgroundColor:a===d.id?"rgba(6, 182, 212, 0.2)":"transparent",color:a===d.id?"#22d3ee":"rgba(255, 255, 255, 0.6)",boxShadow:a===d.id?"0 4px 10px rgba(0, 0, 0, 0.25), 0 0 15px rgba(0, 210, 200, 0.2)":"none",border:a===d.id?"1px solid rgba(6, 182, 212, 0.3)":"1px solid rgba(255, 255, 255, 0.1)"},className:`stockpage-tab ${a===d.id?"stockpage-tab-active":"stockpage-tab-inactive"}`,role:"tab","aria-selected":a===d.id,children:[d.icon,s.jsx("span",{children:d.label}),d.count!==void 0&&s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:a===d.id?"rgba(6, 182, 212, 0.3)":"rgba(255, 255, 255, 0.1)",borderRadius:"9999px",padding:"2px 8px",fontSize:"0.75rem",fontWeight:"bold"},children:d.count})]},d.id))})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",role:"tabpanel",id:`tab-panel-${a}`,"aria-labelledby":`tab-${a}`,children:[a==="current"&&s.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(si,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Inventaire actuel"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'inventaire",children:[s.jsx(Ca,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Exporter"})]})})]}),s.jsx(Ne.div,{initial:"hidden",animate:"visible",variants:r3e,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>s.jsxs(Ne.div,{variants:n3e,className:"glass p-4 rounded-lg border border-white/10 hover:border-white/20 transition-duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),s.jsx("span",{className:"text-white/60 text-sm",children:d.lastUpdate.toLocaleDateString()})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Quantité"}),s.jsxs("span",{className:"font-medium text-white",children:[d.quantity," ",d.unit]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Emplacement"}),s.jsx("span",{className:"font-medium text-white",children:d.location})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1.5 text-sm rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":`Voir les détails de ${d.name}`,children:"Voir détails"})})]},d.id))})]}),a==="movements"&&s.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(dj,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Mouvements de stock"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Nouveau mouvement",children:[s.jsx(ar,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Nouveau mouvement"})]})})]}),s.jsx("div",{className:"text-center py-10 text-white/60",children:'Aucun mouvement récent. Utilisez le bouton "Nouveau mouvement" pour en créer un.'})]}),a==="history"&&s.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(sd,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Historique des stocks"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'historique",children:[s.jsx(Ca,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Exporter"})]})})]}),s.jsx("div",{className:"text-center py-10 text-white/60",children:"L'historique des mouvements de stock sera affiché ici."})]}),a==="analytics"&&s.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(fj,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Statistiques des stocks"]})}),s.jsx("div",{className:"text-center py-10 text-white/60",children:"Les statistiques et graphiques de performance des stocks seront affichés ici."})]})]}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-white/90",children:"Autres emplacements"}),s.jsx(t3e,{})]})]})};class Dm extends F.PureComponent{render(){const{series:t,height:r,showGrid:n,showLegend:a}=this.props;if(!t||t.length===0||!t[0].data)return s.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-white/5 rounded-lg border border-white/10",children:s.jsx("p",{className:"text-white/60",children:"Aucune donnée disponible"})});const i=t[0].data.map((o,l)=>{const c={name:o.name};return t.forEach(u=>{u.data[l]&&(c[u.name]=u.data[l].value)}),c});return s.jsx(Pg,{width:"100%",height:r,children:s.jsxs(Mme,{data:i,children:[n&&s.jsx(SN,{strokeDasharray:"3 3",stroke:"rgb(var(--color-border) / 0.5)"}),s.jsx(Xf,{dataKey:"name",stroke:"rgb(var(--color-text-secondary))",fontSize:12}),s.jsx(Yf,{stroke:"rgb(var(--color-text-secondary))",fontSize:12}),s.jsx(Ls,{contentStyle:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a&&s.jsx(Xu,{verticalAlign:"top",height:36,iconType:"circle",formatter:o=>s.jsx("span",{style:{color:"rgb(var(--color-text))"},children:o})}),t.map(o=>s.jsx(rx,{type:"monotone",dataKey:o.name,stroke:o.color,strokeWidth:2,dot:{fill:o.color,strokeWidth:0},activeDot:{r:6,strokeWidth:0}},o.name))]})})}}sj(Dm,"defaultProps",{height:300,showGrid:!0,showLegend:!0});const s3e=[{id:"1",name:"À réception",days:0},{id:"2",name:"30 jours",days:30},{id:"3",name:"60 jours",days:60}],o3e=[{id:"1",name:"TVA 20%",rate:20,isDefault:!0},{id:"2",name:"TVA 10%",rate:10,isDefault:!1},{id:"3",name:"TVA 5.5%",rate:5.5,isDefault:!1}];function ZM({type:e,initialData:t,onSubmit:r,onCancel:n}){const{register:a,control:i,handleSubmit:o,watch:l,setValue:c,formState:{errors:u}}=rh({defaultValues:{type:e,status:"draft",date:It(new Date,"yyyy-MM-dd"),items:(t==null?void 0:t.items)||[{description:"",quantity:1,unit_price:0,tax_rate:20}],...t}}),{fields:d,append:f,remove:h}=DNe({control:i,name:"items"}),p=l("items"),m=()=>p.reduce((v,y)=>v+y.quantity*y.unit_price,0),x=()=>p.reduce((v,y)=>{const b=y.tax_rate||20;return v+y.quantity*y.unit_price*(b/100)},0),g=()=>m()+x();return s.jsxs("form",{onSubmit:o(r),className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e==="sale"?"Nouvelle Facture":"Nouvelle Facture Fournisseur"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[s.jsx(bd,{size:20,className:"mr-2"}),"Enregistrer"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:e==="sale"?"Client":"Fournisseur"}),s.jsx("select",{...a("customer_id"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:s.jsx("option",{value:"",children:"Sélectionner..."})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),s.jsx("input",{type:"date",...a("date"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Conditions de paiement"}),s.jsx("select",{...a("payment_terms"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:s3e.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Articles"}),s.jsxs("button",{type:"button",onClick:()=>f({description:"",quantity:1,unit_price:0,tax_rate:20}),className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Ajouter un article"]})]}),s.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white",children:"Description"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Quantité"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Prix unitaire"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"TVA"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Total HT"}),s.jsx("th",{className:"px-4 py-3 w-16"})]})}),s.jsx("tbody",{children:d.map((v,y)=>{var b,_;return s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{...a(`items.${y}.description`),className:"w-full px-3 py-1 bg-white/5 border border-white/10 rounded text-white",placeholder:"Description de l'article"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"number",...a(`items.${y}.quantity`),className:"w-24 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"1"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"number",step:"0.01",...a(`items.${y}.unit_price`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"0"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("select",{...a(`items.${y}.tax_rate`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white",children:o3e.map(S=>s.jsx("option",{value:S.rate,children:S.name},S.id))})}),s.jsxs("td",{className:"px-4 py-3 text-right text-white",children:[(((b=p[y])==null?void 0:b.quantity)*((_=p[y])==null?void 0:_.unit_price)).toFixed(2),"€"]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{type:"button",onClick:()=>h(y),className:"p-1 text-white/60 hover:text-white transition-colors",children:s.jsx(Oa,{size:16})})})]},v.id)})})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-64 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Sous-total HT"}),s.jsxs("span",{className:"text-white",children:[m().toFixed(2),"€"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"TVA"}),s.jsxs("span",{className:"text-white",children:[x().toFixed(2),"€"]})]}),s.jsxs("div",{className:"flex justify-between text-base font-medium pt-2 border-t border-white/10",children:[s.jsx("span",{className:"text-white",children:"Total TTC"}),s.jsxs("span",{className:"text-white",children:[g().toFixed(2),"€"]})]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes"}),s.jsx("textarea",{...a("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Notes ou conditions particulières..."})]})]})}const u8=[{month:"Jan",revenue:45e3,expenses:32e3},{month:"Fév",revenue:52e3,expenses:35e3},{month:"Mar",revenue:48e3,expenses:33e3},{month:"Avr",revenue:51e3,expenses:36e3},{month:"Mai",revenue:58e3,expenses:38e3},{month:"Juin",revenue:53e3,expenses:34e3}],d8=[{month:"Jan",inflow:55e3,outflow:42e3},{month:"Fév",inflow:62e3,outflow:45e3},{month:"Mar",inflow:58e3,outflow:43e3},{month:"Avr",inflow:61e3,outflow:46e3},{month:"Mai",inflow:68e3,outflow:48e3},{month:"Juin",inflow:63e3,outflow:44e3}],Lv=(e,t)=>({data:e.map(r=>({name:r.month,value:r[t]}))}),l3e=[{name:"Revenus",color:"#22d3ee",...Lv(u8,"revenue")},{name:"Dépenses",color:"#fb7185",...Lv(u8,"expenses")}],c3e=[{name:"Entrées",color:"#22d3ee",...Lv(d8,"inflow")},{name:"Sorties",color:"#fb7185",...Lv(d8,"outflow")}];function u3e(){const[e,t]=F.useState(!0),[r,n]=F.useState(""),[a,i]=F.useState(!1);F.useState("month");const o=l=>{console.log("Creating invoice:",l),i(!1)};return s.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:s.jsx(hj,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Comptabilité"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(ar,{size:20,"aria-hidden":"true"}),"Nouvelle Facture"]}),s.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(Kk,{size:20,"aria-hidden":"true"}),"Statistiques"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(Jk,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Chiffre d'affaires"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"58,000 €"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(i9,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Bénéfice net"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"12,500 €"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(hj,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Dépenses"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"45,500 €"}),s.jsx("p",{className:"text-sm text-rose-400",children:"+5% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(s9,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Trésorerie"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"25,800 €"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+3% ce mois"})]})]})})]}),e&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Revenus et Dépenses"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),s.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),s.jsx(Dm,{series:l3e,height:300})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Flux de Trésorerie"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),s.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),s.jsx(Dm,{series:c3e,height:300})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transactions récentes"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40","aria-hidden":"true"}),s.jsx("input",{type:"text",placeholder:"Rechercher...",className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",value:r,onChange:l=>n(l.target.value)})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(Ca,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-white/60",children:[s.jsx("th",{className:"pb-4",children:"Date"}),s.jsx("th",{className:"pb-4",children:"Description"}),s.jsx("th",{className:"pb-4",children:"Type"}),s.jsx("th",{className:"pb-4 text-right",children:"Montant"}),s.jsx("th",{className:"pb-4",children:"Statut"})]})}),s.jsxs("tbody",{className:"text-white",children:[s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-4",children:"15/06/2023"}),s.jsx("td",{children:"Facture #2023-156"}),s.jsx("td",{children:"Vente"}),s.jsx("td",{className:"text-right text-cyan-400",children:"+3,500€"}),s.jsx("td",{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Payée"})})]}),s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-4",children:"14/06/2023"}),s.jsx("td",{children:"Fournitures bureau"}),s.jsx("td",{children:"Dépense"}),s.jsx("td",{className:"text-right text-red-400",children:"-250€"}),s.jsx("td",{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"Traitée"})})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Facture"}),s.jsx("button",{onClick:()=>i(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:s.jsx(Mt,{size:24})})]}),s.jsx(ZM,{type:"sale",onSubmit:o,onCancel:()=>i(!1)})]})})]})}const d3e=[{id:"1",type:"sale",number:"FACT-2025-001",date:"2025-02-20",due_date:"2025-03-20",customer_id:"1",customer:{id:"1",name:"Restaurant La Marée",email:"contact@lamaree.fr",address:"123 Avenue de la Mer, 17000 La Rochelle"},status:"sent",subtotal:1250,tax:250,total:1500,notes:"",items:[{id:"1",invoice_id:"1",description:"Huîtres Plates N°3",quantity:50,unit_price:25,tax_rate:20,total:1500}]},{id:"2",type:"purchase",number:"FACT-2025-002",date:"2025-02-19",due_date:"2025-03-19",supplier_id:"1",supplier:{id:"1",name:"Naissain Express",email:"contact@naissain-express.fr",address:"456 Route des Parcs, 17560 Bourcefranc-le-Chapus"},status:"paid",subtotal:800,tax:160,total:960,notes:"",items:[{id:"2",invoice_id:"2",description:"Naissain d'huîtres",quantity:1e3,unit_price:.8,tax_rate:20,total:960}]}],f3e={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",paid:"bg-green-500/20 text-green-300",overdue:"bg-red-500/20 text-red-300",cancelled:"bg-yellow-500/20 text-yellow-300"},h3e={draft:ci,sent:Um,paid:$w,overdue:li,cancelled:Zk};function p3e({type:e,onEdit:t,onDelete:r}){const[n,a]=F.useState(null),i=d3e.filter(c=>c.type===e),o=c=>{console.log("Downloading invoice:",c.number)},l=c=>{console.log("Sending invoice:",c.number)};return s.jsx("div",{className:"space-y-4",children:i.map(c=>{var d,f;const u=h3e[c.status];return s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:s.jsx(Qo,{size:20,className:"text-brand-burgundy"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:c.number}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center ${f3e[c.status]}`,children:[s.jsx(u,{size:12,className:"mr-1"}),c.status]})]}),s.jsx("div",{className:"mt-1 text-sm text-white/60",children:e==="sale"?(d=c.customer)==null?void 0:d.name:(f=c.supplier)==null?void 0:f.name}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60",children:"Date"}),s.jsx("div",{className:"text-white",children:It(new Date(c.date),"PP",{locale:cr})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60",children:"Échéance"}),s.jsx("div",{className:"text-white",children:It(new Date(c.due_date),"PP",{locale:cr})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60",children:"Montant TTC"}),s.jsxs("div",{className:"text-white font-medium",children:[c.total.toFixed(2),"€"]})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>a(n===c.id?null:c.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(zm,{size:20,className:"text-white/60"})}),n===c.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[s.jsxs("button",{onClick:()=>o(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(Gi,{size:16,className:"mr-2"}),"Télécharger"]}),c.status==="draft"&&s.jsxs("button",{onClick:()=>l(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(Um,{size:16,className:"mr-2"}),"Envoyer"]}),s.jsxs("button",{onClick:()=>t(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(Kc,{size:16,className:"mr-2"}),"Modifier"]}),s.jsxs("button",{onClick:()=>r(c),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},c.id)})})}function m3e(){const[e,t]=F.useState("sales"),[r,n]=F.useState(!1),[a,i]=F.useState(""),[o,l]=F.useState(null),c=f=>{console.log("Creating invoice:",f),n(!1)},u=f=>{l(f)},d=f=>{confirm(`Êtes-vous sûr de vouloir supprimer la facture ${f.number} ?`)&&console.log("Deleting invoice:",f.number)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Factures"}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Nouvelle Facture"]})})]}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[s.jsx("button",{onClick:()=>t("sales"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="sales"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qo,{size:16,className:"mr-2"}),"Factures Clients"]})}),s.jsx("button",{onClick:()=>t("purchases"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="purchases"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gi,{size:16,className:"mr-2"}),"Factures Fournisseurs"]})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),s.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),placeholder:"Rechercher une facture...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(Ca,{size:20,className:"mr-2"}),"Filtres"]})]}),s.jsx(p3e,{type:e==="sales"?"sale":"purchase",onEdit:u,onDelete:d}),(r||o)&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:s.jsx(ZM,{type:e==="sales"?"sale":"purchase",initialData:o||void 0,onSubmit:c,onCancel:()=>{n(!1),l(null)}})})})]})}const x3e=[{id:"1",date:"2025-02-19",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"18:00"}},{id:"2",date:"2025-02-20",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"}},{id:"3",date:"2025-02-21",morning:{start:"07:30",end:"12:00"}}];function g3e({date:e,period:t,currentSchedule:r,onSave:n,onDelete:a}){const[i,o]=F.useState((r==null?void 0:r.start)||(t==="morning"?"08:00":"14:00")),[l,c]=F.useState((r==null?void 0:r.end)||(t==="morning"?"12:00":"18:00")),u=()=>{n({start:i,end:l})};return s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-white font-medium",children:[t==="morning"?"Matin":"Après-midi"," - ",It(e,"EEEE d MMMM",{locale:cr})]}),r&&a&&s.jsx("button",{onClick:a,className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5","aria-label":"Supprimer le créneau",children:s.jsx(Oa,{size:16})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`start-${t}`,className:"block text-sm text-white/60 mb-1",children:"Début"}),s.jsx("input",{id:`start-${t}`,type:"time",value:i,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:`end-${t}`,className:"block text-sm text-white/60 mb-1",children:"Fin"}),s.jsx("input",{id:`end-${t}`,type:"time",value:l,onChange:d=>c(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsx("button",{onClick:u,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})}function QM({employee:e,onClose:t}){var v,y,b;const[r,n]=F.useState(new Date),[a,i]=F.useState(x3e),[o,l]=F.useState(null),{session:c}=ys();(v=c==null?void 0:c.user)==null||v.role;const u=tf(r,{weekStartsOn:1}),d=g$(r,{weekStartsOn:1}),f=m$({start:u,end:d}),h=()=>n(mz(r,1)),p=()=>n(wT(r,1)),m=_=>a.find(S=>c$(new Date(S.date),_)),x=(_,S,N)=>{i(j=>{const C=It(_,"yyyy-MM-dd"),P=j.findIndex(M=>M.date===C);if(P>=0){const M=[...j];return M[P]={...M[P],[S]:N},M}else return[...j,{id:crypto.randomUUID(),date:C,[S]:N}]}),l(null)},g=(_,S)=>{i(N=>{const j=It(_,"yyyy-MM-dd"),C=N.findIndex(P=>P.date===j);if(C>=0){const P=[...N],M=P[C];return S==="morning"?delete M.morning:delete M.afternoon,!M.morning&&!M.afternoon&&P.splice(C,1),P}return N}),l(null)};return s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-white/10",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:e.name}),s.jsx("p",{className:"text-white/60",children:"Planning hebdomadaire"})]})})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsx("button",{onClick:h,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine précédente",children:s.jsx(Qk,{size:20,className:"text-white/60"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wa,{size:20,className:"text-white/60"}),s.jsx("span",{className:"text-white font-medium",children:It(u,"MMMM yyyy",{locale:cr})})]}),s.jsx("button",{onClick:p,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine suivante",children:s.jsx(If,{size:20,className:"text-white/60"})})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-1 p-6",children:s.jsx("div",{className:"grid grid-cols-7 gap-4",children:f.map((_,S)=>{var N,j,C,P,M,k,E,R,H,G,L,V;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-white/60",children:It(_,"EEEE",{locale:cr})}),s.jsx("div",{className:"text-lg font-medium text-white",children:It(_,"d",{locale:cr})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ne.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(N=m(_))!=null&&N.morning?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:_,period:"morning"}),whileHover:{scale:1.02},children:[s.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Matin"}),s.jsx("div",{className:"text-sm text-white/60",children:(j=m(_))!=null&&j.morning?`${(P=(C=m(_))==null?void 0:C.morning)==null?void 0:P.start} - ${(k=(M=m(_))==null?void 0:M.morning)==null?void 0:k.end}`:"-"})]}),s.jsxs(Ne.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(E=m(_))!=null&&E.afternoon?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:_,period:"afternoon"}),whileHover:{scale:1.02},children:[s.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Après-midi"}),s.jsx("div",{className:"text-sm text-white/60",children:(R=m(_))!=null&&R.afternoon?`${(G=(H=m(_))==null?void 0:H.afternoon)==null?void 0:G.start} - ${(V=(L=m(_))==null?void 0:L.afternoon)==null?void 0:V.end}`:"-"})]})]})]},S)})})}),s.jsx(hr,{children:o&&s.jsx(Ne.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 overflow-hidden",children:s.jsx("div",{className:"w-80 p-6",children:s.jsx(g3e,{date:o.date,period:o.period,currentSchedule:(y=m(o.date))==null?void 0:y[o.period],onSave:_=>x(o.date,o.period,_),onDelete:(b=m(o.date))!=null&&b[o.period]?()=>g(o.date,o.period):void 0})})})})]})]})}const v3e=[{id:"1",name:"Jean Dupont",position:"Responsable Production",department:"Production",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"Site A",status:"active",hireDate:"2024-01-15"},{id:"2",name:"Marie Martin",position:"Technicienne Maintenance",department:"Maintenance",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Site B",status:"active",hireDate:"2024-02-01"}];function b3e({searchQuery:e}){const[t,r]=F.useState(null),[n,a]=F.useState(!1),i=v3e.filter(l=>l.name.toLowerCase().includes(e.toLowerCase())||l.position.toLowerCase().includes(e.toLowerCase())||l.department.toLowerCase().includes(e.toLowerCase())),o=(l,c)=>{c.stopPropagation(),r(l),a(!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(l=>s.jsx("div",{className:"bg-white/5 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-200 group",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#00D1FF]/20 rounded-full flex items-center justify-center",children:l.avatar?s.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full rounded-full"}):s.jsx("span",{className:"text-white text-lg font-medium",children:l.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),s.jsx("p",{className:"text-sm text-white/60",children:l.position})]})]}),s.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zm,{size:20})})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(qs,{size:16,className:"mr-2"}),l.email]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(Oi,{size:16,className:"mr-2"}),l.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(Pi,{size:16,className:"mr-2"}),l.location]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-white/60",children:["Embauché le ",new Date(l.hireDate).toLocaleDateString("fr-FR")]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.status==="active"?"bg-[#00D1FF]/20 text-[#00D1FF]":"bg-yellow-500/20 text-yellow-300"}`,children:l.status==="active"?"Actif":"Inactif"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:s.jsxs("button",{onClick:c=>o(l,c),className:"w-full flex items-center justify-center px-4 py-2 bg-[#00D1FF]/20 rounded-lg text-[#00D1FF] hover:bg-[#00D1FF]/30 transition-colors",children:[s.jsx(Wa,{size:16,className:"mr-2"}),"Voir le planning"]})})]})},l.id))}),n&&t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>a(!1),children:s.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:s.jsx(QM,{employee:t,onClose:()=>a(!1)})})})]})}function y3e({onClose:e}){const{register:t,handleSubmit:r,formState:{errors:n}}=rh(),a=i=>{console.log(i),e()};return s.jsxs("form",{onSubmit:r(a),className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Nouvel Employé"}),s.jsx("button",{type:"button",onClick:e,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),s.jsx("input",{...t("firstName",{required:"Le prénom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.firstName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.firstName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),s.jsx("input",{...t("lastName",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.lastName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.lastName.message})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),s.jsx("input",{type:"email",...t("email",{required:"L'email est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.email&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),s.jsx("input",{...t("phone"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Poste"}),s.jsx("input",{...t("position",{required:"Le poste est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.position&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.position.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),s.jsxs("select",{...t("department"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[s.jsx("option",{value:"production",children:"Production"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"quality",children:"Contrôle Qualité"}),s.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),s.jsx("input",{...t("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),s.jsx("input",{type:"date",...t("startDate"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Identifiant employé"}),s.jsx("input",{...t("employeeId"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),s.jsx("input",{...t("emergencyContact"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'employé"})]})]})}const w3e=[{id:"1",type:"Congés payés",startDate:"2025-03-15",endDate:"2025-03-22",status:"approved",reason:"Vacances"},{id:"2",type:"Maladie",startDate:"2025-02-10",endDate:"2025-02-12",status:"approved",reason:"Grippe"},{id:"3",type:"RTT",startDate:"2025-04-01",endDate:"2025-04-01",status:"pending",reason:"Personnel"}];function _3e({isOpen:e,onClose:t,onConfirm:r,action:n}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:n==="approve"?"Confirmer l'approbation":"Confirmer le refus"}),s.jsx("p",{className:"text-white/70 mb-6",children:n==="approve"?"Êtes-vous sûr de vouloir approuver cette demande de congé ?":"Êtes-vous sûr de vouloir refuser cette demande de congé ?"}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>r(n==="approve"),className:`px-4 py-2 rounded-lg text-white transition-colors ${n==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:n==="approve"?"Approuver":"Refuser"})]})]})}):null}function N3e({request:e,onClose:t,onValidate:r}){const[n,a]=F.useState(""),[i,o]=F.useState(null),l=c=>{r(e.id,c,n),o(null),t()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Validation de congé"}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Type"}),s.jsx("div",{className:"text-white font-medium",children:e.type})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Période"}),s.jsxs("div",{className:"text-white font-medium",children:[It(new Date(e.startDate),"dd/MM/yyyy")," - ",It(new Date(e.endDate),"dd/MM/yyyy")]})]})]}),e.reason&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Motif"}),s.jsx("div",{className:"text-white",children:e.reason})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de validation"}),s.jsx("textarea",{value:n,onChange:c=>a(c.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes optionnelles..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>o("reject"),className:"px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Refuser"}),s.jsx("button",{onClick:()=>o("approve"),className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approuver"})]})]})]})}),s.jsx(_3e,{isOpen:i!==null,onClose:()=>o(null),onConfirm:c=>l(c),action:i||"approve"})]})}function j3e(){const[e,t]=F.useState(w3e),[r,n]=F.useState(null),[a,i]=F.useState({start:"",end:""}),o=(c,u,d)=>{t(e.map(f=>f.id===c?{...f,status:u?"approved":"rejected",notes:d}:f)),n(null)},l=e.filter(c=>{if(!a.start&&!a.end)return!0;const u=new Date(c.startDate),d=a.start?new Date(a.start):null,f=a.end?new Date(a.end):null;return d&&f?u>=d&&u<=f:d?u>=d:f?u<=f:!0});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Gestion des Congés"}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Nouvelle demande"]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Solde congés payés"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"15 jours"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-white/60 text-sm",children:"RTT restants"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"5 jours"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Congés pris"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"12 jours"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Congés à venir"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"7 jours"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),s.jsx("input",{type:"date",value:a.start,onChange:c=>i(u=>({...u,start:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),s.jsx("input",{type:"date",value:a.end,onChange:c=>i(u=>({...u,end:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsx("button",{onClick:()=>i({start:"",end:""}),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Réinitialiser"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsx("h3",{className:"text-lg font-medium text-white",children:"Demandes de congés"})}),s.jsx("div",{className:"divide-y divide-white/10",children:l.map(c=>s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:s.jsx(Wa,{size:20,className:"text-white/60"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:c.type}),s.jsxs("div",{className:"text-sm text-white/60",children:["Du ",It(new Date(c.startDate),"dd/MM/yyyy",{locale:cr})," au"," ",It(new Date(c.endDate),"dd/MM/yyyy",{locale:cr})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.status==="approved"?"bg-green-500/20 text-green-300":c.status==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:c.status==="approved"?"Approuvé":c.status==="rejected"?"Refusé":"En attente"}),c.status==="pending"&&s.jsx("button",{onClick:()=>n(c.id),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Valider"})]})]}),c.reason&&s.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Motif : ",c.reason]}),c.notes&&s.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Notes : ",c.notes]})]},c.id))})]}),r&&s.jsx(N3e,{request:e.find(c=>c.id===r),onClose:()=>n(null),onValidate:o})]})}const S3e=[{id:"1",employeeName:"Jean Dupont",position:"Responsable Production",date:"2025-01-15",overallRating:4.5,status:"completed",strengths:["Leadership","Organisation","Communication"],improvements:["Délégation"],goals:["Formation équipe","Optimisation processus"],taskPerformance:{averageScore:92,tasksCompleted:45,onTimeCompletion:95,efficiencyRate:88}},{id:"2",employeeName:"Marie Martin",position:"Technicienne Maintenance",date:"2025-02-01",overallRating:4.2,status:"draft",strengths:["Expertise technique","Résolution problèmes"],improvements:["Documentation"],goals:["Certification avancée"],taskPerformance:{averageScore:87,tasksCompleted:38,onTimeCompletion:92,efficiencyRate:85}}];function A3e(){const[e,t]=F.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Évaluations de Performance"}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Nouvelle évaluation"]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-6",children:S3e.map(r=>s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:r.employeeName}),s.jsx("p",{className:"text-sm text-white/60",children:r.position})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.status==="completed"?"bg-green-500/20 text-green-300":r.status==="acknowledged"?"bg-blue-500/20 text-blue-300":"bg-yellow-500/20 text-yellow-300"}`,children:r.status==="completed"?"Terminé":r.status==="acknowledged"?"Validé":"Brouillon"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Performance des tâches"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Score moyen"}),s.jsxs("div",{className:`text-xl font-bold ${r.taskPerformance.averageScore>=90?"text-green-400":r.taskPerformance.averageScore>=80?"text-yellow-400":"text-red-400"}`,children:[r.taskPerformance.averageScore,"%"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Tâches complétées"}),s.jsx("div",{className:"text-xl font-bold text-white",children:r.taskPerformance.tasksCompleted})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Respect des délais"}),s.jsxs("div",{className:"text-xl font-bold text-green-400",children:[r.taskPerformance.onTimeCompletion,"%"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Taux d'efficacité"}),s.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[r.taskPerformance.efficiencyRate,"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2,3,4,5].map(n=>s.jsx(qi,{size:20,className:n<=r.overallRating?"text-yellow-400 fill-current":"text-white/20"},n)),s.jsxs("span",{className:"text-white/60 text-sm ml-2",children:[r.overallRating,"/5"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Points forts"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.strengths.map((n,a)=>s.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:n},a))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Axes d'amélioration"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.improvements.map((n,a)=>s.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm",children:n},a))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Objectifs"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.goals.map((n,a)=>s.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:n},a))})]})]})]},r.id))})]})}const C3e={id:"default",name:"Planning Global"};function E3e(){const[e,t]=o9(),[r,n]=F.useState(()=>e.get("tab")||"employees"),[a,i]=F.useState(!1),[o,l]=F.useState("");F.useEffect(()=>{const u=e.get("tab");u&&u!==r&&n(u)},[e]);const c=u=>{n(u),t({tab:u})};return s.jsxs(Ne.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsx(Kf,{icon:s.jsx(ki,{size:28,className:"text-white"}),title:"Gestion RH"}),s.jsx("div",{className:"flex items-center justify-between",children:r==="employees"&&s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Nouvel Employé"]})}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[s.jsx("button",{onClick:()=>c("employees"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="employees"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ki,{size:16,className:"mr-2"}),"Employés"]})}),s.jsx("button",{onClick:()=>c("schedule"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="schedule"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wa,{size:16,className:"mr-2"}),"Planning"]})}),s.jsx("button",{onClick:()=>c("leave"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="leave"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wa,{size:16,className:"mr-2"}),"Congés"]})}),s.jsx("button",{onClick:()=>c("performance"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="performance"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qi,{size:16,className:"mr-2"}),"Évaluations"]})})]}),r==="employees"&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),s.jsx("input",{type:"text",value:o,onChange:u=>l(u.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(Ca,{size:20,className:"mr-2"}),"Filtres"]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(y3e,{onClose:()=>i(!1)})})}),r==="employees"&&s.jsx(b3e,{searchQuery:o}),r==="leave"&&s.jsx(j3e,{}),r==="performance"&&s.jsx(A3e,{}),r==="schedule"&&s.jsx(QM,{employee:C3e,onClose:()=>c("employees")})]})}const k3e=[{id:"1",name:"Réparation Marine Pro",location:"Bouzigues, France",skills:["Réparateur de Bateau","Maintenance"],contact:{email:"contact@rmp.fr",phone:"05 46 12 34 56",website:"www.rmp.fr"},rating:4.8,certifications:["Certification Marine","Expert Agréé"],isVerified:!0,description:"Spécialiste de la réparation et maintenance de bateaux professionnels"},{id:"2",name:"Transport Maritime Express",location:"Marennes, France",skills:["Transport","Logistique"],contact:{email:"info@tme.fr",phone:"05 46 23 45 67"},rating:4.5,certifications:["Transport Maritime"],isVerified:!1,description:"Transport maritime professionnel"}];function T3e({searchQuery:e,selectedSkill:t}){const[r,n]=F.useState(null),a=k3e.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.location.toLowerCase().includes(e.toLowerCase())||i.skills.some(o=>o.toLowerCase().includes(e.toLowerCase()))).filter(i=>!t||i.skills.includes(t)).sort((i,o)=>i.isVerified!==o.isVerified?o.isVerified?1:-1:o.rating-i.rating);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-2",children:a.map(i=>s.jsx("div",{onClick:()=>n(i),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:i.name}),i.isVerified&&s.jsx("span",{className:"text-brand-primary",children:s.jsx($w,{size:20})})]}),s.jsxs("div",{className:"flex items-center mt-1 space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pi,{size:14,className:"mr-1"}),i.location]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(qi,{size:14,className:"mr-1 text-brand-primary"}),i.rating]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.skills.map((o,l)=>s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:o},l))})]}),s.jsx(If,{size:20,className:"text-white/20 group-hover:text-white/60 transition-colors"})]})},i.id))}),r&&s.jsx(ms,{isOpen:!0,onClose:()=>n(null),title:r.name,size:"xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center text-white/70",children:[s.jsx(Pi,{size:20,className:"mr-3"}),r.location]}),s.jsxs("div",{className:"flex items-center text-white/70",children:[s.jsx(qs,{size:20,className:"mr-3"}),r.contact.email]}),s.jsxs("div",{className:"flex items-center text-white/70",children:[s.jsx(Oi,{size:20,className:"mr-3"}),r.contact.phone]}),r.contact.website&&s.jsxs("div",{className:"flex items-center text-white/70",children:[s.jsx(Pf,{size:20,className:"mr-3"}),r.contact.website]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Certifications"}),s.jsx("div",{className:"space-y-2",children:r.certifications.map((i,o)=>s.jsxs("div",{className:"flex items-center px-3 py-2 bg-brand-primary/20 text-brand-primary rounded-lg",children:[s.jsx($w,{size:16,className:"mr-2"}),i]},o))})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"À propos"}),s.jsx("p",{className:"text-white/70",children:r.description})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[s.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),s.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Contacter"})]})]})})]})}const O3e=[{id:"1",title:"Gestion de la mortalité hivernale",content:"Quelles sont vos techniques pour minimiser la mortalité pendant l'hiver ?",category:"Production",author:{name:"Jean Dupont"},postedAt:"2025-02-19T10:00:00",likes:15,views:234,replies:8,tags:["Mortalité","Hiver","Techniques"]},{id:"2",title:"Nouvelle réglementation sanitaire",content:"Discussion sur les impacts de la nouvelle réglementation sanitaire",category:"Réglementation",author:{name:"Marie Martin"},postedAt:"2025-02-19T09:00:00",likes:23,views:567,replies:12,tags:["Réglementation","Sanitaire"]}];function P3e({searchQuery:e}){const t=O3e.filter(r=>r.title.toLowerCase().includes(e.toLowerCase())||r.content.toLowerCase().includes(e.toLowerCase())||r.tags.some(n=>n.toLowerCase().includes(e.toLowerCase())));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"256"}),s.jsx("div",{className:"text-sm text-white/60",children:"Discussions"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"1,234"}),s.jsx("div",{className:"text-sm text-white/60",children:"Messages"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"89"}),s.jsx("div",{className:"text-sm text-white/60",children:"Membres actifs"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"15"}),s.jsx("div",{className:"text-sm text-white/60",children:"Nouveaux aujourd'hui"})]})]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:t.map((r,n)=>s.jsx("div",{className:`p-6 ${n<t.length-1?"border-b border-white/10":""}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center flex-shrink-0",children:r.author.avatar?s.jsx("img",{src:r.author.avatar,alt:r.author.name,className:"w-full h-full rounded-full"}):s.jsx(yd,{size:20,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:r.title}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsx("span",{className:"text-sm text-white/60",children:r.author.name}),s.jsx("span",{className:"text-sm text-white/60",children:new Date(r.postedAt).toLocaleDateString("fr-FR")}),s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(eT,{size:16,className:"mr-1"}),r.likes]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wc,{size:16,className:"mr-1"}),r.views]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(jo,{size:16,className:"mr-1"}),r.replies]})]})]}),s.jsx("p",{className:"mt-4 text-white/70",children:r.content}),s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.tags.map((a,i)=>s.jsxs("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["#",a]},i))})]})]})},r.id))})]})}const I3e=[{id:"1",author:{name:"Jean Dupont",company:"Huîtres Dupont & Fils"},content:"Nouvelle livraison d'huîtres plates de qualité exceptionnelle disponible. N'hésitez pas à me contacter pour plus d'informations.",timestamp:"2025-02-19T10:30:00",likes:15,comments:3,shares:2,visibility:"public"},{id:"2",author:{name:"Marie Martin",company:"Ostréiculture Martin"},content:"Recherche fournisseur de poches d'élevage pour livraison urgente. Merci de me contacter en MP.",timestamp:"2025-02-19T09:15:00",likes:8,comments:5,shares:1,visibility:"network"}],D3e={public:Pf,network:ki,private:dg};function M3e(){const[e,t]=le.useState(null);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:"M"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{placeholder:"Partagez une actualité...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:s.jsx(Pf,{size:20})}),s.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm",children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"network",children:"Mon réseau"}),s.jsx("option",{value:"private",children:"Privé"})]})]}),s.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Publier"})]})]})]})}),s.jsx("div",{className:"space-y-6",children:I3e.map(r=>{const n=D3e[r.visibility];return s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:r.author.name.charAt(0)})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-white font-medium",children:r.author.name}),s.jsx("span",{className:"text-white/40",children:"•"}),s.jsx("span",{className:"text-white/60",children:r.author.company})]}),s.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/40",children:[s.jsx(n,{size:14,className:"mr-1"}),new Date(r.timestamp).toLocaleString()]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>t(e===r.id?null:r.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(zm,{size:20,className:"text-white/60"})}),e===r.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[s.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Signaler"}),s.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Masquer"})]})]})]}),s.jsx("p",{className:"mt-4 text-white/80",children:r.content}),s.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-white/10",children:[s.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[s.jsx(eT,{size:20,className:"mr-2"}),r.likes]}),s.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[s.jsx(jo,{size:20,className:"mr-2"}),r.comments]}),s.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[s.jsx(l9,{size:20,className:"mr-2"}),r.shares]})]})]})},r.id)})})]})}const F3e=[{id:"1",name:"Jean Dupont",company:"Huîtres Dupont & Fils",position:"Directeur Commercial",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"La Rochelle",status:"online",favorite:!0,tags:["Fournisseur","Huîtres"]},{id:"2",name:"Marie Martin",company:"Ostréiculture Martin",position:"Responsable Production",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Marennes",status:"offline",lastActive:"2025-02-19T09:15:00",favorite:!1,tags:["Client","Production"]}];function R3e({searchQuery:e,onSelectContact:t}){const[r,n]=le.useState(null),a=F3e.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.company.toLowerCase().includes(e.toLowerCase())||i.tags.some(o=>o.toLowerCase().includes(e.toLowerCase())));return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(i=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-colors",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-burgundy rounded-full flex items-center justify-center",children:i.avatar?s.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full rounded-full"}):s.jsx(yd,{size:24,className:"text-white"})}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-brand-dark ${i.status==="online"?"bg-green-500":i.status==="away"?"bg-yellow-500":"bg-gray-500"}`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:i.name}),s.jsx("p",{className:"text-sm text-white/60",children:i.position}),s.jsx("p",{className:"text-sm text-white/40",children:i.company})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>n(r===i.id?null:i.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(zm,{size:20,className:"text-white/60"})}),r===i.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[s.jsxs("button",{onClick:()=>t(i.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(jo,{size:16,className:"mr-2"}),"Message"]}),s.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(qi,{size:16,className:"mr-2"}),i.favorite?"Retirer des favoris":"Ajouter aux favoris"]})]})]})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(qs,{size:16,className:"mr-2"}),i.email]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(Oi,{size:16,className:"mr-2"}),i.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(Pi,{size:16,className:"mr-2"}),i.location]})]}),i.tags.length>0&&s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:i.tags.map((o,l)=>s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:o},l))}),s.jsxs("div",{className:"mt-6 flex space-x-3",children:[s.jsx("button",{onClick:()=>t(i.id),className:"flex-1 px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Message"}),s.jsx("button",{className:"px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Profil"})]})]})},i.id))})}function L3e({onClose:e,type:t}){const r=()=>{switch(t){case"directory":return"Mettre à jour mon profil";case"marketplace":return"Nouvelle annonce";case"forum":return"Nouvelle discussion";default:return""}};return s.jsx(ms,{isOpen:!0,onClose:e,title:r(),size:"xl",children:s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Titre"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Titre de votre publication..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Contenu de votre publication..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Tags"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des tags séparés par des virgules..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Publier"})]})]})})}function B3e({onClose:e}){const[t,r]=F.useState(""),[n,a]=F.useState(null),[i,o]=F.useState(!1),l=async c=>{c.preventDefault(),a(null),o(!0);try{if(!f8(t))throw new Error("Format de code invalide");await new Promise(u=>setTimeout(u,1e3)),e()}catch(u){a(u instanceof Error?u.message:"Une erreur est survenue")}finally{o(!1)}};return s.jsx(ms,{isOpen:!0,onClose:e,title:"Ajouter un contact",size:"md",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/20 rounded-full flex items-center justify-center",children:s.jsx(ki,{size:32,className:"text-brand-burgundy"})})}),s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Code ami"}),s.jsx("input",{type:"text",value:t,onChange:c=>{const u=$3e(c.target.value);r(u),a(null)},placeholder:"XXXX-XXXX-XXXX",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-center font-mono text-xl tracking-wider",maxLength:14}),s.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Entrez le code ami de la personne que vous souhaitez ajouter"})]}),n&&s.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-center text-red-400",children:[s.jsx(li,{size:20,className:"mr-2"}),n]})}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:!f8(t)||i,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Recherche...":"Ajouter"})]})]}),s.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment obtenir un code ami ?"}),s.jsx("p",{className:"text-sm text-white/60",children:"Chaque utilisateur dispose d'un code ami unique disponible dans son profil. Demandez à votre contact de partager son code avec vous pour l'ajouter à votre réseau."})]})]})})}function $3e(e){return(e.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-")}function f8(e){return/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(e)}function z3e(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="";for(let n=0;n<8;n++){const a=Math.floor(Math.random()*e.length);r+=e[a]}return r}const yc=[{id:"1",name:"Huîtres Marennes Oléron",email:"contact@huitres-mo.fr",phone:"05 46 85 12 34",address:"12 Route des Claires, 17320 Marennes",friend_code:"HMO17320",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Les Parcs de l'Estuaire",email:"commandes@parcs-estuaire.fr",phone:"05 46 36 45 78",address:"8 Quai des Ostréiculteurs, 17390 La Tremblade",friend_code:"LPE17390",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"Atlantique Coquillages",email:"ventes@atlantique-coq.fr",phone:"02 51 68 23 45",address:"45 Avenue du Port, 85230 Bouin",friend_code:"ACQ85230",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",name:"Cancale Premium",email:"service@cancale-premium.fr",phone:"02 99 89 67 89",address:"23 Rue du Port, 35260 Cancale",friend_code:"CAN35260",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",name:"Arcachon Huîtres",email:"pro@arcachon-huitres.com",phone:"05 57 72 34 56",address:"56 Boulevard de la Plage, 33120 Arcachon",friend_code:"ARC33120",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],U3e={1:[{id:"1",supplier_id:"1",name:"Huîtres Spéciales N°3",description:"Huîtres charnues de qualité supérieure, affinées en claire pendant 2 mois minimum",price:8.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:450,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",supplier_id:"1",name:"Huîtres Fines de Claire N°2",description:"Huîtres raffinées, affinées en claire pendant 3 semaines minimum",price:9.5,unit:"douzaine",category:"Fines de Claire",image:"/placeholder.jpg",available:!0,stock:300,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],2:[{id:"3",supplier_id:"2",name:"Huîtres Spéciales N°2",description:"Huîtres de qualité supérieure",price:10.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:200,minOrder:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],3:[{id:"4",supplier_id:"3",name:"Huîtres Plates de Belon",description:"Huîtres plates de Belon, goût unique et iodé",price:14.5,unit:"douzaine",category:"Plates",image:"/placeholder.jpg",available:!0,stock:150,minOrder:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],4:[{id:"5",supplier_id:"4",name:"Huîtres Label Rouge",description:"Huîtres labellisées Label Rouge, qualité supérieure garantie",price:12,unit:"douzaine",category:"Label Rouge",image:"/placeholder.jpg",available:!0,stock:400,minOrder:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],5:[{id:"6",supplier_id:"5",name:"Huîtres Gillardeau",description:"Les célèbres huîtres Gillardeau, reconnues mondialement",price:24,unit:"douzaine",category:"Premium",image:"/placeholder.jpg",available:!0,stock:100,minOrder:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]};function Z2(){const e=tT(),{data:t=yc,isLoading:r}=g4({queryKey:["suppliers"],queryFn:async()=>yc}),n=fp({mutationFn:async o=>{const l=z3e(),c={...o,friend_code:l,is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return yc.push({...c,id:String(yc.length+1)}),c},onSuccess:()=>{e.invalidateQueries({queryKey:["suppliers"]})}}),a=fp({mutationFn:async o=>{const l=yc.findIndex(c=>c.id===o.id);return l!==-1&&o.deleted!==void 0&&(yc[l]={...yc[l],deleted:o.deleted,updated_at:new Date().toISOString()}),yc[l]},onSuccess:()=>{e.invalidateQueries({queryKey:["suppliers"]})}});return{suppliers:t,isLoading:r,createSupplier:n,updateSupplier:a,getSupplierProducts:async o=>U3e[o]||[]}}function eF({children:e,variant:t="default",className:r="",...n}){const a="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",i={default:"bg-[rgb(var(--color-brand-muted))] text-[rgb(var(--color-text-primary))]",success:"bg-green-500/10 text-green-500",warning:"bg-yellow-500/10 text-yellow-500",error:"bg-red-500/10 text-red-500"};return s.jsx("div",{className:`${a} ${i[t]} ${r}`,...n,children:e})}function H3e(){const{suppliers:e}=Z2(),t=e.filter(r=>r.is_friend);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Fournisseurs Partenaires"}),s.jsxs(eF,{variant:"outline",className:"text-[rgb(var(--color-brand-primary))]",children:[t.length," partenaires"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(r=>s.jsx("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:r.name}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[s.jsx(Kv,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-sm font-mono",children:r.friend_code})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[s.jsx(qs,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-sm truncate",children:r.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[s.jsx(Oi,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-sm",children:r.phone})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[s.jsx(Pi,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-sm truncate",children:r.address})]})]})]})},r.id))})]})}const tF=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}],h8={1:[{id:"1-1",content:"Bonjour, avez-vous des huîtres plates disponibles ?",sender:"Jean Dupont",timestamp:"10:15",isMe:!1},{id:"1-2",content:"Oui, nous en avons en stock. Quelle quantité vous intéresse ?",sender:"Moi",timestamp:"10:20",isMe:!0},{id:"1-3",content:"Je cherche environ 500 douzaines pour un événement",sender:"Jean Dupont",timestamp:"10:25",isMe:!1},{id:"1-4",content:"Parfait, merci !",sender:"Jean Dupont",timestamp:"10:30",isMe:!1}],2:[{id:"2-1",content:"Bonjour, je souhaite connaître vos tarifs pour une livraison à Paris",sender:"Marie Martin",timestamp:"09:00",isMe:!1},{id:"2-2",content:"Bonjour Marie, pour Paris les frais de livraison sont de 15€ pour les commandes inférieures à 100€, et gratuits au-delà",sender:"Moi",timestamp:"09:10",isMe:!0},{id:"2-3",content:"Je vous recontacte demain pour passer ma commande, merci",sender:"Marie Martin",timestamp:"09:15",isMe:!1}],3:[{id:"3-1",content:"Bonjour, j'organise un mariage le mois prochain",sender:"Pierre Durand",timestamp:"14:20",isMe:!1},{id:"3-2",content:"Félicitations ! Nous pouvons vous proposer une dégustation d'huîtres pour votre événement",sender:"Moi",timestamp:"14:30",isMe:!0},{id:"3-3",content:"Pouvez-vous me donner les prix pour 200 personnes ?",sender:"Pierre Durand",timestamp:"14:35",isMe:!1}],4:[{id:"4-1",content:"J'ai besoin d'une facture pour ma dernière commande",sender:"Sophie Dubois",timestamp:"Lun 15:10",isMe:!1},{id:"4-2",content:"Bien sûr, je vous prépare cela tout de suite",sender:"Moi",timestamp:"Lun 15:20",isMe:!0},{id:"4-3",content:"Je vous envoie les documents dès que possible",sender:"Sophie Dubois",timestamp:"Lun 15:25",isMe:!1}],5:[{id:"5-1",content:"Avez-vous des huîtres spéciales de Marennes-Oléron ?",sender:"Luc Moreau",timestamp:"23/02 11:05",isMe:!1},{id:"5-2",content:"Oui, nous avons des spéciales n°2 et n°3, ainsi que des fines de claire",sender:"Moi",timestamp:"23/02 11:15",isMe:!0},{id:"5-3",content:"Je vais prendre deux douzaines de spéciales n°2",sender:"Luc Moreau",timestamp:"23/02 11:30",isMe:!1},{id:"5-4",content:"Merci pour votre réponse",sender:"Luc Moreau",timestamp:"23/02 11:35",isMe:!1}]},W3e=e=>tF.find(t=>t.id===e);function V3e({contactId:e,onClose:t}){const[r,n]=F.useState(""),[a,i]=F.useState(""),o=le.useRef(null),[l,c]=F.useState(e),u=()=>{var p;(p=o.current)==null||p.scrollIntoView({behavior:"smooth"})};le.useEffect(()=>{u()},[h8[l]]),le.useEffect(()=>{c(e)},[e]);const d=p=>{p.preventDefault(),r.trim()&&(console.log("Message envoyé:",r),n(""))},f=p=>{c(p)},h=W3e(l);return s.jsxs("div",{className:"h-[calc(100vh-12rem)] flex flex-col md:flex-row",children:[s.jsxs("div",{className:"hidden md:block w-80 border-r border-white/10",children:[s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),s.jsx("input",{type:"text",value:a,onChange:p=>i(p.target.value),placeholder:"Rechercher une conversation...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]})}),s.jsx("div",{className:"divide-y divide-white/10",children:tF.map(p=>s.jsx("div",{onClick:()=>f(p.id),className:`p-4 hover:bg-white/5 cursor-pointer transition-colors ${p.id===l?"bg-white/5":""}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:p.name.charAt(0)})}),p.online&&s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-brand-dark"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-white font-medium truncate",children:p.name}),p.lastMessageTime&&s.jsx("span",{className:"text-xs text-white/40",children:p.lastMessageTime})]}),p.lastMessage&&s.jsx("p",{className:"text-sm text-white/60 truncate",children:p.lastMessage})]}),p.unreadCount&&p.unreadCount>0&&s.jsx("div",{className:"w-5 h-5 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white",children:p.unreadCount})})]})},p.id))})]}),s.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[s.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[s.jsx("button",{onClick:t,className:"p-1.5 md:p-2 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors","aria-label":"Retour à la liste des contacts",children:s.jsx(pg,{size:18,className:"md:w-5 md:h-5"})}),s.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:(h==null?void 0:h.name.charAt(0))||"?"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-medium text-sm md:text-base",children:(h==null?void 0:h.name)||"Contact"}),s.jsx("p",{className:"text-xs md:text-sm text-green-400",children:h!=null&&h.online?"En ligne":"Hors ligne"})]})]})})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[h8[l].map(p=>s.jsx("div",{className:`flex ${p.isMe?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg p-2 md:p-3 ${p.isMe?"bg-brand-burgundy text-white":"bg-white/5 text-white"}`,children:[s.jsx("p",{className:"text-sm md:text-base",children:p.content}),s.jsx("div",{className:`text-[10px] md:text-xs mt-1 ${p.isMe?"text-white/60":"text-white/40"}`,children:p.timestamp})]})},p.id)),s.jsx("div",{ref:o})]}),s.jsx("form",{onSubmit:d,className:"p-3 md:p-4 border-t border-white/10",children:s.jsxs("div",{className:"flex items-end space-x-2 md:space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{value:r,onChange:p=>n(p.target.value),placeholder:"Écrivez votre message...",className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/5 border border-white/10 rounded-lg text-white text-sm md:text-base placeholder-white/40 resize-none",rows:1}),s.jsxs("div",{className:"absolute bottom-2 md:bottom-3 right-2 md:right-3 flex items-center space-x-1 md:space-x-2",children:[s.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:s.jsx(c9,{size:16,className:"md:w-5 md:h-5"})}),s.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:s.jsx(rT,{size:16,className:"md:w-5 md:h-5"})}),s.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:s.jsx(nT,{size:16,className:"md:w-5 md:h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:!r.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Um,{size:18,className:"md:w-5 md:h-5"})})]})})]})]})}const q3e=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function rF({onSelectContact:e}){const[t,r]=F.useState(""),[n,a]=F.useState(null),i=q3e.filter(o=>o.name.toLowerCase().includes(t.toLowerCase()));return s.jsx("div",{className:"flex-1 h-full w-full max-w-full overflow-hidden",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"}),s.jsx("button",{className:"p-1.5 sm:p-2 bg-brand-burgundy rounded-full text-white hover:bg-brand-burgundy/80 transition-colors",children:s.jsx(ar,{size:18})})]}),s.jsx("div",{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:t,onChange:o=>r(o.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-10 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 text-sm sm:text-base"}),s.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:16})]})}),n?s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(V3e,{contactId:n,onClose:()=>a(null)})}):s.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-white/10",children:i.length>0?s.jsx("div",{className:"space-y-0.5",children:i.map(o=>s.jsx("div",{onClick:()=>{a(o.id),e&&e(o.id)},className:"p-2 sm:p-3 hover:bg-white/5 cursor-pointer transition-colors",tabIndex:0,role:"button","aria-label":`Conversation avec ${o.name}`,children:s.jsxs("div",{className:"flex items-center justify-between pointer-events-none",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsxs("div",{className:"relative",children:[o.avatar?s.jsx("img",{src:o.avatar,alt:o.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full"}):s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-brand-primary/20 border border-brand-primary/30 flex items-center justify-center",children:s.jsx("span",{className:"text-brand-primary text-base sm:text-lg font-medium",children:o.name.substring(0,1)})}),o.online&&s.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-white text-sm sm:text-base",children:o.name}),o.lastMessage&&s.jsx("p",{className:"text-xs sm:text-sm text-white/60 truncate max-w-[150px] sm:max-w-[180px] md:max-w-[220px] lg:max-w-[280px]",children:o.lastMessage})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[o.lastMessageTime&&s.jsx("span",{className:"text-xs text-white/40",children:o.lastMessageTime}),o.unreadCount>0&&s.jsx("span",{className:"bg-brand-primary text-white text-xs rounded-full px-1.5 py-0.5 min-w-[20px] text-center",children:o.unreadCount})]})]})},o.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[s.jsx(jo,{size:36,className:"mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Aucune conversation trouvée"})]})})]})})}function G3e({messageView:e=!1,activeTab:t}){const r=Lm(),[n,a]=F.useState(t||e?"messages":"feed"),[i,o]=F.useState(!1),[l,c]=F.useState(!1),[u,d]=F.useState(""),[f,h]=F.useState(null),[p,m]=F.useState(null),{unreadCount:x}=ys();return F.useEffect(()=>{var g;(g=r.state)!=null&&g.activeTab&&a(r.state.activeTab)},[r.state]),F.useEffect(()=>{t?a(t):e&&a("messages")},[e,t]),F.useEffect(()=>{r.pathname==="/network/messages"&&n!=="messages"&&a("messages")},[r.pathname,n]),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:s.jsx(ki,{size:28,className:"text-cyan-400"})})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Entre Pro"})]}),s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(u9,{size:20}),"Ajouter un contact"]}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(ar,{size:20}),"Nouvelle publication"]})]})}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10 mb-6",children:[s.jsxs("button",{onClick:()=>a("feed"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="feed"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="feed"?"page":void 0,children:[s.jsx(d9,{size:16}),"Fil d'actualités"]}),s.jsxs("button",{onClick:()=>a("contacts"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="contacts"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="contacts"?"page":void 0,children:[s.jsx(ki,{size:16}),"Contacts"]}),s.jsxs("button",{onClick:()=>a("directory"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="directory"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="directory"?"page":void 0,children:[s.jsx(Pf,{size:16}),"Annuaire Prestataires"]}),s.jsxs("button",{onClick:()=>a("forum"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="forum"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="forum"?"page":void 0,children:[s.jsx(jo,{size:16}),"Forum"]}),s.jsxs("button",{onClick:()=>a("messages"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="messages"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="messages"?"page":void 0,children:[s.jsx(aT,{size:16}),"Messagerie"]}),s.jsxs("button",{onClick:()=>a("suppliers"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="suppliers"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="suppliers"?"page":void 0,children:[s.jsx(ki,{size:16}),"Fournisseurs Amis"]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),s.jsx("input",{type:"text",value:u,onChange:g=>d(g.target.value),placeholder:"Rechercher...",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx(Ca,{size:18}),"Filtres"]}),s.jsxs("button",{className:"relative p-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx(Df,{size:18,className:"text-cyan-400"}),x>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-cyan-500 rounded-full flex items-center justify-center text-xs font-bold shadow-[0_0_10px_rgba(0,210,200,0.5)]",children:x})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[n==="feed"&&s.jsx(M3e,{}),n==="contacts"&&s.jsx(R3e,{searchQuery:u,onSelectContact:g=>{m(g),a("feed")}}),n==="directory"&&s.jsx(T3e,{searchQuery:u,selectedSkill:f}),n==="forum"&&s.jsx(P3e,{searchQuery:u}),n==="messages"&&s.jsx(rF,{}),n==="suppliers"&&s.jsx(H3e,{})]}),i&&s.jsx(L3e,{onClose:()=>o(!1),type:"forum"}),l&&s.jsx(B3e,{onClose:()=>c(!1)})]})}const X3e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},wc={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function Y3e(){const{companyInfo:e,setCompanyInfo:t}=ys(),[r,n]=F.useState({name:(e==null?void 0:e.name)||"",siret:(e==null?void 0:e.siret)||"",logo:(e==null?void 0:e.logo)||"",description:(e==null?void 0:e.description)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",website:(e==null?void 0:e.website)||""});F.useEffect(()=>{e&&n({name:e.name,siret:e.siret,logo:e.logo||"",description:e.description||"",email:e.email,phone:e.phone,address:e.address,website:e.website||""})},[e]);const a=o=>{const{name:l,value:c}=o.target;n(u=>({...u,[l]:c}))},i=o=>{o.preventDefault(),t(r),j0.success("Informations de l'entreprise enregistrées avec succès")};return s.jsxs(Ne.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:X3e,children:[s.jsxs(Ne.div,{variants:wc,children:[s.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-2",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Informations de l'entreprise"}),s.jsx("p",{className:"text-white/60 mb-6",children:"Gérez les informations principales de votre entreprise"})]}),s.jsxs("form",{className:"space-y-6",onSubmit:i,children:[s.jsxs(Ne.div,{className:"grid grid-cols-2 gap-6",variants:wc,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom de l'entreprise"}),s.jsx("input",{type:"text",name:"name",value:r.name,onChange:a,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Oyster Cult Enterprise",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Numéro SIRET"}),s.jsx("input",{type:"text",name:"siret",value:r.siret,onChange:a,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"123 456 789 00012",required:!0})]})]}),s.jsxs(Ne.div,{variants:wc,children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Logo de l'entreprise"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-white/10 border-dashed rounded-xl transition-all duration-200 hover:border-[#00D1FF]/30 group",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx(vs,{className:"mx-auto h-12 w-12 text-white/40 group-hover:text-[#00D1FF]/60 transition-colors duration-200"}),s.jsxs("div",{className:"flex text-sm text-white/60",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-[#00D1FF] hover:text-[#00D1FF]/80 focus-within:outline-none transition-colors duration-200",children:[s.jsx("span",{children:"Télécharger un fichier"}),s.jsx("input",{id:"file-upload",name:"logo",type:"file",className:"sr-only",onChange:o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];l&&n(u=>({...u,logo:l.name}))}})]}),s.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),s.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG jusqu'à 10MB"})]})})]}),s.jsxs(Ne.div,{variants:wc,children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:r.description,onChange:a,rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Description de votre entreprise..."})]}),s.jsxs(Ne.div,{className:"grid grid-cols-2 gap-6",variants:wc,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:a,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"contact@example.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:a,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"+33 1 23 45 67 89",required:!0})]})]})]}),s.jsxs(Ne.div,{variants:wc,children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Adresse"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pi,{className:"absolute left-3 top-3 text-white/40",size:20}),s.jsx("textarea",{name:"address",value:r.address,onChange:a,rows:2,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Adresse complète...",required:!0})]})]}),s.jsxs(Ne.div,{variants:wc,children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Site web"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"url",name:"website",value:r.website,onChange:a,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"https://www.example.com"})]})]}),s.jsx(Ne.div,{variants:wc,className:"flex justify-end",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:"Enregistrer les modifications"})})]})]})}const B1={firstName:"",lastName:"",email:"",phone:"",position:"",department:"production",location:"",startDate:"",employeeId:"",emergencyContact:"",role:"1"},K3e=[{id:"1",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:["all"],users:[]},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches",permissions:["read:all","write:tasks","manage:users"],users:[]},{id:"3",name:"Opérateur",description:"Exécution des tâches quotidiennes",permissions:["read:tasks","write:tasks"],users:[]},{id:"4",name:"Comptable",description:"Gestion de la comptabilité et des finances",permissions:["read:sales","write:sales","read:purchases","write:purchases","read:inventory","read:reports"],users:[]}];function J3e(){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let r="";for(let n=0;n<12;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}const p8={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m8={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}},x8={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.9,transition:{duration:.2}}};function Z3e(){const{addUser:e,deleteUser:t,updateUser:r,users:n}=ys(),[a,i]=F.useState(!1),[o,l]=F.useState(null);F.useState(null);const[c,u]=F.useState(null),[d,f]=F.useState(B1),[h,p]=F.useState({}),m=N=>{l(N);const j={firstName:N.firstName,lastName:N.lastName,email:N.email,phone:N.phone,position:N.position,department:N.department,location:N.location,startDate:N.startDate,employeeId:N.employeeId,emergencyContact:N.emergencyContact,role:N.role};f(j),i(!0)},x=()=>{const N={};return d.firstName||(N.firstName="Le prénom est requis"),d.lastName||(N.lastName="Le nom est requis"),d.email||(N.email="L'email est requis"),d.phone||(N.phone="Le téléphone est requis"),d.position||(N.position="Le poste est requis"),d.employeeId||(N.employeeId="L'ID employé est requis"),p(N),Object.keys(N).length===0},g=async N=>{if(N.preventDefault(),!x())return;const j=J3e();try{const C={...d,password:j};await e(C),j0.success("Utilisateur ajouté avec succès"),f(B1),i(!1)}catch{j0.error("Erreur lors de l'ajout de l'utilisateur")}},v=async N=>{if(N.preventDefault(),!(!(o!=null&&o.id)||!x()))try{await r(o.id,d),j0.success("Utilisateur modifié avec succès"),l(null),f(B1),i(!1)}catch{j0.error("Erreur lors de la modification de l'utilisateur")}},y=N=>{const{name:j,value:C}=N.target;if(f(P=>({...P,[j]:C})),h[j]){const P={...h};delete P[j],p(P)}},b=()=>{i(!1),l(null),f(B1),p({})},_=N=>{N.preventDefault();const j={};d.firstName||(j.firstName="Le prénom est obligatoire"),d.lastName||(j.lastName="Le nom est obligatoire"),d.email||(j.email="L'email est obligatoire"),d.phone||(j.phone="Le téléphone est obligatoire"),d.position||(j.position="Le rôle est obligatoire"),d.startDate||(j.startDate="La date de début est obligatoire"),p(j),Object.keys(j).length===0&&g(N)},S=N=>{t(N),u(null),j0.success("Utilisateur supprimé avec succès")};return s.jsxs(Ne.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:p8,children:[s.jsxs(Ne.div,{variants:m8,className:"flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),s.jsx(rg,{size:24,className:"text-[#00D1FF] relative z-10"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Rôles & Permissions"}),s.jsx("p",{className:"text-white/60",children:"Gérez les rôles et les permissions des utilisateurs"})]})]}),s.jsxs(Ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:[s.jsx(ar,{size:20,className:"inline-block mr-2"}),"Ajouter un utilisateur"]})]}),s.jsx(Ne.div,{className:"grid grid-cols-1 gap-6",variants:p8,children:K3e.map(N=>s.jsx(Ne.div,{variants:m8,className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#00D1FF]/10 flex items-center justify-center",children:s.jsx(rg,{size:24,className:"text-[#00D1FF]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent mb-1",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:N.name}),s.jsx("p",{className:"text-white/60",children:N.description}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("h4",{className:"text-lg font-medium text-white/80",children:"Utilisateurs"}),s.jsx("div",{className:"space-y-3",children:n.filter(j=>j.role===N.id).map(j=>s.jsx(Ne.div,{className:"bg-white/5 rounded-xl p-4 group hover:bg-white/10 transition-all duration-200",whileHover:{scale:1.02},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-white font-medium",children:[j.firstName," ",j.lastName]}),s.jsx("div",{className:"text-sm text-white/60 mt-1",children:j.position})]}),s.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[s.jsx(Ne.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(j),className:"p-2 hover:bg-[#00D1FF]/10 rounded-lg transition-colors",children:s.jsx(Xi,{size:16,className:"text-[#00D1FF]"})}),s.jsx(Ne.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(j.id),className:"p-2 hover:bg-red-500/10 rounded-lg transition-colors",children:s.jsx(Oa,{size:16,className:"text-red-400"})})]})]})},j.id))})]})]})]})})},N.id))}),s.jsx(hr,{children:(a||o)&&s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx(Ne.div,{variants:x8,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-xl rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-6",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:o?"Modifier l'utilisateur":"Nouvel utilisateur"}),s.jsxs("form",{className:"space-y-6",onSubmit:o?v:_,children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Prénom"}),s.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:y,className:`w-full px-4 py-3 bg-white/5 border ${h.firstName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),h.firstName&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Kn,{size:16,className:"mr-1"}),h.firstName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom"}),s.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:y,className:`w-full px-4 py-3 bg-white/5 border ${h.lastName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),h.lastName&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Kn,{size:16,className:"mr-1"}),h.lastName]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"email",name:"email",value:d.email,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.email?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.email&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Kn,{size:16,className:"mr-1"}),h.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.phone?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.phone&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Kn,{size:16,className:"mr-1"}),h.phone]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Rôle"}),s.jsxs("div",{className:"relative",children:[s.jsx(rg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsxs("select",{name:"position",value:d.position,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.position?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none appearance-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0,children:[s.jsx("option",{value:"",children:"Sélectionner un rôle"}),s.jsx("option",{value:"manageur",children:"Manageur"}),s.jsx("option",{value:"operateur",children:"Opérateur"}),s.jsx("option",{value:"comptable_full",children:"Comptable Tout accès"}),s.jsx("option",{value:"comptable",children:"Comptable"})]})]}),h.position&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Kn,{size:16,className:"mr-1"}),h.position]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Date de début"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"date",name:"startDate",value:d.startDate,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.startDate?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.startDate&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Kn,{size:16,className:"mr-1"}),h.startDate]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[s.jsx(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:b,className:"px-6 py-3 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),s.jsx(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:o?"Mettre à jour":"Ajouter"})]})]})]})})})}),s.jsx(hr,{children:c&&s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx(Ne.div,{variants:x8,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer la suppression"}),s.jsx("p",{className:"text-white/70 mb-6",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),s.jsx(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c&&S(c),className:"px-4 py-2 bg-red-500/80 hover:bg-red-500 text-white rounded-xl transition-colors",children:"Supprimer"})]})]})})})})]})}const Q3e=[{id:"1",name:"Huîtres Plates",category:"Huîtres",description:"Huîtres plates de qualité supérieure",sizes:["2","3","4"],unit:"douzaine",minStock:100,maxStock:1e3},{id:"2",name:"Huîtres Creuses",category:"Huîtres",description:"Huîtres creuses standard",sizes:["2","3","4","5"],unit:"douzaine",minStock:200,maxStock:2e3}];function eje(){const[e,t]=F.useState(!1),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(Q3e),c=f=>{n(f),t(!0)},u=f=>{l(o.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(o.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...o,h])}t(!1),n(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuration des Produits"}),s.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Nouveau produit"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(f=>s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:s.jsx(si,{size:20,className:"text-brand-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:f.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Xi,{size:20,className:"text-white/60"})}),s.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Oa,{size:20,className:"text-white/60"})})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Calibres disponibles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.sizes.map(h=>s.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["N°",h]},h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Gestion du stock"}),s.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[s.jsxs("div",{children:["Stock minimum: ",f.minStock," ",f.unit,"s"]}),s.jsxs("div",{children:["Stock maximum: ",f.maxStock," ",f.unit,"s"]})]})]})]})]},f.id))}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le produit":"Nouveau produit"}),s.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p=Object.fromEntries(h.entries());d(p)},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),s.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Huîtres Plates",defaultValue:r==null?void 0:r.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),s.jsxs("select",{name:"category",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.category,required:!0,children:[s.jsx("option",{value:"huitres",children:"Huîtres"}),s.jsx("option",{value:"materiels",children:"Matériels"}),s.jsx("option",{value:"emballages",children:"Emballages"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description du produit...",defaultValue:r==null?void 0:r.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Calibres disponibles"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4","5"].map(f=>s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",name:"sizes",value:f,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.sizes.includes(f)}),s.jsxs("span",{className:"text-white",children:["N°",f]})]},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),s.jsxs("select",{name:"unit",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.unit,required:!0,children:[s.jsx("option",{value:"douzaine",children:"Douzaine"}),s.jsx("option",{value:"piece",children:"Pièce"}),s.jsx("option",{value:"kg",children:"Kilogramme"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le produit"})]})]})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Kn,{size:24,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),s.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible."}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const tje=[{id:"1",name:"Naissain Express",type:"Naissain",contact:{name:"Jean Martin",email:"jean.martin@naissain-express.fr",phone:"01 23 45 67 89"},address:"123 Route de la Mer, 17000 La Rochelle",products:["Naissain d'huîtres plates","Naissain d'huîtres creuses"],status:"active"},{id:"2",name:"Emballages Océan",type:"Emballages",contact:{name:"Marie Dubois",email:"contact@emballages-ocean.fr",phone:"02 34 56 78 90"},address:"456 Avenue du Port, 44000 Nantes",products:["Bourriches","Cagettes","Étiquettes"],status:"active"}];function rje(){const[e,t]=F.useState(!1),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(tje),c=f=>{n(f),t(!0)},u=f=>{l(o.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(o.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...o,h])}t(!1),n(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Fournisseurs"}),s.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Nouveau fournisseur"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(f=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:s.jsx(J0,{size:20,className:"text-brand-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:f.type})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(qs,{size:16,className:"mr-2"}),f.contact.email]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(Oi,{size:16,className:"mr-2"}),f.contact.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(Pi,{size:16,className:"mr-2"}),f.address]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produits fournis"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.products.map((h,p)=>s.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:h},p))})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Xi,{size:20,className:"text-white/60"})}),s.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Oa,{size:20,className:"text-white/60"})})]})]})},f.id))}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le fournisseur":"Nouveau fournisseur"}),s.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p={name:h.get("name"),type:h.get("type"),contact:{name:h.get("contactName"),email:h.get("email"),phone:h.get("phone")},address:h.get("address"),products:h.getAll("products"),status:"active"};d(p)},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),s.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Naissain Express",defaultValue:r==null?void 0:r.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),s.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[s.jsx("option",{value:"naissain",children:"Naissain"}),s.jsx("option",{value:"emballages",children:"Emballages"}),s.jsx("option",{value:"materiels",children:"Matériels"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Contact"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nom du contact"}),s.jsx("input",{type:"text",name:"contactName",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.email,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Téléphone"}),s.jsx("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.phone,required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),s.jsx("textarea",{name:"address",rows:2,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",defaultValue:r==null?void 0:r.address,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Produits fournis"}),s.jsx("div",{className:"space-y-2",children:["Naissain","Bourriches","Matériel d'élevage"].map(f=>s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",name:"products",value:f,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.products.includes(f)}),s.jsx("span",{className:"text-white",children:f})]},f))})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le fournisseur"})]})]})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Kn,{size:24,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),s.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const nje=[{id:"1",name:"Prix Détail 2025",description:"Liste des prix pour la vente au détail",type:"retail",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:24.9},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:19.9}],validFrom:"2025-01-01",validTo:"2025-12-31"},{id:"2",name:"Prix Grossiste 2025",description:"Liste des prix pour la vente en gros",type:"wholesale",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:18.9,minQuantity:100},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:14.9,minQuantity:100}],validFrom:"2025-01-01",validTo:"2025-12-31"}];function aje(){const[e,t]=F.useState(!1),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(nje),c=f=>{n(f),t(!0)},u=f=>{l(o.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(o.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...o,h])}t(!1),n(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Tarification"}),s.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Nouvelle liste de prix"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(f=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:s.jsx(Bp,{size:20,className:"text-brand-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${f.type==="retail"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:f.type==="retail"?"Détail":"Gros"})]}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:f.description}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"text-sm text-white/60",children:["Valide du ",new Date(f.validFrom).toLocaleDateString("fr-FR"),f.validTo&&` au ${new Date(f.validTo).toLocaleDateString("fr-FR")}`]}),s.jsx("div",{className:"mt-4",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-sm text-white/60",children:[s.jsx("th",{className:"text-left pb-2",children:"Produit"}),s.jsx("th",{className:"text-left pb-2",children:"Calibre"}),s.jsx("th",{className:"text-right pb-2",children:"Prix"}),f.type==="wholesale"&&s.jsx("th",{className:"text-right pb-2",children:"Qté min."})]})}),s.jsx("tbody",{className:"text-white",children:f.products.map((h,p)=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2",children:h.name}),s.jsxs("td",{className:"py-2",children:["N°",h.size]}),s.jsxs("td",{className:"text-right py-2",children:[h.price.toFixed(2),"€/",h.unit]}),f.type==="wholesale"&&s.jsx("td",{className:"text-right py-2",children:h.minQuantity})]},p))})]})})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Xi,{size:20,className:"text-white/60"})}),s.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Oa,{size:20,className:"text-white/60"})})]})]})},f.id))}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Kn,{size:24,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),s.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cette liste de prix ? Cette action est irréversible."}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la liste de prix":"Nouvelle liste de prix"}),s.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p={name:h.get("name"),description:h.get("description"),type:h.get("type"),validFrom:h.get("validFrom"),validTo:h.get("validTo"),products:[]};d(p)},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la liste"}),s.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Prix Détail 2025",defaultValue:r==null?void 0:r.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),s.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[s.jsx("option",{value:"retail",children:"Vente au détail"}),s.jsx("option",{value:"wholesale",children:"Vente en gros"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de la liste de prix...",defaultValue:r==null?void 0:r.description,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide à partir du"}),s.jsx("input",{type:"date",name:"validFrom",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validFrom,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide jusqu'au"}),s.jsx("input",{type:"date",name:"validTo",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validTo})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Produits"}),s.jsxs("div",{className:"space-y-4",children:[((r==null?void 0:r.products)||[]).map((f,h)=>s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Produit"}),s.jsxs("select",{name:`products[${h}].name`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.name,children:[s.jsx("option",{value:"plates",children:"Huîtres Plates"}),s.jsx("option",{value:"creuses",children:"Huîtres Creuses"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Calibre"}),s.jsxs("select",{name:`products[${h}].size`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.size,children:[s.jsx("option",{value:"2",children:"N°2"}),s.jsx("option",{value:"3",children:"N°3"}),s.jsx("option",{value:"4",children:"N°4"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix"}),s.jsx("input",{type:"number",step:"0.01",name:`products[${h}].price`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.price})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Qté min."}),s.jsx("input",{type:"number",name:`products[${h}].minQuantity`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.minQuantity})]})]},h)),s.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>{const f=[...(r==null?void 0:r.products)||[]];f.push({name:"plates",size:"3",price:0,minQuantity:1}),n({...r||{name:"",description:"",type:"retail",validFrom:"",validTo:"",products:[]},products:f})},children:"+ Ajouter un produit"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer la liste"})]})]})]})})]})}const ije=[{id:"1",name:"Zone Nord",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1558,longitude:-1.1532},status:"active"},{id:"2",name:"Zone Sud",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1498,longitude:-1.1502},status:"active"}];function sje(){var f,h;const[e,t]=F.useState(!1),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(ije),c=p=>{n(p),t(!0)},u=p=>{l(o.filter(m=>m.id!==p)),i(null)},d=p=>{if(r)l(o.map(m=>m.id===r.id?{...m,...p}:m));else{const m={id:crypto.randomUUID(),...p};l([...o,m])}t(!1),n(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Emplacements des tables"}),s.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Configuration table"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(p=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:s.jsx(Xo,{size:20,className:"text-brand-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.status==="active"?"bg-green-500/20 text-green-300":p.status==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:p.status==="active"?"Actif":p.status==="maintenance"?"Maintenance":"Inactif"})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Type"}),s.jsx("div",{className:"text-white",children:p.type}),s.jsx("div",{className:"text-sm text-white/60 mt-4",children:"Nombre de perches"}),s.jsx("div",{className:"text-white",children:p.capacity})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Nombre de corde par perches"}),s.jsx("div",{className:"text-white",children:p.cordCount})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(p),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Xi,{size:20,className:"text-white/60"})}),s.jsx("button",{onClick:()=>i(p.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Oa,{size:20,className:"text-white/60"})})]})]})},p.id))}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Kn,{size:24,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),s.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cet emplacement ? Cette action est irréversible."}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la table":"Nouvelle table"}),s.jsxs("form",{onSubmit:p=>{p.preventDefault();const m=new FormData(p.currentTarget),x={name:m.get("name"),type:m.get("type"),capacity:Number(m.get("capacity")),cordCount:Number(m.get("cordCount")),cordLength:Number(m.get("cordLength")),oystersPerCord:Number(m.get("oystersPerCord")),coordinates:{latitude:Number(m.get("latitude")),longitude:Number(m.get("longitude"))}};d(x)},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'emplacement"}),s.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Table Nord",defaultValue:r==null?void 0:r.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),s.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.type)||"table",required:!0,children:[s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"tableTrempe",children:"Table de trempe"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de perches"}),s.jsx("input",{type:"number",name:"capacity",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.capacity)||100,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de corde par perches"}),s.jsx("input",{type:"number",name:"cordCount",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.cordCount)||10,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Longueur de corde"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",name:"cordLength",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-l-lg text-white",defaultValue:(r==null?void 0:r.cordLength)||3,required:!0}),s.jsx("span",{className:"bg-white/10 px-3 py-2 rounded-r-lg text-white/60",children:"mètres"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre d'huitres par cordes"}),s.jsx("input",{type:"number",name:"oystersPerCord",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.oystersPerCord)||130,required:!0})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Coordonnées GPS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Latitude"}),s.jsx("input",{type:"number",name:"latitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(f=r==null?void 0:r.coordinates)==null?void 0:f.latitude,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Longitude"}),s.jsx("input",{type:"number",name:"longitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(h=r==null?void 0:r.coordinates)==null?void 0:h.longitude,required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer table"})]})]})]})})]})}const g8=[{id:"1",name:"Douzaine",symbol:"dz",type:"quantity",description:"Unité de base pour les huîtres"},{id:"2",name:"Kilogramme",symbol:"kg",type:"weight",description:"Unité de poids standard"},{id:"3",name:"Pochon",symbol:"pch",type:"quantity",baseUnit:"douzaine",conversionFactor:12,description:"Contenant standard pour l'élevage"},{id:"4",name:"Caisse de conditionnement",symbol:"ccon",type:"quantity",baseUnit:"douzaine",conversionFactor:24,description:"Caisse utilisée pour le conditionnement des huîtres"},{id:"5",name:"Caisse de stockage bassin",symbol:"cstk",type:"quantity",baseUnit:"douzaine",conversionFactor:36,description:"Caisse pour le stockage en bassin"}];function oje(){const[e,t]=F.useState(!1);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Unités & Mesures"}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[s.jsx(ar,{size:20,className:"mr-2"}),"Nouvelle unité"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:g8.map(r=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:s.jsx(x4,{size:20,className:"text-brand-burgundy"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:r.name}),s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.symbol}),s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.type})]}),r.description&&s.jsx("p",{className:"text-sm text-white/60 mt-1",children:r.description}),r.baseUnit&&s.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["1 ",r.symbol," = ",r.conversionFactor," ",r.baseUnit]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Xi,{size:20,className:"text-white/60"})}),s.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Oa,{size:20,className:"text-white/60"})})]})]})},r.id))}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Nouvelle unité"}),s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'unité"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Douzaine"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Symbole"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: dz"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),s.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[s.jsx("option",{value:"weight",children:"Poids"}),s.jsx("option",{value:"volume",children:"Volume"}),s.jsx("option",{value:"quantity",children:"Quantité"}),s.jsx("option",{value:"dimension",children:"Dimension"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de l'unité..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité de base"}),s.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[s.jsx("option",{value:"",children:"Aucune"}),g8.map(r=>s.jsxs("option",{value:r.symbol,children:[r.name," (",r.symbol,")"]},r.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Facteur de conversion"}),s.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'unité"})]})]})]})})]})}const lje=[{id:"company",label:"Entreprise",icon:s.jsx(Kv,{size:20}),description:"Informations et paramètres de l'entreprise"},{id:"roles",label:"Rôles & Permissions",icon:s.jsx(ki,{size:20}),description:"Gestion des accès et des droits utilisateurs"},{id:"products",label:"Produits",icon:s.jsx(si,{size:20}),description:"Configuration des produits et du catalogue"},{id:"pricing",label:"Tarification",icon:s.jsx(Bp,{size:20}),description:"Configuration des prix et remises"},{id:"locations",label:"Emplacements",icon:s.jsx(Xo,{size:20}),description:"Configuration des tables"},{id:"units",label:"Unités & Mesures",icon:s.jsx(x4,{size:20}),description:"Configuration des unités de mesure"}],cje={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},nw={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};function uje(){const[e,t]=F.useState("company"),r=()=>{switch(e){case"company":return s.jsx(Y3e,{});case"roles":return s.jsx(Z3e,{});case"products":return s.jsx(eje,{});case"suppliers":return s.jsx(rje,{});case"pricing":return s.jsx(aje,{});case"locations":return s.jsx(sje,{});case"units":return s.jsx(oje,{});default:return null}};return s.jsxs(Ne.div,{initial:"hidden",animate:"visible",variants:cje,className:"space-y-6 p-6",children:[s.jsx(Ne.div,{variants:nw,className:"flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),s.jsx(Yv,{size:24,className:"text-[#00D1FF] relative z-10"})]}),s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Configuration"})]})}),s.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[s.jsx(Ne.div,{variants:nw,className:"col-span-3 rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:s.jsx("nav",{className:"p-4 space-y-2",children:lje.map(n=>s.jsxs(Ne.button,{onClick:()=>t(n.id),className:`w-full flex items-start p-4 rounded-lg transition-all duration-300 group relative overflow-hidden
                  ${e===n.id?"bg-[#00D1FF]/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,whileHover:{scale:1.02},whileTap:{scale:.98},style:{background:e===n.id?"linear-gradient(135deg, rgba(0, 209, 255, 0.15) 0%, rgba(0, 209, 255, 0.05) 100%)":"transparent"},children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:n.icon}),s.jsxs("div",{className:"ml-3 text-left",children:[s.jsx("span",{className:"block font-medium",children:n.label}),s.jsx("span",{className:`text-sm ${e===n.id?"text-white/80":"text-white/40"}`,children:n.description})]}),e===n.id&&s.jsx(Ne.div,{className:"absolute inset-0 bg-gradient-to-r from-[#00D1FF]/10 to-transparent",layoutId:"activeSection",transition:{type:"spring",stiffness:300,damping:30}})]},n.id))})}),s.jsx(Ne.div,{variants:nw,className:"col-span-9 rounded-xl",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:s.jsx(hr,{mode:"wait",children:s.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"p-6",children:r()},e)})})]})]})}const dje=[{id:"1",type:"alert",title:"Alerte stock critique",message:"Le stock d'huîtres plates N°3 est en dessous du seuil minimum",timestamp:"2025-02-19T10:30:00",read:!1,important:!0,category:"inventory",link:"/inventory"},{id:"2",type:"success",title:"Tâche terminée",message:"Marie Martin a terminé l'inspection des tables",timestamp:"2025-02-19T09:15:00",read:!1,important:!1,category:"task",link:"/tasks"},{id:"3",type:"warning",title:"Contrôle qualité requis",message:"Le lot LOT-2025-001 nécessite un contrôle qualité",timestamp:"2025-02-19T08:45:00",read:!0,important:!0,category:"quality",link:"/quality"},{id:"4",type:"info",title:"Nouveau congé",message:"Jean Dupont a déposé une demande de congés",timestamp:"2025-02-19T08:30:00",read:!0,important:!1,category:"hr",link:"/hr"}],fje={alert:li,success:ad,info:Df,warning:ci},hje={system:Df,task:Wa,inventory:si,quality:Qo,hr:ki},v8={alert:"bg-red-500/20 text-red-300",success:"bg-green-500/20 text-green-300",info:"bg-blue-500/20 text-blue-300",warning:"bg-yellow-500/20 text-yellow-300"};function pje({searchQuery:e,filter:t}){const[r,n]=F.useState(null),[a,i]=F.useState(dje),o=a.filter(d=>{const f=d.title.toLowerCase().includes(e.toLowerCase())||d.message.toLowerCase().includes(e.toLowerCase()),h=t==="all"||t==="unread"&&!d.read||t==="important"&&d.important;return f&&h}),l=d=>{i(a.map(f=>f.id===d?{...f,read:!0}:f))},c=d=>{i(a.map(f=>f.id===d?{...f,important:!f.important}:f))},u=d=>{i(a.filter(f=>f.id!==d))};return s.jsx("div",{className:"space-y-4",children:o.map(d=>{const f=fje[d.type],h=hje[d.category];return s.jsx("div",{className:`bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors ${d.read?"":"bg-white/10"}`,children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg ${v8[d.type].split(" ")[0]} flex items-center justify-center`,children:s.jsx(f,{size:20,className:v8[d.type].split(" ")[1]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:d.title}),d.important&&s.jsx("span",{className:"px-2 py-1 bg-brand-burgundy/20 text-brand-burgundy rounded-full text-xs",children:"Important"}),!d.read&&s.jsx("span",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),s.jsx("p",{className:"text-white/70 mt-1",children:d.message}),s.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ci,{size:16,className:"mr-1"}),It(new Date(d.timestamp),"PPp",{locale:cr})]}),s.jsx("div",{children:"•"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(h,{size:16,className:"mr-1"}),d.category]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>n(r===d.id?null:d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(zm,{size:20,className:"text-white/60"})}),r===d.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[!d.read&&s.jsxs("button",{onClick:()=>l(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(Mw,{size:16,className:"mr-2"}),"Marquer comme lu"]}),s.jsxs("button",{onClick:()=>c(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(qi,{size:16,className:"mr-2"}),d.important?"Retirer important":"Marquer important"]}),s.jsxs("button",{onClick:()=>u(d.id),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},d.id)})})}const aw=[{name:"Alertes",value:15},{name:"Succès",value:25},{name:"Informations",value:40},{name:"Avertissements",value:20}],mje=[{date:"Lun",count:12},{date:"Mar",count:15},{date:"Mer",count:8},{date:"Jeu",count:20},{date:"Ven",count:14}],iw=["#ef4444","#22c55e","#3b82f6","#eab308"];function xje(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:s.jsx(Df,{size:20,className:"text-brand-burgundy"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Total notifications"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"156"}),s.jsx("div",{className:"text-sm text-white/60",children:"Cette semaine"})]})]})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:s.jsx(li,{size:20,className:"text-red-300"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Non lues"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"8"}),s.jsx("div",{className:"text-sm text-red-300",children:"Nécessite attention"})]})]})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:s.jsx(ad,{size:20,className:"text-green-300"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Traitées"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),s.jsx("div",{className:"text-sm text-green-300",children:"91% de résolution"})]})]})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:s.jsx(ci,{size:20,className:"text-yellow-300"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Temps moyen"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5h"}),s.jsx("div",{className:"text-sm text-white/60",children:"De résolution"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Notifications par type"}),s.jsx("div",{className:"h-80",children:s.jsx(Pg,{width:"100%",height:"100%",children:s.jsxs(hD,{children:[s.jsx(dl,{data:aw,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:aw.map((e,t)=>s.jsx(Ym,{fill:iw[t%iw.length]},`cell-${t}`))}),s.jsx(Ls,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},formatter:e=>`${e}%`})]})})}),s.jsx("div",{className:"mt-6 space-y-4",children:aw.map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:iw[t]}}),s.jsx("span",{className:"text-white/70",children:e.name})]}),s.jsxs("span",{className:"text-white",children:[e.value,"%"]})]},e.name))})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Volume par jour"}),s.jsx("div",{className:"h-80",children:s.jsx(Pg,{width:"100%",height:"100%",children:s.jsxs(Fme,{data:mje,children:[s.jsx(SN,{strokeDasharray:"3 3",stroke:"#ffffff10"}),s.jsx(Xf,{dataKey:"date",stroke:"#ffffff60"}),s.jsx(Yf,{stroke:"#ffffff60"}),s.jsx(Ls,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},itemStyle:{color:"#fff"}}),s.jsx(Cd,{dataKey:"count",name:"Notifications",fill:"#8B0000"})]})})})]})]})]})}function gje({onClose:e}){return s.jsx(ms,{isOpen:!0,onClose:e,title:"Paramètres des notifications",size:"xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Canaux de notification"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Df,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Application"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications dans l'interface"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qs,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Email"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications par email"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(iT,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Mobile"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications push sur mobile"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Oi,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"SMS"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications par SMS"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Types de notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Alertes système"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications critiques du système"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Tâches"}),s.jsx("div",{className:"text-sm text-white/60",children:"Mises à jour des tâches assignées"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Stock"}),s.jsx("div",{className:"text-sm text-white/60",children:"Alertes de niveau de stock"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Qualité"}),s.jsx("div",{className:"text-sm text-white/60",children:"Rapports de contrôle qualité"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"RH"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications RH et congés"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})})}function vje(){const[e,t]=F.useState(!0),[r,n]=F.useState(!1),[a,i]=F.useState(""),[o,l]=F.useState("all");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notifications"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>t(!e),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(Kk,{size:20,className:"mr-2"}),"Statistiques"]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(Yv,{size:20,className:"mr-2"}),"Paramètres"]})]})]}),e&&s.jsx(xje,{}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),s.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg transition-colors ${o==="all"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Toutes"}),s.jsx("button",{onClick:()=>l("unread"),className:`px-4 py-2 rounded-lg transition-colors ${o==="unread"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Non lues"}),s.jsx("button",{onClick:()=>l("important"),className:`px-4 py-2 rounded-lg transition-colors ${o==="important"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Importantes"})]})]}),s.jsx(pje,{searchQuery:a,filter:o}),r&&s.jsx(gje,{onClose:()=>n(!1)})]})}const nF=({onClose:e,task:t})=>{const{register:r,handleSubmit:n,formState:{errors:a},watch:i}=rh({defaultValues:t||{}}),[o,l]=F.useState("details"),[c,u]=F.useState(null),f=i("status")==="completed",h=async p=>{try{console.log("Création de tâche:",p),e()}catch(m){console.error("Error creating task:",m)}};return s.jsx("div",{className:"modal-container",children:s.jsxs("form",{onSubmit:n(h),className:"space-y-6",children:[f&&s.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[s.jsx("button",{type:"button",className:`px-4 py-2 mr-2 transition-all ${o==="details"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>l("details"),"aria-label":"Afficher les détails de la tâche",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Dw,{size:16}),"Détails"]})}),s.jsx("button",{type:"button",className:`px-4 py-2 transition-all ${o==="performance"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>l("performance"),"aria-label":"Afficher la performance de la tâche",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Dw,{size:16}),"Performance"]})})]}),o==="details"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"title",children:"Titre de la tâche"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",...r("title",{required:"Le titre est requis"}),id:"title",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Entrez le titre de la tâche","aria-required":"true"})}),a.title&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"description",children:"Description"}),s.jsx("textarea",{...r("description"),id:"description",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[100px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Décrivez la tâche en détail"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"dueDate",children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(Wa,{size:16})}),s.jsx("input",{type:"date",...r("dueDate",{required:"La date est requise"}),id:"dueDate",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-required":"true"})]}),a.dueDate&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.dueDate.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"assignedTo",children:"Assigné à"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(yd,{size:16})}),s.jsxs("select",{...r("assignedTo"),id:"assignedTo",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white appearance-none focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx("option",{value:"",children:"Sélectionner un utilisateur"}),s.jsx("option",{value:"John Doe",children:"John Doe"}),s.jsx("option",{value:"Jane Smith",children:"Jane Smith"}),s.jsx("option",{value:"Alex Johnson",children:"Alex Johnson"})]}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{className:"w-4 h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"estimatedHours",children:"Heures estimées"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(ci,{size:16})}),s.jsx("input",{type:"number",step:"0.5",...r("estimatedHours",{required:"Ce champ est requis",min:{value:.5,message:"Minimum 0.5 heure"},max:{value:100,message:"Maximum 100 heures"}}),id:"estimatedHours",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Heures","aria-required":"true"})]}),a.estimatedHours&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.estimatedHours.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"comments",children:"Commentaires"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-4 text-white/40",children:s.jsx(jo,{size:16})}),s.jsx("textarea",{...r("comments"),id:"comments",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[80px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Ajoutez vos commentaires ici..."})]})]})]}),o==="performance"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-4 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Évaluation de la tâche"}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(p=>s.jsx("button",{type:"button",onClick:()=>u(p),className:`p-1 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-md transition-colors ${c&&c>=p?"text-yellow-400":"text-white/30 hover:text-white/50"}`,"aria-label":`Évaluer ${p} sur 5`,children:s.jsx(qi,{className:"w-6 h-6",fill:c&&c>=p?"currentColor":"none"})},p))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"delay",children:"Retard (en jours)"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(Kn,{size:16})}),s.jsx("input",{type:"number",step:"1",...r("delay"),id:"delay",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"0"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/30 text-white/70 hover:text-white transition-all min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Enregistrer"})]})]})})},b8={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)",transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,transform:"translateY(30px)"}}},bje=({task:e,onClose:t})=>{F.useState(!1);const[r,n]=F.useState(""),[a,i]=F.useState(e.comments||[]),o=_d(t),l=u=>u?It(new Date(u),"d MMMM yyyy",{locale:cr}):"",c=()=>{if(!r.trim())return;const u={author:"Utilisateur actuel",content:r,date:new Date().toISOString(),rating:0};i([...a,u]),n("")};return s.jsx(Ne.div,{...b8.overlay,className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.75)",WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",opacity:1},onClick:t,children:s.jsxs(Ne.div,{ref:o,...b8.content,onClick:u=>u.stopPropagation(),className:"w-full max-w-3xl rounded-2xl shadow-2xl border border-white/10",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s",willChange:"transform, border-color",zIndex:101,opacity:1,transform:"translateY(0px)"},children:[s.jsxs("div",{className:"modal-header px-6 py-4 border-b border-white/10 flex items-center justify-between rounded-t-2xl",children:[s.jsx("h2",{className:"text-xl font-semibold text-white bg-gradient-to-r from-white to-white/70 bg-clip-text text-transparent",children:"Détails de la tâche"}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white/90 transition-colors p-1 rounded-lg hover:bg-white/5","aria-label":"Fermer",children:s.jsx(Mt,{size:20})})]}),s.jsx("div",{className:"p-6 bg-gradient-to-b from-[rgba(0,40,80,0.4)] to-[rgba(0,20,40,0.3)]",children:s.jsxs("div",{className:"task-card-body",children:[s.jsx("h3",{className:"task-title text-xl font-semibold text-white mb-3",children:e.title}),s.jsx("p",{className:"task-description text-white/80 text-sm mb-4 leading-relaxed",children:e.description}),s.jsxs("div",{className:"task-metadata mb-4",children:[e.dueDate&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(Wa,{size:14,className:"metadata-icon"}),s.jsx("span",{children:l(e.dueDate)})]}),e.assignedTo&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(yd,{size:14,className:"metadata-icon"}),s.jsx("span",{children:e.assignedTo})]}),e.location&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(Pi,{size:14,className:"metadata-icon"}),s.jsx("span",{children:e.location})]})]}),s.jsxs("div",{className:"expanded-content expanded",children:[(e.category||e.status||e.priority)&&s.jsxs("div",{className:"task-tags mb-4",children:[e.category&&s.jsxs("div",{className:"task-tag",children:[s.jsx(Go,{size:12}),s.jsx("span",{children:e.category})]}),e.status&&s.jsxs("div",{className:"task-tag",children:[s.jsx(Go,{size:12}),s.jsx("span",{children:e.status==="completed"?"terminé":e.status==="in_progress"?"en cours":"en attente"})]}),e.priority&&s.jsxs("div",{className:"task-tag",children:[s.jsx(Go,{size:12}),s.jsx("span",{children:e.priority==="high"?"priorité haute":e.priority==="medium"?"priorité moyenne":"priorité basse"})]})]}),s.jsxs("div",{className:"task-actions",children:[s.jsxs("button",{className:"task-action-btn edit",children:[s.jsx(Kc,{size:14}),s.jsx("span",{children:"Modifier"})]}),s.jsxs("button",{className:"task-action-btn delete",children:[s.jsx(Oa,{size:14}),s.jsx("span",{children:"Supprimer"})]})]})]})]})}),s.jsxs("div",{className:"p-6 border-t border-white/10 bg-gradient-to-b from-[rgba(0,40,80,0.2)] to-[rgba(0,20,40,0.1)]",children:[s.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[s.jsx(jo,{size:16}),"Commentaires"]}),a&&a.length>0?s.jsx("div",{className:"space-y-4",children:a.map((u,d)=>s.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mr-3",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-blue-500 flex items-center justify-center text-white font-medium text-sm",children:u.author.substring(0,1)||"?"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-white",children:u.author||"Utilisateur"}),s.jsx("p",{className:"text-xs text-white/40",children:It(new Date(u.date),"dd MMM yyyy à HH:mm",{locale:cr})})]}),s.jsx("div",{className:"prose prose-sm prose-invert mt-1",children:s.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:u.content})}),u.rating>0&&s.jsx("div",{className:"mt-2 flex items-center",children:[1,2,3,4,5].map((f,h)=>s.jsx(qi,{size:14,className:h<u.rating?"text-amber-400 fill-amber-400":"text-white/20"},h))}),u.attachments&&u.attachments.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:u.attachments.map((f,h)=>s.jsxs("div",{className:"flex items-center text-xs text-blue-400 hover:text-blue-300",children:[s.jsx(f9,{size:12,className:"mr-1"}),s.jsx("a",{href:"#",className:"truncate",children:f})]},h))})]})]})},d))}):s.jsxs("div",{className:"text-center py-8 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10",children:[s.jsx(jo,{size:24,className:"mx-auto text-white/30 mb-2"}),s.jsx("p",{className:"text-white/50 text-sm",children:"Aucun commentaire pour cette tâche"})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{placeholder:"Ajouter un commentaire...",className:"w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg px-4 py-2.5 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40 transition-shadow resize-y min-h-[80px]",value:r,onChange:u=>n(u.target.value),"aria-label":"Champ de commentaire"}),s.jsx("button",{className:"absolute bottom-3 right-3 p-1.5 rounded-full bg-brand-burgundy hover:bg-brand-burgundy/90 text-white transition-colors","aria-label":"Envoyer le commentaire",onClick:c,disabled:!r.trim(),children:s.jsx(Um,{size:16})})]})})]}),e.status==="completed"&&e.performance&&s.jsxs("div",{className:"p-6 border-t border-white/10 bg-gradient-to-b from-[rgba(0,40,80,0.2)] to-[rgba(0,20,40,0.1)]",children:[s.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[s.jsx(qi,{size:16}),"Évaluation de performance"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-white/90 mb-3",children:"Performance globale"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[s.jsx("span",{children:"Efficacité (Temps estimé vs temps réel)"}),s.jsxs("span",{children:[e.performance.efficiency,"%"]})]}),s.jsx("div",{className:"bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${e.performance.efficiency>80?"bg-green-500":e.performance.efficiency>50?"bg-amber-500":"bg-red-500"}`,style:{width:`${e.performance.efficiency}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[s.jsx("span",{children:"Qualité"}),s.jsxs("span",{children:[e.performance.quality,"%"]})]}),s.jsx("div",{className:"bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${e.performance.quality>80?"bg-green-500":e.performance.quality>50?"bg-amber-500":"bg-red-500"}`,style:{width:`${e.performance.quality}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[s.jsx("span",{children:"Respect des délais"}),s.jsxs("span",{children:[e.performance.timeliness,"%"]})]}),s.jsx("div",{className:"bg-white/10 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${e.performance.timeliness>80?"bg-green-500":e.performance.timeliness>50?"bg-amber-500":"bg-red-500"}`,style:{width:`${e.performance.timeliness}%`}})})]})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-white/90 mb-3",children:"Évaluation"}),s.jsx("div",{className:"flex justify-center items-center space-x-1 mb-4",children:[1,2,3,4,5].map(u=>s.jsx(qi,{size:28,className:`${u<=Math.round((e.performance.efficiency+e.performance.quality+e.performance.timeliness)/3/20)?"text-amber-400 fill-amber-400":"text-white/20"}`},u))}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Score global"}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:[Math.round((e.performance.efficiency+e.performance.quality+e.performance.timeliness)/3),"%"]}),s.jsx("p",{className:"text-xs mt-1 text-white/60",children:e.delay===0?"Tâche terminée dans les délais":`Tâche terminée avec ${e.delay} jour${e.delay>1?"s":""} de retard`})]})]})]})]})]})})},yje={low:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400",gradientClass:"from-green-500/10 to-transparent"},medium:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400",gradientClass:"from-amber-500/10 to-transparent"},high:{badgeClass:"text-red-300 bg-red-500/20 border-red-500/30",iconColor:"text-red-400",gradientClass:"from-red-500/10 to-transparent"}},wje={pending:{badgeClass:"text-blue-300 bg-blue-500/20 border-blue-500/30",iconColor:"text-blue-400"},inProgress:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400"},completed:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400"},cancelled:{badgeClass:"text-gray-300 bg-gray-500/20 border-gray-500/30",iconColor:"text-gray-400"}},y8={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2}},exit:{opacity:0,y:20,transition:{duration:.2}}},_je=[{id:"1",title:"Nettoyage des poches d'huîtres",description:"Nettoyer les poches d'huîtres dans la zone A pour éliminer les algues et sédiments. Vérifier l'état des attaches.",status:"completed",priority:"medium",dueDate:"2023-09-15",assignedTo:"Thomas Moreau",category:"Entretien",location:"Zone A - Parc 3",tags:["Nettoyage","Poches"],estimatedTime:6,actualTime:5,comments:[{author:"Jean Dupont",content:"J'ai remarqué que les attaches des poches 45 à 52 sont usées et devront être remplacées prochainement.",date:"2023-09-10T14:30:00",rating:4,attachments:[]},{author:"Thomas Moreau",content:"Nettoyage terminé avec efficacité. J'ai également remplacé quelques attaches qui étaient trop abîmées.",date:"2023-09-12T09:45:00",rating:5,attachments:["rapport-entretien.pdf"]}],delay:0,performance:{efficiency:100,quality:92,timeliness:100}},{id:"2",title:"Retournement des poches d'huîtres",description:"Retourner les poches dans les parcs 5 à 8 pour assurer une croissance uniforme des huîtres et réduire les déformations.",status:"in_progress",priority:"high",dueDate:"2023-09-25",assignedTo:"Marie Lefèvre",category:"Manipulation",location:"Zone B - Parcs 5-8",tags:["Retournement","Croissance"],estimatedTime:10,actualTime:8,comments:[{author:"Marie Lefèvre",content:"Les parcs 5 et 6 sont terminés. J'ai remarqué une forte présence de naissain naturel sur certaines poches.",date:"2023-09-18T10:15:00",rating:3,attachments:["observations.jpg"]}],delay:0,performance:{efficiency:70,quality:85,timeliness:90}},{id:"3",title:"Tri et calibrage des huîtres",description:"Trier et calibrer les huîtres du lot 2023-B pour séparer les différentes tailles et déterminer celles prêtes pour la vente.",status:"pending",priority:"medium",dueDate:"2023-09-30",assignedTo:"Pierre Dubois",category:"Tri",location:"Atelier principal",tags:["Calibrage","Tri","Vente"],estimatedTime:8,actualTime:0,comments:[{author:"Pierre Dubois",content:"J'ai préparé la zone de tri et vérifié l'état de la calibreuse automatique.",date:"2023-09-17T11:00:00",rating:0,attachments:["vérification-machine.pdf"]}],delay:0},{id:"4",title:"Mise en claire des huîtres spéciales",description:"Transférer les huîtres spéciales sélectionnées vers les claires pour l'affinage avant la période de fêtes. Vérifier la salinité et le phytoplancton.",status:"pending",priority:"low",dueDate:"2023-10-05",assignedTo:"Sophie Martin",category:"Affinage",location:"Claires - Marais Est",tags:["Affinage","Spéciales","Préparation fêtes"],estimatedTime:5,actualTime:0,comments:[]}];function Nje({searchQuery:e,onTaskSelect:t}){const[r,n]=F.useState(null),[a,i]=F.useState([]),[o,l]=F.useState(null),[c,u]=F.useState(!1),[d,f]=F.useState(!1),[h,p]=F.useState(""),[m,x]=F.useState(null),[g,v]=F.useState(""),[y,b]=F.useState("");F.useState(!0);const[_]=F.useState(_je),S=F.useMemo(()=>_.filter(L=>L.title.toLowerCase().includes(e.toLowerCase())||L.description&&L.description.toLowerCase().includes(e.toLowerCase())),[_,e]),N=L=>{const V=S.find(ve=>ve.id===L);if(!V)return 0;const J=V.estimatedTime||8,W=V.actualTime||Math.random()*J*1.5;let ae=0;if(W<J)ae=Math.round(J/W*100);else if(W===J)ae=100;else{const ve=W/J;ve<=1.1?ae=90:ve<=1.25?ae=75:ve<=1.5?ae=60:ve<=2?ae=40:ae=20}return Math.round(ae)},j=L=>L>=100||L>=90?"text-green-500":L>=75?"text-green-400":L>=60?"text-yellow-400":L>=40?"text-amber-500":"text-red-500",C=L=>{i(V=>V.includes(L)?V.filter(J=>J!==L):[...V,L])},P=L=>{n(L)},M=L=>{console.log(`Delete task: ${L}`)},k=L=>new Date(L).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),E=(L,V)=>{V.stopPropagation(),x(L),u(!0)},R=(L,V)=>{V.stopPropagation(),x(L),f(!0)},H=()=>{m&&h&&(console.log(`Commentaire ajouté pour la tâche ${m}:`,h),p(""),u(!1))},G=()=>{m&&g&&(console.log(`Retard signalé pour la tâche ${m}:`,{raison:g,durée:y}),v(""),b(""),f(!1))};return s.jsxs("div",{className:"task-list",children:[S.length===0?s.jsxs("div",{className:"empty-task-state",children:[s.jsx("div",{className:"empty-task-icon",children:s.jsx(h9,{size:40})}),s.jsx("h3",{className:"empty-task-title",children:"Aucune tâche trouvée"}),s.jsx("p",{className:"empty-task-text",children:"Commencez à ajouter de nouvelles tâches ou modifiez vos critères de recherche."})]}):s.jsx("div",{className:"task-grid",children:S.map(L=>{var O,I;const V=L.priority,J=L.status,W=a.includes(L.id),ae=J==="completed"?"Terminée":J==="in_progress"?"En cours":"En attente",ve=J==="completed"?"completed":J==="in_progress"?"inProgress":"pending";return s.jsx("div",{className:"task-card-wrapper",children:s.jsxs("div",{className:"task-card",children:[s.jsx("div",{className:`task-card-header ${yje[V].gradientClass}`,children:s.jsxs("div",{className:"task-header-content",children:[L.status==="completed"&&s.jsx("div",{className:"ml-2 flex items-center",children:s.jsxs("div",{className:"efficiency-indicator flex items-center",title:"Pourcentage de rendement basé sur le temps",children:[s.jsx("span",{className:"text-xs text-white/60 mr-1",children:"Rendement:"}),s.jsxs("span",{className:`text-sm font-medium ${j(N(L.id))}`,children:[N(L.id),"%"]})]})}),s.jsx("div",{className:"status-container",children:s.jsx("div",{className:`status-badge ${wje[ve].badgeClass}`,children:s.jsx("span",{children:ae})})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"comment-btn p-1.5 rounded-full hover:bg-white/10 transition-colors",onClick:B=>E(L.id,B),"aria-label":"Ajouter un commentaire",title:"Ajouter un commentaire",children:s.jsx(jo,{size:16,className:"text-blue-400"})}),s.jsxs("button",{className:"delay-btn p-1.5 rounded-full hover:bg-white/10 transition-colors flex items-center mr-1",onClick:B=>R(L.id,B),"aria-label":"Signaler un retard",title:"Signaler un retard",children:[s.jsx(Kn,{size:16,className:"text-amber-400 mr-1"}),s.jsx("span",{className:"text-xs",children:"Signaler un retard"})]}),s.jsx("button",{className:"expand-task-btn p-1.5 rounded-full hover:bg-white/10 transition-colors",onClick:B=>{B.stopPropagation(),C(L.id)},"aria-label":W?"Réduire":"Développer",children:W?s.jsx(p9,{className:"transition-transform duration-200",size:16}):s.jsx(Hm,{className:"transition-transform duration-200",size:16})})]})]})}),s.jsxs("div",{className:`task-card-body ${W?"expanded":""}`,children:[s.jsx("h3",{className:"task-title",children:L.title}),s.jsx("p",{className:"task-description",children:L.description}),s.jsxs("div",{className:"task-metadata",children:[L.dueDate&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(Wa,{size:14,className:"metadata-icon"}),s.jsx("span",{children:k(L.dueDate)})]}),L.assignedTo&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(yd,{size:14,className:"metadata-icon"}),s.jsx("span",{children:L.assignedTo})]}),L.location&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(Pi,{size:14,className:"metadata-icon"}),s.jsx("span",{children:L.location})]})]}),s.jsxs("div",{className:`expanded-content ${W?"expanded":""}`,children:[s.jsxs("div",{className:"task-tags",children:[L.category&&s.jsxs("div",{className:"task-tag",children:[s.jsx(Go,{size:12}),s.jsx("span",{children:L.category})]}),L.title.toLowerCase().includes("inspection")&&s.jsxs("div",{className:"task-tag",children:[s.jsx(Go,{size:12}),s.jsx("span",{children:"inspection"})]}),L.title.toLowerCase().includes("qualité")||((O=L.description)==null?void 0:O.toLowerCase().includes("qualité"))&&s.jsxs("div",{className:"task-tag",children:[s.jsx(Go,{size:12}),s.jsx("span",{children:"qualité"})]}),L.title.toLowerCase().includes("huître")||((I=L.description)==null?void 0:I.toLowerCase().includes("huître"))&&s.jsxs("div",{className:"task-tag",children:[s.jsx(Go,{size:12}),s.jsx("span",{children:"huîtres"})]})]}),s.jsxs("div",{className:"task-actions",children:[s.jsxs("button",{className:"delay-btn p-1.5 rounded-full hover:bg-white/10 transition-colors flex items-center mr-1",onClick:B=>R(L.id,B),"aria-label":"Signaler un retard",title:"Signaler un retard",children:[s.jsx(Kn,{size:16,className:"text-amber-400 mr-1"}),s.jsx("span",{className:"text-xs",children:"Signaler un retard"})]}),s.jsxs("button",{className:"task-action-btn edit",onClick:B=>{B.stopPropagation(),P(L)},children:[s.jsx(Kc,{size:14}),s.jsx("span",{children:"Modifier"})]}),s.jsxs("button",{className:"task-action-btn delete",onClick:B=>{B.stopPropagation(),M(L.id)},children:[s.jsx(Oa,{size:14}),s.jsx("span",{children:"Supprimer"})]})]})]}),s.jsx("div",{className:"performance-details",children:W&&L.status==="completed"&&s.jsxs("div",{className:"bg-white/5 mt-3 p-3 rounded-lg border border-white/10",children:[s.jsxs("h4",{className:"text-sm font-medium text-white mb-2 flex items-center",children:[s.jsx(ci,{size:14,className:"mr-1.5 text-yellow-400"}),"Évaluation du temps de réalisation"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps prévu"}),s.jsxs("div",{className:"text-sm text-white",children:[L.estimatedTime||8," heures"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps réel"}),s.jsxs("div",{className:"text-sm text-white",children:[L.actualTime||Math.round((Math.random()*.5+.75)*(L.estimatedTime||8)*10)/10," heures"]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Rendement"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full",children:s.jsx("div",{className:"h-full rounded-full bg-green-500",style:{width:`${Math.min(100,N(L.id))}%`}})}),s.jsxs("span",{className:`ml-2 text-sm font-medium ${j(N(L.id))}`,children:[N(L.id),"%"]})]})]})]})]})})]})]})},L.id)})}),s.jsx(hr,{children:o&&s.jsx(Ne.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(null),children:s.jsx(Ne.div,{className:"modal-content",onClick:L=>L.stopPropagation(),variants:y8,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(bje,{task:o,onClose:()=>l(null)})})})}),r&&s.jsx(Ne.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(null),children:s.jsx(Ne.div,{className:"modal-content",onClick:L=>L.stopPropagation(),variants:y8,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(nF,{onClose:()=>n(null),task:r})})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-white text-lg font-medium",children:"Ajouter un commentaire"}),s.jsx("button",{onClick:()=>u(!1),className:"text-white/60 hover:text-white",children:s.jsx(Mt,{size:20})})]}),s.jsx("textarea",{value:h,onChange:L=>p(L.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),s.jsxs("div",{className:"flex justify-end mt-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),s.jsx("button",{onClick:H,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!h.trim(),children:"Envoyer"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-white text-lg font-medium",children:"Signaler un retard"}),s.jsx("button",{onClick:()=>f(!1),className:"text-white/60 hover:text-white",children:s.jsx(Mt,{size:20})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),s.jsx("textarea",{value:g,onChange:L=>v(L.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),s.jsx("input",{type:"text",value:y,onChange:L=>b(L.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),s.jsxs("div",{className:"flex justify-end mt-4",children:[s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),s.jsx("button",{onClick:G,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!g.trim(),children:"Signaler"})]})]})})]})}const jje=({value:e,maxValue:t=100,color:r})=>{const n=Math.min(100,Math.round(e/t*100));return s.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},Sje=({currentSize:e,targetSize:t,progress:r})=>{const n=["T15","N°5","N°4","N°3","N°2","N°1"],a=()=>r>100?"#ef4444":r>=85?"#22c55e":(r>=70,"#3b82f6");return s.jsxs("div",{className:"mt-4 mb-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"text-white/70 text-xs",children:"Début"}),s.jsx("div",{className:"text-white/70 text-xs",children:"Objectif"}),s.jsx("div",{className:"text-white/70 text-xs",children:"Final"})]}),s.jsxs("div",{className:"relative h-3 w-full rounded-full overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to right, #3b82f6, #3b82f6 30%, #3b82f6 50%, #3b82f6 75%, #22c55e 85%, #eab308 95%, #ef4444)"}}),s.jsx("div",{className:"absolute inset-y-0 right-0 bg-gray-900/70 rounded-r-full transition-all duration-1000 ease-out",style:{width:`${100-r}%`}}),s.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white/70",style:{left:"85%"}}),s.jsxs("div",{className:"absolute top-1/2 z-10 -translate-y-1/2 transition-all duration-1000",style:{left:`${r}%`},children:[s.jsx(Ne.div,{className:"absolute -inset-2 rounded-full opacity-30",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{backgroundColor:a()}}),s.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg border-2 border-white z-20",style:{backgroundColor:a()}})]})]}),s.jsx("div",{className:"flex justify-between mt-1",children:n.map((i,o)=>s.jsx("div",{className:`text-xs ${i===e?"text-white font-bold":i===t?"text-green-400 font-bold":"text-white/50"}`,children:i},o))})]})},Aje=({occupancy:e})=>{const t=Array.from({length:10},(a,i)=>i+1),r=e/100*10,n="w-full h-7 rounded-sm border border-white/10";return s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full mt-2",style:{backgroundColor:"rgb(7, 26, 64)"},children:t.map(a=>{const i=a===Math.ceil(r)&&!Number.isInteger(r),o=a<=Math.floor(r);return a===1?s.jsx("div",{className:`${n} bg-transparent`},a):o?s.jsx("div",{className:`${n} bg-[#a02648]`},a):i?s.jsx("div",{className:`${n} relative overflow-hidden`,children:s.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-[#a02648]",style:{width:"50%"}})},a):s.jsx("div",{className:`${n} bg-transparent`},a)})})},Cje=()=>{const e=[{date:"13/01/2025",action:"Échantillonnage",user:"Sophie L."},{date:"12/01/2025",action:"Vider 15 cordes",user:"Marc D."},{date:"11/01/2025",action:"Vider 15 cordes",user:"Jean F."},{date:"10/01/2025",action:"Vider 15 cordes",user:"Pierre M."}];return s.jsx("div",{className:"space-y-3 mt-4",children:e.map((t,r)=>s.jsxs(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.1},className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-white/10",children:s.jsx(m9,{size:16,className:"text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:t.action}),s.jsx("div",{className:"text-sm text-white/60",children:t.date})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(yd,{size:16,className:"text-white/40 mr-1"}),s.jsx("span",{className:"text-white/70",children:t.user})]})]},r))})};function Eje({table:e,onClose:t}){const r=_d(t),n=e.alert||e.timeProgress>100,[a,i]=F.useState("info");return s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4 md:p-6",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:s.jsxs(Ne.div,{ref:r,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},className:"glass-effect shadow-glass w-full max-w-4xl rounded-xl overflow-hidden relative",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-900/80 to-brand-burgundy/80 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 blur-xl rounded-full"}),s.jsx(_n,{size:24,className:"text-white relative z-10"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name}),s.jsx("p",{className:"text-white/70",children:e.type}),e.status&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 mt-2 rounded-full text-xs font-medium bg-white/10 text-white/80",children:e.status})]})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full","aria-label":"Fermer",children:s.jsx(Mt,{size:24})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex border-b border-white/10",children:[s.jsx("button",{onClick:()=>i("info"),className:`px-4 py-2 font-medium transition-colors ${a==="info"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Informations"}),s.jsx("button",{onClick:()=>i("history"),className:`px-4 py-2 font-medium transition-colors ${a==="history"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Historique"})]}),a==="info"&&s.jsxs(s.Fragment,{children:[s.jsxs(Ne.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5},className:"glass-effect rounded-xl p-6 space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(mo,{size:18,className:"mr-2 text-blue-400"}),"Occupation de la table"]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.occupancy,"%"]}),s.jsxs("div",{className:"text-sm text-white/60",children:[Math.round(e.occupancy*.1),"/10 unités"]})]}),s.jsx(Aje,{occupancy:e.occupancy}),e.alert&&s.jsxs("div",{className:"flex items-center p-3 bg-red-500/20 rounded-lg mt-3",children:[s.jsx(Kn,{size:16,className:"text-red-400 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-white",children:e.alert})]})]}),s.jsxs(Ne.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.1},className:"glass-effect rounded-xl p-6 space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(Xv,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]}),n&&s.jsxs("div",{className:"flex items-center p-3 bg-amber-500/20 rounded-lg",children:[s.jsx(li,{size:16,className:"text-amber-400 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-white",children:e.alert||"Calibre dépassé"})]}),s.jsx(Sje,{currentSize:e.currentSize,targetSize:e.targetSize,progress:e.timeProgress}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[s.jsx("div",{className:"text-white/60",children:"Calibre actuel"}),s.jsx("div",{className:"text-white font-semibold text-lg",children:e.currentSize})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[s.jsx("div",{className:"text-white/60",children:"Calibre cible"}),s.jsx("div",{className:"text-white font-semibold text-lg",children:e.targetSize})]})]})]}),s.jsxs(Ne.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.2},className:"glass-effect rounded-xl p-6 space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(Wa,{size:18,className:"mr-2 text-blue-400"}),"Informations de production"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 mb-1",children:"Date de démarrage"}),s.jsx("div",{className:"text-white font-medium",children:e.startDate})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 mb-1",children:"Date de récolte prévue"}),s.jsx("div",{className:"text-white font-medium",children:e.harvestDate})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"text-white/60",children:"Taux de mortalité"}),s.jsxs("div",{className:`text-sm ${e.mortality>20?"text-red-400":e.mortality>15?"text-amber-400":"text-green-400"}`,children:[e.mortality,"%"]})]}),s.jsx(jje,{value:e.mortality,maxValue:30,color:e.mortality<=15?"#22c55e":e.mortality<=20?"#eab308":"#ef4444"})]})]})]}),a==="history"&&s.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"glass-effect rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des manipulations"}),s.jsx(Cje,{})]})]})]})})}const $1=[{id:"1",title:"Inspection des huîtres",description:"Vérification de la qualité et de la taille des huîtres dans le parc A.",priority:"high",status:"pending",dueDate:"2025-03-15",category:"Qualité",assignedTo:"Jean Dupont",estimatedTime:3,location:"Parc A - Zone Nord",tags:["inspection","qualité","huîtres"]},{id:"2",title:"Maintenance des poches",description:"Entretien et rotation des poches d'huîtres pour optimiser la croissance.",priority:"medium",status:"in_progress",dueDate:"2025-03-14",category:"Maintenance",assignedTo:"Marie Martin",estimatedTime:5,location:"Parc B - Filière 3",tags:["maintenance","poches","rotation"]},{id:"3",title:"Analyse de l'eau",description:"Prélèvement et analyse des échantillons d'eau pour surveiller la qualité du milieu.",priority:"medium",status:"completed",dueDate:"2025-03-10",category:"Environnement",assignedTo:"Sophie Bernard",estimatedTime:2,actualTime:1.5,location:"Laboratoire",tags:["analyse","eau","qualité"]},{id:"4",title:"Préparation commandes",description:"Préparation des commandes pour livraison aux restaurants locaux.",priority:"high",status:"in_progress",dueDate:"2025-03-13",category:"Logistique",assignedTo:"Thomas Leroy",estimatedTime:4,location:"Zone de conditionnement",tags:["commandes","livraison","restaurants"]},{id:"5",title:"Contrôle des naissains",description:"Vérification de la croissance des naissains et ajustement des conditions.",priority:"low",status:"pending",dueDate:"2025-03-18",category:"Production",assignedTo:"Julie Moreau",estimatedTime:3,location:"Écloserie",tags:["naissains","croissance","surveillance"]}];function z1({title:e,value:t,icon:r,color:n,onClick:a}){const i=()=>{switch(n){case"green":return"bg-emerald-500/20 text-emerald-400";case"blue":return"bg-blue-500/20 text-blue-400";case"yellow":return"bg-amber-500/20 text-amber-400";case"red":return"bg-red-500/20 text-red-400";default:return"bg-cyan-500/20 text-cyan-400"}};return s.jsx("div",{onClick:a,className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[120px] flex items-center",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${i()} flex items-center justify-center`,children:r}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:e}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:t})]})]})})}const w8={hidden:{opacity:0,transform:"translate3d(0, 20px, 0)"},visible:{opacity:1,transform:"translate3d(0, 0, 0)",transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transform:"translate3d(0, 20px, 0)",transition:{duration:.2,ease:"easeIn"}}};function kje(){var m;So();const[e,t]=F.useState(""),[r,n]=F.useState(null),[a,i]=F.useState(!1),{session:o}=ys();(m=o==null?void 0:o.user)==null||m.role;const l=()=>{n(null)},c=()=>{i(!0)},u=()=>{i(!1)},d=$1.filter(x=>x.status==="pending").length,f=$1.filter(x=>x.status==="in_progress").length,h=$1.filter(x=>x.status==="completed").length,p=$1.filter(x=>x.priority==="high").length;return s.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2 mb-4",children:[s.jsx(x9,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Gestion des Tâches"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Rechercher une tâche...",className:"pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] text-white min-w-[250px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",value:e,onChange:x=>t(x.target.value)}),s.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:18,"aria-hidden":"true"})]}),s.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter une nouvelle tâche",children:[s.jsx(ar,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Nouvelle tâche"})]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 lg:w-2/5",children:[s.jsx(z1,{title:"En attente",value:d,icon:s.jsx(ci,{size:22}),color:"yellow"}),s.jsx(z1,{title:"En cours",value:f,icon:s.jsx(Bw,{size:22}),color:"blue"})]}),s.jsx("div",{className:"lg:w-1/5 flex justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 flex items-center justify-center",children:s.jsx(pj,{className:"h-10 w-10 text-cyan-400","aria-hidden":"true"})}),s.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mt-2",children:"Tâches en cours"}),s.jsx("p",{className:"text-sm text-white/60",children:It(new Date,"d MMMM yyyy",{locale:cr})})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 lg:w-2/5",children:[s.jsx(z1,{title:"Terminées",value:h,icon:s.jsx(ad,{size:22}),color:"green"}),s.jsx(z1,{title:"Priorité haute",value:p,icon:s.jsx(Kn,{size:22}),color:"red"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:s.jsx(pj,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Liste des tâches"}),s.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",It(new Date,"d MMMM yyyy 'à' HH:mm",{locale:cr})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les tâches",children:[s.jsx(Ca,{size:16,className:"text-white/70","aria-hidden":"true"}),s.jsx("span",{className:"text-white/70 text-sm",children:"Filtrer"})]})})]}),s.jsx(Nje,{searchQuery:e})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:s.jsx(g9,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Rapport d'activité"}),s.jsx("p",{className:"text-sm text-white/60",children:"Performances et analyses"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all",children:[s.jsx("h3",{className:"text-lg text-white mb-2",children:"Efficacité"}),s.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"87%"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"+2% depuis la semaine dernière"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all",children:[s.jsx("h3",{className:"text-lg text-white mb-2",children:"Temps moyen"}),s.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"3.2h"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Par tâche complétée"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all",children:[s.jsx("h3",{className:"text-lg text-white mb-2",children:"Priorité"}),s.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"12"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Tâches à traiter cette semaine"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all",children:[s.jsx("h3",{className:"text-lg text-white mb-2",children:"Score global"}),s.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"A+"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Excellent niveau de performance"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(Gi,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Exporter le rapport"})]})})]}),s.jsx(hr,{children:r&&s.jsx(Ne.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx(Ne.div,{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 max-w-4xl w-full mx-4",variants:w8,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(Eje,{table:r,onClose:l})})})}),s.jsx(hr,{children:a&&s.jsx(Ne.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,children:s.jsxs(Ne.div,{className:"p-6 rounded-lg max-w-2xl w-full mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:x=>x.stopPropagation(),variants:w8,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-white/10 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:s.jsx(ar,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Nouvelle tâche"})]}),s.jsx("button",{onClick:u,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:rotate-90","aria-label":"Fermer",children:s.jsx(Mt,{size:20,"aria-hidden":"true"})})]}),s.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar",children:s.jsx(nF,{onClose:u})})]})]})})})]})}function Tje({table:e}){const t=So();return s.jsx("div",{className:"flex-1 pt-24",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-white/5 rounded-lg transition-colors text-white/60 hover:text-white/90",children:s.jsx(Qk,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Bouzigues"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("p",{className:"text-white/60",children:"T-1234"}),s.jsx("button",{className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:s.jsx(Kc,{size:14,className:"text-white/60"})})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-thermometer mr-2 text-brand-burgundy",children:s.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),"Température"]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-droplets mr-2 text-brand-primary",children:[s.jsx("path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"}),s.jsx("path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"})]}),"Salinité"]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clock mr-2 text-brand-tertiary",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Échantillonnage"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),s.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),s.jsx("span",{className:"text-white",children:"26 févr. 2025"})]}),s.jsx("div",{className:"pt-2 border-t border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),s.jsx("span",{className:"text-lg font-medium text-yellow-400",children:"2.5%"})]})})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shell mr-2 text-brand-burgundy",children:s.jsx("path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44"})}),"Lot en cours"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Calibre"}),s.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Quantité"}),s.jsx("span",{className:"text-white font-medium",children:"300 unités"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),s.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-spreadsheet mr-2 text-brand-tertiary",children:[s.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),s.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),s.jsx("path",{d:"M8 13h2"}),s.jsx("path",{d:"M14 13h2"}),s.jsx("path",{d:"M8 17h2"}),s.jsx("path",{d:"M14 17h2"})]}),"Importation de données"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),s.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-download mr-1",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),"Télécharger un modèle de fichier"]}),s.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-upload",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"17 8 12 3 7 8"}),s.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),"Importer des données"]})]})]})]})})}const Yh=({isOpen:e,onClose:t,title:r,children:n})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.95) 0%, rgba(20, 100, 100, 0.85) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 24px -2px, rgba(0, 200, 200, 0.1) 0px 4px 12px -2px, rgba(255, 255, 255, 0.05) 0px -1px 2px 0px inset"},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-cyan-500/20",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-cyan-500/10 transition-colors",children:s.jsx(Mt,{className:"w-5 h-5 text-cyan-400"})})]}),s.jsx("div",{className:"p-4",children:n})]})]}):null,Oje="modulepreload",Pje=function(e){return"/"+e},_8={},ol=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Pje(c),c in _8)return;_8[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Oje,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Fr(e){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(e)}var ai=Uint8Array,ps=Uint16Array,g3=Int32Array,Q2=new ai([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eb=new ai([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L_=new ai([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aF=function(e,t){for(var r=new ps(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new g3(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},iF=aF(Q2,2),sF=iF.b,B_=iF.r;sF[28]=258,B_[258]=28;var oF=aF(eb,0),Ije=oF.b,N8=oF.r,$_=new ps(32768);for(var un=0;un<32768;++un){var _c=(un&43690)>>1|(un&21845)<<1;_c=(_c&52428)>>2|(_c&13107)<<2,_c=(_c&61680)>>4|(_c&3855)<<4,$_[un]=((_c&65280)>>8|(_c&255)<<8)>>1}var nl=function(e,t,r){for(var n=e.length,a=0,i=new ps(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new ps(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new ps(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[$_[f]>>c]=u}else for(l=new ps(n),a=0;a<n;++a)e[a]&&(l[a]=$_[o[e[a]-1]++]>>15-e[a]);return l},eu=new ai(288);for(var un=0;un<144;++un)eu[un]=8;for(var un=144;un<256;++un)eu[un]=9;for(var un=256;un<280;++un)eu[un]=7;for(var un=280;un<288;++un)eu[un]=8;var Mm=new ai(32);for(var un=0;un<32;++un)Mm[un]=5;var Dje=nl(eu,9,0),Mje=nl(eu,9,1),Fje=nl(Mm,5,0),Rje=nl(Mm,5,1),sw=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},oo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},ow=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},v3=function(e){return(e+7)/8|0},lF=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ai(e.subarray(t,r))},Lje=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],uo=function(e,t,r){var n=new Error(t||Lje[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,uo),!r)throw n;return n},Bje=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new ai(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new ai(a*3));var u=function(Te){var X=r.length;if(Te>X){var We=new ai(Math.max(X*2,Te));We.set(r),r=We}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,m=t.d,x=t.m,g=t.n,v=a*8;do{if(!p){d=oo(e,f,1);var y=oo(e,f+1,3);if(f+=3,y)if(y==1)p=Mje,m=Rje,x=9,g=5;else if(y==2){var N=oo(e,f,31)+257,j=oo(e,f+10,15)+4,C=N+oo(e,f+5,31)+1;f+=14;for(var P=new ai(C),M=new ai(19),k=0;k<j;++k)M[L_[k]]=oo(e,f+k*3,7);f+=j*3;for(var E=sw(M),R=(1<<E)-1,H=nl(M,E,1),k=0;k<C;){var G=H[oo(e,f,R)];f+=G&15;var b=G>>4;if(b<16)P[k++]=b;else{var L=0,V=0;for(b==16?(V=3+oo(e,f,3),f+=2,L=P[k-1]):b==17?(V=3+oo(e,f,7),f+=3):b==18&&(V=11+oo(e,f,127),f+=7);V--;)P[k++]=L}}var J=P.subarray(0,N),W=P.subarray(N);x=sw(J),g=sw(W),p=nl(J,x,1),m=nl(W,g,1)}else uo(1);else{var b=v3(f)+4,_=e[b-4]|e[b-3]<<8,S=b+_;if(S>a){c&&uo(0);break}l&&u(h+_),r.set(e.subarray(b,S),h),t.b=h+=_,t.p=f=S*8,t.f=d;continue}if(f>v){c&&uo(0);break}}l&&u(h+131072);for(var ae=(1<<x)-1,ve=(1<<g)-1,O=f;;O=f){var L=p[ow(e,f)&ae],I=L>>4;if(f+=L&15,f>v){c&&uo(0);break}if(L||uo(2),I<256)r[h++]=I;else if(I==256){O=f,p=null;break}else{var B=I-254;if(I>264){var k=I-257,z=Q2[k];B=oo(e,f,(1<<z)-1)+sF[k],f+=z}var q=m[ow(e,f)&ve],se=q>>4;q||uo(3),f+=q&15;var W=Ije[se];if(se>3){var z=eb[se];W+=ow(e,f)&(1<<z)-1,f+=z}if(f>v){c&&uo(0);break}l&&u(h+131072);var xe=h+B;if(h<W){var ie=i-W,ye=Math.min(W,xe);for(ie+h<0&&uo(3);h<ye;++h)r[h]=n[ie+h]}for(;h<xe;++h)r[h]=r[h-W]}}t.l=p,t.p=O,t.b=h,t.f=d,p&&(d=1,t.m=x,t.d=m,t.n=g)}while(!d);return h!=r.length&&o?lF(r,0,h):r.subarray(0,h)},Ol=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Kh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},lw=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:uF,l:0};if(a==1){var o=new ai(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,N){return S.f-N.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new ps(h+1),m=z_(r[d-1],p,0);if(m>t){var n=0,x=0,g=m-t,v=1<<g;for(i.sort(function(N,j){return p[j.s]-p[N.s]||N.f-j.f});n<a;++n){var y=i[n].s;if(p[y]>t)x+=v-(1<<m-p[y]),p[y]=t;else break}for(x>>=g;x>0;){var b=i[n].s;p[b]<t?x-=1<<t-p[b]++-1:++n}for(;n>=0&&x;--n){var _=i[n].s;p[_]==t&&(--p[_],++x)}m=t}return{t:new ai(p),l:m}},z_=function(e,t,r){return e.s==-1?Math.max(z_(e.l,t,r+1),z_(e.r,t,r+1)):t[e.s]=r},j8=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ps(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Jh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},cF=function(e,t,r){var n=r.length,a=v3(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},S8=function(e,t,r,n,a,i,o,l,c,u,d){Ol(t,d++,r),++a[256];for(var f=lw(a,15),h=f.t,p=f.l,m=lw(i,15),x=m.t,g=m.l,v=j8(h),y=v.c,b=v.n,_=j8(x),S=_.c,N=_.n,j=new ps(19),C=0;C<y.length;++C)++j[y[C]&31];for(var C=0;C<S.length;++C)++j[S[C]&31];for(var P=lw(j,7),M=P.t,k=P.l,E=19;E>4&&!M[L_[E-1]];--E);var R=u+5<<3,H=Jh(a,eu)+Jh(i,Mm)+o,G=Jh(a,h)+Jh(i,x)+o+14+3*E+Jh(j,M)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&R<=H&&R<=G)return cF(t,d,e.subarray(c,c+u));var L,V,J,W;if(Ol(t,d,1+(G<H)),d+=2,G<H){L=nl(h,p,0),V=h,J=nl(x,g,0),W=x;var ae=nl(M,k,0);Ol(t,d,b-257),Ol(t,d+5,N-1),Ol(t,d+10,E-4),d+=14;for(var C=0;C<E;++C)Ol(t,d+3*C,M[L_[C]]);d+=3*E;for(var ve=[y,S],O=0;O<2;++O)for(var I=ve[O],C=0;C<I.length;++C){var B=I[C]&31;Ol(t,d,ae[B]),d+=M[B],B>15&&(Ol(t,d,I[C]>>5&127),d+=I[C]>>12)}}else L=Dje,V=eu,J=Fje,W=Mm;for(var C=0;C<l;++C){var z=n[C];if(z>255){var B=z>>18&31;Kh(t,d,L[B+257]),d+=V[B+257],B>7&&(Ol(t,d,z>>23&31),d+=Q2[B]);var q=z&31;Kh(t,d,J[q]),d+=W[q],q>3&&(Kh(t,d,z>>5&8191),d+=eb[q])}else Kh(t,d,L[z]),d+=V[z]}return Kh(t,d,L[256]),d+V[256]},$je=new g3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uF=new ai(0),zje=function(e,t,r,n,a,i){var o=i.z||e.length,l=new ai(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=$je[t-1],h=f>>13,p=f&8191,m=(1<<r)-1,x=i.p||new ps(32768),g=i.h||new ps(m+1),v=Math.ceil(r/3),y=2*v,b=function(Oe){return(e[Oe]^e[Oe+1]<<v^e[Oe+2]<<y)&m},_=new g3(25e3),S=new ps(288),N=new ps(32),j=0,C=0,P=i.i||0,M=0,k=i.w||0,E=0;P+2<o;++P){var R=b(P),H=P&32767,G=g[R];if(x[H]=G,g[R]=H,k<=P){var L=o-P;if((j>7e3||M>24576)&&(L>423||!u)){d=S8(e,c,0,_,S,N,C,M,E,P-E,d),M=j=C=0,E=P;for(var V=0;V<286;++V)S[V]=0;for(var V=0;V<30;++V)N[V]=0}var J=2,W=0,ae=p,ve=H-G&32767;if(L>2&&R==b(P-ve))for(var O=Math.min(h,L)-1,I=Math.min(32767,P),B=Math.min(258,L);ve<=I&&--ae&&H!=G;){if(e[P+J]==e[P+J-ve]){for(var z=0;z<B&&e[P+z]==e[P+z-ve];++z);if(z>J){if(J=z,W=ve,z>O)break;for(var q=Math.min(ve,z-2),se=0,V=0;V<q;++V){var xe=P-ve+V&32767,ie=x[xe],ye=xe-ie&32767;ye>se&&(se=ye,G=xe)}}}H=G,G=x[H],ve+=H-G&32767}if(W){_[M++]=268435456|B_[J]<<18|N8[W];var Te=B_[J]&31,X=N8[W]&31;C+=Q2[Te]+eb[X],++S[257+Te],++N[X],k=P+J,++j}else _[M++]=e[P],++S[e[P]]}}for(P=Math.max(P,k);P<o;++P)_[M++]=e[P],++S[e[P]];d=S8(e,c,u,_,S,N,C,M,E,P-E,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=g,i.p=x,i.i=P,i.w=k)}else{for(var P=i.w||0;P<o+u;P+=65535){var We=P+65535;We>=o&&(c[d/8|0]=u,We=o),d=cF(c,d+1,e.subarray(P,We))}i.i=o}return lF(l,0,n+v3(d)+a)},dF=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Uje=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new ai(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return zje(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},fF=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Hje=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=dF();a.p(t.dictionary),fF(e,2,a.d())}},Wje=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&uo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&uo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function U_(e,t){t||(t={});var r=dF();r.p(e);var n=Uje(e,t,t.dictionary?6:2,4);return Hje(n,t),fF(n,n.length-4,r.d()),n}function Vje(e,t){return Bje(e.subarray(Wje(e,t),-4),{i:2},t,t)}var qje=typeof TextDecoder<"u"&&new TextDecoder,Gje=0;try{qje.decode(uF,{stream:!0}),Gje=1}catch{}var Ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cw(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var qr={log:cw,warn:function(e){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):cw.call(null,arguments))},error:function(e){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):cw(e))}};function uw(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ou(n.response,t,r)},n.onerror=function(){qr.error("could not download file")},n.send()}function A8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function U1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Pp,H_,Ou=Ft.saveAs||((typeof window>"u"?"undefined":Fr(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ft.URL||Ft.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?A8(a.href)?uw(e,t,r):U1(a,a.target="_blank"):U1(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){U1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(A8(e))uw(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){U1(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Fr(i)!=="object"&&(qr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return uw(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Ft.HTMLElement)||Ft.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Fr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Ft.URL||Ft.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hF(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dw(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ya(r,n,a,i,t[0],7,-680876936),i=Ya(i,r,n,a,t[1],12,-389564586),a=Ya(a,i,r,n,t[2],17,606105819),n=Ya(n,a,i,r,t[3],22,-1044525330),r=Ya(r,n,a,i,t[4],7,-176418897),i=Ya(i,r,n,a,t[5],12,1200080426),a=Ya(a,i,r,n,t[6],17,-1473231341),n=Ya(n,a,i,r,t[7],22,-45705983),r=Ya(r,n,a,i,t[8],7,1770035416),i=Ya(i,r,n,a,t[9],12,-1958414417),a=Ya(a,i,r,n,t[10],17,-42063),n=Ya(n,a,i,r,t[11],22,-1990404162),r=Ya(r,n,a,i,t[12],7,1804603682),i=Ya(i,r,n,a,t[13],12,-40341101),a=Ya(a,i,r,n,t[14],17,-1502002290),r=Ka(r,n=Ya(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ka(i,r,n,a,t[6],9,-1069501632),a=Ka(a,i,r,n,t[11],14,643717713),n=Ka(n,a,i,r,t[0],20,-373897302),r=Ka(r,n,a,i,t[5],5,-701558691),i=Ka(i,r,n,a,t[10],9,38016083),a=Ka(a,i,r,n,t[15],14,-660478335),n=Ka(n,a,i,r,t[4],20,-405537848),r=Ka(r,n,a,i,t[9],5,568446438),i=Ka(i,r,n,a,t[14],9,-1019803690),a=Ka(a,i,r,n,t[3],14,-187363961),n=Ka(n,a,i,r,t[8],20,1163531501),r=Ka(r,n,a,i,t[13],5,-1444681467),i=Ka(i,r,n,a,t[2],9,-51403784),a=Ka(a,i,r,n,t[7],14,1735328473),r=Ja(r,n=Ka(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ja(i,r,n,a,t[8],11,-2022574463),a=Ja(a,i,r,n,t[11],16,1839030562),n=Ja(n,a,i,r,t[14],23,-35309556),r=Ja(r,n,a,i,t[1],4,-1530992060),i=Ja(i,r,n,a,t[4],11,1272893353),a=Ja(a,i,r,n,t[7],16,-155497632),n=Ja(n,a,i,r,t[10],23,-1094730640),r=Ja(r,n,a,i,t[13],4,681279174),i=Ja(i,r,n,a,t[0],11,-358537222),a=Ja(a,i,r,n,t[3],16,-722521979),n=Ja(n,a,i,r,t[6],23,76029189),r=Ja(r,n,a,i,t[9],4,-640364487),i=Ja(i,r,n,a,t[12],11,-421815835),a=Ja(a,i,r,n,t[15],16,530742520),r=Za(r,n=Ja(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Za(i,r,n,a,t[7],10,1126891415),a=Za(a,i,r,n,t[14],15,-1416354905),n=Za(n,a,i,r,t[5],21,-57434055),r=Za(r,n,a,i,t[12],6,1700485571),i=Za(i,r,n,a,t[3],10,-1894986606),a=Za(a,i,r,n,t[10],15,-1051523),n=Za(n,a,i,r,t[1],21,-2054922799),r=Za(r,n,a,i,t[8],6,1873313359),i=Za(i,r,n,a,t[15],10,-30611744),a=Za(a,i,r,n,t[6],15,-1560198380),n=Za(n,a,i,r,t[13],21,1309151649),r=Za(r,n,a,i,t[4],6,-145523070),i=Za(i,r,n,a,t[11],10,-1120210379),a=Za(a,i,r,n,t[2],15,718787259),n=Za(n,a,i,r,t[9],21,-343485551),e[0]=Hc(r,e[0]),e[1]=Hc(n,e[1]),e[2]=Hc(a,e[2]),e[3]=Hc(i,e[3])}function tb(e,t,r,n,a,i){return t=Hc(Hc(t,e),Hc(n,i)),Hc(t<<a|t>>>32-a,r)}function Ya(e,t,r,n,a,i,o){return tb(t&r|~t&n,e,t,a,i,o)}function Ka(e,t,r,n,a,i,o){return tb(t&n|r&~n,e,t,a,i,o)}function Ja(e,t,r,n,a,i,o){return tb(t^r^n,e,t,a,i,o)}function Za(e,t,r,n,a,i,o){return tb(r^(t|~n),e,t,a,i,o)}function pF(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)dw(n,Xje(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(dw(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,dw(n,a),n}function Xje(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Pp=Ft.atob.bind(Ft),H_=Ft.btoa.bind(Ft);var C8="0123456789abcdef".split("");function Yje(e){for(var t="",r=0;r<4;r++)t+=C8[e>>8*r+4&15]+C8[e>>8*r&15];return t}function Kje(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function W_(e){return pF(e).map(Kje).join("")}var Jje=function(e){for(var t=0;t<e.length;t++)e[t]=Yje(e[t]);return e.join("")}(pF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hc(e,t){if(Jje){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function V_(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,m="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,o=l[(l[h]+l[p])%256],m+=String.fromCharCode(t.charCodeAt(c)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var E8={print:4,modify:8,copy:16,"annot-forms":32};function A0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(E8.perm!==void 0)throw new Error("Invalid permission: "+l);a+=E8[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=W_(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=V_(this.encryptionKey,this.padding)}function C0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function k8(e){if(Fr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Ft.console&&qr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Fm(e){if(!(this instanceof Fm))return new Fm(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function mF(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Lc(e,t,r,n,a){if(!(this instanceof Lc))return new Lc(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,mF.call(this,n,a)}function Vu(e,t,r,n,a){if(!(this instanceof Vu))return new Vu(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,mF.call(this,n,a)}function Ct(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;Fr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=k8;var m="1.3",x=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(T){m=T};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var v=p.__private__.getPageFormat=function(T){return g[T]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function _(){this.saveGraphicsState(),re(new Tt(rt,0,0,-rt,0,ac()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),u="n",b=y.ADVANCED}function S(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var N=p.__private__.combineFontStyleAndFontWeight=function(T,K){if(T=="bold"&&K=="normal"||T=="bold"&&K==400||T=="normal"&&K=="italic"||T=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(T=K==400||K==="normal"?T==="italic"?"italic":"normal":K!=700&&K!=="bold"||T!=="normal"?(K==700?"bold":K)+""+T:"bold"),T};p.advancedAPI=function(T){var K=b===y.COMPAT;return K&&_.call(this),typeof T!="function"||(T(this),K&&S.call(this)),this},p.compatAPI=function(T){var K=b===y.ADVANCED;return K&&S.call(this),typeof T!="function"||(T(this),K&&_.call(this)),this},p.isAdvancedAPI=function(){return b===y.ADVANCED};var j,C=function(T){if(b!==y.ADVANCED)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=p.roundToPrecision=p.__private__.roundToPrecision=function(T,K){var be=t||K;if(isNaN(T)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(be).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof c=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return P(T,c)}:c==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return P(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return P(T,16)};var M=p.f2=p.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return P(T,2)},k=p.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return P(T,3)},E=p.scale=p.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?T*rt:b===y.ADVANCED?T:void 0},R=function(T){return b===y.COMPAT?ac()-T:b===y.ADVANCED?T:void 0},H=function(T){return E(R(T))};p.__private__.setPrecision=p.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(t=parseInt(T,10))};var G,L="00000000000000000000000000000000",V=p.__private__.getFileId=function(){return L},J=p.__private__.setFileId=function(T){return L=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(qa=new A0(d.userPermissions,d.userPassword,d.ownerPassword,L)),L};p.setFileId=function(T){return J(T),this},p.getFileId=function(){return V()};var W=p.__private__.convertDateToPDFDate=function(T){var K=T.getTimezoneOffset(),be=K<0?"+":"-",Ae=Math.floor(Math.abs(K/60)),De=Math.abs(K%60),Ge=[be,B(Ae),"'",B(De),"'"].join("");return["D:",T.getFullYear(),B(T.getMonth()+1),B(T.getDate()),B(T.getHours()),B(T.getMinutes()),B(T.getSeconds()),Ge].join("")},ae=p.__private__.convertPDFDateToDate=function(T){var K=parseInt(T.substr(2,4),10),be=parseInt(T.substr(6,2),10)-1,Ae=parseInt(T.substr(8,2),10),De=parseInt(T.substr(10,2),10),Ge=parseInt(T.substr(12,2),10),tt=parseInt(T.substr(14,2),10);return new Date(K,be,Ae,De,Ge,tt,0)},ve=p.__private__.setCreationDate=function(T){var K;if(T===void 0&&(T=new Date),T instanceof Date)K=W(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=T}return G=K},O=p.__private__.getCreationDate=function(T){var K=G;return T==="jsDate"&&(K=ae(G)),K};p.setCreationDate=function(T){return ve(T),this},p.getCreationDate=function(T){return O(T)};var I,B=p.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},z=p.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},q=0,se=[],xe=[],ie=0,ye=[],Te=[],X=!1,We=xe,Oe=function(){q=0,ie=0,xe=[],se=[],ye=[],ce=vn(),ue=vn()};p.__private__.setCustomOutputDestination=function(T){X=!0,We=T};var Se=function(T){X||(We=T)};p.__private__.resetCustomOutputDestination=function(){X=!1,We=xe};var re=p.__private__.out=function(T){return T=T.toString(),ie+=T.length+1,We.push(T),We},Me=p.__private__.write=function(T){return re(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},oe=p.__private__.getArrayBuffer=function(T){for(var K=T.length,be=new ArrayBuffer(K),Ae=new Uint8Array(be);K--;)Ae[K]=T.charCodeAt(K);return be},me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return me};var _e=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(T){return _e=b===y.ADVANCED?T/rt:T,this};var Ie,we=p.__private__.getFontSize=p.getFontSize=function(){return b===y.COMPAT?_e:_e*rt},je=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(T){return je=T,this},p.__private__.getR2L=p.getR2L=function(){return je};var He,Qe=p.__private__.setZoomMode=function(T){var K=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))Ie=T;else if(isNaN(T)){if(K.indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');Ie=T}else Ie=parseInt(T,10)};p.__private__.getZoomMode=function(){return Ie};var ct,vt=p.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');He=T};p.__private__.getPageMode=function(){return He};var wt=p.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');ct=T};p.__private__.getLayoutMode=function(){return ct},p.__private__.setDisplayMode=p.setDisplayMode=function(T,K,be){return Qe(T),wt(K),vt(be),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(T){if(Object.keys(bt).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[T]},p.__private__.getDocumentProperties=function(){return bt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(T){for(var K in bt)bt.hasOwnProperty(K)&&T[K]&&(bt[K]=T[K]);return this},p.__private__.setDocumentProperty=function(T,K){if(Object.keys(bt).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[T]=K};var lt,rt,ir,St,En,mr={},Xr={},ws=[],xr={},To={},an={},Zi={},Ks=null,Hr=0,$t=[],wr=new k8(p),xl=e.hotfixes||[],Qn={},_s={},Ns=[],Tt=function T(K,be,Ae,De,Ge,tt){if(!(this instanceof T))return new T(K,be,Ae,De,Ge,tt);isNaN(K)&&(K=1),isNaN(be)&&(be=0),isNaN(Ae)&&(Ae=0),isNaN(De)&&(De=1),isNaN(Ge)&&(Ge=0),isNaN(tt)&&(tt=0),this._matrix=[K,be,Ae,De,Ge,tt]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(T)},Tt.prototype.multiply=function(T){var K=T.sx*this.sx+T.shy*this.shx,be=T.sx*this.shy+T.shy*this.sy,Ae=T.shx*this.sx+T.sy*this.shx,De=T.shx*this.shy+T.sy*this.sy,Ge=T.tx*this.sx+T.ty*this.shx+this.tx,tt=T.tx*this.shy+T.ty*this.sy+this.ty;return new Tt(K,be,Ae,De,Ge,tt)},Tt.prototype.decompose=function(){var T=this.sx,K=this.shy,be=this.shx,Ae=this.sy,De=this.tx,Ge=this.ty,tt=Math.sqrt(T*T+K*K),pt=(T/=tt)*be+(K/=tt)*Ae;be-=T*pt,Ae-=K*pt;var At=Math.sqrt(be*be+Ae*Ae);return pt/=At,T*(Ae/=At)<K*(be/=At)&&(T=-T,K=-K,pt=-pt,tt=-tt),{scale:new Tt(tt,0,0,At,0,0),translate:new Tt(1,0,0,1,De,Ge),rotate:new Tt(T,K,-K,T,0,0),skew:new Tt(1,0,pt,1,0,0)}},Tt.prototype.toString=function(T){return this.join(" ")},Tt.prototype.inversed=function(){var T=this.sx,K=this.shy,be=this.shx,Ae=this.sy,De=this.tx,Ge=this.ty,tt=1/(T*Ae-K*be),pt=Ae*tt,At=-K*tt,qt=-be*tt,Ht=T*tt;return new Tt(pt,At,qt,Ht,-pt*De-qt*Ge,-At*De-Ht*Ge)},Tt.prototype.applyToPoint=function(T){var K=T.x*this.sx+T.y*this.shx+this.tx,be=T.x*this.shy+T.y*this.sy+this.ty;return new Hd(K,be)},Tt.prototype.applyToRectangle=function(T){var K=this.applyToPoint(T),be=this.applyToPoint(new Hd(T.x+T.w,T.y+T.h));return new xh(K.x,K.y,be.x-K.x,be.y-K.y)},Tt.prototype.clone=function(){var T=this.sx,K=this.shy,be=this.shx,Ae=this.sy,De=this.tx,Ge=this.ty;return new Tt(T,K,be,Ae,De,Ge)},p.Matrix=Tt;var Qi=p.matrixMult=function(T,K){return K.multiply(T)},Di=new Tt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Di;var Va=function(T,K){if(!To[T]){var be=(K instanceof Lc?"Sh":"P")+(Object.keys(xr).length+1).toString(10);K.id=be,To[T]=be,xr[be]=K,wr.publish("addPattern",K)}};p.ShadingPattern=Lc,p.TilingPattern=Vu,p.addShadingPattern=function(T,K){return C("addShadingPattern()"),Va(T,K),this},p.beginTilingPattern=function(T){C("beginTilingPattern()"),Ox(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},p.endTilingPattern=function(T,K){C("endTilingPattern()"),K.stream=Te[I].join(`
`),Va(T,K),wr.publish("endTilingPattern",K),Ns.pop().restore()};var kn=p.__private__.newObject=function(){var T=vn();return Q(T,!0),T},vn=p.__private__.newObjectDeferred=function(){return q++,se[q]=function(){return ie},q},Q=function(T,K){return K=typeof K=="boolean"&&K,se[T]=ie,K&&re(T+" 0 obj"),T},pe=p.__private__.newAdditionalObject=function(){var T={objId:vn(),content:""};return ye.push(T),T},ce=vn(),ue=vn(),he=p.__private__.decodeColorString=function(T){var K=T.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length===5&&(K[4]==="k"||K[4]==="K")&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var be=parseFloat(K[0]);K=[be,be,be,"r"]}for(var Ae="#",De=0;De<3;De++)Ae+=("0"+Math.floor(255*parseFloat(K[De])).toString(16)).slice(-2);return Ae},ge=p.__private__.encodeColorString=function(T){var K;typeof T=="string"&&(T={ch1:T});var be=T.ch1,Ae=T.ch2,De=T.ch3,Ge=T.ch4,tt=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var pt=new hF(be);if(pt.ok)be=pt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var At=parseInt(be.substr(1),16);be=At>>16&255,Ae=At>>8&255,De=255&At}if(Ae===void 0||Ge===void 0&&be===Ae&&Ae===De)if(typeof be=="string")K=be+" "+tt[0];else switch(T.precision){case 2:K=M(be/255)+" "+tt[0];break;case 3:default:K=k(be/255)+" "+tt[0]}else if(Ge===void 0||Fr(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return K=["1.","1.","1.",tt[1]].join(" ");if(typeof be=="string")K=[be,Ae,De,tt[1]].join(" ");else switch(T.precision){case 2:K=[M(be/255),M(Ae/255),M(De/255),tt[1]].join(" ");break;default:case 3:K=[k(be/255),k(Ae/255),k(De/255),tt[1]].join(" ")}}else if(typeof be=="string")K=[be,Ae,De,Ge,tt[2]].join(" ");else switch(T.precision){case 2:K=[M(be),M(Ae),M(De),M(Ge),tt[2]].join(" ");break;case 3:default:K=[k(be),k(Ae),k(De),k(Ge),tt[2]].join(" ")}return K},Re=p.__private__.getFilters=function(){return o},Ve=p.__private__.putStream=function(T){var K=(T=T||{}).data||"",be=T.filters||Re(),Ae=T.alreadyAppliedFilters||[],De=T.addLength1||!1,Ge=K.length,tt=T.objectId,pt=function(Ga){return Ga};if(d!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(pt=qa.encryptor(tt,0));var At={};be===!0&&(be=["FlateEncode"]);var qt=T.additionalKeyValues||[],Ht=(At=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(K,be):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(At.data.length!==0&&(qt.push({key:"Length",value:At.data.length}),De===!0&&qt.push({key:"Length1",value:Ge})),Ht.length!=0)if(Ht.split("/").length-1==1)qt.push({key:"Filter",value:Ht});else{qt.push({key:"Filter",value:"["+Ht+"]"});for(var ur=0;ur<qt.length;ur+=1)if(qt[ur].key==="DecodeParms"){for(var pn=[],bn=0;bn<At.reverseChain.split("/").length-1;bn+=1)pn.push("null");pn.push(qt[ur].value),qt[ur].value="["+pn.join(" ")+"]"}}re("<<");for(var zn=0;zn<qt.length;zn++)re("/"+qt[zn].key+" "+qt[zn].value);re(">>"),At.data.length!==0&&(re("stream"),re(pt(At.data)),re("endstream"))},Fe=p.__private__.putPage=function(T){var K=T.number,be=T.data,Ae=T.objId,De=T.contentsObjId;Q(Ae,!0),re("<</Type /Page"),re("/Parent "+T.rootDictionaryObjId+" 0 R"),re("/Resources "+T.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(j(T.mediaBox.bottomLeftX))+" "+parseFloat(j(T.mediaBox.bottomLeftY))+" "+j(T.mediaBox.topRightX)+" "+j(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&re("/CropBox ["+j(T.cropBox.bottomLeftX)+" "+j(T.cropBox.bottomLeftY)+" "+j(T.cropBox.topRightX)+" "+j(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&re("/BleedBox ["+j(T.bleedBox.bottomLeftX)+" "+j(T.bleedBox.bottomLeftY)+" "+j(T.bleedBox.topRightX)+" "+j(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&re("/TrimBox ["+j(T.trimBox.bottomLeftX)+" "+j(T.trimBox.bottomLeftY)+" "+j(T.trimBox.topRightX)+" "+j(T.trimBox.topRightY)+"]"),T.artBox!==null&&re("/ArtBox ["+j(T.artBox.bottomLeftX)+" "+j(T.artBox.bottomLeftY)+" "+j(T.artBox.topRightX)+" "+j(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&re("/UserUnit "+T.userUnit),wr.publish("putPage",{objId:Ae,pageContext:$t[K],pageNumber:K,page:be}),re("/Contents "+De+" 0 R"),re(">>"),re("endobj");var Ge=be.join(`
`);return b===y.ADVANCED&&(Ge+=`
Q`),Q(De,!0),Ve({data:Ge,filters:Re(),objectId:De}),re("endobj"),Ae},ze=p.__private__.putPages=function(){var T,K,be=[];for(T=1;T<=Hr;T++)$t[T].objId=vn(),$t[T].contentsObjId=vn();for(T=1;T<=Hr;T++)be.push(Fe({number:T,data:Te[T],objId:$t[T].objId,contentsObjId:$t[T].contentsObjId,mediaBox:$t[T].mediaBox,cropBox:$t[T].cropBox,bleedBox:$t[T].bleedBox,trimBox:$t[T].trimBox,artBox:$t[T].artBox,userUnit:$t[T].userUnit,rootDictionaryObjId:ce,resourceDictionaryObjId:ue}));Q(ce,!0),re("<</Type /Pages");var Ae="/Kids [";for(K=0;K<Hr;K++)Ae+=be[K]+" 0 R ";re(Ae+"]"),re("/Count "+Hr),re(">>"),re("endobj"),wr.publish("postPutPages")},Ue=function(T){wr.publish("putFont",{font:T,out:re,newObject:kn,putStream:Ve}),T.isAlreadyPutted!==!0&&(T.objectNumber=kn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+C0(T.postScriptName)),re("/Subtype /Type1"),typeof T.encoding=="string"&&re("/Encoding /"+T.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},nt=function(){for(var T in mr)mr.hasOwnProperty(T)&&(f===!1||f===!0&&h.hasOwnProperty(T))&&Ue(mr[T])},it=function(T){T.objectNumber=kn();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[j(T.x),j(T.y),j(T.x+T.width),j(T.y+T.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var be=T.pages[1].join(`
`);Ve({data:be,additionalKeyValues:K,objectId:T.objectNumber}),re("endobj")},ht=function(){for(var T in Qn)Qn.hasOwnProperty(T)&&it(Qn[T])},at=function(T,K){var be,Ae=[],De=1/(K-1);for(be=0;be<1;be+=De)Ae.push(be);if(Ae.push(1),T[0].offset!=0){var Ge={offset:0,color:T[0].color};T.unshift(Ge)}if(T[T.length-1].offset!=1){var tt={offset:1,color:T[T.length-1].color};T.push(tt)}for(var pt="",At=0,qt=0;qt<Ae.length;qt++){for(be=Ae[qt];be>T[At+1].offset;)At++;var Ht=T[At].offset,ur=(be-Ht)/(T[At+1].offset-Ht),pn=T[At].color,bn=T[At+1].color;pt+=z(Math.round((1-ur)*pn[0]+ur*bn[0]).toString(16))+z(Math.round((1-ur)*pn[1]+ur*bn[1]).toString(16))+z(Math.round((1-ur)*pn[2]+ur*bn[2]).toString(16))}return pt.trim()},ft=function(T,K){K||(K=21);var be=kn(),Ae=at(T.colors,K),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+K+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:Ae,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),re("endobj"),T.objectNumber=kn(),re("<< /ShadingType "+T.type),re("/ColorSpace /DeviceRGB");var Ge="/Coords ["+j(parseFloat(T.coords[0]))+" "+j(parseFloat(T.coords[1]))+" ";T.type===2?Ge+=j(parseFloat(T.coords[2]))+" "+j(parseFloat(T.coords[3])):Ge+=j(parseFloat(T.coords[2]))+" "+j(parseFloat(T.coords[3]))+" "+j(parseFloat(T.coords[4]))+" "+j(parseFloat(T.coords[5])),re(Ge+="]"),T.matrix&&re("/Matrix ["+T.matrix.toString()+"]"),re("/Function "+be+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Lt=function(T,K){var be=vn(),Ae=kn();K.push({resourcesOid:be,objectOid:Ae}),T.objectNumber=Ae;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+T.boundingBox.map(j).join(" ")+"]"}),De.push({key:"XStep",value:j(T.xStep)}),De.push({key:"YStep",value:j(T.yStep)}),De.push({key:"Resources",value:be+" 0 R"}),T.matrix&&De.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Ve({data:T.stream,additionalKeyValues:De,objectId:T.objectNumber}),re("endobj")},Er=function(T){var K;for(K in xr)xr.hasOwnProperty(K)&&(xr[K]instanceof Lc?ft(xr[K]):xr[K]instanceof Vu&&Lt(xr[K],T))},Br=function(T){for(var K in T.objectNumber=kn(),re("<<"),T)switch(K){case"opacity":re("/ca "+M(T[K]));break;case"stroke-opacity":re("/CA "+M(T[K]))}re(">>"),re("endobj")},$n=function(){var T;for(T in an)an.hasOwnProperty(T)&&Br(an[T])},Js=function(){for(var T in re("/XObject <<"),Qn)Qn.hasOwnProperty(T)&&Qn[T].objectNumber>=0&&re("/"+T+" "+Qn[T].objectNumber+" 0 R");wr.publish("putXobjectDict"),re(">>")},gl=function(){qa.oid=kn(),re("<<"),re("/Filter /Standard"),re("/V "+qa.v),re("/R "+qa.r),re("/U <"+qa.toHexString(qa.U)+">"),re("/O <"+qa.toHexString(qa.O)+">"),re("/P "+qa.P),re(">>"),re("endobj")},Oo=function(){for(var T in re("/Font <<"),mr)mr.hasOwnProperty(T)&&(f===!1||f===!0&&h.hasOwnProperty(T))&&re("/"+T+" "+mr[T].objectNumber+" 0 R");re(">>")},Zs=function(){if(Object.keys(xr).length>0){for(var T in re("/Shading <<"),xr)xr.hasOwnProperty(T)&&xr[T]instanceof Lc&&xr[T].objectNumber>=0&&re("/"+T+" "+xr[T].objectNumber+" 0 R");wr.publish("putShadingPatternDict"),re(">>")}},Po=function(T){if(Object.keys(xr).length>0){for(var K in re("/Pattern <<"),xr)xr.hasOwnProperty(K)&&xr[K]instanceof p.TilingPattern&&xr[K].objectNumber>=0&&xr[K].objectNumber<T&&re("/"+K+" "+xr[K].objectNumber+" 0 R");wr.publish("putTilingPatternDict"),re(">>")}},es=function(){if(Object.keys(an).length>0){var T;for(T in re("/ExtGState <<"),an)an.hasOwnProperty(T)&&an[T].objectNumber>=0&&re("/"+T+" "+an[T].objectNumber+" 0 R");wr.publish("putGStateDict"),re(">>")}},Tn=function(T){Q(T.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Oo(),Zs(),Po(T.objectOid),es(),Js(),re(">>"),re("endobj")},xx=function(){var T=[];nt(),$n(),ht(),Er(T),wr.publish("putResources"),T.forEach(Tn),Tn({resourcesOid:ue,objectOid:Number.MAX_SAFE_INTEGER}),wr.publish("postPutResources")},gx=function(){wr.publish("putAdditionalObjects");for(var T=0;T<ye.length;T++){var K=ye[T];Q(K.objId,!0),re(K.content),re("endobj")}wr.publish("postPutAdditionalObjects")},vx=function(T){Xr[T.fontName]=Xr[T.fontName]||{},Xr[T.fontName][T.fontStyle]=T.id},oh=function(T,K,be,Ae,De){var Ge={id:"F"+(Object.keys(mr).length+1).toString(10),postScriptName:T,fontName:K,fontStyle:be,encoding:Ae,isStandardFont:De||!1,metadata:{}};return wr.publish("addFont",{font:Ge,instance:this}),mr[Ge.id]=Ge,vx(Ge),Ge.id},fb=function(T){for(var K=0,be=me.length;K<be;K++){var Ae=oh.call(this,T[K][0],T[K][1],T[K][2],me[K][3],!0);f===!1&&(h[Ae]=!0);var De=T[K][0].split("-");vx({id:Ae,fontName:De[0],fontStyle:De[1]||""})}wr.publish("addFonts",{fonts:mr,dictionary:Xr})},Qs=function(T){return T.foo=function(){try{return T.apply(this,arguments)}catch(Ae){var K=Ae.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var be="Error in function "+K.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!Ft.console)throw new Error(be);Ft.console.error(be,Ae),Ft.alert&&alert(be)}},T.foo.bar=T,T.foo},Rd=function(T,K){var be,Ae,De,Ge,tt,pt,At,qt,Ht;if(De=(K=K||{}).sourceEncoding||"Unicode",tt=K.outputEncoding,(K.autoencode||tt)&&mr[lt].metadata&&mr[lt].metadata[De]&&mr[lt].metadata[De].encoding&&(Ge=mr[lt].metadata[De].encoding,!tt&&mr[lt].encoding&&(tt=mr[lt].encoding),!tt&&Ge.codePages&&(tt=Ge.codePages[0]),typeof tt=="string"&&(tt=Ge[tt]),tt)){for(At=!1,pt=[],be=0,Ae=T.length;be<Ae;be++)(qt=tt[T.charCodeAt(be)])?pt.push(String.fromCharCode(qt)):pt.push(T[be]),pt[be].charCodeAt(0)>>8&&(At=!0);T=pt.join("")}for(be=T.length;At===void 0&&be!==0;)T.charCodeAt(be-1)>>8&&(At=!0),be--;if(!At)return T;for(pt=K.noBOM?[]:[254,255],be=0,Ae=T.length;be<Ae;be++){if((Ht=(qt=T.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+T+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(Ht),pt.push(qt-(Ht<<8))}return String.fromCharCode.apply(void 0,pt)},Mi=p.__private__.pdfEscape=p.pdfEscape=function(T,K){return Rd(T,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lh=p.__private__.beginPage=function(T){Te[++Hr]=[],$t[Hr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},yx(Hr),Se(Te[I])},bx=function(T,K){var be,Ae,De;switch(r=K||r,typeof T=="string"&&(be=v(T.toLowerCase()),Array.isArray(be)&&(Ae=be[0],De=be[1])),Array.isArray(T)&&(Ae=T[0]*rt,De=T[1]*rt),isNaN(Ae)&&(Ae=a[0],De=a[1]),(Ae>14400||De>14400)&&(qr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),De=Math.min(14400,De)),a=[Ae,De],r.substr(0,1)){case"l":De>Ae&&(a=[De,Ae]);break;case"p":Ae>De&&(a=[De,Ae])}lh(a),Ax(fh),re(eo),ph!==0&&re(ph+" J"),mh!==0&&re(mh+" j"),wr.publish("addPage",{pageNumber:Hr})},hb=function(T){T>0&&T<=Hr&&(Te.splice(T,1),$t.splice(T,1),Hr--,I>Hr&&(I=Hr),this.setPage(I))},yx=function(T){T>0&&T<=Hr&&(I=T)},pb=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Te.length-1},wx=function(T,K,be){var Ae,De=void 0;return be=be||{},T=T!==void 0?T:mr[lt].fontName,K=K!==void 0?K:mr[lt].fontStyle,Ae=T.toLowerCase(),Xr[Ae]!==void 0&&Xr[Ae][K]!==void 0?De=Xr[Ae][K]:Xr[T]!==void 0&&Xr[T][K]!==void 0?De=Xr[T][K]:be.disableWarning===!1&&qr.warn("Unable to look up font label for font '"+T+"', '"+K+"'. Refer to getFontList() for available fonts."),De||be.noFallback||(De=Xr.times[K])==null&&(De=Xr.times.normal),De},mb=p.__private__.putInfo=function(){var T=kn(),K=function(Ae){return Ae};for(var be in d!==null&&(K=qa.encryptor(T,0)),re("<<"),re("/Producer ("+Mi(K("jsPDF "+Ct.version))+")"),bt)bt.hasOwnProperty(be)&&bt[be]&&re("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+Mi(K(bt[be]))+")");re("/CreationDate ("+Mi(K(G))+")"),re(">>"),re("endobj")},ch=p.__private__.putCatalog=function(T){var K=(T=T||{}).rootDictionaryObjId||ce;switch(kn(),re("<<"),re("/Type /Catalog"),re("/Pages "+K+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+Ie;be.substr(be.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&re("/OpenAction [3 0 R /XYZ null null "+M(Ie)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}He&&re("/PageMode /"+He),wr.publish("putCatalog"),re(">>"),re("endobj")},xb=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(q+1)),re("/Root "+q+" 0 R"),re("/Info "+(q-1)+" 0 R"),d!==null&&re("/Encrypt "+qa.oid+" 0 R"),re("/ID [ <"+L+"> <"+L+"> ]"),re(">>")},gb=p.__private__.putHeader=function(){re("%PDF-"+m),re("%ºß¬à")},vb=p.__private__.putXRef=function(){var T="0000000000";re("xref"),re("0 "+(q+1)),re("0000000000 65535 f ");for(var K=1;K<=q;K++)typeof se[K]=="function"?re((T+se[K]()).slice(-10)+" 00000 n "):se[K]!==void 0?re((T+se[K]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},vl=p.__private__.buildDocument=function(){Oe(),Se(xe),wr.publish("buildDocument"),gb(),ze(),gx(),xx(),d!==null&&gl(),mb(),ch();var T=ie;return vb(),xb(),re("startxref"),re(""+T),re("%%EOF"),Se(Te[I]),xe.join(`
`)},Ld=p.__private__.getBlob=function(T){return new Blob([oe(T)],{type:"application/pdf"})},Bd=p.output=p.__private__.output=Qs(function(T,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",T){case void 0:return vl();case"save":p.save(K.filename);break;case"arraybuffer":return oe(vl());case"blob":return Ld(vl());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(Ld(vl()))||void 0;qr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Ae=vl();try{be=H_(Ae)}catch{be=H_(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+K.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(De=K.pdfObjectUrl,Ge="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",pt=Ft.open();return pt!==null&&pt.document.write(tt),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',qt=Ft.open();if(qt!==null){qt.document.write(At);var Ht=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=K.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',pn=Ft.open();if(pn!==null&&(pn.document.write(ur),pn.document.title=K.filename),pn||typeof safari>"u")return pn;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",K);default:return null}}),_x=function(T){return Array.isArray(xl)===!0&&xl.indexOf(T)>-1};switch(n){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=_x("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);rt=n}var qa=null;ve(),J();var bb=function(T){return d!==null?qa.encryptor(T,0):function(K){return K}},Nx=p.__private__.getPageInfo=p.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[T].objId,pageNumber:T,pageContext:$t[T]}},Ut=p.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in $t)if($t[K].objId===T)break;return Nx(K)},yb=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:$t[I].objId,pageNumber:I,pageContext:$t[I]}};p.addPage=function(){return bx.apply(this,arguments),this},p.setPage=function(){return yx.apply(this,arguments),Se.call(this,Te[I]),this},p.insertPage=function(T){return this.addPage(),this.movePage(I,T),this},p.movePage=function(T,K){var be,Ae;if(T>K){be=Te[T],Ae=$t[T];for(var De=T;De>K;De--)Te[De]=Te[De-1],$t[De]=$t[De-1];Te[K]=be,$t[K]=Ae,this.setPage(K)}else if(T<K){be=Te[T],Ae=$t[T];for(var Ge=T;Ge<K;Ge++)Te[Ge]=Te[Ge+1],$t[Ge]=$t[Ge+1];Te[K]=be,$t[K]=Ae,this.setPage(K)}return this},p.deletePage=function(){return hb.apply(this,arguments),this},p.__private__.text=p.text=function(T,K,be,Ae,De){var Ge,tt,pt,At,qt,Ht,ur,pn,bn,zn=(Ae=Ae||{}).scope||this;if(typeof T=="number"&&typeof K=="number"&&(typeof be=="string"||Array.isArray(be))){var Ga=be;be=K,K=T,T=Ga}if(arguments[3]instanceof Tt?(C("The transform parameter of text() with a Matrix value"),bn=De):(pt=arguments[4],At=arguments[5],Fr(ur=arguments[3])==="object"&&ur!==null||(typeof pt=="string"&&(At=pt,pt=null),typeof ur=="string"&&(At=ur,ur=null),typeof ur=="number"&&(pt=ur,ur=null),Ae={flags:ur,angle:pt,align:At})),isNaN(K)||isNaN(be)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return zn;var ga="",to=!1,ts=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:cu,Mo=zn.internal.scaleFactor;function Px(Yr){return Yr=Yr.split("	").join(Array(Ae.TabLen||9).join(" ")),Mi(Yr,ur)}function yh(Yr){for(var Kr,Pn=Yr.concat(),ea=[],Nl=Pn.length;Nl--;)typeof(Kr=Pn.shift())=="string"?ea.push(Kr):Array.isArray(Yr)&&(Kr.length===1||Kr[1]===void 0&&Kr[2]===void 0)?ea.push(Kr[0]):ea.push([Kr[0],Kr[1],Kr[2]]);return ea}function wh(Yr,Kr){var Pn;if(typeof Yr=="string")Pn=Kr(Yr)[0];else if(Array.isArray(Yr)){for(var ea,Nl,kh=Yr.concat(),e0=[],Rx=kh.length;Rx--;)typeof(ea=kh.shift())=="string"?e0.push(Kr(ea)[0]):Array.isArray(ea)&&typeof ea[0]=="string"&&(Nl=Kr(ea[0],ea[1],ea[2]),e0.push([Nl[0],Nl[1],Nl[2]]));Pn=e0}return Pn}var Vd=!1,_h=!0;if(typeof T=="string")Vd=!0;else if(Array.isArray(T)){var Nh=T.concat();tt=[];for(var qd,Ia=Nh.length;Ia--;)(typeof(qd=Nh.shift())!="string"||Array.isArray(qd)&&typeof qd[0]!="string")&&(_h=!1);Vd=_h}if(Vd===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Gd=_e/zn.internal.scaleFactor,Xd=Gd*(ts-1);switch(Ae.baseline){case"bottom":be-=Xd;break;case"top":be+=Gd-Xd;break;case"hanging":be+=Gd-2*Xd;break;case"middle":be+=Gd/2-Xd}if((Ht=Ae.maxWidth||0)>0&&(typeof T=="string"?T=zn.splitTextToSize(T,Ht):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(Yr,Kr){return Yr.concat(zn.splitTextToSize(Kr,Ht))},[]))),Ge={text:T,x:K,y:be,options:Ae,mutex:{pdfEscape:Mi,activeFontKey:lt,fonts:mr,activeFontSize:_e}},wr.publish("preProcessText",Ge),T=Ge.text,pt=(Ae=Ge.options).angle,!(bn instanceof Tt)&&pt&&typeof pt=="number"){pt*=Math.PI/180,Ae.rotationDirection===0&&(pt=-pt),b===y.ADVANCED&&(pt=-pt);var Yd=Math.cos(pt),jh=Math.sin(pt);bn=new Tt(Yd,jh,-jh,Yd,0,0)}else pt&&pt instanceof Tt&&(bn=pt);b!==y.ADVANCED||bn||(bn=Di),(qt=Ae.charSpace||Ud)!==void 0&&(ga+=j(E(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pn=Ae.horizontalScale)!==void 0&&(ga+=j(100*pn)+` Tz
`),Ae.lang;var Fi=-1,Tb=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Sh=zn.internal.getCurrentPageInfo().pageContext;switch(Tb){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var Ix=Sh.usedRenderingMode!==void 0?Sh.usedRenderingMode:-1;Fi!==-1?ga+=Fi+` Tr
`:Ix!==-1&&(ga+=`0 Tr
`),Fi!==-1&&(Sh.usedRenderingMode=Fi),At=Ae.align||"left";var js,Kd=_e*ts,Dx=zn.internal.pageSize.getWidth(),Mx=mr[lt];qt=Ae.charSpace||Ud,Ht=Ae.maxWidth||0,ur=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var ic=[],fu=function(Yr){return zn.getStringUnitWidth(Yr,{font:Mx,charSpace:qt,fontSize:_e,doKerning:!1})*_e/Mo};if(Object.prototype.toString.call(T)==="[object Array]"){var Ri;tt=yh(T),At!=="left"&&(js=tt.map(fu));var hi,sc=0;if(At==="right"){K-=js[0],T=[],Ia=tt.length;for(var yl=0;yl<Ia;yl++)yl===0?(hi=Do(K),Ri=bl(be)):(hi=E(sc-js[yl]),Ri=-Kd),T.push([tt[yl],hi,Ri]),sc=js[yl]}else if(At==="center"){K-=js[0]/2,T=[],Ia=tt.length;for(var wl=0;wl<Ia;wl++)wl===0?(hi=Do(K),Ri=bl(be)):(hi=E((sc-js[wl])/2),Ri=-Kd),T.push([tt[wl],hi,Ri]),sc=js[wl]}else if(At==="left"){T=[],Ia=tt.length;for(var Jd=0;Jd<Ia;Jd++)T.push(tt[Jd])}else if(At==="justify"&&Mx.encoding==="Identity-H"){T=[],Ia=tt.length,Ht=Ht!==0?Ht:Dx;for(var _l=0,On=0;On<Ia;On++)if(Ri=On===0?bl(be):-Kd,hi=On===0?Do(K):_l,On<Ia-1){var Ah=E((Ht-js[On])/(tt[On].split(" ").length-1)),pi=tt[On].split(" ");T.push([pi[0]+" ",hi,Ri]),_l=0;for(var Ss=1;Ss<pi.length;Ss++){var Zd=(fu(pi[Ss-1]+" "+pi[Ss])-fu(pi[Ss]))*Mo+Ah;Ss==pi.length-1?T.push([pi[Ss],Zd,0]):T.push([pi[Ss]+" ",Zd,0]),_l-=Zd}}else T.push([tt[On],hi,Ri]);T.push(["",_l,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Ia=tt.length,Ht=Ht!==0?Ht:Dx,On=0;On<Ia;On++)Ri=On===0?bl(be):-Kd,hi=On===0?Do(K):0,On<Ia-1?ic.push(j(E((Ht-js[On])/(tt[On].split(" ").length-1)))):ic.push(0),T.push([tt[On],hi,Ri])}}var Fx=typeof Ae.R2L=="boolean"?Ae.R2L:je;Fx===!0&&(T=wh(T,function(Yr,Kr,Pn){return[Yr.split("").reverse().join(""),Kr,Pn]})),Ge={text:T,x:K,y:be,options:Ae,mutex:{pdfEscape:Mi,activeFontKey:lt,fonts:mr,activeFontSize:_e}},wr.publish("postProcessText",Ge),T=Ge.text,to=Ge.mutex.isHex||!1;var Ch=mr[lt].encoding;Ch!=="WinAnsiEncoding"&&Ch!=="StandardEncoding"||(T=wh(T,function(Yr,Kr,Pn){return[Px(Yr),Kr,Pn]})),tt=yh(T),T=[];for(var hu,pu,oc,mu=0,Qd=1,xu=Array.isArray(tt[0])?Qd:mu,lc="",Eh=function(Yr,Kr,Pn){var ea="";return Pn instanceof Tt?(Pn=typeof Ae.angle=="number"?Qi(Pn,new Tt(1,0,0,1,Yr,Kr)):Qi(new Tt(1,0,0,1,Yr,Kr),Pn),b===y.ADVANCED&&(Pn=Qi(new Tt(1,0,0,-1,0,0),Pn)),ea=Pn.join(" ")+` Tm
`):ea=j(Yr)+" "+j(Kr)+` Td
`,ea},As=0;As<tt.length;As++){switch(lc="",xu){case Qd:oc=(to?"<":"(")+tt[As][0]+(to?">":")"),hu=parseFloat(tt[As][1]),pu=parseFloat(tt[As][2]);break;case mu:oc=(to?"<":"(")+tt[As]+(to?">":")"),hu=Do(K),pu=bl(be)}ic!==void 0&&ic[As]!==void 0&&(lc=ic[As]+` Tw
`),As===0?T.push(lc+Eh(hu,pu,bn)+oc):xu===mu?T.push(lc+oc):xu===Qd&&T.push(lc+Eh(hu,pu,bn)+oc)}T=xu===mu?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var Cs=`BT
/`;return Cs+=lt+" "+_e+` Tf
`,Cs+=j(_e*ts)+` TL
`,Cs+=uu+`
`,Cs+=ga,Cs+=T,re(Cs+="ET"),h[lt]=!0,zn};var wb=p.__private__.clip=p.clip=function(T){return re(T==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return wb("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Io=p.__private__.isValidStyle=function(T){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(K=!0),K};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(T){return Io(T)&&(u=T),this};var jx=p.__private__.getStyle=p.getStyle=function(T){var K=u;switch(T){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=T}return K},Sx=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(T){return $d("f",T),this},p.fillEvenOdd=function(T){return $d("f*",T),this},p.fillStroke=function(T){return $d("B",T),this},p.fillStrokeEvenOdd=function(T){return $d("B*",T),this};var $d=function(T,K){Fr(K)==="object"?Nb(K,T):re(T)},uh=function(T){T===null||b===y.ADVANCED&&T===void 0||(T=jx(T),re(T))};function _b(T,K,be,Ae,De){var Ge=new Vu(K||this.boundingBox,be||this.xStep,Ae||this.yStep,this.gState,De||this.matrix);Ge.stream=this.stream;var tt=T+"$$"+this.cloneIndex+++"$$";return Va(tt,Ge),Ge}var Nb=function(T,K){var be=To[T.key],Ae=xr[be];if(Ae instanceof Lc)re("q"),re(jb(K)),Ae.gState&&p.setGState(Ae.gState),re(T.matrix.toString()+" cm"),re("/"+be+" sh"),re("Q");else if(Ae instanceof Vu){var De=new Tt(1,0,0,-1,0,ac());T.matrix&&(De=De.multiply(T.matrix||Di),be=_b.call(Ae,T.key,T.boundingBox,T.xStep,T.yStep,De).id),re("q"),re("/Pattern cs"),re("/"+be+" scn"),Ae.gState&&p.setGState(Ae.gState),re(K),re("Q")}},jb=function(T){switch(T){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},dh=p.moveTo=function(T,K){return re(j(E(T))+" "+j(H(K))+" m"),this},lu=p.lineTo=function(T,K){return re(j(E(T))+" "+j(H(K))+" l"),this},rc=p.curveTo=function(T,K,be,Ae,De,Ge){return re([j(E(T)),j(H(K)),j(E(be)),j(H(Ae)),j(E(De)),j(H(Ge)),"c"].join(" ")),this};p.__private__.line=p.line=function(T,K,be,Ae,De){if(isNaN(T)||isNaN(K)||isNaN(be)||isNaN(Ae)||!Io(De))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[be-T,Ae-K]],T,K,[1,1],De||"S"):this.lines([[be-T,Ae-K]],T,K,[1,1]).stroke()},p.__private__.lines=p.lines=function(T,K,be,Ae,De,Ge){var tt,pt,At,qt,Ht,ur,pn,bn,zn,Ga,ga,to;if(typeof T=="number"&&(to=be,be=K,K=T,T=to),Ae=Ae||[1,1],Ge=Ge||!1,isNaN(K)||isNaN(be)||!Array.isArray(T)||!Array.isArray(Ae)||!Io(De)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dh(K,be),tt=Ae[0],pt=Ae[1],qt=T.length,Ga=K,ga=be,At=0;At<qt;At++)(Ht=T[At]).length===2?(Ga=Ht[0]*tt+Ga,ga=Ht[1]*pt+ga,lu(Ga,ga)):(ur=Ht[0]*tt+Ga,pn=Ht[1]*pt+ga,bn=Ht[2]*tt+Ga,zn=Ht[3]*pt+ga,Ga=Ht[4]*tt+Ga,ga=Ht[5]*pt+ga,rc(ur,pn,bn,zn,Ga,ga));return Ge&&Sx(),uh(De),this},p.path=function(T){for(var K=0;K<T.length;K++){var be=T[K],Ae=be.c;switch(be.op){case"m":dh(Ae[0],Ae[1]);break;case"l":lu(Ae[0],Ae[1]);break;case"c":rc.apply(this,Ae);break;case"h":Sx()}}return this},p.__private__.rect=p.rect=function(T,K,be,Ae,De){if(isNaN(T)||isNaN(K)||isNaN(be)||isNaN(Ae)||!Io(De))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(Ae=-Ae),re([j(E(T)),j(H(K)),j(E(be)),j(E(Ae)),"re"].join(" ")),uh(De),this},p.__private__.triangle=p.triangle=function(T,K,be,Ae,De,Ge,tt){if(isNaN(T)||isNaN(K)||isNaN(be)||isNaN(Ae)||isNaN(De)||isNaN(Ge)||!Io(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-T,Ae-K],[De-be,Ge-Ae],[T-De,K-Ge]],T,K,[1,1],tt,!0),this},p.__private__.roundedRect=p.roundedRect=function(T,K,be,Ae,De,Ge,tt){if(isNaN(T)||isNaN(K)||isNaN(be)||isNaN(Ae)||isNaN(De)||isNaN(Ge)||!Io(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*be),Ge=Math.min(Ge,.5*Ae),this.lines([[be-2*De,0],[De*pt,0,De,Ge-Ge*pt,De,Ge],[0,Ae-2*Ge],[0,Ge*pt,-De*pt,Ge,-De,Ge],[2*De-be,0],[-De*pt,0,-De,-Ge*pt,-De,-Ge],[0,2*Ge-Ae],[0,-Ge*pt,De*pt,-Ge,De,-Ge]],T+De,K,[1,1],tt,!0),this},p.__private__.ellipse=p.ellipse=function(T,K,be,Ae,De){if(isNaN(T)||isNaN(K)||isNaN(be)||isNaN(Ae)||!Io(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*be,tt=4/3*(Math.SQRT2-1)*Ae;return dh(T+be,K),rc(T+be,K-tt,T+Ge,K-Ae,T,K-Ae),rc(T-Ge,K-Ae,T-be,K-tt,T-be,K),rc(T-be,K+tt,T-Ge,K+Ae,T,K+Ae),rc(T+Ge,K+Ae,T+be,K+tt,T+be,K),uh(De),this},p.__private__.circle=p.circle=function(T,K,be,Ae){if(isNaN(T)||isNaN(K)||isNaN(be)||!Io(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,K,be,be,Ae)},p.setFont=function(T,K,be){return be&&(K=N(K,be)),lt=wx(T,K,{disableWarning:!1}),this};var Sb=p.__private__.getFont=p.getFont=function(){return mr[wx.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var T,K,be={};for(T in Xr)if(Xr.hasOwnProperty(T))for(K in be[T]=[],Xr[T])Xr[T].hasOwnProperty(K)&&be[T].push(K);return be},p.addFont=function(T,K,be,Ae,De){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(be=N(be,Ae)),De=De||"Identity-H",oh.call(this,T,K,be,De)};var cu,fh=e.lineWidth||.200025,zd=p.__private__.getLineWidth=p.getLineWidth=function(){return fh},Ax=p.__private__.setLineWidth=p.setLineWidth=function(T){return fh=T,re(j(E(T))+" w"),this};p.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(T,K){if(T=T||[],K=K||0,isNaN(K)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(be){return j(E(be))}).join(" "),K=j(E(K)),re("["+T+"] "+K+" d"),this};var Cx=p.__private__.getLineHeight=p.getLineHeight=function(){return _e*cu};p.__private__.getLineHeight=p.getLineHeight=function(){return _e*cu};var Ex=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(cu=T),this},kx=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return cu};Ex(e.lineHeight);var Do=p.__private__.getHorizontalCoordinate=function(T){return E(T)},bl=p.__private__.getVerticalCoordinate=function(T){return b===y.ADVANCED?T:$t[I].mediaBox.topRightY-$t[I].mediaBox.bottomLeftY-E(T)},Ab=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(T){return j(Do(T))},nc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(T){return j(bl(T))},eo=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return he(eo)},p.__private__.setStrokeColor=p.setDrawColor=function(T,K,be,Ae){return eo=ge({ch1:T,ch2:K,ch3:be,ch4:Ae,pdfColorType:"draw",precision:2}),re(eo),this};var hh=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return he(hh)},p.__private__.setFillColor=p.setFillColor=function(T,K,be,Ae){return hh=ge({ch1:T,ch2:K,ch3:be,ch4:Ae,pdfColorType:"fill",precision:2}),re(hh),this};var uu=e.textColor||"0 g",Cb=p.__private__.getTextColor=p.getTextColor=function(){return he(uu)};p.__private__.setTextColor=p.setTextColor=function(T,K,be,Ae){return uu=ge({ch1:T,ch2:K,ch3:be,ch4:Ae,pdfColorType:"text",precision:3}),this};var Ud=e.charSpace,Eb=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ud||0)};p.__private__.setCharSpace=p.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ud=T,this};var ph=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(T){var K=p.CapJoinStyles[T];if(K===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ph=K,re(K+" J"),this};var mh=0;p.__private__.setLineJoin=p.setLineJoin=function(T){var K=p.CapJoinStyles[T];if(K===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mh=K,re(K+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(j(E(T))+" M"),this},p.GState=Fm,p.setGState=function(T){(T=typeof T=="string"?an[Zi[T]]:Tx(null,T)).equals(Ks)||(re("/"+T.id+" gs"),Ks=T)};var Tx=function(T,K){if(!T||!Zi[T]){var be=!1;for(var Ae in an)if(an.hasOwnProperty(Ae)&&an[Ae].equals(K)){be=!0;break}if(be)K=an[Ae];else{var De="GS"+(Object.keys(an).length+1).toString(10);an[De]=K,K.id=De}return T&&(Zi[T]=K.id),wr.publish("addGState",K),K}};p.addGState=function(T,K){return Tx(T,K),this},p.saveGraphicsState=function(){return re("q"),ws.push({key:lt,size:_e,color:uu}),this},p.restoreGraphicsState=function(){re("Q");var T=ws.pop();return lt=T.key,_e=T.size,uu=T.color,Ks=null,this},p.setCurrentTransformationMatrix=function(T){return re(T.toString()+" cm"),this},p.comment=function(T){return re("#"+T),this};var Hd=function(T,K){var be=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Ge){isNaN(Ge)||(be=parseFloat(Ge))}});var Ae=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Ge){isNaN(Ge)||(Ae=parseFloat(Ge))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Ge){De=Ge.toString()}}),this},xh=function(T,K,be,Ae){Hd.call(this,T,K),this.type="rect";var De=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(tt){isNaN(tt)||(De=parseFloat(tt))}});var Ge=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(tt){isNaN(tt)||(Ge=parseFloat(tt))}}),this},gh=function(){this.page=Hr,this.currentPage=I,this.pages=Te.slice(0),this.pagesContext=$t.slice(0),this.x=ir,this.y=St,this.matrix=En,this.width=du(I),this.height=ac(I),this.outputDestination=We,this.id="",this.objectNumber=-1};gh.prototype.restore=function(){Hr=this.page,I=this.currentPage,$t=this.pagesContext,Te=this.pages,ir=this.x,St=this.y,En=this.matrix,vh(I,this.width),bh(I,this.height),We=this.outputDestination};var Ox=function(T,K,be,Ae,De){Ns.push(new gh),Hr=I=0,Te=[],ir=T,St=K,En=De,lh([be,Ae])},kb=function(T){if(_s[T])Ns.pop().restore();else{var K=new gh,be="Xo"+(Object.keys(Qn).length+1).toString(10);K.id=be,_s[T]=be,Qn[be]=K,wr.publish("addFormObject",K),Ns.pop().restore()}};for(var Wd in p.beginFormObject=function(T,K,be,Ae,De){return Ox(T,K,be,Ae,De),this},p.endFormObject=function(T){return kb(T),this},p.doFormObject=function(T,K){var be=Qn[_s[T]];return re("q"),re(K.toString()+" cm"),re("/"+be.id+" Do"),re("Q"),this},p.getFormObject=function(T){var K=Qn[_s[T]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},p.save=function(T,K){return T=T||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(Ou(Ld(vl()),T),typeof Ou.unload=="function"&&Ft.setTimeout&&setTimeout(Ou.unload,911),this):new Promise(function(be,Ae){try{var De=Ou(Ld(vl()),T);typeof Ou.unload=="function"&&Ft.setTimeout&&setTimeout(Ou.unload,911),be(De)}catch(Ge){Ae(Ge.message)}})},Ct.API)Ct.API.hasOwnProperty(Wd)&&(Wd==="events"&&Ct.API.events.length?function(T,K){var be,Ae,De;for(De=K.length-1;De!==-1;De--)be=K[De][0],Ae=K[De][1],T.subscribe.apply(T,[be].concat(typeof Ae=="function"?[Ae]:Ae))}(wr,Ct.API.events):p[Wd]=Ct.API[Wd]);var du=p.getPageWidth=function(T){return($t[T=T||I].mediaBox.topRightX-$t[T].mediaBox.bottomLeftX)/rt},vh=p.setPageWidth=function(T,K){$t[T].mediaBox.topRightX=K*rt+$t[T].mediaBox.bottomLeftX},ac=p.getPageHeight=function(T){return($t[T=T||I].mediaBox.topRightY-$t[T].mediaBox.bottomLeftY)/rt},bh=p.setPageHeight=function(T,K){$t[T].mediaBox.topRightY=K*rt+$t[T].mediaBox.bottomLeftY};return p.internal={pdfEscape:Mi,getStyle:jx,getFont:Sb,getFontSize:we,getCharSpace:Eb,getTextColor:Cb,getLineHeight:Cx,getLineHeightFactor:kx,getLineWidth:zd,write:Me,getHorizontalCoordinate:Do,getVerticalCoordinate:bl,getCoordinateString:Ab,getVerticalCoordinateString:nc,collections:{},newObject:kn,newAdditionalObject:pe,newObjectDeferred:vn,newObjectDeferredBegin:Q,getFilters:Re,putStream:Ve,events:wr,scaleFactor:rt,pageSize:{getWidth:function(){return du(I)},setWidth:function(T){vh(I,T)},getHeight:function(){return ac(I)},setHeight:function(T){bh(I,T)}},encryptionOptions:d,encryption:qa,getEncryptor:bb,output:Bd,getNumberOfPages:pb,pages:Te,out:re,f2:M,f3:k,getPageInfo:Nx,getPageInfoByObjId:Ut,getCurrentPageInfo:yb,getPDFVersion:x,Point:Hd,Rectangle:xh,Matrix:Tt,hasHotfix:_x},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return du(I)},set:function(T){vh(I,T)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ac(I)},set:function(T){bh(I,T)},enumerable:!0,configurable:!0}),fb.call(p,me),lt="F1",bx(a,r),wr.publish("initialized"),p}A0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},A0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},A0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},A0.prototype.processOwnerPassword=function(e,t){return V_(W_(t).substr(0,5),e)},A0.prototype.encryptor=function(e,t){var r=W_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return V_(r,n)}},Fm.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Fr(e)!==Fr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="2.5.2";var Nn=Ct.API,b3=1,Dd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},x0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(e){return e.toFixed(2)},Nc=function(e){return e.toFixed(5)};Nn.__acroform__={};var Ki=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},T8=function(e){return e*b3},Bo=function(e){var t=new gF,r=yt.internal.getHeight(e)||0,n=yt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Wt(n)),Number(Wt(r))],t},Zje=Nn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Qje=Nn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},eSe=Nn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Fn=Nn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eSe(e,t-1)},Rn=Nn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zje(e,t-1)},Ln=Nn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Qje(e,t-1)},tSe=Nn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Wt(c.lowerLeft_X)),Number(Wt(c.lowerLeft_Y)),Number(Wt(c.upperRight_X)),Number(Wt(c.upperRight_Y))]},rSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=q_(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Wt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Bo(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},q_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=yt.internal.getHeight(e)||0;o=o<0?-o:o;var l=yt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(k,E,R){if(k+1<a.length){var H=E+" "+a[k+1][0];return H1(H,e,R).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=H1("3",e,i).height,h=e.multiline?o-i:(o-f)/2,p=h+=2,m=0,x=0,g=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+H1(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var v="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var _=!1;if(a[b].length!==1&&g!==a[b].length-1){if((f+2)*(y+2)+2>o)continue e;v+=a[b][g],_=!0,x=b,b--}else{v=(v+=a[b][g]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var S=parseInt(b),N=c(S,v,i),j=b>=a.length-1;if(N&&!j){v+=" ",g=0;continue}if(N||j){if(j)x=S;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;x=S}}for(var C="",P=m;P<=x;P++){var M=a[P];if(e.multiline){if(P===x){C+=M[g]+" ",g=(g+1)%M.length;continue}if(P===m){C+=M[M.length-1]+" ";continue}}C+=M[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,d=H1(C,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=Wt(u)+" "+Wt(p)+` Td
`,t+="("+Dd(C)+`) Tj
`,t+=-Wt(u)+` 0 Td
`,p=-(i+2),d=0,m=_?x:x+1,y++,v=""}break}return n.text=t,n.fontSize=i,n},H1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},nSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aSe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},iSe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Fr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},sSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Eo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(nSe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");b3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new vF,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&aSe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=tSe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=yt.createDefaultAppearanceStream(l),Fr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=rSe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var m=p[o];typeof m=="function"&&(m=m.call(a,l)),f+="/"+o+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(a,l)),f+="/"+o+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&iSe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},xF=Nn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Fr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Dd(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fw=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Dd(n(e))+")"},Jo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jo.prototype.toString=function(){return this.objId+" 0 R"},Jo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Jo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:xF(a,this.objId,this.scope)}):a instanceof Jo?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var gF=function(){Jo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ki(gF,Jo);var vF=function(){Jo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Dd(r(e))+")"}},set:function(r){e=r}})};Ki(vF,Jo);var Eo=function e(){Jo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fn(t,3)},set:function(v){v?this.F=Rn(t,3):this.F=Ln(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Bv)return;i="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Dd(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/b3:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Bv||this instanceof Gc))return fw(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof sa?h:fw(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof sa?v:v.substr(0,1)==="("?x0(v.substr(1,v.length-2)):x0(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sa?x0(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof sa?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof sa?p:fw(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof sa?v:v.substr(0,1)==="("?x0(v.substr(1,v.length-2)):x0(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sa?x0(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof sa?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,1)},set:function(v){v?this.Ff=Rn(this.Ff,1):this.Ff=Ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,2)},set:function(v){v?this.Ff=Rn(this.Ff,2):this.Ff=Ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,3)},set:function(v){v?this.Ff=Rn(this.Ff,3):this.Ff=Ln(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');g=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(g){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Ki(Eo,Jo);var Qu=function(){Eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xF(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,18)},set:function(r){r?this.Ff=Rn(this.Ff,18):this.Ff=Ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Rn(this.Ff,19):this.Ff=Ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,20)},set:function(r){r?(this.Ff=Rn(this.Ff,20),t.sort()):this.Ff=Ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,22)},set:function(r){r?this.Ff=Rn(this.Ff,22):this.Ff=Ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(r){r?this.Ff=Rn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,27)},set:function(r){r?this.Ff=Rn(this.Ff,27):this.Ff=Ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Ki(Qu,Eo);var ed=function(){Qu.call(this),this.fontName="helvetica",this.combo=!1};Ki(ed,Qu);var td=function(){ed.call(this),this.combo=!0};Ki(td,ed);var Ip=function(){td.call(this),this.edit=!0};Ki(Ip,td);var sa=function(){Eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,15)},set:function(r){r?this.Ff=Rn(this.Ff,15):this.Ff=Ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,16)},set:function(r){r?this.Ff=Rn(this.Ff,16):this.Ff=Ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,17)},set:function(r){r?this.Ff=Rn(this.Ff,17):this.Ff=Ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(r){r?this.Ff=Rn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Dd(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Fr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ki(sa,Eo);var Dp=function(){sa.call(this),this.pushButton=!0};Ki(Dp,sa);var rd=function(){sa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ki(rd,sa);var Bv=function(){var e,t;Eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Dd(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Fr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ki(Bv,Eo),rd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},rd.prototype.createOption=function(e){var t=new Bv;return t.Parent=this,t.optionName=e,this.Kids.push(t),oSe.call(this.scope,t),t};var Mp=function(){sa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};Ki(Mp,sa);var Gc=function(){Eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,13)},set:function(t){t?this.Ff=Rn(this.Ff,13):this.Ff=Ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,21)},set:function(t){t?this.Ff=Rn(this.Ff,21):this.Ff=Ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(t){t?this.Ff=Rn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,24)},set:function(t){t?this.Ff=Rn(this.Ff,24):this.Ff=Ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,25)},set:function(t){t?this.Ff=Rn(this.Ff,25):this.Ff=Ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(t){t?this.Ff=Rn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ki(Gc,Eo);var Fp=function(){Gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,14)},set:function(e){e?this.Ff=Rn(this.Ff,14):this.Ff=Ln(this.Ff,14)}}),this.password=!0};Ki(Fp,Gc);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bo(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=q_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Wt(yt.internal.getWidth(e))+" "+Wt(yt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Wt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Bo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=yt.internal.getHeight(e),o=yt.internal.getWidth(e),l=q_(e,e.caption);return a.push("1 g"),a.push("0 0 "+Wt(o)+" "+Wt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Wt(o-1)+" "+Wt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Wt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Bo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(yt.internal.getWidth(e))+" "+Wt(yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Circle.YesNormal,t.D[e]=yt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bo(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=yt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Nc(yt.internal.getWidth(e)/2)+" "+Nc(yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bo(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*yt.internal.Bezier_C).toFixed(5)),o=Number((n*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nc(yt.internal.getWidth(e)/2)+" "+Nc(yt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Nc(yt.internal.getWidth(e)/2)+" "+Nc(yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Bo(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nc(yt.internal.getWidth(e)/2)+" "+Nc(yt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Cross.YesNormal,t.D[e]=yt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bo(e);t.scope=e.scope;var r=[],n=yt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Wt(yt.internal.getWidth(e)-2)+" "+Wt(yt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(n.x1.x)+" "+Wt(n.x1.y)+" m"),r.push(Wt(n.x2.x)+" "+Wt(n.x2.y)+" l"),r.push(Wt(n.x4.x)+" "+Wt(n.x4.y)+" m"),r.push(Wt(n.x3.x)+" "+Wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bo(e);t.scope=e.scope;var r=yt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(yt.internal.getWidth(e))+" "+Wt(yt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Wt(yt.internal.getWidth(e)-2)+" "+Wt(yt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),n.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),n.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),n.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Bo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(yt.internal.getWidth(e))+" "+Wt(yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=yt.internal.getWidth(e),r=yt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},yt.internal.getWidth=function(e){var t=0;return Fr(e)==="object"&&(t=T8(e.Rect[2])),t},yt.internal.getHeight=function(e){var t=0;return Fr(e)==="object"&&(t=T8(e.Rect[3])),t};var oSe=Nn.addField=function(e){if(sSe(this,e),!(e instanceof Eo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Nn.AcroFormChoiceField=Qu,Nn.AcroFormListBox=ed,Nn.AcroFormComboBox=td,Nn.AcroFormEditBox=Ip,Nn.AcroFormButton=sa,Nn.AcroFormPushButton=Dp,Nn.AcroFormRadioButton=rd,Nn.AcroFormCheckBox=Mp,Nn.AcroFormTextField=Gc,Nn.AcroFormPasswordField=Fp,Nn.AcroFormAppearance=yt,Nn.AcroForm={ChoiceField:Qu,ListBox:ed,ComboBox:td,EditBox:Ip,Button:sa,PushButton:Dp,RadioButton:rd,CheckBox:Mp,TextField:Gc,PasswordField:Fp,Appearance:yt},Ct.AcroForm={ChoiceField:Qu,ListBox:ed,ComboBox:td,EditBox:Ip,Button:sa,PushButton:Dp,RadioButton:rd,CheckBox:Mp,TextField:Gc,PasswordField:Fp,Appearance:yt};var lSe=Ct.AcroForm;function bF(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(k,E){var R,H,G,L,V,J=t;if((E=E||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(N(k))for(V in r)for(G=r[V],R=0;R<G.length;R+=1){for(L=!0,H=0;H<G[R].length;H+=1)if(G[R][H]!==void 0&&G[R][H]!==k[H]){L=!1;break}if(L===!0){J=V;break}}else for(V in r)for(G=r[V],R=0;R<G.length;R+=1){for(L=!0,H=0;H<G[R].length;H+=1)if(G[R][H]!==void 0&&G[R][H]!==k.charCodeAt(H)){L=!1;break}if(L===!0){J=V;break}}return J===t&&E!==t&&(J=E),J},a=function k(E){for(var R=this.internal.write,H=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var L=[];if(L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Image"}),L.push({key:"Width",value:E.width}),L.push({key:"Height",value:E.height}),E.colorSpace===g.INDEXED?L.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(L.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===g.DEVICE_CMYK&&L.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),L.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&L.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var V="",J=0,W=E.transparency.length;J<W;J++)V+=E.transparency[J]+" "+E.transparency[J]+" ";L.push({key:"Mask",value:"["+V+"]"})}E.sMask!==void 0&&L.push({key:"SMask",value:E.objectId+1+" 0 R"});var ae=E.filter!==void 0?["/"+E.filter]:void 0;if(H({data:E.data,additionalKeyValues:L,alreadyAppliedFilters:ae,objectId:E.objectId}),R("endobj"),"sMask"in E&&E.sMask!==void 0){var ve="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,O={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:ve,data:E.sMask};"filter"in E&&(O.filter=E.filter),k.call(this,O)}if(E.colorSpace===g.INDEXED){var I=this.internal.newObject();H({data:C(new Uint8Array(E.palette)),objectId:I}),R("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var E in k)a.call(this,k[E])},o=function(){var k,E=this.internal.collections.addImage_images,R=this.internal.write;for(var H in E)R("/I"+(k=E[H]).index,k.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return l.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return Fr(k)==="object"&&k.nodeType===1},h=function(k,E){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var R=""+k.getAttribute("src");if(R.indexOf("data:image/")===0)return Pp(unescape(R).split("base64,").pop());var H=e.loadFile(R,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var G;switch(E){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return Pp(k.toDataURL(G,1).split("base64,").pop())}},p=function(k){var E=this.internal.collections.addImage_images;if(E){for(var R in E)if(k===E[R].alias)return E[R]}},m=function(k,E,R){return k||E||(k=-96,E=-96),k<0&&(k=-1*R.width*72/k/this.internal.scaleFactor),E<0&&(E=-1*R.height*72/E/this.internal.scaleFactor),k===0&&(k=E*R.width/R.height),E===0&&(E=k*R.height/R.width),[k,E]},x=function(k,E,R,H,G,L){var V=m.call(this,R,H,G),J=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,ae=c.call(this);if(R=V[0],H=V[1],ae[G.index]=G,L){L*=Math.PI/180;var ve=Math.cos(L),O=Math.sin(L),I=function(z){return z.toFixed(4)},B=[I(ve),I(O),I(-1*O),I(ve),0,0,"cm"]}this.internal.write("q"),L?(this.internal.write([1,"0","0",1,J(k),W(E+H),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([J(R),"0","0",J(H),"0","0","cm"].join(" "))):this.internal.write([J(R),"0","0",J(H),J(k),W(E+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(k){var E,R,H=0;if(typeof k=="string")for(R=k.length,E=0;E<R;E++)H=(H<<5)-H+k.charCodeAt(E),H|=0;else if(N(k))for(R=k.byteLength/2,E=0;E<R;E++)H=(H<<5)-H+k[E],H|=0;return H},b=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var E=!0;return k.length===0&&(E=!1),k.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(E=!1),E},_=e.__addimage__.extractImageFromDataUrl=function(k){var E=(k=k||"").split("base64,"),R=null;if(E.length===2){var H=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(H)&&(R={mimeType:H[1],charset:H[2],data:E[1]})}return R},S=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return S()&&k instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(k){return S()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(k){for(var E=k.length,R=new Uint8Array(E),H=0;H<E;H++)R[H]=k.charCodeAt(H);return R},C=e.__addimage__.arrayBufferToBinaryString=function(k){for(var E="",R=N(k)?k:new Uint8Array(k),H=0;H<R.length;H+=8192)E+=String.fromCharCode.apply(null,R.subarray(H,H+8192));return E};e.addImage=function(){var k,E,R,H,G,L,V,J,W;if(typeof arguments[1]=="number"?(E=t,R=arguments[1],H=arguments[2],G=arguments[3],L=arguments[4],V=arguments[5],J=arguments[6],W=arguments[7]):(E=arguments[1],R=arguments[2],H=arguments[3],G=arguments[4],L=arguments[5],V=arguments[6],J=arguments[7],W=arguments[8]),Fr(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var ae=k;k=ae.imageData,E=ae.format||E||t,R=ae.x||R||0,H=ae.y||H||0,G=ae.w||ae.width||G,L=ae.h||ae.height||L,V=ae.alias||V,J=ae.compression||J,W=ae.rotation||ae.angle||W}var ve=this.internal.getFilters();if(J===void 0&&ve.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(R)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var O=P.call(this,k,E,V,J);return x.call(this,R,H,G,L,O,W),this};var P=function(k,E,R,H){var G,L,V;if(typeof k=="string"&&n(k)===t){k=unescape(k);var J=M(k,!1);(J!==""||(J=e.loadFile(k,!0))!==void 0)&&(k=J)}if(f(k)&&(k=h(k,E)),E=n(k,E),!d(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((V=R)==null||V.length===0)&&(R=function(W){return typeof W=="string"||N(W)?y(W):N(W.data)?y(W.data):null}(k)),(G=p.call(this,R))||(S()&&(k instanceof Uint8Array||E==="RGBA"||(L=k,k=j(k))),G=this["process"+E.toUpperCase()](k,u.call(this),R,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:v.NONE}(H),L)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},M=e.__addimage__.convertBase64ToBinaryString=function(k,E){var R;E=typeof E!="boolean"||E;var H,G="";if(typeof k=="string"){H=(R=_(k))!==null?R.data:k;try{G=Pp(H)}catch(L){if(E)throw b(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+L.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(k){var E,R,H="";if(f(k)&&(k=h(k)),typeof k=="string"&&n(k)===t&&((H=M(k,!1))===""&&(H=e.loadFile(k)||""),k=H),R=n(k),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!S()||k instanceof Uint8Array||(k=j(k)),!(E=this["process"+R.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=R,E}})(Ct.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(v(y))+") >>",x.content=i;var b=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(x.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var N=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ct.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(x){var g=0,v=r,y="",b=0;for(g=0;g<x.length;g+=1)v[x.charCodeAt(g)]!==void 0?(b++,typeof(v=v[x.charCodeAt(g)])=="number"&&(y+=String.fromCharCode(v),v=r,b=0),g===x.length-1&&(v=r,y+=x.charAt(g-(b-1)),g-=b-1,b=0)):(v=r,y+=x.charAt(g-b),g-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(x,g,v){return o(x)?i(x)===!1?-1:!u(x)||!o(g)&&!o(v)||!o(v)&&l(g)||l(x)&&!o(g)||l(x)&&c(g)||l(x)&&l(g)?0:d(x)&&o(g)&&!l(g)&&o(v)&&u(v)?3:l(x)||!o(v)?1:2:-1},p=function(x){var g=0,v=0,y=0,b="",_="",S="",N=(x=x||"").split("\\s+"),j=[];for(g=0;g<N.length;g+=1){for(j.push(""),v=0;v<N[g].length;v+=1)b=N[g][v],_=N[g][v-1],S=N[g][v+1],o(b)?(y=h(b,_,S),j[g]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):j[g]+=b;j[g]=f(j[g])}return j.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var x,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(g)){var y=0;for(v=[],y=0;y<g.length;y+=1)Array.isArray(g[y])?v.push([p(g[y][0]),g[y][1],g[y][2]]):v.push([p(g[y])]);x=v}else x=p(g);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",m])}(Ct.API),Ct.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ct.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(x){m=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,m=0,x=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,_){return b.concat(g.splitTextToSize(_,v))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(x=this.getStringUnitWidth(c[y],{font:f})*d)&&(p=x);return p!==0&&(m=c.length),{w:p/=h,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,m,x,g,v=[],y=[],b=[],_={},S={},N=[],j=[],C=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,M=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,k=h.margins||Object.assign({width:this.getPageWidth()},t),E=typeof h.padding=="number"?h.padding:3,R=h.headerBackgroundColor||"#c8c8c8",H=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=H,this.setFontSize(M),f==null)y=v=Object.keys(d[0]),b=v.map(function(){return"left"});else if(Array.isArray(f)&&Fr(f[0])==="object")for(v=f.map(function(ae){return ae.name}),y=f.map(function(ae){return ae.prompt||ae.name||""}),b=f.map(function(ae){return ae.align||"left"}),p=0;p<f.length;p+=1)S[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=v=f,b=v.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(_[g=v[p]]=d.map(function(ae){return ae[g]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=_[g],this.setFont(void 0,"normal"),x=0;x<m.length;x+=1)N.push(this.getTextDimensions(m[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[g]=Math.max.apply(null,N)+E+E,N=[]}if(P){var G={};for(p=0;p<v.length;p+=1)G[v[p]]={},G[v[p]].text=y[p],G[v[p]].align=b[p];var L=l.call(this,G,S);j=v.map(function(ae){return new i(c,u,S[ae],L,G[ae].text,void 0,G[ae].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var V=f.reduce(function(ae,ve){return ae[ve.name]=ve.align,ae},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var J=l.call(this,d[p],S);for(x=0;x<v.length;x+=1){var W=d[p][v[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:x,data:W},this),o.call(this,new i(c,u,S[v[x]],J,W,p+2,V[v[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var m=c[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,m){return Math.max(p,m)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Ct.API);var yF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G_=bF(wF),_F=[100,200,300,400,500,600,700,800,900],cSe=bF(_F);function X_(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return yF[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof G_[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function O8(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var uSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},P8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function I8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function dSe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},uSe,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=X_(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+I8(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=G_[c],f=d<=G_.normal?-1:1,h=O8(u,wF,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=yF[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=cSe[c],f=O8(u,_F,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+I8(i)+"'.");return o}function D8(e){return e.trimLeft()}function fSe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function hSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var W1,M8,F8,hw=["times"];(function(e){var t,r,n,a,i,o,l,c,u,d=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=O;Object.defineProperty(this,"pdf",{get:function(){return I}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(Se){B=!!Se}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(Se){z=!!Se}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(Se){isNaN(Se)||(q=Se)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(Se){isNaN(Se)||(se=Se)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Se){var re;typeof Se=="number"?re=[Se,Se,Se,Se]:((re=new Array(4))[0]=Se[0],re[1]=Se.length>=2?Se[1]:re[0],re[2]=Se.length>=3?Se[2]:re[0],re[3]=Se.length>=4?Se[3]:re[1]),u.margin=re}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Se){xe=Se}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(Se){ie=Se}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(Se){ye=Se}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Se){Se instanceof d&&(u=Se)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Se){u.path=Se}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Se){Te=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var re;re=h(Se),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var re=h(Se);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var X=null;function We(Se,re){if(X===null){var Me=function(oe){var me=[];return Object.keys(oe).forEach(function(_e){oe[_e].forEach(function(Ie){var we=null;switch(Ie){case"bold":we={family:_e,weight:"bold"};break;case"italic":we={family:_e,style:"italic"};break;case"bolditalic":we={family:_e,weight:"bold",style:"italic"};break;case"":case"normal":we={family:_e}}we!==null&&(we.ref={name:_e,style:Ie},me.push(we))})}),me}(Se.getFontList());X=function(oe){for(var me={},_e=0;_e<oe.length;++_e){var Ie=X_(oe[_e]),we=Ie.family,je=Ie.stretch,He=Ie.style,Qe=Ie.weight;me[we]=me[we]||{},me[we][je]=me[we][je]||{},me[we][je][He]=me[we][je][He]||{},me[we][je][He][Qe]=Ie}return me}(Me.concat(re))}return X}var Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(Se){X=null,Oe=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var re;if(this.ctx.font=Se,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Me=re[1],oe=(re[2],re[3]),me=re[4],_e=(re[5],re[6]),Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(Ie==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var we=function(bt){var lt,rt,ir=[],St=bt.trim();if(St==="")return hw;if(St in P8)return[P8[St]];for(;St!=="";){switch(rt=null,lt=(St=D8(St)).charAt(0)){case'"':case"'":rt=fSe(St.substring(1),lt);break;default:rt=hSe(St)}if(rt===null||(ir.push(rt[0]),(St=D8(rt[1]))!==""&&St.charAt(0)!==","))return hw;St=St.replace(/^,/,"")}return ir}(_e);if(this.fontFaces){var je=dSe(We(this.pdf,this.fontFaces),we.map(function(bt){return{family:bt,stretch:"normal",weight:oe,style:Me}}));this.pdf.setFont(je.ref.name,je.ref.style)}else{var He="";(oe==="bold"||parseInt(oe,10)>=700||Me==="bold")&&(He="bold"),Me==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var Qe="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<we.length;vt++){if(this.pdf.internal.getFont(we[vt],He,{noFallback:!0,disableWarning:!0})!==void 0){Qe=we[vt];break}if(He==="bolditalic"&&this.pdf.internal.getFont(we[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=we[vt],He="bold";else if(this.pdf.internal.getFont(we[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=we[vt],He="normal";break}}if(Qe===""){for(var wt=0;wt<we.length;wt++)if(ct[we[wt]]){Qe=ct[we[wt]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,I){if(isNaN(O)||isNaN(I))throw qr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new o(O,I));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new o(O,I)},f.prototype.closePath=function(){var O=new o(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Fr(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){O=new o(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},f.prototype.lineTo=function(O,I){if(isNaN(O)||isNaN(I))throw qr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new o(O,I));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new o(B.x,B.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,I,B,z){if(isNaN(B)||isNaN(z)||isNaN(O)||isNaN(I))throw qr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new o(B,z)),se=this.ctx.transform.applyToPoint(new o(O,I));this.path.push({type:"qct",x1:se.x,y1:se.y,x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},f.prototype.bezierCurveTo=function(O,I,B,z,q,se){if(isNaN(q)||isNaN(se)||isNaN(O)||isNaN(I)||isNaN(B)||isNaN(z))throw qr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(q,se)),ie=this.ctx.transform.applyToPoint(new o(O,I)),ye=this.ctx.transform.applyToPoint(new o(B,z));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:ye.x,y2:ye.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},f.prototype.arc=function(O,I,B,z,q,se){if(isNaN(O)||isNaN(I)||isNaN(B)||isNaN(z)||isNaN(q))throw qr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(O,I));O=xe.x,I=xe.y;var ie=this.ctx.transform.applyToPoint(new o(0,B)),ye=this.ctx.transform.applyToPoint(new o(0,0));B=Math.sqrt(Math.pow(ie.x-ye.x,2)+Math.pow(ie.y-ye.y,2))}Math.abs(q-z)>=2*Math.PI&&(z=0,q=2*Math.PI),this.path.push({type:"arc",x:O,y:I,radius:B,startAngle:z,endAngle:q,counterclockwise:se})},f.prototype.arcTo=function(O,I,B,z,q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,I,B,z){if(isNaN(O)||isNaN(I)||isNaN(B)||isNaN(z))throw qr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,I),this.lineTo(O+B,I),this.lineTo(O+B,I+z),this.lineTo(O,I+z),this.lineTo(O,I),this.lineTo(O+B,I),this.lineTo(O,I)},f.prototype.fillRect=function(O,I,B,z){if(isNaN(O)||isNaN(I)||isNaN(B)||isNaN(z))throw qr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,I,B,z),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},f.prototype.strokeRect=function(O,I,B,z){if(isNaN(O)||isNaN(I)||isNaN(B)||isNaN(z))throw qr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(O,I,B,z),this.stroke())},f.prototype.clearRect=function(O,I,B,z){if(isNaN(O)||isNaN(I)||isNaN(B)||isNaN(z))throw qr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,I,B,z))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(I),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(O){var I,B,z,q;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))I=0,B=0,z=0,q=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(se!==null)I=parseInt(se[1]),B=parseInt(se[2]),z=parseInt(se[3]),q=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)I=parseInt(se[1]),B=parseInt(se[2]),z=parseInt(se[3]),q=parseFloat(se[4]);else{if(q=1,typeof O=="string"&&O.charAt(0)!=="#"){var xe=new hF(O);O=xe.ok?xe.toHex():"#000000"}O.length===4?(I=O.substring(1,2),I+=I,B=O.substring(2,3),B+=B,z=O.substring(3,4),z+=z):(I=O.substring(1,3),B=O.substring(3,5),z=O.substring(5,7)),I=parseInt(I,16),B=parseInt(B,16),z=parseInt(z,16)}}return{r:I,g:B,b:z,a:q,style:O}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,I,B,z){if(isNaN(I)||isNaN(B)||typeof O!="string")throw qr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!p.call(this)){var q=J(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;E.call(this,{text:O,x:I,y:B,scale:se,angle:q,align:this.textAlign,maxWidth:z})}},f.prototype.strokeText=function(O,I,B,z){if(isNaN(I)||isNaN(B)||typeof O!="string")throw qr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){z=isNaN(z)?void 0:z;var q=J(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;E.call(this,{text:O,x:I,y:B,scale:se,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:z})}},f.prototype.measureText=function(O){if(typeof O!="string")throw qr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,B=this.pdf.internal.scaleFactor,z=I.internal.getFontSize(),q=I.getStringUnitWidth(O)*z/I.internal.scaleFactor,se=function(xe){var ie=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new se({width:q*=Math.round(96*B/72*1e4)/1e4})},f.prototype.scale=function(O,I){if(isNaN(O)||isNaN(I))throw qr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new c(O,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.rotate=function(O){if(isNaN(O))throw qr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},f.prototype.translate=function(O,I){if(isNaN(O)||isNaN(I))throw qr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new c(1,0,0,1,O,I);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.transform=function(O,I,B,z,q,se){if(isNaN(O)||isNaN(I)||isNaN(B)||isNaN(z)||isNaN(q)||isNaN(se))throw qr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new c(O,I,B,z,q,se);this.ctx.transform=this.ctx.transform.multiply(xe)},f.prototype.setTransform=function(O,I,B,z,q,se){O=isNaN(O)?1:O,I=isNaN(I)?0:I,B=isNaN(B)?0:B,z=isNaN(z)?1:z,q=isNaN(q)?0:q,se=isNaN(se)?0:se,this.ctx.transform=new c(O,I,B,z,q,se)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,I,B,z,q,se,xe,ie,ye){var Te=this.pdf.getImageProperties(O),X=1,We=1,Oe=1,Se=1;z!==void 0&&ie!==void 0&&(Oe=ie/z,Se=ye/q,X=Te.width/z*ie/z,We=Te.height/q*ye/q),se===void 0&&(se=I,xe=B,I=0,B=0),z!==void 0&&ie===void 0&&(ie=z,ye=q),z===void 0&&ie===void 0&&(ie=Te.width,ye=Te.height);for(var re,Me=this.ctx.transform.decompose(),oe=J(Me.rotate.shx),me=new c,_e=(me=(me=(me=me.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new l(se-I*Oe,xe-B*Se,z*X,q*We)),Ie=g.call(this,_e),we=[],je=0;je<Ie.length;je+=1)we.indexOf(Ie[je])===-1&&we.push(Ie[je]);if(b(we),this.autoPaging)for(var He=we[0],Qe=we[we.length-1],ct=He;ct<Qe+1;ct++){this.pdf.setPage(ct);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=ct===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=ct===1?0:bt+(ct-2)*lt;if(this.ctx.clip_path.length!==0){var ir=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(re,this.posX+this.margin[3],-rt+wt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=ir}var St=JSON.parse(JSON.stringify(_e));St=y([St],this.posX+this.margin[3],-rt+wt+this.ctx.prevPageLastElemOffset)[0];var En=(ct>He||ct<Qe)&&x.call(this);En&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,lt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",St.x,St.y,St.w,St.h,null,null,oe),En&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",_e.x,_e.y,_e.w,_e.h,null,null,oe)};var g=function(O,I,B){var z=[];I=I||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":z.push(Math.floor((O.y+q)/B)+1);break;case"arc":z.push(Math.floor((O.y+q-O.radius)/B)+1),z.push(Math.floor((O.y+q+O.radius)/B)+1);break;case"qct":var se=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);z.push(Math.floor((se.y+q)/B)+1),z.push(Math.floor((se.y+se.h+q)/B)+1);break;case"bct":var xe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);z.push(Math.floor((xe.y+q)/B)+1),z.push(Math.floor((xe.y+xe.h+q)/B)+1);break;case"rect":z.push(Math.floor((O.y+q)/B)+1),z.push(Math.floor((O.y+O.h+q)/B)+1)}for(var ie=0;ie<z.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<z[ie];)v.call(this);return z},v=function(){var O=this.fillStyle,I=this.strokeStyle,B=this.font,z=this.lineCap,q=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=I,this.font=B,this.lineCap=z,this.lineWidth=q,this.lineJoin=se},y=function(O,I,B){for(var z=0;z<O.length;z++)switch(O[z].type){case"bct":O[z].x2+=I,O[z].y2+=B;case"qct":O[z].x1+=I,O[z].y1+=B;case"mt":case"lt":case"arc":default:O[z].x+=I,O[z].y+=B}return O},b=function(O){return O.sort(function(I,B){return I-B})},_=function(O,I){for(var B,z,q=this.fillStyle,se=this.strokeStyle,xe=this.lineCap,ie=this.lineWidth,ye=Math.abs(ie*this.ctx.transform.scaleX),Te=this.lineJoin,X=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Oe=[],Se=0;Se<We.length;Se++)if(We[Se].x!==void 0)for(var re=g.call(this,We[Se]),Me=0;Me<re.length;Me+=1)Oe.indexOf(re[Me])===-1&&Oe.push(re[Me]);for(var oe=0;oe<Oe.length;oe++)for(;this.pdf.internal.getNumberOfPages()<Oe[oe];)v.call(this);if(b(Oe),this.autoPaging)for(var me=Oe[0],_e=Oe[Oe.length-1],Ie=me;Ie<_e+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=q,this.strokeStyle=se,this.lineCap=xe,this.lineWidth=ye,this.lineJoin=Te;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Ie===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=Ie===1?0:He+(Ie-2)*Qe;if(this.ctx.clip_path.length!==0){var vt=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(B,this.posX+this.margin[3],-ct+je+this.ctx.prevPageLastElemOffset),S.call(this,O,!0),this.path=vt}if(z=JSON.parse(JSON.stringify(X)),this.path=y(z,this.posX+this.margin[3],-ct+je+this.ctx.prevPageLastElemOffset),I===!1||Ie===0){var wt=(Ie>me||Ie<_e)&&x.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Qe,null).clip().discardPath()),S.call(this,O,I),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=ye,S.call(this,O,I),this.lineWidth=ie;this.path=X},S=function(O,I){if((O!=="stroke"||I||!m.call(this))&&(O==="stroke"||I||!p.call(this))){for(var B,z,q=[],se=this.path,xe=0;xe<se.length;xe++){var ie=se[xe];switch(ie.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:ie,deltas:[],abs:[]});break;case"lt":var ye=q.length;if(se[xe-1]&&!isNaN(se[xe-1].x)&&(B=[ie.x-se[xe-1].x,ie.y-se[xe-1].y],ye>0)){for(;ye>=0;ye--)if(q[ye-1].close!==!0&&q[ye-1].begin!==!0){q[ye-1].deltas.push(B),q[ye-1].abs.push(ie);break}}break;case"bct":B=[ie.x1-se[xe-1].x,ie.y1-se[xe-1].y,ie.x2-se[xe-1].x,ie.y2-se[xe-1].y,ie.x-se[xe-1].x,ie.y-se[xe-1].y],q[q.length-1].deltas.push(B);break;case"qct":var Te=se[xe-1].x+2/3*(ie.x1-se[xe-1].x),X=se[xe-1].y+2/3*(ie.y1-se[xe-1].y),We=ie.x+2/3*(ie.x1-ie.x),Oe=ie.y+2/3*(ie.y1-ie.y),Se=ie.x,re=ie.y;B=[Te-se[xe-1].x,X-se[xe-1].y,We-se[xe-1].x,Oe-se[xe-1].y,Se-se[xe-1].x,re-se[xe-1].y],q[q.length-1].deltas.push(B);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(ie)}}z=I?null:O==="stroke"?"stroke":"fill";for(var Me=!1,oe=0;oe<q.length;oe++)if(q[oe].arc)for(var me=q[oe].abs,_e=0;_e<me.length;_e++){var Ie=me[_e];Ie.type==="arc"?C.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,I,!Me):R.call(this,Ie.x,Ie.y),Me=!0}else if(q[oe].close===!0)this.pdf.internal.out("h"),Me=!1;else if(q[oe].begin!==!0){var we=q[oe].start.x,je=q[oe].start.y;H.call(this,q[oe].deltas,we,je),Me=!0}z&&P.call(this,z),I&&M.call(this)}},N=function(O){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-B;case"top":return O+I-B;case"hanging":return O+I-2*B;case"middle":return O+I/2-B;case"ideographic":return O;case"alphabetic":default:return O}},j=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(I,B){this.colorStops.push([I,B])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(O,I,B,z,q,se,xe,ie,ye){for(var Te=L.call(this,B,z,q,se),X=0;X<Te.length;X++){var We=Te[X];X===0&&(ye?k.call(this,We.x1+O,We.y1+I):R.call(this,We.x1+O,We.y1+I)),G.call(this,O,I,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}ie?M.call(this):P.call(this,xe)},P=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(O,I){this.pdf.internal.out(r(O)+" "+n(I)+" m")},E=function(O){var I;switch(O.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var B=this.pdf.getTextDimensions(O.text),z=N.call(this,O.y),q=j.call(this,z)-B.h,se=this.ctx.transform.applyToPoint(new o(O.x,z)),xe=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var ye,Te,X,We=this.ctx.transform.applyToRectangle(new l(O.x,z,B.w,B.h)),Oe=ie.applyToRectangle(new l(O.x,q,B.w,B.h)),Se=g.call(this,Oe),re=[],Me=0;Me<Se.length;Me+=1)re.indexOf(Se[Me])===-1&&re.push(Se[Me]);if(b(re),this.autoPaging)for(var oe=re[0],me=re[re.length-1],_e=oe;_e<me+1;_e++){this.pdf.setPage(_e);var Ie=_e===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],He=je-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],ct=Qe-this.margin[3],vt=_e===1?0:we+(_e-2)*He;if(this.ctx.clip_path.length!==0){var wt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ye,this.posX+this.margin[3],-1*vt+Ie),S.call(this,"fill",!0),this.path=wt}var bt=y([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-vt+Ie+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*O.scale),X=this.lineWidth,this.lineWidth=X*O.scale);var lt=this.autoPaging!=="text";if(lt||bt.y+bt.h<=je){if(lt||bt.y>=Ie&&bt.x<=Qe){var rt=lt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Qe-bt.x)[0],ir=y([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-vt+Ie+this.ctx.prevPageLastElemOffset)[0],St=lt&&(_e>oe||_e<me)&&x.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,He,null).clip().discardPath()),this.pdf.text(rt,ir.x,ir.y,{angle:O.angle,align:I,renderingMode:O.renderingMode}),St&&this.pdf.restoreGraphicsState()}}else bt.y<je&&(this.ctx.prevPageLastElemOffset+=je-bt.y);O.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=X)}else O.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*O.scale),X=this.lineWidth,this.lineWidth=X*O.scale),this.pdf.text(O.text,se.x+this.posX,se.y+this.posY,{angle:O.angle,align:I,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=X)},R=function(O,I,B,z){B=B||0,z=z||0,this.pdf.internal.out(r(O+B)+" "+n(I+z)+" l")},H=function(O,I,B){return this.pdf.lines(O,I,B,null,null)},G=function(O,I,B,z,q,se,xe,ie){this.pdf.internal.out([t(a(B+O)),t(i(z+I)),t(a(q+O)),t(i(se+I)),t(a(xe+O)),t(i(ie+I)),"c"].join(" "))},L=function(O,I,B,z){for(var q=2*Math.PI,se=Math.PI/2;I>B;)I-=q;var xe=Math.abs(B-I);xe<q&&z&&(xe=q-xe);for(var ie=[],ye=z?-1:1,Te=I;xe>1e-5;){var X=Te+ye*Math.min(xe,se);ie.push(V.call(this,O,Te,X)),xe-=Math.abs(X-Te),Te=X}return ie},V=function(O,I,B){var z=(B-I)/2,q=O*Math.cos(z),se=O*Math.sin(z),xe=q,ie=-se,ye=xe*xe+ie*ie,Te=ye+xe*q+ie*se,X=4/3*(Math.sqrt(2*ye*Te)-Te)/(xe*se-ie*q),We=xe-X*ie,Oe=ie+X*xe,Se=We,re=-Oe,Me=z+I,oe=Math.cos(Me),me=Math.sin(Me);return{x1:O*Math.cos(I),y1:O*Math.sin(I),x2:We*oe-Oe*me,y2:We*me+Oe*oe,x3:Se*oe-re*me,y3:Se*me+re*oe,x4:O*Math.cos(B),y4:O*Math.sin(B)}},J=function(O){return 180*O/Math.PI},W=function(O,I,B,z,q,se){var xe=O+.5*(B-O),ie=I+.5*(z-I),ye=q+.5*(B-q),Te=se+.5*(z-se),X=Math.min(O,q,xe,ye),We=Math.max(O,q,xe,ye),Oe=Math.min(I,se,ie,Te),Se=Math.max(I,se,ie,Te);return new l(X,Oe,We-X,Se-Oe)},ae=function(O,I,B,z,q,se,xe,ie){var ye,Te,X,We,Oe,Se,re,Me,oe,me,_e,Ie,we,je,He=B-O,Qe=z-I,ct=q-B,vt=se-z,wt=xe-q,bt=ie-se;for(Te=0;Te<41;Te++)oe=(re=(X=O+(ye=Te/40)*He)+ye*((Oe=B+ye*ct)-X))+ye*(Oe+ye*(q+ye*wt-Oe)-re),me=(Me=(We=I+ye*Qe)+ye*((Se=z+ye*vt)-We))+ye*(Se+ye*(se+ye*bt-Se)-Me),Te==0?(_e=oe,Ie=me,we=oe,je=me):(_e=Math.min(_e,oe),Ie=Math.min(Ie,me),we=Math.max(we,oe),je=Math.max(je,me));return new l(Math.round(_e),Math.round(Ie),Math.round(we-_e),Math.round(je-Ie))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,I,B=(O=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:I}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(Ct.API),function(e){var t=function(i){var o,l,c,u,d,f,h,p,m,x;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(x=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,m+33,x+33)):l.push(122);return function(g,v){for(var y=v;y>0;y--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,f=String,h="length",p=255,m="charCodeAt",x="slice",g="replace";for(i[x](-2),i=i[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[x](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[m](u)-33)+614125*(i[m](u+1)-33)+7225*(i[m](u+2)-33)+85*(i[m](u+3)-33)+(i[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(v,y){for(var b=y;b>0;b--)v.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=U_(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ct.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(m){var x=m.length,g=[],v=String.fromCharCode;for(h=0;h<x;h+=1)g.push(v(255&m.charCodeAt(h)));return g.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Ct.API),function(e){function t(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):ol(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):ol(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Fr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],m=p.src.find(function(x){return x.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ct.getPageSize=function(o,l,c){if(Fr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,x=0;if(h.hasOwnProperty(f))m=h[f][1]/d,x=h[f][0]/d;else try{m=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>m&&(p=x,x=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>x&&(p=x,x=m,m=p)}return{width:x,height:m,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(X_):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(Ct.API),Ct.API.addJS=function(e){return F8=e,this.internal.events.subscribe("postPutResources",function(){W1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(W1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),M8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+F8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){W1!==void 0&&M8!==void 0&&this.internal.out("/Names <</JavaScript "+W1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Ct.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,x={width:0,height:0,numcomponents:1},g=4;g<m;g+=2){if(g+=p,t.indexOf(f.charCodeAt(g+1))!==-1){h=256*f.charCodeAt(g+5)+f.charCodeAt(g+6),x={width:256*f.charCodeAt(g+7)+f.charCodeAt(g+8),height:h,numcomponents:f.charCodeAt(g+9)};break}p=256*f.charCodeAt(g+2)+f.charCodeAt(g+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Ct.API);var g0,V1,R8,L8,B8,pSe=function(){var e,t,r;function n(i){var o,l,c,u,d,f,h,p,m,x,g,v,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),m=(function(){var _,S;for(S=[],_=0;_<4;++_)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(y=0;0<=x?y<x:y>x;0<=x?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(g=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,g.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,g.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,m){var x,g,v,y,b,_,S,N,j,C,P,M,k,E,R,H,G,L,V,J,W,ae=Math.ceil((u.width-f)/p),ve=Math.ceil((u.height-h)/m),O=u.width==ae&&u.height==ve;for(E=o*ae,M=O?l:new Uint8Array(E*ve),_=i.length,k=0,g=0;k<ve&&c<_;){switch(i[c++]){case 0:for(y=G=0;G<E;y=G+=1)M[g++]=i[c++];break;case 1:for(y=L=0;L<E;y=L+=1)x=i[c++],b=y<o?0:M[g-o],M[g++]=(x+b)%256;break;case 2:for(y=V=0;V<E;y=V+=1)x=i[c++],v=(y-y%o)/o,R=k&&M[(k-1)*E+v*o+y%o],M[g++]=(R+x)%256;break;case 3:for(y=J=0;J<E;y=J+=1)x=i[c++],v=(y-y%o)/o,b=y<o?0:M[g-o],R=k&&M[(k-1)*E+v*o+y%o],M[g++]=(x+Math.floor((b+R)/2))%256;break;case 4:for(y=W=0;W<E;y=W+=1)x=i[c++],v=(y-y%o)/o,b=y<o?0:M[g-o],k===0?R=H=0:(R=M[(k-1)*E+v*o+y%o],H=v&&M[(k-1)*E+(v-1)*o+y%o]),S=b+R-H,N=Math.abs(S-b),C=Math.abs(S-R),P=Math.abs(S-H),j=N<=C&&N<=P?b:C<=P?R:H,M[g++]=(x+j)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!O){var I=((h+k*m)*u.width+f)*o,B=k*E;for(y=0;y<ae;y+=1){for(var z=0;z<o;z+=1)l[I++]=M[B++];I+=(p-1)*o}}k++}}return i=Vje(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,d,f,h,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=f=0,h=l.length;f<h;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,d,f,h,p,m,x,g,v;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,l=!0),m=(u=i.data||i).length,f=x||o,d=h=0,c===1)for(;d<m;)p=x?4*o[d/4]:h,g=f[p++],u[d++]=g,u[d++]=g,u[d++]=g,u[d++]=l?f[p++]:255,h=p;else for(;d<m;)p=x?4*o[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Ft)==="[object Window]"){try{t=Ft.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,d,f,h,p;if(this.animation){for(p=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)o=h[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var p,m;if(p=l++%u,m=c[p],h.renderFrame(i,p),u>1&&l/u<d)return h.animation._timeout=setTimeout(o,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function mSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,p=0,m=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&x)&&(h=null),p=x>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++],S=_>>6&1,N=1<<(7&_)+1,j=l,C=c,P=!1;_>>7&&(P=!0,j=t,C=N,t+=3*N);var M=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x:g,y:v,width:y,height:b,has_local_palette:P,palette_offset:j,palette_size:C,data_offset:M,data_length:t-M,transparent_index:h,interlaced:!!S,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,R){var H=this.frameInfo(E),G=H.width*H.height,L=new Uint8Array(G);$8(e,H.data_offset,L,G);var V=H.palette_offset,J=H.transparent_index;J===null&&(J=256);var W=H.width,ae=r-W,ve=W,O=4*(H.y*r+H.x),I=4*((H.y+H.height)*r+H.x),B=O,z=4*ae;H.interlaced===!0&&(z+=4*r*7);for(var q=8,se=0,xe=L.length;se<xe;++se){var ie=L[se];if(ve===0&&(ve=W,(B+=z)>=I&&(z=4*ae+4*r*(q-1),B=O+(W+ae)*(q<<1),q>>=1)),ie===J)B+=4;else{var ye=e[V+3*ie],Te=e[V+3*ie+1],X=e[V+3*ie+2];R[B++]=X,R[B++]=Te,R[B++]=ye,R[B++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(E,R){var H=this.frameInfo(E),G=H.width*H.height,L=new Uint8Array(G);$8(e,H.data_offset,L,G);var V=H.palette_offset,J=H.transparent_index;J===null&&(J=256);var W=H.width,ae=r-W,ve=W,O=4*(H.y*r+H.x),I=4*((H.y+H.height)*r+H.x),B=O,z=4*ae;H.interlaced===!0&&(z+=4*r*7);for(var q=8,se=0,xe=L.length;se<xe;++se){var ie=L[se];if(ve===0&&(ve=W,(B+=z)>=I&&(z=4*ae+4*r*(q-1),B=O+(W+ae)*(q<<1),q>>=1)),ie===J)B+=4;else{var ye=e[V+3*ie],Te=e[V+3*ie+1],X=e[V+3*ie+2];R[B++]=ye,R[B++]=Te,R[B++]=X,R[B++]=255}--ve}}}function $8(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],m=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var g=f&u;if(f>>=c,d-=c,g!==i){if(g===o)break;for(var v=g<l?g:x,y=0,b=v;b>i;)b=m[b]>>8,++y;var _=b;if(h+y+(v!==g?1:0)>n)return void qr.log("Warning, gif stream longer than expected.");r[h++]=_;var S=h+=y;for(v!==g&&(r[h++]=_),b=v;y--;)b=m[b],r[--S]=255&b,b>>=8;x!==null&&l<4096&&(m[l++]=x<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=g}else l=o+1,u=(1<<(c=a+1))-1,x=null}return h!==n&&qr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pw(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),x=[],g=0,v=7,y=new Array(64),b=new Array(64),_=new Array(64),S=new Array(256),N=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(O,I){for(var B=0,z=0,q=new Array,se=1;se<=16;se++){for(var xe=1;xe<=O[se];xe++)q[I[z]]=[],q[I[z]][0]=B,q[I[z]][1]=se,z++,B++;B*=2}return q}function V(O){for(var I=O[0],B=O[1]-1;B>=0;)I&1<<B&&(g|=1<<v),B--,--v<0&&(g==255?(J(255),J(0)):J(g),v=7,g=0)}function J(O){x.push(O)}function W(O){J(O>>8&255),J(255&O)}function ae(O,I,B,z,q){for(var se,xe=q[0],ie=q[240],ye=function(me,_e){var Ie,we,je,He,Qe,ct,vt,wt,bt,lt,rt=0;for(bt=0;bt<8;++bt){Ie=me[rt],we=me[rt+1],je=me[rt+2],He=me[rt+3],Qe=me[rt+4],ct=me[rt+5],vt=me[rt+6];var ir=Ie+(wt=me[rt+7]),St=Ie-wt,En=we+vt,mr=we-vt,Xr=je+ct,ws=je-ct,xr=He+Qe,To=He-Qe,an=ir+xr,Zi=ir-xr,Ks=En+Xr,Hr=En-Xr;me[rt]=an+Ks,me[rt+4]=an-Ks;var $t=.707106781*(Hr+Zi);me[rt+2]=Zi+$t,me[rt+6]=Zi-$t;var wr=.382683433*((an=To+ws)-(Hr=mr+St)),xl=.5411961*an+wr,Qn=1.306562965*Hr+wr,_s=.707106781*(Ks=ws+mr),Ns=St+_s,Tt=St-_s;me[rt+5]=Tt+xl,me[rt+3]=Tt-xl,me[rt+1]=Ns+Qn,me[rt+7]=Ns-Qn,rt+=8}for(rt=0,bt=0;bt<8;++bt){Ie=me[rt],we=me[rt+8],je=me[rt+16],He=me[rt+24],Qe=me[rt+32],ct=me[rt+40],vt=me[rt+48];var Qi=Ie+(wt=me[rt+56]),Di=Ie-wt,Va=we+vt,kn=we-vt,vn=je+ct,Q=je-ct,pe=He+Qe,ce=He-Qe,ue=Qi+pe,he=Qi-pe,ge=Va+vn,Re=Va-vn;me[rt]=ue+ge,me[rt+32]=ue-ge;var Ve=.707106781*(Re+he);me[rt+16]=he+Ve,me[rt+48]=he-Ve;var Fe=.382683433*((ue=ce+Q)-(Re=kn+Di)),ze=.5411961*ue+Fe,Ue=1.306562965*Re+Fe,nt=.707106781*(ge=Q+kn),it=Di+nt,ht=Di-nt;me[rt+40]=ht+ze,me[rt+24]=ht-ze,me[rt+8]=it+Ue,me[rt+56]=it-Ue,rt++}for(bt=0;bt<64;++bt)lt=me[bt]*_e[bt],p[bt]=lt>0?lt+.5|0:lt-.5|0;return p}(O,I),Te=0;Te<64;++Te)m[j[Te]]=ye[Te];var X=m[0]-B;B=m[0],X==0?V(z[0]):(V(z[h[se=32767+X]]),V(f[se]));for(var We=63;We>0&&m[We]==0;)We--;if(We==0)return V(xe),B;for(var Oe,Se=1;Se<=We;){for(var re=Se;m[Se]==0&&Se<=We;)++Se;var Me=Se-re;if(Me>=16){Oe=Me>>4;for(var oe=1;oe<=Oe;++oe)V(ie);Me&=15}se=32767+m[Se],V(q[(Me<<4)+h[se]]),V(f[se]),Se++}return We!=63&&V(xe),B}function ve(O){O=Math.min(Math.max(O,1),100),i!=O&&(function(I){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var q=o((B[z]*I+50)/100);q=Math.min(Math.max(q,1),255),l[j[z]]=q}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ie=o((se[xe]*I+50)/100);ie=Math.min(Math.max(ie,1),255),c[j[xe]]=ie}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,X=0;X<8;X++)for(var We=0;We<8;We++)u[Te]=1/(l[j[Te]]*ye[X]*ye[We]*8),d[Te]=1/(c[j[Te]]*ye[X]*ye[We]*8),Te++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),i=O)}this.encode=function(O,I){I&&ve(I),x=new Array,g=0,v=7,W(65496),W(65504),W(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),W(1),W(1),J(0),J(0),function(){W(65499),W(132),J(0);for(var we=0;we<64;we++)J(l[we]);J(1);for(var je=0;je<64;je++)J(c[je])}(),function(we,je){W(65472),W(17),J(8),W(je),W(we),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(O.width,O.height),function(){W(65476),W(418),J(0);for(var we=0;we<16;we++)J(C[we+1]);for(var je=0;je<=11;je++)J(P[je]);J(16);for(var He=0;He<16;He++)J(M[He+1]);for(var Qe=0;Qe<=161;Qe++)J(k[Qe]);J(1);for(var ct=0;ct<16;ct++)J(E[ct+1]);for(var vt=0;vt<=11;vt++)J(R[vt]);J(17);for(var wt=0;wt<16;wt++)J(H[wt+1]);for(var bt=0;bt<=161;bt++)J(G[bt])}(),W(65498),W(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var B=0,z=0,q=0;g=0,v=7,this.encode.displayName="_encode_";for(var se,xe,ie,ye,Te,X,We,Oe,Se,re=O.data,Me=O.width,oe=O.height,me=4*Me,_e=0;_e<oe;){for(se=0;se<me;){for(Te=me*_e+se,We=-1,Oe=0,Se=0;Se<64;Se++)X=Te+(Oe=Se>>3)*me+(We=4*(7&Se)),_e+Oe>=oe&&(X-=me*(_e+1+Oe-oe)),se+We>=me&&(X-=se+We-me+4),xe=re[X++],ie=re[X++],ye=re[X++],y[Se]=(N[xe]+N[ie+256>>0]+N[ye+512>>0]>>16)-128,b[Se]=(N[xe+768>>0]+N[ie+1024>>0]+N[ye+1280>>0]>>16)-128,_[Se]=(N[xe+1280>>0]+N[ie+1536>>0]+N[ye+1792>>0]>>16)-128;B=ae(y,u,B,t,n),z=ae(b,d,z,r,a),q=ae(_,d,q,r,a),se+=32}_e+=8}if(v>=0){var Ie=[];Ie[1]=v+1,Ie[0]=(1<<v+1)-1,V(Ie)}return W(65497),new Uint8Array(x)},e=e||50,function(){for(var O=String.fromCharCode,I=0;I<256;I++)S[I]=O(I)}(),t=L(C,P),r=L(E,R),n=L(M,k),a=L(H,G),function(){for(var O=1,I=2,B=1;B<=15;B++){for(var z=O;z<I;z++)h[32767+z]=B,f[32767+z]=[],f[32767+z][1]=B,f[32767+z][0]=z;for(var q=-(I-1);q<=-O;q++)h[32767+q]=B,f[32767+q]=[],f[32767+q][1]=B,f[32767+q][0]=I-1+q;O<<=1,I<<=1}}(),function(){for(var O=0;O<256;O++)N[O]=19595*O,N[O+256>>0]=38470*O,N[O+512>>0]=7471*O+32768,N[O+768>>0]=-11059*O,N[O+1024>>0]=-21709*O,N[O+1280>>0]=32768*O+8421375,N[O+1536>>0]=-27439*O,N[O+1792>>0]=-5329*O}(),ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function lo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function z8(e){function t(C){if(!C)throw Error("assert :P")}function r(C,P,M){for(var k=0;4>k;k++)if(C[P+k]!=M.charCodeAt(k))return!0;return!1}function n(C,P,M,k,E){for(var R=0;R<E;R++)C[P+R]=M[k+R]}function a(C,P,M,k){for(var E=0;E<k;E++)C[P+E]=M}function i(C){return new Int32Array(C)}function o(C,P){for(var M=[],k=0;k<C;k++)M.push(new P);return M}function l(C,P){var M=[];return function k(E,R,H){for(var G=H[R],L=0;L<G&&(E.push(H.length>R+1?[]:new P),!(H.length<R+1));L++)k(E[L],R+1,H)}(M,0,C),M}var c=function(){var C=this;function P(w,A){for(var D=1<<A-1>>>0;w&D;)D>>>=1;return D?(w&D-1)+D:w}function M(w,A,D,U,Y){t(!(U%D));do w[A+(U-=D)]=Y;while(0<U)}function k(w,A,D,U,Y){if(t(2328>=Y),512>=Y)var Z=i(512);else if((Z=i(Y))==null)return 0;return function(ee,te,ne,fe,Ce,Le){var Be,Pe,Ze=te,qe=1<<ne,Ee=i(16),ke=i(16);for(t(Ce!=0),t(fe!=null),t(ee!=null),t(0<ne),Pe=0;Pe<Ce;++Pe){if(15<fe[Pe])return 0;++Ee[fe[Pe]]}if(Ee[0]==Ce)return 0;for(ke[1]=0,Be=1;15>Be;++Be){if(Ee[Be]>1<<Be)return 0;ke[Be+1]=ke[Be]+Ee[Be]}for(Pe=0;Pe<Ce;++Pe)Be=fe[Pe],0<fe[Pe]&&(Le[ke[Be]++]=Pe);if(ke[15]==1)return(fe=new E).g=0,fe.value=Le[0],M(ee,Ze,1,qe,fe),qe;var Ke,et=-1,Je=qe-1,mt=0,ut=1,Ot=1,dt=1<<ne;for(Pe=0,Be=1,Ce=2;Be<=ne;++Be,Ce<<=1){if(ut+=Ot<<=1,0>(Ot-=Ee[Be]))return 0;for(;0<Ee[Be];--Ee[Be])(fe=new E).g=Be,fe.value=Le[Pe++],M(ee,Ze+mt,Ce,dt,fe),mt=P(mt,Be)}for(Be=ne+1,Ce=2;15>=Be;++Be,Ce<<=1){if(ut+=Ot<<=1,0>(Ot-=Ee[Be]))return 0;for(;0<Ee[Be];--Ee[Be]){if(fe=new E,(mt&Je)!=et){for(Ze+=dt,Ke=1<<(et=Be)-ne;15>et&&!(0>=(Ke-=Ee[et]));)++et,Ke<<=1;qe+=dt=1<<(Ke=et-ne),ee[te+(et=mt&Je)].g=Ke+ne,ee[te+et].value=Ze-te-et}fe.g=Be-ne,fe.value=Le[Pe++],M(ee,Ze+(mt>>ne),Ce,dt,fe),mt=P(mt,Be)}}return ut!=2*ke[15]-1?0:qe}(w,A,D,U,Y,Z)}function E(){this.value=this.g=0}function R(){this.value=this.g=0}function H(){this.G=o(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ia,R)}function G(w,A,D,U){t(w!=null),t(A!=null),t(2147483648>U),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=A,w.pa=D,w.Jd=A,w.Yc=D+U,w.Zc=4<=U?D+U-4+1:D,se(w)}function L(w,A){for(var D=0;0<A--;)D|=ie(w,128)<<A;return D}function V(w,A){var D=L(w,A);return xe(w)?-D:D}function J(w,A,D,U){var Y,Z=0;for(t(w!=null),t(A!=null),t(4294967288>U),w.Sb=U,w.Ra=0,w.u=0,w.h=0,4<U&&(U=4),Y=0;Y<U;++Y)Z+=A[D+Y]<<8*Y;w.Ra=Z,w.bb=U,w.oa=A,w.pa=D}function W(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Yd-8>>>0,++w.bb,w.u-=8;B(w)&&(w.h=1,w.u=0)}function ae(w,A){if(t(0<=A),!w.h&&A<=Xd){var D=I(w)&Gd[A];return w.u+=A,W(w),D}return w.h=1,w.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(w){return w.Ra>>>(w.u&Yd-1)>>>0}function B(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Yd}function z(w,A){w.u=A,w.h=B(w)}function q(w){w.u>=jh&&(t(w.u>=jh),W(w))}function se(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function xe(w){return L(w,1)}function ie(w,A){var D=w.Ca;0>w.b&&se(w);var U=w.b,Y=D*A>>>8,Z=(w.I>>>U>Y)+0;for(Z?(D-=Y,w.I-=Y+1<<U>>>0):D=Y+1,U=D,Y=0;256<=U;)Y+=8,U>>=8;return U=7^Y+Fi[U],w.b-=U,w.Ca=(D<<U)-1,Z}function ye(w,A,D){w[A+0]=D>>24&255,w[A+1]=D>>16&255,w[A+2]=D>>8&255,w[A+3]=D>>0&255}function Te(w,A){return w[A+0]<<0|w[A+1]<<8}function X(w,A){return Te(w,A)|w[A+2]<<16}function We(w,A){return Te(w,A)|Te(w,A+2)<<16}function Oe(w,A){var D=1<<A;return t(w!=null),t(0<A),w.X=i(D),w.X==null?0:(w.Mb=32-A,w.Xa=A,1)}function Se(w,A){t(w!=null),t(A!=null),t(w.Xa==A.Xa),n(A.X,0,w.X,0,1<<A.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Me(w,A,D,U){t(D!=null),t(U!=null);var Y=D[0],Z=U[0];return Y==0&&(Y=(w*Z+A/2)/A),Z==0&&(Z=(A*Y+w/2)/w),0>=Y||0>=Z?0:(D[0]=Y,U[0]=Z,1)}function oe(w,A){return w+(1<<A)-1>>>A}function me(w,A){return((4278255360&w)+(4278255360&A)>>>0&4278255360)+((16711935&w)+(16711935&A)>>>0&16711935)>>>0}function _e(w,A){C[A]=function(D,U,Y,Z,ee,te,ne){var fe;for(fe=0;fe<ee;++fe){var Ce=C[w](te[ne+fe-1],Y,Z+fe);te[ne+fe]=me(D[U+fe],Ce)}}}function Ie(){this.ud=this.hd=this.jd=0}function we(w,A){return((4278124286&(w^A))>>>1)+(w&A)>>>0}function je(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function He(w,A){return je(w+(w-A+.5>>1))}function Qe(w,A,D){return Math.abs(A-D)-Math.abs(w-D)}function ct(w,A,D,U,Y,Z,ee){for(U=Z[ee-1],D=0;D<Y;++D)Z[ee+D]=U=me(w[A+D],U)}function vt(w,A,D,U,Y){var Z;for(Z=0;Z<D;++Z){var ee=w[A+Z],te=ee>>8&255,ne=16711935&(ne=(ne=16711935&ee)+((te<<16)+te));U[Y+Z]=(4278255360&ee)+ne>>>0}}function wt(w,A){A.jd=w>>0&255,A.hd=w>>8&255,A.ud=w>>16&255}function bt(w,A,D,U,Y,Z){var ee;for(ee=0;ee<U;++ee){var te=A[D+ee],ne=te>>>8,fe=te,Ce=255&(Ce=(Ce=te>>>16)+((w.jd<<24>>24)*(ne<<24>>24)>>>5));fe=255&(fe=(fe=fe+((w.hd<<24>>24)*(ne<<24>>24)>>>5))+((w.ud<<24>>24)*(Ce<<24>>24)>>>5)),Y[Z+ee]=(4278255360&te)+(Ce<<16)+fe}}function lt(w,A,D,U,Y){C[A]=function(Z,ee,te,ne,fe,Ce,Le,Be,Pe){for(ne=Le;ne<Be;++ne)for(Le=0;Le<Pe;++Le)fe[Ce++]=Y(te[U(Z[ee++])])},C[w]=function(Z,ee,te,ne,fe,Ce,Le){var Be=8>>Z.b,Pe=Z.Ea,Ze=Z.K[0],qe=Z.w;if(8>Be)for(Z=(1<<Z.b)-1,qe=(1<<Be)-1;ee<te;++ee){var Ee,ke=0;for(Ee=0;Ee<Pe;++Ee)Ee&Z||(ke=U(ne[fe++])),Ce[Le++]=Y(Ze[ke&qe]),ke>>=Be}else C["VP8LMapColor"+D](ne,fe,Ze,qe,Ce,Le,ee,te,Pe)}}function rt(w,A,D,U,Y){for(D=A+D;A<D;){var Z=w[A++];U[Y++]=Z>>16&255,U[Y++]=Z>>8&255,U[Y++]=Z>>0&255}}function ir(w,A,D,U,Y){for(D=A+D;A<D;){var Z=w[A++];U[Y++]=Z>>16&255,U[Y++]=Z>>8&255,U[Y++]=Z>>0&255,U[Y++]=Z>>24&255}}function St(w,A,D,U,Y){for(D=A+D;A<D;){var Z=(ee=w[A++])>>16&240|ee>>12&15,ee=ee>>0&240|ee>>28&15;U[Y++]=Z,U[Y++]=ee}}function En(w,A,D,U,Y){for(D=A+D;A<D;){var Z=(ee=w[A++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;U[Y++]=Z,U[Y++]=ee}}function mr(w,A,D,U,Y){for(D=A+D;A<D;){var Z=w[A++];U[Y++]=Z>>0&255,U[Y++]=Z>>8&255,U[Y++]=Z>>16&255}}function Xr(w,A,D,U,Y,Z){if(Z==0)for(D=A+D;A<D;)ye(U,((Z=w[A++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),Y+=32;else n(U,Y,w,A,D)}function ws(w,A){C[A][0]=C[w+"0"],C[A][1]=C[w+"1"],C[A][2]=C[w+"2"],C[A][3]=C[w+"3"],C[A][4]=C[w+"4"],C[A][5]=C[w+"5"],C[A][6]=C[w+"6"],C[A][7]=C[w+"7"],C[A][8]=C[w+"8"],C[A][9]=C[w+"9"],C[A][10]=C[w+"10"],C[A][11]=C[w+"11"],C[A][12]=C[w+"12"],C[A][13]=C[w+"13"],C[A][14]=C[w+"0"],C[A][15]=C[w+"0"]}function xr(w){return w==Ib||w==Db||w==Hx||w==Mb}function To(){this.eb=[],this.size=this.A=this.fb=0}function an(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Zi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new To,this.f.kb=new an,this.sd=null}function Ks(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Hr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $t(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function wr(w,A){var D=w.T,U=A.ba.f.RGBA,Y=U.eb,Z=U.fb+w.ka*U.A,ee=ks[A.ba.S],te=w.y,ne=w.O,fe=w.f,Ce=w.N,Le=w.ea,Be=w.W,Pe=A.cc,Ze=A.dc,qe=A.Mc,Ee=A.Nc,ke=w.ka,Ke=w.ka+w.T,et=w.U,Je=et+1>>1;for(ke==0?ee(te,ne,null,null,fe,Ce,Le,Be,fe,Ce,Le,Be,Y,Z,null,null,et):(ee(A.ec,A.fc,te,ne,Pe,Ze,qe,Ee,fe,Ce,Le,Be,Y,Z-U.A,Y,Z,et),++D);ke+2<Ke;ke+=2)Pe=fe,Ze=Ce,qe=Le,Ee=Be,Ce+=w.Rc,Be+=w.Rc,Z+=2*U.A,ee(te,(ne+=2*w.fa)-w.fa,te,ne,Pe,Ze,qe,Ee,fe,Ce,Le,Be,Y,Z-U.A,Y,Z,et);return ne+=w.fa,w.j+Ke<w.o?(n(A.ec,A.fc,te,ne,et),n(A.cc,A.dc,fe,Ce,Je),n(A.Mc,A.Nc,Le,Be,Je),D--):1&Ke||ee(te,ne,null,null,fe,Ce,Le,Be,fe,Ce,Le,Be,Y,Z+U.A,null,null,et),D}function xl(w,A,D){var U=w.F,Y=[w.J];if(U!=null){var Z=w.U,ee=A.ba.S,te=ee==Ux||ee==Hx;A=A.ba.f.RGBA;var ne=[0],fe=w.ka;ne[0]=w.T,w.Kb&&(fe==0?--ne[0]:(--fe,Y[0]-=w.width),w.j+w.ka+w.T==w.o&&(ne[0]=w.o-w.j-fe));var Ce=A.eb;fe=A.fb+fe*A.A,w=Kr(U,Y[0],w.width,Z,ne,Ce,fe+(te?0:3),A.A),t(D==ne),w&&xr(ee)&&Cs(Ce,fe,te,Z,ne,A.A)}return 0}function Qn(w){var A=w.ma,D=A.ba.S,U=11>D,Y=D==$x||D==zx||D==Ux||D==Pb||D==12||xr(D);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!_h(A.Oa,w,Y?11:12))return 0;if(Y&&xr(D)&&tt(),w.da)alert("todo:use_scaling");else{if(U){if(A.Ib=$t,w.Kb){if(D=w.U+1>>1,A.memory=i(w.U+2*D),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+w.U,A.Mc=A.cc,A.Nc=A.dc+D,A.Ib=wr,tt()}}else alert("todo:EmitYUV");Y&&(A.Jb=xl,U&&De())}if(U&&!U3){for(w=0;256>w;++w)bL[w]=89858*(w-128)+Vx>>Wx,_L[w]=-22014*(w-128)+Vx,wL[w]=-45773*(w-128),yL[w]=113618*(w-128)+Vx>>Wx;for(w=Oh;w<Lb;++w)A=76283*(w-16)+Vx>>Wx,NL[w-Oh]=ts(A,255),jL[w-Oh]=ts(A+8>>4,15);U3=1}return 1}function _s(w){var A=w.ma,D=w.U,U=w.T;return t(!(1&w.ka)),0>=D||0>=U?0:(D=A.Ib(w,A),A.Jb!=null&&A.Jb(w,A,D),A.Dc+=D,1)}function Ns(w){w.ma.memory=null}function Tt(w,A,D,U){return ae(w,8)!=47?0:(A[0]=ae(w,14)+1,D[0]=ae(w,14)+1,U[0]=ae(w,1),ae(w,3)!=0?0:!w.h)}function Qi(w,A){if(4>w)return w+1;var D=w-2>>1;return(2+(1&w)<<D)+ae(A,D)+1}function Di(w,A){return 120<A?A-120:1<=(D=((D=iL[A-1])>>4)*w+(8-(15&D)))?D:1;var D}function Va(w,A,D){var U=I(D),Y=w[A+=255&U].g-8;return 0<Y&&(z(D,D.u+8),U=I(D),A+=w[A].value,A+=U&(1<<Y)-1),z(D,D.u+w[A].g),w[A].value}function kn(w,A,D){return D.g+=w.g,D.value+=w.value<<A>>>0,t(8>=D.g),w.g}function vn(w,A,D){var U=w.xc;return t((A=U==0?0:w.vc[w.md*(D>>U)+(A>>U)])<w.Wb),w.Ya[A]}function Q(w,A,D,U){var Y=w.ab,Z=w.c*A,ee=w.C;A=ee+A;var te=D,ne=U;for(U=w.Ta,D=w.Ua;0<Y--;){var fe=w.gc[Y],Ce=ee,Le=A,Be=te,Pe=ne,Ze=(ne=U,te=D,fe.Ea);switch(t(Ce<Le),t(Le<=fe.nc),fe.hc){case 2:Ix(Be,Pe,(Le-Ce)*Ze,ne,te);break;case 0:var qe=Ce,Ee=Le,ke=ne,Ke=te,et=(dt=fe).Ea;qe==0&&(Tb(Be,Pe,null,null,1,ke,Ke),ct(Be,Pe+1,0,0,et-1,ke,Ke+1),Pe+=et,Ke+=et,++qe);for(var Je=1<<dt.b,mt=Je-1,ut=oe(et,dt.b),Ot=dt.K,dt=dt.w+(qe>>dt.b)*ut;qe<Ee;){var Sr=Ot,Or=dt,gr=1;for(Sh(Be,Pe,ke,Ke-et,1,ke,Ke);gr<et;){var rr=(gr&~mt)+Je;rr>et&&(rr=et),(0,ic[Sr[Or++]>>8&15])(Be,Pe+ +gr,ke,Ke+gr-et,rr-gr,ke,Ke+gr),gr=rr}Pe+=et,Ke+=et,++qe&mt||(dt+=ut)}Le!=fe.nc&&n(ne,te-Ze,ne,te+(Le-Ce-1)*Ze,Ze);break;case 1:for(Ze=Be,Ee=Pe,et=(Be=fe.Ea)-(Ke=Be&~(ke=(Pe=1<<fe.b)-1)),qe=oe(Be,fe.b),Je=fe.K,fe=fe.w+(Ce>>fe.b)*qe;Ce<Le;){for(mt=Je,ut=fe,Ot=new Ie,dt=Ee+Ke,Sr=Ee+Be;Ee<dt;)wt(mt[ut++],Ot),fu(Ot,Ze,Ee,Pe,ne,te),Ee+=Pe,te+=Pe;Ee<Sr&&(wt(mt[ut++],Ot),fu(Ot,Ze,Ee,et,ne,te),Ee+=et,te+=et),++Ce&ke||(fe+=qe)}break;case 3:if(Be==ne&&Pe==te&&0<fe.b){for(Ee=ne,Be=Ze=te+(Le-Ce)*Ze-(Ke=(Le-Ce)*oe(fe.Ea,fe.b)),Pe=ne,ke=te,qe=[],Ke=(et=Ke)-1;0<=Ke;--Ke)qe[Ke]=Pe[ke+Ke];for(Ke=et-1;0<=Ke;--Ke)Ee[Be+Ke]=qe[Ke];js(fe,Ce,Le,ne,Ze,ne,te)}else js(fe,Ce,Le,Be,Pe,ne,te)}te=U,ne=D}ne!=D&&n(U,D,te,ne,Z)}function pe(w,A){var D=w.V,U=w.Ba+w.c*w.C,Y=A-w.C;if(t(A<=w.l.o),t(16>=Y),0<Y){var Z=w.l,ee=w.Ta,te=w.Ua,ne=Z.width;if(Q(w,Y,D,U),Y=te=[te],t((D=w.C)<(U=A)),t(Z.v<Z.va),U>Z.o&&(U=Z.o),D<Z.j){var fe=Z.j-D;D=Z.j,Y[0]+=fe*ne}if(D>=U?D=0:(Y[0]+=4*Z.v,Z.ka=D-Z.j,Z.U=Z.va-Z.v,Z.T=U-D,D=1),D){if(te=te[0],11>(D=w.ca).S){var Ce=D.f.RGBA,Le=(U=D.S,Y=Z.U,Z=Z.T,fe=Ce.eb,Ce.A),Be=Z;for(Ce=Ce.fb+w.Ma*Ce.A;0<Be--;){var Pe=ee,Ze=te,qe=Y,Ee=fe,ke=Ce;switch(U){case Bx:Ri(Pe,Ze,qe,Ee,ke);break;case $x:hi(Pe,Ze,qe,Ee,ke);break;case Ib:hi(Pe,Ze,qe,Ee,ke),Cs(Ee,ke,0,qe,1,0);break;case P3:wl(Pe,Ze,qe,Ee,ke);break;case zx:Xr(Pe,Ze,qe,Ee,ke,1);break;case Db:Xr(Pe,Ze,qe,Ee,ke,1),Cs(Ee,ke,0,qe,1,0);break;case Ux:Xr(Pe,Ze,qe,Ee,ke,0);break;case Hx:Xr(Pe,Ze,qe,Ee,ke,0),Cs(Ee,ke,1,qe,1,0);break;case Pb:sc(Pe,Ze,qe,Ee,ke);break;case Mb:sc(Pe,Ze,qe,Ee,ke),Yr(Ee,ke,qe,1,0);break;case I3:yl(Pe,Ze,qe,Ee,ke);break;default:t(0)}te+=ne,Ce+=Le}w.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=D.height)}}w.C=A,t(w.C<=w.i)}function ce(w){var A;if(0<w.ua)return 0;for(A=0;A<w.Wb;++A){var D=w.Ya[A].G,U=w.Ya[A].H;if(0<D[1][U[1]+0].g||0<D[2][U[2]+0].g||0<D[3][U[3]+0].g)return 0}return 1}function ue(w,A,D,U,Y,Z){if(w.Z!=0){var ee=w.qd,te=w.rd;for(t(uc[w.Z]!=null);A<D;++A)uc[w.Z](ee,te,U,Y,U,Y,Z),ee=U,te=Y,Y+=Z;w.qd=ee,w.rd=te}}function he(w,A){var D=w.l.ma,U=D.Z==0||D.Z==1?w.l.j:w.C;if(U=w.C<U?U:w.C,t(A<=w.l.o),A>U){var Y=w.l.width,Z=D.ca,ee=D.tb+Y*U,te=w.V,ne=w.Ba+w.c*U,fe=w.gc;t(w.ab==1),t(fe[0].hc==3),Dx(fe[0],U,A,te,ne,Z,ee),ue(D,U,A,Z,ee,Y)}w.C=w.Ma=A}function ge(w,A,D,U,Y,Z,ee){var te=w.$/U,ne=w.$%U,fe=w.m,Ce=w.s,Le=D+w.$,Be=Le;Y=D+U*Y;var Pe=D+U*Z,Ze=280+Ce.ua,qe=w.Pb?te:16777216,Ee=0<Ce.ua?Ce.Wa:null,ke=Ce.wc,Ke=Le<Pe?vn(Ce,ne,te):null;t(w.C<Z),t(Pe<=Y);var et=!1;e:for(;;){for(;et||Le<Pe;){var Je=0;if(te>=qe){var mt=Le-D;t((qe=w).Pb),qe.wd=qe.m,qe.xd=mt,0<qe.s.ua&&Se(qe.s.Wa,qe.s.vb),qe=te+oL}if(ne&ke||(Ke=vn(Ce,ne,te)),t(Ke!=null),Ke.Qb&&(A[Le]=Ke.qb,et=!0),!et)if(q(fe),Ke.jc){Je=fe,mt=A;var ut=Le,Ot=Ke.pd[I(Je)&Ia-1];t(Ke.jc),256>Ot.g?(z(Je,Je.u+Ot.g),mt[ut]=Ot.value,Je=0):(z(Je,Je.u+Ot.g-256),t(256<=Ot.value),Je=Ot.value),Je==0&&(et=!0)}else Je=Va(Ke.G[0],Ke.H[0],fe);if(fe.h)break;if(et||256>Je){if(!et)if(Ke.nd)A[Le]=(Ke.qb|Je<<8)>>>0;else{if(q(fe),et=Va(Ke.G[1],Ke.H[1],fe),q(fe),mt=Va(Ke.G[2],Ke.H[2],fe),ut=Va(Ke.G[3],Ke.H[3],fe),fe.h)break;A[Le]=(ut<<24|et<<16|Je<<8|mt)>>>0}if(et=!1,++Le,++ne>=U&&(ne=0,++te,ee!=null&&te<=Z&&!(te%16)&&ee(w,te),Ee!=null))for(;Be<Le;)Je=A[Be++],Ee.X[(506832829*Je&4294967295)>>>Ee.Mb]=Je}else if(280>Je){if(Je=Qi(Je-256,fe),mt=Va(Ke.G[4],Ke.H[4],fe),q(fe),mt=Di(U,mt=Qi(mt,fe)),fe.h)break;if(Le-D<mt||Y-Le<Je)break e;for(ut=0;ut<Je;++ut)A[Le+ut]=A[Le+ut-mt];for(Le+=Je,ne+=Je;ne>=U;)ne-=U,++te,ee!=null&&te<=Z&&!(te%16)&&ee(w,te);if(t(Le<=Y),ne&ke&&(Ke=vn(Ce,ne,te)),Ee!=null)for(;Be<Le;)Je=A[Be++],Ee.X[(506832829*Je&4294967295)>>>Ee.Mb]=Je}else{if(!(Je<Ze))break e;for(et=Je-280,t(Ee!=null);Be<Le;)Je=A[Be++],Ee.X[(506832829*Je&4294967295)>>>Ee.Mb]=Je;Je=Le,t(!(et>>>(mt=Ee).Xa)),A[Je]=mt.X[et],et=!0}et||t(fe.h==B(fe))}if(w.Pb&&fe.h&&Le<Y)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Se(w.s.vb,w.s.Wa);else{if(fe.h)break e;ee!=null&&ee(w,te>Z?Z:te),w.a=0,w.$=Le-D}return 1}return w.a=3,0}function Re(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var A=w.Wa;A!=null&&(A.X=null),w.vb=null,t(w!=null)}function Ve(){var w=new kb;return w==null?null:(w.a=0,w.xb=F3,ws("Predictor","VP8LPredictors"),ws("Predictor","VP8LPredictors_C"),ws("PredictorAdd","VP8LPredictorsAdd"),ws("PredictorAdd","VP8LPredictorsAdd_C"),Ix=vt,fu=bt,Ri=rt,hi=ir,sc=St,yl=En,wl=mr,C.VP8LMapColor32b=Kd,C.VP8LMapColor8b=Mx,w)}function Fe(w,A,D,U,Y){var Z=1,ee=[w],te=[A],ne=U.m,fe=U.s,Ce=null,Le=0;e:for(;;){if(D)for(;Z&&ae(ne,1);){var Be=ee,Pe=te,Ze=U,qe=1,Ee=Ze.m,ke=Ze.gc[Ze.ab],Ke=ae(Ee,2);if(Ze.Oc&1<<Ke)Z=0;else{switch(Ze.Oc|=1<<Ke,ke.hc=Ke,ke.Ea=Be[0],ke.nc=Pe[0],ke.K=[null],++Ze.ab,t(4>=Ze.ab),Ke){case 0:case 1:ke.b=ae(Ee,3)+2,qe=Fe(oe(ke.Ea,ke.b),oe(ke.nc,ke.b),0,Ze,ke.K),ke.K=ke.K[0];break;case 3:var et,Je=ae(Ee,8)+1,mt=16<Je?0:4<Je?1:2<Je?2:3;if(Be[0]=oe(ke.Ea,mt),ke.b=mt,et=qe=Fe(Je,1,0,Ze,ke.K)){var ut,Ot=Je,dt=ke,Sr=1<<(8>>dt.b),Or=i(Sr);if(Or==null)et=0;else{var gr=dt.K[0],rr=dt.w;for(Or[0]=dt.K[0][0],ut=1;ut<1*Ot;++ut)Or[ut]=me(gr[rr+ut],Or[ut-1]);for(;ut<4*Sr;++ut)Or[ut]=0;dt.K[0]=null,dt.K[0]=Or,et=1}}qe=et;break;case 2:break;default:t(0)}Z=qe}}if(ee=ee[0],te=te[0],Z&&ae(ne,1)&&!(Z=1<=(Le=ae(ne,4))&&11>=Le)){U.a=3;break e}var Wr;if(Wr=Z)t:{var $r,Xt,Un,Li=U,Hn=ee,Bi=te,Pr=Le,ns=D,as=Li.m,va=Li.s,Da=[null],mi=1,Ts=0,Fo=sL[Pr];r:for(;;){if(ns&&ae(as,1)){var ba=ae(as,3)+2,Sl=oe(Hn,ba),gu=oe(Bi,ba),t0=Sl*gu;if(!Fe(Sl,gu,0,Li,Da))break r;for(Da=Da[0],va.xc=ba,$r=0;$r<t0;++$r){var dc=Da[$r]>>8&65535;Da[$r]=dc,dc>=mi&&(mi=dc+1)}}if(as.h)break r;for(Xt=0;5>Xt;++Xt){var yn=D3[Xt];!Xt&&0<Pr&&(yn+=1<<Pr),Ts<yn&&(Ts=yn)}var Bb=o(mi*Fo,E),V3=mi,q3=o(V3,H);if(q3==null)var Gx=null;else t(65536>=V3),Gx=q3;var Ph=i(Ts);if(Gx==null||Ph==null||Bb==null){Li.a=1;break r}var Xx=Bb;for($r=Un=0;$r<mi;++$r){var no=Gx[$r],r0=no.G,n0=no.H,G3=0,Yx=1,X3=0;for(Xt=0;5>Xt;++Xt){yn=D3[Xt],r0[Xt]=Xx,n0[Xt]=Un,!Xt&&0<Pr&&(yn+=1<<Pr);a:{var Kx,$b=yn,Jx=Li,Ih=Ph,CL=Xx,EL=Un,zb=0,fc=Jx.m,kL=ae(fc,1);if(a(Ih,0,0,$b),kL){var TL=ae(fc,1)+1,OL=ae(fc,1),Y3=ae(fc,OL==0?1:8);Ih[Y3]=1,TL==2&&(Ih[Y3=ae(fc,8)]=1);var Zx=1}else{var K3=i(19),J3=ae(fc,4)+4;if(19<J3){Jx.a=3;var Qx=0;break a}for(Kx=0;Kx<J3;++Kx)K3[aL[Kx]]=ae(fc,3);var Ub=void 0,Dh=void 0,Z3=Jx,PL=K3,e1=$b,Q3=Ih,Hb=0,hc=Z3.m,ej=8,tj=o(128,E);n:for(;k(tj,0,7,PL,19);){if(ae(hc,1)){var IL=2+2*ae(hc,3);if((Ub=2+ae(hc,IL))>e1)break n}else Ub=e1;for(Dh=0;Dh<e1&&Ub--;){q(hc);var rj=tj[0+(127&I(hc))];z(hc,hc.u+rj.g);var a0=rj.value;if(16>a0)Q3[Dh++]=a0,a0!=0&&(ej=a0);else{var DL=a0==16,nj=a0-16,ML=rL[nj],aj=ae(hc,tL[nj])+ML;if(Dh+aj>e1)break n;for(var FL=DL?ej:0;0<aj--;)Q3[Dh++]=FL}}Hb=1;break n}Hb||(Z3.a=3),Zx=Hb}(Zx=Zx&&!fc.h)&&(zb=k(CL,EL,8,Ih,$b)),Zx&&zb!=0?Qx=zb:(Jx.a=3,Qx=0)}if(Qx==0)break r;if(Yx&&nL[Xt]==1&&(Yx=Xx[Un].g==0),G3+=Xx[Un].g,Un+=Qx,3>=Xt){var Mh,Wb=Ph[0];for(Mh=1;Mh<yn;++Mh)Ph[Mh]>Wb&&(Wb=Ph[Mh]);X3+=Wb}}if(no.nd=Yx,no.Qb=0,Yx&&(no.qb=(r0[3][n0[3]+0].value<<24|r0[1][n0[1]+0].value<<16|r0[2][n0[2]+0].value)>>>0,G3==0&&256>r0[0][n0[0]+0].value&&(no.Qb=1,no.qb+=r0[0][n0[0]+0].value<<8)),no.jc=!no.Qb&&6>X3,no.jc){var t1,Al=no;for(t1=0;t1<Ia;++t1){var pc=t1,mc=Al.pd[pc],r1=Al.G[0][Al.H[0]+pc];256<=r1.value?(mc.g=r1.g+256,mc.value=r1.value):(mc.g=0,mc.value=0,pc>>=kn(r1,8,mc),pc>>=kn(Al.G[1][Al.H[1]+pc],16,mc),pc>>=kn(Al.G[2][Al.H[2]+pc],0,mc),kn(Al.G[3][Al.H[3]+pc],24,mc))}}}va.vc=Da,va.Wb=mi,va.Ya=Gx,va.yc=Bb,Wr=1;break t}Wr=0}if(!(Z=Wr)){U.a=3;break e}if(0<Le){if(fe.ua=1<<Le,!Oe(fe.Wa,Le)){U.a=1,Z=0;break e}}else fe.ua=0;var Vb=U,ij=ee,RL=te,qb=Vb.s,Gb=qb.xc;if(Vb.c=ij,Vb.i=RL,qb.md=oe(ij,Gb),qb.wc=Gb==0?-1:(1<<Gb)-1,D){U.xb=pL;break e}if((Ce=i(ee*te))==null){U.a=1,Z=0;break e}Z=(Z=ge(U,Ce,0,ee,te,te,null))&&!ne.h;break e}return Z?(Y!=null?Y[0]=Ce:(t(Ce==null),t(D)),U.$=0,D||Re(fe)):Re(fe),Z}function ze(w,A){var D=w.c*w.i,U=D+A+16*A;return t(w.c<=A),w.V=i(U),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+D+A,1)}function Ue(w,A){var D=w.C,U=A-D,Y=w.V,Z=w.Ba+w.c*D;for(t(A<=w.l.o);0<U;){var ee=16<U?16:U,te=w.l.ma,ne=w.l.width,fe=ne*ee,Ce=te.ca,Le=te.tb+ne*D,Be=w.Ta,Pe=w.Ua;Q(w,ee,Y,Z),Pn(Be,Pe,Ce,Le,fe),ue(te,D,D+ee,Ce,Le,ne),U-=ee,Y+=ee*w.c,D+=ee}t(D==A),w.C=w.Ma=A}function nt(){this.ub=this.yd=this.td=this.Rb=0}function it(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ht(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function at(){this.Yb=function(){var w=[];return function A(D,U,Y){for(var Z=Y[U],ee=0;ee<Z&&(D.push(Y.length>U+1?[]:0),!(Y.length<U+1));ee++)A(D[ee],U+1,Y)}(w,0,[3,11]),w}()}function ft(){this.jb=i(3),this.Wc=l([4,8],at),this.Xc=l([4,17],at)}function Lt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Er(){this.ld=this.La=this.dd=this.tc=0}function Br(){this.Na=this.la=0}function $n(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Js(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Er),this.Y=0,this.ya=Array(new Js),this.aa=0,this.l=new Po}function Oo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Zs(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new nt,this.Kc=new it,this.ed=new Lt,this.Qa=new ht,this.Ic=this.$c=this.Aa=0,this.D=new gl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,$n),this.Pa=new ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Oo),this.Hd=0,this.rb=Array(new Br),this.sb=0,this.wa=Array(new Er),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Js),this.L=this.aa=0,this.gd=l([4,2],Er),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Po(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function es(){var w=new Zs;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Th||(Th=vx)),w}function Tn(w,A,D){return w.a==0&&(w.a=A,w.sc=D,w.cb=0),0}function xx(w,A,D){return 3<=D&&w[A+0]==157&&w[A+1]==1&&w[A+2]==42}function gx(w,A){if(w==null)return 0;if(w.a=0,w.sc="OK",A==null)return Tn(w,2,"null VP8Io passed to VP8GetHeaders()");var D=A.data,U=A.w,Y=A.ha;if(4>Y)return Tn(w,7,"Truncated header.");var Z=D[U+0]|D[U+1]<<8|D[U+2]<<16,ee=w.Od;if(ee.Rb=!(1&Z),ee.td=Z>>1&7,ee.yd=Z>>4&1,ee.ub=Z>>5,3<ee.td)return Tn(w,3,"Incorrect keyframe parameters.");if(!ee.yd)return Tn(w,4,"Frame not displayable.");U+=3,Y-=3;var te=w.Kc;if(ee.Rb){if(7>Y)return Tn(w,7,"cannot parse picture header");if(!xx(D,U,Y))return Tn(w,3,"Bad code word");te.c=16383&(D[U+4]<<8|D[U+3]),te.Td=D[U+4]>>6,te.i=16383&(D[U+6]<<8|D[U+5]),te.Ud=D[U+6]>>6,U+=7,Y-=7,w.za=te.c+15>>4,w.Ub=te.i+15>>4,A.width=te.c,A.height=te.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,a((Z=w.Pa).jb,0,255,Z.jb.length),t((Z=w.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,a(Z.Zb,0,0,Z.Zb.length),a(Z.Lb,0,0,Z.Lb)}if(ee.ub>Y)return Tn(w,7,"bad partition length");G(Z=w.m,D,U,ee.ub),U+=ee.ub,Y-=ee.ub,ee.Rb&&(te.Ld=xe(Z),te.Kd=xe(Z)),te=w.Qa;var ne,fe=w.Pa;if(t(Z!=null),t(te!=null),te.Cb=xe(Z),te.Cb){if(te.Bb=xe(Z),xe(Z)){for(te.Fb=xe(Z),ne=0;4>ne;++ne)te.Zb[ne]=xe(Z)?V(Z,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=xe(Z)?V(Z,6):0}if(te.Bb)for(ne=0;3>ne;++ne)fe.jb[ne]=xe(Z)?L(Z,8):255}else te.Bb=0;if(Z.Ka)return Tn(w,3,"cannot parse segment header");if((te=w.ed).zd=xe(Z),te.Tb=L(Z,6),te.wb=L(Z,3),te.Pc=xe(Z),te.Pc&&xe(Z)){for(fe=0;4>fe;++fe)xe(Z)&&(te.vd[fe]=V(Z,6));for(fe=0;4>fe;++fe)xe(Z)&&(te.od[fe]=V(Z,6))}if(w.L=te.Tb==0?0:te.zd?1:2,Z.Ka)return Tn(w,3,"cannot parse filter header");var Ce=Y;if(Y=ne=U,U=ne+Ce,te=Ce,w.Xb=(1<<L(w.m,2))-1,Ce<3*(fe=w.Xb))D=7;else{for(ne+=3*fe,te-=3*fe,Ce=0;Ce<fe;++Ce){var Le=D[Y+0]|D[Y+1]<<8|D[Y+2]<<16;Le>te&&(Le=te),G(w.Jc[+Ce],D,ne,Le),ne+=Le,te-=Le,Y+=3}G(w.Jc[+fe],D,ne,te),D=ne<U?0:5}if(D!=0)return Tn(w,D,"cannot parse partitions");for(D=L(ne=w.m,7),Y=xe(ne)?V(ne,4):0,U=xe(ne)?V(ne,4):0,te=xe(ne)?V(ne,4):0,fe=xe(ne)?V(ne,4):0,ne=xe(ne)?V(ne,4):0,Ce=w.Qa,Le=0;4>Le;++Le){if(Ce.Cb){var Be=Ce.Zb[Le];Ce.Fb||(Be+=D)}else{if(0<Le){w.pb[Le]=w.pb[0];continue}Be=D}var Pe=w.pb[Le];Pe.Sc[0]=Fb[ts(Be+Y,127)],Pe.Sc[1]=Rb[ts(Be+0,127)],Pe.Eb[0]=2*Fb[ts(Be+U,127)],Pe.Eb[1]=101581*Rb[ts(Be+te,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=Fb[ts(Be+fe,117)],Pe.Qc[1]=Rb[ts(Be+ne,127)],Pe.lc=Be+ne}if(!ee.Rb)return Tn(w,4,"Not a key frame.");for(xe(Z),ee=w.Pa,D=0;4>D;++D){for(Y=0;8>Y;++Y)for(U=0;3>U;++U)for(te=0;11>te;++te)fe=ie(Z,fL[D][Y][U][te])?L(Z,8):uL[D][Y][U][te],ee.Wc[D][Y].Yb[U][te]=fe;for(Y=0;17>Y;++Y)ee.Xc[D][Y]=ee.Wc[D][hL[Y]]}return w.kc=xe(Z),w.kc&&(w.Bd=L(Z,8)),w.cb=1}function vx(w,A,D,U,Y,Z,ee){var te=A[Y].Yb[D];for(D=0;16>Y;++Y){if(!ie(w,te[D+0]))return Y;for(;!ie(w,te[D+1]);)if(te=A[++Y].Yb[0],D=0,Y==16)return 16;var ne=A[Y+1].Yb;if(ie(w,te[D+2])){var fe=w,Ce=0;if(ie(fe,(Be=te)[(Le=D)+3]))if(ie(fe,Be[Le+6])){for(te=0,Le=2*(Ce=ie(fe,Be[Le+8]))+(Be=ie(fe,Be[Le+9+Ce])),Ce=0,Be=lL[Le];Be[te];++te)Ce+=Ce+ie(fe,Be[te]);Ce+=3+(8<<Le)}else ie(fe,Be[Le+7])?(Ce=7+2*ie(fe,165),Ce+=ie(fe,145)):Ce=5+ie(fe,159);else Ce=ie(fe,Be[Le+4])?3+ie(fe,Be[Le+5]):2;te=ne[2]}else Ce=1,te=ne[1];ne=ee+cL[Y],0>(fe=w).b&&se(fe);var Le,Be=fe.b,Pe=(Le=fe.Ca>>1)-(fe.I>>Be)>>31;--fe.b,fe.Ca+=Pe,fe.Ca|=1,fe.I-=(Le+1&Pe)<<Be,Z[ne]=((Ce^Pe)-Pe)*U[(0<Y)+0]}return 16}function oh(w){var A=w.rb[w.sb-1];A.la=0,A.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function fb(w,A){if(w==null)return 0;if(A==null)return Tn(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!gx(w,A))return 0;if(t(w.cb),A.ac==null||A.ac(A)){A.ob&&(w.L=0);var D=qx[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=A.v-D>>4,w.zb=A.j-D>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=A.o+15+D>>4,w.Hb=A.va+15+D>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var U=w.ed;for(D=0;4>D;++D){var Y;if(w.Qa.Cb){var Z=w.Qa.Lb[D];w.Qa.Fb||(Z+=U.Tb)}else Z=U.Tb;for(Y=0;1>=Y;++Y){var ee=w.gd[D][Y],te=Z;if(U.Pc&&(te+=U.vd[0],Y&&(te+=U.od[0])),0<(te=0>te?0:63<te?63:te)){var ne=te;0<U.wb&&(ne=4<U.wb?ne>>2:ne>>1)>9-U.wb&&(ne=9-U.wb),1>ne&&(ne=1),ee.dd=ne,ee.tc=2*te+ne,ee.ld=40<=te?2:15<=te?1:0}else ee.tc=0;ee.La=Y}}}D=0}else Tn(w,6,"Frame setup failed"),D=w.a;if(D=D==0){if(D){w.$c=0,0<w.Aa||(w.Ic=AL);e:{D=w.Ic,U=4*(ne=w.za);var fe=32*ne,Ce=ne+1,Le=0<w.L?ne*(0<w.Aa?2:1):0,Be=(w.Aa==2?2:1)*ne;if((ee=U+832+(Y=3*(16*D+qx[w.L])/2*fe)+(Z=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ee)D=0;else{if(ee>w.Vb){if(w.Vb=0,w.Ec=i(ee),w.Fc=0,w.Ec==null){D=Tn(w,1,"no memory during frame initialization.");break e}w.Vb=ee}ee=w.Ec,te=w.Fc,w.Ac=ee,w.Bc=te,te+=U,w.Gd=o(fe,Oo),w.Hd=0,w.rb=o(Ce+1,Br),w.sb=1,w.wa=Le?o(Le,Er):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=ne),t(!0),w.oc=ee,w.pc=te,te+=832,w.ya=o(Be,Js),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=ne),w.R=16*ne,w.B=8*ne,ne=(fe=qx[w.L])*w.R,fe=fe/2*w.B,w.sa=ee,w.ta=te+ne,w.qa=w.sa,w.ra=w.ta+16*D*w.R+fe,w.Ha=w.qa,w.Ia=w.ra+8*D*w.B+fe,w.$c=0,te+=Y,w.mb=Z?ee:null,w.nb=Z?te:null,t(te+Z<=w.Fc+w.Vb),oh(w),a(w.Ac,w.Bc,0,U),D=1}}if(D){if(A.ka=0,A.y=w.sa,A.O=w.ta,A.f=w.qa,A.N=w.ra,A.ea=w.Ha,A.Vd=w.Ia,A.fa=w.R,A.Rc=w.B,A.F=null,A.J=0,!Rx){for(D=-255;255>=D;++D)ea[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)Nl[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)kh[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)e0[255+D]=0>D?0:255<D?255:D;Rx=1}Jd=mb,_l=hb,Ah=yx,pi=pb,Ss=wx,On=bx,Zd=hh,Fx=uu,Ch=Eb,hu=ph,pu=Cb,oc=Ud,mu=mh,Qd=Tx,xu=kx,lc=Do,Eh=bl,As=Ab,ro[0]=Io,ro[1]=xb,ro[2]=yb,ro[3]=wb,ro[4]=jx,ro[5]=$d,ro[6]=Sx,ro[7]=uh,ro[8]=Nb,ro[9]=_b,cc[0]=_x,cc[1]=vb,cc[2]=vl,cc[3]=Ld,cc[4]=qa,cc[5]=bb,cc[6]=Nx,jl[0]=rc,jl[1]=gb,jl[2]=jb,jl[3]=dh,jl[4]=cu,jl[5]=Sb,jl[6]=fh,D=1}else D=0}D&&(D=function(Pe,Ze){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var qe,Ee=Pe.Jc[Pe.M&Pe.Xb],ke=Pe.m,Ke=Pe;for(qe=0;qe<Ke.za;++qe){var et=ke,Je=Ke,mt=Je.Ac,ut=Je.Bc+4*qe,Ot=Je.zc,dt=Je.ya[Je.aa+qe];if(Je.Qa.Bb?dt.$b=ie(et,Je.Pa.jb[0])?2+ie(et,Je.Pa.jb[2]):ie(et,Je.Pa.jb[1]):dt.$b=0,Je.kc&&(dt.Ad=ie(et,Je.Bd)),dt.Za=!ie(et,145)+0,dt.Za){var Sr=dt.Ob,Or=0;for(Je=0;4>Je;++Je){var gr,rr=Ot[0+Je];for(gr=0;4>gr;++gr){rr=dL[mt[ut+gr]][rr];for(var Wr=M3[ie(et,rr[0])];0<Wr;)Wr=M3[2*Wr+ie(et,rr[Wr])];rr=-Wr,mt[ut+gr]=rr}n(Sr,Or,mt,ut,4),Or+=4,Ot[0+Je]=rr}}else rr=ie(et,156)?ie(et,128)?1:3:ie(et,163)?2:0,dt.Ob[0]=rr,a(mt,ut,rr,4),a(Ot,0,rr,4);dt.Dd=ie(et,142)?ie(et,114)?ie(et,183)?1:3:2:0}if(Ke.m.Ka)return Tn(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if(Ke=Ee,et=(ke=Pe).rb[ke.sb-1],mt=ke.rb[ke.sb+ke.ja],qe=ke.ya[ke.aa+ke.ja],ut=ke.kc?qe.Ad:0)et.la=mt.la=0,qe.Za||(et.Na=mt.Na=0),qe.Hc=0,qe.Gc=0,qe.ia=0;else{var $r,Xt;if(et=mt,mt=Ke,ut=ke.Pa.Xc,Ot=ke.ya[ke.aa+ke.ja],dt=ke.pb[Ot.$b],Je=Ot.ad,Sr=0,Or=ke.rb[ke.sb-1],rr=gr=0,a(Je,Sr,0,384),Ot.Za)var Un=0,Li=ut[3];else{Wr=i(16);var Hn=et.Na+Or.Na;if(Hn=Th(mt,ut[1],Hn,dt.Eb,0,Wr,0),et.Na=Or.Na=(0<Hn)+0,1<Hn)Jd(Wr,0,Je,Sr);else{var Bi=Wr[0]+3>>3;for(Wr=0;256>Wr;Wr+=16)Je[Sr+Wr]=Bi}Un=1,Li=ut[0]}var Pr=15&et.la,ns=15&Or.la;for(Wr=0;4>Wr;++Wr){var as=1&ns;for(Bi=Xt=0;4>Bi;++Bi)Pr=Pr>>1|(as=(Hn=Th(mt,Li,Hn=as+(1&Pr),dt.Sc,Un,Je,Sr))>Un)<<7,Xt=Xt<<2|(3<Hn?3:1<Hn?2:Je[Sr+0]!=0),Sr+=16;Pr>>=4,ns=ns>>1|as<<7,gr=(gr<<8|Xt)>>>0}for(Li=Pr,Un=ns>>4,$r=0;4>$r;$r+=2){for(Xt=0,Pr=et.la>>4+$r,ns=Or.la>>4+$r,Wr=0;2>Wr;++Wr){for(as=1&ns,Bi=0;2>Bi;++Bi)Hn=as+(1&Pr),Pr=Pr>>1|(as=0<(Hn=Th(mt,ut[2],Hn,dt.Qc,0,Je,Sr)))<<3,Xt=Xt<<2|(3<Hn?3:1<Hn?2:Je[Sr+0]!=0),Sr+=16;Pr>>=2,ns=ns>>1|as<<5}rr|=Xt<<4*$r,Li|=Pr<<4<<$r,Un|=(240&ns)<<$r}et.la=Li,Or.la=Un,Ot.Hc=gr,Ot.Gc=rr,Ot.ia=43690&rr?0:dt.ia,ut=!(gr|rr)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[qe.$b][qe.Za],ke.wa[ke.Y+ke.ja].La|=!ut),Ke.Ka)return Tn(Pe,7,"Premature end-of-file encountered.")}if(oh(Pe),ke=Ze,Ke=1,qe=(Ee=Pe).D,et=0<Ee.L&&Ee.M>=Ee.zb&&Ee.M<=Ee.Va,Ee.Aa==0)e:{if(qe.M=Ee.M,qe.uc=et,wh(Ee,qe),Ke=1,qe=(Xt=Ee.D).Nb,et=(rr=qx[Ee.L])*Ee.R,mt=rr/2*Ee.B,Wr=16*qe*Ee.R,Bi=8*qe*Ee.B,ut=Ee.sa,Ot=Ee.ta-et+Wr,dt=Ee.qa,Je=Ee.ra-mt+Bi,Sr=Ee.Ha,Or=Ee.Ia-mt+Bi,ns=(Pr=Xt.M)==0,gr=Pr>=Ee.Va-1,Ee.Aa==2&&wh(Ee,Xt),Xt.uc)for(as=(Hn=Ee).D.M,t(Hn.D.uc),Xt=Hn.yb;Xt<Hn.Hb;++Xt){Un=Xt,Li=as;var va=(Da=(yn=Hn).D).Nb;$r=yn.R;var Da=Da.wa[Da.Y+Un],mi=yn.sa,Ts=yn.ta+16*va*$r+16*Un,Fo=Da.dd,ba=Da.tc;if(ba!=0)if(t(3<=ba),yn.L==1)0<Un&&lc(mi,Ts,$r,ba+4),Da.La&&As(mi,Ts,$r,ba),0<Li&&xu(mi,Ts,$r,ba+4),Da.La&&Eh(mi,Ts,$r,ba);else{var Sl=yn.B,gu=yn.qa,t0=yn.ra+8*va*Sl+8*Un,dc=yn.Ha,yn=yn.Ia+8*va*Sl+8*Un;va=Da.ld,0<Un&&(Fx(mi,Ts,$r,ba+4,Fo,va),hu(gu,t0,dc,yn,Sl,ba+4,Fo,va)),Da.La&&(oc(mi,Ts,$r,ba,Fo,va),Qd(gu,t0,dc,yn,Sl,ba,Fo,va)),0<Li&&(Zd(mi,Ts,$r,ba+4,Fo,va),Ch(gu,t0,dc,yn,Sl,ba+4,Fo,va)),Da.La&&(pu(mi,Ts,$r,ba,Fo,va),mu(gu,t0,dc,yn,Sl,ba,Fo,va))}}if(Ee.ia&&alert("todo:DitherRow"),ke.put!=null){if(Xt=16*Pr,Pr=16*(Pr+1),ns?(ke.y=Ee.sa,ke.O=Ee.ta+Wr,ke.f=Ee.qa,ke.N=Ee.ra+Bi,ke.ea=Ee.Ha,ke.W=Ee.Ia+Bi):(Xt-=rr,ke.y=ut,ke.O=Ot,ke.f=dt,ke.N=Je,ke.ea=Sr,ke.W=Or),gr||(Pr-=rr),Pr>ke.o&&(Pr=ke.o),ke.F=null,ke.J=null,Ee.Fa!=null&&0<Ee.Fa.length&&Xt<Pr&&(ke.J=bh(Ee,ke,Xt,Pr-Xt),ke.F=Ee.mb,ke.F==null&&ke.F.length==0)){Ke=Tn(Ee,3,"Could not decode alpha data.");break e}Xt<ke.j&&(rr=ke.j-Xt,Xt=ke.j,t(!(1&rr)),ke.O+=Ee.R*rr,ke.N+=Ee.B*(rr>>1),ke.W+=Ee.B*(rr>>1),ke.F!=null&&(ke.J+=ke.width*rr)),Xt<Pr&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=Xt-ke.j,ke.U=ke.va-ke.v,ke.T=Pr-Xt,Ke=ke.put(ke))}qe+1!=Ee.Ic||gr||(n(Ee.sa,Ee.ta-et,ut,Ot+16*Ee.R,et),n(Ee.qa,Ee.ra-mt,dt,Je+8*Ee.B,mt),n(Ee.Ha,Ee.Ia-mt,Sr,Or+8*Ee.B,mt))}if(!Ke)return Tn(Pe,6,"Output aborted.")}return 1}(w,A)),A.bc!=null&&A.bc(A),D&=1}return D?(w.cb=0,D):0}function Qs(w,A,D,U,Y){Y=w[A+D+32*U]+(Y>>3),w[A+D+32*U]=-256&Y?0>Y?0:255:Y}function Rd(w,A,D,U,Y,Z){Qs(w,A,0,D,U+Y),Qs(w,A,1,D,U+Z),Qs(w,A,2,D,U-Z),Qs(w,A,3,D,U-Y)}function Mi(w){return(20091*w>>16)+w}function lh(w,A,D,U){var Y,Z=0,ee=i(16);for(Y=0;4>Y;++Y){var te=w[A+0]+w[A+8],ne=w[A+0]-w[A+8],fe=(35468*w[A+4]>>16)-Mi(w[A+12]),Ce=Mi(w[A+4])+(35468*w[A+12]>>16);ee[Z+0]=te+Ce,ee[Z+1]=ne+fe,ee[Z+2]=ne-fe,ee[Z+3]=te-Ce,Z+=4,A++}for(Y=Z=0;4>Y;++Y)te=(w=ee[Z+0]+4)+ee[Z+8],ne=w-ee[Z+8],fe=(35468*ee[Z+4]>>16)-Mi(ee[Z+12]),Qs(D,U,0,0,te+(Ce=Mi(ee[Z+4])+(35468*ee[Z+12]>>16))),Qs(D,U,1,0,ne+fe),Qs(D,U,2,0,ne-fe),Qs(D,U,3,0,te-Ce),Z++,U+=32}function bx(w,A,D,U){var Y=w[A+0]+4,Z=35468*w[A+4]>>16,ee=Mi(w[A+4]),te=35468*w[A+1]>>16;Rd(D,U,0,Y+ee,w=Mi(w[A+1]),te),Rd(D,U,1,Y+Z,w,te),Rd(D,U,2,Y-Z,w,te),Rd(D,U,3,Y-ee,w,te)}function hb(w,A,D,U,Y){lh(w,A,D,U),Y&&lh(w,A+16,D,U+4)}function yx(w,A,D,U){_l(w,A+0,D,U,1),_l(w,A+32,D,U+128,1)}function pb(w,A,D,U){var Y;for(w=w[A+0]+4,Y=0;4>Y;++Y)for(A=0;4>A;++A)Qs(D,U,A,Y,w)}function wx(w,A,D,U){w[A+0]&&pi(w,A+0,D,U),w[A+16]&&pi(w,A+16,D,U+4),w[A+32]&&pi(w,A+32,D,U+128),w[A+48]&&pi(w,A+48,D,U+128+4)}function mb(w,A,D,U){var Y,Z=i(16);for(Y=0;4>Y;++Y){var ee=w[A+0+Y]+w[A+12+Y],te=w[A+4+Y]+w[A+8+Y],ne=w[A+4+Y]-w[A+8+Y],fe=w[A+0+Y]-w[A+12+Y];Z[0+Y]=ee+te,Z[8+Y]=ee-te,Z[4+Y]=fe+ne,Z[12+Y]=fe-ne}for(Y=0;4>Y;++Y)ee=(w=Z[0+4*Y]+3)+Z[3+4*Y],te=Z[1+4*Y]+Z[2+4*Y],ne=Z[1+4*Y]-Z[2+4*Y],fe=w-Z[3+4*Y],D[U+0]=ee+te>>3,D[U+16]=fe+ne>>3,D[U+32]=ee-te>>3,D[U+48]=fe-ne>>3,U+=64}function ch(w,A,D){var U,Y=A-32,Z=rs,ee=255-w[Y-1];for(U=0;U<D;++U){var te,ne=Z,fe=ee+w[A-1];for(te=0;te<D;++te)w[A+te]=ne[fe+w[Y+te]];A+=32}}function xb(w,A){ch(w,A,4)}function gb(w,A){ch(w,A,8)}function vb(w,A){ch(w,A,16)}function vl(w,A){var D;for(D=0;16>D;++D)n(w,A+32*D,w,A-32,16)}function Ld(w,A){var D;for(D=16;0<D;--D)a(w,A,w[A-1],16),A+=32}function Bd(w,A,D){var U;for(U=0;16>U;++U)a(A,D+32*U,w,16)}function _x(w,A){var D,U=16;for(D=0;16>D;++D)U+=w[A-1+32*D]+w[A+D-32];Bd(U>>5,w,A)}function qa(w,A){var D,U=8;for(D=0;16>D;++D)U+=w[A-1+32*D];Bd(U>>4,w,A)}function bb(w,A){var D,U=8;for(D=0;16>D;++D)U+=w[A+D-32];Bd(U>>4,w,A)}function Nx(w,A){Bd(128,w,A)}function Ut(w,A,D){return w+2*A+D+2>>2}function yb(w,A){var D,U=A-32;for(U=new Uint8Array([Ut(w[U-1],w[U+0],w[U+1]),Ut(w[U+0],w[U+1],w[U+2]),Ut(w[U+1],w[U+2],w[U+3]),Ut(w[U+2],w[U+3],w[U+4])]),D=0;4>D;++D)n(w,A+32*D,U,0,U.length)}function wb(w,A){var D=w[A-1],U=w[A-1+32],Y=w[A-1+64],Z=w[A-1+96];ye(w,A+0,16843009*Ut(w[A-1-32],D,U)),ye(w,A+32,16843009*Ut(D,U,Y)),ye(w,A+64,16843009*Ut(U,Y,Z)),ye(w,A+96,16843009*Ut(Y,Z,Z))}function Io(w,A){var D,U=4;for(D=0;4>D;++D)U+=w[A+D-32]+w[A-1+32*D];for(U>>=3,D=0;4>D;++D)a(w,A+32*D,U,4)}function jx(w,A){var D=w[A-1+0],U=w[A-1+32],Y=w[A-1+64],Z=w[A-1-32],ee=w[A+0-32],te=w[A+1-32],ne=w[A+2-32],fe=w[A+3-32];w[A+0+96]=Ut(U,Y,w[A-1+96]),w[A+1+96]=w[A+0+64]=Ut(D,U,Y),w[A+2+96]=w[A+1+64]=w[A+0+32]=Ut(Z,D,U),w[A+3+96]=w[A+2+64]=w[A+1+32]=w[A+0+0]=Ut(ee,Z,D),w[A+3+64]=w[A+2+32]=w[A+1+0]=Ut(te,ee,Z),w[A+3+32]=w[A+2+0]=Ut(ne,te,ee),w[A+3+0]=Ut(fe,ne,te)}function Sx(w,A){var D=w[A+1-32],U=w[A+2-32],Y=w[A+3-32],Z=w[A+4-32],ee=w[A+5-32],te=w[A+6-32],ne=w[A+7-32];w[A+0+0]=Ut(w[A+0-32],D,U),w[A+1+0]=w[A+0+32]=Ut(D,U,Y),w[A+2+0]=w[A+1+32]=w[A+0+64]=Ut(U,Y,Z),w[A+3+0]=w[A+2+32]=w[A+1+64]=w[A+0+96]=Ut(Y,Z,ee),w[A+3+32]=w[A+2+64]=w[A+1+96]=Ut(Z,ee,te),w[A+3+64]=w[A+2+96]=Ut(ee,te,ne),w[A+3+96]=Ut(te,ne,ne)}function $d(w,A){var D=w[A-1+0],U=w[A-1+32],Y=w[A-1+64],Z=w[A-1-32],ee=w[A+0-32],te=w[A+1-32],ne=w[A+2-32],fe=w[A+3-32];w[A+0+0]=w[A+1+64]=Z+ee+1>>1,w[A+1+0]=w[A+2+64]=ee+te+1>>1,w[A+2+0]=w[A+3+64]=te+ne+1>>1,w[A+3+0]=ne+fe+1>>1,w[A+0+96]=Ut(Y,U,D),w[A+0+64]=Ut(U,D,Z),w[A+0+32]=w[A+1+96]=Ut(D,Z,ee),w[A+1+32]=w[A+2+96]=Ut(Z,ee,te),w[A+2+32]=w[A+3+96]=Ut(ee,te,ne),w[A+3+32]=Ut(te,ne,fe)}function uh(w,A){var D=w[A+0-32],U=w[A+1-32],Y=w[A+2-32],Z=w[A+3-32],ee=w[A+4-32],te=w[A+5-32],ne=w[A+6-32],fe=w[A+7-32];w[A+0+0]=D+U+1>>1,w[A+1+0]=w[A+0+64]=U+Y+1>>1,w[A+2+0]=w[A+1+64]=Y+Z+1>>1,w[A+3+0]=w[A+2+64]=Z+ee+1>>1,w[A+0+32]=Ut(D,U,Y),w[A+1+32]=w[A+0+96]=Ut(U,Y,Z),w[A+2+32]=w[A+1+96]=Ut(Y,Z,ee),w[A+3+32]=w[A+2+96]=Ut(Z,ee,te),w[A+3+64]=Ut(ee,te,ne),w[A+3+96]=Ut(te,ne,fe)}function _b(w,A){var D=w[A-1+0],U=w[A-1+32],Y=w[A-1+64],Z=w[A-1+96];w[A+0+0]=D+U+1>>1,w[A+2+0]=w[A+0+32]=U+Y+1>>1,w[A+2+32]=w[A+0+64]=Y+Z+1>>1,w[A+1+0]=Ut(D,U,Y),w[A+3+0]=w[A+1+32]=Ut(U,Y,Z),w[A+3+32]=w[A+1+64]=Ut(Y,Z,Z),w[A+3+64]=w[A+2+64]=w[A+0+96]=w[A+1+96]=w[A+2+96]=w[A+3+96]=Z}function Nb(w,A){var D=w[A-1+0],U=w[A-1+32],Y=w[A-1+64],Z=w[A-1+96],ee=w[A-1-32],te=w[A+0-32],ne=w[A+1-32],fe=w[A+2-32];w[A+0+0]=w[A+2+32]=D+ee+1>>1,w[A+0+32]=w[A+2+64]=U+D+1>>1,w[A+0+64]=w[A+2+96]=Y+U+1>>1,w[A+0+96]=Z+Y+1>>1,w[A+3+0]=Ut(te,ne,fe),w[A+2+0]=Ut(ee,te,ne),w[A+1+0]=w[A+3+32]=Ut(D,ee,te),w[A+1+32]=w[A+3+64]=Ut(U,D,ee),w[A+1+64]=w[A+3+96]=Ut(Y,U,D),w[A+1+96]=Ut(Z,Y,U)}function jb(w,A){var D;for(D=0;8>D;++D)n(w,A+32*D,w,A-32,8)}function dh(w,A){var D;for(D=0;8>D;++D)a(w,A,w[A-1],8),A+=32}function lu(w,A,D){var U;for(U=0;8>U;++U)a(A,D+32*U,w,8)}function rc(w,A){var D,U=8;for(D=0;8>D;++D)U+=w[A+D-32]+w[A-1+32*D];lu(U>>4,w,A)}function Sb(w,A){var D,U=4;for(D=0;8>D;++D)U+=w[A+D-32];lu(U>>3,w,A)}function cu(w,A){var D,U=4;for(D=0;8>D;++D)U+=w[A-1+32*D];lu(U>>3,w,A)}function fh(w,A){lu(128,w,A)}function zd(w,A,D){var U=w[A-D],Y=w[A+0],Z=3*(Y-U)+Ob[1020+w[A-2*D]-w[A+D]],ee=Lx[112+(Z+4>>3)];w[A-D]=rs[255+U+Lx[112+(Z+3>>3)]],w[A+0]=rs[255+Y-ee]}function Ax(w,A,D,U){var Y=w[A+0],Z=w[A+D];return Es[255+w[A-2*D]-w[A-D]]>U||Es[255+Z-Y]>U}function Cx(w,A,D,U){return 4*Es[255+w[A-D]-w[A+0]]+Es[255+w[A-2*D]-w[A+D]]<=U}function Ex(w,A,D,U,Y){var Z=w[A-3*D],ee=w[A-2*D],te=w[A-D],ne=w[A+0],fe=w[A+D],Ce=w[A+2*D],Le=w[A+3*D];return 4*Es[255+te-ne]+Es[255+ee-fe]>U?0:Es[255+w[A-4*D]-Z]<=Y&&Es[255+Z-ee]<=Y&&Es[255+ee-te]<=Y&&Es[255+Le-Ce]<=Y&&Es[255+Ce-fe]<=Y&&Es[255+fe-ne]<=Y}function kx(w,A,D,U){var Y=2*U+1;for(U=0;16>U;++U)Cx(w,A+U,D,Y)&&zd(w,A+U,D)}function Do(w,A,D,U){var Y=2*U+1;for(U=0;16>U;++U)Cx(w,A+U*D,1,Y)&&zd(w,A+U*D,1)}function bl(w,A,D,U){var Y;for(Y=3;0<Y;--Y)kx(w,A+=4*D,D,U)}function Ab(w,A,D,U){var Y;for(Y=3;0<Y;--Y)Do(w,A+=4,D,U)}function nc(w,A,D,U,Y,Z,ee,te){for(Z=2*Z+1;0<Y--;){if(Ex(w,A,D,Z,ee))if(Ax(w,A,D,te))zd(w,A,D);else{var ne=w,fe=A,Ce=D,Le=ne[fe-2*Ce],Be=ne[fe-Ce],Pe=ne[fe+0],Ze=ne[fe+Ce],qe=ne[fe+2*Ce],Ee=27*(Ke=Ob[1020+3*(Pe-Be)+Ob[1020+Le-Ze]])+63>>7,ke=18*Ke+63>>7,Ke=9*Ke+63>>7;ne[fe-3*Ce]=rs[255+ne[fe-3*Ce]+Ke],ne[fe-2*Ce]=rs[255+Le+ke],ne[fe-Ce]=rs[255+Be+Ee],ne[fe+0]=rs[255+Pe-Ee],ne[fe+Ce]=rs[255+Ze-ke],ne[fe+2*Ce]=rs[255+qe-Ke]}A+=U}}function eo(w,A,D,U,Y,Z,ee,te){for(Z=2*Z+1;0<Y--;){if(Ex(w,A,D,Z,ee))if(Ax(w,A,D,te))zd(w,A,D);else{var ne=w,fe=A,Ce=D,Le=ne[fe-Ce],Be=ne[fe+0],Pe=ne[fe+Ce],Ze=Lx[112+((qe=3*(Be-Le))+4>>3)],qe=Lx[112+(qe+3>>3)],Ee=Ze+1>>1;ne[fe-2*Ce]=rs[255+ne[fe-2*Ce]+Ee],ne[fe-Ce]=rs[255+Le+qe],ne[fe+0]=rs[255+Be-Ze],ne[fe+Ce]=rs[255+Pe-Ee]}A+=U}}function hh(w,A,D,U,Y,Z){nc(w,A,D,1,16,U,Y,Z)}function uu(w,A,D,U,Y,Z){nc(w,A,1,D,16,U,Y,Z)}function Cb(w,A,D,U,Y,Z){var ee;for(ee=3;0<ee;--ee)eo(w,A+=4*D,D,1,16,U,Y,Z)}function Ud(w,A,D,U,Y,Z){var ee;for(ee=3;0<ee;--ee)eo(w,A+=4,1,D,16,U,Y,Z)}function Eb(w,A,D,U,Y,Z,ee,te){nc(w,A,Y,1,8,Z,ee,te),nc(D,U,Y,1,8,Z,ee,te)}function ph(w,A,D,U,Y,Z,ee,te){nc(w,A,1,Y,8,Z,ee,te),nc(D,U,1,Y,8,Z,ee,te)}function mh(w,A,D,U,Y,Z,ee,te){eo(w,A+4*Y,Y,1,8,Z,ee,te),eo(D,U+4*Y,Y,1,8,Z,ee,te)}function Tx(w,A,D,U,Y,Z,ee,te){eo(w,A+4,1,Y,8,Z,ee,te),eo(D,U+4,1,Y,8,Z,ee,te)}function Hd(){this.ba=new Zi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Hr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ox(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new E}function kb(){this.xb=this.a=0,this.l=new Po,this.ca=new Zi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ox,this.ab=0,this.gc=o(4,gh),this.Oc=0}function Wd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Po,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function du(w,A,D,U,Y,Z,ee){for(w=w==null?0:w[A+0],A=0;A<ee;++A)Y[Z+A]=w+D[U+A]&255,w=Y[Z+A]}function vh(w,A,D,U,Y,Z,ee){var te;if(w==null)du(null,null,D,U,Y,Z,ee);else for(te=0;te<ee;++te)Y[Z+te]=w[A+te]+D[U+te]&255}function ac(w,A,D,U,Y,Z,ee){if(w==null)du(null,null,D,U,Y,Z,ee);else{var te,ne=w[A+0],fe=ne,Ce=ne;for(te=0;te<ee;++te)fe=Ce+(ne=w[A+te])-fe,Ce=D[U+te]+(-256&fe?0>fe?0:255:fe)&255,fe=ne,Y[Z+te]=Ce}}function bh(w,A,D,U){var Y=A.width,Z=A.o;if(t(w!=null&&A!=null),0>D||0>=U||D+U>Z)return null;if(!w.Cc){if(w.ga==null){var ee;if(w.ga=new Wd,(ee=w.ga==null)||(ee=A.width*A.o,t(w.Gb.length==0),w.Gb=i(ee),w.Uc=0,w.Gb==null?ee=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ee=1),ee=!ee),!ee){ee=w.ga;var te=w.Fa,ne=w.P,fe=w.qc,Ce=w.mb,Le=w.nb,Be=ne+1,Pe=fe-1,Ze=ee.l;if(t(te!=null&&Ce!=null&&A!=null),uc[0]=null,uc[1]=du,uc[2]=vh,uc[3]=ac,ee.ca=Ce,ee.tb=Le,ee.c=A.width,ee.i=A.height,t(0<ee.c&&0<ee.i),1>=fe)A=0;else if(ee.$a=te[ne+0]>>0&3,ee.Z=te[ne+0]>>2&3,ee.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ne)A=0;else if(Ze.put=_s,Ze.ac=Qn,Ze.bc=Ns,Ze.ma=ee,Ze.width=A.width,Ze.height=A.height,Ze.Da=A.Da,Ze.v=A.v,Ze.va=A.va,Ze.j=A.j,Ze.o=A.o,ee.$a)e:{t(ee.$a==1),A=Ve();t:for(;;){if(A==null){A=0;break e}if(t(ee!=null),ee.mc=A,A.c=ee.c,A.i=ee.i,A.l=ee.l,A.l.ma=ee,A.l.width=ee.c,A.l.height=ee.i,A.a=0,J(A.m,te,Be,Pe),!Fe(ee.c,ee.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&ce(A.s)?(ee.ic=1,te=A.c*A.i,A.Ta=null,A.Ua=0,A.V=i(te),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ee.ic=0,A=ze(A,ee.c)),!A))break t;A=1;break e}ee.mc=null,A=0}else A=Pe>=ee.c*ee.i;ee=!A}if(ee)return null;w.ga.Lc!=1?w.Ga=0:U=Z-D}t(w.ga!=null),t(D+U<=Z);e:{if(A=(te=w.ga).c,Z=te.l.o,te.$a==0){if(Be=w.rc,Pe=w.Vc,Ze=w.Fa,ne=w.P+1+D*A,fe=w.mb,Ce=w.nb+D*A,t(ne<=w.P+w.qc),te.Z!=0)for(t(uc[te.Z]!=null),ee=0;ee<U;++ee)uc[te.Z](Be,Pe,Ze,ne,fe,Ce,A),Be=fe,Pe=Ce,Ce+=A,ne+=A;else for(ee=0;ee<U;++ee)n(fe,Ce,Ze,ne,A),Be=fe,Pe=Ce,Ce+=A,ne+=A;w.rc=Be,w.Vc=Pe}else{if(t(te.mc!=null),A=D+U,t((ee=te.mc)!=null),t(A<=ee.i),ee.C>=A)A=1;else if(te.ic||De(),te.ic){te=ee.V,Be=ee.Ba,Pe=ee.c;var qe=ee.i,Ee=(Ze=1,ne=ee.$/Pe,fe=ee.$%Pe,Ce=ee.m,Le=ee.s,ee.$),ke=Pe*qe,Ke=Pe*A,et=Le.wc,Je=Ee<Ke?vn(Le,fe,ne):null;t(Ee<=ke),t(A<=qe),t(ce(Le));t:for(;;){for(;!Ce.h&&Ee<Ke;){if(fe&et||(Je=vn(Le,fe,ne)),t(Je!=null),q(Ce),256>(qe=Va(Je.G[0],Je.H[0],Ce)))te[Be+Ee]=qe,++Ee,++fe>=Pe&&(fe=0,++ne<=A&&!(ne%16)&&he(ee,ne));else{if(!(280>qe)){Ze=0;break t}qe=Qi(qe-256,Ce);var mt,ut=Va(Je.G[4],Je.H[4],Ce);if(q(Ce),!(Ee>=(ut=Di(Pe,ut=Qi(ut,Ce)))&&ke-Ee>=qe)){Ze=0;break t}for(mt=0;mt<qe;++mt)te[Be+Ee+mt]=te[Be+Ee+mt-ut];for(Ee+=qe,fe+=qe;fe>=Pe;)fe-=Pe,++ne<=A&&!(ne%16)&&he(ee,ne);Ee<Ke&&fe&et&&(Je=vn(Le,fe,ne))}t(Ce.h==B(Ce))}he(ee,ne>A?A:ne);break t}!Ze||Ce.h&&Ee<ke?(Ze=0,ee.a=Ce.h?5:3):ee.$=Ee,A=Ze}else A=ge(ee,ee.V,ee.Ba,ee.c,ee.i,A,Ue);if(!A){U=0;break e}}D+U>=Z&&(w.Cc=1),U=1}if(!U)return null;if(w.Cc&&((U=w.ga)!=null&&(U.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+D*Y}function T(w,A,D,U,Y,Z){for(;0<Y--;){var ee,te=w,ne=A+(D?1:0),fe=w,Ce=A+(D?0:3);for(ee=0;ee<U;++ee){var Le=fe[Ce+4*ee];Le!=255&&(Le*=32897,te[ne+4*ee+0]=te[ne+4*ee+0]*Le>>23,te[ne+4*ee+1]=te[ne+4*ee+1]*Le>>23,te[ne+4*ee+2]=te[ne+4*ee+2]*Le>>23)}A+=Z}}function K(w,A,D,U,Y){for(;0<U--;){var Z;for(Z=0;Z<D;++Z){var ee=w[A+2*Z+0],te=15&(fe=w[A+2*Z+1]),ne=4369*te,fe=(240&fe|fe>>4)*ne>>16;w[A+2*Z+0]=(240&ee|ee>>4)*ne>>16&240|(15&ee|ee<<4)*ne>>16>>4&15,w[A+2*Z+1]=240&fe|te}A+=Y}}function be(w,A,D,U,Y,Z,ee,te){var ne,fe,Ce=255;for(fe=0;fe<Y;++fe){for(ne=0;ne<U;++ne){var Le=w[A+ne];Z[ee+4*ne]=Le,Ce&=Le}A+=D,ee+=te}return Ce!=255}function Ae(w,A,D,U,Y){var Z;for(Z=0;Z<Y;++Z)D[U+Z]=w[A+Z]>>8}function De(){Cs=T,Yr=K,Kr=be,Pn=Ae}function Ge(w,A,D){C[w]=function(U,Y,Z,ee,te,ne,fe,Ce,Le,Be,Pe,Ze,qe,Ee,ke,Ke,et){var Je,mt=et-1>>1,ut=te[ne+0]|fe[Ce+0]<<16,Ot=Le[Be+0]|Pe[Ze+0]<<16;t(U!=null);var dt=3*ut+Ot+131074>>2;for(A(U[Y+0],255&dt,dt>>16,qe,Ee),Z!=null&&(dt=3*Ot+ut+131074>>2,A(Z[ee+0],255&dt,dt>>16,ke,Ke)),Je=1;Je<=mt;++Je){var Sr=te[ne+Je]|fe[Ce+Je]<<16,Or=Le[Be+Je]|Pe[Ze+Je]<<16,gr=ut+Sr+Ot+Or+524296,rr=gr+2*(Sr+Ot)>>3;dt=rr+ut>>1,ut=(gr=gr+2*(ut+Or)>>3)+Sr>>1,A(U[Y+2*Je-1],255&dt,dt>>16,qe,Ee+(2*Je-1)*D),A(U[Y+2*Je-0],255&ut,ut>>16,qe,Ee+(2*Je-0)*D),Z!=null&&(dt=gr+Ot>>1,ut=rr+Or>>1,A(Z[ee+2*Je-1],255&dt,dt>>16,ke,Ke+(2*Je-1)*D),A(Z[ee+2*Je+0],255&ut,ut>>16,ke,Ke+(2*Je+0)*D)),ut=Sr,Ot=Or}1&et||(dt=3*ut+Ot+131074>>2,A(U[Y+et-1],255&dt,dt>>16,qe,Ee+(et-1)*D),Z!=null&&(dt=3*Ot+ut+131074>>2,A(Z[ee+et-1],255&dt,dt>>16,ke,Ke+(et-1)*D)))}}function tt(){ks[Bx]=mL,ks[$x]=R3,ks[P3]=xL,ks[zx]=L3,ks[Ux]=B3,ks[Pb]=$3,ks[I3]=gL,ks[Ib]=R3,ks[Db]=L3,ks[Hx]=B3,ks[Mb]=$3}function pt(w){return w&~vL?0>w?0:255:w>>z3}function At(w,A){return pt((19077*w>>8)+(26149*A>>8)-14234)}function qt(w,A,D){return pt((19077*w>>8)-(6419*A>>8)-(13320*D>>8)+8708)}function Ht(w,A){return pt((19077*w>>8)+(33050*A>>8)-17685)}function ur(w,A,D,U,Y){U[Y+0]=At(w,D),U[Y+1]=qt(w,A,D),U[Y+2]=Ht(w,A)}function pn(w,A,D,U,Y){U[Y+0]=Ht(w,A),U[Y+1]=qt(w,A,D),U[Y+2]=At(w,D)}function bn(w,A,D,U,Y){var Z=qt(w,A,D);A=Z<<3&224|Ht(w,A)>>3,U[Y+0]=248&At(w,D)|Z>>5,U[Y+1]=A}function zn(w,A,D,U,Y){var Z=240&Ht(w,A)|15;U[Y+0]=240&At(w,D)|qt(w,A,D)>>4,U[Y+1]=Z}function Ga(w,A,D,U,Y){U[Y+0]=255,ur(w,A,D,U,Y+1)}function ga(w,A,D,U,Y){pn(w,A,D,U,Y),U[Y+3]=255}function to(w,A,D,U,Y){ur(w,A,D,U,Y),U[Y+3]=255}function ts(w,A){return 0>w?0:w>A?A:w}function Mo(w,A,D){C[w]=function(U,Y,Z,ee,te,ne,fe,Ce,Le){for(var Be=Ce+(-2&Le)*D;Ce!=Be;)A(U[Y+0],Z[ee+0],te[ne+0],fe,Ce),A(U[Y+1],Z[ee+0],te[ne+0],fe,Ce+D),Y+=2,++ee,++ne,Ce+=2*D;1&Le&&A(U[Y+0],Z[ee+0],te[ne+0],fe,Ce)}}function Px(w,A,D){return D==0?w==0?A==0?6:5:A==0?4:0:D}function yh(w,A,D,U,Y){switch(w>>>30){case 3:_l(A,D,U,Y,0);break;case 2:On(A,D,U,Y);break;case 1:pi(A,D,U,Y)}}function wh(w,A){var D,U,Y=A.M,Z=A.Nb,ee=w.oc,te=w.pc+40,ne=w.oc,fe=w.pc+584,Ce=w.oc,Le=w.pc+600;for(D=0;16>D;++D)ee[te+32*D-1]=129;for(D=0;8>D;++D)ne[fe+32*D-1]=129,Ce[Le+32*D-1]=129;for(0<Y?ee[te-1-32]=ne[fe-1-32]=Ce[Le-1-32]=129:(a(ee,te-32-1,127,21),a(ne,fe-32-1,127,9),a(Ce,Le-32-1,127,9)),U=0;U<w.za;++U){var Be=A.ya[A.aa+U];if(0<U){for(D=-1;16>D;++D)n(ee,te+32*D-4,ee,te+32*D+12,4);for(D=-1;8>D;++D)n(ne,fe+32*D-4,ne,fe+32*D+4,4),n(Ce,Le+32*D-4,Ce,Le+32*D+4,4)}var Pe=w.Gd,Ze=w.Hd+U,qe=Be.ad,Ee=Be.Hc;if(0<Y&&(n(ee,te-32,Pe[Ze].y,0,16),n(ne,fe-32,Pe[Ze].f,0,8),n(Ce,Le-32,Pe[Ze].ea,0,8)),Be.Za){var ke=ee,Ke=te-32+16;for(0<Y&&(U>=w.za-1?a(ke,Ke,Pe[Ze].y[15],4):n(ke,Ke,Pe[Ze+1].y,0,4)),D=0;4>D;D++)ke[Ke+128+D]=ke[Ke+256+D]=ke[Ke+384+D]=ke[Ke+0+D];for(D=0;16>D;++D,Ee<<=2)ke=ee,Ke=te+H3[D],ro[Be.Ob[D]](ke,Ke),yh(Ee,qe,16*+D,ke,Ke)}else if(ke=Px(U,Y,Be.Ob[0]),cc[ke](ee,te),Ee!=0)for(D=0;16>D;++D,Ee<<=2)yh(Ee,qe,16*+D,ee,te+H3[D]);for(D=Be.Gc,ke=Px(U,Y,Be.Dd),jl[ke](ne,fe),jl[ke](Ce,Le),Ee=qe,ke=ne,Ke=fe,255&(Be=D>>0)&&(170&Be?Ah(Ee,256,ke,Ke):Ss(Ee,256,ke,Ke)),Be=Ce,Ee=Le,255&(D>>=8)&&(170&D?Ah(qe,320,Be,Ee):Ss(qe,320,Be,Ee)),Y<w.Ub-1&&(n(Pe[Ze].y,0,ee,te+480,16),n(Pe[Ze].f,0,ne,fe+224,8),n(Pe[Ze].ea,0,Ce,Le+224,8)),D=8*Z*w.B,Pe=w.sa,Ze=w.ta+16*U+16*Z*w.R,qe=w.qa,Be=w.ra+8*U+D,Ee=w.Ha,ke=w.Ia+8*U+D,D=0;16>D;++D)n(Pe,Ze+D*w.R,ee,te+32*D,16);for(D=0;8>D;++D)n(qe,Be+D*w.B,ne,fe+32*D,8),n(Ee,ke+D*w.B,Ce,Le+32*D,8)}}function Vd(w,A,D,U,Y,Z,ee,te,ne){var fe=[0],Ce=[0],Le=0,Be=ne!=null?ne.kd:0,Pe=ne??new xh;if(w==null||12>D)return 7;Pe.data=w,Pe.w=A,Pe.ha=D,A=[A],D=[D],Pe.gb=[Pe.gb];e:{var Ze=A,qe=D,Ee=Pe.gb;if(t(w!=null),t(qe!=null),t(Ee!=null),Ee[0]=0,12<=qe[0]&&!r(w,Ze[0],"RIFF")){if(r(w,Ze[0]+8,"WEBP")){Ee=3;break e}var ke=We(w,Ze[0]+4);if(12>ke||4294967286<ke){Ee=3;break e}if(Be&&ke>qe[0]-8){Ee=7;break e}Ee[0]=ke,Ze[0]+=12,qe[0]-=12}Ee=0}if(Ee!=0)return Ee;for(ke=0<Pe.gb[0],D=D[0];;){e:{var Ke=w;qe=A,Ee=D;var et=fe,Je=Ce,mt=Ze=[0];if((dt=Le=[Le])[0]=0,8>Ee[0])Ee=7;else{if(!r(Ke,qe[0],"VP8X")){if(We(Ke,qe[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var ut=We(Ke,qe[0]+8),Ot=1+X(Ke,qe[0]+12);if(2147483648<=Ot*(Ke=1+X(Ke,qe[0]+15))){Ee=3;break e}mt!=null&&(mt[0]=ut),et!=null&&(et[0]=Ot),Je!=null&&(Je[0]=Ke),qe[0]+=18,Ee[0]-=18,dt[0]=1}Ee=0}}if(Le=Le[0],Ze=Ze[0],Ee!=0)return Ee;if(qe=!!(2&Ze),!ke&&Le)return 3;if(Z!=null&&(Z[0]=!!(16&Ze)),ee!=null&&(ee[0]=qe),te!=null&&(te[0]=0),ee=fe[0],Ze=Ce[0],Le&&qe&&ne==null){Ee=0;break}if(4>D){Ee=7;break}if(ke&&Le||!ke&&!Le&&!r(w,A[0],"ALPH")){D=[D],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{ut=w,Ee=A,ke=D;var dt=Pe.gb;et=Pe.na,Je=Pe.P,mt=Pe.Sa,Ot=22,t(ut!=null),t(ke!=null),Ke=Ee[0];var Sr=ke[0];for(t(et!=null),t(mt!=null),et[0]=null,Je[0]=null,mt[0]=0;;){if(Ee[0]=Ke,ke[0]=Sr,8>Sr){Ee=7;break e}var Or=We(ut,Ke+4);if(4294967286<Or){Ee=3;break e}var gr=8+Or+1&-2;if(Ot+=gr,0<dt&&Ot>dt){Ee=3;break e}if(!r(ut,Ke,"VP8 ")||!r(ut,Ke,"VP8L")){Ee=0;break e}if(Sr[0]<gr){Ee=7;break e}r(ut,Ke,"ALPH")||(et[0]=ut,Je[0]=Ke+8,mt[0]=Or),Ke+=gr,Sr-=gr}}if(D=D[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],Ee!=0)break}D=[D],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(dt=w,Ee=A,ke=D,et=Pe.gb[0],Je=Pe.Ja,mt=Pe.xa,ut=Ee[0],Ke=!r(dt,ut,"VP8 "),Ot=!r(dt,ut,"VP8L"),t(dt!=null),t(ke!=null),t(Je!=null),t(mt!=null),8>ke[0])Ee=7;else{if(Ke||Ot){if(dt=We(dt,ut+4),12<=et&&dt>et-12){Ee=3;break e}if(Be&&dt>ke[0]-8){Ee=7;break e}Je[0]=dt,Ee[0]+=8,ke[0]-=8,mt[0]=Ot}else mt[0]=5<=ke[0]&&dt[ut+0]==47&&!(dt[ut+4]>>5),Je[0]=ke[0];Ee=0}if(D=D[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],A=A[0],Ee!=0)break;if(4294967286<Pe.Ja)return 3;if(te==null||qe||(te[0]=Pe.xa?2:1),ee=[ee],Ze=[Ze],Pe.xa){if(5>D){Ee=7;break}te=ee,Be=Ze,qe=Z,w==null||5>D?w=0:5<=D&&w[A+0]==47&&!(w[A+4]>>5)?(ke=[0],dt=[0],et=[0],J(Je=new O,w,A,D),Tt(Je,ke,dt,et)?(te!=null&&(te[0]=ke[0]),Be!=null&&(Be[0]=dt[0]),qe!=null&&(qe[0]=et[0]),w=1):w=0):w=0}else{if(10>D){Ee=7;break}te=Ze,w==null||10>D||!xx(w,A+3,D-3)?w=0:(Be=w[A+0]|w[A+1]<<8|w[A+2]<<16,qe=16383&(w[A+7]<<8|w[A+6]),w=16383&(w[A+9]<<8|w[A+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=Pe.Ja||!qe||!w?w=0:(ee&&(ee[0]=qe),te&&(te[0]=w),w=1))}if(!w||(ee=ee[0],Ze=Ze[0],Le&&(fe[0]!=ee||Ce[0]!=Ze)))return 3;ne!=null&&(ne[0]=Pe,ne.offset=A-ne.w,t(4294967286>A-ne.w),t(ne.offset==ne.ha-D));break}return Ee==0||Ee==7&&Le&&ne==null?(Z!=null&&(Z[0]|=Pe.na!=null&&0<Pe.na.length),U!=null&&(U[0]=ee),Y!=null&&(Y[0]=Ze),0):Ee}function _h(w,A,D){var U=A.width,Y=A.height,Z=0,ee=0,te=U,ne=Y;if(A.Da=w!=null&&0<w.Da,A.Da&&(te=w.cd,ne=w.bd,Z=w.v,ee=w.j,11>D||(Z&=-2,ee&=-2),0>Z||0>ee||0>=te||0>=ne||Z+te>U||ee+ne>Y))return 0;if(A.v=Z,A.j=ee,A.va=Z+te,A.o=ee+ne,A.U=te,A.T=ne,A.da=w!=null&&0<w.da,A.da){if(!Me(te,ne,D=[w.ib],Z=[w.hb]))return 0;A.ib=D[0],A.hb=Z[0]}return A.ob=w!=null&&w.ob,A.Kb=w==null||!w.Sd,A.da&&(A.ob=A.ib<3*U/4&&A.hb<3*Y/4,A.Kb=0),1}function Nh(w){if(w==null)return 2;if(11>w.S){var A=w.f.RGBA;A.fb+=(w.height-1)*A.A,A.A=-A.A}else A=w.f.kb,w=w.height,A.O+=(w-1)*A.fa,A.fa=-A.fa,A.N+=(w-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(w-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(w-1)*A.lb,A.lb=-A.lb);return 0}function qd(w,A,D,U){if(U==null||0>=w||0>=A)return 2;if(D!=null){if(D.Da){var Y=D.cd,Z=D.bd,ee=-2&D.v,te=-2&D.j;if(0>ee||0>te||0>=Y||0>=Z||ee+Y>w||te+Z>A)return 2;w=Y,A=Z}if(D.da){if(!Me(w,A,Y=[D.ib],Z=[D.hb]))return 2;w=Y[0],A=Z[0]}}U.width=w,U.height=A;e:{var ne=U.width,fe=U.height;if(w=U.S,0>=ne||0>=fe||!(w>=Bx&&13>w))w=2;else{if(0>=U.Rd&&U.sd==null){ee=Z=Y=A=0;var Ce=(te=ne*W3[w])*fe;if(11>w||(Z=(fe+1)/2*(A=(ne+1)/2),w==12&&(ee=(Y=ne)*fe)),(fe=i(Ce+2*Z+ee))==null){w=1;break e}U.sd=fe,11>w?((ne=U.f.RGBA).eb=fe,ne.fb=0,ne.A=te,ne.size=Ce):((ne=U.f.kb).y=fe,ne.O=0,ne.fa=te,ne.Fd=Ce,ne.f=fe,ne.N=0+Ce,ne.Ab=A,ne.Cd=Z,ne.ea=fe,ne.W=0+Ce+Z,ne.Db=A,ne.Ed=Z,w==12&&(ne.F=fe,ne.J=0+Ce+2*Z),ne.Tc=ee,ne.lb=Y)}if(A=1,Y=U.S,Z=U.width,ee=U.height,Y>=Bx&&13>Y)if(11>Y)w=U.f.RGBA,A&=(te=Math.abs(w.A))*(ee-1)+Z<=w.size,A&=te>=Z*W3[Y],A&=w.eb!=null;else{w=U.f.kb,te=(Z+1)/2,Ce=(ee+1)/2,ne=Math.abs(w.fa),fe=Math.abs(w.Ab);var Le=Math.abs(w.Db),Be=Math.abs(w.lb),Pe=Be*(ee-1)+Z;A&=ne*(ee-1)+Z<=w.Fd,A&=fe*(Ce-1)+te<=w.Cd,A=(A&=Le*(Ce-1)+te<=w.Ed)&ne>=Z&fe>=te&Le>=te,A&=w.y!=null,A&=w.f!=null,A&=w.ea!=null,Y==12&&(A&=Be>=Z,A&=Pe<=w.Tc,A&=w.F!=null)}else A=0;w=A?0:2}}return w!=0||D!=null&&D.fd&&(w=Nh(U)),w}var Ia=64,Gd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xd=24,Yd=32,jh=8,Fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(w){return w},C.Predictor2=function(w,A,D){return A[D+0]},C.Predictor3=function(w,A,D){return A[D+1]},C.Predictor4=function(w,A,D){return A[D-1]},C.Predictor5=function(w,A,D){return we(we(w,A[D+1]),A[D+0])},C.Predictor6=function(w,A,D){return we(w,A[D-1])},C.Predictor7=function(w,A,D){return we(w,A[D+0])},C.Predictor8=function(w,A,D){return we(A[D-1],A[D+0])},C.Predictor9=function(w,A,D){return we(A[D+0],A[D+1])},C.Predictor10=function(w,A,D){return we(we(w,A[D-1]),we(A[D+0],A[D+1]))},C.Predictor11=function(w,A,D){var U=A[D+0];return 0>=Qe(U>>24&255,w>>24&255,(A=A[D-1])>>24&255)+Qe(U>>16&255,w>>16&255,A>>16&255)+Qe(U>>8&255,w>>8&255,A>>8&255)+Qe(255&U,255&w,255&A)?U:w},C.Predictor12=function(w,A,D){var U=A[D+0];return(je((w>>24&255)+(U>>24&255)-((A=A[D-1])>>24&255))<<24|je((w>>16&255)+(U>>16&255)-(A>>16&255))<<16|je((w>>8&255)+(U>>8&255)-(A>>8&255))<<8|je((255&w)+(255&U)-(255&A)))>>>0},C.Predictor13=function(w,A,D){var U=A[D-1];return(He((w=we(w,A[D+0]))>>24&255,U>>24&255)<<24|He(w>>16&255,U>>16&255)<<16|He(w>>8&255,U>>8&255)<<8|He(w>>0&255,U>>0&255))>>>0};var Tb=C.PredictorAdd0;C.PredictorAdd1=ct,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var Sh=C.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Ix,js=C.ColorIndexInverseTransform,Kd=C.MapARGB,Dx=C.VP8LColorIndexInverseTransformAlpha,Mx=C.MapAlpha,ic=C.VP8LPredictorsAdd=[];ic.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var fu,Ri,hi,sc,yl,wl,Jd,_l,On,Ah,pi,Ss,Zd,Fx,Ch,hu,pu,oc,mu,Qd,xu,lc,Eh,As,Cs,Yr,Kr,Pn,ea=i(511),Nl=i(2041),kh=i(225),e0=i(767),Rx=0,Ob=Nl,Lx=kh,rs=e0,Es=ea,Bx=0,$x=1,P3=2,zx=3,Ux=4,Pb=5,I3=6,Ib=7,Db=8,Hx=9,Mb=10,tL=[2,3,7],rL=[3,3,11],D3=[280,256,256,256,40],nL=[0,1,1,1,0],aL=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],iL=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sL=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oL=8,Fb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Th=null,lL=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cL=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],M3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uL=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dL=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fL=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hL=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cc=[],ro=[],jl=[],pL=1,F3=2,uc=[],ks=[];Ge("UpsampleRgbLinePair",ur,3),Ge("UpsampleBgrLinePair",pn,3),Ge("UpsampleRgbaLinePair",to,4),Ge("UpsampleBgraLinePair",ga,4),Ge("UpsampleArgbLinePair",Ga,4),Ge("UpsampleRgba4444LinePair",zn,2),Ge("UpsampleRgb565LinePair",bn,2);var mL=C.UpsampleRgbLinePair,xL=C.UpsampleBgrLinePair,R3=C.UpsampleRgbaLinePair,L3=C.UpsampleBgraLinePair,B3=C.UpsampleArgbLinePair,$3=C.UpsampleRgba4444LinePair,gL=C.UpsampleRgb565LinePair,Wx=16,Vx=1<<Wx-1,Oh=-227,Lb=482,z3=6,vL=(256<<z3)-1,U3=0,bL=i(256),yL=i(256),wL=i(256),_L=i(256),NL=i(Lb-Oh),jL=i(Lb-Oh);Mo("YuvToRgbRow",ur,3),Mo("YuvToBgrRow",pn,3),Mo("YuvToRgbaRow",to,4),Mo("YuvToBgraRow",ga,4),Mo("YuvToArgbRow",Ga,4),Mo("YuvToRgba4444Row",zn,2),Mo("YuvToRgb565Row",bn,2);var H3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qx=[0,2,8],SL=[8,7,6,4,4,2,2,2,1,1,1,1],AL=1;this.WebPDecodeRGBA=function(w,A,D,U,Y){var Z=$x,ee=new Hd,te=new Zi;ee.ba=te,te.S=Z,te.width=[te.width],te.height=[te.height];var ne=te.width,fe=te.height,Ce=new Ks;if(Ce==null||w==null)var Le=2;else t(Ce!=null),Le=Vd(w,A,D,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Le!=0?ne=0:(ne!=null&&(ne[0]=Ce.width[0]),fe!=null&&(fe[0]=Ce.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],U!=null&&(U[0]=te.width),Y!=null&&(Y[0]=te.height);e:{if(U=new Po,(Y=new xh).data=w,Y.w=A,Y.ha=D,Y.kd=1,A=[0],t(Y!=null),((w=Vd(Y.data,Y.w,Y.ha,null,null,null,A,null,Y))==0||w==7)&&A[0]&&(w=4),(A=w)==0){if(t(ee!=null),U.data=Y.data,U.w=Y.w+Y.offset,U.ha=Y.ha-Y.offset,U.put=_s,U.ac=Qn,U.bc=Ns,U.ma=ee,Y.xa){if((w=Ve())==null){ee=1;break e}if(function(Be,Pe){var Ze=[0],qe=[0],Ee=[0];t:for(;;){if(Be==null)return 0;if(Pe==null)return Be.a=2,0;if(Be.l=Pe,Be.a=0,J(Be.m,Pe.data,Pe.w,Pe.ha),!Tt(Be.m,Ze,qe,Ee)){Be.a=3;break t}if(Be.xb=F3,Pe.width=Ze[0],Pe.height=qe[0],!Fe(Ze[0],qe[0],1,Be,null))break t;return 1}return t(Be.a!=0),0}(w,U)){if(U=(A=qd(U.width,U.height,ee.Oa,ee.ba))==0){t:{U=w;r:for(;;){if(U==null){U=0;break t}if(t(U.s.yc!=null),t(U.s.Ya!=null),t(0<U.s.Wb),t((D=U.l)!=null),t((Y=D.ma)!=null),U.xb!=0){if(U.ca=Y.ba,U.tb=Y.tb,t(U.ca!=null),!_h(Y.Oa,D,zx)){U.a=2;break r}if(!ze(U,D.width)||D.da)break r;if((D.da||xr(U.ca.S))&&De(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&De()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!Oe(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!ge(U,U.V,U.Ba,U.c,U.i,D.o,pe))break r;Y.Dc=U.Ma,U=1;break t}t(U.a!=0),U=0}U=!U}U&&(A=w.a)}else A=w.a}else{if((w=new es)==null){ee=1;break e}if(w.Fa=Y.na,w.P=Y.P,w.qc=Y.Sa,gx(w,U)){if((A=qd(U.width,U.height,ee.Oa,ee.ba))==0){if(w.Aa=0,D=ee.Oa,t((Y=w)!=null),D!=null){if(0<(ne=0>(ne=D.Md)?0:100<ne?255:255*ne/100)){for(fe=Ce=0;4>fe;++fe)12>(Le=Y.pb[fe]).lc&&(Le.ia=ne*SL[0>Le.lc?0:Le.lc]>>3),Ce|=Le.ia;Ce&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=D.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}fb(w,U)||(A=w.a)}}else A=w.a}A==0&&ee.Oa!=null&&ee.Oa.fd&&(A=Nh(ee.ba))}ee=A}Z=ee!=0?null:11>Z?te.f.RGBA.eb:te.f.kb.y}else Z=null;return Z};var W3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,P){for(var M="",k=0;k<4;k++)M+=String.fromCharCode(C[P++]);return M}function d(C,P){return(C[P+0]<<0|C[P+1]<<8|C[P+2]<<16)>>>0}function f(C,P){return(C[P+0]<<0|C[P+1]<<8|C[P+2]<<16|C[P+3]<<24)>>>0}new c;var h=[0],p=[0],m=[],x=new c,g=e,v=function(C,P){var M={},k=0,E=!1,R=0,H=0;if(M.frames=[],!function(I,B,z,q){for(var se=0;se<q;se++)if(I[B+se]!=z.charCodeAt(se))return!0;return!1}(C,P,"RIFF",4)){var G,L;for(f(C,P+=4),P+=8;P<C.length;){var V=u(C,P),J=f(C,P+=4);P+=4;var W=J+(1&J);switch(V){case"VP8 ":case"VP8L":M.frames[k]===void 0&&(M.frames[k]={}),(O=M.frames[k]).src_off=E?H:P-8,O.src_size=R+J+8,k++,E&&(E=!1,R=0,H=0);break;case"VP8X":(O=M.header={}).feature_flags=C[P];var ae=P+4;O.canvas_width=1+d(C,ae),ae+=3,O.canvas_height=1+d(C,ae),ae+=3;break;case"ALPH":E=!0,R=W+8,H=P-8;break;case"ANIM":(O=M.header).bgcolor=f(C,P),ae=P+4,O.loop_count=(G=C)[(L=ae)+0]<<0|G[L+1]<<8,ae+=2;break;case"ANMF":var ve,O;(O=M.frames[k]={}).offset_x=2*d(C,P),P+=3,O.offset_y=2*d(C,P),P+=3,O.width=1+d(C,P),P+=3,O.height=1+d(C,P),P+=3,O.duration=d(C,P),P+=3,ve=C[P++],O.dispose=1&ve,O.blend=ve>>1&1}V!="ANMF"&&(P+=W)}return M}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var _=0;_<b.length&&b[_].blend!=0;_++);}var S=b[0],N=x.WebPDecodeRGBA(g,S.src_off,S.src_size,p,h);S.rgba=N,S.imgwidth=p[0],S.imgheight=h[0];for(var j=0;j<p[0]*h[0]*4;j++)m[j]=N[j];return this.width=p,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof U_=="function"},r=function(h,p,m,x){var g=4,v=o;switch(x){case e.image_compression.FAST:g=1,v=i;break;case e.image_compression.MEDIUM:g=6,v=l;break;case e.image_compression.SLOW:g=9,v=c}h=n(h,p,m,v);var y=U_(h,{level:g});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,m,x){for(var g,v,y,b=h.length/p,_=new Uint8Array(h.length+b),S=d(),N=0;N<b;N+=1){if(y=N*p,g=h.subarray(y,y+p),x)_.set(x(g,m,v),y+N);else{for(var j,C=S.length,P=[];j<C;j+=1)P[j]=S[j](g,m,v);var M=f(P.concat());_.set(P[M],y+N)}v=g}return _},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var m,x=[],g=h.length;x[0]=1;for(var v=0;v<g;v+=1)m=h[v-p]||0,x[v+1]=h[v]-m+256&255;return x},o=function(h,p,m){var x,g=[],v=h.length;g[0]=2;for(var y=0;y<v;y+=1)x=m&&m[y]||0,g[y+1]=h[y]-x+256&255;return g},l=function(h,p,m){var x,g,v=[],y=h.length;v[0]=3;for(var b=0;b<y;b+=1)x=h[b-p]||0,g=m&&m[b]||0,v[b+1]=h[b]+256-(x+g>>>1)&255;return v},c=function(h,p,m){var x,g,v,y,b=[],_=h.length;b[0]=4;for(var S=0;S<_;S+=1)x=h[S-p]||0,g=m&&m[S]||0,v=m&&m[S-p]||0,y=u(x,g,v),b[S+1]=h[S]-y+256&255;return b},u=function(h,p,m){if(h===p&&p===m)return h;var x=Math.abs(p-m),g=Math.abs(h-m),v=Math.abs(h+p-m-m);return x<=g&&x<=v?h:g<=v?p:m},d=function(){return[a,i,o,l,c]},f=function(h){var p=h.map(function(m){return m.reduce(function(x,g){return x+Math.abs(g)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,m,x){var g,v,y,b,_,S,N,j,C,P,M,k,E,R,H,G=this.decode.FLATE_DECODE,L="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new pSe(h)).imgData,v=y.bits,g=y.colorSpace,_=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){C=(j=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,M=new Uint8Array(C*y.colors),P=new Uint8Array(C);var V,J=y.pixelBitlength-y.bits;for(R=0,H=0;R<C;R++){for(E=j[R],V=0;V<J;)M[H++]=E>>>V&255,V+=y.bits;P[R]=E>>>V&255}}if(y.bits===16){C=(j=new Uint32Array(y.decodePixels().buffer)).length,M=new Uint8Array(C*(32/y.pixelBitlength)*y.colors),P=new Uint8Array(C*(32/y.pixelBitlength)),k=y.colors>1,R=0,H=0;for(var W=0;R<C;)E=j[R++],M[H++]=E>>>0&255,k&&(M[H++]=E>>>16&255,E=j[R++],M[H++]=E>>>0&255),P[W++]=E>>>16&255;v=8}x!==e.image_compression.NONE&&t()?(h=r(M,y.width*y.colors,y.colors,x),N=r(P,y.width,1,x)):(h=M,N=P,G=void 0)}if(y.colorType===3&&(g=this.color_spaces.INDEXED,S=y.palette,y.transparency.indexed)){var ae=y.transparency.indexed,ve=0;for(R=0,C=ae.length;R<C;++R)ve+=ae[R];if((ve/=255)===C-1&&ae.indexOf(0)!==-1)b=[ae.indexOf(0)];else if(ve!==C){for(j=y.decodePixels(),P=new Uint8Array(j.length),R=0,C=j.length;R<C;R++)P[R]=ae[j[R]];N=r(P,y.width,1)}}var O=function(I){var B;switch(I){case e.image_compression.FAST:B=11;break;case e.image_compression.MEDIUM:B=13;break;case e.image_compression.SLOW:B=14;break;default:B=12}return B}(x);return G===this.decode.FLATE_DECODE&&(L="/Predictor "+O+" "),L+="/Colors "+_+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:m,data:h,index:p,filter:G,decodeParameters:L,transparency:b,palette:S,sMask:N,predictor:O,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:g}}}})(Ct.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new mSe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new pw(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Ct.API),lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){qr.log("bit decode error:"+r)}},lo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},lo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},lo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},lo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},lo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},lo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},lo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},lo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new lo(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new pw(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Ct.API),z8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new z8(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new pw(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Ct.API),Ct.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,o[c++]=p}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ct.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},g0=Ct.API,V1=g0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,m=0,x=l[0]||c,g=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&Fr(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,g.push((l[n]||x)/c+h)),m=n;return g},R8=g0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return g0.processArabic&&(e=g0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:V1.apply(this,arguments).reduce(function(i,o){return i+o},0)},L8=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},B8=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,m=0,x=e.split(" "),g=V1.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),y=[];x.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(S,N){return(N&&S.length?`
`:"")+S})):y.push(_[0])}),x=y,c=R8.apply(this,[v,r])}for(i=0,o=x.length;i<o;i++){var b=0;if(n=x[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(m=(a=V1.apply(this,[n,r])).reduce(function(_,S){return _+S},0))>t||b){if(m>t){for(l=L8.apply(this,[n,a,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);m=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,S){return _+S},0)}else d=[n];f.push(d),h=m+c,p=g}else d.push(n),h+=p+m,p=g}return u=c?function(_,S){return(S?v:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},g0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(B8.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,p,m,x,g=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=i(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),x="-"):(m=i(h).slice(2),x=""),m=x+m.slice(0,-1)+n[m.slice(-1)];else{if(Fr(h)!=="object")throw new Error("Don't know what to do with value type "+Fr(h)+".");m=o(h)}g.push(p+m)}return g.push("}"),g.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,x,g={},v=1,y=g,b=[],_="",S="",N=f.length-1,j=1;j<N;j+=1)(x=f[j])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(b.push([y,m]),y={},m=void 0):x=="}"?((p=b.pop())[0][p[1]]=y,m=void 0,y=p[0]):x=="-"?v=-1:m===void 0?r.hasOwnProperty(x)?(_+=r[x],m=parseInt(_,16)*v,v=1,_=""):_+=x:r.hasOwnProperty(x)?(S+=r[x],y[m]=parseInt(S,16)*v,v=1,m=void 0,S=""):S+=x;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Ct.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Pp(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ct),function(e){function t(){return(Ft.canvg?Promise.resolve(Ft.canvg):ol(()=>import("./index.es-BB7awD-F.js"),__vite__mapDeps([0,1]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ct.API.addSvgAsImage=function(r,n,a,i,o,l,c,u){if(isNaN(n)||isNaN(a))throw qr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw qr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),Ct.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ct.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(m,x){var g,v=!1;for(g=0;g<m.length;g+=1)m[g]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Fr(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,x=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?x.push("/"+m+" /"+r[m].value):x.push("/"+m+" "+r[m].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ct.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(p,m){return p-m})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var x=u();d({data:p,addLength1:!0,objectId:x}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+C0(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+C0(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+C0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+C0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+C0(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,m=f.fonts,x=p,g="",v=0,y="",b=m[x].encoding;if(m[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,x=p,Array.isArray(l)&&(y=l[0]),v=0;v<y.length;v+=1)m[x].metadata.hasOwnProperty("cmap")&&(o=m[x].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),o||y[v].charCodeAt(0)<256&&m[x].metadata.hasOwnProperty("Unicode")?g+=y[v]:g+="";var _="";return parseInt(x.slice(1))<14||b==="WinAnsiEncoding"?_=h(g,x).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(_=r(g,m[x])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Ct),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ct.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var _=function(k){var E=k.charCodeAt(),R=E>>8,H=x[R];return H!==void 0?f[256*H+(255&E)]:R===252||R===253?"AL":v.test(R)?"L":R===8?"R":"N"},S=function(k){for(var E,R=0;R<k.length;R++){if((E=_(k.charAt(R)))==="L")return!1;if(E==="R")return!0}return!1},N=function(k,E,R,H){var G,L,V,J,W=E[H];switch(W){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(W="AN");break;case"AL":y=!0,W="R";break;case"WS":W="N";break;case"CS":H<1||H+1>=E.length||(G=R[H-1])!=="EN"&&G!=="AN"||(L=E[H+1])!=="EN"&&L!=="AN"?W="N":y&&(L="AN"),W=L===G?L:"N";break;case"ES":W=(G=H>0?R[H-1]:"B")==="EN"&&H+1<E.length&&E[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&R[H-1]==="EN"){W="EN";break}if(y){W="N";break}for(V=H+1,J=E.length;V<J&&E[V]==="ET";)V++;W=V<J&&E[V]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(J=E.length,V=H+1;V<J&&E[V]==="NSM";)V++;if(V<J){var ae=k[H],ve=ae>=1425&&ae<=2303||ae===64286;if(G=E[V],ve&&(G==="R"||G==="AL")){W="R";break}}}W=H<1||(G=E[H-1])==="B"?"N":R[H-1];break;case"B":y=!1,a=!0,W=b;break;case"S":i=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":W="N"}return W},j=function(k,E,R){var H=k.split("");return R&&C(H,R,{hiLevel:b}),H.reverse(),E&&E.reverse(),H.join("")},C=function(k,E,R){var H,G,L,V,J,W=-1,ae=k.length,ve=0,O=[],I=b?p:h,B=[];for(y=!1,a=!1,i=!1,G=0;G<ae;G++)B[G]=_(k[G]);for(L=0;L<ae;L++){if(J=ve,O[L]=N(k,B,O,L),H=240&(ve=I[J][m[O[L]]]),ve&=15,E[L]=V=I[ve][5],H>0)if(H===16){for(G=W;G<L;G++)E[G]=1;W=-1}else W=-1;if(I[ve][6])W===-1&&(W=L);else if(W>-1){for(G=W;G<L;G++)E[G]=V;W=-1}B[L]==="B"&&(E[L]=0),R.hiLevel|=V}i&&function(z,q,se){for(var xe=0;xe<se;xe++)if(z[xe]==="S"){q[xe]=b;for(var ie=xe-1;ie>=0&&z[ie]==="WS";ie--)q[ie]=b}}(B,E,ae)},P=function(k,E,R,H,G){if(!(G.hiLevel<k)){if(k===1&&b===1&&!a)return E.reverse(),void(R&&R.reverse());for(var L,V,J,W,ae=E.length,ve=0;ve<ae;){if(H[ve]>=k){for(J=ve+1;J<ae&&H[J]>=k;)J++;for(W=ve,V=J-1;W<V;W++,V--)L=E[W],E[W]=E[V],E[V]=L,R&&(L=R[W],R[W]=R[V],R[V]=L);ve=J}ve++}}},M=function(k,E,R){var H=k.split(""),G={hiLevel:b};return R||(R=[]),C(H,R,G),function(L,V,J){if(J.hiLevel!==0&&d)for(var W,ae=0;ae<L.length;ae++)V[ae]===1&&(W=g.indexOf(L[ae]))>=0&&(L[ae]=g[W+1])}(H,R,G),P(2,H,E,R,G),P(1,H,E,R,G),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,E,R){if(function(G,L){if(L)for(var V=0;V<G.length;V++)L[V]=V;l===void 0&&(l=S(G)),u===void 0&&(u=S(G))}(k,E),o||!c||u)if(o&&c&&l^u)b=l?1:0,k=j(k,E,R);else if(!o&&c&&u)b=l?1:0,k=M(k,E,R),k=j(k,E);else if(!o||l||c||u){if(o&&!c&&l^u)k=j(k,E),l?(b=0,k=M(k,E,R)):(b=1,k=M(k,E,R),k=j(k,E));else if(o&&l&&!c&&u)b=1,k=M(k,E,R),k=j(k,E);else if(!o&&!c&&l^u){var H=d;l?(b=1,k=M(k,E,R),b=0,d=!1,k=M(k,E,R),d=H):(b=0,k=M(k,E,R),k=j(k,E),b=1,d=!1,k=M(k,E,R),d=H,k=j(k,E))}}else b=0,k=M(k,E,R);else b=l?1:0,k=M(k,E,R);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,l=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new tu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TSe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new xSe(this.contents),this.head=new vSe(this),this.name=new NSe(this),this.cmap=new NF(this),this.toUnicode={},this.hhea=new bSe(this),this.maxp=new jSe(this),this.hmtx=new SSe(this),this.post=new wSe(this),this.os2=new ySe(this),this.loca=new kSe(this),this.glyf=new ASe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ko,tu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),xSe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,h,p,m,x;for(x in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),d=16*p-f,(a=new tu).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*p,u=a.pos+i,l=null,m=[],r)for(h=r[x],a.writeString(x),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),m=m.concat(h),x==="head"&&(l=u),u+=h.length;u%4;)m.push(0),u++;return a.write(m),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=jF.call(r);r.length%4;)r.push(0);for(i=new tu(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),gSe={}.hasOwnProperty,ml=function(e,t){for(var r in t)gSe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ko=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var vSe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new tu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),U8=function(){function e(t,r){var n,a,i,o,l,c,u,d,f,h,p,m,x,g,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var _,S;for(S=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)S.push(t.readUInt16());return S}(),t.pos+=2,x=function(){var _,S;for(S=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)S.push(t.readUInt16());return S}(),u=function(){var _,S;for(S=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)S.push(t.readUInt16());return S}(),d=function(){var _,S;for(S=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)S.push(t.readUInt16());return S}(),a=(this.length-t.pos+this.offset)/2,l=function(){var _,S;for(S=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)S.push(t.readUInt16());return S}(),c=v=0,b=i.length;v<b;c=++v)for(g=i[c],n=y=m=x[c];m<=g?y<=g:y>=g;n=m<=g?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-m)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,m,x,g,v,y,b,_,S,N,j,C,P,M,k,E,R,H,G,L,V,J,W,ae,ve,O,I,B,z,q,se,xe,ie,ye,Te,X;switch(H=new tu,o=Object.keys(t).sort(function(We,Oe){return We-Oe}),r){case"macroman":for(x=0,g=function(){var We=[];for(m=0;m<256;++m)We.push(0);return We}(),y={0:0},i={},G=0,W=o.length;G<W;G++)y[ie=t[a=o[G]]]==null&&(y[ie]=++x),i[a]={old:t[a],new:y[t[a]]},g[a]=y[t[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(g),{charMap:i,subtable:H.data,maxGlyphID:x+1};case"unicode":for(E=[],f=[],b=0,y={},n={},v=u=null,L=0,ae=o.length;L<ae;L++)y[S=t[a=o[L]]]==null&&(y[S]=++b),n[a]={old:S,new:y[S]},l=y[S]-a,v!=null&&l===u||(v&&f.push(v),E.push(a),u=l),v=a;for(v&&f.push(v),f.push(65535),E.push(65535),M=2*(P=E.length),C=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,j=2*P-C,c=[],N=[],p=[],m=V=0,ve=E.length;V<ve;m=++V){if(k=E[m],d=f[m],k===65535){c.push(0),N.push(0);break}if(k-(R=n[k].new)>=32768)for(c.push(0),N.push(2*(p.length+P-m)),a=J=k;k<=d?J<=d:J>=d;a=k<=d?++J:--J)p.push(n[a].new);else c.push(R-k),N.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*P+2*p.length),H.writeUInt16(0),H.writeUInt16(M),H.writeUInt16(C),H.writeUInt16(h),H.writeUInt16(j),se=0,O=f.length;se<O;se++)a=f[se],H.writeUInt16(a);for(H.writeUInt16(0),xe=0,I=E.length;xe<I;xe++)a=E[xe],H.writeUInt16(a);for(ye=0,B=c.length;ye<B;ye++)l=c[ye],H.writeUInt16(l);for(Te=0,z=N.length;Te<z;Te++)_=N[Te],H.writeUInt16(_);for(X=0,q=p.length;X<q;X++)x=p[X],H.writeUInt16(x);return{charMap:n,subtable:H.data,maxGlyphID:b+1}}},e}(),NF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new U8(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=U8.encode(r,n),(i=new tu).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),bSe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),ySe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),wSe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),_Se=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},NSe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,l,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),l=new _Se(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),jSe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),SSe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),jF=[].slice,ASe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new tu(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new ESe(c,d,h,u,f):new CSe(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),CSe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),ESe=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new tu(jF.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),kSe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ml(t,ko),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),TSe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,m,x,g,v;for(a in n=NF.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},v=n.charMap)p[(c=v[a]).old]=c.new;for(m in h=n.maxGlyphID,o)m in p||(p[m]=h++);return d=function(y){var b,_;for(b in _={},y)_[y[b]]=b;return _}(p),f=Object.keys(d).sort(function(y,b){return y-b}),x=function(){var y,b,_;for(_=[],y=0,b=f.length;y<b;y++)l=f[y],_.push(d[l]);return _}(),i=this.font.glyf.encode(o,x,p),u=this.font.loca.encode(i.offsets,x),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();Ct.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const OSe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:lSe,AcroFormAppearance:yt,AcroFormButton:sa,AcroFormCheckBox:Mp,AcroFormChoiceField:Qu,AcroFormComboBox:td,AcroFormEditBox:Ip,AcroFormListBox:ed,AcroFormPasswordField:Fp,AcroFormPushButton:Dp,AcroFormRadioButton:rd,AcroFormTextField:Gc,GState:Fm,ShadingPattern:Lc,TilingPattern:Vu,default:Ct,jsPDF:Ct},Symbol.toStringTag,{value:"Module"}));function PSe(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function ISe(e,t){t===void 0&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var DSe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MSe=function(e){DSe(t,e);function t(r,n){var a=this.constructor,i=e.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),PSe(i,a.prototype),ISe(i),i}return t}(Error),FSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ji=function(e){FSe(t,e);function t(r){r===void 0&&(r=void 0);var n=e.call(this,r)||this;return n.message=r,n}return t.prototype.getKind=function(){var r=this.constructor;return r.kind},t.kind="Exception",t}(MSe),RSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mn=function(e){RSe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArgumentException",t}(Ji),LSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kt=function(e){LSe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t}(Ji),SF=function(){function e(t){if(this.binarizer=t,t===null)throw new kt("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(t,r){return this.binarizer.getBlackRow(t,r)},e.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,r,n,a){var i=this.binarizer.getLuminanceSource().crop(t,r,n,a);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},e}(),BSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jn=function(e){BSe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(Ji),$Se=function(){function e(t){this.source=t}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}(),rn=function(){function e(){}return e.arraycopy=function(t,r,n,a,i){for(;i--;)n[a++]=t[r++]},e.currentTimeMillis=function(){return Date.now()},e}(),zSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y3=function(e){zSe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t}(Ji),USe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H8=function(e){USe(t,e);function t(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=e.call(this,n)||this;return a.index=r,a.message=n,a}return t.kind="ArrayIndexOutOfBoundsException",t}(y3),HSe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ua=function(){function e(){}return e.fill=function(t,r){for(var n=0,a=t.length;n<a;n++)t[n]=r},e.fillWithin=function(t,r,n,a){e.rangeCheck(t.length,r,n);for(var i=r;i<n;i++)t[i]=a},e.rangeCheck=function(t,r,n){if(r>n)throw new kt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new H8(r);if(n>t)throw new H8(n)},e.asList=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t},e.create=function(t,r,n){var a=Array.from({length:t});return a.map(function(i){return Array.from({length:r}).fill(n)})},e.createInt32Array=function(t,r,n){var a=Array.from({length:t});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},e.equals=function(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(var n=0,a=t.length;n<a;n++)if(t[n]!==r[n])return!1;return!0},e.hashCode=function(t){var r,n;if(t===null)return 0;var a=1;try{for(var i=HSe(t),o=i.next();!o.done;o=i.next()){var l=o.value;a=31*a+l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},e.fillUint8Array=function(t,r){for(var n=0;n!==t.length;n++)t[n]=r},e.copyOf=function(t,r){return t.slice(0,r)},e.copyOfUint8Array=function(t,r){if(t.length<=r){var n=new Uint8Array(r);return n.set(t),n}return t.slice(0,r)},e.copyOfRange=function(t,r,n){var a=n-r,i=new Int32Array(a);return rn.arraycopy(t,r,i,0,a),i},e.binarySearch=function(t,r,n){n===void 0&&(n=e.numberComparator);for(var a=0,i=t.length-1;a<=i;){var o=i+a>>1,l=n(r,t[o]);if(l>0)a=o+1;else if(l<0)i=o-1;else return o}return-a-1},e.numberComparator=function(t,r){return t-r},e}(),er=function(){function e(){}return e.numberOfTrailingZeros=function(t){var r;if(t===0)return 32;var n=31;return r=t<<16,r!==0&&(n-=16,t=r),r=t<<8,r!==0&&(n-=8,t=r),r=t<<4,r!==0&&(n-=4,t=r),r=t<<2,r!==0&&(n-=2,t=r),n-(t<<1>>>31)},e.numberOfLeadingZeros=function(t){if(t===0)return 32;var r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r},e.toHexString=function(t){return t.toString(16)},e.toBinaryString=function(t){return String(parseInt(String(t),2))},e.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},e.truncDivision=function(t,r){return Math.trunc(t/r)},e.parseInt=function(t,r){return r===void 0&&(r=void 0),parseInt(t,r)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),Ea=function(){function e(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=e.makeArray(t):this.bits=r)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var r=e.makeArray(t);rn.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},e.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},e.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},e.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},e.prototype.getNextSet=function(t){var r=this.size;if(t>=r)return r;var n=this.bits,a=Math.floor(t/32),i=n[a];i&=~((1<<(t&31))-1);for(var o=n.length;i===0;){if(++a===o)return r;i=n[a]}var l=a*32+er.numberOfTrailingZeros(i);return l>r?r:l},e.prototype.getNextUnset=function(t){var r=this.size;if(t>=r)return r;var n=this.bits,a=Math.floor(t/32),i=~n[a];i&=~((1<<(t&31))-1);for(var o=n.length;i===0;){if(++a===o)return r;i=~n[a]}var l=a*32+er.numberOfTrailingZeros(i);return l>r?r:l},e.prototype.setBulk=function(t,r){this.bits[Math.floor(t/32)]=r},e.prototype.setRange=function(t,r){if(r<t||t<0||r>this.size)throw new kt;if(r!==t){r--;for(var n=Math.floor(t/32),a=Math.floor(r/32),i=this.bits,o=n;o<=a;o++){var l=o>n?0:t&31,c=o<a?31:r&31,u=(2<<c)-(1<<l);i[o]|=u}}},e.prototype.clear=function(){for(var t=this.bits.length,r=this.bits,n=0;n<t;n++)r[n]=0},e.prototype.isRange=function(t,r,n){if(r<t||t<0||r>this.size)throw new kt;if(r===t)return!0;r--;for(var a=Math.floor(t/32),i=Math.floor(r/32),o=this.bits,l=a;l<=i;l++){var c=l>a?0:t&31,u=l<i?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((o[l]&d)!==(n?d:0))return!1}return!0},e.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},e.prototype.appendBits=function(t,r){if(r<0||r>32)throw new kt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((t>>n-1&1)===1)},e.prototype.appendBitArray=function(t){var r=t.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(t.get(n))},e.prototype.xor=function(t){if(this.size!==t.size)throw new kt("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=t.bits[n]},e.prototype.toBytes=function(t,r,n,a){for(var i=0;i<a;i++){for(var o=0,l=0;l<8;l++)this.get(t)&&(o|=1<<7-l),t++;r[n+i]=o}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var o=a[i];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,t[r-i]=o}if(this.size!==n*32){for(var l=n*32-this.size,c=t[0]>>>l,i=1;i<n;i++){var u=t[i];c|=u<<32-l,t[i-1]=c,c=u>>>l}t[n-1]=c}this.bits=t},e.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.size===r.size&&ua.equals(this.bits,r.bits)},e.prototype.hashCode=function(){return 31*this.size+ua.hashCode(this.bits)},e.prototype.toString=function(){for(var t="",r=0,n=this.size;r<n;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var t=[],r=0,n=this.size;r<n;r++)t.push(this.get(r));return t},e}(),Y_;(function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Y_||(Y_={}));const nn=Y_;var WSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),st=function(e){WSe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(Ji),VSe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ir;(function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"})(Ir||(Ir={}));var la=function(){function e(t,r,n){for(var a,i,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=t,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var f=c[u];e.VALUES_TO_ECI.set(f,this)}try{for(var h=VSe(o),p=h.next();!p.done;p=h.next()){var m=p.value;e.NAME_TO_ECI.set(m,this)}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new st("incorect value");var r=e.VALUES_TO_ECI.get(t);if(r===void 0)throw new st("incorect value");return r},e.getCharacterSetECIByName=function(t){var r=e.NAME_TO_ECI.get(t);if(r===void 0)throw new st("incorect value");return r},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.getName()===r.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(Ir.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(Ir.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(Ir.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(Ir.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(Ir.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(Ir.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(Ir.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(Ir.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(Ir.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(Ir.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(Ir.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(Ir.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(Ir.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(Ir.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(Ir.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(Ir.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(Ir.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(Ir.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(Ir.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(Ir.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(Ir.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(Ir.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(Ir.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(Ir.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(Ir.Big5,28,"Big5"),e.GB18030=new e(Ir.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(Ir.EUC_KR,30,"EUC_KR","EUC-KR"),e}(),qSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lg=function(e){qSe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t}(Ji),Hs=function(){function e(){}return e.decode=function(t,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(t,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&t==="ISO-8859-1"},e.encode=function(t,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(t,n):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},e.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},e.encodingName=function(t){return typeof t=="string"?t:t.getName()},e.encodingCharacterSet=function(t){return t instanceof la?t:la.getCharacterSetECIByName(t)},e.decodeFallback=function(t,r){var n=this.encodingCharacterSet(r);if(e.isDecodeFallbackSupported(n)){for(var a="",i=0,o=t.length;i<o;i++){var l=t[i].toString(16);l.length<2&&(l="0"+l),a+="%"+l}return decodeURIComponent(a)}if(n.equals(la.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new lg("Encoding "+this.encodingName(r)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(t){return t.equals(la.UTF8)||t.equals(la.ISO8859_1)||t.equals(la.ASCII)},e.encodeFallback=function(t){for(var r=btoa(unescape(encodeURIComponent(t))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},e}(),dr=function(){function e(){}return e.castAsNonUtf8Char=function(t,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Hs.decode(new Uint8Array([t]),n)},e.guessEncoding=function(t,r){if(r!=null&&r.get(nn.CHARACTER_SET)!==void 0)return r.get(nn.CHARACTER_SET).toString();for(var n=t.length,a=!0,i=!0,o=!0,l=0,c=0,u=0,d=0,f=0,h=0,p=0,m=0,x=0,g=0,v=0,y=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,b=0;b<n&&(a||i||o);b++){var _=t[b]&255;o&&(l>0?_&128?l--:o=!1:_&128&&(_&64?(l++,_&32?(l++,_&16?(l++,_&8?o=!1:d++):u++):c++):o=!1)),a&&(_>127&&_<160?a=!1:_>159&&(_<192||_===215||_===247)&&v++),i&&(f>0?_<64||_===127||_>252?i=!1:f--:_===128||_===160||_>239?i=!1:_>160&&_<224?(h++,m=0,p++,p>x&&(x=p)):_>127?(f++,p=0,m++,m>g&&(g=m)):(p=0,m=0))}return o&&l>0&&(o=!1),i&&f>0&&(i=!1),o&&(y||c+u+d>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||x>=3||g>=3)?e.SHIFT_JIS:a&&i?x===2&&h===2||v*10>=n?e.SHIFT_JIS:e.ISO88591:a?e.ISO88591:i?e.SHIFT_JIS:o?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(l,c,u,d,f,h){if(l==="%%")return"%";if(r[++a]!==void 0){l=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[a];break;case"c":m=r[a][0];break;case"f":m=parseFloat(r[a]).toFixed(l);break;case"p":m=parseFloat(r[a]).toPrecision(l);break;case"e":m=parseFloat(r[a]).toExponential(l);break;case"x":m=parseInt(r[a]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[a],p||10).toPrecision(l)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var x=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";m.length<x;)m=c!==void 0?m+g:g+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,i)},e.getBytes=function(t,r){return Hs.encode(t,r)},e.getCharCode=function(t,r){return r===void 0&&(r=0),t.charCodeAt(r)},e.getCharAt=function(t){return String.fromCharCode(t)},e.SHIFT_JIS=la.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=la.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=la.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}(),Zt=function(){function e(t){t===void 0&&(t=""),this.value=t}return e.prototype.enableDecoding=function(t){return this.encoding=t,this},e.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=dr.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},e.prototype.appendChars=function(t,r,n){for(var a=r;r<r+n;a++)this.append(t[a]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(t){return this.value.charAt(t)},e.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},e.prototype.setCharAt=function(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)},e.prototype.substring=function(t,r){return this.value.substring(t,r)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(t,r){this.value=this.value.substring(0,t)+r+this.value.substring(t)},e}(),ll=function(){function e(t,r,n,a){if(this.width=t,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=t),this.height=r,t<1||r<1)throw new kt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((t+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var r=t.length,n=t[0].length,a=new e(n,r),i=0;i<r;i++)for(var o=t[i],l=0;l<n;l++)o[l]&&a.set(l,i);return a},e.parseFromString=function(t,r,n){if(t===null)throw new kt("stringRepresentation cannot be null");for(var a=new Array(t.length),i=0,o=0,l=-1,c=0,u=0;u<t.length;)if(t.charAt(u)===`
`||t.charAt(u)==="\r"){if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new kt("row lengths do not match");o=i,c++}u++}else if(t.substring(u,u+r.length)===r)u+=r.length,a[i]=!0,i++;else if(t.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new kt("illegal character encountered: "+t.substring(u));if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new kt("row lengths do not match");c++}for(var d=new e(l,c),f=0;f<i;f++)a[f]&&d.set(Math.floor(f%l),Math.floor(f/l));return d},e.prototype.get=function(t,r){var n=r*this.rowSize+Math.floor(t/32);return(this.bits[n]>>>(t&31)&1)!==0},e.prototype.set=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(t&31)&4294967295},e.prototype.unset=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(t&31)&4294967295)},e.prototype.flip=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(t&31)&4294967295},e.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new kt("input matrix dimensions do not match");for(var r=new Ea(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,o=this.height;i<o;i++)for(var l=i*n,c=t.getRow(i,r).getBitArray(),u=0;u<n;u++)a[l+u]^=c[u]},e.prototype.clear=function(){for(var t=this.bits,r=t.length,n=0;n<r;n++)t[n]=0},e.prototype.setRegion=function(t,r,n,a){if(r<0||t<0)throw new kt("Left and top must be nonnegative");if(a<1||n<1)throw new kt("Height and width must be at least 1");var i=t+n,o=r+a;if(o>this.height||i>this.width)throw new kt("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,u=r;u<o;u++)for(var d=u*l,f=t;f<i;f++)c[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},e.prototype.getRow=function(t,r){r==null||r.getSize()<this.width?r=new Ea(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=t*n,o=0;o<n;o++)r.setBulk(o*32,a[i+o]);return r},e.prototype.setRow=function(t,r){rn.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var t=this.getWidth(),r=this.getHeight(),n=new Ea(t),a=new Ea(t),i=0,o=Math.floor((r+1)/2);i<o;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},e.prototype.getEnclosingRectangle=function(){for(var t=this.width,r=this.height,n=this.rowSize,a=this.bits,i=t,o=r,l=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=a[u*n+d];if(f!==0){if(u<o&&(o=u),u>c&&(c=u),d*32<i){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<i&&(i=d*32+h)}if(d*32+31>l){for(var h=31;!(f>>>h);)h--;d*32+h>l&&(l=d*32+h)}}}return l<i||c<o?null:Int32Array.from([i,o,l-i+1,c-o+1])},e.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/t,i=n%t*32,o=r[n],l=0;!(o<<31-l&4294967295);)l++;return i+=l,Int32Array.from([i,a])},e.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/t),i=Math.floor(n%t)*32,o=r[n],l=31;!(o>>>l);)l--;return i+=l,Int32Array.from([i,a])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ua.equals(this.bits,r.bits)},e.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+ua.hashCode(this.bits),t},e.prototype.toString=function(t,r,n){return t===void 0&&(t="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(t,r,n)},e.prototype.buildToString=function(t,r,n){for(var a=new Zt,i=0,o=this.height;i<o;i++){for(var l=0,c=this.width;l<c;l++)a.append(this.get(l,i)?t:r);a.append(n)}return a.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}(),GSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xe=function(e){GSe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(Ji),XSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YSe=function(e){XSe(t,e);function t(r){var n=e.call(this,r)||this;return n.luminances=t.EMPTY,n.buckets=new Int32Array(t.LUMINANCE_BUCKETS),n}return t.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new Ea(i):n.clear(),this.initArrays(i);for(var o=a.getRow(r,this.luminances),l=this.buckets,c=0;c<i;c++)l[(o[c]&255)>>t.LUMINANCE_SHIFT]++;var u=t.estimateBlackPoint(l);if(i<3)for(var c=0;c<i;c++)(o[c]&255)<u&&n.set(c);else for(var d=o[0]&255,f=o[1]&255,c=1;c<i-1;c++){var h=o[c+1]&255;(f*4-d-h)/2<u&&n.set(c),d=f,f=h}return n},t.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new ll(n,a);this.initArrays(n);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(a*l/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;o[h>>t.LUMINANCE_SHIFT]++}for(var p=t.estimateBlackPoint(o),m=r.getMatrix(),l=0;l<a;l++)for(var x=l*n,f=0;f<n;f++){var h=m[x+f]&255;h<p&&i.set(f,l)}return i},t.prototype.createBinarizer=function(r){return new t(r)},t.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<t.LUMINANCE_BUCKETS;a++)n[a]=0},t.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,o=0,l=0;l<n;l++)r[l]>o&&(i=l,o=r[l]),r[l]>a&&(a=r[l]);for(var c=0,u=0,l=0;l<n;l++){var d=l-i,f=r[l]*d*d;f>u&&(c=l,u=f)}if(i>c){var h=i;i=c,c=h}if(c-i<=n/16)throw new Xe;for(var p=c-1,m=-1,l=c-1;l>i;l--){var x=l-i,f=x*x*(c-l)*(a-r[l]);f>m&&(p=l,m=f)}return p<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}($Se),KSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AF=function(e){KSe(t,e);function t(r){var n=e.call(this,r)||this;return n.matrix=null,n}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=t.MINIMUM_DIMENSION&&a>=t.MINIMUM_DIMENSION){var i=r.getMatrix(),o=n>>t.BLOCK_SIZE_POWER;n&t.BLOCK_SIZE_MASK&&o++;var l=a>>t.BLOCK_SIZE_POWER;a&t.BLOCK_SIZE_MASK&&l++;var c=t.calculateBlackPoints(i,o,l,n,a),u=new ll(n,a);t.calculateThresholdForBlock(i,o,l,n,a,c,u),this.matrix=u}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(r){return new t(r)},t.calculateThresholdForBlock=function(r,n,a,i,o,l,c){for(var u=o-t.BLOCK_SIZE,d=i-t.BLOCK_SIZE,f=0;f<a;f++){var h=f<<t.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=t.cap(f,2,a-3),m=0;m<n;m++){var x=m<<t.BLOCK_SIZE_POWER;x>d&&(x=d);for(var g=t.cap(m,2,n-3),v=0,y=-2;y<=2;y++){var b=l[p+y];v+=b[g-2]+b[g-1]+b[g]+b[g+1]+b[g+2]}var _=v/25;t.thresholdBlock(r,x,h,_,i,c)}}},t.cap=function(r,n,a){return r<n?n:r>a?a:r},t.thresholdBlock=function(r,n,a,i,o,l){for(var c=0,u=a*o+n;c<t.BLOCK_SIZE;c++,u+=o)for(var d=0;d<t.BLOCK_SIZE;d++)(r[u+d]&255)<=i&&l.set(n+d,a+c)},t.calculateBlackPoints=function(r,n,a,i,o){for(var l=o-t.BLOCK_SIZE,c=i-t.BLOCK_SIZE,u=new Array(a),d=0;d<a;d++){u[d]=new Int32Array(n);var f=d<<t.BLOCK_SIZE_POWER;f>l&&(f=l);for(var h=0;h<n;h++){var p=h<<t.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,x=255,g=0,v=0,y=f*i+p;v<t.BLOCK_SIZE;v++,y+=i){for(var b=0;b<t.BLOCK_SIZE;b++){var _=r[y+b]&255;m+=_,_<x&&(x=_),_>g&&(g=_)}if(g-x>t.MIN_DYNAMIC_RANGE)for(v++,y+=i;v<t.BLOCK_SIZE;v++,y+=i)for(var b=0;b<t.BLOCK_SIZE;b++)m+=r[y+b]&255}var S=m>>t.BLOCK_SIZE_POWER*2;if(g-x<=t.MIN_DYNAMIC_RANGE&&(S=x/2,d>0&&h>0)){var N=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;x<N&&(S=N)}u[d][h]=S}}return u},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t}(YSe),dx=function(){function e(t,r){this.width=t,this.height=r}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(t,r,n,a){throw new lg("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new lg("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new lg("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),r=new Zt,n=0;n<this.height;n++){for(var a=this.getRow(n,t),i=0;i<this.width;i++){var o=a[i]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},e}(),JSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rb=function(e){JSe(t,e);function t(r){var n=e.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return t.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),o=0;o<i;o++)a[o]=255-(a[o]&255);return a},t.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(r,n,a,i){return new t(this.delegate.crop(r,n,a,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(dx),ZSe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QSe=function(e){ZSe(t,e);function t(r,n){n===void 0&&(n=!1);var a=e.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=t.makeBufferFromCanvasImageData(r,n),a}return t.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return t.toGrayscaleBuffer(a.data,r.width,r.height,n)},t.toGrayscaleBuffer=function(r,n,a,i){i===void 0&&(i=!1);var o=new Uint8ClampedArray(n*a);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var l=0,c=0,u=r.length;l<u;l+=4,c++){var d=void 0,f=r[l+3];if(f===0)d=255;else{var h=r[l],p=r[l+1],m=r[l+2];d=306*h+601*p+117*m+512>>10}o[c]=d}else for(var l=0,c=0,x=r.length;l<x;l+=4,c++){var d=void 0,f=r[l+3];if(f===0)d=255;else{var h=r[l],p=r[l+1],m=r[l+2];d=306*h+601*p+117*m+512>>10}o[c]=255-d}return o},t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new kt("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return e.prototype.crop.call(this,r,n,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},t.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*t.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*l),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*l);return n.width=c,n.height=u,a.translate(c/2,u/2),a.rotate(i),a.drawImage(this.canvas,o/-2,l/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.prototype.invert=function(){return new rb(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}(dx),eAe=function(){function e(t,r,n){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),gi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},vi=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},tAe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nh=function(){function e(t,r,n){r===void 0&&(r=500),this.reader=t,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return gi(this,void 0,void 0,function(){var t,r,n,a,i,o,l,c,u,d,f,h;return vi(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=p.sent(),r=[];try{for(n=tAe(t),a=n.next();!a.done;a=n.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(l=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),u=i.groupId,d={deviceId:l,label:c,kind:o,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},e.prototype.getVideoInputDevices=function(){return gi(this,void 0,void 0,function(){var t;return vi(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),[2,t.map(function(n){return new eAe(n.deviceId,n.label)})]}})})},e.prototype.findDeviceById=function(t){return gi(this,void 0,void 0,function(){var r;return vi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===t})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(t,r){return gi(this,void 0,void 0,function(){return vi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,r){return gi(this,void 0,void 0,function(){var n,a;return vi(this,function(i){switch(i.label){case 0:return this.reset(),t?n={deviceId:{exact:t}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(t,r){return gi(this,void 0,void 0,function(){var n;return vi(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,r){return gi(this,void 0,void 0,function(){var n,a;return vi(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(t,r,n){return gi(this,void 0,void 0,function(){return vi(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(t,r,n)];case 1:return[2,a.sent()]}})})},e.prototype.decodeFromVideoDevice=function(t,r,n){return gi(this,void 0,void 0,function(){var a,i;return vi(this,function(o){switch(o.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromConstraints=function(t,r,n){return gi(this,void 0,void 0,function(){var a;return vi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromStream=function(t,r,n){return gi(this,void 0,void 0,function(){var a;return vi(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(t,r){return gi(this,void 0,void 0,function(){var n;return vi(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,t),this.videoElement=n,this.stream=t,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},e.prototype.playVideoOnLoadAsync=function(t){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(t,function(){return n()})})},e.prototype.playVideoOnLoad=function(t,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)},e.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},e.prototype.tryPlayVideo=function(t){return gi(this,void 0,void 0,function(){return vi(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(t,r){var n=document.getElementById(t);if(!n)throw new Mn("element with id '"+t+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Mn("element with id '"+t+"' must be an "+r+" element");return n},e.prototype.decodeFromImage=function(t,r){if(!t&&!r)throw new Mn("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)},e.prototype.decodeFromVideo=function(t,r){if(!t&&!r)throw new Mn("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)},e.prototype.decodeFromVideoContinuously=function(t,r,n){if(t===void 0&&r===void 0)throw new Mn("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(t,n)},e.prototype.decodeFromImageElement=function(t){if(!t)throw new Mn("An image element must be provided.");this.reset();var r=this.prepareImageElement(t);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},e.prototype.decodeFromVideoElement=function(t){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)},e.prototype.decodeFromVideoElementContinuously=function(t,r){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,r)},e.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new Mn("A video element must be provided.");this.reset();var r=this.prepareVideoElement(t);return this.videoElement=r,r},e.prototype.decodeFromImageUrl=function(t){if(!t)throw new Mn("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=t,n},e.prototype.decodeFromVideoUrl=function(t){if(!t)throw new Mn("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=t,n},e.prototype.decodeFromVideoUrlContinuously=function(t,r){if(!t)throw new Mn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=t,a},e.prototype._decodeOnLoadImage=function(t){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(t,!1,!0).then(n,a)},t.addEventListener("load",r.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(t){return gi(this,void 0,void 0,function(){return vi(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),[4,this.decodeOnce(t)];case 2:return[2,r.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(t,r){return gi(this,void 0,void 0,function(){return vi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),this.decodeContinuously(t,r),[2]}})})},e.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.prototype.prepareImageElement=function(t){var r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r},e.prototype.prepareVideoElement=function(t){var r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.prototype.decodeOnce=function(t,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(o,l){if(a._stopAsyncDecode){l(new Xe("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(t);o(c)}catch(h){var u=r&&h instanceof Xe,d=h instanceof Jn||h instanceof st,f=d&&n;if(u||f)return setTimeout(i,a._timeBetweenDecodingAttempts,o,l);l(h)}};return new Promise(function(o,l){return i(o,l)})},e.prototype.decodeContinuously=function(t,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(t);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof Jn||c instanceof st,l=c instanceof Xe;(o||l)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},e.prototype.decode=function(t){var r=this.createBinaryBitmap(t);return this.decodeBitmap(r)},e.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var r=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),r=!0):this.drawImageOnCanvas(t);var n=this.getCaptureCanvas(t),a=new QSe(n,r),i=new AF(a);return new SF(i)},e.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(t),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(t,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},e.prototype.drawImageOnCanvas=function(t,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},e.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(n=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(n=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}},e.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},e}(),fi=function(){function e(t,r,n,a,i,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=rn.currentTimeMillis()),this.text=t,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,o==null?this.timestamp=rn.currentTimeMillis():this.timestamp=o}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)},e.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},e.prototype.addResultPoints=function(t){var r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){var n=new Array(r.length+t.length);rn.arraycopy(r,0,n,0,r.length),rn.arraycopy(t,0,n,r.length,t.length),this.resultPoints=n}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}(),K_;(function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(K_||(K_={}));const Et=K_;var J_;(function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(J_||(J_={}));const za=J_;var nb=function(){function e(t,r,n,a,i,o){i===void 0&&(i=-1),o===void 0&&(o=-1),this.rawBytes=t,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=t==null?0:8*t.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(t){this.numBits=t},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(t){this.erasures=t},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(t){this.other=t},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}(),lp=function(){function e(){}return e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new kt;return this.logTable[t]},e.addOrSubtract=function(t,r){return t^r},e}(),Xc=function(){function e(t,r){if(r.length===0)throw new kt;this.field=t;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),rn.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var r=this.coefficients,n;if(t===1){n=0;for(var a=0,i=r.length;a!==i;a++){var o=r[a];n=lp.addOrSubtract(n,o)}return n}n=r[0];for(var l=r.length,c=this.field,a=1;a<l;a++)n=lp.addOrSubtract(c.multiply(t,n),r[a]);return n},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new kt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),o=n.length-r.length;rn.arraycopy(n,0,i,0,o);for(var l=o;l<n.length;l++)i[l]=lp.addOrSubtract(r[l-o],n[l]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new kt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=t.coefficients,i=a.length,o=new Int32Array(n+i-1),l=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<i;d++)o[c+d]=lp.addOrSubtract(o[c+d],l.multiply(u,a[d]));return new e(l,o)},e.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,o=0;o<r;o++)a[o]=n.multiply(i[o],t);return new e(n,a)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new kt;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+t),o=this.field,l=0;l<a;l++)i[l]=o.multiply(n[l],r);return new e(o,i)},e.prototype.divide=function(t){if(!this.field.equals(t.field))throw new kt("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new kt("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=t.getCoefficient(t.getDegree()),o=r.inverse(i);a.getDegree()>=t.getDegree()&&!a.isZero();){var l=a.getDegree()-t.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),o),u=t.multiplyByMonomial(l,c),d=r.buildMonomial(l,c);n=n.addOrSubtract(d),a=a.addOrSubtract(u)}return[n,a]},e.prototype.toString=function(){for(var t="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t},e}(),rAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CF=function(e){rAe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArithmeticException",t}(Ji),nAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wi=function(e){nAe(t,e);function t(r,n,a){var i=e.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var o=new Int32Array(n),l=1,c=0;c<n;c++)o[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);i.expTable=o;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[o[c]]=c;return i.logTable=u,i.zero=new Xc(i,Int32Array.from([0])),i.one=new Xc(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(r,n){if(r<0)throw new kt;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Xc(this,a)},t.prototype.inverse=function(r){if(r===0)throw new CF;return this.expTable[this.size-this.logTable[r]-1]},t.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+er.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(r){return r===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(lp),aAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q1=function(e){aAe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReedSolomonException",t}(Ji),iAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fx=function(e){iAe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalStateException",t}(Ji),ab=function(){function e(t){this.field=t}return e.prototype.decode=function(t,r){for(var n=this.field,a=new Xc(n,t),i=new Int32Array(r),o=!0,l=0;l<r;l++){var c=a.evaluateAt(n.exp(l+n.getGeneratorBase()));i[i.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var u=new Xc(n,i),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),l=0;l<p.length;l++){var x=t.length-1-n.log(p[l]);if(x<0)throw new q1("Bad error location");t[x]=Wi.addOrSubtract(t[x],m[l])}},e.prototype.runEuclideanAlgorithm=function(t,r,n){if(t.getDegree()<r.getDegree()){var a=t;t=r,r=a}for(var i=this.field,o=t,l=r,c=i.getZero(),u=i.getOne();l.getDegree()>=(n/2|0);){var d=o,f=c;if(o=l,c=u,o.isZero())throw new q1("r_{i-1} was zero");l=d;for(var h=i.getZero(),p=o.getCoefficient(o.getDegree()),m=i.inverse(p);l.getDegree()>=o.getDegree()&&!l.isZero();){var x=l.getDegree()-o.getDegree(),g=i.multiply(l.getCoefficient(l.getDegree()),m);h=h.addOrSubtract(i.buildMonomial(x,g)),l=l.addOrSubtract(o.multiplyByMonomial(x,g))}if(u=h.multiply(c).addOrSubtract(f),l.getDegree()>=o.getDegree())throw new fx("Division algorithm failed to reduce polynomial?")}var v=u.getCoefficient(0);if(v===0)throw new q1("sigmaTilde(0) was zero");var y=i.inverse(v),b=u.multiplyScalar(y),_=l.multiplyScalar(y);return[b,_]},e.prototype.findErrorLocations=function(t){var r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,o=1;o<i.getSize()&&a<r;o++)t.evaluateAt(o)===0&&(n[a]=i.inverse(o),a++);if(a!==r)throw new q1("Error locator degree does not match number of roots");return n},e.prototype.findErrorMagnitudes=function(t,r){for(var n=r.length,a=new Int32Array(n),i=this.field,o=0;o<n;o++){for(var l=i.inverse(r[o]),c=1,u=0;u<n;u++)if(o!==u){var d=i.multiply(r[u],l),f=d&1?d&-2:d|1;c=i.multiply(c,f)}a[o]=i.multiply(t.evaluateAt(l),i.inverse(c)),i.getGeneratorBase()!==0&&(a[o]=i.multiply(a[o],l))}return a},e}(),Ma;(function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"})(Ma||(Ma={}));var W8=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var r=t.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=e.convertBoolArrayToByteArray(a),o=e.getEncodedData(a),l=new nb(i,o,null,null);return l.setNumBits(a.length),l},e.highLevelDecode=function(t){return this.getEncodedData(t)},e.getEncodedData=function(t){for(var r=t.length,n=Ma.UPPER,a=Ma.UPPER,i="",o=0;o<r;)if(a===Ma.BINARY){if(r-o<5)break;var l=e.readCode(t,o,5);if(o+=5,l===0){if(r-o<11)break;l=e.readCode(t,o,11)+31,o+=11}for(var c=0;c<l;c++){if(r-o<8){o=r;break}var u=e.readCode(t,o,8);i+=dr.castAsNonUtf8Char(u),o+=8}a=n}else{var d=a===Ma.DIGIT?4:5;if(r-o<d)break;var u=e.readCode(t,o,d);o+=d;var f=e.getCharacter(a,u);f.startsWith("CTRL_")?(n=a,a=e.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=a)):(i+=f,a=n)}return i},e.getTable=function(t){switch(t){case"L":return Ma.LOWER;case"P":return Ma.PUNCT;case"M":return Ma.MIXED;case"D":return Ma.DIGIT;case"B":return Ma.BINARY;case"U":default:return Ma.UPPER}},e.getCharacter=function(t,r){switch(t){case Ma.UPPER:return e.UPPER_TABLE[r];case Ma.LOWER:return e.LOWER_TABLE[r];case Ma.MIXED:return e.MIXED_TABLE[r];case Ma.PUNCT:return e.PUNCT_TABLE[r];case Ma.DIGIT:return e.DIGIT_TABLE[r];default:throw new fx("Bad table")}},e.prototype.correctBits=function(t){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Wi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Wi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Wi.AZTEC_DATA_10):(n=12,r=Wi.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=t.length/n;if(i<a)throw new st;for(var o=t.length%n,l=new Int32Array(i),c=0;c<i;c++,o+=n)l[c]=e.readCode(t,o,n);try{var u=new ab(r);u.decode(l,i-a)}catch(g){throw new st(g)}for(var d=(1<<n)-1,f=0,c=0;c<a;c++){var h=l[c];if(h===0||h===d)throw new st;(h===1||h===d-1)&&f++}for(var p=new Array(a*n-f),m=0,c=0;c<a;c++){var h=l[c];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var x=n-1;x>=0;--x)p[m++]=(h&1<<x)!==0}return p},e.prototype.extractBits=function(t){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<i.length;l++)i[l]=l;else for(var c=a+1+2*er.truncDivision(er.truncDivision(a,2)-1,15),u=a/2,d=er.truncDivision(c,2),l=0;l<u;l++){var f=l+er.truncDivision(l,15);i[u-l-1]=d-f-1,i[u+l]=d+f+1}for(var l=0,h=0;l<n;l++){for(var p=(n-l)*4+(r?9:12),m=l*2,x=a-1-m,g=0;g<p;g++)for(var v=g*2,y=0;y<2;y++)o[h+v+y]=t.get(i[m+y],i[m+g]),o[h+2*p+v+y]=t.get(i[m+g],i[x-y]),o[h+4*p+v+y]=t.get(i[x-y],i[x-g]),o[h+6*p+v+y]=t.get(i[x-g],i[m+y]);h+=p*8}return o},e.readCode=function(t,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,t[i]&&(a|=1);return a},e.readByte=function(t,r){var n=t.length-r;return n>=8?e.readCode(t,r,8):e.readCode(t,r,n)<<8-n},e.convertBoolArrayToByteArray=function(t){for(var r=new Uint8Array((t.length+7)/8),n=0;n<r.length;n++)r[n]=e.readByte(t,8*n);return r},e.prototype.totalBitsInLayer=function(t,r){return((r?88:112)+16*t)*t},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}(),_r=function(){function e(){}return e.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},e.distance=function(t,r,n,a){var i=t-n,o=r-a;return Math.sqrt(i*i+o*o)},e.sum=function(t){for(var r=0,n=0,a=t.length;n!==a;n++){var i=t[n];r+=i}return r},e}(),Z_=function(){function e(){}return e.floatToIntBits=function(t){return t},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),jt=function(){function e(t,r){this.x=t,this.y=r}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var r=t;return this.x===r.x&&this.y===r.y}return!1},e.prototype.hashCode=function(){return 31*Z_.floatToIntBits(this.x)+Z_.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(t){var r=this.distance(t[0],t[1]),n=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]),i,o,l;if(n>=r&&n>=a?(o=t[0],i=t[1],l=t[2]):a>=n&&a>=r?(o=t[1],i=t[0],l=t[2]):(o=t[2],i=t[0],l=t[1]),this.crossProductZ(i,o,l)<0){var c=i;i=l,l=c}t[0]=i,t[1]=o,t[2]=l},e.distance=function(t,r){return _r.distance(t.x,t.y,r.x,r.y)},e.crossProductZ=function(t,r,n){var a=r.x,i=r.y;return(n.x-a)*(t.y-i)-(n.y-i)*(t.x-a)},e}(),w3=function(){function e(t,r){this.bits=t,this.points=r}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),sAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oAe=function(e){sAe(t,e);function t(r,n,a,i,o){var l=e.call(this,r,n)||this;return l.compact=a,l.nbDatablocks=i,l.nbLayers=o,l}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(w3),Q_=function(){function e(t,r,n,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=e.INIT_SIZE),n==null&&(n=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Xe}return e.prototype.detect=function(){for(var t=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,o=!0,l=!1,c=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!c)&&r<h;)m=this.containsBlackPoint(n,a,r,!1),m?(r++,o=!0,c=!0):c||r++;if(r>=h){i=!0;break}for(var x=!0;(x||!u)&&a<p;)x=this.containsBlackPoint(t,r,a,!0),x?(a++,o=!0,u=!0):u||a++;if(a>=p){i=!0;break}for(var g=!0;(g||!d)&&t>=0;)g=this.containsBlackPoint(n,a,t,!1),g?(t--,o=!0,d=!0):d||t--;if(t<0){i=!0;break}for(var v=!0;(v||!f)&&n>=0;)v=this.containsBlackPoint(t,r,n,!0),v?(n--,o=!0,f=!0):f||n--;if(n<0){i=!0;break}o&&(l=!0)}if(!i&&l){for(var y=r-t,b=null,_=1;b===null&&_<y;_++)b=this.getBlackPointOnSegment(t,a-_,t+_,a);if(b==null)throw new Xe;for(var S=null,_=1;S===null&&_<y;_++)S=this.getBlackPointOnSegment(t,n+_,t+_,n);if(S==null)throw new Xe;for(var N=null,_=1;N===null&&_<y;_++)N=this.getBlackPointOnSegment(r,n+_,r-_,n);if(N==null)throw new Xe;for(var j=null,_=1;j===null&&_<y;_++)j=this.getBlackPointOnSegment(r,a-_,r-_,a);if(j==null)throw new Xe;return this.centerEdges(j,b,N,S)}else throw new Xe},e.prototype.getBlackPointOnSegment=function(t,r,n,a){for(var i=_r.round(_r.distance(t,r,n,a)),o=(n-t)/i,l=(a-r)/i,c=this.image,u=0;u<i;u++){var d=_r.round(t+u*o),f=_r.round(r+u*l);if(c.get(d,f))return new jt(d,f)}return null},e.prototype.centerEdges=function(t,r,n,a){var i=t.getX(),o=t.getY(),l=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),f=a.getX(),h=a.getY(),p=e.CORR;return i<this.width/2?[new jt(f-p,h+p),new jt(l+p,c+p),new jt(u-p,d-p),new jt(i+p,o-p)]:[new jt(f+p,h+p),new jt(l+p,c-p),new jt(u-p,d+p),new jt(i-p,o-p)]},e.prototype.containsBlackPoint=function(t,r,n,a){var i=this.image;if(a){for(var o=t;o<=r;o++)if(i.get(o,n))return!0}else for(var l=t;l<=r;l++)if(i.get(n,l))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}(),V8=function(){function e(){}return e.checkAndNudgePoints=function(t,r){for(var n=t.getWidth(),a=t.getHeight(),i=!0,o=0;o<r.length&&i;o+=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>a)throw new Xe;i=!1,l===-1?(r[o]=0,i=!0):l===n&&(r[o]=n-1,i=!0),c===-1?(r[o+1]=0,i=!0):c===a&&(r[o+1]=a-1,i=!0)}i=!0;for(var o=r.length-2;o>=0&&i;o-=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>a)throw new Xe;i=!1,l===-1?(r[o]=0,i=!0):l===n&&(r[o]=n-1,i=!0),c===-1?(r[o+1]=0,i=!0):c===a&&(r[o+1]=a-1,i=!0)}},e}(),EF=function(){function e(t,r,n,a,i,o,l,c,u){this.a11=t,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=o,this.a13=l,this.a23=c,this.a33=u}return e.quadrilateralToQuadrilateral=function(t,r,n,a,i,o,l,c,u,d,f,h,p,m,x,g){var v=e.quadrilateralToSquare(t,r,n,a,i,o,l,c),y=e.squareToQuadrilateral(u,d,f,h,p,m,x,g);return y.times(v)},e.prototype.transformPoints=function(t){for(var r=t.length,n=this.a11,a=this.a12,i=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=t[h],m=t[h+1],x=i*p+c*m+f;t[h]=(n*p+o*m+u)/x,t[h+1]=(a*p+l*m+d)/x}},e.prototype.transformPointsWithValues=function(t,r){for(var n=this.a11,a=this.a12,i=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=t.length,p=0;p<h;p++){var m=t[p],x=r[p],g=i*m+c*x+f;t[p]=(n*m+o*x+u)/g,r[p]=(a*m+l*x+d)/g}},e.squareToQuadrilateral=function(t,r,n,a,i,o,l,c){var u=t-n+i-l,d=r-a+o-c;if(u===0&&d===0)return new e(n-t,i-n,t,a-r,o-a,r,0,0,1);var f=n-i,h=l-i,p=a-o,m=c-o,x=f*m-h*p,g=(u*m-h*d)/x,v=(f*d-u*p)/x;return new e(n-t+g*n,l-t+v*l,t,a-r+g*a,c-r+v*c,r,g,v,1)},e.quadrilateralToSquare=function(t,r,n,a,i,o,l,c){return e.squareToQuadrilateral(t,r,n,a,i,o,l,c).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}(),lAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cAe=function(e){lAe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sampleGrid=function(r,n,a,i,o,l,c,u,d,f,h,p,m,x,g,v,y,b,_){var S=EF.quadrilateralToQuadrilateral(i,o,l,c,u,d,f,h,p,m,x,g,v,y,b,_);return this.sampleGridWithTransform(r,n,a,S)},t.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new Xe;for(var o=new ll(n,a),l=new Float32Array(2*n),c=0;c<a;c++){for(var u=l.length,d=c+.5,f=0;f<u;f+=2)l[f]=f/2+.5,l[f+1]=d;i.transformPoints(l),V8.checkAndNudgePoints(r,l);try{for(var f=0;f<u;f+=2)r.get(Math.floor(l[f]),Math.floor(l[f+1]))&&o.set(f/2,c)}catch{throw new Xe}}return o},t}(V8),_3=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new cAe,e}(),$i=function(){function e(t,r){this.x=t,this.y=r}return e.prototype.toResultPoint=function(){return new jt(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),uAe=function(){function e(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(t){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(t){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new oAe(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Xe;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var o=n[(this.shift+i)%4];this.compact?(a<<=7,a+=o>>1&127):(a<<=10,a+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},e.prototype.getRotation=function(t,r){var n=0;t.forEach(function(i,o,l){var c=(i>>r-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(er.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Xe},e.prototype.getCorrectedParameterData=function(t,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,o=new Int32Array(n),l=n-1;l>=0;--l)o[l]=t&15,t>>=4;try{var c=new ab(Wi.AZTEC_PARAM);c.decode(o,i)}catch{throw new Xe}for(var u=0,l=0;l<a;l++)u=(u<<4)+o[l];return u},e.prototype.getBullsEyeCorners=function(t){var r=t,n=t,a=t,i=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(a,o,-1,1),d=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(l,c,u,d))break}r=l,n=c,a=u,i=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Xe;this.compact=this.nbCenterLayers===5;var h=new jt(r.getX()+.5,r.getY()-.5),p=new jt(n.getX()+.5,n.getY()+.5),m=new jt(a.getX()-.5,a.getY()+.5),x=new jt(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,p,m,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var t,r,n,a;try{var i=new Q_(this.image).detect();t=i[0],r=i[1],n=i[2],a=i[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;t=this.getFirstDifferent(new $i(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new $i(o+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new $i(o-7,l+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new $i(o-7,l-7),!1,-1,-1).toResultPoint()}var c=_r.round((t.getX()+a.getX()+r.getX()+n.getX())/4),u=_r.round((t.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new Q_(this.image,15,c,u).detect();t=i[0],r=i[1],n=i[2],a=i[3]}catch{t=this.getFirstDifferent(new $i(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new $i(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new $i(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new $i(c-7,u-7),!1,-1,-1).toResultPoint()}return c=_r.round((t.getX()+a.getX()+r.getX()+n.getX())/4),u=_r.round((t.getY()+a.getY()+r.getY()+n.getY())/4),new $i(c,u)},e.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(t,r,n,a,i){var o=_3.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,u=l/2+this.nbCenterLayers;return o.sampleGrid(t,l,l,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},e.prototype.sampleLine=function(t,r,n){for(var a=0,i=this.distanceResultPoint(t,r),o=i/n,l=t.getX(),c=t.getY(),u=o*(r.getX()-t.getX())/i,d=o*(r.getY()-t.getY())/i,f=0;f<n;f++)this.image.get(_r.round(l+f*u),_r.round(c+f*d))&&(a|=1<<n-f-1);return a},e.prototype.isWhiteOrBlackRectangle=function(t,r,n,a){var i=3;t=new $i(t.getX()-i,t.getY()+i),r=new $i(r.getX()-i,r.getY()-i),n=new $i(n.getX()+i,n.getY()-i),a=new $i(a.getX()+i,a.getY()+i);var o=this.getColor(a,t);if(o===0)return!1;var l=this.getColor(t,r);return l!==o||(l=this.getColor(r,n),l!==o)?!1:(l=this.getColor(n,a),l===o)},e.prototype.getColor=function(t,r){for(var n=this.distancePoint(t,r),a=(r.getX()-t.getX())/n,i=(r.getY()-t.getY())/n,o=0,l=t.getX(),c=t.getY(),u=this.image.get(t.getX(),t.getY()),d=Math.ceil(n),f=0;f<d;f++)l+=a,c+=i,this.image.get(_r.round(l),_r.round(c))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},e.prototype.getFirstDifferent=function(t,r,n,a){for(var i=t.getX()+n,o=t.getY()+a;this.isValid(i,o)&&this.image.get(i,o)===r;)i+=n,o+=a;for(i-=n,o-=a;this.isValid(i,o)&&this.image.get(i,o)===r;)i+=n;for(i-=n;this.isValid(i,o)&&this.image.get(i,o)===r;)o+=a;return o-=a,new $i(i,o)},e.prototype.expandSquare=function(t,r,n){var a=n/(2*r),i=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),l=(t[0].getX()+t[2].getX())/2,c=(t[0].getY()+t[2].getY())/2,u=new jt(l+a*i,c+a*o),d=new jt(l-a*i,c-a*o);i=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),l=(t[1].getX()+t[3].getX())/2,c=(t[1].getY()+t[3].getY())/2;var f=new jt(l+a*i,c+a*o),h=new jt(l-a*i,c-a*o),p=[u,f,d,h];return p},e.prototype.isValid=function(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()},e.prototype.isValidPoint=function(t){var r=_r.round(t.getX()),n=_r.round(t.getY());return this.isValid(r,n)},e.prototype.distancePoint=function(t,r){return _r.distance(t.getX(),t.getY(),r.getX(),r.getY())},e.prototype.distanceResultPoint=function(t,r){return _r.distance(t.getX(),t.getY(),r.getX(),r.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(er.truncDivision(this.nbLayers-4,8)+1)+15},e}(),$v=function(){function e(){}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n=null,a=new uAe(t.getBlackMatrix()),i=null,o=null;try{var l=a.detectMirror(!1);i=l.getPoints(),this.reportFoundResultPoints(r,i),o=new W8().decode(l)}catch(f){n=f}if(o==null)try{var l=a.detectMirror(!0);i=l.getPoints(),this.reportFoundResultPoints(r,i),o=new W8().decode(l)}catch(f){throw n??f}var c=new fi(o.getText(),o.getRawBytes(),o.getNumBits(),i,Et.AZTEC,rn.currentTimeMillis()),u=o.getByteSegments();u!=null&&c.putMetadata(za.BYTE_SEGMENTS,u);var d=o.getECLevel();return d!=null&&c.putMetadata(za.ERROR_CORRECTION_LEVEL,d),c},e.prototype.reportFoundResultPoints=function(t,r){if(t!=null){var n=t.get(nn.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,o){n.foundPossibleResultPoint(a)})}},e.prototype.reset=function(){},e}(),dAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){dAe(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new $v,r)||this}return t})(nh);var pa=function(){function e(){}return e.prototype.decode=function(t,r){try{return this.doDecode(t,r)}catch{var n=r&&r.get(nn.TRY_HARDER)===!0;if(n&&t.isRotateSupported()){var a=t.rotateCounterClockwise(),i=this.doDecode(a,r),o=i.getResultMetadata(),l=270;o!==null&&o.get(za.ORIENTATION)===!0&&(l=l+o.get(za.ORIENTATION)%360),i.putMetadata(za.ORIENTATION,l);var c=i.getResultPoints();if(c!==null)for(var u=a.getHeight(),d=0;d<c.length;d++)c[d]=new jt(u-c[d].getY()-1,c[d].getX());return i}else throw new Xe}},e.prototype.reset=function(){},e.prototype.doDecode=function(t,r){var n=t.getWidth(),a=t.getHeight(),i=new Ea(n),o=r&&r.get(nn.TRY_HARDER)===!0,l=Math.max(1,a>>(o?8:5)),c;o?c=a:c=15;for(var u=Math.trunc(a/2),d=0;d<c;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+l*(h?f:-f);if(p<0||p>=a)break;try{i=t.getBlackRow(p,i)}catch{continue}for(var m=function(y){if(y===1&&(i.reverse(),r&&r.get(nn.NEED_RESULT_POINT_CALLBACK)===!0)){var b=new Map;r.forEach(function(N,j){return b.set(j,N)}),b.delete(nn.NEED_RESULT_POINT_CALLBACK),r=b}try{var _=x.decodeRow(p,i,r);if(y===1){_.putMetadata(za.ORIENTATION,180);var S=_.getResultPoints();S!==null&&(S[0]=new jt(n-S[0].getX()-1,S[0].getY()),S[1]=new jt(n-S[1].getX()-1,S[1].getY()))}return{value:_}}catch{}},x=this,g=0;g<2;g++){var v=m(g);if(typeof v=="object")return v.value}}throw new Xe},e.recordPattern=function(t,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var o=t.getSize();if(r>=o)throw new Xe;for(var l=!t.get(r),c=0,u=r;u<o;){if(t.get(u)!==l)n[c]++;else{if(++c===a)break;n[c]=1,l=!l}u++}if(!(c===a||c===a-1&&u===o))throw new Xe},e.recordPatternInReverse=function(t,r,n){for(var a=n.length,i=t.get(r);r>0&&a>=0;)t.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new Xe;e.recordPattern(t,r+1,n)},e.patternMatchVariance=function(t,r,n){for(var a=t.length,i=0,o=0,l=0;l<a;l++)i+=t[l],o+=r[l];if(i<o)return Number.POSITIVE_INFINITY;var c=i/o;n*=c;for(var u=0,d=0;d<a;d++){var f=t[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/i},e}(),fAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q8=function(e){fAe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),l=a,c=!1,u=6,d=a;d<n;d++)if(r.get(d)!==c)o[i]++;else{if(i===u-1){for(var f=t.MAX_AVG_VARIANCE,h=-1,p=t.CODE_START_A;p<=t.CODE_START_C;p++){var m=pa.patternMatchVariance(o,t.CODE_PATTERNS[p],t.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,h]);l+=o[0]+o[1],o=o.slice(2,o.length),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,c=!c}throw new Xe},t.decodeCode=function(r,n,a){pa.recordPattern(r,a,n);for(var i=t.MAX_AVG_VARIANCE,o=-1,l=0;l<t.CODE_PATTERNS.length;l++){var c=t.CODE_PATTERNS[l],u=this.patternMatchVariance(n,c,t.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,o=l)}if(o>=0)return o;throw new Xe},t.prototype.decodeRow=function(r,n,a){var i=a&&a.get(nn.ASSUME_GS1)===!0,o=t.findStartPattern(n),l=o[2],c=0,u=new Uint8Array(20);u[c++]=l;var d;switch(l){case t.CODE_START_A:d=t.CODE_CODE_A;break;case t.CODE_START_B:d=t.CODE_CODE_B;break;case t.CODE_START_C:d=t.CODE_CODE_C;break;default:throw new st}for(var f=!1,h=!1,p="",m=o[0],x=o[1],g=Int32Array.from([0,0,0,0,0,0]),v=0,y=0,b=l,_=0,S=!0,N=!1,j=!1;!f;){var C=h;switch(h=!1,v=y,y=t.decodeCode(n,g,x),u[c++]=y,y!==t.CODE_STOP&&(S=!0),y!==t.CODE_STOP&&(_++,b+=_*y),m=x,x+=g.reduce(function(V,J){return V+J},0),y){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new st}switch(d){case t.CODE_CODE_A:if(y<64)j===N?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),j=!1;else if(y<96)j===N?p+=String.fromCharCode(y-64):p+=String.fromCharCode(y+64),j=!1;else switch(y!==t.CODE_STOP&&(S=!1),y){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!N&&j?(N=!0,j=!1):N&&j?(N=!1,j=!1):j=!0;break;case t.CODE_SHIFT:h=!0,d=t.CODE_CODE_B;break;case t.CODE_CODE_B:d=t.CODE_CODE_B;break;case t.CODE_CODE_C:d=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_B:if(y<96)j===N?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),j=!1;else switch(y!==t.CODE_STOP&&(S=!1),y){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!N&&j?(N=!0,j=!1):N&&j?(N=!1,j=!1):j=!0;break;case t.CODE_SHIFT:h=!0,d=t.CODE_CODE_A;break;case t.CODE_CODE_A:d=t.CODE_CODE_A;break;case t.CODE_CODE_C:d=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_C:if(y<100)y<10&&(p+="0"),p+=y;else switch(y!==t.CODE_STOP&&(S=!1),y){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_CODE_A:d=t.CODE_CODE_A;break;case t.CODE_CODE_B:d=t.CODE_CODE_B;break;case t.CODE_STOP:f=!0;break}break}C&&(d=d===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var P=x-m;if(x=n.getNextUnset(x),!n.isRange(x,Math.min(n.getSize(),x+(x-m)/2),!1))throw new Xe;if(b-=_*v,b%103!==v)throw new Jn;var M=p.length;if(M===0)throw new Xe;M>0&&S&&(d===t.CODE_CODE_C?p=p.substring(0,M-2):p=p.substring(0,M-1));for(var k=(o[1]+o[0])/2,E=m+P/2,R=u.length,H=new Uint8Array(R),G=0;G<R;G++)H[G]=u[G];var L=[new jt(k,r),new jt(E,r)];return new fi(p,H,0,L,Et.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(pa),hAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},G8=function(e){hAe(t,e);function t(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=e.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return t.prototype.decodeRow=function(r,n,a){var i,o,l,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=t.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{t.recordPattern(n,f,u);var x=t.toNarrowWidePattern(u);if(x<0)throw new Xe;p=t.patternToChar(x),this.decodeRowResult+=p,m=f;try{for(var g=(i=void 0,mw(u)),v=g.next();!v.done;v=g.next()){var y=v.value;f+=y}}catch(R){i={error:R}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var _=mw(u),S=_.next();!S.done;S=_.next()){var y=S.value;b+=y}}catch(R){l={error:R}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}var N=f-m-b;if(f!==h&&N*2<b)throw new Xe;if(this.usingCheckDigit){for(var j=this.decodeRowResult.length-1,C=0,P=0;P<j;P++)C+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(j)!==t.ALPHABET_STRING.charAt(C%43))throw new Jn;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new Xe;var M;this.extendedMode?M=t.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;var k=(d[1]+d[0])/2,E=m+b/2;return new fi(M,null,0,[new jt(k,r),new jt(E,r)],Et.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),o=0,l=i,c=!1,u=n.length,d=i;d<a;d++)if(r.get(d)!==c)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===t.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new Xe},t.toNarrowWidePattern=function(r){var n,a,i=r.length,o=0,l;do{var c=2147483647;try{for(var u=(n=void 0,mw(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<c&&f>o&&(c=f)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}o=c,l=0;for(var h=0,p=0,m=0;m<i;m++){var f=r[m];f>o&&(p|=1<<i-1-m,l++,h+=f)}if(l===3){for(var m=0;m<i&&l>0;m++){var f=r[m];if(f>o&&(l--,f*2>=h))return-1}return p}}while(l>3);return-1},t.patternToChar=function(r){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===r)return t.ALPHABET_STRING.charAt(n);if(r===t.ASTERISK_ENCODING)return"*";throw new Xe},t.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var o=r.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(i+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new st;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new st;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new st;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new st;break}a+=c,i++}else a+=o}return a},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(pa),pAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},X8=function(e){pAe(t,e);function t(){var r=e.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return t.prototype.decodeRow=function(r,n,a){var i,o,l,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{t.recordPattern(n,d,h);var x=this.toPattern(h);if(x<0)throw new Xe;p=this.patternToChar(x),this.decodeRowResult+=p,m=d;try{for(var g=(i=void 0,xw(h)),v=g.next();!v.done;v=g.next()){var y=v.value;d+=y}}catch(P){i={error:P}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var _=xw(h),S=_.next();!S.done;S=_.next()){var y=S.value;b+=y}}catch(P){l={error:P}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}if(d===f||!n.get(d))throw new Xe;if(this.decodeRowResult.length<2)throw new Xe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var N=this.decodeExtended(this.decodeRowResult),j=(u[1]+u[0])/2,C=m+b/2;return new fi(N,null,0,[new jt(j,r),new jt(C,r)],Et.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,o=a,l=!1,c=i.length,u=0,d=a;d<n;d++)if(r.get(d)!==l)i[u]++;else{if(u===c-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,l=!l}throw new Xe},t.prototype.toPattern=function(r){var n,a,i=0;try{for(var o=xw(r),l=o.next();!l.done;l=o.next()){var c=l.value;i+=c}}catch(m){n={error:m}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/i);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},t.prototype.patternToChar=function(r){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===r)return t.ALPHABET_STRING.charAt(n);throw new Xe},t.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var o=r.charAt(i);if(o>="a"&&o<="d"){if(i>=n-1)throw new st;var l=r.charAt(i+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new st;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new st;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new st;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new st;break}a+=c,i++}else a+=o}return a},t.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},t.prototype.checkOneChecksum=function(r,n,a){for(var i=1,o=0,l=n-1;l>=0;l--)o+=i*t.ALPHABET_STRING.indexOf(r.charAt(l)),++i>a&&(i=1);if(r.charAt(n)!==t.ALPHABET_STRING[o%47])throw new Jn},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t}(pa),mAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xAe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Y8=function(e){mAe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return t.prototype.decodeRow=function(r,n,a){var i,o,l=this.decodeStart(n),c=this.decodeEnd(n),u=new Zt;t.decodeMiddle(n,l[1],c[0],u);var d=u.toString(),f=null;a!=null&&(f=a.get(nn.ALLOWED_LENGTHS)),f==null&&(f=t.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var x=xAe(f),g=x.next();!g.done;g=x.next()){var v=g.value;if(h===v){p=!0;break}v>m&&(m=v)}}catch(_){i={error:_}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}if(!p&&h>m&&(p=!0),!p)throw new st;var y=[new jt(l[1],r),new jt(c[0],r)],b=new fi(d,null,0,y,Et.ITF,new Date().getTime());return b},t.decodeMiddle=function(r,n,a,i){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);n<a;){pa.recordPattern(r,n,o);for(var u=0;u<5;u++){var d=2*u;l[u]=o[d],c[u]=o[d+1]}var f=t.decodeDigit(l);i.append(f.toString()),f=this.decodeDigit(c),i.append(f.toString()),o.forEach(function(h){n+=h})}},t.prototype.decodeStart=function(r){var n=t.skipWhiteSpace(r),a=t.findGuardPattern(r,n,t.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},t.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new Xe},t.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new Xe;return a},t.prototype.decodeEnd=function(r){r.reverse();try{var n=t.skipWhiteSpace(r),a=void 0;try{a=t.findGuardPattern(r,n,t.END_PATTERN_REVERSED[0])}catch(o){o instanceof Xe&&(a=t.findGuardPattern(r,n,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},t.findGuardPattern=function(r,n,a){var i=a.length,o=new Int32Array(i),l=r.getSize(),c=!1,u=0,d=n;o.fill(0);for(var f=n;f<l;f++)if(r.get(f)!==c)o[u]++;else{if(u===i-1){if(pa.patternMatchVariance(o,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[d,f];d+=o[0]+o[1],rn.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,c=!c}throw new Xe},t.decodeDigit=function(r){for(var n=t.MAX_AVG_VARIANCE,a=-1,i=t.PATTERNS.length,o=0;o<i;o++){var l=t.PATTERNS[o],c=pa.patternMatchVariance(r,l,t.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=o):c===n&&(a=-1)}if(a>=0)return a%10;throw new Xe},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(pa),gAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tf=function(e){gAe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return t.findStartGuardPattern=function(r){for(var n=!1,a,i=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),a=t.findGuardPattern(r,i,!1,this.START_END_PATTERN,o);var l=a[0];i=a[1];var c=l-(i-l);c>=0&&(n=r.isRange(c,l,!1))}return a},t.checkChecksum=function(r){return t.checkStandardUPCEANChecksum(r)},t.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return t.getStandardUPCEANChecksum(r.substring(0,n-1))===a},t.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new st;a+=o}a*=3;for(var i=n-2;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new st;a+=o}return(1e3-a)%10},t.decodeEnd=function(r,n){return t.findGuardPattern(r,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},t.findGuardPattern=function(r,n,a,i,o){var l=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=i.length,f=a,h=n;h<l;h++)if(r.get(h)!==f)o[c]++;else{if(c===d-1){if(pa.patternMatchVariance(o,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<c-1;m++)o[m]=p[m];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,f=!f}throw new Xe},t.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=i.length,u=0;u<c;u++){var d=i[u],f=pa.patternMatchVariance(n,d,t.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,l=u)}if(l>=0)return l;throw new Xe},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(pa),vAe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bAe=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),o=a.toString(),l=e.parseExtensionString(o),c=[new jt((n[0]+n[1])/2,t),new jt(i,t)],u=new fi(o,null,0,c,Et.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},e.prototype.decodeMiddle=function(t,r,n){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=t.getSize(),c=r[1],u=0,d=0;d<5&&c<l;d++){var f=Tf.decodeDigit(t,o,c,Tf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,vAe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<4-d),d!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(n.length!==5)throw new Xe;var x=this.determineCheckDigit(u);if(e.extensionChecksum(n.toString())!==x)throw new Xe;return c},e.extensionChecksum=function(t){for(var r=t.length,n=0,a=r-2;a>=0;a-=2)n+=t.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=t.charAt(a).charCodeAt(0)-48;return n*=3,n%10},e.prototype.determineCheckDigit=function(t){for(var r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Xe},e.parseExtensionString=function(t){if(t.length!==5)return null;var r=e.parseExtension5String(t);return r==null?null:new Map([[za.SUGGESTED_PRICE,r]])},e.parseExtension5String=function(t){var r;switch(t.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(t.substring(1)),a=(n/100).toString(),i=n%100,o=i<10?"0"+i:i.toString();return r+a+"."+o},e}(),yAe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wAe=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),o=a.toString(),l=e.parseExtensionString(o),c=[new jt((n[0]+n[1])/2,t),new jt(i,t)],u=new fi(o,null,0,c,Et.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},e.prototype.decodeMiddle=function(t,r,n){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=t.getSize(),c=r[1],u=0,d=0;d<2&&c<l;d++){var f=Tf.decodeDigit(t,o,c,Tf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,yAe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<1-d),d!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(n.length!==2)throw new Xe;if(parseInt(n.toString())%4!==u)throw new Xe;return c},e.parseExtensionString=function(t){return t.length!==2?null:new Map([[za.ISSUE_NUMBER,parseInt(t)]])},e}(),_Ae=function(){function e(){}return e.decodeRow=function(t,r,n){var a=Tf.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new bAe;return i.decodeRow(t,r,a)}catch{var o=new wAe;return o.decodeRow(t,r,a)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}(),NAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oa=function(e){NAe(t,e);function t(){var r=e.call(this)||this;r.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var a=t.L_PATTERNS[n-10],i=new Int32Array(a.length),o=0;o<a.length;o++)i[o]=a[a.length-o-1];t.L_AND_G_PATTERNS[n]=i}return r}return t.prototype.decodeRow=function(r,n,a){var i=t.findStartGuardPattern(n),o=a==null?null:a.get(nn.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new jt((i[0]+i[1])/2,r);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(o!=null){var f=new jt(u,r);o.foundPossibleResultPoint(f)}var h=t.decodeEnd(n,u);if(o!=null){var p=new jt((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var m=h[1],x=m+(m-h[0]);if(x>=n.getSize()||!n.isRange(m,x,!1))throw new Xe;var g=d.toString();if(g.length<8)throw new st;if(!t.checkChecksum(g))throw new Jn;var v=(i[1]+i[0])/2,y=(h[1]+h[0])/2,b=this.getBarcodeFormat(),_=[new jt(v,r),new jt(y,r)],S=new fi(g,null,0,_,b,new Date().getTime()),N=0;try{var j=_Ae.decodeRow(r,n,h[1]);S.putMetadata(za.UPC_EAN_EXTENSION,j.getText()),S.putAllMetadata(j.getResultMetadata()),S.addResultPoints(j.getResultPoints()),N=j.getText().length}catch{}var C=a==null?null:a.get(nn.ALLOWED_EAN_EXTENSIONS);if(C!=null){var P=!1;for(var M in C)if(N.toString()===M){P=!0;break}if(!P)throw new Xe}return b===Et.EAN_13||Et.UPC_A,S},t.checkChecksum=function(r){return t.checkStandardUPCEANChecksum(r)},t.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return t.getStandardUPCEANChecksum(r.substring(0,n-1))===a},t.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new st;a+=o}a*=3;for(var i=n-2;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new st;a+=o}return(1e3-a)%10},t.decodeEnd=function(r,n){return t.findGuardPattern(r,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(Tf),jAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},e4=function(e){jAe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return t.prototype.decodeMiddle=function(r,n,a){var i,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=oa.decodeDigit(r,u,f,oa.L_AND_G_PATTERNS);a+=String.fromCharCode(48+m%10);try{for(var x=(i=void 0,K8(u)),g=x.next();!g.done;g=x.next()){var v=g.value;f+=v}}catch(S){i={error:S}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}m>=10&&(h|=1<<5-p)}a=t.determineFirstDigit(a,h);var y=oa.findGuardPattern(r,f,!0,oa.MIDDLE_PATTERN,new Int32Array(oa.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var p=0;p<6&&f<d;p++){var m=oa.decodeDigit(r,u,f,oa.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var b=(l=void 0,K8(u)),_=b.next();!_.done;_=b.next()){var v=_.value;f+=v}}catch(j){l={error:j}}finally{try{_&&!_.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Et.EAN_13},t.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new Xe},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(oa),SAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),J8=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Z8=function(e){SAe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return t.prototype.decodeMiddle=function(r,n,a){var i,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=oa.decodeDigit(r,u,f,oa.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var m=(i=void 0,J8(u)),x=m.next();!x.done;x=m.next()){var g=x.value;f+=g}}catch(_){i={error:_}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}}var v=oa.findGuardPattern(r,f,!0,oa.MIDDLE_PATTERN,new Int32Array(oa.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var h=0;h<4&&f<d;h++){var p=oa.decodeDigit(r,u,f,oa.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var y=(l=void 0,J8(u)),b=y.next();!b.done;b=y.next()){var g=b.value;f+=g}}catch(N){l={error:N}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Et.EAN_8},t}(oa),AAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q8=function(e){AAe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ean13Reader=new e4,r}return t.prototype.getBarcodeFormat=function(){return Et.UPC_A},t.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},t.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},t.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},t.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new fi(n.substring(1),null,null,r.getResultPoints(),Et.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new Xe},t.prototype.reset=function(){this.ean13Reader.reset()},t}(oa),CAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EAe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ek=function(e){CAe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return t.prototype.decodeMiddle=function(r,n,a){var i,o,l=this.decodeMiddleCounters.map(function(g){return g});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],d=0,f=0;f<6&&u<c;f++){var h=t.decodeDigit(r,l,u,t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var p=(i=void 0,EAe(l)),m=p.next();!m.done;m=p.next()){var x=m.value;u+=x}}catch(g){i={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}h>=10&&(d|=1<<5-f)}return t.determineNumSysAndCheckDigit(new Zt(a),d),u},t.prototype.decodeEnd=function(r,n){return t.findGuardPatternWithoutCounters(r,n,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(r){return oa.checkChecksum(t.convertUPCEtoUPCA(r))},t.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw Xe.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Et.UPC_E},t.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),a=new Zt;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(oa),kAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tk=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gw=function(e){kAe(t,e);function t(r){var n=e.call(this)||this,a=r==null?null:r.get(nn.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Et.EAN_13)>-1&&i.push(new e4),a.indexOf(Et.UPC_A)>-1&&i.push(new Q8),a.indexOf(Et.EAN_8)>-1&&i.push(new Z8),a.indexOf(Et.UPC_E)>-1&&i.push(new ek)),i.length===0&&(i.push(new e4),i.push(new Q8),i.push(new Z8),i.push(new ek)),n.readers=i,n}return t.prototype.decodeRow=function(r,n,a){var i,o;try{for(var l=tk(this.readers),c=l.next();!c.done;c=l.next()){var u=c.value;try{var d=u.decodeRow(r,n,a),f=d.getBarcodeFormat()===Et.EAN_13&&d.getText().charAt(0)==="0",h=a==null?null:a.get(nn.POSSIBLE_FORMATS),p=h==null||h.includes(Et.UPC_A);if(f&&p){var m=d.getRawBytes(),x=new fi(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),Et.UPC_A);return x.putAllMetadata(d.getResultMetadata()),x}return d}catch{}}}catch(g){i={error:g}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}throw new Xe},t.prototype.reset=function(){var r,n;try{for(var a=tk(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;o.reset()}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t}(pa),TAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OAe=function(e){TAe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return t.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new Xe;var o=this.codaBarDecodeRow(i.row);if(!o)throw new Xe;return new fi(o,null,0,[new jt(i.left,r),new jt(i.right,r)],Et.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var o=[],l=n[0],c=1,u=1;u<n.length;u++)n[u]===l?c++:(l=n[u],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:a,right:i}},t.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),o=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var l=n.join("");return this.validCodaBarString(l)?l:null},t.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},t}(pa),PAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IAe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pu=function(e){PAe(t,e);function t(){var r=e.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(pa.patternMatchVariance(r,n[a],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return a;throw new Xe},t.count=function(r){return _r.sum(new Int32Array(r))},t.increment=function(r,n){for(var a=0,i=n[0],o=1;o<r.length;o++)n[o]>i&&(i=n[o],a=o);r[a]++},t.decrement=function(r,n){for(var a=0,i=n[0],o=1;o<r.length;o++)n[o]<i&&(i=n[o],a=o);r[a]--},t.isFinderPattern=function(r){var n,a,i=r[0]+r[1],o=i+r[2]+r[3],l=i/o;if(l>=t.MIN_FINDER_PATTERN_RATIO&&l<=t.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=IAe(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<c&&(c=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(pa),zv=function(){function e(t,r){this.value=t,this.checksumPortion=r}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}(),kF=function(){function e(t,r,n,a,i){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new jt(n,i)),this.resultPoints.push(new jt(a,i))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.hashCode=function(){return this.value},e}(),DAe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},M0=function(){function e(){}return e.getRSSvalue=function(t,r,n){var a,i,o=0;try{for(var l=DAe(t),c=l.next();!c.done;c=l.next()){var u=c.value;o+=u}}catch(y){a={error:y}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}for(var d=0,f=0,h=t.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<t[p];m++,f&=~(1<<p)){var x=e.combins(o-m-1,h-p-2);if(n&&f===0&&o-m-(h-p-1)>=h-p-1&&(x-=e.combins(o-m-(h-p),h-p-2)),h-p-1>1){for(var g=0,v=o-m-(h-p-2);v>r;v--)g+=e.combins(o-m-v-1,h-p-3);x-=g*(h-1-p)}else o-m>r&&x--;d+=x}o-=m}return d},e.combins=function(t,r){var n,a;t-r>r?(a=r,n=t-r):(a=t-r,n=r);for(var i=1,o=1,l=t;l>n;l--)i*=l,o<=a&&(i/=o,o++);for(;o<=a;)i/=o,o++;return i},e}(),MAe=function(){function e(){}return e.buildBitArray=function(t){var r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new Ea(n),i=0,o=t[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)l&1<<c&&a.set(i),i++;for(var c=1;c<t.length;++c){for(var u=t[c],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&a.set(i),i++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&a.set(i),i++}return a},e}(),Nu=function(){function e(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}(),N3=function(){function e(t){this.newPosition=t}return e.prototype.getNewPosition=function(){return this.newPosition},e}(),FAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),co=function(e){FAe(t,e);function t(r,n){var a=e.call(this,r)||this;return a.value=n,a}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(N3),RAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ju=function(e){RAe(t,e);function t(r,n,a){var i=e.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(N3),LAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v0=function(e){LAe(t,e);function t(r,n,a){var i=e.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new st;return i.firstDigit=n,i.secondDigit=a,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(N3),G1=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BAe=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var r,n,a,i,o,l,c,u;if(!t)return null;if(t.length<2)throw new Xe;var d=t.substring(0,2);try{for(var f=G1(e.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,p[2],t):e.processFixedAI(2,p[1],t)}}catch(N){r={error:N}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(t.length<3)throw new Xe;var m=t.substring(0,3);try{for(var x=G1(e.THREE_DIGIT_DATA_LENGTH),g=x.next();!g.done;g=x.next()){var p=g.value;if(p[0]===m)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,p[2],t):e.processFixedAI(3,p[1],t)}}catch(N){a={error:N}}finally{try{g&&!g.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}try{for(var v=G1(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=v.next();!y.done;y=v.next()){var p=y.value;if(p[0]===m)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,p[2],t):e.processFixedAI(4,p[1],t)}}catch(N){o={error:N}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}if(t.length<4)throw new Xe;var b=t.substring(0,4);try{for(var _=G1(e.FOUR_DIGIT_DATA_LENGTH),S=_.next();!S.done;S=_.next()){var p=S.value;if(p[0]===b)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,p[2],t):e.processFixedAI(4,p[1],t)}}catch(N){c={error:N}}finally{try{S&&!S.done&&(u=_.return)&&u.call(_)}finally{if(c)throw c.error}}throw new Xe},e.processFixedAI=function(t,r,n){if(n.length<t)throw new Xe;var a=n.substring(0,t);if(n.length<t+r)throw new Xe;var i=n.substring(t,t+r),o=n.substring(t+r),l="("+a+")"+i,c=e.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},e.processVariableAI=function(t,r,n){var a=n.substring(0,t),i;n.length<t+r?i=n.length:i=t+r;var o=n.substring(t,i),l=n.substring(i),c="("+a+")"+o,u=e.parseFieldsInGeneralPurpose(l);return u==null?c:c+u},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}(),cg=function(){function e(t){this.buffer=new Zt,this.information=t}return e.prototype.decodeAllCodes=function(t,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),o=BAe.parseFieldsInGeneralPurpose(i.getNewString());if(o!=null&&t.append(o),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return t.toString()},e.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)},e.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(t,4);return r===0?new v0(this.information.getSize(),v0.FNC1,v0.FNC1):new v0(this.information.getSize(),r-1,v0.FNC1)}var n=this.extractNumericValueFromBitArray(t,7),a=(n-8)/11,i=(n-8)%11;return new v0(t+7,a,i)},e.prototype.extractNumericValueFromBitArray=function(t,r){return e.extractNumericValueFromBitArray(this.information,t,r)},e.extractNumericValueFromBitArray=function(t,r,n){for(var a=0,i=0;i<n;++i)t.get(r+i)&&(a|=1<<n-i-1);return a},e.prototype.decodeGeneralPurposeField=function(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ju(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ju(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var t,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!t)break}while(!t);return r.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var r=void 0;return t.isSecondDigitFNC1()?r=new ju(this.current.getPosition(),this.buffer.toString()):r=new ju(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Nu(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var r=new ju(this.current.getPosition(),this.buffer.toString());return new Nu(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Nu(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var r=new ju(this.current.getPosition(),this.buffer.toString());return new Nu(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Nu(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var r=new ju(this.current.getPosition(),this.buffer.toString());return new Nu(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Nu(!1)},e.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253},e.prototype.decodeIsoIec646=function(t){var r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new co(t+5,co.FNC1);if(r>=5&&r<15)return new co(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<90)return new co(t+7,""+(n+1));if(n>=90&&n<116)return new co(t+7,""+(n+7));var a=this.extractNumericValueFromBitArray(t,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new st}return new co(t+8,i)},e.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63},e.prototype.decodeAlphanumeric=function(t){var r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new co(t+5,co.FNC1);if(r>=5&&r<15)return new co(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,6);if(n>=32&&n<58)return new co(t+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new fx("Decoding invalid alphanumeric value: "+n)}return new co(t+6,a)},e.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0},e}(),TF=function(){function e(t){this.information=t,this.generalDecoder=new cg(t)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}(),$Ae=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vo=function(e){$Ae(t,e);function t(r){return e.call(this,r)||this}return t.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},t.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}t.appendCheckDigit(r,a)},t.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var o=r.charAt(i+n).charCodeAt(0)-48;a+=i&1?o:3*o}a=10-a%10,a===10&&(a=0),r.append(a)},t.GTIN_SIZE=40,t}(TF),zAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UAe=function(e){zAe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){var r=new Zt;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,t.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(vo),HAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WAe=function(e){HAe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){var r=new Zt;return this.getGeneralDecoder().decodeAllCodes(r,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(TF),VAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ug=function(e){VAe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var o=this.checkWeight(i),l=1e5,c=0;c<5;++c)o/l===0&&r.append("0"),l/=10;r.append(o)},t}(vo),qAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OF=function(e){qAe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+ug.GTIN_SIZE+t.WEIGHT_SIZE)throw new Xe;var r=new Zt;return this.encodeCompressedGtin(r,t.HEADER_SIZE),this.encodeCompressedWeight(r,t.HEADER_SIZE+ug.GTIN_SIZE,t.WEIGHT_SIZE),r.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(ug),GAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XAe=function(e){GAe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.addWeightCode=function(r,n){r.append("(3103)")},t.prototype.checkWeight=function(r){return r},t}(OF),YAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KAe=function(e){YAe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},t.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},t}(OF),JAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZAe=function(e){JAe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+vo.GTIN_SIZE)throw new Xe;var r=new Zt;this.encodeCompressedGtin(r,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+vo.GTIN_SIZE,t.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+vo.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(vo),QAe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eCe=function(e){QAe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+vo.GTIN_SIZE)throw new Xe;var r=new Zt;this.encodeCompressedGtin(r,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+vo.GTIN_SIZE,t.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+vo.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+vo.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(vo),tCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jc=function(e){tCe(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Xe;var r=new Zt;return this.encodeCompressedGtin(r,t.HEADER_SIZE),this.encodeCompressedWeight(r,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(r,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),r.toString()},t.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,t.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var o=a%12+1;a/=12;var l=a;l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o),i/10===0&&r.append("0"),r.append(i)}},t.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},t.prototype.checkWeight=function(r){return r%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(ug);function rCe(e){try{if(e.get(1))return new UAe(e);if(!e.get(2))return new WAe(e);var t=cg.extractNumericValueFromBitArray(e,1,4);switch(t){case 4:return new XAe(e);case 5:return new KAe(e)}var r=cg.extractNumericValueFromBitArray(e,1,5);switch(r){case 12:return new ZAe(e);case 13:return new eCe(e)}var n=cg.extractNumericValueFromBitArray(e,1,7);switch(n){case 56:return new jc(e,"310","11");case 57:return new jc(e,"320","11");case 58:return new jc(e,"310","13");case 59:return new jc(e,"320","13");case 60:return new jc(e,"310","15");case 61:return new jc(e,"320","15");case 62:return new jc(e,"310","17");case 63:return new jc(e,"320","17")}}catch(a){throw console.log(a),new fx("unknown decoder: "+e)}}var rk=function(){function e(t,r,n,a){this.leftchar=t,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return this.rightchar==null},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,r){return t instanceof e?e.equalsOrNull(t.leftchar,r.leftchar)&&e.equalsOrNull(t.rightchar,r.rightchar)&&e.equalsOrNull(t.finderpattern,r.finderpattern):!1},e.equalsOrNull=function(t,r){return t===null?r===null:e.equals(t,r)},e.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},e}(),nCe=function(){function e(t,r,n){this.pairs=t,this.rowNumber=r,this.wasReversed=n}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,r){return t instanceof e?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1},e.prototype.checkEqualitity=function(t,r){if(!(!t||!r)){var n;return t.forEach(function(a,i){r.forEach(function(o){a.getLeftChar().getValue()===o.getLeftChar().getValue()&&a.getRightChar().getValue()===o.getRightChar().getValue()&&a.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},e}(),aCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sc=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iCe=function(e){aCe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.pairs=new Array(t.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return t.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(r,n))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof Xe){if(!this.pairs.length)throw new Xe;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Xe},t.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},t.prototype.checkRows=function(r,n){for(var a,i,o=n;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(a=void 0,Sc(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){a={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(l.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(l);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new Xe},t.isValidSequence=function(r){var n,a;try{for(var i=Sc(t.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var l=o.value;if(!(r.length>l.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==l[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},t.prototype.storeRow=function(r,n){for(var a=0,i=!1,o=!1;a<this.rows.length;){var l=this.rows[a];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}i=l.isEquivalent(this.pairs),a++}o||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new nCe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(r,n){var a,i,o,l,c,u;try{for(var d=Sc(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,Sc(h.getPairs())),x=m.next();!x.done;x=m.next()){var g=x.value,v=!1;try{for(var y=(c=void 0,Sc(r)),b=y.next();!b.done;b=y.next()){var _=b.value;if(rk.equals(g,_)){v=!0;break}}}catch(S){c={error:S}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}v||(p=!1)}}catch(S){o={error:S}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}}}}catch(S){a={error:S}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}},t.isPartialRow=function(r,n){var a,i,o,l,c,u;try{for(var d=Sc(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(o=void 0,Sc(r)),x=m.next();!x.done;x=m.next()){var g=x.value,v=!1;try{for(var y=(c=void 0,Sc(h.getPairs())),b=y.next();!b.done;b=y.next()){var _=b.value;if(g.equals(_)){v=!0;break}}}catch(S){c={error:S}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}if(!v){p=!1;break}}}catch(S){o={error:S}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(S){a={error:S}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(r){var n=MAe.buildBitArray(r),a=rCe(n),i=a.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new fi(i,null,null,c,Et.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);i+=c.getLeftChar().getChecksumPortion(),o++;var u=c.getRightChar();u!=null&&(i+=u.getChecksumPortion(),o++)}i%=211;var d=211*(o-4)+i;return d===n.getValue()},t.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},t.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var o,l=!0,c=-1;do this.findNextPair(r,n,c),o=this.parseFoundFinderPattern(r,a,i),o===null?c=t.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var u=this.decodeDataCharacter(r,o,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Xe;var d;try{d=this.decodeDataCharacter(r,o,i,!1)}catch(f){d=null,console.log(f)}return new rk(u,d,o,!0)},t.prototype.isEmptyPair=function(r){return r.length===0},t.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o=r.getSize(),l;if(a>=0)l=a;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;l<o&&(d=!r.get(l),!!d);)l++;for(var f=0,h=l,p=l;p<o;p++)if(r.get(p)!==d)i[f]++;else{if(f===3){if(u&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&t.reverseCounters(i),h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,d=!d}throw new Xe},t.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},t.prototype.parseFoundFinderPattern=function(r,n,a){var i,o,l;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),i=l-this.startEnd[1];var u=this.getDecodeFinderCounters();rn.arraycopy(u,0,u,1,u.length-1),u[0]=i;var d;try{d=this.parseFinderValue(u,t.FINDER_PATTERNS)}catch{return null}return new kF(d,[o,l],o,l,n)},t.prototype.decodeDataCharacter=function(r,n,a,i){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(i)t.recordPatternInReverse(r,n.getStartEnd()[0],o);else{t.recordPattern(r,n.getStartEnd()[1],o);for(var c=0,u=o.length-1;c<u;c++,u--){var d=o[c];o[c]=o[u],o[u]=d}}var f=17,h=_r.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new Xe;for(var m=this.getOddCounts(),x=this.getEvenCounts(),g=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var y=1*o[c]/h,b=y+.5;if(b<1){if(y<.3)throw new Xe;b=1}else if(b>8){if(y>8.7)throw new Xe;b=8}var _=c/2;c&1?(x[_]=b,v[_]=y-b):(m[_]=b,g[_]=y-b)}this.adjustOddEvenCounts(f);for(var S=4*n.getValue()+(a?0:2)+(i?0:1)-1,N=0,j=0,c=m.length-1;c>=0;c--){if(t.isNotA1left(n,a,i)){var C=t.WEIGHTS[S][2*c];j+=m[c]*C}N+=m[c]}for(var P=0,c=x.length-1;c>=0;c--)if(t.isNotA1left(n,a,i)){var C=t.WEIGHTS[S][2*c+1];P+=x[c]*C}var M=j+P;if(N&1||N>13||N<4)throw new Xe;var k=(13-N)/2,E=t.SYMBOL_WIDEST[k],R=9-E,H=M0.getRSSvalue(m,E,!0),G=M0.getRSSvalue(x,R,!1),L=t.EVEN_TOTAL_SUBSET[k],V=t.GSUM[k],J=H*L+G+V;return new zv(J,M)},t.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},t.prototype.adjustOddEvenCounts=function(r){var n=_r.sum(new Int32Array(this.getOddCounts())),a=_r.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;n>13?o=!0:n<4&&(i=!0);var l=!1,c=!1;a>13?c=!0:a<4&&(l=!0);var u=n+a-r,d=(n&1)===1,f=(a&1)===0;if(u===1)if(d){if(f)throw new Xe;o=!0}else{if(!f)throw new Xe;c=!0}else if(u===-1)if(d){if(f)throw new Xe;i=!0}else{if(!f)throw new Xe;l=!0}else if(u===0){if(d){if(!f)throw new Xe;n<a?(i=!0,c=!0):(o=!0,l=!0)}else if(f)throw new Xe}else throw new Xe;if(i){if(o)throw new Xe;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Xe;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(Pu),sCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oCe=function(e){sCe(t,e);function t(r,n,a){var i=e.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(zv),lCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nk=function(e){lCe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return t.prototype.decodeRow=function(r,n,a){var i,o,l,c,u=this.decodePair(n,!1,r,a);t.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,a);t.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=vw(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(l=void 0,vw(this.possibleRightPairs)),x=m.next();!x.done;x=m.next()){var g=x.value;if(g.getCount()>1&&t.checkChecksum(p,g))return t.constructResult(p,g)}}catch(v){l={error:v}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}throw new Xe},t.addOrTally=function(r,n){var a,i;if(n!=null){var o=!1;try{for(var l=vw(r),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}o||r.push(n)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),o=new Zt,l=13-i.length;l>0;l--)o.append("0");o.append(i);for(var c=0,l=0;l<13;l++){var u=o.charAt(l).charCodeAt(0)-48;c+=l&1?u:3*u}c=10-c%10,c===10&&(c=0),o.append(c.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new fi(o.toString(),null,0,[d[0],d[1],f[0],f[1]],Et.RSS_14,new Date().getTime())},t.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},t.prototype.decodePair=function(r,n,a,i){try{var o=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,a,n,o),c=i==null?null:i.get(nn.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new jt(u,a))}var d=this.decodeDataCharacter(r,l,!0),f=this.decodeDataCharacter(r,l,!1);return new oCe(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),l)}catch{return null}},t.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(a)pa.recordPatternInReverse(r,n.getStartEnd()[0],i);else{pa.recordPattern(r,n.getStartEnd()[1]+1,i);for(var l=0,c=i.length-1;l<c;l++,c--){var u=i[l];i[l]=i[c],i[c]=u}}for(var d=a?16:15,f=_r.sum(new Int32Array(i))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<i.length;l++){var g=i[l]/f,v=Math.floor(g+.5);v<1?v=1:v>8&&(v=8);var y=Math.floor(l/2);l&1?(p[y]=v,x[y]=g-v):(h[y]=v,m[y]=g-v)}this.adjustOddEvenCounts(a,d);for(var b=0,_=0,l=h.length-1;l>=0;l--)_*=9,_+=h[l],b+=h[l];for(var S=0,N=0,l=p.length-1;l>=0;l--)S*=9,S+=p[l],N+=p[l];var j=_+3*S;if(a){if(b&1||b>12||b<4)throw new Xe;var C=(12-b)/2,P=t.OUTSIDE_ODD_WIDEST[C],M=9-P,k=M0.getRSSvalue(h,P,!1),E=M0.getRSSvalue(p,M,!0),R=t.OUTSIDE_EVEN_TOTAL_SUBSET[C],H=t.OUTSIDE_GSUM[C];return new zv(k*R+E+H,j)}else{if(N&1||N>10||N<4)throw new Xe;var C=(10-N)/2,P=t.INSIDE_ODD_WIDEST[C],M=9-P,k=M0.getRSSvalue(h,P,!0),E=M0.getRSSvalue(p,M,!1),G=t.INSIDE_ODD_TOTAL_SUBSET[C],H=t.INSIDE_GSUM[C];return new zv(E*G+k+H,j)}},t.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),o=!1,l=0;l<i&&(o=!r.get(l),n!==o);)l++;for(var c=0,u=l,d=l;d<i;d++)if(r.get(d)!==o)a[c]++;else{if(c===3){if(Pu.isFinderPattern(a))return[u,d];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,o=!o}throw new Xe},t.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var o=r.get(i[0]),l=i[0]-1;l>=0&&o!==r.get(l);)l--;l++;var c=i[0]-l,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);rn.arraycopy(u,0,d,1,u.length-1),d[0]=c;var f=this.parseFinderValue(d,t.FINDER_PATTERNS),h=l,p=i[1];return a&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new kF(f,[l,i[1]],h,p,n)},t.prototype.adjustOddEvenCounts=function(r,n){var a=_r.sum(new Int32Array(this.getOddCounts())),i=_r.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,u=!1;r?(a>12?l=!0:a<4&&(o=!0),i>12?u=!0:i<4&&(c=!0)):(a>11?l=!0:a<5&&(o=!0),i>10?u=!0:i<4&&(c=!0));var d=a+i-n,f=(a&1)===(r?1:0),h=(i&1)===1;if(d===1)if(f){if(h)throw new Xe;l=!0}else{if(!h)throw new Xe;u=!0}else if(d===-1)if(f){if(h)throw new Xe;o=!0}else{if(!h)throw new Xe;c=!0}else if(d===0){if(f){if(!h)throw new Xe;a<i?(o=!0,u=!0):(l=!0,c=!0)}else if(h)throw new Xe}else throw new Xe;if(o){if(l)throw new Xe;Pu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Pu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Xe;Pu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Pu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(Pu),cCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F0=function(e){cCe(t,e);function t(r){var n=e.call(this)||this;n.readers=[];var a=r?r.get(nn.POSSIBLE_FORMATS):null,i=r&&r.get(nn.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(nn.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Et.EAN_13)||a.includes(Et.UPC_A)||a.includes(Et.EAN_8)||a.includes(Et.UPC_E))&&n.readers.push(new gw(r)),a.includes(Et.CODE_39)&&n.readers.push(new G8(i,o)),a.includes(Et.CODE_93)&&n.readers.push(new X8),a.includes(Et.CODE_128)&&n.readers.push(new q8),a.includes(Et.ITF)&&n.readers.push(new Y8),a.includes(Et.CODABAR)&&n.readers.push(new OAe),a.includes(Et.RSS_14)&&n.readers.push(new nk),a.includes(Et.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new iCe))),n.readers.length===0&&(n.readers.push(new gw(r)),n.readers.push(new G8),n.readers.push(new X8),n.readers.push(new gw(r)),n.readers.push(new q8),n.readers.push(new Y8),n.readers.push(new nk)),n}return t.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new Xe},t.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},t}(pa),uCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){uCe(t,e);function t(r,n){return r===void 0&&(r=500),e.call(this,new F0(n),r,n)||this}return t})(nh);var ak=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tr=function(){function e(t,r,n){this.ecCodewords=t,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),Ar=function(){function e(t,r){this.count=t,this.dataCodewords=r}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),dCe=function(){function e(t,r,n,a,i,o){var l,c;this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=o;var u=0,d=o.getECCodewords(),f=o.getECBlocks();try{for(var h=ak(f),p=h.next();!p.done;p=h.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(x){l={error:x}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}this.totalCodewords=u}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,r){var n,a;if(t&1||r&1)throw new st;try{for(var i=ak(e.VERSIONS),o=i.next();!o.done;o=i.next()){var l=o.value;if(l.symbolSizeRows===t&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new st},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new Tr(5,new Ar(1,3))),new e(2,12,12,10,10,new Tr(7,new Ar(1,5))),new e(3,14,14,12,12,new Tr(10,new Ar(1,8))),new e(4,16,16,14,14,new Tr(12,new Ar(1,12))),new e(5,18,18,16,16,new Tr(14,new Ar(1,18))),new e(6,20,20,18,18,new Tr(18,new Ar(1,22))),new e(7,22,22,20,20,new Tr(20,new Ar(1,30))),new e(8,24,24,22,22,new Tr(24,new Ar(1,36))),new e(9,26,26,24,24,new Tr(28,new Ar(1,44))),new e(10,32,32,14,14,new Tr(36,new Ar(1,62))),new e(11,36,36,16,16,new Tr(42,new Ar(1,86))),new e(12,40,40,18,18,new Tr(48,new Ar(1,114))),new e(13,44,44,20,20,new Tr(56,new Ar(1,144))),new e(14,48,48,22,22,new Tr(68,new Ar(1,174))),new e(15,52,52,24,24,new Tr(42,new Ar(2,102))),new e(16,64,64,14,14,new Tr(56,new Ar(2,140))),new e(17,72,72,16,16,new Tr(36,new Ar(4,92))),new e(18,80,80,18,18,new Tr(48,new Ar(4,114))),new e(19,88,88,20,20,new Tr(56,new Ar(4,144))),new e(20,96,96,22,22,new Tr(68,new Ar(4,174))),new e(21,104,104,24,24,new Tr(56,new Ar(6,136))),new e(22,120,120,18,18,new Tr(68,new Ar(6,175))),new e(23,132,132,20,20,new Tr(62,new Ar(8,163))),new e(24,144,144,22,22,new Tr(62,new Ar(8,156),new Ar(2,155))),new e(25,8,18,6,16,new Tr(7,new Ar(1,5))),new e(26,8,32,6,14,new Tr(11,new Ar(1,10))),new e(27,12,26,10,24,new Tr(14,new Ar(1,16))),new e(28,12,36,10,16,new Tr(18,new Ar(1,22))),new e(29,16,36,14,16,new Tr(24,new Ar(1,32))),new e(30,16,48,14,22,new Tr(28,new Ar(1,49)))]},e.VERSIONS=e.buildVersions(),e}(),fCe=function(){function e(t){var r=t.getHeight();if(r<8||r>144||r&1)throw new st;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ll(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(t){var r=t.getHeight(),n=t.getWidth();return dCe.getVersionForDimensions(r,n)},e.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,u=!1,d=!1;do if(n===i&&a===0&&!l)t[r++]=this.readCorner1(i,o)&255,n-=2,a+=2,l=!0;else if(n===i-2&&a===0&&o&3&&!c)t[r++]=this.readCorner2(i,o)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&!(o&7)&&!u)t[r++]=this.readCorner3(i,o)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(o&7)===4&&!d)t[r++]=this.readCorner4(i,o)&255,n-=2,a+=2,d=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(t[r++]=this.readUtah(n,a,i,o)&255),n-=2,a+=2;while(n>=0&&a<o);n+=1,a+=3;do n>=0&&a<o&&!this.readMappingMatrix.get(a,n)&&(t[r++]=this.readUtah(n,a,i,o)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<o);if(r!==this.version.getTotalCodewords())throw new st;return t},e.prototype.readModule=function(t,r,n,a){return t<0&&(t+=n,r+=4-(n+4&7)),r<0&&(r+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)},e.prototype.readUtah=function(t,r,n,a){var i=0;return this.readModule(t-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r,n,a)&&(i|=1),i<<=1,this.readModule(t,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t,r,n,a)&&(i|=1),i},e.prototype.readCorner1=function(t,r){var n=0;return this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,1,t,r)&&(n|=1),n<<=1,this.readModule(t-1,2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(2,r-1,t,r)&&(n|=1),n<<=1,this.readModule(3,r-1,t,r)&&(n|=1),n},e.prototype.readCorner2=function(t,r){var n=0;return this.readModule(t-3,0,t,r)&&(n|=1),n<<=1,this.readModule(t-2,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(0,r-4,t,r)&&(n|=1),n<<=1,this.readModule(0,r-3,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n},e.prototype.readCorner3=function(t,r){var n=0;return this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(0,r-3,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-3,t,r)&&(n|=1),n<<=1,this.readModule(1,r-2,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n},e.prototype.readCorner4=function(t,r){var n=0;return this.readModule(t-3,0,t,r)&&(n|=1),n<<=1,this.readModule(t-2,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(2,r-1,t,r)&&(n|=1),n<<=1,this.readModule(3,r-1,t,r)&&(n|=1),n},e.prototype.extractDataRegion=function(t){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new kt("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=r/a|0,l=n/i|0,c=o*a,u=l*i,d=new ll(u,c),f=0;f<o;++f)for(var h=f*a,p=0;p<l;++p)for(var m=p*i,x=0;x<a;++x)for(var g=f*(a+2)+1+x,v=h+x,y=0;y<i;++y){var b=p*(i+2)+1+y;if(t.get(b,g)){var _=m+y;d.set(_,v)}}return d},e}(),ik=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hCe=function(){function e(t,r){this.numDataCodewords=t,this.codewords=r}return e.getDataBlocks=function(t,r){var n,a,i,o,l=r.getECBlocks(),c=0,u=l.getECBlocks();try{for(var d=ik(u),f=d.next();!f.done;f=d.next()){var h=f.value;c+=h.getCount()}}catch(H){n={error:H}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var p=new Array(c),m=0;try{for(var x=ik(u),g=x.next();!g.done;g=x.next())for(var h=g.value,v=0;v<h.getCount();v++){var y=h.getDataCodewords(),b=l.getECCodewords()+y;p[m++]=new e(y,new Uint8Array(b))}}catch(H){i={error:H}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}for(var _=p[0].codewords.length,S=_-l.getECCodewords(),N=S-1,j=0,v=0;v<N;v++)for(var C=0;C<m;C++)p[C].codewords[v]=t[j++];for(var P=r.getVersionNumber()===24,M=P?8:m,C=0;C<M;C++)p[C].codewords[S-1]=t[j++];for(var k=p[0].codewords.length,v=S;v<k;v++)for(var C=0;C<m;C++){var E=P?(C+8)%m:C,R=P&&E>7?v-1:v;p[E].codewords[R]=t[j++]}if(j!==t.length)throw new kt;return p},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),PF=function(){function e(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new kt(""+t);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var o=8-n,l=t<o?t:o,c=o-l,u=255>>8-l<<c;r=(i[a]&u)>>c,t-=l,n+=l,n===8&&(n=0,a++)}if(t>0){for(;t>=8;)r=r<<8|i[a]&255,a++,t-=8;if(t>0){var c=8-t,u=255>>c<<c;r=r<<t|(i[a]&u)>>c,n+=t}}return this.bitOffset=n,this.byteOffset=a,r},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}(),na;(function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"})(na||(na={}));var pCe=function(){function e(){}return e.decode=function(t){var r=new PF(t),n=new Zt,a=new Zt,i=new Array,o=na.ASCII_ENCODE;do if(o===na.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,a);else{switch(o){case na.C40_ENCODE:this.decodeC40Segment(r,n);break;case na.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case na.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case na.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case na.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new st}o=na.ASCII_ENCODE}while(o!==na.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new nb(t,n.toString(),i.length===0?null:i,null)},e.decodeAsciiSegment=function(t,r,n){var a=!1;do{var i=t.readBits(8);if(i===0)throw new st;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),na.ASCII_ENCODE;if(i===129)return na.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&r.append("0"),r.append(""+o)}else switch(i){case 230:return na.C40_ENCODE;case 231:return na.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return na.ANSIX12_ENCODE;case 239:return na.TEXT_ENCODE;case 240:return na.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new st;break}}while(t.available()>0);return na.ASCII_ENCODE},e.decodeC40Segment=function(t,r){var n=!1,a=[],i=0;do{if(t.available()===8)return;var o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),a);for(var l=0;l<3;l++){var c=a[l];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new st;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new st}i=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new st}}}while(t.available()>0)},e.decodeTextSegment=function(t,r){var n=!1,a=[],i=0;do{if(t.available()===8)return;var o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),a);for(var l=0;l<3;l++){var c=a[l];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new st;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new st}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),i=0}else throw new st;break;default:throw new st}}}while(t.available()>0)},e.decodeAnsiX12Segment=function(t,r){var n=[];do{if(t.available()===8)return;var a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),n);for(var i=0;i<3;i++){var o=n[i];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new st;break}}}while(t.available()>0)},e.parseTwoBytes=function(t,r,n){var a=(t<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},e.decodeEdifactSegment=function(t,r){do{if(t.available()<=16)return;for(var n=0;n<4;n++){var a=t.readBits(6);if(a===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(t.available()>0)},e.decodeBase256Segment=function(t,r,n){var a=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),a++),o;if(i===0?o=t.available()/8|0:i<250?o=i:o=250*(i-249)+this.unrandomize255State(t.readBits(8),a++),o<0)throw new st;for(var l=new Uint8Array(o),c=0;c<o;c++){if(t.available()<8)throw new st;l[c]=this.unrandomize255State(t.readBits(8),a++)}n.push(l);try{r.append(Hs.decode(l,dr.ISO88591))}catch(u){throw new fx("Platform does not support required encoding: "+u.message)}},e.unrandomize255State=function(t,r){var n=149*r%255+1,a=t-n;return a>=0?a:a+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],e}(),mCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xCe=function(){function e(){this.rsDecoder=new ab(Wi.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(t){var r,n,a=new fCe(t),i=a.getVersion(),o=a.readCodewords(),l=hCe.getDataBlocks(o,i),c=0;try{for(var u=mCe(l),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getNumDataCodewords()}}catch(b){r={error:b}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(c),p=l.length,m=0;m<p;m++){var x=l[m],g=x.getCodewords(),v=x.getNumDataCodewords();this.correctErrors(g,v);for(var y=0;y<v;y++)h[y*p+m]=g[y]}return pCe.decode(h)},e.prototype.correctErrors=function(t,r){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-r)}catch{throw new Jn}for(var a=0;a<r;a++)t[a]=n[a]},e}(),gCe=function(){function e(t){this.image=t,this.rectangleDetector=new Q_(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Xe;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],o=r[3],l=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(i,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var u=e.sampleGrid(this.image,n,a,i,o,l,c);return new w3(u,[n,a,i,o])},e.shiftPoint=function(t,r,n){var a=(r.getX()-t.getX())/(n+1),i=(r.getY()-t.getY())/(n+1);return new jt(t.getX()+a,t.getY()+i)},e.moveAway=function(t,r,n){var a=t.getX(),i=t.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new jt(a,i)},e.prototype.detectSolid1=function(t){var r=t[0],n=t[1],a=t[3],i=t[2],o=this.transitionsBetween(r,n),l=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),d=o,f=[i,r,n,a];return d>l&&(d=l,f[0]=r,f[1]=n,f[2]=a,f[3]=i),d>c&&(d=c,f[0]=n,f[1]=a,f[2]=i,f[3]=r),d>u&&(f[0]=a,f[1]=i,f[2]=r,f[3]=n),f},e.prototype.detectSolid2=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],o=this.transitionsBetween(r,i),l=e.shiftPoint(n,a,(o+1)*4),c=e.shiftPoint(a,n,(o+1)*4),u=this.transitionsBetween(l,r),d=this.transitionsBetween(c,i);return u<d?(t[0]=r,t[1]=n,t[2]=a,t[3]=i):(t[0]=n,t[1]=a,t[2]=i,t[3]=r),t},e.prototype.correctTopRight=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],o=this.transitionsBetween(r,i),l=this.transitionsBetween(n,i),c=e.shiftPoint(r,n,(l+1)*4),u=e.shiftPoint(a,n,(o+1)*4);o=this.transitionsBetween(c,i),l=this.transitionsBetween(u,i);var d=new jt(i.getX()+(a.getX()-n.getX())/(o+1),i.getY()+(a.getY()-n.getY())/(o+1)),f=new jt(i.getX()+(r.getX()-n.getX())/(l+1),i.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,f)+this.transitionsBetween(u,f);return h>p?d:f},e.prototype.shiftToModuleCenter=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],o=this.transitionsBetween(r,i)+1,l=this.transitionsBetween(a,i)+1,c=e.shiftPoint(r,n,l*4),u=e.shiftPoint(a,n,o*4);o=this.transitionsBetween(c,i)+1,l=this.transitionsBetween(u,i)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var d=(r.getX()+n.getX()+a.getX()+i.getX())/4,f=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=e.moveAway(r,d,f),n=e.moveAway(n,d,f),a=e.moveAway(a,d,f),i=e.moveAway(i,d,f);var h,p;return c=e.shiftPoint(r,n,l*4),c=e.shiftPoint(c,i,o*4),h=e.shiftPoint(n,r,l*4),h=e.shiftPoint(h,a,o*4),u=e.shiftPoint(a,i,l*4),u=e.shiftPoint(u,n,o*4),p=e.shiftPoint(i,a,l*4),p=e.shiftPoint(p,r,o*4),[c,h,u,p]},e.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},e.sampleGrid=function(t,r,n,a,i,o,l){var c=_3.getInstance();return c.sampleGrid(t,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},e.prototype.transitionsBetween=function(t,r){var n=Math.trunc(t.getX()),a=Math.trunc(t.getY()),i=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-a)>Math.abs(i-n);if(l){var c=n;n=a,a=c,c=i,i=o,o=c}for(var u=Math.abs(i-n),d=Math.abs(o-a),f=-u/2,h=a<o?1:-1,p=n<i?1:-1,m=0,x=this.image.get(l?a:n,l?n:a),g=n,v=a;g!==i;g+=p){var y=this.image.get(l?v:g,l?g:v);if(y!==x&&(m++,x=y),f+=d,f>0){if(v===o)break;v+=h,f-=u}}return m},e}(),Uv=function(){function e(){this.decoder=new xCe}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(nn.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decode(i),a=e.NO_POINTS}else{var o=new gCe(t.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),a=o.getPoints()}var l=n.getRawBytes(),c=new fi(n.getText(),l,8*l.length,a,Et.DATA_MATRIX,rn.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(za.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(za.ERROR_CORRECTION_LEVEL,d),c},e.prototype.reset=function(){},e.extractPureBits=function(t){var r=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(r==null||n==null)throw new Xe;var a=this.moduleSize(r,t),i=r[1],o=n[1],l=r[0],c=n[0],u=(c-l+1)/a,d=(o-i+1)/a;if(u<=0||d<=0)throw new Xe;var f=a/2;i+=f,l+=f;for(var h=new ll(u,d),p=0;p<d;p++)for(var m=i+p*a,x=0;x<u;x++)t.get(l+x*a,m)&&h.set(x,p);return h},e.moduleSize=function(t,r){for(var n=r.getWidth(),a=t[0],i=t[1];a<n&&r.get(a,i);)a++;if(a===n)throw new Xe;var o=a-t[0];if(o===0)throw new Xe;return o},e.NO_POINTS=[],e}(),vCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){vCe(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new Uv,r)||this}return t})(nh);var R0;(function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"})(R0||(R0={}));var bCe=function(){function e(t,r,n){this.value=t,this.stringValue=r,this.bits=n,e.FOR_BITS.set(n,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new Mn(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new kt;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(R0.L,"L",1),e.M=new e(R0.M,"M",0),e.Q=new e(R0.Q,"Q",3),e.H=new e(R0.H,"H",2),e}(),yCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},IF=function(){function e(t){this.errorCorrectionLevel=bCe.forBits(t>>3&3),this.dataMask=t&7}return e.numBitsDiffering=function(t,r){return er.bitCount(t^r)},e.decodeFormatInformation=function(t,r){var n=e.doDecodeFormatInformation(t,r);return n!==null?n:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,r^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,r){var n,a,i=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=yCe(e.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var u=c.value,d=u[0];if(d===t||d===r)return new e(u[1]);var f=e.numBitsDiffering(t,d);f<i&&(o=u[1],i=f),t!==r&&(f=e.numBitsDiffering(r,d),f<i&&(o=u[1],i=f))}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return i<=3?new e(o):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}(),wCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$e=function(){function e(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=t,this.ecBlocks=r}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var t,r,n=0,a=this.ecBlocks;try{for(var i=wCe(a),o=i.next();!o.done;o=i.next()){var l=o.value;n+=l.getCount()}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),de=function(){function e(t,r){this.count=t,this.dataCodewords=r}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),_Ce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nd=function(){function e(t,r){for(var n,a,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;var l=0,c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var d=_Ce(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.totalCodewords=l}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},e.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new st;try{return this.getVersionForNumber((t-17)/4)}catch{throw new st}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new kt;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<e.VERSION_DECODE_INFO.length;a++){var i=e.VERSION_DECODE_INFO[a];if(i===t)return e.getVersionForNumber(a+7);var o=IF.numBitsDiffering(t,i);o<r&&(n=a+7,r=o)}return r<=3?e.getVersionForNumber(n):null},e.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),r=new ll(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,o=0;o<n;o++)a===0&&(o===0||o===n-1)||a===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new $e(7,new de(1,19)),new $e(10,new de(1,16)),new $e(13,new de(1,13)),new $e(17,new de(1,9))),new e(2,Int32Array.from([6,18]),new $e(10,new de(1,34)),new $e(16,new de(1,28)),new $e(22,new de(1,22)),new $e(28,new de(1,16))),new e(3,Int32Array.from([6,22]),new $e(15,new de(1,55)),new $e(26,new de(1,44)),new $e(18,new de(2,17)),new $e(22,new de(2,13))),new e(4,Int32Array.from([6,26]),new $e(20,new de(1,80)),new $e(18,new de(2,32)),new $e(26,new de(2,24)),new $e(16,new de(4,9))),new e(5,Int32Array.from([6,30]),new $e(26,new de(1,108)),new $e(24,new de(2,43)),new $e(18,new de(2,15),new de(2,16)),new $e(22,new de(2,11),new de(2,12))),new e(6,Int32Array.from([6,34]),new $e(18,new de(2,68)),new $e(16,new de(4,27)),new $e(24,new de(4,19)),new $e(28,new de(4,15))),new e(7,Int32Array.from([6,22,38]),new $e(20,new de(2,78)),new $e(18,new de(4,31)),new $e(18,new de(2,14),new de(4,15)),new $e(26,new de(4,13),new de(1,14))),new e(8,Int32Array.from([6,24,42]),new $e(24,new de(2,97)),new $e(22,new de(2,38),new de(2,39)),new $e(22,new de(4,18),new de(2,19)),new $e(26,new de(4,14),new de(2,15))),new e(9,Int32Array.from([6,26,46]),new $e(30,new de(2,116)),new $e(22,new de(3,36),new de(2,37)),new $e(20,new de(4,16),new de(4,17)),new $e(24,new de(4,12),new de(4,13))),new e(10,Int32Array.from([6,28,50]),new $e(18,new de(2,68),new de(2,69)),new $e(26,new de(4,43),new de(1,44)),new $e(24,new de(6,19),new de(2,20)),new $e(28,new de(6,15),new de(2,16))),new e(11,Int32Array.from([6,30,54]),new $e(20,new de(4,81)),new $e(30,new de(1,50),new de(4,51)),new $e(28,new de(4,22),new de(4,23)),new $e(24,new de(3,12),new de(8,13))),new e(12,Int32Array.from([6,32,58]),new $e(24,new de(2,92),new de(2,93)),new $e(22,new de(6,36),new de(2,37)),new $e(26,new de(4,20),new de(6,21)),new $e(28,new de(7,14),new de(4,15))),new e(13,Int32Array.from([6,34,62]),new $e(26,new de(4,107)),new $e(22,new de(8,37),new de(1,38)),new $e(24,new de(8,20),new de(4,21)),new $e(22,new de(12,11),new de(4,12))),new e(14,Int32Array.from([6,26,46,66]),new $e(30,new de(3,115),new de(1,116)),new $e(24,new de(4,40),new de(5,41)),new $e(20,new de(11,16),new de(5,17)),new $e(24,new de(11,12),new de(5,13))),new e(15,Int32Array.from([6,26,48,70]),new $e(22,new de(5,87),new de(1,88)),new $e(24,new de(5,41),new de(5,42)),new $e(30,new de(5,24),new de(7,25)),new $e(24,new de(11,12),new de(7,13))),new e(16,Int32Array.from([6,26,50,74]),new $e(24,new de(5,98),new de(1,99)),new $e(28,new de(7,45),new de(3,46)),new $e(24,new de(15,19),new de(2,20)),new $e(30,new de(3,15),new de(13,16))),new e(17,Int32Array.from([6,30,54,78]),new $e(28,new de(1,107),new de(5,108)),new $e(28,new de(10,46),new de(1,47)),new $e(28,new de(1,22),new de(15,23)),new $e(28,new de(2,14),new de(17,15))),new e(18,Int32Array.from([6,30,56,82]),new $e(30,new de(5,120),new de(1,121)),new $e(26,new de(9,43),new de(4,44)),new $e(28,new de(17,22),new de(1,23)),new $e(28,new de(2,14),new de(19,15))),new e(19,Int32Array.from([6,30,58,86]),new $e(28,new de(3,113),new de(4,114)),new $e(26,new de(3,44),new de(11,45)),new $e(26,new de(17,21),new de(4,22)),new $e(26,new de(9,13),new de(16,14))),new e(20,Int32Array.from([6,34,62,90]),new $e(28,new de(3,107),new de(5,108)),new $e(26,new de(3,41),new de(13,42)),new $e(30,new de(15,24),new de(5,25)),new $e(28,new de(15,15),new de(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new $e(28,new de(4,116),new de(4,117)),new $e(26,new de(17,42)),new $e(28,new de(17,22),new de(6,23)),new $e(30,new de(19,16),new de(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new $e(28,new de(2,111),new de(7,112)),new $e(28,new de(17,46)),new $e(30,new de(7,24),new de(16,25)),new $e(24,new de(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new $e(30,new de(4,121),new de(5,122)),new $e(28,new de(4,47),new de(14,48)),new $e(30,new de(11,24),new de(14,25)),new $e(30,new de(16,15),new de(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new $e(30,new de(6,117),new de(4,118)),new $e(28,new de(6,45),new de(14,46)),new $e(30,new de(11,24),new de(16,25)),new $e(30,new de(30,16),new de(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new $e(26,new de(8,106),new de(4,107)),new $e(28,new de(8,47),new de(13,48)),new $e(30,new de(7,24),new de(22,25)),new $e(30,new de(22,15),new de(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new $e(28,new de(10,114),new de(2,115)),new $e(28,new de(19,46),new de(4,47)),new $e(28,new de(28,22),new de(6,23)),new $e(30,new de(33,16),new de(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new $e(30,new de(8,122),new de(4,123)),new $e(28,new de(22,45),new de(3,46)),new $e(30,new de(8,23),new de(26,24)),new $e(30,new de(12,15),new de(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new $e(30,new de(3,117),new de(10,118)),new $e(28,new de(3,45),new de(23,46)),new $e(30,new de(4,24),new de(31,25)),new $e(30,new de(11,15),new de(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new $e(30,new de(7,116),new de(7,117)),new $e(28,new de(21,45),new de(7,46)),new $e(30,new de(1,23),new de(37,24)),new $e(30,new de(19,15),new de(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new $e(30,new de(5,115),new de(10,116)),new $e(28,new de(19,47),new de(10,48)),new $e(30,new de(15,24),new de(25,25)),new $e(30,new de(23,15),new de(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new $e(30,new de(13,115),new de(3,116)),new $e(28,new de(2,46),new de(29,47)),new $e(30,new de(42,24),new de(1,25)),new $e(30,new de(23,15),new de(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new $e(30,new de(17,115)),new $e(28,new de(10,46),new de(23,47)),new $e(30,new de(10,24),new de(35,25)),new $e(30,new de(19,15),new de(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new $e(30,new de(17,115),new de(1,116)),new $e(28,new de(14,46),new de(21,47)),new $e(30,new de(29,24),new de(19,25)),new $e(30,new de(11,15),new de(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new $e(30,new de(13,115),new de(6,116)),new $e(28,new de(14,46),new de(23,47)),new $e(30,new de(44,24),new de(7,25)),new $e(30,new de(59,16),new de(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new $e(30,new de(12,121),new de(7,122)),new $e(28,new de(12,47),new de(26,48)),new $e(30,new de(39,24),new de(14,25)),new $e(30,new de(22,15),new de(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new $e(30,new de(6,121),new de(14,122)),new $e(28,new de(6,47),new de(34,48)),new $e(30,new de(46,24),new de(10,25)),new $e(30,new de(2,15),new de(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new $e(30,new de(17,122),new de(4,123)),new $e(28,new de(29,46),new de(14,47)),new $e(30,new de(49,24),new de(10,25)),new $e(30,new de(24,15),new de(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new $e(30,new de(4,122),new de(18,123)),new $e(28,new de(13,46),new de(32,47)),new $e(30,new de(48,24),new de(14,25)),new $e(30,new de(42,15),new de(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new $e(30,new de(20,117),new de(4,118)),new $e(28,new de(40,47),new de(7,48)),new $e(30,new de(43,24),new de(22,25)),new $e(30,new de(10,15),new de(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new $e(30,new de(19,118),new de(6,119)),new $e(28,new de(18,47),new de(31,48)),new $e(30,new de(34,24),new de(34,25)),new $e(30,new de(20,15),new de(61,16)))],e}(),wa;(function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"})(wa||(wa={}));var sk=function(){function e(t,r){this.value=t,this.isMasked=r}return e.prototype.unmaskBitMatrix=function(t,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&t.flip(a,n)},e.values=new Map([[wa.DATA_MASK_000,new e(wa.DATA_MASK_000,function(t,r){return(t+r&1)===0})],[wa.DATA_MASK_001,new e(wa.DATA_MASK_001,function(t,r){return(t&1)===0})],[wa.DATA_MASK_010,new e(wa.DATA_MASK_010,function(t,r){return r%3===0})],[wa.DATA_MASK_011,new e(wa.DATA_MASK_011,function(t,r){return(t+r)%3===0})],[wa.DATA_MASK_100,new e(wa.DATA_MASK_100,function(t,r){return(Math.floor(t/2)+Math.floor(r/3)&1)===0})],[wa.DATA_MASK_101,new e(wa.DATA_MASK_101,function(t,r){return t*r%6===0})],[wa.DATA_MASK_110,new e(wa.DATA_MASK_110,function(t,r){return t*r%6<3})],[wa.DATA_MASK_111,new e(wa.DATA_MASK_111,function(t,r){return(t+r+t*r%3&1)===0})]]),e}(),NCe=function(){function e(t){var r=t.getHeight();if(r<21||(r&3)!==1)throw new st;this.bitMatrix=t}return e.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,r=0;r<6;r++)t=this.copyBit(r,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);for(var a=this.bitMatrix.getHeight(),i=0,o=a-7,n=a-1;n>=o;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=IF.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new st},e.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return nd.getVersionForNumber(r);for(var n=0,a=t-11,i=5;i>=0;i--)for(var o=t-9;o>=a;o--)n=this.copyBit(o,i,n);var l=nd.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;n=0;for(var o=5;o>=0;o--)for(var i=t-9;i>=a;i--)n=this.copyBit(o,i,n);if(l=nd.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new st},e.prototype.copyBit=function(t,r,n){var a=this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r);return a?n<<1|1:n<<1},e.prototype.readCodewords=function(){var t=this.readFormatInformation(),r=this.readVersion(),n=sk.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,f=a-1;f>0;f-=2){f===6&&f--;for(var h=0;h<a;h++)for(var p=o?a-1-h:h,m=0;m<2;m++)i.get(f-m,p)||(d++,u<<=1,this.bitMatrix.get(f-m,p)&&(u|=1),d===8&&(l[c++]=u,d=0,u=0));o=!o}if(c!==r.getTotalCodewords())throw new st;return l},e.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=sk.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}},e.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},e.prototype.mirror=function(){for(var t=this.bitMatrix,r=0,n=t.getWidth();r<n;r++)for(var a=r+1,i=t.getHeight();a<i;a++)t.get(r,a)!==t.get(a,r)&&(t.flip(a,r),t.flip(r,a))},e}(),ok=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jCe=function(){function e(t,r){this.numDataCodewords=t,this.codewords=r}return e.getDataBlocks=function(t,r,n){var a,i,o,l;if(t.length!==r.getTotalCodewords())throw new kt;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var f=ok(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(R){a={error:R}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var m=new Array(u),x=0;try{for(var g=ok(d),v=g.next();!v.done;v=g.next())for(var p=v.value,y=0;y<p.getCount();y++){var b=p.getDataCodewords(),_=c.getECCodewordsPerBlock()+b;m[x++]=new e(b,new Uint8Array(_))}}catch(R){o={error:R}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}for(var S=m[0].codewords.length,N=m.length-1;N>=0;){var j=m[N].codewords.length;if(j===S)break;N--}N++;for(var C=S-c.getECCodewordsPerBlock(),P=0,y=0;y<C;y++)for(var M=0;M<x;M++)m[M].codewords[y]=t[P++];for(var M=N;M<x;M++)m[M].codewords[C]=t[P++];for(var k=m[0].codewords.length,y=C;y<k;y++)for(var M=0;M<x;M++){var E=M<N?y:y+1;m[M].codewords[E]=t[P++]}return m},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),Fs;(function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"})(Fs||(Fs={}));var ln=function(){function e(t,r,n,a){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,e.FOR_BITS.set(a,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var r=e.FOR_BITS.get(t);if(r===void 0)throw new kt;return r},e.prototype.getCharacterCountBits=function(t){var r=t.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(Fs.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(Fs.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(Fs.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(Fs.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(Fs.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(Fs.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(Fs.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(Fs.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(Fs.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(Fs.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}(),SCe=function(){function e(){}return e.decode=function(t,r,n,a){var i=new PF(t),o=new Zt,l=new Array,c=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(i.available()<4)h=ln.TERMINATOR;else{var p=i.readBits(4);h=ln.forBits(p)}switch(h){case ln.TERMINATOR:break;case ln.FNC1_FIRST_POSITION:case ln.FNC1_SECOND_POSITION:f=!0;break;case ln.STRUCTURED_APPEND:if(i.available()<16)throw new st;c=i.readBits(8),u=i.readBits(8);break;case ln.ECI:var m=e.parseECIValue(i);if(d=la.getCharacterSetECIByValue(m),d===null)throw new st;break;case ln.HANZI:var x=i.readBits(4),g=i.readBits(h.getCharacterCountBits(r));x===e.GB2312_SUBSET&&e.decodeHanziSegment(i,o,g);break;default:var v=i.readBits(h.getCharacterCountBits(r));switch(h){case ln.NUMERIC:e.decodeNumericSegment(i,o,v);break;case ln.ALPHANUMERIC:e.decodeAlphanumericSegment(i,o,v,f);break;case ln.BYTE:e.decodeByteSegment(i,o,v,d,l,a);break;case ln.KANJI:e.decodeKanjiSegment(i,o,v);break;default:throw new st}break}}while(h!==ln.TERMINATOR)}catch{throw new st}return new nb(t,o.toString(),l.length===0?null:l,n===null?null:n.toString(),c,u)},e.decodeHanziSegment=function(t,r,n){if(n*13>t.available())throw new st;for(var a=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,a[i]=l>>8&255,a[i+1]=l&255,i+=2,n--}try{r.append(Hs.decode(a,dr.GB2312))}catch(c){throw new st(c)}},e.decodeKanjiSegment=function(t,r,n){if(n*13>t.available())throw new st;for(var a=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,a[i]=l>>8,a[i+1]=l,i+=2,n--}try{r.append(Hs.decode(a,dr.SHIFT_JIS))}catch(c){throw new st(c)}},e.decodeByteSegment=function(t,r,n,a,i,o){if(8*n>t.available())throw new st;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=t.readBits(8);var u;a===null?u=dr.guessEncoding(l,o):u=a.getName();try{r.append(Hs.decode(l,u))}catch(d){throw new st(d)}i.push(l)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new st;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,r,n,a){for(var i=r.length();n>1;){if(t.available()<11)throw new st;var o=t.readBits(11);r.append(e.toAlphaNumericChar(Math.floor(o/45))),r.append(e.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(t.available()<6)throw new st;r.append(e.toAlphaNumericChar(t.readBits(6)))}if(a)for(var l=i;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},e.decodeNumericSegment=function(t,r,n){for(;n>=3;){if(t.available()<10)throw new st;var a=t.readBits(10);if(a>=1e3)throw new st;r.append(e.toAlphaNumericChar(Math.floor(a/100))),r.append(e.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(e.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(t.available()<7)throw new st;var i=t.readBits(7);if(i>=100)throw new st;r.append(e.toAlphaNumericChar(Math.floor(i/10))),r.append(e.toAlphaNumericChar(i%10))}else if(n===1){if(t.available()<4)throw new st;var o=t.readBits(4);if(o>=10)throw new st;r.append(e.toAlphaNumericChar(o))}},e.parseECIValue=function(t){var r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=t.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new st},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}(),DF=function(){function e(t){this.mirrored=t}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var r=t[0];t[0]=t[2],t[2]=r}},e}(),lk=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ACe=function(){function e(){this.rsDecoder=new ab(Wi.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(t,r){return this.decodeBitMatrix(ll.parseFromBooleanArray(t),r)},e.prototype.decodeBitMatrix=function(t,r){var n=new NCe(t),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){a=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new DF(!0)),i}catch(o){throw a!==null?a:o}},e.prototype.decodeBitMatrixParser=function(t,r){var n,a,i,o,l=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),d=jCe.getDataBlocks(u,l,c),f=0;try{for(var h=lk(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(N){n={error:N}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}var x=new Uint8Array(f),g=0;try{for(var v=lk(d),y=v.next();!y.done;y=v.next()){var m=y.value,b=m.getCodewords(),_=m.getNumDataCodewords();this.correctErrors(b,_);for(var S=0;S<_;S++)x[g++]=b[S]}}catch(N){i={error:N}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}return SCe.decode(x,l,c,r)},e.prototype.correctErrors=function(t,r){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-r)}catch{throw new Jn}for(var a=0;a<r;a++)t[a]=n[a]},e}(),CCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ECe=function(e){CCe(t,e);function t(r,n,a){var i=e.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return t.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+a)/2;return new t(i,o,l)},t}(jt),kCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TCe=function(){function e(t,r,n,a,i,o,l){this.image=t,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var t=this.startX,r=this.height,n=this.width,a=t+n,i=this.startY+r/2,o=new Int32Array(3),l=this.image,c=0;c<r;c++){var u=i+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=t;d<a&&!l.get(d,u);)d++;for(var f=0;d<a;){if(l.get(d,u))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,d);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;d++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,a);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Xe},e.centerFromEnd=function(t,r){return r-t[2]-t[1]/2},e.prototype.foundPatternCross=function(t){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-t[a])>=n)return!1;return!0},e.prototype.crossCheckVertical=function(t,r,n,a){var i=this.image,o=i.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=t;c>=0&&i.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!i.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<o&&i.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===o||l[1]>n)return NaN;for(;c<o&&!i.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var u=l[0]+l[1]+l[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n){var a,i,o=t[0]+t[1]+t[2],l=e.centerFromEnd(t,n),c=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(c)){var u=(t[0]+t[1]+t[2])/3;try{for(var d=kCe(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,c,l))return h.combineEstimate(c,l,u)}}catch(m){a={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var p=new ECe(l,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},e}(),OCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PCe=function(e){OCe(t,e);function t(r,n,a,i){var o=e.call(this,r,n)||this;return o.estimatedModuleSize=a,o.count=i,i===void 0&&(o.count=1),o}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(r,n,a){var i=this.count+1,o=(this.count*this.getX()+n)/i,l=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new t(o,l,c,i)},t}(jt),ICe=function(){function e(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}(),Zh=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DCe=function(){function e(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var r=t!=null&&t.get(nn.TRY_HARDER)!==void 0,n=t!=null&&t.get(nn.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),o=a.getWidth(),l=Math.floor(3*i/(4*e.MAX_MODULES));(l<e.MIN_SKIP||r)&&(l=e.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=l-1;d<i&&!c;d+=l){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<o;h++)if(a.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(e.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-l,h=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(e.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,o,n);p===!0&&(l=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var x=this.selectBestPatterns();return jt.orderBestPatterns(x),new ICe(x)},e.centerFromEnd=function(t,r){return r-t[4]-t[3]-t[2]/2},e.foundPatternCross=function(t){for(var r=0,n=0;n<5;n++){var a=t[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o},e.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},e.prototype.crossCheckDiagonal=function(t,r,n,a){for(var i=this.getCrossCheckStateCount(),o=0,l=this.image;t>=o&&r>=o&&l.get(r-o,t-o);)i[2]++,o++;if(t<o||r<o)return!1;for(;t>=o&&r>=o&&!l.get(r-o,t-o)&&i[1]<=n;)i[1]++,o++;if(t<o||r<o||i[1]>n)return!1;for(;t>=o&&r>=o&&l.get(r-o,t-o)&&i[0]<=n;)i[0]++,o++;if(i[0]>n)return!1;var c=l.getHeight(),u=l.getWidth();for(o=1;t+o<c&&r+o<u&&l.get(r+o,t+o);)i[2]++,o++;if(t+o>=c||r+o>=u)return!1;for(;t+o<c&&r+o<u&&!l.get(r+o,t+o)&&i[3]<n;)i[3]++,o++;if(t+o>=c||r+o>=u||i[3]>=n)return!1;for(;t+o<c&&r+o<u&&l.get(r+o,t+o)&&i[4]<n;)i[4]++,o++;if(i[4]>=n)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-a)<2*a&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,r,n,a){for(var i=this.image,o=i.getHeight(),l=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&i.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<o&&i.get(r,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!i.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&i.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-a)>=2*a?NaN:e.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.crossCheckHorizontal=function(t,r,n,a){for(var i=this.image,o=i.getWidth(),l=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&i.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<o&&i.get(c,r);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!i.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&i.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-a)>=a?NaN:e.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n,a){var i=t[0]+t[1]+t[2]+t[3]+t[4],o=e.centerFromEnd(t,n),l=this.crossCheckVertical(r,Math.floor(o),t[2],i);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),t[2],i),!isNaN(o)&&(!a||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),t[2],i)))){for(var c=i/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(c,l,o)){d[f]=p.combineEstimate(l,o,c),u=!0;break}}if(!u){var m=new PCe(o,l,c);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},e.prototype.findRowSkip=function(){var t,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=Zh(this.possibleCenters),o=i.next();!o.done;o=i.next()){var l=o.value;if(l.getCount()>=e.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,r,n,a,i=0,o=0,l=this.possibleCenters.length;try{for(var c=Zh(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=e.CENTER_QUORUM&&(i++,o+=d.getEstimatedModuleSize())}}catch(x){t={error:x}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(i<3)return!1;var f=o/l,h=0;try{for(var p=Zh(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(x){n={error:x}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}return h<=.05*o},e.prototype.selectBestPatterns=function(){var t,r,n,a,i=this.possibleCenters.length;if(i<3)throw new Xe;var o=this.possibleCenters,l;if(i>3){var c=0,u=0;try{for(var d=Zh(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();c+=p,u+=p*p}}catch(S){t={error:S}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}l=c/i;var m=Math.sqrt(u/i-l*l);o.sort(function(S,N){var j=Math.abs(N.getEstimatedModuleSize()-l),C=Math.abs(S.getEstimatedModuleSize()-l);return j<C?-1:j>C?1:0});for(var x=Math.max(.2*l,m),g=0;g<o.length&&o.length>3;g++){var v=o[g];Math.abs(v.getEstimatedModuleSize()-l)>x&&(o.splice(g,1),g--)}}if(o.length>3){var c=0;try{for(var y=Zh(o),b=y.next();!b.done;b=y.next()){var _=b.value;c+=_.getEstimatedModuleSize()}}catch(N){n={error:N}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(n)throw n.error}}l=c/o.length,o.sort(function(N,j){if(j.getCount()===N.getCount()){var C=Math.abs(j.getEstimatedModuleSize()-l),P=Math.abs(N.getEstimatedModuleSize()-l);return C<P?1:C>P?-1:0}else return j.getCount()-N.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}(),MCe=function(){function e(t){this.image=t}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(nn.NEED_RESULT_POINT_CALLBACK);var r=new DCe(this.image,this.resultPointCallback),n=r.find(t);return this.processFinderPatternInfo(n)},e.prototype.processFinderPatternInfo=function(t){var r=t.getTopLeft(),n=t.getTopRight(),a=t.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new Xe("No pattern found in proccess finder.");var o=e.computeDimension(r,n,a,i),l=nd.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,u=null;if(l.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+a.getX(),f=n.getY()-r.getY()+a.getY(),h=1-3/c,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),x=4;x<=16;x<<=1)try{u=this.findAlignmentInRegion(i,p,m,x);break}catch(b){if(!(b instanceof Xe))throw b}var g=e.createTransform(r,n,a,u,o),v=e.sampleGrid(this.image,g,o),y;return u===null?y=[a,r,n]:y=[a,r,n,u],new w3(v,y)},e.createTransform=function(t,r,n,a,i){var o=i-3.5,l,c,u,d;return a!==null?(l=a.getX(),c=a.getY(),u=o-3,d=u):(l=r.getX()-t.getX()+n.getX(),c=r.getY()-t.getY()+n.getY(),u=o,d=o),EF.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,d,3.5,o,t.getX(),t.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},e.sampleGrid=function(t,r,n){var a=_3.getInstance();return a.sampleGridWithTransform(t,n,n,r)},e.computeDimension=function(t,r,n,a){var i=_r.round(jt.distance(t,r)/a),o=_r.round(jt.distance(t,n)/a),l=Math.floor((i+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Xe("Dimensions could be not found.")}return l},e.prototype.calculateModuleSize=function(t,r,n){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,n))/2},e.prototype.calculateModuleSizeOneWay=function(t,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(t,r,n,a),o=1,l=t-(n-t);l<0?(o=t/(t-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(l-t),l=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(t+(l-t)*o),i+=this.sizeOfBlackWhiteBlackRun(t,r,l,c),i-1},e.prototype.sizeOfBlackWhiteBlackRun=function(t,r,n,a){var i=Math.abs(a-r)>Math.abs(n-t);if(i){var o=t;t=r,r=o,o=n,n=a,a=o}for(var l=Math.abs(n-t),c=Math.abs(a-r),u=-l/2,d=t<n?1:-1,f=r<a?1:-1,h=0,p=n+d,m=t,x=r;m!==p;m+=d){var g=i?x:m,v=i?m:x;if(h===1===this.image.get(g,v)){if(h===2)return _r.distance(m,x,t,r);h++}if(u+=c,u>0){if(x===a)break;x+=f,u-=l}}return h===2?_r.distance(n+d,a,t,r):NaN},e.prototype.findAlignmentInRegion=function(t,r,n,a){var i=Math.floor(a*t),o=Math.max(0,r-i),l=Math.min(this.image.getWidth()-1,r+i);if(l-o<t*3)throw new Xe("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-c<t*3)throw new Xe("Alignment bottom exceeds estimated module size.");var d=new TCe(this.image,o,c,l-o,u-c,t,this.resultPointCallback);return d.find()},e}(),Hv=function(){function e(){this.decoder=new ACe}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,r){var n,a;if(r!=null&&r.get(nn.PURE_BARCODE)!==void 0){var i=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=e.NO_POINTS}else{var o=new MCe(t.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),a=o.getPoints()}n.getOther()instanceof DF&&n.getOther().applyMirroredCorrection(a);var l=new fi(n.getText(),n.getRawBytes(),void 0,a,Et.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(za.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&l.putMetadata(za.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(l.putMetadata(za.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(za.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},e.prototype.reset=function(){},e.extractPureBits=function(t){var r=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(r===null||n===null)throw new Xe;var a=this.moduleSize(r,t),i=r[1],o=n[1],l=r[0],c=n[0];if(l>=c||i>=o)throw new Xe;if(o-i!==c-l&&(c=l+(o-i),c>=t.getWidth()))throw new Xe;var u=Math.round((c-l+1)/a),d=Math.round((o-i+1)/a);if(u<=0||d<=0)throw new Xe;if(d!==u)throw new Xe;var f=Math.floor(a/2);i+=f,l+=f;var h=l+Math.floor((u-1)*a)-c;if(h>0){if(h>f)throw new Xe;l-=h}var p=i+Math.floor((d-1)*a)-o;if(p>0){if(p>f)throw new Xe;i-=p}for(var m=new ll(u,d),x=0;x<d;x++)for(var g=i+Math.floor(x*a),v=0;v<u;v++)t.get(l+Math.floor(v*a),g)&&m.set(v,x);return m},e.moduleSize=function(t,r){for(var n=r.getHeight(),a=r.getWidth(),i=t[0],o=t[1],l=!0,c=0;i<a&&o<n;){if(l!==r.get(i,o)){if(++c===5)break;l=!l}i++,o++}if(i===a||o===n)throw new Xe;return(i-t[0])/7},e.NO_POINTS=new Array,e}(),FCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vr=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(t){return _r.sum(t)},e.toIntArray=function(t){var r,n;if(t==null||!t.length)return e.EMPTY_INT_ARRAY;var a=new Int32Array(t.length),i=0;try{for(var o=FCe(t),l=o.next();!l.done;l=o.next()){var c=l.value;a[i++]=c}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.getCodeword=function(t){var r=ua.binarySearch(e.SYMBOL_TABLE,t&262143);return r<0?-1:(e.CODEWORD_TABLE[r]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}(),RCe=function(){function e(t,r){this.bits=t,this.points=r}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),LCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BCe=function(){function e(){}return e.detectMultiple=function(t,r,n){var a=t.getBlackMatrix(),i=e.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=e.detect(n,a)),new RCe(a,i)},e.detect=function(t,r){for(var n,a,i=new Array,o=0,l=0,c=!1;o<r.getHeight();){var u=e.findVertices(r,o,l);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,l=0;try{for(var d=(n=void 0,LCe(i)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}o+=e.ROW_STEP;continue}if(c=!0,i.push(u),!t)break;u[2]!=null?(l=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return i},e.findVertices=function(t,r,n){var a=t.getHeight(),i=t.getWidth(),o=new Array(8);return e.copyToResult(o,e.findRowsWithPattern(t,a,i,r,n,e.START_PATTERN),e.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),e.copyToResult(o,e.findRowsWithPattern(t,a,i,r,n,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),o},e.copyToResult=function(t,r,n){for(var a=0;a<n.length;a++)t[n[a]]=r[a]},e.findRowsWithPattern=function(t,r,n,a,i,o){for(var l=new Array(4),c=!1,u=new Int32Array(o.length);a<r;a+=e.ROW_STEP){var d=e.findGuardPattern(t,i,a,n,!1,o,u);if(d!=null){for(;a>0;){var f=e.findGuardPattern(t,i,--a,n,!1,o,u);if(f!=null)d=f;else{a++;break}}l[0]=new jt(d[0],a),l[1]=new jt(d[1],a),c=!0;break}}var h=a+1;if(c){for(var p=0,f=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);h<r;h++){var d=e.findGuardPattern(t,f[0],h,n,!1,o,u);if(d!=null&&Math.abs(f[0]-d[0])<e.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<e.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>e.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,l[2]=new jt(f[0],h),l[3]=new jt(f[1],h)}return h-a<e.BARCODE_MIN_HEIGHT&&ua.fill(l,null),l},e.findGuardPattern=function(t,r,n,a,i,o,l){ua.fillWithin(l,0,l.length,0);for(var c=r,u=0;t.get(c,n)&&c>0&&u++<e.MAX_PIXEL_DRIFT;)c--;for(var d=c,f=0,h=o.length,p=i;d<a;d++){var m=t.get(d,n);if(m!==p)l[f]++;else{if(f===h-1){if(e.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=l[0]+l[1],rn.arraycopy(l,2,l,0,f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,p=!p}}return f===h-1&&e.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},e.patternMatchVariance=function(t,r,n){for(var a=t.length,i=0,o=0,l=0;l<a;l++)i+=t[l],o+=r[l];if(i<o)return 1/0;var c=i/o;n*=c;for(var u=0,d=0;d<a;d++){var f=t[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/i},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}(),$Ce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qu=function(){function e(t,r){if(r.length===0)throw new kt;this.field=t;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),rn.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){var r,n;if(t===0)return this.getCoefficient(0);if(t===1){var a=0;try{for(var i=$Ce(this.coefficients),o=i.next();!o.done;o=i.next()){var l=o.value;a=this.field.add(a,l)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(t,c),this.coefficients[d]);return c},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new kt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),o=n.length-r.length;rn.arraycopy(n,0,i,0,o);for(var l=o;l<n.length;l++)i[l]=this.field.add(r[l-o],n[l]);return new e(this.field,i)},e.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new kt("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new kt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=t.coefficients,i=a.length,o=new Int32Array(n+i-1),l=0;l<n;l++)for(var c=r[l],u=0;u<i;u++)o[l+u]=this.field.add(o[l+u],this.field.multiply(c,a[u]));return new e(this.field,o)},e.prototype.negative=function(){for(var t=this.coefficients.length,r=new Int32Array(t),n=0;n<t;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new e(this.field,r)},e.prototype.multiplyScalar=function(t){if(t===0)return new e(this.field,new Int32Array([0]));if(t===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,n)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new kt;if(r===0)return new e(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+t),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new e(this.field,a)},e.prototype.toString=function(){for(var t=new Zt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),(r===0||n!==1)&&t.append(n),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()},e}(),zCe=function(){function e(){}return e.prototype.add=function(t,r){return(t+r)%this.modulus},e.prototype.subtract=function(t,r){return(this.modulus+t-r)%this.modulus},e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new kt;return this.logTable[t]},e.prototype.inverse=function(t){if(t===0)throw new CF;return this.expTable[this.modulus-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(t){return t===this},e}(),UCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HCe=function(e){UCe(t,e);function t(r,n){var a=e.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,o=0;o<r;o++)a.expTable[o]=i,i=i*n%r;for(var o=0;o<r-1;o++)a.logTable[a.expTable[o]]=o;return a.zero=new qu(a,new Int32Array([0])),a.one=new qu(a,new Int32Array([1])),a}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(r,n){if(r<0)throw new kt;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new qu(this,a)},t.PDF417_GF=new t(vr.NUMBER_OF_CODEWORDS,3),t}(zCe),WCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},VCe=function(){function e(){this.field=HCe.PDF417_GF}return e.prototype.decode=function(t,r,n){for(var a,i,o=new qu(this.field,t),l=new Int32Array(r),c=!1,u=r;u>0;u--){var d=o.evaluateAt(this.field.exp(u));l[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=WCe(n),p=h.next();!p.done;p=h.next()){var m=p.value,x=this.field.exp(t.length-1-m),g=new qu(this.field,new Int32Array([this.field.subtract(0,x),1]));f=f.multiply(g)}}catch(C){a={error:C}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}for(var v=new qu(this.field,l),y=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),v,r),b=y[0],_=y[1],S=this.findErrorLocations(b),N=this.findErrorMagnitudes(_,b,S),u=0;u<S.length;u++){var j=t.length-1-this.field.log(S[u]);if(j<0)throw Jn.getChecksumInstance();t[j]=this.field.subtract(t[j],N[u])}return S.length},e.prototype.runEuclideanAlgorithm=function(t,r,n){if(t.getDegree()<r.getDegree()){var a=t;t=r,r=a}for(var i=t,o=r,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=i,d=l;if(i=o,l=c,i.isZero())throw Jn.getChecksumInstance();o=u;for(var f=this.field.getZero(),h=i.getCoefficient(i.getDegree()),p=this.field.inverse(h);o.getDegree()>=i.getDegree()&&!o.isZero();){var m=o.getDegree()-i.getDegree(),x=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(m,x)),o=o.subtract(i.multiplyByMonomial(m,x))}c=f.multiply(l).subtract(d).negative()}var g=c.getCoefficient(0);if(g===0)throw Jn.getChecksumInstance();var v=this.field.inverse(g),y=c.multiply(v),b=o.multiply(v);return[y,b]},e.prototype.findErrorLocations=function(t){for(var r=t.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)t.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw Jn.getChecksumInstance();return n},e.prototype.findErrorMagnitudes=function(t,r,n){for(var a=r.getDegree(),i=new Int32Array(a),o=1;o<=a;o++)i[a-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new qu(this.field,i),c=n.length,u=new Int32Array(c),o=0;o<c;o++){var d=this.field.inverse(n[o]),f=this.field.subtract(0,t.evaluateAt(d)),h=this.field.inverse(l.evaluateAt(d));u[o]=this.field.multiply(f,h)}return u},e}(),t4=function(){function e(t,r,n,a,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,r,n,a,i)}return e.prototype.constructor_1=function(t,r,n,a,i){var o=r==null||n==null,l=a==null||i==null;if(o&&l)throw new Xe;o?(r=new jt(0,a.getY()),n=new jt(0,i.getY())):l&&(a=new jt(t.getWidth()-1,r.getY()),i=new jt(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},e.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},e.merge=function(t,r){return t==null?r:r==null?t:new e(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)},e.prototype.addMissingRows=function(t,r,n){var a=this.topLeft,i=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(t>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-t);u<0&&(u=0);var d=new jt(c.getX(),u);n?a=d:o=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new jt(f.getX(),h);n?i=p:l=p}return new e(this.image,a,i,o,l)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}(),qCe=function(){function e(t,r,n,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}(),j3=function(){function e(){this.buffer=""}return e.form=function(t,r){var n=-1;function a(o,l,c,u,d,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(c),x=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=l!==void 0?p+x:x+p;return p}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,a)},e.prototype.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=e.form(t,r)},e.prototype.toString=function(){return this.buffer},e}(),GCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MF=function(){function e(t){this.boundingBox=new t4(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var r=this.getCodeword(t);if(r!=null)return r;for(var n=1;n<e.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(t)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(t)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},e.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},e.prototype.setCodeword=function(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r},e.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var t,r,n=new j3,a=0;try{for(var i=GCe(this.codewords),o=i.next();!o.done;o=i.next()){var l=o.value;if(l==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.toString()},e.MAX_NEARBY_DISTANCE=5,e}(),XCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},YCe=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},cp=function(){function e(){this.values=new Map}return e.prototype.setValue=function(t){t=Math.trunc(t);var r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)},e.prototype.getValue=function(){var t,r,n=-1,a=new Array,i=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),a=[],a.push(p.getKey())):p.getValue()===n&&a.push(p.getKey())};try{for(var o=XCe(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=YCe(l.value,2),u=c[0],d=c[1];i(u,d)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return vr.toIntArray(a)},e.prototype.getConfidence=function(t){return this.values.get(t)},e}(),KCe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ck=function(e){KCe(t,e);function t(r,n){var a=e.call(this,r)||this;return a._isLeft=n,a}return t.prototype.setRowNumbers=function(){var r,n;try{for(var a=bw(this.getCodewords()),i=a.next();!i.done;i=a.next()){var o=i.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),o=this._isLeft?a.getBottomLeft():a.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,d=1,f=0,h=l;h<c;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-u;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var x=void 0;d>2?x=(d-2)*m:x=m;for(var g=x>=h,v=1;v<=x&&!g;v++)g=n[h-v]!=null;g?n[h]=null:(u=p.getRowNumber(),f=1)}}},t.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var o=bw(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var u=c.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1,d=o;d<l;d++)if(c[d]!=null){var f=c[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[d]=null:u=f.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new cp,o=new cp,l=new cp,c=new cp;try{for(var u=bw(a),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:c.setValue(h/3),l.setValue(h%3);break;case 2:i.setValue(h+1);break}}}}catch(x){r={error:x}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<vr.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>vr.MAX_ROWS_IN_BARCODE)return null;var m=new qCe(i.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,m),m},t.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var o=i.getValue()%30,l=i.getRowNumber();if(l>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:o+1!==n.getColumnCount()&&(r[a]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+e.prototype.toString.call(this)},t}(MF),JCe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ZCe=function(){function e(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=vr.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return t},e.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null&&r[n]!=null&&t[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(t[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},e.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(i=e.adjustRowNumberIfValid(a,i,l),l.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(i=e.adjustRowNumberIfValid(a,i,l),l.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(t,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),r=0):++r),r},e.prototype.adjustRowNumbers=function(t,r,n){var a,i;if(this.detectionResultColumns[t-1]!=null){var o=n[r],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());var u=new Array(14);u[2]=l[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=l[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=l[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=l[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=l[r+2],u[13]=c[r+2]);try{for(var d=JCe(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(e.adjustRowNumber(o,h))return}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},e.adjustRowNumber=function(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(t){this.boundingBox=t},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(t,r){this.detectionResultColumns[t]=r},e.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},e.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new j3,n=0;n<t.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},e}(),QCe=function(){function e(t,r,n,a){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(t){this.rowNumber=t},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}(),e6e=function(){function e(){}return e.initialize=function(){for(var t=0;t<vr.SYMBOL_TABLE.length;t++)for(var r=vr.SYMBOL_TABLE[t],n=r&1,a=0;a<vr.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(vr.BARS_IN_MODULE)),e.RATIOS_TABLE[t][vr.BARS_IN_MODULE-a-1]=Math.fround(i/vr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var r=e.getDecodedCodewordValue(e.sampleBitCounts(t));return r!==-1?r:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(t){for(var r=_r.sum(t),n=new Int32Array(vr.BARS_IN_MODULE),a=0,i=0,o=0;o<vr.MODULES_IN_CODEWORD;o++){var l=r/(2*vr.MODULES_IN_CODEWORD)+o*r/vr.MODULES_IN_CODEWORD;i+t[a]<=l&&(i+=t[a],a++),n[a]++}return n},e.getDecodedCodewordValue=function(t){var r=e.getBitValue(t);return vr.getCodeword(r)===-1?-1:r},e.getBitValue=function(t){for(var r=0,n=0;n<t.length;n++)for(var a=0;a<t[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},e.getClosestDecodedValue=function(t){var r=_r.sum(t),n=new Array(vr.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(t[a]/r);var i=Z_.MAX_VALUE,o=-1;this.bSymbolTableReady||e.initialize();for(var l=0;l<e.RATIOS_TABLE.length;l++){for(var c=0,u=e.RATIOS_TABLE[l],d=0;d<vr.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(c+=Math.fround(f*f),c>=i)break}c<i&&(i=c,o=vr.SYMBOL_TABLE[l])}return o},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(vr.SYMBOL_TABLE.length).map(function(t){return new Array(vr.BARS_IN_MODULE)}),e}(),t6e=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(t){this.segmentIndex=t},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(t){this.fileId=t},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(t){this.optionalData=t},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(t){this.lastSegment=t},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(t){this.segmentCount=t},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(t){this.sender=t},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(t){this.addressee=t},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(t){this.fileName=t},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(t){this.fileSize=t},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(t){this.checksum=t},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(t){this.timestamp=t},e}(),uk=function(){function e(){}return e.parseLong=function(t,r){return r===void 0&&(r=void 0),parseInt(t,r)},e}(),r6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n6e=function(e){r6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="NullPointerException",t}(Ji),a6e=function(){function e(){}return e.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},e.prototype.writeBytesOffset=function(t,r,n){if(t==null)throw new n6e;if(r<0||r>t.length||n<0||r+n>t.length||r+n<0)throw new y3;if(n===0)return;for(var a=0;a<n;a++)this.write(t[r+a])},e.prototype.flush=function(){},e.prototype.close=function(){},e}(),i6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s6e=function(e){i6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ji),o6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l6e=function(e){o6e(t,e);function t(r){r===void 0&&(r=32);var n=e.call(this)||this;if(n.count=0,r<0)throw new kt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return t.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},t.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new s6e;a=er.MAX_VALUE}this.buf=ua.copyOfUint8Array(this.buf,a)},t.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},t.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new y3;this.ensureCapacity(this.count+a),rn.arraycopy(r,n,this.buf,this.count,a),this.count+=a},t.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return ua.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(r){return new String(this.buf).toString()},t.prototype.toString_number=function(r){return new String(this.buf).toString()},t.prototype.close=function(){},t}(a6e),zr;(function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(zr||(zr={}));function FF(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var X1;function Oc(e){if(typeof X1>"u"&&(X1=FF()),X1===null)throw new Error("BigInt is not supported!");return X1(e)}function c6e(){var e=[];e[0]=Oc(1);var t=Oc(900);e[1]=t;for(var r=2;r<16;r++)e[r]=e[r-1]*t;return e}var u6e=function(){function e(){}return e.decode=function(t,r){var n=new Zt(""),a=la.ISO8859_1;n.enableDecoding(a);for(var i=1,o=t[i++],l=new t6e;i<t[0];){switch(o){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,n);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(o,t,a,i,n);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,n);break;case e.ECI_CHARSET:la.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,l);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new st;default:i--,i=e.textCompaction(t,i,n);break}if(i<t.length)o=t[i++];else throw st.getFormatInstance()}if(n.length()===0)throw st.getFormatInstance();var c=new nb(null,n.toString(),null,r);return c.setOther(l),c},e.decodeMacroBlock=function(t,r,n){if(r+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw st.getFormatInstance();for(var a=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=t[r];n.setSegmentIndex(er.parseInt(e.decodeBase900toBase10(a,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Zt;r=e.textCompaction(t,r,o),n.setFileId(o.toString());var l=-1;for(t[r]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<t[0];)switch(t[r]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Zt;r=e.textCompaction(t,r+1,c),n.setFileName(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Zt;r=e.textCompaction(t,r+1,u),n.setSender(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Zt;r=e.textCompaction(t,r+1,d),n.setAddressee(d.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Zt;r=e.numericCompaction(t,r+1,f),n.setSegmentCount(er.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new Zt;r=e.numericCompaction(t,r+1,h),n.setTimestamp(uk.parseLong(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Zt;r=e.numericCompaction(t,r+1,p),n.setChecksum(er.parseInt(p.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new Zt;r=e.numericCompaction(t,r+1,m),n.setFileSize(uk.parseLong(m.toString()));break;default:throw st.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw st.getFormatInstance()}if(l!==-1){var x=r-l;n.isLastSegment()&&x--,n.setOptionalData(ua.copyOfRange(t,l,l+x))}return r},e.textCompaction=function(t,r,n){for(var a=new Int32Array((t[0]-r)*2),i=new Int32Array((t[0]-r)*2),o=0,l=!1;r<t[0]&&!l;){var c=t[r++];if(c<e.TEXT_COMPACTION_MODE_LATCH)a[o]=c/30,a[o+1]=c%30,o+=2;else switch(c){case e.TEXT_COMPACTION_MODE_LATCH:a[o++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[o]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=t[r++],i[o]=c,o++;break}}return e.decodeTextCompaction(a,i,o,n),r},e.decodeTextCompaction=function(t,r,n,a){for(var i=zr.ALPHA,o=zr.ALPHA,l=0;l<n;){var c=t[l],u="";switch(i){case zr.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case e.LL:i=zr.LOWER;break;case e.ML:i=zr.MIXED;break;case e.PS:o=i,i=zr.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=zr.ALPHA;break}break;case zr.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case e.AS:o=i,i=zr.ALPHA_SHIFT;break;case e.ML:i=zr.MIXED;break;case e.PS:o=i,i=zr.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=zr.ALPHA;break}break;case zr.MIXED:if(c<e.PL)u=e.MIXED_CHARS[c];else switch(c){case e.PL:i=zr.PUNCT;break;case 26:u=" ";break;case e.LL:i=zr.LOWER;break;case e.AL:i=zr.ALPHA;break;case e.PS:o=i,i=zr.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=zr.ALPHA;break}break;case zr.PUNCT:if(c<e.PAL)u=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=zr.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=zr.ALPHA;break}break;case zr.ALPHA_SHIFT:if(i=o,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=zr.ALPHA;break}break;case zr.PUNCT_SHIFT:if(i=o,c<e.PAL)u=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=zr.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=zr.ALPHA;break}break}u!==""&&a.append(u),l++}},e.byteCompaction=function(t,r,n,a,i){var o=new l6e,l=0,c=0,u=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[a++];a<r[0]&&!u;)switch(d[l++]=f,c=900*c+f,f=r[a++],f){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(l%5===0&&l>0){for(var h=0;h<6;++h)o.write(Number(Oc(c)>>Oc(8*(5-h))));c=0,l=0}break}a===r[0]&&f<e.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=f);for(var p=0;p<l;p++)o.write(d[p]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!u;){var m=r[a++];if(m<e.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+m;else switch(m){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(l%5===0&&l>0){for(var h=0;h<6;++h)o.write(Number(Oc(c)>>Oc(8*(5-h))));c=0,l=0}}break}return i.append(Hs.decode(o.toByteArray(),n)),a},e.numericCompaction=function(t,r,n){for(var a=0,i=!1,o=new Int32Array(e.MAX_NUMERIC_CODEWORDS);r<t[0]&&!i;){var l=t[r++];if(r===t[0]&&(i=!0),l<e.TEXT_COMPACTION_MODE_LATCH)o[a]=l,a++;else switch(l){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%e.MAX_NUMERIC_CODEWORDS===0||l===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(e.decodeBase900toBase10(o,a)),a=0)}return r},e.decodeBase900toBase10=function(t,r){for(var n=Oc(0),a=0;a<r;a++)n+=e.EXP900[r-a-1]*Oc(t[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new st;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",e.EXP900=FF()?c6e():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}(),Qh=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d6e=function(){function e(){}return e.decode=function(t,r,n,a,i,o,l){for(var c=new t4(t,r,n,a,i),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=e.getRowIndicatorColumn(t,c,r,!0,o,l)),a!=null&&(d=e.getRowIndicatorColumn(t,c,a,!1,o,l)),f=e.merge(u,d),f==null)throw Xe.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}f.setBoundingBox(c);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(m,d);for(var x=u!=null,g=1;g<=m;g++){var v=x?g:m-g;if(f.getDetectionResultColumn(v)===void 0){var y=void 0;v===0||v===m?y=new ck(c,v===0):y=new MF(c),f.setDetectionResultColumn(v,y);for(var b=-1,_=b,S=c.getMinY();S<=c.getMaxY();S++){if(b=e.getStartColumn(f,v,S,x),b<0||b>c.getMaxX()){if(_===-1)continue;b=_}var N=e.detectCodeword(t,c.getMinX(),c.getMaxX(),x,b,S,o,l);N!=null&&(y.setCodeword(S,N),_=b,o=Math.min(o,N.getWidth()),l=Math.max(l,N.getWidth()))}}}return e.createDecoderResult(f)},e.merge=function(t,r){if(t==null&&r==null)return null;var n=e.getBarcodeMetadata(t,r);if(n==null)return null;var a=t4.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(r));return new ZCe(n,a)},e.adjustBoundingBox=function(t){var r,n;if(t==null)return null;var a=t.getRowHeights();if(a==null)return null;var i=e.getMax(a),o=0;try{for(var l=Qh(a),c=l.next();!c.done;c=l.next()){var u=c.value;if(o+=i-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=t.getCodewords(),f=0;o>0&&d[f]==null;f++)o--;for(var h=0,f=a.length-1;f>=0&&(h+=i-a[f],!(a[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return t.getBoundingBox().addMissingRows(o,h,t.isLeft())},e.getMax=function(t){var r,n,a=-1;try{for(var i=Qh(t),o=i.next();!o.done;o=i.next()){var l=o.value;a=Math.max(a,l)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},e.getBarcodeMetadata=function(t,r){var n;if(t==null||(n=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},e.getRowIndicatorColumn=function(t,r,n,a,i,o){for(var l=new ck(r,a),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=e.detectCodeword(t,0,t.getWidth(),a,d,f,i,o);h!=null&&(l.setCodeword(f,h),a?d=h.getStartX():d=h.getEndX())}return l},e.adjustCodewordCount=function(t,r){var n=r[0][1],a=n.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(i<1||i>vr.MAX_CODEWORDS_IN_BARCODE)throw Xe.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},e.createDecoderResult=function(t){var r=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,r);for(var n=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],o=new Array,l=0;l<t.getBarcodeRowCount();l++)for(var c=0;c<t.getBarcodeColumnCount();c++){var u=r[l][c+1].getValue(),d=l*t.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?a[d]=u[0]:(o.push(d),i.push(u))}for(var f=new Array(i.length),h=0;h<f.length;h++)f[h]=i[h];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,vr.toIntArray(n),vr.toIntArray(o),f)},e.createDecoderResultFromAmbiguousValues=function(t,r,n,a,i){for(var o=new Int32Array(a.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)r[a[c]]=i[c][o[c]];try{return e.decodeCodewords(r,t,n)}catch(d){var u=d instanceof Jn;if(!u)throw d}if(o.length===0)throw Jn.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<i[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw Jn.getChecksumInstance()}throw Jn.getChecksumInstance()},e.createBarcodeMatrix=function(t){for(var r,n,a,i,o=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new cp;var u=0;try{for(var d=Qh(t.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(a=void 0,Qh(h.getCodewords())),m=p.next();!m.done;m=p.next()){var x=m.value;if(x!=null){var g=x.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][u].setValue(x.getValue())}}}}catch(v){a={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u++}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},e.isValidBarcodeColumn=function(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1},e.getStartColumn=function(t,r,n,a){var i,o,l=a?1:-1,c=null;if(e.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(e.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var u=0;e.isValidBarcodeColumn(t,r-l);){r-=l;try{for(var d=(i=void 0,Qh(t.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(a?h.getEndX():h.getStartX())+l*u*(h.getEndX()-h.getStartX())}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}u++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,r,n,a,i,o,l,c){i=e.adjustCodewordStartColumn(t,r,n,a,i,o);var u=e.getModuleBitCount(t,r,n,a,i,o);if(u==null)return null;var d,f=_r.sum(u);if(a)d=i+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=i,i=d-f}if(!e.checkCodewordSkew(f,l,c))return null;var m=e6e.getDecodedValue(u),x=vr.getCodeword(m);return x===-1?null:new QCe(i,d,e.getCodewordBucketNumber(m),x)},e.getModuleBitCount=function(t,r,n,a,i,o){for(var l=i,c=new Int32Array(8),u=0,d=a?1:-1,f=a;(a?l<n:l>=r)&&u<c.length;)t.get(l,o)===f?(c[u]++,l+=d):(u++,f=!f);return u===c.length||l===(a?n:r)&&u===c.length-1?c:null},e.getNumberOfECCodeWords=function(t){return 2<<t},e.adjustCodewordStartColumn=function(t,r,n,a,i,o){for(var l=i,c=a?-1:1,u=0;u<2;u++){for(;(a?l>=r:l<n)&&a===t.get(l,o);){if(Math.abs(i-l)>e.CODEWORD_SKEW_SIZE)return i;l+=c}c=-c,a=!a}return l},e.checkCodewordSkew=function(t,r,n){return r-e.CODEWORD_SKEW_SIZE<=t&&t<=n+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,r,n){if(t.length===0)throw st.getFormatInstance();var a=1<<r+1,i=e.correctErrors(t,n,a);e.verifyCodewordCount(t,a);var o=u6e.decode(t,""+r);return o.setErrorsCorrected(i),o.setErasures(n.length),o},e.correctErrors=function(t,r,n){if(r!=null&&r.length>n/2+e.MAX_ERRORS||n<0||n>e.MAX_EC_CODEWORDS)throw Jn.getChecksumInstance();return e.errorCorrection.decode(t,n,r)},e.verifyCodewordCount=function(t,r){if(t.length<4)throw st.getFormatInstance();var n=t[0];if(n>t.length)throw st.getFormatInstance();if(n===0)if(r<t.length)t[0]=t.length-r;else throw st.getFormatInstance()},e.getBitCountForCodeword=function(t){for(var r=new Int32Array(8),n=0,a=r.length-1;!((t&1)!==n&&(n=t&1,a--,a<0));)r[a]++,t>>=1;return r},e.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},e.toString=function(t){for(var r=new j3,n=0;n<t.length;n++){r.format("Row %2d: ",n);for(var a=0;a<t[n].length;a++){var i=t[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new VCe,e}(),f6e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wv=function(){function e(){}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n=e.decode(t,r,!1);if(n==null||n.length===0||n[0]==null)throw Xe.getNotFoundInstance();return n[0]},e.prototype.decodeMultiple=function(t,r){r===void 0&&(r=null);try{return e.decode(t,r,!0)}catch(n){throw n instanceof st||n instanceof Jn?Xe.getNotFoundInstance():n}},e.decode=function(t,r,n){var a,i,o=new Array,l=BCe.detectMultiple(t,r,n);try{for(var c=f6e(l.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,f=d6e.decode(l.getBits(),d[4],d[5],d[6],d[7],e.getMinCodewordWidth(d),e.getMaxCodewordWidth(d)),h=new fi(f.getText(),f.getRawBytes(),void 0,d,Et.PDF_417);h.putMetadata(za.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(za.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(m){a={error:m}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return o.map(function(m){return m})},e.getMaxWidth=function(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))},e.getMinWidth=function(t,r){return t==null||r==null?er.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*vr.MODULES_IN_CODEWORD/vr.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*vr.MODULES_IN_CODEWORD/vr.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*vr.MODULES_IN_CODEWORD/vr.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*vr.MODULES_IN_CODEWORD/vr.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}(),h6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dk=function(e){h6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReaderException",t}(Ji),fk=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RF=function(){function e(){}return e.prototype.decode=function(t,r){return this.setHints(r),this.decodeInternal(t)},e.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},e.prototype.setHints=function(t){this.hints=t;var r=t!=null&&t.get(nn.TRY_HARDER)!==void 0,n=t==null?null:t.get(nn.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(o){return o===Et.UPC_A||o===Et.UPC_E||o===Et.EAN_13||o===Et.EAN_8||o===Et.CODABAR||o===Et.CODE_39||o===Et.CODE_93||o===Et.CODE_128||o===Et.ITF||o===Et.RSS_14||o===Et.RSS_EXPANDED});i&&!r&&a.push(new F0(t)),n.includes(Et.QR_CODE)&&a.push(new Hv),n.includes(Et.DATA_MATRIX)&&a.push(new Uv),n.includes(Et.AZTEC)&&a.push(new $v),n.includes(Et.PDF_417)&&a.push(new Wv),i&&r&&a.push(new F0(t))}a.length===0&&(r||a.push(new F0(t)),a.push(new Hv),a.push(new Uv),a.push(new $v),a.push(new Wv),r&&a.push(new F0(t))),this.readers=a},e.prototype.reset=function(){var t,r;if(this.readers!==null)try{for(var n=fk(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.decodeInternal=function(t){var r,n;if(this.readers===null)throw new dk("No readers where selected, nothing can be read.");try{for(var a=fk(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;try{return o.decode(t,this.hints)}catch(l){if(l instanceof dk)continue}}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new Xe("No MultiFormat Readers were able to detect the code.")},e}(),p6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){p6e(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new RF;return i.setHints(r),a=e.call(this,i,n)||this,a}return t.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},t})(nh);var m6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){m6e(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new Wv,r)||this}return t})(nh);var x6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){x6e(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new Hv,r)||this}return t})(nh);var r4;(function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"})(r4||(r4={}));const Y1=r4;var LF=function(){function e(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Xc(t,Int32Array.from([1])))}return e.prototype.buildGenerator=function(t){var r=this.cachedGenerators;if(t>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=t;i++){var o=n.multiply(new Xc(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(o),n=o}return r[t]},e.prototype.encode=function(t,r){if(r===0)throw new kt("No error correction bytes");var n=t.length-r;if(n<=0)throw new kt("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);rn.arraycopy(t,0,i,0,n);var o=new Xc(this.field,i);o=o.multiplyByMonomial(r,1);for(var l=o.divide(a)[1],c=l.getCoefficients(),u=r-c.length,d=0;d<u;d++)t[n+d]=0;rn.arraycopy(c,0,t,n+u,c.length)},e}(),up=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i-1;o++)for(var l=n[o],c=0;c<a-1;c++){var u=l[c];u===l[c+1]&&u===n[o+1][c]&&u===n[o+1][c+1]&&r++}return e.N2*r},e.applyMaskPenaltyRule3=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var l=0;l<a;l++){var c=n[o];l+6<a&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(e.isWhiteHorizontal(c,l-4,l)||e.isWhiteHorizontal(c,l+7,l+11))&&r++,o+6<i&&n[o][l]===1&&n[o+1][l]===0&&n[o+2][l]===1&&n[o+3][l]===1&&n[o+4][l]===1&&n[o+5][l]===0&&n[o+6][l]===1&&(e.isWhiteVertical(n,l,o-4,o)||e.isWhiteVertical(n,l,o+7,o+11))&&r++}return r*e.N3},e.isWhiteHorizontal=function(t,r,n){r=Math.max(r,0),n=Math.min(n,t.length);for(var a=r;a<n;a++)if(t[a]===1)return!1;return!0},e.isWhiteVertical=function(t,r,n,a){n=Math.max(n,0),a=Math.min(a,t.length);for(var i=n;i<a;i++)if(t[i][r]===1)return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var l=n[o],c=0;c<a;c++)l[c]===1&&r++;var u=t.getHeight()*t.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*e.N4},e.getDataMaskBit=function(t,r,n){var a,i;switch(t){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new kt("Invalid mask pattern: "+t)}return a===0},e.applyMaskPenaltyRule1Internal=function(t,r){for(var n=0,a=r?t.getHeight():t.getWidth(),i=r?t.getWidth():t.getHeight(),o=t.getArray(),l=0;l<a;l++){for(var c=0,u=-1,d=0;d<i;d++){var f=r?o[l][d]:o[d][l];f===u?c++:(c>=5&&(n+=e.N1+(c-5)),c=1,u=f)}c>=5&&(n+=e.N1+(c-5))}return n},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}(),g6e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},v6e=function(){function e(t,r){this.width=t,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(t);this.bytes=n}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(t,r){return this.bytes[r][t]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(t,r,n){this.bytes[r][t]=n},e.prototype.setBoolean=function(t,r,n){this.bytes[r][t]=n?1:0},e.prototype.clear=function(t){var r,n;try{for(var a=g6e(this.bytes),i=a.next();!i.done;i=a.next()){var o=i.value;ua.fill(o,t)}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],o=r.bytes[n],l=0,c=this.width;l<c;++l)if(i[l]!==o[l])return!1;return!0},e.prototype.toString=function(){for(var t=new Zt,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,o=this.width;i<o;++i)switch(a[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},e}(),n4=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var t=new Zt;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},e.prototype.setMode=function(t){this.mode=t},e.prototype.setECLevel=function(t){this.ecLevel=t},e.prototype.setVersion=function(t){this.version=t},e.prototype.setMaskPattern=function(t){this.maskPattern=t},e.prototype.setMatrix=function(t){this.matrix=t},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}(),b6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sn=function(e){b6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="WriterException",t}(Ji),hk=function(){function e(){}return e.clearMatrix=function(t){t.clear(255)},e.buildMatrix=function(t,r,n,a,i){e.clearMatrix(i),e.embedBasicPatterns(n,i),e.embedTypeInfo(r,a,i),e.maybeEmbedVersionInfo(n,i),e.embedDataBits(t,a,i)},e.embedBasicPatterns=function(t,r){e.embedPositionDetectionPatternsAndSeparators(r),e.embedDarkDotAtLeftBottomCorner(r),e.maybeEmbedPositionAdjustmentPatterns(t,r),e.embedTimingPatterns(r)},e.embedTypeInfo=function(t,r,n){var a=new Ea;e.makeTypeInfoBits(t,r,a);for(var i=0,o=a.getSize();i<o;++i){var l=a.get(a.getSize()-1-i),c=e.TYPE_INFO_COORDINATES[i],u=c[0],d=c[1];if(n.setBoolean(u,d,l),i<8){var f=n.getWidth()-i-1,h=8;n.setBoolean(f,h,l)}else{var f=8,h=n.getHeight()-7+(i-8);n.setBoolean(f,h,l)}}},e.maybeEmbedVersionInfo=function(t,r){if(!(t.getVersionNumber()<7)){var n=new Ea;e.makeVersionInfoBits(t,n);for(var a=6*3-1,i=0;i<6;++i)for(var o=0;o<3;++o){var l=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,i,l)}}},e.embedDataBits=function(t,r,n){for(var a=0,i=-1,o=n.getWidth()-1,l=n.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var u=o-c;if(e.isEmpty(n.get(u,l))){var d=void 0;a<t.getSize()?(d=t.get(a),++a):d=!1,r!==255&&up.getDataMaskBit(r,u,l)&&(d=!d),n.setBoolean(u,l,d)}}l+=i}i=-i,l+=i,o-=2}if(a!==t.getSize())throw new sn("Not all bits consumed: "+a+"/"+t.getSize())},e.findMSBSet=function(t){return 32-er.numberOfLeadingZeros(t)},e.calculateBCHCode=function(t,r){if(r===0)throw new kt("0 polynomial");var n=e.findMSBSet(r);for(t<<=n-1;e.findMSBSet(t)>=n;)t^=r<<e.findMSBSet(t)-n;return t},e.makeTypeInfoBits=function(t,r,n){if(!n4.isValidMaskPattern(r))throw new sn("Invalid mask pattern");var a=t.getBits()<<3|r;n.appendBits(a,5);var i=e.calculateBCHCode(a,e.TYPE_INFO_POLY);n.appendBits(i,10);var o=new Ea;if(o.appendBits(e.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new sn("should not happen but we got: "+n.getSize())},e.makeVersionInfoBits=function(t,r){r.appendBits(t.getVersionNumber(),6);var n=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new sn("should not happen but we got: "+r.getSize())},e.isEmpty=function(t){return t===255},e.embedTimingPatterns=function(t){for(var r=8;r<t.getWidth()-8;++r){var n=(r+1)%2;e.isEmpty(t.get(r,6))&&t.setNumber(r,6,n),e.isEmpty(t.get(6,r))&&t.setNumber(6,r,n)}},e.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new sn;t.setNumber(8,t.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,r,n){for(var a=0;a<8;++a){if(!e.isEmpty(n.get(t+a,r)))throw new sn;n.setNumber(t+a,r,0)}},e.embedVerticalSeparationPattern=function(t,r,n){for(var a=0;a<7;++a){if(!e.isEmpty(n.get(t,r+a)))throw new sn;n.setNumber(t,r+a,0)}},e.embedPositionAdjustmentPattern=function(t,r,n){for(var a=0;a<5;++a)for(var i=e.POSITION_ADJUSTMENT_PATTERN[a],o=0;o<5;++o)n.setNumber(t+o,r+a,i[o])},e.embedPositionDetectionPattern=function(t,r,n){for(var a=0;a<7;++a)for(var i=e.POSITION_DETECTION_PATTERN[a],o=0;o<7;++o)n.setNumber(t+o,r+a,i[o])},e.embedPositionDetectionPatternsAndSeparators=function(t){var r=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-r,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-r,t);var n=8;e.embedHorizontalSeparationPattern(0,n-1,t),e.embedHorizontalSeparationPattern(t.getWidth()-n,n-1,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-n,t);var a=7;e.embedVerticalSeparationPattern(a,0,t),e.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),e.embedVerticalSeparationPattern(a,t.getHeight()-a,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,r){if(!(t.getVersionNumber()<2))for(var n=t.getVersionNumber()-1,a=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,o=a.length;i!==o;i++){var l=a[i];if(l>=0)for(var c=0;c!==o;c++){var u=a[c];u>=0&&e.isEmpty(r.get(u,l))&&e.embedPositionAdjustmentPattern(u-2,l-2,r)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}(),y6e=function(){function e(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}(),pk=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.calculateMaskPenalty=function(t){return up.applyMaskPenaltyRule1(t)+up.applyMaskPenaltyRule2(t)+up.applyMaskPenaltyRule3(t)+up.applyMaskPenaltyRule4(t)},e.encode=function(t,r,n){n===void 0&&(n=null);var a=e.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(Y1.CHARACTER_SET)!==void 0;i&&(a=n.get(Y1.CHARACTER_SET).toString());var o=this.chooseMode(t,a),l=new Ea;if(o===ln.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=la.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var u=new Ea;this.appendBytes(t,o,u,a);var d;if(n!==null&&n.get(Y1.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Y1.QR_VERSION).toString(),10);d=nd.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,l,u,d);if(!this.willFit(h,d,r))throw new sn("Data too big for requested version")}else d=this.recommendVersion(r,o,l,u);var p=new Ea;p.appendBitArray(l);var m=o===ln.BYTE?u.getSizeInBytes():t.length;this.appendLengthInfo(m,d,o,p),p.appendBitArray(u);var x=d.getECBlocksForLevel(r),g=d.getTotalCodewords()-x.getTotalECCodewords();this.terminateBits(g,p);var v=this.interleaveWithECBytes(p,d.getTotalCodewords(),g,x.getNumBlocks()),y=new n4;y.setECLevel(r),y.setMode(o),y.setVersion(d);var b=d.getDimensionForVersion(),_=new v6e(b,b),S=this.chooseMaskPattern(v,r,d,_);return y.setMaskPattern(S),hk.buildMatrix(v,r,d,S,_),y.setMatrix(_),y},e.recommendVersion=function(t,r,n,a){var i=this.calculateBitsNeeded(r,n,a,nd.getVersionForNumber(1)),o=this.chooseVersion(i,t),l=this.calculateBitsNeeded(r,n,a,o);return this.chooseVersion(l,t)},e.calculateBitsNeeded=function(t,r,n,a){return r.getSize()+t.getCharacterCountBits(a)+n.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,r){if(r===void 0&&(r=null),la.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return ln.KANJI;for(var n=!1,a=!1,i=0,o=t.length;i<o;++i){var l=t.charAt(i);if(e.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)a=!0;else return ln.BYTE}return a?ln.ALPHANUMERIC:n?ln.NUMERIC:ln.BYTE},e.isOnlyDoubleByteKanji=function(t){var r;try{r=Hs.encode(t,la.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(t,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<n4.NUM_MASK_PATTERNS;l++){hk.buildMatrix(t,r,n,l,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,o=l)}return o},e.chooseVersion=function(t,r){for(var n=1;n<=40;n++){var a=nd.getVersionForNumber(n);if(e.willFit(t,a,r))return a}throw new sn("Data too big")},e.willFit=function(t,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),o=i.getTotalECCodewords(),l=a-o,c=(t+7)/8;return l>=c},e.terminateBits=function(t,r){var n=t*8;if(r.getSize()>n)throw new sn("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var o=t-r.getSizeInBytes(),a=0;a<o;++a)r.appendBits(a&1?17:236,8);if(r.getSize()!==n)throw new sn("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(t,r,n,a,i,o){if(a>=n)throw new sn("Block ID too large");var l=t%n,c=n-l,u=Math.floor(t/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,m=d-h;if(p!==m)throw new sn("EC bytes mismatch");if(n!==c+l)throw new sn("RS blocks mismatch");if(t!==(f+p)*c+(h+m)*l)throw new sn("Total bytes mismatch");a<c?(i[0]=f,o[0]=p):(i[0]=h,o[0]=m)},e.interleaveWithECBytes=function(t,r,n,a){var i,o,l,c;if(t.getSizeInBytes()!==n)throw new sn("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<a;++p){var m=new Int32Array(1),x=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(r,n,a,p,m,x);var g=m[0],v=new Uint8Array(g);t.toBytes(8*u,v,0,g);var y=e.generateECBytes(v,x[0]);h.push(new y6e(v,y)),d=Math.max(d,g),f=Math.max(f,y.length),u+=m[0]}if(n!==u)throw new sn("Data bytes does not match offset");for(var b=new Ea,p=0;p<d;++p)try{for(var _=(i=void 0,pk(h)),S=_.next();!S.done;S=_.next()){var N=S.value,v=N.getDataBytes();p<v.length&&b.appendBits(v[p],8)}}catch(M){i={error:M}}finally{try{S&&!S.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}for(var p=0;p<f;++p)try{for(var j=(l=void 0,pk(h)),C=j.next();!C.done;C=j.next()){var N=C.value,y=N.getErrorCorrectionBytes();p<y.length&&b.appendBits(y[p],8)}}catch(M){l={error:M}}finally{try{C&&!C.done&&(c=j.return)&&c.call(j)}finally{if(l)throw l.error}}if(r!==b.getSizeInBytes())throw new sn("Interleaving error: "+r+" and "+b.getSizeInBytes()+" differ.");return b},e.generateECBytes=function(t,r){for(var n=t.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=t[i]&255;new LF(Wi.QR_CODE_FIELD_256).encode(a,r);for(var o=new Uint8Array(r),i=0;i<r;i++)o[i]=a[n+i];return o},e.appendModeInfo=function(t,r){r.appendBits(t.getBits(),4)},e.appendLengthInfo=function(t,r,n,a){var i=n.getCharacterCountBits(r);if(t>=1<<i)throw new sn(t+" is bigger than "+((1<<i)-1));a.appendBits(t,i)},e.appendBytes=function(t,r,n,a){switch(r){case ln.NUMERIC:e.appendNumericBytes(t,n);break;case ln.ALPHANUMERIC:e.appendAlphanumericBytes(t,n);break;case ln.BYTE:e.append8BitBytes(t,n,a);break;case ln.KANJI:e.appendKanjiBytes(t,n);break;default:throw new sn("Invalid mode: "+r)}},e.getDigit=function(t){return t.charCodeAt(0)-48},e.isDigit=function(t){var r=e.getDigit(t);return r>=0&&r<=9},e.appendNumericBytes=function(t,r){for(var n=t.length,a=0;a<n;){var i=e.getDigit(t.charAt(a));if(a+2<n){var o=e.getDigit(t.charAt(a+1)),l=e.getDigit(t.charAt(a+2));r.appendBits(i*100+o*10+l,10),a+=3}else if(a+1<n){var o=e.getDigit(t.charAt(a+1));r.appendBits(i*10+o,7),a+=2}else r.appendBits(i,4),a++}},e.appendAlphanumericBytes=function(t,r){for(var n=t.length,a=0;a<n;){var i=e.getAlphanumericCode(t.charCodeAt(a));if(i===-1)throw new sn;if(a+1<n){var o=e.getAlphanumericCode(t.charCodeAt(a+1));if(o===-1)throw new sn;r.appendBits(i*45+o,11),a+=2}else r.appendBits(i,6),a++}},e.append8BitBytes=function(t,r,n){var a;try{a=Hs.encode(t,n)}catch(c){throw new sn(c)}for(var i=0,o=a.length;i!==o;i++){var l=a[i];r.appendBits(l,8)}},e.appendKanjiBytes=function(t,r){var n;try{n=Hs.encode(t,la.SJIS)}catch(f){throw new sn(f)}for(var a=n.length,i=0;i<a;i+=2){var o=n[i]&255,l=n[i+1]&255,c=o<<8&4294967295|l,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new sn("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},e.appendECI=function(t,r){r.appendBits(ln.ECI.getBits(),4),r.appendBits(t.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=la.UTF8.getName(),e})();var w6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){w6e(t,e);function t(r,n,a,i,o,l,c,u){var d=e.call(this,l,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=a,d.left=i,d.top=o,i+l>n||o+c>a)throw new kt("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(l,c),d}return t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new kt("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return rn.arraycopy(this.yuvData,i,n,0,a),n},t.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return rn.arraycopy(this.yuvData,o,i,0,a),i;for(var l=0;l<n;l++){var c=l*r;rn.arraycopy(this.yuvData,o,i,c,r),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},t.prototype.renderThumbnail=function(){for(var r=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,u=0;u<r;u++){var d=i[o+u*t.THUMBNAIL_SCALE_FACTOR]&255;a[c+u]=4278190080|d*65793}o+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return a},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,o=this.top*this.dataWidth+this.left;i<n;i++,o+=this.dataWidth)for(var l=o+r/2,c=o,u=o+r-1;c<l;c++,u--){var d=a[c];a[c]=a[u],a[u]=d}},t.prototype.invert=function(){return new rb(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(dx);var _6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){_6e(t,e);function t(r,n,a,i,o,l,c){var u=e.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=o,u.left=l,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*a,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,x=p>>7&510,g=p&255;f[h]=(m+x+g)/4&255}u.luminances=f}else u.luminances=r;if(i===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=a),l===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new kt("Crop rectangle does not fit within image data.");return u}return t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new kt("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return rn.arraycopy(this.luminances,i,n,0,a),n},t.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return rn.arraycopy(this.luminances,o,i,0,a),i;for(var l=0;l<n;l++){var c=l*r;rn.arraycopy(this.luminances,o,i,c,r),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return new t(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},t.prototype.invert=function(){return new rb(this)},t})(dx);var N6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j6e=function(e){N6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.forName=function(r){return this.getCharacterSetECIByName(r)},t}(la),S6e=function(){function e(){}return e.ISO_8859_1=la.ISO8859_1,e}(),a4,A6e=301,C6e=function(e,t){for(var r=1,n=0;n<255;n++)t[n]=r,e[r]=n,r*=2,r>=256&&(r^=A6e);return{LOG:e,ALOG:t}};a4=C6e([],[]),a4.LOG;a4.ALOG;var mk;(function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(mk||(mk={}));var xk=129,BF=230,E6e=231,k6e=235,T6e=236,O6e=237,P6e=238,I6e=239,D6e=240,yw=254,M6e=254,gk="[)>05",vk="[)>06",bk="",Dr=0,Fa=1,bi=2,aa=3,_a=4,Qa=5,F6e=function(){function e(){}return e.prototype.getEncodingMode=function(){return Dr},e.prototype.encode=function(t){var r=bo.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(r>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var n=t.getCurrentChar(),a=bo.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Qa:t.writeCodeword(E6e),t.signalEncoderChange(Qa);return;case Fa:t.writeCodeword(BF),t.signalEncoderChange(Fa);return;case aa:t.writeCodeword(P6e),t.signalEncoderChange(aa);break;case bi:t.writeCodeword(I6e),t.signalEncoderChange(bi);break;case _a:t.writeCodeword(D6e),t.signalEncoderChange(_a);break;default:throw new Error("Illegal mode: "+a)}else bo.isExtendedASCII(n)?(t.writeCodeword(k6e),t.writeCodeword(n-128+1),t.pos++):(t.writeCodeword(n+1),t.pos++)}},e.prototype.encodeASCIIDigits=function(t,r){if(bo.isDigit(t)&&bo.isDigit(r)){var n=(t-48)*10+(r-48);return n+130}throw new Error("not digits: "+t+r)},e}(),R6e=function(){function e(){}return e.prototype.getEncodingMode=function(){return Qa},e.prototype.encode=function(t){var r=new Zt;for(r.append(0);t.hasMoreCharacters();){var n=t.getCurrentChar();r.append(n),t.pos++;var a=bo.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange(Dr);break}}var i=r.length()-1,o=1,l=t.getCodewordCount()+i+o;t.updateSymbolInfo(l);var c=t.getSymbolInfo().getDataCapacity()-l>0;if(t.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,dr.getCharAt(i));else if(i<=1555)r.setCharAt(0,dr.getCharAt(Math.floor(i/250)+249)),r.insert(1,dr.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=r.length();u<n;u++)t.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),t.getCodewordCount()+1))},e.prototype.randomize255State=function(t,r){var n=149*r%255+1,a=t+n;return a<=255?a:a-256},e}(),S3=function(){function e(){}return e.prototype.getEncodingMode=function(){return Fa},e.prototype.encodeMaximal=function(t){for(var r=new Zt,n=0,a=t.pos,i=0;t.hasMoreCharacters();){var o=t.getCurrentChar();t.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(a=t.pos,i=r.length())}if(i!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(t.getCodewordCount()+l+1);t.updateSymbolInfo(c);var u=t.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(t.pos=a)}r.length()>0&&t.writeCodeword(BF),this.handleEOD(t,r)},e.prototype.encode=function(t){for(var r=new Zt;t.hasMoreCharacters();){var n=t.getCurrentChar();t.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,o=t.getCodewordCount()+i;t.updateSymbolInfo(o);var l=t.getSymbolInfo().getDataCapacity()-o;if(!t.hasMoreCharacters()){var c=new Zt;for(r.length()%3===2&&l!==2&&(a=this.backtrackOneCharacter(t,r,c,a));r.length()%3===1&&(a>3||l!==1);)a=this.backtrackOneCharacter(t,r,c,a);break}var u=r.length();if(u%3===0){var d=bo.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){t.signalEncoderChange(Dr);break}}}this.handleEOD(t,r)},e.prototype.backtrackOneCharacter=function(t,r,n,a){var i=r.length(),o=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(o),t.pos--;var l=t.getCurrentChar();return a=this.encodeChar(l,n),t.resetSymbolInfo(),a},e.prototype.writeNextTriplet=function(t,r){t.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},e.prototype.handleEOD=function(t,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=t.getCodewordCount()+n;t.updateSymbolInfo(i);var o=t.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(t,r);t.hasMoreCharacters()&&t.writeCodeword(yw)}else if(o===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(t,r);t.hasMoreCharacters()&&t.writeCodeword(yw),t.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(t,r);(o>0||t.hasMoreCharacters())&&t.writeCodeword(yw)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(Dr)},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=65&&t<=90)return r.append(t-65+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t<=95)return r.append(1),r.append(t-91+22),2;if(t<=127)return r.append(2),r.append(t-96),2;r.append("1");var n=2;return n+=this.encodeChar(t-128,r),n},e.prototype.encodeToCodewords=function(t){var r=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,n=r/256,a=r%256,i=new Zt;return i.append(n),i.append(a),i.toString()},e}(),L6e=function(){function e(){}return e.prototype.getEncodingMode=function(){return _a},e.prototype.encode=function(t){for(var r=new Zt;t.hasMoreCharacters();){var n=t.getCurrentChar();this.encodeChar(n,r),t.pos++;var a=r.length();if(a>=4){t.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var o=bo.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(Dr);break}}}r.append(dr.getCharAt(31)),this.handleEOD(t,r)},e.prototype.handleEOD=function(t,r){try{var n=r.length();if(n===0)return;if(n===1){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>a&&(t.updateSymbolInfo(t.getCodewordCount()+1),a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,l=this.encodeToCodewords(r.toString()),c=!t.hasMoreCharacters(),u=c&&o<=2;if(o<=2){t.updateSymbolInfo(t.getCodewordCount()+o);var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();a>=3&&(u=!1,t.updateSymbolInfo(t.getCodewordCount()+l.length))}u?(t.resetSymbolInfo(),t.pos-=o):t.writeCodewords(l)}finally{t.signalEncoderChange(Dr)}},e.prototype.encodeChar=function(t,r){t>=32&&t<=63?r.append(t):t>=64&&t<=94?r.append(dr.getCharAt(t-64)):bo.illegalCharacter(dr.getCharAt(t))},e.prototype.encodeToCodewords=function(t){var r=t.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=t.charAt(0).charCodeAt(0),a=r>=2?t.charAt(1).charCodeAt(0):0,i=r>=3?t.charAt(2).charCodeAt(0):0,o=r>=4?t.charAt(3).charCodeAt(0):0,l=(n<<18)+(a<<12)+(i<<6)+o,c=l>>16&255,u=l>>8&255,d=l&255,f=new Zt;return f.append(c),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},e}(),B6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$6e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cr=function(){function e(t,r,n,a,i,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=t,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return e.lookup=function(t,r,n,a,i){var o,l;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=$6e(U6e),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(d.getSymbolWidth()>a.getWidth()||d.getSymbolHeight()>a.getHeight()))&&t<=d.dataCapacity)return d}}catch(f){o={error:f}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},e}(),z6e=function(e){B6e(t,e);function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},t}(Cr),U6e=[new Cr(!1,3,5,8,8,1),new Cr(!1,5,7,10,10,1),new Cr(!0,5,7,16,6,1),new Cr(!1,8,10,12,12,1),new Cr(!0,10,11,14,6,2),new Cr(!1,12,12,14,14,1),new Cr(!0,16,14,24,10,1),new Cr(!1,18,14,16,16,1),new Cr(!1,22,18,18,18,1),new Cr(!0,22,18,16,10,2),new Cr(!1,30,20,20,20,1),new Cr(!0,32,24,16,14,2),new Cr(!1,36,24,22,22,1),new Cr(!1,44,28,24,24,1),new Cr(!0,49,28,22,14,2),new Cr(!1,62,36,14,14,4),new Cr(!1,86,42,16,16,4),new Cr(!1,114,48,18,18,4),new Cr(!1,144,56,20,20,4),new Cr(!1,174,68,22,22,4),new Cr(!1,204,84,24,24,4,102,42),new Cr(!1,280,112,14,14,16,140,56),new Cr(!1,368,144,16,16,16,92,36),new Cr(!1,456,192,18,18,16,114,48),new Cr(!1,576,224,20,20,16,144,56),new Cr(!1,696,272,22,22,16,174,68),new Cr(!1,816,336,24,24,16,136,56),new Cr(!1,1050,408,18,18,36,175,68),new Cr(!1,1304,496,20,20,36,163,62),new z6e],H6e=function(){function e(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var r=t.split("").map(function(l){return l.charCodeAt(0)}),n=new Zt,a=0,i=r.length;a<i;a++){var o=String.fromCharCode(r[a]&255);if(o==="?"&&t.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Zt,this.newEncoding=-1}return e.prototype.setSymbolShape=function(t){this.shape=t},e.prototype.setSizeConstraints=function(t,r){this.minSize=t,this.maxSize=r},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(t){this.codewords.append(t)},e.prototype.writeCodeword=function(t){this.codewords.append(t)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(t){this.newEncoding=t},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Cr.lookup(t,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e}(),W6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V6e=function(e){W6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return aa},t.prototype.encode=function(r){for(var n=new Zt;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var o=bo.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Dr);break}}}this.handleEOD(r,n)},t.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):bo.illegalCharacter(dr.getCharAt(r));break}return 1},t.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(M6e),r.getNewEncoding()<0&&r.signalEncoderChange(Dr)},t}(S3),q6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G6e=function(e){q6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return bi},t.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},t}(S3),bo=function(){function e(){}return e.randomize253State=function(t){var r=149*t%253+1,n=xk+r;return n<=254?n:n-254},e.encodeHighLevel=function(t,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var o=new S3,l=[new F6e,o,new G6e,new V6e,new L6e,new R6e],c=new H6e(t);c.setSymbolShape(r),c.setSizeConstraints(n,a),t.startsWith(gk)&&t.endsWith(bk)?(c.writeCodeword(T6e),c.setSkipAtEnd(2),c.pos+=gk.length):t.startsWith(vk)&&t.endsWith(bk)&&(c.writeCodeword(O6e),c.setSkipAtEnd(2),c.pos+=vk.length);var u=Dr;for(i&&(o.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();d<f&&u!==Dr&&u!==Qa&&u!==_a&&c.writeCodeword("þ");var h=c.getCodewords();for(h.length()<f&&h.append(xk);h.length()<f;)h.append(this.randomize253State(h.length()+1));return c.getCodewords().toString()},e.lookAheadTest=function(t,r,n){var a=this.lookAheadTestIntern(t,r,n);if(n===aa&&a===aa){for(var i=Math.min(r+3,t.length),o=r;o<i;o++)if(!this.isNativeX12(t.charCodeAt(o)))return Dr}else if(n===_a&&a===_a){for(var i=Math.min(r+4,t.length),o=r;o<i;o++)if(!this.isNativeEDIFACT(t.charCodeAt(o)))return Dr}return a},e.lookAheadTestIntern=function(t,r,n){if(r>=t.length)return n;var a;n===Dr?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,o=new Uint8Array(6),l=[];;){if(r+i===t.length){ua.fill(o,0),ua.fill(l,0);var c=this.findMinimums(a,l,er.MAX_VALUE,o),u=this.getMinimumCount(o);if(l[Dr]===c)return Dr;if(u===1){if(o[Qa]>0)return Qa;if(o[_a]>0)return _a;if(o[bi]>0)return bi;if(o[aa]>0)return aa}return Fa}var d=t.charCodeAt(r+i);if(i++,this.isDigit(d)?a[Dr]+=.5:this.isExtendedASCII(d)?(a[Dr]=Math.ceil(a[Dr]),a[Dr]+=2):(a[Dr]=Math.ceil(a[Dr]),a[Dr]++),this.isNativeC40(d)?a[Fa]+=2/3:this.isExtendedASCII(d)?a[Fa]+=8/3:a[Fa]+=4/3,this.isNativeText(d)?a[bi]+=2/3:this.isExtendedASCII(d)?a[bi]+=8/3:a[bi]+=4/3,this.isNativeX12(d)?a[aa]+=2/3:this.isExtendedASCII(d)?a[aa]+=13/3:a[aa]+=10/3,this.isNativeEDIFACT(d)?a[_a]+=3/4:this.isExtendedASCII(d)?a[_a]+=17/4:a[_a]+=13/4,this.isSpecialB256(d)?a[Qa]+=4:a[Qa]++,i>=4){if(ua.fill(o,0),ua.fill(l,0),this.findMinimums(a,l,er.MAX_VALUE,o),l[Dr]<this.min(l[Qa],l[Fa],l[bi],l[aa],l[_a]))return Dr;if(l[Qa]<l[Dr]||l[Qa]+1<this.min(l[Fa],l[bi],l[aa],l[_a]))return Qa;if(l[_a]+1<this.min(l[Qa],l[Fa],l[bi],l[aa],l[Dr]))return _a;if(l[bi]+1<this.min(l[Qa],l[Fa],l[_a],l[aa],l[Dr]))return bi;if(l[aa]+1<this.min(l[Qa],l[Fa],l[_a],l[bi],l[Dr]))return aa;if(l[Fa]+1<this.min(l[Dr],l[Qa],l[_a],l[bi])){if(l[Fa]<l[aa])return Fa;if(l[Fa]===l[aa]){for(var f=r+i+1;f<t.length;){var h=t.charCodeAt(f);if(this.isX12TermSep(h))return aa;if(!this.isNativeX12(h))break;f++}return Fa}}}}},e.min=function(t,r,n,a,i){var o=Math.min(t,Math.min(r,Math.min(n,a)));return i===void 0?o:Math.min(o,i)},e.findMinimums=function(t,r,n,a){for(var i=0;i<6;i++){var o=r[i]=Math.ceil(t[i]);n>o&&(n=o,ua.fill(a,0)),n===o&&(a[i]=a[i]+1)}return n},e.getMinimumCount=function(t){for(var r=0,n=0;n<6;n++)r+=t[n];return r||0},e.isDigit=function(t){return t>=48&&t<=57},e.isExtendedASCII=function(t){return t>=128&&t<=255},e.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},e.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},e.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},e.isX12TermSep=function(t){return t===13||t===42||t===62},e.isNativeEDIFACT=function(t){return t>=32&&t<=94},e.isSpecialB256=function(t){return!1},e.determineConsecutiveDigitCount=function(t,r){r===void 0&&(r=0);for(var n=t.length,a=r;a<n&&this.isDigit(t.charCodeAt(a));)a++;return a-r},e.illegalCharacter=function(t){var r=er.toHexString(t.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+t+" (0x"+r+")")},e}(),ww=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yk=function(){function e(t){this.charset=t,this.name=t.name}return e.prototype.canEncode=function(t){try{return Hs.encode(t,this.charset)!=null}catch{return!1}},e}(),X6e=function(){function e(t,r,n){var a,i,o,l,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new yk(j6e.forName(P))}),this.encoders=[];var d=[];d.push(new yk(S6e.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<t.length;h++){var p=!1;try{for(var m=(a=void 0,ww(d)),x=m.next();!x.done;x=m.next()){var g=x.value,v=t.charAt(h),y=v.charCodeAt(0);if(y===n||g.canEncode(v)){p=!0;break}}}catch(P){a={error:P}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}if(!p)try{for(var b=(o=void 0,ww(this.ENCODERS)),_=b.next();!_.done;_=b.next()){var g=_.value;if(g.canEncode(t.charAt(h))){d.push(g),p=!0;break}}}catch(P){o={error:P}}finally{try{_&&!_.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var S=0;try{for(var N=ww(d),j=N.next();!j.done;j=N.next()){var g=j.value;this.encoders[S++]=g}}catch(P){c={error:P}}finally{try{j&&!j.done&&(u=N.return)&&u.call(N)}finally{if(c)throw c.error}}}var C=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){C=h;break}}this.priorityEncoderIndex=C}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},e.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},e.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(t,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(t,r){if(!(r<this.length()))throw new Error("index must be less than length");return Hs.encode(dr.getCharAt(t),this.encoders[r].name)},e}(),Y6e=3,K6e=function(){function e(t,r,n){this.fnc1=n;var a=new X6e(t,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var o=t.charAt(i).charCodeAt(0);this.bytes[i]=o===n?1e3:o}else this.bytes=this.encodeMinimally(t,a,n)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(t,r){if(t+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(t+n))return!1;return!0},e.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},e.prototype.subSequence=function(t,r){if(t<0||t>r||r>this.length())throw new Error(""+t);for(var n=new Zt,a=t;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},e.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},e.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},e.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},e.prototype.addEdge=function(t,r,n){(t[r][n.encoderIndex]==null||t[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(t[r][n.encoderIndex]=n)},e.prototype.addEdges=function(t,r,n,a,i,o){var l=t.charAt(a).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(l===o||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(l===o||r.canEncode(l,d))&&this.addEdge(n,a+1,new wk(l,r,d,i,o))},e.prototype.encodeMinimally=function(t,r,n){var a=t.length,i=new wk[a+1][r.length()];this.addEdges(t,r,i,0,null,n);for(var o=1;o<=a;o++){for(var l=0;l<r.length();l++)i[o][l]!=null&&o<a&&this.addEdges(t,r,i,o,i[o][l],n);for(var l=0;l<r.length();l++)i[o-1][l]=null}for(var c=-1,u=er.MAX_VALUE,l=0;l<r.length();l++)if(i[a][l]!=null){var d=i[a][l];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+t+'"');for(var f=[],h=i[a][c];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var x=[],o=0;o<x.length;o++)x[o]=f[o];return x},e}(),wk=function(){function e(t,r,n,a,i){this.c=t,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=t===i?1e3:t;var o=this.isFNC1()?1:r.encode(t,n).length,l=a===null?0:a.encoderIndex;l!==n&&(o+=Y6e),a!=null&&(o+=a.cachedTotalSize),this.cachedTotalSize=o}return e.prototype.isFNC1=function(){return this.c===1e3},e}(),J6e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var _k;(function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"})(_k||(_k={}));(function(e){J6e(t,e);function t(r,n,a,i,o){var l=e.call(this,r,n,a)||this;return l.shape=i,l.macroId=o,l}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(K6e);var Z6e=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(t){this.compact=t},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(t){this.size=t},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(t){this.layers=t},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(t){this.codeWords=t},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(t){this.matrix=t},e}(),Nk=function(){function e(){}return e.singletonList=function(t){return[t]},e.min=function(t,r){return t.sort(r)[0]},e}(),Q6e=function(){function e(t){this.previous=t}return e.prototype.getPrevious=function(){return this.previous},e}(),eEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A3=function(e){eEe(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.value=n,i.bitCount=a,i}return t.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},t.prototype.add=function(r,n){return new t(this,r,n)},t.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,r,n)},t.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+er.toBinaryString(r|1<<this.bitCount).substring(1)+">"},t}(Q6e),tEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rEe=function(e){tEe(t,e);function t(r,n,a){var i=e.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return t.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},t.prototype.addBinaryShift=function(r,n){return new t(this,r,n)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(A3);function nEe(e,t,r){return new rEe(e,t,r)}function ep(e,t,r){return new A3(e,t,r)}var aEe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yc=0,Vv=1,Us=2,$F=3,Zo=4,iEe=new A3(null,0,0),_w=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],sEe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function oEe(e){var t,r;try{for(var n=sEe(e),a=n.next();!a.done;a=n.next()){var i=a.value;ua.fill(i,-1)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e[Yc][Zo]=0,e[Vv][Zo]=0,e[Vv][Yc]=28,e[$F][Zo]=0,e[Us][Zo]=0,e[Us][Yc]=15,e}var zF=oEe(ua.createInt32Array(6,6)),lEe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cEe=function(){function e(t,r,n,a){this.token=t,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,r){var n=this.bitCount,a=this.token;if(t!==this.mode){var i=_w[this.mode][t];a=ep(a,i&65535,i>>16),n+=i>>16}var o=t===Us?4:5;return a=ep(a,r,o),new e(a,t,0,n+o)},e.prototype.shiftAndAppend=function(t,r){var n=this.token,a=this.mode===Us?4:5;return n=ep(n,zF[this.mode][t],a),n=ep(n,r,5),new e(n,this.mode,0,this.bitCount+a+5)},e.prototype.addBinaryShiftChar=function(t){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===Zo||this.mode===Us){var i=_w[n][Yc];r=ep(r,i&65535,i>>16),a+=i>>16,n=Yc}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new e(r,n,this.binaryShiftByteCount+1,a+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(t+1)),l},e.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=nEe(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new e(r,this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var r=this.bitCount+(_w[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount},e.prototype.toBitArray=function(t){for(var r,n,a=[],i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())a.unshift(i);var o=new Ea;try{for(var l=lEe(a),c=l.next();!c.done;c=l.next()){var u=c.value;u.appendTo(o,t)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},e.prototype.toString=function(){return dr.format("%s bits=%d bytes=%d",aEe[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(iEe,Yc,0,0),e}();function uEe(e){var t=dr.getCharCode(" "),r=dr.getCharCode("."),n=dr.getCharCode(",");e[Yc][t]=1;for(var a=dr.getCharCode("Z"),i=dr.getCharCode("A"),o=i;o<=a;o++)e[Yc][o]=o-i+2;e[Vv][t]=1;for(var l=dr.getCharCode("z"),c=dr.getCharCode("a"),o=c;o<=l;o++)e[Vv][o]=o-c+2;e[Us][t]=1;for(var u=dr.getCharCode("9"),d=dr.getCharCode("0"),o=d;o<=u;o++)e[Us][o]=o-d+2;e[Us][n]=12,e[Us][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)e[$F][dr.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)dr.getCharCode(p[h])>0&&(e[Zo][dr.getCharCode(p[h])]=h);return e}var Nw=uEe(ua.createInt32Array(5,256)),K1=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dEe=function(){function e(t){this.text=t}return e.prototype.encode=function(){for(var t=dr.getCharCode(" "),r=dr.getCharCode(`
`),n=Nk.singletonList(cEe.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,o=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case dr.getCharCode("\r"):i=o===r?2:0;break;case dr.getCharCode("."):i=o===t?3:0;break;case dr.getCharCode(","):i=o===t?4:0;break;case dr.getCharCode(":"):i=o===t?5:0;break;default:i=0}i>0?(n=e.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var l=Nk.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return l.toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,r){var n,a,i=[];try{for(var o=K1(t),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,r,i)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return e.simplifyStates(i)},e.prototype.updateStateForChar=function(t,r,n){for(var a=this.text[r]&255,i=Nw[t.getMode()][a]>0,o=null,l=0;l<=Zo;l++){var c=Nw[l][a];if(c>0){if(o==null&&(o=t.endBinaryShift(r)),!i||l===t.getMode()||l===Us){var u=o.latchAndAppend(l,c);n.push(u)}if(!i&&zF[t.getMode()][l]>=0){var d=o.shiftAndAppend(l,c);n.push(d)}}}if(t.getBinaryShiftByteCount()>0||Nw[t.getMode()][a]===0){var f=t.addBinaryShiftChar(r);n.push(f)}},e.updateStateListForPair=function(t,r,n){var a,i,o=[];try{for(var l=K1(t),c=l.next();!c.done;c=l.next()){var u=c.value;this.updateStateForPair(u,r,n,o)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return this.simplifyStates(o)},e.updateStateForPair=function(t,r,n,a){var i=t.endBinaryShift(r);if(a.push(i.latchAndAppend(Zo,n)),t.getMode()!==Zo&&a.push(i.shiftAndAppend(Zo,n)),n===3||n===4){var o=i.latchAndAppend(Us,16-n).latchAndAppend(Us,1);a.push(o)}if(t.getBinaryShiftByteCount()>0){var l=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(l)}},e.simplifyStates=function(t){var r,n,a,i,o=[];try{for(var l=K1(t),c=l.next();!c.done;c=l.next()){var u=c.value,d=!0,f=function(g){if(g.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(g)&&(o=o.filter(function(v){return v!==g}))};try{for(var h=(a=void 0,K1(o)),p=h.next();!p.done;p=h.next()){var m=p.value,x=f(m);if(x==="break")break}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}d&&o.push(u)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},e}(),fEe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,r,n){var a=new dEe(t).encode(),i=er.truncDivision(a.getSize()*r,100)+11,o=a.getSize()+i,l,c,u,d,f;if(n!==e.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new kt(dr.format("Illegal value %s for layers",n));u=e.totalBitsInLayer(c,l),d=e.WORD_SIZE[c];var h=u-u%d;if(f=e.stuffBits(a,d),f.getSize()+i>h)throw new kt("Data to large for user specified layer");if(l&&f.getSize()>d*64)throw new kt("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>e.MAX_NB_BITS)throw new kt("Data too large for an Aztec code");if(l=p<=3,c=l?p+1:p,u=e.totalBitsInLayer(c,l),!(o>u)){(f==null||d!==e.WORD_SIZE[c])&&(d=e.WORD_SIZE[c],f=e.stuffBits(a,d));var h=u-u%d;if(!(l&&f.getSize()>d*64)&&f.getSize()+i<=h)break}}}var m=e.generateCheckWords(f,u,d),x=f.getSize()/d,g=e.generateModeMessage(l,c,x),v=(l?11:14)+c*4,y=new Int32Array(v),b;if(l){b=v;for(var p=0;p<y.length;p++)y[p]=p}else{b=v+1+2*er.truncDivision(er.truncDivision(v,2)-1,15);for(var _=er.truncDivision(v,2),S=er.truncDivision(b,2),p=0;p<_;p++){var N=p+er.truncDivision(p,15);y[_-p-1]=S-N-1,y[_+p]=S+N+1}}for(var j=new ll(b),p=0,C=0;p<c;p++){for(var P=(c-p)*4+(l?9:12),M=0;M<P;M++)for(var k=M*2,E=0;E<2;E++)m.get(C+k+E)&&j.set(y[p*2+E],y[p*2+M]),m.get(C+P*2+k+E)&&j.set(y[p*2+M],y[v-1-p*2-E]),m.get(C+P*4+k+E)&&j.set(y[v-1-p*2-E],y[v-1-p*2-M]),m.get(C+P*6+k+E)&&j.set(y[v-1-p*2-M],y[p*2+E]);C+=P*8}if(e.drawModeMessage(j,l,b,g),l)e.drawBullsEye(j,er.truncDivision(b,2),5);else{e.drawBullsEye(j,er.truncDivision(b,2),7);for(var p=0,M=0;p<er.truncDivision(v,2)-1;p+=15,M+=16)for(var E=er.truncDivision(b,2)&1;E<b;E+=2)j.set(er.truncDivision(b,2)-M,E),j.set(er.truncDivision(b,2)+M,E),j.set(E,er.truncDivision(b,2)-M),j.set(E,er.truncDivision(b,2)+M)}var R=new Z6e;return R.setCompact(l),R.setSize(b),R.setLayers(c),R.setCodeWords(x),R.setMatrix(j),R},e.drawBullsEye=function(t,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)t.set(i,r-a),t.set(i,r+a),t.set(r-a,i),t.set(r+a,i);t.set(r-n,r-n),t.set(r-n+1,r-n),t.set(r-n,r-n+1),t.set(r+n,r-n),t.set(r+n,r-n+1),t.set(r+n,r+n-1)},e.generateModeMessage=function(t,r,n){var a=new Ea;return t?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=e.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=e.generateCheckWords(a,40,4)),a},e.drawModeMessage=function(t,r,n,a){var i=er.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var l=i-3+o;a.get(o)&&t.set(l,i-5),a.get(o+7)&&t.set(i+5,l),a.get(20-o)&&t.set(l,i+5),a.get(27-o)&&t.set(i-5,l)}else for(var o=0;o<10;o++){var l=i-5+o+er.truncDivision(o,5);a.get(o)&&t.set(l,i-7),a.get(o+10)&&t.set(i+7,l),a.get(29-o)&&t.set(l,i+7),a.get(39-o)&&t.set(i-7,l)}},e.generateCheckWords=function(t,r,n){var a,i,o=t.getSize()/n,l=new LF(e.getGF(n)),c=er.truncDivision(r,n),u=e.bitsToWords(t,n,c);l.encode(u,c-o);var d=r%n,f=new Ea;f.appendBits(0,d);try{for(var h=fEe(Array.from(u)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return f},e.bitsToWords=function(t,r,n){var a=new Int32Array(n),i,o;for(i=0,o=t.getSize()/r;i<o;i++){for(var l=0,c=0;c<r;c++)l|=t.get(i*r+c)?1<<r-c-1:0;a[i]=l}return a},e.getGF=function(t){switch(t){case 4:return Wi.AZTEC_PARAM;case 6:return Wi.AZTEC_DATA_6;case 8:return Wi.AZTEC_DATA_8;case 10:return Wi.AZTEC_DATA_10;case 12:return Wi.AZTEC_DATA_12;default:throw new kt("Unsupported word size "+t)}},e.stuffBits=function(t,r){for(var n=new Ea,a=t.getSize(),i=(1<<r)-2,o=0;o<a;o+=r){for(var l=0,c=0;c<r;c++)(o+c>=a||t.get(o+c))&&(l|=1<<r-1-c);(l&i)===i?(n.appendBits(l&i,r),o--):l&i?n.appendBits(l,r):(n.appendBits(l|1,r),o--)}return n},e.totalBitsInLayer=function(t,r){return((r?88:112)+16*t)*t},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e})();var hEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pEe=function(e){hEe(t,e);function t(r){var n=e.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=t.makeBufferFromCanvasImageData(r),n}return t.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var a=n.getImageData(0,0,r.width,r.height);return t.toGrayscaleBuffer(a.data,r.width,r.height)},t.toGrayscaleBuffer=function(r,n,a){for(var i=new Uint8ClampedArray(n*a),o=0,l=0,c=r.length;o<c;o+=4,l++){var u=void 0,d=r[o+3];if(d===0)u=255;else{var f=r[o],h=r[o+1],p=r[o+2];u=306*f+601*h+117*p+512>>10}i[l]=u}return i},t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new kt("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return e.prototype.crop.call(this,r,n,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new rb(this)},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},t.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var a=r*t.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*i+Math.abs(Math.sin(a))*o),c=Math.ceil(Math.abs(Math.sin(a))*i+Math.abs(Math.cos(a))*o);n.width=l,n.height=c;var u=n.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(l/2,c/2),u.rotate(a),u.drawImage(this.canvas,i/-2,o/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.DEGREE_TO_RADIANS=Math.PI/180,t}(dx);function UF(){return typeof navigator<"u"}function mEe(){return UF()&&!!navigator.mediaDevices}function xEe(){return!!(mEe()&&navigator.mediaDevices.enumerateDevices)}var L0=function(){return L0=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},L0.apply(this,arguments)},xn=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},gn=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jw=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gEe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},ah=function(){function e(t,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=t,this.hints=r,this.options=L0(L0({},gEe),n)}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(nn.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),e.addVideoSource=function(t,r){try{t.srcObject=r}catch{console.error("got interrupted by new loading request")}},e.mediaStreamSetTorch=function(t,r){return xn(this,void 0,void 0,function(){return gn(this,function(n){switch(n.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},e.mediaStreamIsTorchCompatible=function(t){var r,n,a=t.getVideoTracks();try{for(var i=jw(a),o=i.next();!o.done;o=i.next()){var l=o.value;if(e.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},e.mediaStreamIsTorchCompatibleTrack=function(t){try{var r=t.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},e.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},e.getMediaElement=function(t,r){var n=document.getElementById(t);if(!n)throw new Mn("element with id '".concat(t,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Mn("element with id '".concat(t,"' must be an ").concat(r," element"));return n},e.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if(typeof t=="string")return e.getMediaElement(t,"video");if(!t&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},e.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if(typeof t=="string")return e.getMediaElement(t,"img");if(typeof t>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},e.prepareVideoElement=function(t){var r=e.createVideoElement(t);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.createBinaryBitmapFromCanvas=function(t){var r=new pEe(t),n=new AF(r);return new SF(n)},e.drawImageOnCanvas=function(t,r){t.drawImage(r,0,0)},e.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimensions!")},e.createCaptureCanvas=function(t){if(!t)throw new Mn("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=e.getMediaElementDimensions(t),a=n.width,i=n.height;return r.style.width=a+"px",r.style.height=i+"px",r.width=a,r.height=i,r},e.tryPlayVideo=function(t){return xn(this,void 0,void 0,function(){var r;return gn(this,function(n){switch(n.label){case 0:if(t!=null&&t.ended)return console.error("Trying to play video that has ended."),[2,!1];if(e.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},e.createCanvasFromMediaElement=function(t){var r=e.createCaptureCanvas(t),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return e.drawImageOnCanvas(n,t),r},e.createBinaryBitmapFromMediaElem=function(t){var r=e.createCanvasFromMediaElement(t);return e.createBinaryBitmapFromCanvas(r)},e.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},e.listVideoInputDevices=function(){return xn(this,void 0,void 0,function(){var t,r,n,a,i,o,l,c,u,d,f,h;return gn(this,function(p){switch(p.label){case 0:if(!UF())throw new Error("Can't enumerate devices, navigator is not present.");if(!xEe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=p.sent(),r=[];try{for(n=jw(t),a=n.next();!a.done;a=n.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(l=i.deviceId||i.id,c=i.label||"Video device ".concat(r.length+1),u=i.groupId,d={deviceId:l,label:c,kind:o,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},e.findDeviceById=function(t){return xn(this,void 0,void 0,function(){var r;return gn(this,function(n){switch(n.label){case 0:return[4,e.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===t})]:[2]}})})},e.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch{t.src=""}t&&t.removeAttribute("src")}},e.releaseAllStreams=function(){e.streamTracker.length!==0&&e.streamTracker.forEach(function(t){t.getTracks().forEach(function(r){return r.stop()})}),e.streamTracker=[]},e.playVideoOnLoadAsync=function(t,r){return xn(this,void 0,void 0,function(){var n;return gn(this,function(a){switch(a.label){case 0:return[4,e.tryPlayVideo(t)];case 1:return n=a.sent(),n?[2,!0]:[2,new Promise(function(i,o){var l=setTimeout(function(){e.isVideoPlaying(t)||(o(!1),t.removeEventListener("canplay",c))},r),c=function(){e.tryPlayVideo(t).then(function(u){clearTimeout(l),t.removeEventListener("canplay",c),i(u)})};t.addEventListener("canplay",c)})]}})})},e.attachStreamToVideo=function(t,r,n){return n===void 0&&(n=5e3),xn(this,void 0,void 0,function(){var a;return gn(this,function(i){switch(i.label){case 0:return a=e.prepareVideoElement(r),e.addVideoSource(a,t),[4,e.playVideoOnLoadAsync(a,n)];case 1:return i.sent(),[2,a]}})})},e._waitImageLoad=function(t){return new Promise(function(r,n){var a=1e4,i=setTimeout(function(){e.isImageLoaded(t)||(t.removeEventListener("load",o),n())},a),o=function(){clearTimeout(i),t.removeEventListener("load",o),r()};t.addEventListener("load",o)})},e.checkCallbackFnOrThrow=function(t){if(!t)throw new Mn("`callbackFn` is a required parameter, you cannot capture results without it.")},e.disposeMediaStream=function(t){t.getVideoTracks().forEach(function(r){return r.stop()}),t=void 0},e.prototype.decode=function(t){var r=e.createCanvasFromMediaElement(t);return this.decodeFromCanvas(r)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},e.prototype.decodeFromCanvas=function(t){var r=e.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(r)},e.prototype.decodeFromImageElement=function(t){return xn(this,void 0,void 0,function(){var r;return gn(this,function(n){switch(n.label){case 0:if(!t)throw new Mn("An image element must be provided.");return r=e.prepareImageElement(t),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeFromImageUrl=function(t){return xn(this,void 0,void 0,function(){var r;return gn(this,function(n){switch(n.label){case 0:if(!t)throw new Mn("An URL must be provided.");r=e.prepareImageElement(),r.src=t,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return e.destroyImageElement(r),[7];case 4:return[2]}})})},e.prototype.decodeFromConstraints=function(t,r,n){return xn(this,void 0,void 0,function(){var a,i;return gn(this,function(o){switch(o.label){case 0:return e.checkCallbackFnOrThrow(n),[4,this.getUserMedia(t)];case 1:a=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(a,r,n)];case 3:return[2,o.sent()];case 4:throw i=o.sent(),e.disposeMediaStream(a),i;case 5:return[2]}})})},e.prototype.decodeFromStream=function(t,r,n){return xn(this,void 0,void 0,function(){var a,i,o,l,c,u,d,f,h,p=this;return gn(this,function(m){switch(m.label){case 0:return e.checkCallbackFnOrThrow(n),a=this.options.tryPlayVideoTimeout,[4,e.attachStreamToVideo(t,r,a)];case 1:return i=m.sent(),o=function(){e.disposeMediaStream(t),e.cleanVideoSource(i)},l=this.scan(i,n,o),c=t.getVideoTracks(),u=L0(L0({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(x,g){return xn(this,void 0,void 0,function(){var v,y,b,_,S,N,j;return gn(this,function(C){switch(C.label){case 0:v=g?c.filter(g):c,C.label=1;case 1:C.trys.push([1,6,7,8]),y=jw(v),b=y.next(),C.label=2;case 2:return b.done?[3,5]:(_=b.value,[4,_.applyConstraints(x)]);case 3:C.sent(),C.label=4;case 4:return b=y.next(),[3,2];case 5:return[3,8];case 6:return S=C.sent(),N={error:S},[3,8];case 7:try{b&&!b.done&&(j=y.return)&&j.call(y)}finally{if(N)throw N.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(x){return c.find(x).getConstraints()},streamVideoSettingsGet:function(x){return c.find(x).getSettings()},streamVideoCapabilitiesGet:function(x){return c.find(x).getCapabilities()}}),d=e.mediaStreamIsTorchCompatible(t),d&&(f=c==null?void 0:c.find(function(x){return e.mediaStreamIsTorchCompatibleTrack(x)}),h=function(x){return xn(p,void 0,void 0,function(){return gn(this,function(g){switch(g.label){case 0:return[4,e.mediaStreamSetTorch(f,x)];case 1:return g.sent(),[2]}})})},u.switchTorch=h,u.stop=function(){return xn(p,void 0,void 0,function(){return gn(this,function(x){switch(x.label){case 0:return l.stop(),[4,h(!1)];case 1:return x.sent(),[2]}})})}),[2,u]}})})},e.prototype.decodeFromVideoDevice=function(t,r,n){return xn(this,void 0,void 0,function(){var a,i;return gn(this,function(o){switch(o.label){case 0:return e.checkCallbackFnOrThrow(n),t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromVideoElement=function(t,r){return xn(this,void 0,void 0,function(){var n,a;return gn(this,function(i){switch(i.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new Mn("A video element must be provided.");return n=e.prepareVideoElement(t),a=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,a)];case 1:return i.sent(),[2,this.scan(n,r)]}})})},e.prototype.decodeFromVideoUrl=function(t,r){return xn(this,void 0,void 0,function(){var n,a,i,o;return gn(this,function(l){switch(l.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new Mn("An URL must be provided.");return n=e.prepareVideoElement(),n.src=t,a=function(){e.cleanVideoSource(n)},i=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,i)];case 1:return l.sent(),o=this.scan(n,r,a),[2,o]}})})},e.prototype.decodeOnceFromConstraints=function(t,r){return xn(this,void 0,void 0,function(){var n;return gn(this,function(a){switch(a.label){case 0:return[4,this.getUserMedia(t)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,r){return xn(this,void 0,void 0,function(){var n,a,i;return gn(this,function(o){switch(o.label){case 0:return n=!!r,[4,e.attachStreamToVideo(t,r)];case 1:a=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(a)];case 3:return i=o.sent(),[2,i];case 4:return n||e.cleanVideoSource(a),[7];case 5:return[2]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,r){return xn(this,void 0,void 0,function(){var n,a;return gn(this,function(i){switch(i.label){case 0:return t?n={deviceId:{exact:t}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromVideoElement=function(t){return xn(this,void 0,void 0,function(){var r,n;return gn(this,function(a){switch(a.label){case 0:if(!t)throw new Mn("A video element must be provided.");return r=e.prepareVideoElement(t),n=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(r,n)];case 1:return a.sent(),[4,this.scanOneResult(r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromVideoUrl=function(t){return xn(this,void 0,void 0,function(){var r,n;return gn(this,function(a){switch(a.label){case 0:if(!t)throw new Mn("An URL must be provided.");r=e.prepareVideoElement(),r.src=t,n=this.decodeOnceFromVideoElement(r),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,n];case 2:return[2,a.sent()];case 3:return e.cleanVideoSource(r),[7];case 4:return[2]}})})},e.prototype.scanOneResult=function(t,r,n,a){var i=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),new Promise(function(o,l){i.scan(t,function(c,u,d){if(c){o(c),d.stop();return}if(u){if(u instanceof Xe&&r||u instanceof Jn&&n||u instanceof st&&a)return;d.stop(),l(u)}})})},e.prototype.scan=function(t,r,n){var a=this;e.checkCallbackFnOrThrow(r);var i=e.createCaptureCanvas(t),o;try{o=i.getContext("2d",{willReadFrequently:!0})}catch{o=i.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){o=void 0,i=void 0},c=!1,u,d=function(){c=!0,clearTimeout(u),l(),n&&n()},f={stop:d},h=function(){if(!c)try{e.drawImageOnCanvas(o,t);var p=a.decodeFromCanvas(i);r(p,void 0,f),u=setTimeout(h,a.options.delayBetweenScanSuccess)}catch(v){r(void 0,v,f);var m=v instanceof Jn,x=v instanceof st,g=v instanceof Xe;if(m||x||g){u=setTimeout(h,a.options.delayBetweenScanAttempts);return}l(),n&&n(v)}};return h(),f},e.prototype._decodeOnLoadImage=function(t){return xn(this,void 0,void 0,function(){var r;return gn(this,function(n){switch(n.label){case 0:return r=e.isImageLoaded(t),r?[3,2]:[4,e._waitImageLoad(t)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(t)]}})})},e.prototype.getUserMedia=function(t){return xn(this,void 0,void 0,function(){var r;return gn(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=n.sent(),e.streamTracker.push(r),[2,r]}})})},e.streamTracker=[],e}(),vEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){vEe(t,e);function t(r,n){return e.call(this,new $v,r,n)||this}return t})(ah);var bEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){bEe(t,e);function t(r,n){return e.call(this,new F0(r),r,n)||this}return t})(ah);var yEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){yEe(t,e);function t(r,n){return e.call(this,new Uv,r,n)||this}return t})(ah);var wEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){wEe(t,e);function t(r,n){var a=this,i=new RF;return i.setHints(r),a=e.call(this,i,r,n)||this,a.reader=i,a}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(r){this.hints.set(nn.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},t.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},t})(ah);var _Ee=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){_Ee(t,e);function t(r,n){return e.call(this,new Wv,r,n)||this}return t})(ah);var NEe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jEe=function(e){NEe(t,e);function t(r,n){return e.call(this,new Hv,r,n)||this}return t}(ah);const Sw=[{id:"lot001",name:"Lot Huîtres A",date:"2023-05-12",type:"lot",location:"Bassin 3",status:"Optimal",stock:{quantity:"500",unit:"kg"}},{id:"lot002",name:"Lot Huîtres B",date:"2023-05-15",type:"lot",location:"Bassin 2",status:"Attention",stock:{quantity:"350",unit:"kg"}},{id:"lot003",name:"Lot Huîtres C",date:"2023-06-01",type:"lot",location:"Stockage 1",status:"Optimal",stock:{quantity:"200",unit:"kg"}}],Aw=[{id:"bassin001",name:"Bassin 1",date:"2023-04-01",type:"bassin",location:"Zone production nord",status:"Optimal",occupation:"75%",nextMaintenance:"2023-07-15",stock:{quantity:"850",unit:"kg"},stats:[{label:"Température",value:"12.3°C"},{label:"Oxygène",value:"7.8 mg/L"},{label:"Produit",value:"Huîtres N°2"}]},{id:"bassin002",name:"Bassin 2",date:"2023-04-05",type:"bassin",location:"Zone production est",status:"Attention",occupation:"45%",nextMaintenance:"2023-07-10",stock:{quantity:"420",unit:"kg"},stats:[{label:"Température",value:"11.9°C"},{label:"Oxygène",value:"6.5 mg/L"},{label:"Produit",value:"Moules de mer"}]},{id:"bassin003",name:"Bassin 3",date:"2023-04-10",type:"bassin",location:"Zone production sud",status:"Optimal",occupation:"90%",nextMaintenance:"2023-07-20",stock:{quantity:"950",unit:"kg"},stats:[{label:"Température",value:"12.1°C"},{label:"Oxygène",value:"7.2 mg/L"},{label:"Produit",value:"Huîtres N°3"}]}],J1=[{id:"storage-0001",name:"Frigo 1",type:"storage",date:"2023-04-20",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"500 kg"},{label:"Occupation",value:"65%"},{label:"Température",value:"4.5°C"},{label:"Humidité",value:"85%"}],products:[{name:"Huîtres Fines de Claire N°3",quantity:"180 kg",dlc:"05/04/2025"},{name:"Huîtres Spéciales N°2",quantity:"145 kg",dlc:"08/04/2025"}]},{id:"storage-0002",name:"Frigo 2",type:"storage",date:"2023-04-25",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"300 kg"},{label:"Occupation",value:"30%"},{label:"Température",value:"5.2°C"},{label:"Humidité",value:"80%"}],products:[{name:"Huîtres Plates",quantity:"60 kg",dlc:"10/04/2025"},{name:"Moules de Bouchot",quantity:"30 kg",dlc:"02/04/2025"}]},{id:"storage-0003",name:"Congélateur 1",type:"storage",date:"2023-04-30",location:"Zone de stockage secondaire",status:"Attention",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"200 kg"},{label:"Occupation",value:"85%"},{label:"Température",value:"-18.2°C"},{label:"Humidité",value:"40%"}],products:[{name:"Fruits de mer congelés",quantity:"95 kg",dlc:"20/10/2025"},{name:"Poissons congelés",quantity:"75 kg",dlc:"15/09/2025"}]},{id:"storage-0004",name:"Congélateur 2",type:"storage",date:"2023-05-05",location:"Zone de stockage secondaire",status:"Optimal",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"150 kg"},{label:"Occupation",value:"40%"},{label:"Température",value:"-20.5°C"},{label:"Humidité",value:"35%"}],products:[{name:"Crustacés congelés",quantity:"35 kg",dlc:"25/11/2025"},{name:"Préparations maison",quantity:"25 kg",dlc:"30/08/2025"}]},{id:"storage-0005",name:"Remise",type:"storage",date:"2023-05-10",location:"Arrière bâtiment",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"1000 kg"},{label:"Occupation",value:"55%"},{label:"Température",value:"15.0°C"},{label:"Humidité",value:"60%"}],products:[{name:"Matériel d'emballage",quantity:"300 kg",dlc:"N/A"},{name:"Équipement de manutention",quantity:"250 kg",dlc:"N/A"}]},{id:"storage-0006",name:"Cave",type:"storage",date:"2023-05-15",location:"Sous-sol",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"800 kg"},{label:"Occupation",value:"25%"},{label:"Température",value:"12.5°C"},{label:"Humidité",value:"75%"}],products:[{name:"Conserves",quantity:"120 kg",dlc:"31/12/2026"},{name:"Fournitures diverses",quantity:"80 kg",dlc:"N/A"}]}],jk=[{id:"bl001",reference:"BL-2023-001",date:"2023-06-05",type:"bl",client:"Restaurant La Marée",status:"Livré",products:[{name:"Huîtres calibre 3",quantity:"20kg"},{name:"Huîtres calibre 2",quantity:"15kg"}],notes:"Livraison effectuée le matin, client satisfait."},{id:"bl002",reference:"BL-2023-002",date:"2023-06-10",type:"bl",client:"Poissonnerie du Port",status:"En cours",products:[{name:"Huîtres calibre 1",quantity:"25kg"},{name:"Huîtres calibre 4",quantity:"10kg"}],notes:"Livraison prévue pour demain matin."}],Sk=[{id:"hist001",date:"2023-06-01 09:30",type:"history",action:"Contrôle qualité",user:"Jean Dupont",details:"Contrôle effectué sur Bassin 1, paramètres normaux."},{id:"hist002",date:"2023-06-02 11:15",type:"history",action:"Maintenance",user:"Marie Martin",details:"Maintenance du système de filtration Bassin 2."},{id:"hist003",date:"2023-06-03 14:45",type:"history",action:"Récolte",user:"Pierre Leblanc",details:"Récolte de 100kg depuis Bassin 3 vers Stockage 1."},{id:"hist004",date:"2023-06-04 16:30",type:"history",action:"Préparation commande",user:"Sophie Leroy",details:"Préparation BL-2023-001 pour Restaurant La Marée."}];function SEe(){const[e,t]=F.useState("lots"),[r,n]=F.useState(null),[a,i]=F.useState({}),[o,l]=F.useState(!1),[c,u]=F.useState(!1),[d,f]=F.useState(!1),[h,p]=F.useState(!1),[m,x]=F.useState(null),[g,v]=F.useState({}),[y,b]=F.useState(""),[_,S]=F.useState([]),N=F.useRef(null),[j,C]=F.useState(null);F.useEffect(()=>{if(c&&!j){const I=new jEe;C(I)}return()=>{C(null)}},[c]),F.useEffect(()=>{c&&j&&N.current&&j.decodeFromVideoDevice(void 0,N.current,(I,B)=>{I&&(b(I.getText()),console.log("QR Code scanné:",I.getText()))}).catch(I=>console.error("Erreur lors du scan:",I))},[c,j]);const P=I=>{n(I),i(JSON.parse(JSON.stringify(I)))},M=()=>{console.log("Saving:",a),n(null)},k=I=>{x(I),p(!0)},E=()=>{const I=new Ct("l","mm","a4"),B=I.internal.pageSize.getWidth(),z=I.internal.pageSize.getHeight();let q=60;I.setFillColor(10,42,64),I.rect(0,0,B,25,"F"),I.setTextColor(255,255,255),I.setFontSize(16),I.text("Rapport de Traçabilité OYSTER CULT",B/2,15,{align:"center"}),I.setTextColor(10,42,64),I.setFontSize(10),I.text(`Date d'export: ${new Date().toLocaleDateString("fr-FR")}`,14,35),I.text("Exporté par: Utilisateur",14,42),I.text(`Période: ${new Date().toLocaleDateString("fr-FR")} - ${new Date().toLocaleDateString("fr-FR")}`,14,49);const se=Oe=>{I.setFillColor(10,42,64),I.rect(10,q,B-20,10,"F"),I.setTextColor(255,255,255),I.setFontSize(10);let Se=14;Oe.forEach(re=>{const Me=(B-28)/Oe.length;I.text(re,Se,q+7),Se+=Me}),q+=10},xe=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Lots en cours",14,q),q+=10,se(["ID","Nom","Emplacement","Stock","Status","Date"]),Sw.forEach((Oe,Se)=>{const re=q+Se*10;Se%2===0&&(I.setFillColor(240,240,240),I.rect(10,re,B-20,10,"F")),I.setTextColor(60,60,60),I.text(Oe.id,14,re+7),I.text(Oe.name,30,re+7),I.text(Oe.location,70,re+7),I.text(`${Oe.stock.quantity} ${Oe.stock.unit}`,120,re+7),I.text(Oe.status,160,re+7),I.text(Oe.date,190,re+7)}),q+=Sw.length*10+15},ie=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Bassins",14,q),q+=10,se(["ID","Nom","Emplacement","Stock","Occupation","Statut","Proch. Maintenance"]),Aw.forEach((Oe,Se)=>{const re=q+Se*10;Se%2===0&&(I.setFillColor(240,240,240),I.rect(10,re,B-20,10,"F")),I.setTextColor(60,60,60),I.text(Oe.id,14,re+7),I.text(Oe.name,30,re+7),I.text(Oe.location,70,re+7),I.text(`${Oe.stock.quantity} ${Oe.stock.unit}`,120,re+7),I.text(Oe.occupation,160,re+7),I.text(Oe.status,190,re+7),I.text(Oe.nextMaintenance,230,re+7)}),q+=Aw.length*10+15},ye=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Emplacements de stockage",14,q),q+=10,se(["ID","Nom","Emplacement","Température","Humidité","Statut"]),J1.forEach((Se,re)=>{var _e,Ie;const Me=q+re*10;re%2===0&&(I.setFillColor(240,240,240),I.rect(10,Me,B-20,10,"F")),I.setTextColor(60,60,60),I.text(Se.id,14,Me+7),I.text(Se.name,30,Me+7),I.text(Se.location,90,Me+7);const oe=((_e=Se.stats.find(we=>we.label==="Température"))==null?void 0:_e.value)||"N/A",me=((Ie=Se.stats.find(we=>we.label==="Humidité"))==null?void 0:Ie.value)||"N/A";I.text(oe,170,Me+7),I.text(me,210,Me+7),I.text(Se.status,240,Me+7)}),q+=J1.length*10+15,I.setFontSize(14),I.setTextColor(10,42,64),I.text("Produits stockés",14,q),q+=10,se(["Emplacement","Produit","Quantité","DLC"]);let Oe=0;J1.forEach(Se=>{Se.products.forEach((re,Me)=>{const oe=q+Oe*10;Oe%2===0&&(I.setFillColor(240,240,240),I.rect(10,oe,B-20,10,"F")),I.setTextColor(60,60,60),I.text(Se.name,14,oe+7),I.text(re.name,90,oe+7),I.text(re.quantity,170,oe+7),I.text(re.dlc,220,oe+7),Oe++})}),q+=Oe*10+15},Te=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Bons de livraison",14,q),q+=10,se(["Référence","Client","Date","Statut","Montant"]);const Oe=jk;Oe.forEach((Se,re)=>{const Me=q+re*10;re%2===0&&(I.setFillColor(240,240,240),I.rect(10,Me,B-20,10,"F")),I.setTextColor(60,60,60),I.text(Se.reference,14,Me+7),I.text(Se.client,60,Me+7),I.text(Se.date,120,Me+7),I.text(Se.status,170,Me+7),I.text("N/A",220,Me+7)}),q+=Oe.length*10+15},X=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Historique des activités",14,q),q+=10,se(["Date","Utilisateur","Action","Détails"]);const Oe=Sk;Oe.forEach((Se,re)=>{const Me=q+re*10;re%2===0&&(I.setFillColor(240,240,240),I.rect(10,Me,B-20,10,"F")),I.setTextColor(60,60,60),I.text(Se.date,14,Me+7),I.text(Se.user,60,Me+7),I.text(Se.action,120,Me+7),I.text(Se.details,180,Me+7)}),q+=Oe.length*10+15};switch(e){case"lots":xe();break;case"bassins":ie();break;case"autre_emplacement":ye();break;case"bl":Te();break;case"historique":X();break;default:xe(),I.addPage(),q=60,ie(),I.addPage(),q=60,ye(),I.addPage(),q=60,Te(),I.addPage(),q=60,X()}const We=I.internal.pages.length;for(let Oe=1;Oe<=We;Oe++)I.setPage(Oe),I.setFontSize(10),I.setTextColor(100,100,100),I.text(`OYSTER CULT - Traçabilité - Page ${Oe} / ${We}`,B/2,z-10,{align:"center"});I.save("traceabilite-oyster-cult.pdf"),f(!1)},R=()=>{if(!r)return null;const I=()=>{switch(r.type){case"lot":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-name",className:"block text-sm text-cyan-400 mb-1",children:"Nom"}),s.jsx("input",{id:"edit-name",type:"text",value:a.name,onChange:B=>i({...a,name:B.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-location",className:"block text-sm text-cyan-400 mb-1",children:"Emplacement"}),s.jsx("input",{id:"edit-location",type:"text",value:a.location,onChange:B=>i({...a,location:B.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-quantity",className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),s.jsx("input",{id:"edit-quantity",type:"text",value:a.stock.quantity,onChange:B=>i({...a,stock:{...a.stock,quantity:B.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"bassin":return s.jsxs("div",{className:"space-y-4",children:[r.stats.map((B,z)=>s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-stat-${z}`,className:"block text-sm text-cyan-400 mb-1",children:B.label}),s.jsx("input",{id:`edit-stat-${z}`,type:"text",value:a.stats[z].value,onChange:q=>{const se=[...a.stats];se[z]={...se[z],value:q.target.value},i({...a,stats:se})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},z)),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-occupation",className:"block text-sm text-cyan-400 mb-1",children:"Occupation"}),s.jsx("input",{id:"edit-occupation",type:"text",value:a.occupation,onChange:B=>i({...a,occupation:B.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-maintenance",className:"block text-sm text-cyan-400 mb-1",children:"Prochaine maintenance"}),s.jsx("input",{id:"edit-maintenance",type:"text",value:a.nextMaintenance,onChange:B=>i({...a,nextMaintenance:B.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-stock",className:"block text-sm text-cyan-400 mb-1",children:"Stock"}),s.jsx("input",{id:"edit-stock",type:"text",value:a.stock.quantity,onChange:B=>i({...a,stock:{...a.stock,quantity:B.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"storage":return s.jsxs("div",{className:"space-y-4",children:[r.stats.map((B,z)=>s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-storage-stat-${z}`,className:"block text-sm text-cyan-400 mb-1",children:B.label}),s.jsx("input",{id:`edit-storage-stat-${z}`,type:"text",value:a.stats[z].value,onChange:q=>{const se=[...a.stats];se[z]={...se[z],value:q.target.value},i({...a,stats:se})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},z)),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Produits"}),a.products.map((B,z)=>s.jsxs("div",{className:"space-y-2 mb-4 p-3 rounded-lg bg-cyan-500/5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-product-name-${z}`,className:"block text-sm text-cyan-400 mb-1",children:"Nom du produit"}),s.jsx("input",{id:`edit-product-name-${z}`,type:"text",value:B.name,onChange:q=>{const se=[...a.products];se[z]={...se[z],name:q.target.value},i({...a,products:se})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-product-quantity-${z}`,className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),s.jsx("input",{id:`edit-product-quantity-${z}`,type:"text",value:B.quantity,onChange:q=>{const se=[...a.products];se[z]={...se[z],quantity:q.target.value},i({...a,products:se})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-product-dlc-${z}`,className:"block text-sm text-cyan-400 mb-1",children:"DLC"}),s.jsx("input",{id:`edit-product-dlc-${z}`,type:"text",value:B.dlc,onChange:q=>{const se=[...a.products];se[z]={...se[z],dlc:q.target.value},i({...a,products:se})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]},z))]})]});default:return null}};return s.jsxs(Yh,{isOpen:!0,onClose:()=>n(null),title:`Modifier ${r.name}`,children:[I(),s.jsxs("div",{className:"flex justify-end mt-6 gap-3",children:[s.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler la modification",children:"Annuler"}),s.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Enregistrer les modifications",children:[s.jsx(bd,{className:"w-4 h-4"}),"Enregistrer"]})]})]})},H=()=>!h||!m?null:s.jsx(Yh,{isOpen:!0,onClose:()=>p(!1),title:`Bon de livraison - ${m.reference}`,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Date"}),s.jsx("p",{className:"text-white",children:m.date})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-cyan-400 mb-1",children:"Client"}),s.jsx("p",{className:"text-white",children:m.client})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-cyan-400 mb-2",id:"products-heading",children:"Produits"}),s.jsx("div",{className:"space-y-2","aria-labelledby":"products-heading",children:m.products.map((I,B)=>s.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-white",children:I.name}),s.jsx("p",{className:"text-cyan-400",children:I.quantity})]})},B))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Notes"}),s.jsx("p",{className:"text-white",children:m.notes})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le bon de livraison",children:"Fermer"})})]})}),G=()=>o?s.jsx(Yh,{isOpen:!0,onClose:()=>l(!1),title:"Filtrer les éléments",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filter-search",className:"block text-sm text-cyan-400 mb-1",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"filter-search",type:"text",value:g.search||"",onChange:I=>v({...g,search:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg pl-10 pr-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher..."}),s.jsx(An,{className:"absolute left-3 top-2.5 w-4 h-4 text-cyan-400","aria-hidden":"true"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filter-date",className:"block text-sm text-cyan-400 mb-1",children:"Date"}),s.jsx("input",{id:"filter-date",type:"date",value:g.date||"",onChange:I=>v({...g,date:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filter-status",className:"block text-sm text-cyan-400 mb-1",children:"Statut"}),s.jsxs("select",{id:"filter-status",value:g.status||"",onChange:I=>v({...g,status:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx("option",{value:"",children:"Tous"}),s.jsx("option",{value:"Optimal",children:"Optimal"}),s.jsx("option",{value:"Attention",children:"Attention"}),s.jsx("option",{value:"Livré",children:"Livré"}),s.jsx("option",{value:"En cours",children:"En cours"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filter-type",className:"block text-sm text-cyan-400 mb-1",children:"Type"}),s.jsxs("select",{id:"filter-type",value:g.type||"",onChange:I=>v({...g,type:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx("option",{value:"",children:"Tous"}),s.jsx("option",{value:"lot",children:"Lots"}),s.jsx("option",{value:"bassin",children:"Bassins"}),s.jsx("option",{value:"storage",children:"Stockage"}),s.jsx("option",{value:"bl",children:"Bons de livraison"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{v({}),l(!1)},className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Réinitialiser les filtres",children:"Réinitialiser"}),s.jsxs("button",{onClick:()=>l(!1),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Appliquer les filtres",children:[s.jsx(Ca,{className:"w-4 h-4","aria-hidden":"true"}),"Appliquer"]})]})]})}):null,L=()=>c?s.jsx(Yh,{isOpen:!0,onClose:()=>{u(!1),b("")},title:"Scanner un QR Code",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative overflow-hidden rounded-lg bg-black aspect-video",children:s.jsx("video",{ref:N,className:"w-full h-full object-cover rounded-lg","aria-label":"Flux vidéo pour le scan de QR code"})}),y&&s.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[s.jsx("p",{className:"text-sm text-cyan-400",id:"qr-result-label",children:"Résultat du scan"}),s.jsx("p",{className:"text-white break-all","aria-labelledby":"qr-result-label",children:y})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>{u(!1),b("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le scanner QR",children:"Fermer"})})]})}):null,V=()=>d?s.jsx(Yh,{isOpen:!0,onClose:()=>f(!1),title:"Exporter les données",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white",id:"export-description",children:"Voulez-vous exporter les données de traçabilité en PDF ?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler l'export",children:"Annuler"}),s.jsxs("button",{onClick:E,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-labelledby":"export-description",children:[s.jsx(Gi,{className:"w-4 h-4","aria-hidden":"true"}),"Exporter en PDF"]})]})]})}):null,J=({tabs:I,activeTab:B,onChange:z,className:q})=>s.jsx("div",{className:`flex gap-4 ${q}`,role:"tablist",children:I.map(se=>s.jsxs("button",{onClick:()=>z(se.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap min-w-[44px] min-h-[44px] ${B===se.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] focus:ring-2 focus:ring-cyan-500/40 transform hover:-translate-y-1 hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300":"text-white/60 hover:text-white hover:bg-white/5 shadow-[0_4px_8px_rgba(0,0,0,0.2)] hover:shadow-[0_5px_12px_rgba(0,0,0,0.3)] focus:ring-2 focus:ring-white/30 transform hover:-translate-y-1 transition-all duration-300"}`,role:"tab","aria-selected":B===se.id,"aria-controls":`tab-panel-${se.id}`,id:`tab-${se.id}`,children:[s.jsx("span",{className:"w-4 h-4","aria-hidden":"true",children:se.icon}),s.jsx("span",{children:se.label})]},se.id))}),W=I=>{t(I)},ae=[{id:"lots",label:"Lots en cours",icon:s.jsx(si,{size:20}),count:28},{id:"bassins",label:"Bassins",icon:s.jsx(mo,{size:20}),count:15},{id:"autre_emplacement",label:"Autre emplacement",icon:s.jsx(Pi,{size:20}),count:8},{id:"bl",label:"Bons de livraison",icon:s.jsx(J0,{size:20}),count:36},{id:"historique",label:"Historique",icon:s.jsx(sd,{size:20})}],ve=I=>{console.log("Visualisation du document:",I)},O=I=>{S(B=>B.includes(I)?B.filter(z=>z!==I):[...B,I])};return s.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2 mb-4",children:[s.jsx(_n,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Traçabilité"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les lots",children:[s.jsx(Ca,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Filtrer"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Scanner un QR code",children:[s.jsx(Q0,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Scanner"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter les données",children:[s.jsx(Gi,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Exporter"})]})]})]}),s.jsx("div",{className:"relative mb-6 mt-4",children:s.jsx(J,{tabs:ae,activeTab:e,onChange:W,className:"overflow-x-auto pb-2 hide-scrollbar"})})]}),s.jsxs("div",{id:"traceability-content",className:"space-y-6",children:[e==="lots"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(si,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Lots de production"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[s.jsx(ar,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:Sw.map(I=>s.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:I.name}),s.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",I.location]})]}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{onClick:()=>P(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:s.jsx(Xi,{className:"w-4 h-4","aria-hidden":"true"})})})]}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${I.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),s.jsx("p",{className:"text-xs text-white/70",children:I.status})]})]}),s.jsxs("p",{className:"text-white",children:[I.stock.quantity," ",I.stock.unit]})]}),s.jsx("div",{className:"text-sm text-white/70",children:s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("p",{children:"Date de création"}),s.jsx("p",{children:I.date})]})})]})]})},I.id))})]})}),e==="bassins"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(mo,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Occupation des bassins"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bassin",children:[s.jsx(ar,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:Aw.map(I=>{var B;return s.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:I.name}),s.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",I.location]})]}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{onClick:()=>P(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:s.jsx(Xi,{className:"w-4 h-4","aria-hidden":"true"})})})]}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${I.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),s.jsx("p",{className:"text-xs text-white/70",children:I.status})]})]}),s.jsxs("p",{className:"text-white",children:[I.stock.quantity," ",I.stock.unit]}),s.jsx("p",{className:"text-sm text-white/70 mt-1",children:((B=I.stats.find(z=>z.label==="Produit"))==null?void 0:B.value)||"Non spécifié"})]}),s.jsxs("div",{className:"text-sm text-white/70",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("p",{children:"Statut"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="Optimal"?"bg-green-500/10 text-green-400":"bg-yellow-500/10 text-yellow-400"}`,children:I.status})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{children:"Prochaine maintenance"}),s.jsx("p",{children:I.nextMaintenance})]})]})]})]})},I.id)})})]})}),e==="bl"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(J0,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Bons de livraison"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bon de livraison",children:[s.jsx(ar,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6",children:jk.map(I=>s.jsxs("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors cursor-pointer",onClick:()=>k(I),children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-2 md:gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:I.reference}),s.jsxs("p",{className:"text-sm text-white/60",children:["Client: ",I.client]})]}),s.jsx("div",{children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="Livré"?"bg-green-500/10 text-green-400":"bg-blue-500/10 text-blue-400"}`,children:I.status})})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Produits"}),s.jsx("ul",{className:"mt-1 space-y-1",children:I.products.map((B,z)=>s.jsxs("li",{className:"text-sm text-white flex justify-between",children:[s.jsx("span",{children:B.name}),s.jsx("span",{children:B.quantity})]},z))})]}),s.jsxs("div",{className:"mt-3 flex justify-between text-sm",children:[s.jsxs("span",{className:"text-white/60",children:["Date: ",I.date]}),s.jsx("button",{onClick:B=>{B.stopPropagation(),k(I)},className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Voir les détails du bon de livraison ${I.reference}`,children:s.jsx(Wc,{className:"w-4 h-4","aria-hidden":"true"})})]})]},I.id))})]})}),e==="historique"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(sd,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Historique des activités"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'historique",children:[s.jsx(Gi,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Exporter"})]})})]}),s.jsx("div",{className:"space-y-4 mt-6",children:Sk.map(I=>s.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[s.jsx("h3",{className:"font-medium text-white mb-1",children:I.action}),s.jsx("span",{className:"text-sm text-white/60",children:I.date})]}),s.jsxs("p",{className:"text-sm text-white/60 mb-2",children:["Par: ",I.user]}),s.jsx("p",{className:"text-sm text-white",children:I.details})]})]})},I.id))})]})}),e==="autre_emplacement"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(Pi,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Emplacements de stockage"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un emplacement de stockage",children:[s.jsx(ar,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:J1.map(I=>{var Te,X,We;const B=((Te=I.stats.find(Oe=>Oe.label==="Type"))==null?void 0:Te.value)||"Stockage",z=((X=I.stats.find(Oe=>Oe.label==="Occupation"))==null?void 0:X.value)||"0%",q=((We=I.stats.find(Oe=>Oe.label==="Capacité"))==null?void 0:We.value)||"N/A",se=parseInt(z)||0;let xe="bg-emerald-500",ie="text-emerald-400";se<20?(xe="bg-red-500",ie="text-red-400"):se<40&&(xe="bg-amber-500",ie="text-amber-400");let ye="bg-emerald-500/10 text-emerald-400";return I.status==="Attention"?ye="bg-amber-500/10 text-amber-400":I.status==="Critique"&&(ye="bg-red-500/10 text-red-400"),s.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors","aria-label":`Emplacement de stockage ${I.name}, ${B}, occupation ${z}`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:I.name}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/60 mt-1",children:[s.jsx("span",{className:"inline-block px-2 py-0.5 bg-cyan-500/10 rounded text-cyan-400 text-xs",children:B}),s.jsx("span",{"aria-hidden":"true",children:"•"}),s.jsx("span",{children:I.location})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>P(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:s.jsx(Xi,{className:"w-4 h-4","aria-hidden":"true"})}),s.jsx("button",{onClick:()=>ve(I.id),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`QR Code pour ${I.name}`,children:s.jsx(Q0,{className:"w-4 h-4","aria-hidden":"true"})})]})]}),s.jsxs("div",{className:"mt-2 space-y-4",children:[s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-cyan-400",children:"Capacité"}),s.jsx("span",{className:"text-white font-medium",children:q})]})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-cyan-400",children:"Occupation"}),s.jsx("span",{className:`text-sm font-medium ${ie}`,children:z})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full ${xe} rounded-full transition-all duration-500 ease-in-out`,style:{width:`${se}%`},role:"progressbar","aria-valuenow":se,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Occupation: ${z}`})})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:I.stats.filter(Oe=>["Température","Humidité"].includes(Oe.label)).map((Oe,Se)=>s.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-cyan-400",children:Oe.label}),s.jsx("p",{className:"text-white font-medium",children:Oe.value})]},Se))}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ye}`,children:I.status})]}),I.products&&I.products.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:Oe=>{Oe.stopPropagation(),O(I.id)},className:"w-full flex justify-between items-center py-2 px-3 rounded-lg bg-cyan-500/10 text-white hover:bg-cyan-500/20 transition-colors min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-expanded":_.includes(I.id),"aria-controls":`products-${I.id}`,children:[s.jsxs("span",{className:"flex items-center text-sm font-medium",children:[s.jsx(si,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Produits (",I.products.length,")"]}),s.jsx(Hm,{className:`w-4 h-4 transition-transform duration-300 ${_.includes(I.id)?"rotate-180":""}`,"aria-hidden":"true"})]}),_.includes(I.id)&&s.jsxs("div",{id:`products-${I.id}`,className:"mt-2 space-y-2 p-3 bg-cyan-500/5 rounded-lg border border-cyan-500/10 animate-fadeIn",children:[s.jsx("h4",{className:"text-sm font-medium text-cyan-400 mb-2",children:"Produits stockés"}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-white/60",children:[s.jsx("th",{className:"pb-2 font-medium",children:"Produit"}),s.jsx("th",{className:"pb-2 font-medium",children:"Quantité"}),s.jsx("th",{className:"pb-2 font-medium",children:"DLC"})]})}),s.jsx("tbody",{children:I.products.map((Oe,Se)=>{const re=Oe.dlc!=="N/A";let Me="";if(re){const oe=new Date,_e=new Date(Oe.dlc.split("/").reverse().join("-")).getTime()-oe.getTime(),Ie=Math.ceil(_e/(1e3*60*60*24));Ie<0?Me="text-red-400 font-medium":Ie<=7&&(Me="text-amber-400 font-medium")}return s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2 text-white",children:Oe.name}),s.jsx("td",{className:"py-2 text-white",children:Oe.quantity}),s.jsx("td",{className:"py-2",children:s.jsxs("span",{className:Oe.dlc==="N/A"?"text-white/60":`text-white ${Me}`,children:[Oe.dlc,Me==="text-red-400 font-medium"&&s.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-red-500/20",children:"Dépassée"}),Me==="text-amber-400 font-medium"&&s.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-amber-500/20",children:"Bientôt"})]})})]},Se)})})]})]})]}),s.jsx("div",{className:"mt-auto pt-4",children:s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-xs text-white/60",children:[s.jsx("span",{className:"w-20",children:"Date:"}),s.jsx("span",{className:"text-white/80",children:I.date})]})})]})},I.id)})})]})})]}),R(),H(),G(),L(),V()]})}function AEe({onSubmit:e,onCancel:t}){const r=n=>{n.preventDefault(),e({})};return s.jsxs("form",{onSubmit:r,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-white/70 mb-2",children:"Client"}),s.jsx("input",{type:"text",id:"client",name:"client",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nom du client"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"products",className:"block text-sm font-medium text-white/70 mb-2",children:"Produits"}),s.jsxs("select",{id:"products",name:"products",multiple:!0,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",children:[s.jsx("option",{value:"huitres-speciales",children:"Huîtres Spéciales N°2"}),s.jsx("option",{value:"huitres-fines",children:"Huîtres Fines N°3"}),s.jsx("option",{value:"huitres-plates",children:"Huîtres Plates"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-white/70 mb-2",children:"Quantité"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",min:"1",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nombre de douzaines"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-white/70 mb-2",children:"Prix unitaire (€)"}),s.jsx("input",{type:"number",id:"price",name:"price",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"29.90"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-white/70 mb-2",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",rows:3,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Informations complémentaires..."})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Créer la vente"})]})]})}const HF=[{month:"Jan",sales:42e3,orders:156},{month:"Fév",sales:48e3,orders:172},{month:"Mar",sales:45e3,orders:168},{month:"Avr",sales:52e3,orders:189},{month:"Mai",sales:49e3,orders:175},{month:"Juin",sales:55e3,orders:198}],WF=(e,t)=>({data:e.map(r=>({name:r.month,value:r[t]}))}),CEe=[{name:"Ventes",color:"#22d3ee",...WF(HF,"sales")}],EEe=[{name:"Commandes",color:"#22d3ee",...WF(HF,"orders")}];function kEe(){const[e,t]=F.useState(!1),[r,n]=F.useState("");F.useState("month");const a=i=>{console.log("Creating sale:",i),t(!1)};return s.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:s.jsx(Bm,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ventes"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(ar,{size:20,"aria-hidden":"true"}),"Nouvelle Vente"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(Jk,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Ventes totales"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"55,000 €"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(ki,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Nouveaux clients"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"24"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(v4,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Commandes"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"198"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+15% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(si,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Produits vendus"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"856"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+5% ce mois"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Évolution des ventes"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),s.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),s.jsx(Dm,{series:CEe,height:300})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nombre de commandes"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),s.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),s.jsx(Dm,{series:EEe,height:300})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Dernières ventes"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(An,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40","aria-hidden":"true"}),s.jsx("input",{type:"text",placeholder:"Rechercher...",value:r,onChange:i=>n(i.target.value),className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(Ca,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-white/60",children:[s.jsx("th",{className:"pb-4",children:"Date"}),s.jsx("th",{className:"pb-4",children:"Client"}),s.jsx("th",{className:"pb-4",children:"Produits"}),s.jsx("th",{className:"pb-4 text-right",children:"Montant"}),s.jsx("th",{className:"pb-4",children:"Statut"})]})}),s.jsxs("tbody",{className:"text-white",children:[s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-4",children:"26/03/2025"}),s.jsx("td",{children:"Martin Dubois"}),s.jsx("td",{children:"Huîtres Spéciales N°2 (3 dz)"}),s.jsx("td",{className:"text-right text-cyan-400",children:"89.70 €"}),s.jsx("td",{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Livrée"})})]}),s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-4",children:"26/03/2025"}),s.jsx("td",{children:"Sophie Martin"}),s.jsx("td",{children:"Huîtres Fines N°3 (4 dz)"}),s.jsx("td",{className:"text-right text-cyan-400",children:"95.60 €"}),s.jsx("td",{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"En cours"})})]})]})]})]}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Vente"}),s.jsx("button",{onClick:()=>t(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:s.jsx(Mt,{size:24})})]}),s.jsx(AEe,{onSubmit:a,onCancel:()=>t(!1)})]})})]})}const Ak=[{id:"1",content:"Produits reçus en excellent état.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Évaluation du lot reçu",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:30:00",type:"rating",rating:{overall:4.5,freshness:5,quality:4,packaging:4.5}}];function TEe({purchase:e,onClose:t}){const[r,n]=F.useState("comments"),[a,i]=F.useState(""),[o,l]=F.useState({overall:0,freshness:0,quality:0,packaging:0}),c=h=>{h.preventDefault(),a.trim()&&i("")},u=(h,p)=>{l(m=>({...m,[h]:p}))},d=h=>{h.preventDefault()},f=(h,p)=>s.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(m=>s.jsx("button",{onClick:()=>p==null?void 0:p(m),className:`text-lg ${m<=h?"text-yellow-400":"text-white/20"}`,children:"★"},m))});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex space-x-4 border-b border-white/10",children:[s.jsx("button",{onClick:()=>n("comments"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${r==="comments"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(aT,{size:16,className:"mr-2"}),"Commentaires"]})}),s.jsx("button",{onClick:()=>n("ratings"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${r==="ratings"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qi,{size:16,className:"mr-2"}),"Évaluation"]})})]}),r==="comments"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:Ak.filter(h=>h.type==="comment").map(h=>s.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:h.author.avatar?s.jsx("img",{src:h.author.avatar,alt:h.author.name,className:"w-full h-full rounded-full"}):s.jsx("span",{className:"text-white text-sm font-medium",children:h.author.name.charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-white",children:h.author.name}),s.jsx("span",{className:"text-white/60 text-sm ml-2",children:It(new Date(h.timestamp),"PPp",{locale:cr})})]})}),s.jsx("p",{className:"text-white/80 mt-2",children:h.content}),h.attachments&&h.attachments.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:h.attachments.map((p,m)=>s.jsxs("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 bg-white/5 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:[s.jsx(rT,{size:16,className:"mr-2"}),p.name]},m))})]})]})},h.id))}),s.jsx("form",{onSubmit:c,className:"space-y-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:a,onChange:h=>i(h.target.value),placeholder:"Ajouter un commentaire...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),s.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[s.jsx("button",{type:"button",className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(nT,{size:20})}),s.jsx("button",{type:"submit",disabled:!a.trim(),className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Um,{size:20})})]})]})})]}),r==="ratings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:Ak.filter(h=>h.type==="rating").map(h=>{var p,m,x,g;return s.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:h.author.avatar?s.jsx("img",{src:h.author.avatar,alt:h.author.name,className:"w-full h-full rounded-full"}):s.jsx("span",{className:"text-white text-sm font-medium",children:h.author.name.charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-white",children:h.author.name}),s.jsx("span",{className:"text-white/60 text-sm ml-2",children:It(new Date(h.timestamp),"PPp",{locale:cr})})]})}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Note globale"}),f(((p=h.rating)==null?void 0:p.overall)||0)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),f(((m=h.rating)==null?void 0:m.freshness)||0)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Qualité"}),f(((x=h.rating)==null?void 0:x.quality)||0)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Emballage"}),f(((g=h.rating)==null?void 0:g.packaging)||0)]})]})]})]})},h.id)})}),s.jsxs("form",{onSubmit:d,className:"bg-white/5 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"text-white font-medium",children:"Nouvelle évaluation"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Note globale"}),f(o.overall,h=>u("overall",h))]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),f(o.freshness,h=>u("freshness",h))]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Qualité"}),f(o.quality,h=>u("quality",h))]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Emballage"}),f(o.packaging,h=>u("packaging",h))]})]}),s.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'évaluation"})]})]})]})}function OEe({order:e,onClose:t}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Commenter la commande ",e.id]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-lg",children:s.jsx(Mt,{className:"text-white/60",size:20})})]}),s.jsx(TEe,{purchase:e,onClose:t})]})}):null}function PEe(){const[e,t]=F.useState(""),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(!1),[c,u]=F.useState(0),[d,f]=F.useState({supplier:"",product:"",expiryDate:"",invoice:null}),h=g=>{switch(g){case"pending":return{label:"En attente",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case"confirmed":return{label:"Confirmée",bgColor:"bg-blue-500/20",textColor:"text-blue-400",borderColor:"border-blue-500/30"};case"dispatched":return{label:"Expédiée",bgColor:"bg-indigo-500/20",textColor:"text-indigo-400",borderColor:"border-indigo-500/30"};case"in_transit":return{label:"En transit",bgColor:"bg-purple-500/20",textColor:"text-purple-400",borderColor:"border-purple-500/30"};case"delivered":return{label:"Livrée",bgColor:"bg-green-500/20",textColor:"text-green-400",borderColor:"border-green-500/30"};case"completed":return{label:"Traitée",bgColor:"bg-teal-500/20",textColor:"text-teal-400",borderColor:"border-teal-500/30"};default:return{label:"Inconnue",bgColor:"bg-gray-500/20",textColor:"text-gray-400",borderColor:"border-gray-500/30"}}},p=g=>{var y;const v=(y=g.target.files)==null?void 0:y[0];v&&f(b=>({...b,invoice:v}))},m=g=>{g.preventDefault(),console.log("Nouveau achat:",{...d,rating:c}),l(!1),f({supplier:"",product:"",expiryDate:"",invoice:null}),u(0)},x=[{id:"2024-0131",product:"Huîtres spéciales n°2 Bouzigues",supplier:"Bassin de Thau SARL",deliveryDate:"15/03",price:1420,quantity:"180kg",status:"pending",icon:_n,stockLocation:"En attente",lastUpdate:"01/03/2024 14:30"},{id:"2024-0130",product:"Palourdes vénérirupis",supplier:"Conchyliculteurs Normands",deliveryDate:"14/03",price:850,quantity:"65kg",status:"confirmed",icon:_n,stockLocation:"En attente",lastUpdate:"01/03/2024 11:20"},{id:"2024-0129",product:"Coquilles Saint-Jacques Normandie",supplier:"Pêcherie Atlantique",deliveryDate:"12/03",price:1680,quantity:"90kg",status:"dispatched",icon:_n,stockLocation:"En transit",lastUpdate:"01/03/2024 09:45"},{id:"2024-0128",product:"Coques fraîches Baie de Somme",supplier:"Marée du Nord",deliveryDate:"11/03",price:720,quantity:"40kg",status:"in_transit",icon:_n,stockLocation:"En transit",lastUpdate:"01/03/2024 08:15"},{id:"2024-0127",product:"Huîtres creuses Marennes-Oléron",supplier:"Maison Gillardeau",deliveryDate:"10/03",price:1250,quantity:"200kg",status:"pending",icon:_n,stockLocation:"En attente",lastUpdate:"01/03/2024 09:15"},{id:"2024-0126",product:"Moules bouchot AOP Mont Saint-Michel",supplier:"Mytiliculteurs Bretons",deliveryDate:"08/03",price:680,quantity:"150kg",status:"confirmed",icon:_n,stockLocation:"En attente",lastUpdate:"28/02/2024 16:45"},{id:"2024-0125",product:"Crevettes grises de l'Atlantique",supplier:"Pêcheurs de la Manche",deliveryDate:"05/03",price:950,quantity:"50kg",status:"dispatched",icon:_n,stockLocation:"En transit",lastUpdate:"28/02/2024 08:30"},{id:"2024-0124",product:"Crabes dormeurs de Bretagne",supplier:"Criée de Roscoff",deliveryDate:"03/03",price:1100,quantity:"60kg",status:"in_transit",icon:_n,stockLocation:"En transit",lastUpdate:"27/02/2024 19:00"},{id:"2024-0123",product:"Moules de Méditerranée",supplier:"CDB",deliveryDate:"28/02",price:450,quantity:"100kg",status:"pending",icon:_n,stockLocation:"Bassin A3",lastUpdate:"26/02/2024 14:30"},{id:"2024-0122",product:"Huîtres Spéciales",supplier:"Cancale Huîtres",deliveryDate:"27/02",price:780,quantity:"150kg",status:"confirmed",icon:_n,stockLocation:"Bassin B1",lastUpdate:"26/02/2024 10:15"},{id:"2024-0121",product:"Bar de ligne",supplier:"Pêcheurs Bretons",deliveryDate:"26/02",price:890,quantity:"45kg",status:"delivered",icon:Yk,stockLocation:"Trempage T2",lastUpdate:"25/02/2024 16:45"},{id:"2024-0120",product:"Huîtres plates Belon",supplier:"Ostréiculteurs du Morbihan",deliveryDate:"24/02",price:1350,quantity:"80kg",status:"completed",icon:_n,stockLocation:"Bassin C2",lastUpdate:"24/02/2024 11:20"},{id:"2024-0119",product:"Palourdes de Thau",supplier:"Étang de Thau",deliveryDate:"22/02",price:580,quantity:"40kg",status:"completed",icon:_n,stockLocation:"Zone D3",lastUpdate:"22/02/2024 15:40"}];return s.jsxs(Ne.div,{initial:"hidden",animate:"visible",className:"container mx-auto p-4 space-y-4",children:[s.jsx(Kf,{icon:s.jsx(v4,{size:28,className:"text-white"}),title:"Achats"}),s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(zt,{type:"text",placeholder:"Rechercher une commande...",value:e,onChange:g=>t(g.target.value),className:"w-full",leftIcon:s.jsx(An,{className:"w-4 h-4"})})}),s.jsxs(br,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Ca,{className:"w-4 h-4"})," Filtres"]})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:x.map(g=>s.jsx("div",{children:s.jsx(wp,{className:"overflow-hidden",children:s.jsxs("div",{className:"p-6 cursor-pointer",onClick:()=>n(r===g.id?null:g.id),children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${h(g.status).bgColor}`,children:g.icon&&s.jsx(g.icon,{className:`w-5 h-5 ${h(g.status).textColor}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-base font-medium text-white",children:g.product}),s.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${h(g.status).bgColor} ${h(g.status).textColor}`,children:h(g.status).label})]}),s.jsxs("p",{className:"text-sm text-white/60",children:[g.supplier," • #",g.id," • Livraison le ",g.deliveryDate]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-base font-medium text-white",children:[g.price,"€"]}),s.jsx("p",{className:"text-sm text-white/60",children:g.quantity})]}),s.jsx(If,{className:`w-5 h-5 text-white/40 transition-transform ${r===g.id?"rotate-90":""}`})]}),r===g.id&&s.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-white/10",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/40",children:"Statut"}),s.jsx("p",{className:`text-sm text-white mt-1 ${h(g.status).textColor}`,children:h(g.status).label})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/40",children:"Date de commande"}),s.jsx("p",{className:"text-sm text-white mt-1",children:"25/02/2024"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/40",children:"Fournisseur"}),s.jsx("p",{className:"text-sm text-white mt-1",children:g.supplier})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/40",children:"Emplacement stock"}),s.jsx("p",{className:"text-sm text-white mt-1",children:g.stockLocation})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/40",children:"Dernière mise à jour"}),s.jsx("p",{className:"text-sm text-white mt-1",children:g.lastUpdate})]})]}),s.jsx("div",{className:"flex justify-end mt-6 space-x-4",children:s.jsxs("button",{onClick:()=>i(g.id),className:"px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-white transition-colors flex items-center space-x-2",children:[s.jsx(jo,{size:16,className:"mr-2"}),"Commenter"]})})]})]})})},g.id))}),a&&s.jsx(OEe,{order:x.find(g=>g.id===a),onClose:()=>i(null)}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),s.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:s.jsx(Mt,{className:"text-white/60",size:20})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),s.jsx(zt,{type:"text",value:d.supplier,onChange:g=>f(v=>({...v,supplier:g.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Produit"}),s.jsx(zt,{type:"text",value:d.product,onChange:g=>f(v=>({...v,product:g.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),s.jsx(zt,{type:"date",value:d.expiryDate,onChange:g=>f(v=>({...v,expiryDate:g.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation"}),s.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(g=>s.jsx("button",{type:"button",onClick:()=>u(g),className:"focus:outline-none",children:s.jsx(qi,{size:24,className:g<=c?"text-yellow-400 fill-yellow-400":"text-white/20"})},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:p,className:"hidden"}),s.jsx(vs,{className:"w-5 h-5 text-white/60 mr-2"}),s.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),s.jsxs(br,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[s.jsx(vd,{className:"w-4 h-4"}),"Photo"]}),s.jsxs(br,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[s.jsx(Xk,{className:"w-4 h-4"}),"Scanner"]})]}),d.invoice&&s.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",d.invoice.name]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(br,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Annuler"}),s.jsx(br,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function IEe(){var a;const[e,t]=F.useState(!1),{session:r}=ys(),n=i=>{i.preventDefault(),t(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-32 h-32 rounded-full bg-brand-burgundy/20 flex items-center justify-center overflow-hidden",children:(a=r==null?void 0:r.user)!=null&&a.avatar_url?s.jsx("img",{src:r.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx($p,{size:64,className:"text-brand-burgundy"})}),s.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity rounded-full",children:[s.jsx(vs,{size:24}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Jean Dupont"}),s.jsx("p",{className:"text-white/60",children:"Responsable Production"}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center text-white/60",children:[s.jsx(qs,{size:16,className:"mr-2"}),"jean.dupont@example.com"]}),s.jsxs("div",{className:"flex items-center text-white/60",children:[s.jsx(Oi,{size:16,className:"mr-2"}),"06 12 34 56 78"]}),s.jsxs("div",{className:"flex items-center text-white/60",children:[s.jsx(Kv,{size:16,className:"mr-2"}),"Zone Nord"]}),s.jsxs("div",{className:"flex items-center text-white/60",children:[s.jsx(Wa,{size:16,className:"mr-2"}),"Embauché le 15/01/2024"]})]})]}),s.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:e?"Annuler":"Modifier"})]}),e?s.jsxs("form",{onSubmit:n,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),s.jsx("input",{type:"text",defaultValue:"Jean",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),s.jsx("input",{type:"text",defaultValue:"Dupont",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),s.jsx("input",{type:"email",defaultValue:"jean.dupont@example.com",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),s.jsx("input",{type:"tel",defaultValue:"06 12 34 56 78",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),s.jsx("textarea",{rows:3,defaultValue:"123 Rue de la Mer, 34140 Bouzigues",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]}):s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations complémentaires"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Adresse"}),s.jsx("div",{className:"text-white mt-1",children:"123 Rue de la Mer, 34140 Bouzigues"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Contact d'urgence"}),s.jsx("div",{className:"text-white mt-1",children:"Marie Dupont - 06 98 76 54 32"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Numéro de sécurité sociale"}),s.jsx("div",{className:"text-white mt-1",children:"1 85 12 17 123 456 78"})]})]})]})]})}function DEe(){const[e,t]=F.useState(!1),[r,n]=F.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Mot de passe"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Dernière modification il y a 3 mois"})]}),s.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Modifier"})]}),e&&s.jsxs("form",{className:"mt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe actuel"}),s.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nouveau mot de passe"}),s.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmer le nouveau mot de passe"}),s.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Mettre à jour"})]})]})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Double authentification"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Sécurisez votre compte avec la 2FA"})]}),s.jsx("button",{onClick:()=>n(!r),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Configurer"})]}),r&&s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(iT,{size:20,className:"text-white/60 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Application d'authentification"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une application comme Google Authenticator pour générer des codes"})]})]})}),s.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(v9,{size:20,className:"text-white/60 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Clé de sécurité"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une clé de sécurité physique (YubiKey, etc.)"})]})]})})]})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sessions actives"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Chrome - Windows"}),s.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 2 minutes"}),s.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.1"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:"Session actuelle"})})]})}),s.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Safari - iPhone"}),s.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 1 heure"}),s.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.2"})]}),s.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Déconnecter"})]})})]})]}),s.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-4",children:"Zone dangereuse"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Supprimer le compte"}),s.jsx("div",{className:"text-white/60 mt-1",children:"Cette action est irréversible et supprimera toutes vos données"})]}),s.jsx("button",{className:"px-4 py-2 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:"Supprimer mon compte"})]})]})]})}const MEe=[{id:"1",type:"login",action:"Connexion",timestamp:"2025-02-19T10:30:00",location:"La Rochelle, France",device:"Chrome - Windows"},{id:"2",type:"settings",action:"Modification du profil",timestamp:"2025-02-19T09:15:00",details:"Mise à jour des informations personnelles"},{id:"3",type:"document",action:"Téléchargement rapport",timestamp:"2025-02-19T08:45:00",details:"Rapport de production - Janvier 2025"},{id:"4",type:"notification",action:"Paramètres de notification",timestamp:"2025-02-19T08:30:00",details:"Activation des notifications mobiles"}],FEe={login:b9,settings:Yv,document:Qo,notification:Df};function REe(){return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique d'activité"})}),s.jsx("div",{className:"divide-y divide-white/10",children:MEe.map(e=>{const t=FEe[e.type];return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:s.jsx(t,{size:20,className:"text-brand-burgundy"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("h4",{className:"text-lg font-medium text-white",children:e.action})}),e.details&&s.jsx("p",{className:"text-white/70 mt-1",children:e.details}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ci,{size:16,className:"mr-1"}),It(new Date(e.timestamp),"PPp",{locale:cr})]}),e.location&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"•"}),s.jsx("div",{children:e.location})]}),e.device&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"•"}),s.jsx("div",{children:e.device})]})]})]})]})},e.id)})})]})})}function LEe(){const[e,t]=F.useState([]),[r,n]=F.useState("csv"),[a,i]=F.useState({start:"",end:""}),o=()=>{console.log("Exporting data:",{selectedData:e,format:r,dateRange:a})};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Export des données"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sélectionner les données"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.includes("tasks"),onChange:l=>{l.target.checked?t([...e,"tasks"]):t(e.filter(c=>c!=="tasks"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Tâches"}),s.jsx("div",{className:"text-sm text-white/60",children:"Historique des tâches"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.includes("inventory"),onChange:l=>{l.target.checked?t([...e,"inventory"]):t(e.filter(c=>c!=="inventory"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Inventaire"}),s.jsx("div",{className:"text-sm text-white/60",children:"Données de stock"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.includes("time"),onChange:l=>{l.target.checked?t([...e,"time"]):t(e.filter(c=>c!=="time"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Temps de travail"}),s.jsx("div",{className:"text-sm text-white/60",children:"Suivi du temps"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.includes("activity"),onChange:l=>{l.target.checked?t([...e,"activity"]):t(e.filter(c=>c!=="activity"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Activité"}),s.jsx("div",{className:"text-sm text-white/60",children:"Historique d'activité"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Format d'export"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"radio",name:"format",value:"csv",checked:r==="csv",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),s.jsx("div",{className:"text-white font-medium",children:"CSV"})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"radio",name:"format",value:"json",checked:r==="json",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),s.jsx("div",{className:"text-white font-medium",children:"JSON"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Période"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),s.jsx("input",{type:"date",value:a.start,onChange:l=>i({...a,start:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),s.jsx("input",{type:"date",value:a.end,onChange:l=>i({...a,end:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),s.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(li,{size:20,className:"text-yellow-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-yellow-400 font-medium",children:"Note importante"}),s.jsx("p",{className:"text-yellow-400/80 mt-1",children:"L'export peut contenir des données sensibles. Assurez-vous de les stocker de manière sécurisée."})]})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:o,disabled:e.length===0,className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Gi,{size:20,className:"mr-2"}),"Exporter les données"]})})]})]})})}function BEe(){var n;const{session:e}=ys(),t=$Ee((n=e==null?void 0:e.user)==null?void 0:n.id),r=()=>{navigator.clipboard.writeText(t)};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Mon Code Ami"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Partagez ce code pour vous connecter avec d'autres professionnels"})]}),s.jsx("div",{className:"w-12 h-12 bg-brand-burgundy/20 rounded-lg flex items-center justify-center",children:s.jsx(ki,{size:24,className:"text-brand-burgundy"})})]}),s.jsx("div",{className:"mt-8 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-xl"}),s.jsx(Ne.div,{className:"relative bg-gradient-to-br from-brand-dark to-brand-purple p-8 rounded-xl border border-white/10",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider text-center text-white",children:t})})]})}),s.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[s.jsxs(Ne.button,{onClick:r,className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(y9,{size:20,className:"mr-2"}),"Copier le code"]}),s.jsxs(Ne.button,{className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(Q0,{size:20,className:"mr-2"}),"Afficher le QR Code"]})]}),s.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment ça marche ?"}),s.jsxs("ol",{className:"space-y-2 text-white/60",children:[s.jsx("li",{children:"1. Partagez votre code ami avec un autre professionnel"}),s.jsx("li",{children:'2. Utilisez son code dans la section "Entre Pro" pour vous connecter'}),s.jsx("li",{children:"3. Une fois connectés, vous pourrez échanger et collaborer facilement"})]})]})]})})}function $Ee(e){var n;return e&&((n=(Array.from(e).reduce((a,i)=>(a<<5)-a+i.charCodeAt(0),0).toString(36).toUpperCase()+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").slice(0,12).match(/.{1,4}/g))==null?void 0:n.join("-"))||"XXXX-XXXX-XXXX"}function zEe(){const[e,t]=F.useState("info");return s.jsxs(Ne.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsx(Kf,{icon:s.jsx($p,{size:28,className:"text-white"}),title:"Mon Espace"}),s.jsx("div",{className:"flex items-center justify-between"}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[s.jsx("button",{onClick:()=>t("info"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="info"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($p,{size:16,className:"mr-2"}),"Informations"]})}),s.jsx("button",{onClick:()=>t("friend-code"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="friend-code"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ki,{size:16,className:"mr-2"}),"Code ami"]})}),s.jsx("button",{onClick:()=>t("security"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="security"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(rg,{size:16,className:"mr-2"}),"Sécurité"]})}),s.jsx("button",{onClick:()=>t("activity"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="activity"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(sd,{size:16,className:"mr-2"}),"Activité"]})}),s.jsx("button",{onClick:()=>t("export"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="export"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gi,{size:16,className:"mr-2"}),"Export"]})})]}),e==="info"&&s.jsx(IEe,{}),e==="friend-code"&&s.jsx(BEe,{}),e==="security"&&s.jsx(DEe,{}),e==="activity"&&s.jsx(REe,{}),e==="export"&&s.jsx(LEe,{})]})}const b0="oystercult_cart";function VF(){const[e,t]=F.useState([]),[r,n]=F.useState(!1);return F.useEffect(()=>{const c=localStorage.getItem(b0);if(c)try{t(JSON.parse(c))}catch(u){console.error("Erreur lors du chargement du panier:",u),localStorage.removeItem(b0)}},[]),{cartItems:e,addToCart:(c,u)=>{const d=[...e],f=d.find(h=>h.productId===c);f?f.quantity=u:d.push({productId:c,quantity:u}),t(d),localStorage.setItem(b0,JSON.stringify(d))},removeFromCart:c=>{const u=e.filter(d=>d.productId!==c);t(u),u.length===0?localStorage.removeItem(b0):localStorage.setItem(b0,JSON.stringify(u))},clearCart:()=>{t([]),localStorage.removeItem(b0)},isCartModalOpen:r,setIsCartModalOpen:()=>{n(!r)}}}function qF({isOpen:e,onClose:t,items:r,products:n,onRemoveItem:a,onClearCart:i}){if(!e)return null;const o=r.reduce((c,u)=>{const d=n.find(f=>f.id===u.productId);return c+(d?d.price*u.quantity:0)},0),l=()=>{i(),t()};return s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",style:{minHeight:"100vh"},children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-xl w-full max-w-md mx-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[s.jsx("h2",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Panier"}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-[rgb(var(--color-brand-surface-hover))] rounded-lg transition-colors",children:s.jsx(Mt,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"})})]}),s.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:r.length===0?s.jsx("p",{className:"text-center text-[rgb(var(--color-text-secondary))]",children:"Votre panier est vide"}):s.jsx("div",{className:"space-y-4",children:r.map(c=>{const u=n.find(d=>d.id===c.productId);return u?s.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-[rgb(var(--color-brand-surface-hover))] rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-[rgb(var(--color-text-primary))]",children:u.name}),s.jsxs("p",{className:"text-sm text-[rgb(var(--color-text-secondary))]",children:[c.quantity," ",u.unit," × ",u.price.toFixed(2),"€"]}),s.jsxs("p",{className:"text-sm font-medium text-[rgb(var(--color-brand-primary))]",children:["Total: ",(c.quantity*u.price).toFixed(2),"€"]})]}),s.jsx("button",{onClick:()=>a(c.productId),className:"p-2 hover:bg-[rgb(var(--color-brand-surface))] rounded-lg transition-colors",children:s.jsx(Oa,{className:"w-4 h-4 text-red-500"})})]},c.productId):null})})}),r.length>0&&s.jsxs("div",{className:"p-4 border-t border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Total"}),s.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[o.toFixed(2),"€"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Vider"}),s.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2 bg-[rgb(var(--color-brand-primary))] text-white rounded-lg hover:bg-[rgb(var(--color-brand-primary)_/_0.9)] transition-colors flex items-center justify-center gap-2",children:[s.jsx(v4,{className:"w-4 h-4"}),"Valider la commande"]})]})]})]})})}const Cw=[{id:"1",name:"Capteur de courantologie",description:"Mesure précise des courants marins avec transmission en temps réel",price:899.99,category:"sensor",features:["Mesure bidirectionnelle","Précision ±0.1 m/s","Transmission sans fil","Batterie longue durée"],inStock:!0,specifications:{"Plage de mesure":"0-10 m/s",Autonomie:"12 mois","Profondeur max":"50m",Protection:"IP68"},image:"https://example.com/image1.jpg"},{id:"2",name:"Sonde pH connectée",description:"Surveillance continue du pH avec alertes automatiques",price:299.99,category:"sensor",features:["Calibration automatique","Alertes personnalisables","Interface intuitive","Installation facile"],inStock:!0,specifications:{"Plage pH":"0-14",Précision:"±0.01 pH","Temps de réponse":"<5s",Température:"0-50°C"},image:"https://example.com/image2.jpg"},{id:"3",name:"Bracelet d'urgence",description:"Bracelet connecté étanche avec bouton d'appel d'urgence",price:149.99,category:"device",features:["Étanche IP68","Batterie 7 jours","Géolocalisation","Bouton SOS"],inStock:!0,specifications:{Matériau:"Silicone médical",Connectivité:"Bluetooth 5.0",Autonomie:"7 jours",Résistance:"5 ATM"},image:"https://example.com/image3.jpg"}];function UEe(){const[e,t]=F.useState(""),[r,n]=F.useState("all"),[a,i]=F.useState(!1),{cartItems:o,addToCart:l,removeFromCart:c,clearCart:u,isCartModalOpen:d,setIsCartModalOpen:f}=VF();F.useEffect(()=>{const m=x=>{a&&i(!1)};return document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}},[a]);const h=["all",...new Set(Cw.map(m=>m.category))],p=Cw.filter(m=>{const x=r==="all"||m.category===r,g=m.name.toLowerCase().includes(e.toLowerCase())||m.description.toLowerCase().includes(e.toLowerCase());return x&&g});return s.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-bg))]",children:s.jsxs("main",{className:"max-w-[1400px] mx-auto px-6 pt-12 pb-24",children:[s.jsxs(Ne.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsx(Kf,{icon:s.jsx(Vk,{size:28,className:"text-white"}),title:"Boutique"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:()=>f(!0),className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",children:[s.jsx(Bm,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),o.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:o.length})]})})]}),s.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary))]"}),s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:e,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none focus:border-[rgb(var(--color-brand-primary))]"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>i(!a),className:"w-full sm:w-48 px-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg flex items-center justify-between gap-2",children:[s.jsx("span",{className:"text-[rgb(var(--color-text-primary))]",children:r==="all"?"Toutes catégories":r}),s.jsx(Hm,{className:"w-4 h-4 text-[rgb(var(--color-text-secondary))]"})]}),a&&s.jsx("div",{className:"absolute z-20 mt-1 w-full bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg shadow-lg",children:s.jsx("div",{className:"p-1",children:h.map(m=>s.jsx("button",{onClick:()=>{n(m),i(!1)},className:`w-full text-left px-3 py-2 rounded-md transition-colors ${r===m?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":"hover:bg-[rgb(var(--color-brand-surface-hover))] text-[rgb(var(--color-text-primary))]"}`,children:s.jsx("span",{className:"capitalize",children:m==="all"?"Toutes catégories":m})},m))})})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(m=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-all duration-200",children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-medium text-white break-words",children:m.name}),s.jsx("p",{className:"text-sm text-white/60 mt-1 line-clamp-3",children:m.description})]}),s.jsxs("div",{className:"text-xl font-bold text-white whitespace-nowrap",children:[m.price,"€"]})]}),s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:m.features.map((x,g)=>s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:x},g))}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Spécifications"}),s.jsx("div",{className:"space-y-2",children:Object.entries(m.specifications).map(([x,g])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:x}),s.jsx("span",{className:"text-white",children:g})]},x))})]}),s.jsx("div",{className:"mt-6 flex items-center justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:"0",defaultValue:"0",className:"w-20 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20",onChange:x=>{parseInt(x.target.value,10)<0&&(x.target.value="0")}}),s.jsx("button",{onClick:x=>{const g=x.currentTarget.previousElementSibling,v=parseInt(g.value,10);v>0&&l(m.id,v)},className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter au panier"})]})})]})},m.id))}),s.jsx(qF,{isOpen:d,onClose:()=>f(!1),items:o,products:Cw,onRemoveItem:c,onClearCart:()=>{u(),f(!1)}})]})})}var GF="AlertDialog",[HEe,tOe]=jD(GF,[UD]),tc=UD(),XF=e=>{const{__scopeAlertDialog:t,...r}=e,n=tc(t);return s.jsx(a7,{...n,...r,modal:!0})};XF.displayName=GF;var WEe="AlertDialogTrigger",VEe=F.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=tc(r);return s.jsx(dge,{...a,...n,ref:t})});VEe.displayName=WEe;var qEe="AlertDialogPortal",YF=e=>{const{__scopeAlertDialog:t,...r}=e,n=tc(t);return s.jsx(i7,{...n,...r})};YF.displayName=qEe;var GEe="AlertDialogOverlay",KF=F.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=tc(r);return s.jsx(MN,{...a,...n,ref:t})});KF.displayName=GEe;var Y0="AlertDialogContent",[XEe,YEe]=HEe(Y0),JF=F.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=tc(r),o=F.useRef(null),l=Zl(t,o),c=F.useRef(null);return s.jsx(oge,{contentName:Y0,titleName:ZF,docsSlug:"alert-dialog",children:s.jsx(XEe,{scope:r,cancelRef:c,children:s.jsxs(FN,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:zl(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(SD,{children:n}),s.jsx(JEe,{contentRef:o})]})})})});JF.displayName=Y0;var ZF="AlertDialogTitle",QF=F.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=tc(r);return s.jsx(RN,{...a,...n,ref:t})});QF.displayName=ZF;var eR="AlertDialogDescription",tR=F.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=tc(r);return s.jsx(LN,{...a,...n,ref:t})});tR.displayName=eR;var KEe="AlertDialogAction",rR=F.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=tc(r);return s.jsx(BN,{...a,...n,ref:t})});rR.displayName=KEe;var nR="AlertDialogCancel",aR=F.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=YEe(nR,r),i=tc(r),o=Zl(t,a);return s.jsx(BN,{...i,...n,ref:o})});aR.displayName=nR;var JEe=({contentRef:e})=>{const t=`\`${Y0}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Y0}\` by passing a \`${eR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Y0}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return F.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ZEe=XF,QEe=YF,iR=KF,sR=JF,oR=rR,lR=aR,cR=QF,uR=tR;const e8e=ZEe,t8e=QEe,dR=F.forwardRef(({className:e,...t},r)=>s.jsx(iR,{className:fl("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));dR.displayName=iR.displayName;const fR=F.forwardRef(({className:e,...t},r)=>s.jsxs(t8e,{children:[s.jsx(dR,{}),s.jsx(sR,{ref:r,className:fl("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));fR.displayName=sR.displayName;const hR=({className:e,...t})=>s.jsx("div",{className:fl("flex flex-col space-y-2 text-center sm:text-left",e),...t});hR.displayName="AlertDialogHeader";const pR=({className:e,...t})=>s.jsx("div",{className:fl("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pR.displayName="AlertDialogFooter";const mR=F.forwardRef(({className:e,...t},r)=>s.jsx(cR,{ref:r,className:fl("text-lg font-semibold",e),...t}));mR.displayName=cR.displayName;const xR=F.forwardRef(({className:e,...t},r)=>s.jsx(uR,{ref:r,className:fl("text-sm text-muted-foreground",e),...t}));xR.displayName=uR.displayName;const gR=F.forwardRef(({className:e,...t},r)=>s.jsx(oR,{ref:r,className:fl("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));gR.displayName=oR.displayName;const vR=F.forwardRef(({className:e,...t},r)=>s.jsx(lR,{ref:r,className:fl("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",e),...t}));vR.displayName=lR.displayName;function r8e({supplier:e,onDelete:t,onViewCatalog:r}){const[n,a]=F.useState(!1),i=e.name.split(" ").map(o=>o[0]).join("");return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 p-4 space-y-4 transition-all duration-300",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-24 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsx("div",{className:"relative w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold bg-gradient-to-br from-[rgba(15,23,42,0.4)] to-[rgba(20,100,100,0.4)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 z-10",children:s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:i})})]})}),e.is_friend&&s.jsxs("div",{className:"absolute top-2 right-2 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(16,185,129,0.2)] backdrop-filter backdrop-blur-[10px] rounded-full px-3 py-1 flex items-center gap-1 border border-emerald-500/20 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(16,185,129,0.2)]",children:[s.jsx(w9,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-xs font-medium text-cyan-400",children:"Ami"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),s.jsxs("div",{className:"text-xs text-white/70 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kv,{className:"w-3 h-3 shrink-0 text-cyan-400"}),s.jsx("span",{children:e.address})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"w-3 h-3 shrink-0 text-cyan-400"}),s.jsx("span",{children:e.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"w-3 h-3 shrink-0 text-cyan-400"}),s.jsx("span",{children:e.email})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-white/10",children:[s.jsxs("button",{onClick:()=>r(e.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":`Voir le catalogue de ${e.name}`,children:[s.jsx(_9,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Catalogue"})]}),s.jsx("button",{onClick:()=>a(!0),className:"flex items-center justify-center p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-300 border border-white/5 hover:border-red-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_4px_15px_rgba(0,0,0,0.3),0_0_10px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40","aria-label":`Supprimer ${e.name}`,children:s.jsx(Oa,{className:"w-4 h-4"})})]})]})]}),s.jsx(e8e,{open:n,onOpenChange:a,children:s.jsxs(fR,{className:"bg-gradient-to-br from-[rgba(15,23,42,0.8)] to-[rgba(20,100,100,0.8)] backdrop-filter backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.4)_0px_10px_25px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px]",children:[s.jsxs(hR,{children:[s.jsx(mR,{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirmer la suppression"}),s.jsx(xR,{className:"text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."})]}),s.jsxs(pR,{children:[s.jsx(vR,{className:"bg-white/5 border border-white/10 hover:border-white/20 hover:bg-white/10 text-white rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),s.jsx(gR,{onClick:()=>{t(e.id),a(!1)},className:"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30 rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(239,68,68,0.1)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40 transition-all duration-300",children:"Supprimer"})]})]})})]})}const qo=F.forwardRef(({className:e,...t},r)=>s.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e||""}`,ref:r,...t}));qo.displayName="Label";function n8e({open:e,onOpenChange:t,editingSupplier:r}){const{addSupplier:n,updateSupplier:a}=Z2(),i=!!r,[o,l]=F.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||""}),[c,u]=F.useState(!1),[d,f]=F.useState({}),h=x=>{const{name:g,value:v}=x.target;l(y=>({...y,[g]:v})),d[g]&&f(y=>{const b={...y};return delete b[g],b})},p=()=>{const x={};return o.name.trim()||(x.name="Le nom est requis"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(x.email="Format d'email invalide"):x.email="L'email est requis",o.phone.trim()||(x.phone="Le téléphone est requis"),o.address.trim()||(x.address="L'adresse est requise"),f(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!!p()){u(!0);try{i&&r?await a.mutateAsync({id:r.id,...o}):await n.mutateAsync(o),t(!1),l({name:"",email:"",phone:"",address:""})}catch(g){console.error("Error saving supplier:",g)}finally{u(!1)}}};return s.jsx(_v,{open:e,onOpenChange:t,children:s.jsxs(Nm,{className:"sm:max-w-[500px] bg-[#1a1c25] text-white border-[#2a2d3a]",children:[s.jsxs(jm,{children:[s.jsx(Sm,{className:"text-white",children:i?"Modifier le fournisseur":"Ajouter un fournisseur"}),s.jsx(Nv,{children:i?"Modifiez les informations du fournisseur ci-dessous.":"Remplissez les informations du nouveau fournisseur."})]}),s.jsxs("form",{onSubmit:m,className:"space-y-5 my-2",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(qo,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(yd,{className:"h-3.5 w-3.5 text-indigo-400"}),"Nom du fournisseur"]}),s.jsx(zt,{id:"name",name:"name",value:o.name,onChange:h,placeholder:"Atlantique Coquillages",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.name?"border-red-500":""}`}),d.name&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.name})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(qo,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(qs,{className:"h-3.5 w-3.5 text-indigo-400"}),"Email"]}),s.jsx(zt,{id:"email",name:"email",type:"email",value:o.email,onChange:h,placeholder:"contact@atlantique-coquillages.fr",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.email?"border-red-500":""}`}),d.email&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.email})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(qo,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Oi,{className:"h-3.5 w-3.5 text-indigo-400"}),"Téléphone"]}),s.jsx(zt,{id:"phone",name:"phone",value:o.phone,onChange:h,placeholder:"01 23 45 67 89",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.phone?"border-red-500":""}`}),d.phone&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.phone})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(qo,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Pi,{className:"h-3.5 w-3.5 text-indigo-400"}),"Adresse"]}),s.jsx(zt,{id:"address",name:"address",value:o.address,onChange:h,placeholder:"42 Avenue du Port, 85230 Bouin",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.address?"border-red-500":""}`}),d.address&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.address})]}),s.jsxs(o7,{className:"mt-6",children:[s.jsx(br,{type:"button",variant:"outline",onClick:()=>t(!1),className:"border-[#2a2d3a] text-white hover:bg-[#2a2d3a] hover:text-white",children:"Annuler"}),s.jsx(br,{type:"submit",disabled:c,className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white",children:c?"Enregistrement...":i?"Mettre à jour":"Ajouter"})]})]})]})})}function a8e(){const{suppliers:e,isLoading:t,updateSupplier:r}=Z2(),[n,a]=F.useState(!1),[i,o]=F.useState(""),l=So(),c=async f=>{try{await r.mutateAsync({id:f,deleted:!0})}catch(h){console.error("Error deleting supplier:",h)}},u=f=>{l(`/suppliers/${f}/catalog`)},d=e.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())||f.email.toLowerCase().includes(i.toLowerCase()));return t?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"})}):s.jsx("div",{className:"p-6 max-w-[1600px] mx-auto",children:s.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:s.jsx(J0,{size:28,className:"text-cyan-400"})})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Fournisseurs"})]}),s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("div",{children:s.jsx("p",{className:"text-white/70",children:"Gérez vos fournisseurs et accédez à leurs catalogues"})}),s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(ar,{size:20}),"Ajouter un fournisseur"]})]}),s.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative flex-grow max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsx(An,{className:"w-4 h-4 text-white/40"})}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher un fournisseur...",value:i,onChange:f=>o(f.target.value),"aria-label":"Rechercher un fournisseur"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/70 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] px-4 py-2 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 min-w-[44px] min-h-[44px]",children:[s.jsx(ki,{className:"w-4 h-4 text-cyan-400"}),s.jsxs("span",{className:"text-sm",children:[d.length," fournisseurs"]})]})]}),d.length===0?s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.5)] to-[rgba(20,100,100,0.5)] backdrop-filter backdrop-blur-[10px] rounded-full p-4 mb-4 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:s.jsx(ki,{className:"w-8 h-8 text-cyan-400"})}),s.jsx("h3",{className:"text-xl font-medium mb-2 text-white",children:"Aucun fournisseur trouvé"}),s.jsx("p",{className:"max-w-md text-white/70",children:i?"Aucun résultat ne correspond à votre recherche. Essayez avec d'autres termes.":"Commencez par ajouter un fournisseur en cliquant sur le bouton ci-dessus."})]}):s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:d.map(f=>s.jsx(r8e,{supplier:f,onDelete:c,onViewCatalog:u},f.id))})}),s.jsx(n8e,{open:n,onOpenChange:a})]})})}function i8e(){const{supplierId:e}=N9(),t=So(),{suppliers:r,getSupplierProducts:n}=Z2(),{cartItems:a,addToCart:i,removeFromCart:o,clearCart:l,isCartModalOpen:c,setIsCartModalOpen:u}=VF(),[d,f]=F.useState({}),[h,p]=F.useState(!0),[m,x]=F.useState([]),[g,v]=F.useState("all"),[y,b]=F.useState(""),[_,S]=F.useState(!1),[N,j]=F.useState([]),C=r.find(E=>E.id===e);F.useEffect(()=>{(async()=>{if(p(!0),e)try{console.log("⚡ Chargement des produits pour le fournisseur:",e);const R=await n(e);if(console.log("⚡ Produits reçus:",R),Array.isArray(R)&&R.length>0){x(R),console.log("⚡ Produits définis avec succès:",R.length);const H={};R.forEach(G=>{H[G.id]=G.min_order_quantity||G.minOrder||1}),f(H)}else console.log("⚡ Aucun produit trouvé ou format incorrect:",R),x([]),f({})}catch(R){console.error("❌ Erreur lors du chargement des produits:",R),x([]),f({})}p(!1)})()},[e,n]),F.useEffect(()=>{let E=[...m];g!=="all"&&(E=E.filter(R=>R.category===g)),y&&(E=E.filter(R=>R.name.toLowerCase().includes(y.toLowerCase()))),j(E)},[m,g,y]);const P=E=>{i(E)},M=(E,R)=>{f(H=>({...H,[E]:R}))},k=["all",...new Set(m.map(E=>E.category))];return C?s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[s.jsx(pg,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:C.name}),s.jsxs("button",{onClick:()=>u(!0),className:"relative",children:[s.jsx(Bm,{className:"h-6 w-6 text-white hover:text-cyan-400 transition-colors duration-300","aria-hidden":"true"}),a.length>0&&s.jsx(eF,{className:"absolute -top-2 -right-2 rounded-full px-2 py-1 text-xs",children:a.length})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"relative w-1/2",children:[s.jsx("input",{type:"search",placeholder:"Rechercher un produit...",className:"w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:y,onChange:E=>b(E.target.value)}),s.jsx(An,{className:"absolute top-1/2 right-3 -translate-y-1/2 h-5 w-5 text-white/50","aria-hidden":"true"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>S(!_),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",children:["Catégorie: ",g==="all"?"Toutes":g,s.jsx(Hm,{className:"h-5 w-5","aria-hidden":"true"})]}),s.jsx(hr,{children:_&&s.jsx(Ne.ul,{className:"absolute top-full right-0 mt-2 rounded-lg bg-gray-800 border border-gray-700 shadow-lg overflow-hidden z-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:k.map(E=>s.jsxs(Ne.li,{className:"px-4 py-2 text-white hover:bg-gray-700 transition-colors duration-300 cursor-pointer",onClick:()=>{v(E),S(!1)},whileHover:{backgroundColor:"#4a5568"},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g===E&&s.jsx($m,{className:"h-4 w-4 text-cyan-500","aria-hidden":"true"}),s.jsx("span",{children:E==="all"?"Toutes":E})]},E))})})]})]}),h?s.jsx("div",{className:"text-white",children:"Chargement des produits..."}):N.length===0?s.jsxs("div",{className:"text-white",children:["Aucun produit trouvé pour le fournisseur ",s.jsx("strong",{children:C.name})," dans la catégorie ",s.jsx("strong",{children:g}),y&&` avec le terme de recherche ${y}`,"."]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:N.map(E=>{const R=d[E.id]||E.min_order_quantity||E.minOrder||1;return s.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800 p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:E.name}),s.jsx("p",{className:"text-white/70",children:E.description}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("span",{className:"text-cyan-400 font-bold",children:[E.price," ",E.unit]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",min:E.min_order_quantity||E.minOrder||1,className:"w-20 px-2 py-1 rounded-lg bg-gray-700 border border-gray-600 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:R,onChange:H=>{const G=parseInt(H.target.value,10);M(E.id,G)}}),s.jsx("button",{onClick:()=>P(E),className:"ml-2 px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors duration-300",children:"Ajouter"})]})]})]},E.id)})}),s.jsx(qF,{isOpen:c,onClose:()=>u(!1),items:a,products:m,onRemoveItem:o,onClearCart:l})]}):s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[s.jsx(pg,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Fournisseur non trouvé"})]})}function hx({children:e,onClick:t,className:r="",style:n}){const[a,i]=le.useState(!1);return s.jsxs(Ne.div,{className:`relative overflow-hidden bg-white/5 border border-white/10 ${r}`,style:n,onClick:t,onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),whileHover:{y:-4},children:[e,s.jsx(Ne.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/5 pointer-events-none",initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:.2}}),s.jsx(Ne.div,{className:"absolute inset-0 pointer-events-none rounded-lg border border-blue-500/30",initial:{opacity:0},animate:{opacity:a?1:0,boxShadow:a?"0 0 15px 1px rgba(59, 130, 246, 0.3)":"none"},transition:{duration:.2}})]})}const s8e=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>ih);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class C3 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class o8e extends C3{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class l8e extends C3{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class c8e extends C3{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var i4;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(i4||(i4={}));var u8e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class d8e{constructor(t,{headers:r={},customFetch:n,region:a=i4.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=s8e(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return u8e(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(m=>{throw new o8e(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new l8e(d);if(!d.ok)throw new c8e(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Hi={},E3={},ib={},px={},sb={},ob={},f8e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Of=f8e();const h8e=Of.fetch,bR=Of.fetch.bind(Of),yR=Of.Headers,p8e=Of.Request,m8e=Of.Response,ih=Object.freeze(Object.defineProperty({__proto__:null,Headers:yR,Request:p8e,Response:m8e,default:bR,fetch:h8e},Symbol.toStringTag,{value:"Module"})),x8e=sT(ih);var lb={};Object.defineProperty(lb,"__esModule",{value:!0});let g8e=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lb.default=g8e;var wR=da&&da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ob,"__esModule",{value:!0});const v8e=wR(x8e),b8e=wR(lb);let y8e=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=v8e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&x===""?(h=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new b8e.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}};ob.default=y8e;var w8e=da&&da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sb,"__esModule",{value:!0});const _8e=w8e(ob);let N8e=class extends _8e.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};sb.default=N8e;var j8e=da&&da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(px,"__esModule",{value:!0});const S8e=j8e(sb);let A8e=class extends S8e.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};px.default=A8e;var C8e=da&&da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ib,"__esModule",{value:!0});const tp=C8e(px);let E8e=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new tp.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new tp.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new tp.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new tp.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new tp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ib.default=E8e;var cb={},ub={};Object.defineProperty(ub,"__esModule",{value:!0});ub.version=void 0;ub.version="0.0.0-automated";Object.defineProperty(cb,"__esModule",{value:!0});cb.DEFAULT_HEADERS=void 0;const k8e=ub;cb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${k8e.version}`};var _R=da&&da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E3,"__esModule",{value:!0});const T8e=_R(ib),O8e=_R(px),P8e=cb;let I8e=class NR{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},P8e.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new T8e.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new NR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new O8e.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};E3.default=I8e;var sh=da&&da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.PostgrestError=Hi.PostgrestBuilder=Hi.PostgrestTransformBuilder=Hi.PostgrestFilterBuilder=Hi.PostgrestQueryBuilder=Hi.PostgrestClient=void 0;const jR=sh(E3);Hi.PostgrestClient=jR.default;const SR=sh(ib);Hi.PostgrestQueryBuilder=SR.default;const AR=sh(px);Hi.PostgrestFilterBuilder=AR.default;const CR=sh(sb);Hi.PostgrestTransformBuilder=CR.default;const ER=sh(ob);Hi.PostgrestBuilder=ER.default;const kR=sh(lb);Hi.PostgrestError=kR.default;var D8e=Hi.default={PostgrestClient:jR.default,PostgrestQueryBuilder:SR.default,PostgrestFilterBuilder:AR.default,PostgrestTransformBuilder:CR.default,PostgrestBuilder:ER.default,PostgrestError:kR.default};const{PostgrestClient:M8e,PostgrestQueryBuilder:oOe,PostgrestFilterBuilder:lOe,PostgrestTransformBuilder:cOe,PostgrestBuilder:uOe,PostgrestError:dOe}=D8e,F8e="2.11.2",R8e={"X-Client-Info":`realtime-js/${F8e}`},L8e="1.0.0",TR=1e4,B8e=1e3;var K0;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(K0||(K0={}));var ss;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ss||(ss={}));var po;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(po||(po={}));var s4;(function(e){e.websocket="websocket"})(s4||(s4={}));var Ru;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ru||(Ru={}));class $8e{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class OR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Jr||(Jr={}));const Ck=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=z8e(o,e,t,a),i),{})},z8e=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?PR(i,o):o4(o)},PR=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return V8e(t,r)}switch(e){case Jr.bool:return U8e(t);case Jr.float4:case Jr.float8:case Jr.int2:case Jr.int4:case Jr.int8:case Jr.numeric:case Jr.oid:return H8e(t);case Jr.json:case Jr.jsonb:return W8e(t);case Jr.timestamp:return q8e(t);case Jr.abstime:case Jr.date:case Jr.daterange:case Jr.int4range:case Jr.int8range:case Jr.money:case Jr.reltime:case Jr.text:case Jr.time:case Jr.timestamptz:case Jr.timetz:case Jr.tsrange:case Jr.tstzrange:return o4(t);default:return o4(t)}},o4=e=>e,U8e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},H8e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},W8e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},V8e=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>PR(t,l))}return e},q8e=e=>typeof e=="string"?e.replace(" ","T"):e,IR=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ew{constructor(t,r,n={},a=TR){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ek;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ek||(Ek={}));class Rp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rp.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Rp.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Rp.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=d.filter(g=>p.indexOf(g.presence_ref)<0),x=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(l[u]=m),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kk||(kk={}));var Tk;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Tk||(Tk={}));var Il;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Il||(Il={}));class k3{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ss.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ew(this,po.join,this.params,this.timeout),this.rejoinTimer=new OR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ss.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ss.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ss.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ss.errored,this.rejoinTimer.scheduleTimeout())}),this._on(po.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Rp(this),this.broadcastEndpointURL=IR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Il.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Il.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Il.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let x=0;x<p;x++){const g=h[x],{filter:{event:v,schema:y,table:b,filter:_}}=g,S=d&&d[x];if(S&&S.event===v&&S.schema===y&&S.table===b&&S.filter===_)m.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),t==null||t(Il.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Il.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Il.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Il.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ss.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(po.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Ew(this,po.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ew(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=po;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,x,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(x=p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,x,g,v,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:x,table:g,commit_timestamp:v,type:y,errors:b}=m;h=Object.assign(Object.assign({},{schema:x,table:g,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===ss.closed}_isJoined(){return this.state===ss.joined}_isJoining(){return this.state===ss.joining}_isLeaving(){return this.state===ss.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&k3.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(po.close,{},t)}_onError(t){this._on(po.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ss.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ck(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ck(t.columns,t.old_record)),r}}const G8e=()=>{},X8e=typeof WebSocket<"u",Y8e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K8e{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=R8e,this.params={},this.timeout=TR,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=G8e,this.conn=null,this.sendBuffer=[],this.serializer=new $8e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ol(async()=>{const{default:c}=await Promise.resolve().then(()=>ih);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${s4.websocket}`,this.httpEndpoint=IR(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new OR(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(X8e){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new J8e(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ol(async()=>{const{default:t}=await import("./browser-C42tFqjx.js").then(r=>r.b);return{default:t}},__vite__mapDeps([2,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L8e}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case K0.connecting:return Ru.Connecting;case K0.open:return Ru.Open;case K0.closing:return Ru.Closing;default:return Ru.Closed}}isConnected(){return this.connectionState()===Ru.Open}channel(t,r={config:{}}){const n=new k3(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(po.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(B8e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(po.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Y8e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class J8e{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=K0.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class T3 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Na(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Z8e extends T3{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class l4 extends T3{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Q8e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const DR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>ih);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eke=()=>Q8e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ol(()=>Promise.resolve().then(()=>ih),void 0)).Response:Response}),c4=e=>{if(Array.isArray(e))return e.map(r=>c4(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=c4(n)}),t};var Md=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const kw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tke=(e,t,r)=>Md(void 0,void 0,void 0,function*(){const n=yield eke();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new Z8e(kw(a),e.status||500))}).catch(a=>{t(new l4(kw(a),a))}):t(new l4(kw(e),e))}),rke=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function mx(e,t,r,n,a,i){return Md(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,rke(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>tke(c,l,n))})})}function qv(e,t,r,n){return Md(this,void 0,void 0,function*(){return mx(e,"GET",t,r,n)})}function Pc(e,t,r,n,a){return Md(this,void 0,void 0,function*(){return mx(e,"POST",t,n,a,r)})}function nke(e,t,r,n,a){return Md(this,void 0,void 0,function*(){return mx(e,"PUT",t,n,a,r)})}function ake(e,t,r,n){return Md(this,void 0,void 0,function*(){return mx(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function MR(e,t,r,n,a){return Md(this,void 0,void 0,function*(){return mx(e,"DELETE",t,n,a,r)})}var zi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ike={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ok={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ske{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=DR(a)}uploadOrUpdate(t,r,n,a){return zi(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ok),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Na(i))return{data:null,error:i};throw i}})}upload(t,r,n){return zi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return zi(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ok.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Na(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return zi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Pc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new T3("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Na(n))return{data:null,error:n};throw n}})}update(t,r,n){return zi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return zi(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Na(a))return{data:null,error:a};throw a}})}copy(t,r,n){return zi(this,void 0,void 0,function*(){try{return{data:{path:(yield Pc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Na(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return zi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Pc(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Na(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return zi(this,void 0,void 0,function*(){try{const a=yield Pc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Na(a))return{data:null,error:a};throw a}})}download(t,r){return zi(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield qv(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Na(l))return{data:null,error:l};throw l}})}info(t){return zi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield qv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:c4(n),error:null}}catch(n){if(Na(n))return{data:null,error:n};throw n}})}exists(t){return zi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ake(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Na(n)&&n instanceof l4){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return zi(this,void 0,void 0,function*(){try{return{data:yield MR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Na(r))return{data:null,error:r};throw r}})}list(t,r,n){return zi(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ike),r),{prefix:t||""});return{data:yield Pc(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Na(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const oke="2.7.1",lke={"X-Client-Info":`storage-js/${oke}`};var y0=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class cke{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},lke),r),this.fetch=DR(n)}listBuckets(){return y0(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Na(t))return{data:null,error:t};throw t}})}getBucket(t){return y0(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Na(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return y0(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Na(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return y0(this,void 0,void 0,function*(){try{return{data:yield nke(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Na(n))return{data:null,error:n};throw n}})}emptyBucket(t){return y0(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Na(r))return{data:null,error:r};throw r}})}deleteBucket(t){return y0(this,void 0,void 0,function*(){try{return{data:yield MR(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Na(r))return{data:null,error:r};throw r}})}}class uke extends cke{constructor(t,r={},n){super(t,r,n)}from(t){return new ske(this.url,this.headers,t,this.fetch)}}const dke="2.48.1";let dp="";typeof Deno<"u"?dp="deno":typeof document<"u"?dp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dp="react-native":dp="node";const fke={"X-Client-Info":`supabase-js-${dp}/${dke}`},hke={headers:fke},pke={schema:"public"},mke={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xke={};var gke=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const vke=e=>{let t;return e?t=e:typeof fetch>"u"?t=bR:t=fetch,(...r)=>t(...r)},bke=()=>typeof Headers>"u"?yR:Headers,yke=(e,t,r)=>{const n=vke(r),a=bke();return(i,o)=>gke(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var wke=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function _ke(e){return e.replace(/\/$/,"")}function Nke(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>wke(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const FR="2.67.3",jke="http://localhost:9999",Ske="supabase.auth.token",Ake={"X-Client-Info":`gotrue-js/${FR}`},Pk=10,u4="X-Supabase-Api-Version",RR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Cke(e){return Math.round(Date.now()/1e3)+e}function Eke(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $o=()=>typeof window<"u"&&typeof document<"u",Su={tested:!1,writable:!1},Lp=()=>{if(!$o())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Su.tested)return Su.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Su.tested=!0,Su.writable=!0}catch{Su.tested=!0,Su.writable=!1}return Su.writable};function kke(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const LR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>ih);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Tke=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",BR=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Z1=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Q1=async(e,t)=>{await e.removeItem(t)};function Oke(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=o<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&a!=0&&(r=r+String.fromCharCode(a)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class db{constructor(){this.promise=new db.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}db.promiseConstructor=Promise;function Ik(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Oke(n))}async function Pke(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ike(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Dke(e){return("0"+e.toString(16)).substr(-2)}function Mke(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Dke).join("")}async function Fke(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function Rke(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lke(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Fke(e);return Rke(r)}async function w0(e,t,r=!1){const n=Mke();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await BR(e,`${t}-code-verifier`,a);const i=await Lke(n);return[i,n===i?"plain":"s256"]}const Bke=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $ke(e){const t=e.headers.get(u4);if(!t||!t.match(Bke))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class O3 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Jt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zke extends O3{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Uke(e){return Jt(e)&&e.name==="AuthApiError"}class $R extends O3{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fd extends O3{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ec extends Fd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hke(e){return Jt(e)&&e.name==="AuthSessionMissingError"}class Tw extends Fd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eg extends Fd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tg extends Fd{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wke(e){return Jt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Dk extends Fd{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class d4 extends Fd{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ow(e){return Jt(e)&&e.name==="AuthRetryableFetchError"}class Mk extends Fd{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Vke=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Iu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qke=[502,503,504];async function Fk(e){var t;if(!Tke(e))throw new d4(Iu(e),0);if(qke.includes(e.status))throw new d4(Iu(e),e.status);let r;try{r=await e.json()}catch(i){throw new $R(Iu(i),i)}let n;const a=$ke(e);if(a&&a.getTime()>=RR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mk(Iu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ec}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mk(Iu(r),e.status,r.weak_password.reasons);throw new zke(Iu(r),e.status||500,n)}const Gke=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function or(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[u4]||(i[u4]=RR["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Xke(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Xke(e,t,r,n,a,i){const o=Gke(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new d4(Iu(c),0)}if(l.ok||await Fk(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Fk(c)}}function kc(e){var t;let r=null;Zke(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Cke(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Rk(e){const t=kc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Yke(e){return{data:e,error:null}}function Kke(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Vke(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Jke(e){return e}function Zke(e){return e.access_token&&e.refresh_token&&e.expires_in}var Qke=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class eTe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=LR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await or(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await or(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bc})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Qke(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await or(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Kke,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Jt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await or(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bc})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await or(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Jke});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const x=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Jt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await or(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bc})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await or(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Bc})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await or(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bc})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await or(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await or(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}}const tTe={getItem:e=>Lp()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Lp()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Lp()&&globalThis.localStorage.removeItem(e)}};function Lk(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function rTe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _0={debug:!!(globalThis&&Lp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nTe extends zR{}async function aTe(e,t,r){_0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),_0.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){_0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{_0.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw _0.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nTe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_0.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}rTe();const iTe={url:jke,storageKey:Ske,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ake,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},rp=30*1e3,Bk=3;async function $k(e,t,r){return await r()}class Rm{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rm.nextInstanceID,Rm.nextInstanceID+=1,this.instanceID>0&&$o()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},iTe),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new eTe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=LR(a.fetch),this.lock=a.lock||$k,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:$o()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=aTe:this.lock=$k,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Lp()?this.storage=tTe:(this.memoryStorage={},this.storage=Lk(this.memoryStorage)):(this.memoryStorage={},this.storage=Lk(this.memoryStorage)),$o()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FR}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=kke(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),$o()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Wke(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Jt(r)?{error:r}:{error:new $R("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:kc}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await w0(this.storage,this.storageKey)),i=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:kc})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kc})}else throw new eg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rk})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rk})}else throw new eg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Tw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Z1(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await or(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kc});if(await Q1(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Tw}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Jt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await or(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Tw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await w0(this.storage,this.storageKey));const{error:f}=await or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new eg("You must provide either an email or phone number.")}catch(l){if(Jt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await or(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:kc});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Jt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await w0(this.storage,this.storageKey)),await or(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Yke})}catch(i){if(Jt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ec;const{error:a}=await or(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Jt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await or(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await or(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new eg("You must provide either an email or phone number and a type")}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Z1(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bc}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ec}:await or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Bc})})}catch(r){if(Jt(r))return Hke(r)&&(await this._removeSession(),await Q1(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ec;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await w0(this.storage,this.storageKey));const{data:u,error:d}=await or(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Bc});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Ik(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ec;const r=Date.now()/1e3;let n=r,a=!0,i=null;const o=Ik(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Jt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ec;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!$o())throw new tg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Dk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Dk("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new tg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=rp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:x,error:g}=await this._getUser(i);if(g)throw g;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Jt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Z1(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Uke(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Q1(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Eke(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await w0(this.storage,this.storageKey,!0));try{return await or(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Jt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await or(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return $o()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Jt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await or(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ike(async a=>(a>0&&await Pke(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await or(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kc})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Ow(i)&&Date.now()+o-n<rp})}catch(n){if(this._debug(r,"error",n),Jt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$o()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Z1(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<a+Pk;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Pk}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Ow(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ec;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new db;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ec;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Jt(i)){const o={session:null,error:i};return Ow(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await BR(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Q1(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$o()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rp);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/rp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${rp}ms, refresh threshold is ${Bk} ticks`),a<=Bk&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$o()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await w0(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await or(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await or(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await or(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await or(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}Rm.nextInstanceID=0;const sTe=Rm;class oTe extends sTe{constructor(t){super(t)}}var lTe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class cTe{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=_ke(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:pke,realtime:xke,auth:Object.assign(Object.assign({},mke),{storageKey:c}),global:hke},d=Nke(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=yke(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new M8e(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new d8e(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uke(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return lTe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oTe({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new K8e(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uTe=(e,t,r)=>new cTe(e,t,r),dTe="https://rmockgbhcxrgqpeejrry.supabase.co",fTe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",Au=uTe(dTe,fTe);function hTe(){const e=tT(),{addNotification:t}=ys(),{data:r=[],isLoading:n}=g4({queryKey:["supplier_orders"],queryFn:async()=>{try{return[{id:"1",supplier_id:"hmo",status:"pending",products:[{id:"1",name:"Huîtres plates",quantity:120,price:8.5},{id:"2",name:"Huîtres creuses",quantity:240,price:7.2}],total_amount:2748,created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString(),comments:[]},{id:"2",supplier_id:"lpb",status:"accepted",products:[{id:"3",name:"Moules de Bouzigues",quantity:50,price:6}],total_amount:300,created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString(),comments:[{id:"1",content:"Commande validée par le fournisseur. Livraison prévue la semaine prochaine.",created_at:new Date(Date.now()-2592e5).toISOString(),user_id:"1"}]},{id:"3",supplier_id:"ac",status:"delivering",products:[{id:"4",name:"Huîtres du Bassin",quantity:80,price:9.5},{id:"5",name:"Palourdes",quantity:30,price:12}],total_amount:1120,created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),comments:[{id:"2",content:"Votre commande est en cours de livraison. Arrivée prévue demain matin.",created_at:new Date(Date.now()-864e5).toISOString(),user_id:"1"}]},{id:"4",supplier_id:"cp",status:"completed",products:[{id:"6",name:"Huîtres plates",quantity:50,price:8.5},{id:"7",name:"Moules de bouchot",quantity:80,price:5.2}],total_amount:841,storage_location:"Zone A, Étagère 3",created_at:new Date(Date.now()-10368e5).toISOString(),updated_at:new Date(Date.now()-6912e5).toISOString(),comments:[{id:"3",content:"Commande reçue et stockée. Qualité conforme aux attentes.",created_at:new Date(Date.now()-6912e5).toISOString(),user_id:"1"}]},{id:"5",supplier_id:"hmo",status:"rejected",products:[{id:"8",name:"Huîtres spéciales",quantity:20,price:15}],total_amount:300,created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date(Date.now()-7776e5).toISOString(),comments:[{id:"4",content:"Commande refusée par le fournisseur. Stock insuffisant pour le moment.",created_at:new Date(Date.now()-7776e5).toISOString(),user_id:"2"}]}]}catch(l){return console.error("Error fetching supplier orders:",l),[]}}}),a=fp({mutationFn:async l=>{const{data:c}=await Au.from("supplier_products").select("id, price").in("id",l.products.map(h=>h.id)),u=l.products.reduce((h,p)=>{const m=c==null?void 0:c.find(x=>x.id===p.id);return h+((m==null?void 0:m.price)||0)*p.quantity},0),{data:d,error:f}=await Au.from("supplier_orders").insert([{...l,status:"pending",total_amount:u}]).select().single();if(f)throw f;return t({title:"Commande créée",message:"La commande a été créée avec succès",type:"success",important:!1,category:"inventory"}),d},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}}),i=fp({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await Au.from("supplier_orders").update(c).eq("id",l).select().single();if(d)throw d;if(c.status==="completed"){const f=await Au.from("supplier_orders").select("*").eq("id",l).single();if(f.data)for(const h of f.data.products)await Au.rpc("update_stock",{product_id:h.id,quantity:h.quantity,storage_location:c.storage_location,expiry_date:c.expiry_date});t({title:"Stock mis à jour",message:"Le stock a été mis à jour avec les produits livrés",type:"success",important:!1,category:"inventory"})}return u},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}}),o=fp({mutationFn:async({order_id:l,content:c})=>{var f;const{data:u,error:d}=await Au.from("supplier_order_comments").insert([{order_id:l,content:c,user_id:(f=(await Au.auth.getUser()).data.user)==null?void 0:f.id}]).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}});return{orders:r,isLoading:n,createOrder:a,updateOrder:i,addComment:o}}const zk=[{id:"hmo",name:"HMO",description:"Huîtres de Marennes Oléron",products:["Huîtres plates","Huîtres creuses","Huîtres spéciales"]},{id:"lpb",name:"LPB",description:"Les Parcs de Bouzigues",products:["Moules de Bouzigues","Huîtres de Bouzigues"]},{id:"ac",name:"AC",description:"Arcachon Coquillages",products:["Huîtres du Bassin","Palourdes","Coques"]},{id:"cp",name:"CP",description:"Cancale Production",products:["Huîtres plates","Huîtres creuses","Moules de bouchot"]}];function pTe(){const{orders:e,isLoading:t,updateOrder:r}=hTe(),[n,a]=le.useState(null);le.useState(!1),ys();const[i,o]=F.useState("");return F.useState(null),zk.filter(l=>l.name.toLowerCase().includes(i.toLowerCase())||l.description.toLowerCase().includes(i.toLowerCase())||l.products.some(c=>c.toLowerCase().includes(i.toLowerCase()))),t?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[rgb(var(--color-brand-primary))]"})}):s.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commandes Fournisseurs"}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/5 rounded-lg text-white/60 hover:text-white transition-colors",children:s.jsx(Mt,{size:24})})})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:i,onChange:l=>o(l.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20"}),s.jsx(An,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40",size:20})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Vos commandes récentes"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>{const c=zk.find(f=>f.id===l.supplier_id),u=l.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":l.status==="accepted"?"bg-green-500/20 text-green-400 border-green-500/30":l.status==="delivering"?"bg-blue-500/20 text-blue-400 border-blue-500/30":l.status==="completed"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-red-500/20 text-red-400 border-red-500/30",d=l.status==="pending"?"Envoyé":l.status==="accepted"?"Validé":l.status==="delivering"?"En cours de livraison":l.status==="completed"?"Reçu":"Refusé";return s.jsx(hx,{onClick:()=>a(l.id),className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:(c==null?void 0:c.name)||"Fournisseur"}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u}`,children:d})]}),s.jsxs("div",{className:"text-sm text-white/60 mb-3",children:[s.jsxs("p",{className:"mb-1",children:["Commandé le ",new Date(l.created_at).toLocaleDateString("fr-FR")]}),s.jsxs("p",{className:"font-medium text-white/80",children:["Total: ",l.total_amount.toFixed(2),"€"]})]}),s.jsxs("div",{className:"border-t border-white/5 pt-3 mt-auto",children:[s.jsxs("p",{className:"text-sm font-medium text-white/70",children:[l.products.length," produit",l.products.length>1?"s":""]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.products.slice(0,2).map(f=>s.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:[f.quantity,"× ",f.name]},f.id)),l.products.length>2&&s.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:["+",l.products.length-2," autre",l.products.length-2>1?"s":""]})]})]}),l.comments&&l.comments.length>0&&s.jsxs("div",{className:"mt-3 flex items-center text-white/50 text-sm",children:[s.jsx(jo,{size:14,className:"mr-1"}),l.comments.length," commentaire",l.comments.length>1?"s":""]})]})},l.id)})})]})]})})}const mTe=({onClose:e,onUpload:t})=>{const[r,n]=F.useState(""),[a,i]=F.useState(null),[o,l]=F.useState(!1),[c,u]=F.useState(""),d=F.useRef(null),f=x=>{if(x.target.files&&x.target.files[0]){const g=x.target.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}i(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}},h=x=>{if(x.preventDefault(),!r.trim()){u("Veuillez saisir un titre pour le document.");return}if(!a){u("Veuillez sélectionner un fichier.");return}t(r,a,o)},p=x=>{x.preventDefault()},m=x=>{if(x.preventDefault(),x.dataTransfer.files&&x.dataTransfer.files[0]){const g=x.dataTransfer.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}i(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}};return s.jsx(hr,{children:s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),s.jsxs(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ajouter un document"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:s.jsx(Mt,{size:20})})]}),s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titre du document"}),s.jsx("input",{type:"text",id:"title",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: Carte d'identité, Permis de conduire...",value:r,onChange:x=>n(x.target.value)})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{var x;return(x=d.current)==null?void 0:x.click()},onDragOver:p,onDrop:m,children:[a?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Qo,{size:40,className:"text-blue-500 mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.name}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(a.size/1024/1024).toFixed(2)," MB"]}),s.jsx("button",{type:"button",className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:x=>{x.stopPropagation(),i(null),d.current&&(d.current.value="")},children:"Changer de fichier"})]}):s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(vs,{size:40,className:"text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cliquez pour sélectionner un fichier"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"ou glissez-déposez ici"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format supporté: PDF, JPG, PNG (max. 10 MB)"})]}),s.jsx("input",{ref:d,type:"file",className:"hidden",accept:"application/pdf,image/jpeg,image/png",onChange:f})]})}),s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:o,onChange:x=>l(x.target.checked)}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Document obligatoire (visible dans le QR code)"})]})}),c&&s.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",disabled:!a||!r.trim(),children:"Enregistrer"})]})]})]})]})})})},xTe=({documents:e,onDelete:t})=>{if(e.length===0)return s.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-brand-dark via-brand-purple/30 to-brand-burgundy/30 rounded-lg border border-white/10",children:[s.jsx(mj,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white",children:"Aucun document"}),s.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ajoutez vos documents importants pour y accéder facilement lors d'un contrôle."})]});const r=n=>{const a=URL.createObjectURL(n.file),i=window.document.createElement("a");i.style.display="none",i.href=a,i.download=n.title+"."+n.file.name.split(".").pop(),window.document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),window.document.body.removeChild(i)};return s.jsx("div",{className:"space-y-4",children:e.map(n=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx(mj,{size:24,className:"text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[n.title,n.isRequired&&s.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[s.jsx($m,{size:12,className:"mr-1"}),"Obligatoire"]})]}),s.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx(Wa,{size:14,className:"mr-1"}),s.jsxs("span",{children:["Ajouté le ",It(new Date(n.date),"dd MMMM yyyy",{locale:cr})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>r(n),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full dark:text-blue-400 dark:hover:bg-blue-900/40",title:"Télécharger",children:s.jsx(Gi,{size:18})}),s.jsx("button",{onClick:()=>t(n.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full dark:text-red-400 dark:hover:bg-red-900/40",title:"Supprimer",children:s.jsx(Oa,{size:18})})]})]},n.id))})};var gTe=Object.defineProperty,Gv=Object.getOwnPropertySymbols,UR=Object.prototype.hasOwnProperty,HR=Object.prototype.propertyIsEnumerable,Uk=(e,t,r)=>t in e?gTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f4=(e,t)=>{for(var r in t||(t={}))UR.call(t,r)&&Uk(e,r,t[r]);if(Gv)for(var r of Gv(t))HR.call(t,r)&&Uk(e,r,t[r]);return e},h4=(e,t)=>{var r={};for(var n in e)UR.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Gv)for(var n of Gv(e))t.indexOf(n)<0&&HR.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var gd;(e=>{const t=class tr{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<tr.MIN_VERSION||c>tr.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let m=0;m<this.size;m++)h.push(!1);for(let m=0;m<this.size;m++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),f==-1){let m=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const g=this.getPenaltyScore();g<m&&(f=x,m=g),this.applyMask(x)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return tr.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return tr.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,p=!0){if(!(tr.MIN_VERSION<=d&&d<=f&&f<=tr.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let m,x;for(m=d;;m++){const b=tr.getNumDataCodewords(m,u)*8,_=o.getTotalBits(c,m);if(_<=b){x=_;break}if(m>=f)throw new RangeError("Data too long")}for(const b of[tr.Ecc.MEDIUM,tr.Ecc.QUARTILE,tr.Ecc.HIGH])p&&x<=tr.getNumDataCodewords(m,b)*8&&(u=b);let g=[];for(const b of c){r(b.mode.modeBits,4,g),r(b.numChars,b.mode.numCharCountBits(m),g);for(const _ of b.getData())g.push(_)}a(g.length==x);const v=tr.getNumDataCodewords(m,u)*8;a(g.length<=v),r(0,Math.min(4,v-g.length),g),r(0,(8-g.length%8)%8,g),a(g.length%8==0);for(let b=236;g.length<v;b^=253)r(b,8,g);let y=[];for(;y.length*8<g.length;)y.push(0);return g.forEach((b,_)=>y[_>>>3]|=b<<7-(_&7)),new tr(m,u,y,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;a(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,n(f,h));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,n(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,n(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,n(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let d=0;d<18;d++){const f=n(u,d),h=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(h,p,f),this.setFunctionModule(p,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),p=c+f,m=u+d;0<=p&&p<this.size&&0<=m&&m<this.size&&this.setFunctionModule(p,m,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=tr.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=tr.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=tr.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(tr.getNumRawDataModules(u)/8),m=f-p%f,x=Math.floor(p/f);let g=[];const v=tr.reedSolomonComputeDivisor(h);for(let b=0,_=0;b<f;b++){let S=c.slice(_,_+x-h+(b<m?0:1));_+=S.length;const N=tr.reedSolomonComputeRemainder(S,v);b<m&&S.push(0),g.push(S.concat(N))}let y=[];for(let b=0;b<g[0].length;b++)g.forEach((_,S)=>{(b!=x-h||S>=m)&&y.push(_[b])});return a(y.length==p),y}drawCodewords(c){if(c.length!=Math.floor(tr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const p=d-h,x=(d+1&2)==0?this.size-1-f:f;!this.isFunction[x][p]&&u<c.length*8&&(this.modules[x][p]=n(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[h][g]==p?(m++,m==5?c+=tr.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*tr.PENALTY_N3),p=this.modules[h][g],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*tr.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][h]==p?(m++,m==5?c+=tr.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*tr.PENALTY_N3),p=this.modules[g][h],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*tr.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const m=this.modules[h][p];m==this.modules[h][p+1]&&m==this.modules[h+1][p]&&m==this.modules[h+1][p+1]&&(c+=tr.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((p,m)=>p+(m?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return a(0<=f&&f<=9),c+=f*tr.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<tr.MIN_VERSION||c>tr.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(tr.getNumRawDataModules(c)/8)-tr.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*tr.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=tr.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=tr.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((p,m)=>d[m]^=tr.reedSolomonMultiply(p,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return a(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const i=class wn{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new wn(wn.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!wn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new wn(wn.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!wn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=wn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=wn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(f,11,u)}return d<c.length&&r(wn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new wn(wn.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:wn.isNumeric(c)?[wn.makeNumeric(c)]:wn.isAlphanumeric(c)?[wn.makeAlphanumeric(c)]:[wn.makeBytes(wn.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new wn(wn.Mode.ECI,0,u)}static isNumeric(c){return wn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return wn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(gd||(gd={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(gd||(gd={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(gd||(gd={}));var B0=gd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var vTe={L:B0.QrCode.Ecc.LOW,M:B0.QrCode.Ecc.MEDIUM,Q:B0.QrCode.Ecc.QUARTILE,H:B0.QrCode.Ecc.HIGH},WR=128,VR="L",qR="#FFFFFF",GR="#000000",XR=!1,YR=1,bTe=4,yTe=0,wTe=.1;function KR(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function JR(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function _Te(e,t,r,n){if(n==null)return null;const a=e.length+r*2,i=Math.floor(t*wTe),o=a/t,l=(n.width||i)*o,c=(n.height||i)*o,u=n.x==null?e.length/2-l/2:n.x*o,d=n.y==null?e.length/2-c/2:n.y*o,f=n.opacity==null?1:n.opacity;let h=null;if(n.excavate){let m=Math.floor(u),x=Math.floor(d),g=Math.ceil(l+u-m),v=Math.ceil(c+d-x);h={x:m,y:x,w:g,h:v}}const p=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:p}}function NTe(e,t){return t!=null?Math.max(Math.floor(t),0):e?bTe:yTe}function ZR({value:e,level:t,minVersion:r,includeMargin:n,marginSize:a,imageSettings:i,size:o,boostLevel:l}){let c=le.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((x,g)=>(x.push(...B0.QrSegment.makeSegments(g)),x),[]);return B0.QrCode.encodeSegments(m,vTe[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=le.useMemo(()=>{let p=c.getModules();const m=NTe(n,a),x=p.length+m*2,g=_Te(p,o,m,i);return{cells:p,margin:m,numCells:x,calculatedImageSettings:g}},[c,o,i,n,a]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var jTe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),STe=le.forwardRef(function(t,r){const n=t,{value:a,size:i=WR,level:o=VR,bgColor:l=qR,fgColor:c=GR,includeMargin:u=XR,minVersion:d=YR,boostLevel:f,marginSize:h,imageSettings:p}=n,x=h4(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=x,v=h4(x,["style"]),y=p==null?void 0:p.src,b=le.useRef(null),_=le.useRef(null),S=le.useCallback(H=>{b.current=H,typeof r=="function"?r(H):r&&(r.current=H)},[r]),[N,j]=le.useState(!1),{margin:C,cells:P,numCells:M,calculatedImageSettings:k}=ZR({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:p,size:i});le.useEffect(()=>{if(b.current!=null){const H=b.current,G=H.getContext("2d");if(!G)return;let L=P;const V=_.current,J=k!=null&&V!==null&&V.complete&&V.naturalHeight!==0&&V.naturalWidth!==0;J&&k.excavation!=null&&(L=JR(P,k.excavation));const W=window.devicePixelRatio||1;H.height=H.width=i*W;const ae=i/M*W;G.scale(ae,ae),G.fillStyle=l,G.fillRect(0,0,M,M),G.fillStyle=c,jTe?G.fill(new Path2D(KR(L,C))):P.forEach(function(ve,O){ve.forEach(function(I,B){I&&G.fillRect(B+C,O+C,1,1)})}),k&&(G.globalAlpha=k.opacity),J&&G.drawImage(V,k.x+C,k.y+C,k.w,k.h)}}),le.useEffect(()=>{j(!1)},[y]);const E=f4({height:i,width:i},g);let R=null;return y!=null&&(R=le.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{j(!0)},ref:_,crossOrigin:k==null?void 0:k.crossOrigin})),le.createElement(le.Fragment,null,le.createElement("canvas",f4({style:E,height:i,width:i,ref:S,role:"img"},v)),R)});STe.displayName="QRCodeCanvas";var QR=le.forwardRef(function(t,r){const n=t,{value:a,size:i=WR,level:o=VR,bgColor:l=qR,fgColor:c=GR,includeMargin:u=XR,minVersion:d=YR,boostLevel:f,title:h,marginSize:p,imageSettings:m}=n,x=h4(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:v,numCells:y,calculatedImageSettings:b}=ZR({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:p,imageSettings:m,size:i});let _=v,S=null;m!=null&&b!=null&&(b.excavation!=null&&(_=JR(v,b.excavation)),S=le.createElement("image",{href:m.src,height:b.h,width:b.w,x:b.x+g,y:b.y+g,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const N=KR(_,g);return le.createElement("svg",f4({height:i,width:i,viewBox:`0 0 ${y} ${y}`,ref:r,role:"img"},x),!!h&&le.createElement("title",null,h),le.createElement("path",{fill:l,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),le.createElement("path",{fill:c,d:N,shapeRendering:"crispEdges"}),S)});QR.displayName="QRCodeSVG";const ATe=({documents:e,onClose:t})=>{const[r,n]=F.useState("");F.useEffect(()=>{if(e.length>0){const i=e.map(o=>({id:o.id,title:o.title,type:o.file.type,size:o.file.size,required:o.isRequired}));n(JSON.stringify({type:"OYSTERCULT_DIGITAL_VAULT",documents:i,expiry:Date.now()+36e5}))}},[e]);const a=()=>{const i=window.document.getElementById("qr-code-svg");if(i){const o=window.document.createElement("canvas"),l=o.getContext("2d"),c=new XMLSerializer().serializeToString(i),u=new Image;u.onload=()=>{o.width=200,o.height=200,l==null||l.drawImage(u,0,0,200,200);const d=o.toDataURL("image/png"),f=window.document.createElement("a");f.href=d,f.download="coffre-fort-numerique-qrcode.png",window.document.body.appendChild(f),f.click(),window.document.body.removeChild(f)},u.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};return s.jsx(hr,{children:s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[s.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"QR Code d'accès"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:s.jsx(Mt,{size:20})})]}),e.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Q0,{size:60,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun document obligatoire"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez pas encore ajouté de documents marqués comme obligatoires."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"p-4 bg-white rounded-lg",children:s.jsx(QR,{id:"qr-code-svg",value:r,size:200,level:"H",includeMargin:!0})})}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Z0,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Ce QR code donne accès aux documents suivants :"}),s.jsx("ul",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 list-disc list-inside",children:e.map(i=>s.jsx("li",{children:i.title},i.id))})]})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx(Gi,{size:18,className:"mr-2"}),"Télécharger le QR Code"]})})]})]})]})})})},CTe=()=>{const[e,t]=F.useState([]);return F.useEffect(()=>{(async()=>{})()},[]),{documents:e,addDocument:i=>{t(o=>[...o,i])},deleteDocument:i=>{t(o=>o.filter(l=>l.id!==i))},updateDocument:(i,o)=>{t(l=>l.map(c=>c.id===i?{...c,...o}:c))}}},ETe=()=>{const{documents:e,addDocument:t,deleteDocument:r}=CTe(),[n,a]=F.useState(!1),[i,o]=F.useState(!1),[l,c]=F.useState(""),u=e.filter(d=>d.title.toLowerCase().includes(l.toLowerCase()));return s.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[s.jsx(dg,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Coffre fort numérique"]}),s.jsx("p",{className:"text-white/70 md:hidden",children:"Stockez et gérez vos documents importants en toute sécurité"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un document",children:[s.jsx(vs,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Ajouter un document"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Générer QR Code",children:[s.jsx(Q0,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Générer QR Code"})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("p",{className:"text-white/70 hidden md:block mb-6",children:"Stockez et gérez vos documents importants en toute sécurité"}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(An,{className:"absolute left-3 top-3 text-white/60",size:18}),s.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400/30 focus:ring-2 focus:ring-cyan-500/40 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",value:l,onChange:d=>c(d.target.value),"aria-label":"Rechercher un document"})]})}),u.length>0?s.jsx(xTe,{documents:u,onDelete:r}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:s.jsx(dg,{className:"w-8 h-8 text-cyan-400"})}),s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Votre coffre-fort est vide"}),s.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez à ajouter des documents pour les protéger et y accéder à tout moment."}),s.jsxs("button",{onClick:()=>a(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter votre premier document",children:[s.jsx(vs,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Ajouter votre premier document"})]})]})]})]}),n&&s.jsx(mTe,{onClose:()=>a(!1),onUpload:(d,f)=>{t({id:Date.now().toString(),title:d,file:f,date:new Date().toISOString()}),a(!1)}}),i&&s.jsx(ATe,{documents:e.filter(d=>d.isRequired),onClose:()=>o(!1)})]})};function kTe(){const e=So(),t=()=>{e(-1)};return s.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-background text-white",children:[s.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 mr-2 sm:mr-3 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:s.jsx(pg,{size:18,className:"sm:w-5 sm:h-5"})}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"})]})}),s.jsx("div",{className:"flex-1 flex w-full",children:s.jsx(rF,{})})]})}function TTe(){const[e,t]=F.useState(null),[r,n]=F.useState(!1),[a,i]=F.useState(null),[o,l]=F.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"75kg",arrivalDate:"2025-03-02",expiryDate:"2025-03-15"},{id:"F2-02",name:"Coques",quantity:"30kg",arrivalDate:"2025-03-03",expiryDate:"2025-03-10"}],"Chambre froide":[{id:"CF-01",name:"Huîtres Plates",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-03-05"},{id:"CF-02",name:"Moules",quantity:"80kg",arrivalDate:"2025-02-22",expiryDate:"2025-03-08"}]}),c=d=>{i({...d}),n(!0)},u=()=>{if(a&&e){const d={...o},f=d[e],h=f.findIndex(p=>p.id===a.id);h!==-1&&(f[h]=a,l(d)),n(!1),i(null)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(o).map(([d,f])=>s.jsxs(hx,{onClick:()=>t(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:d}),s.jsxs("p",{className:"text-sm text-white/60",children:[f.length," produits"]})]}),s.jsx(id,{className:"w-5 h-5 text-teal-400"})]}),s.jsx("div",{className:"space-y-2",children:f.map(h=>s.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-white",children:h.name}),s.jsx("button",{onClick:p=>{p.stopPropagation(),c(h)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Xi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[s.jsx("span",{className:"text-sm text-white/60",children:h.quantity}),s.jsxs("span",{className:"text-xs text-white/40",children:["Exp. ",new Date(h.expiryDate).toLocaleDateString("fr-FR")]})]})]},h.id))})]},d))}),r&&a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le produit"}),s.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du produit"}),s.jsx(zt,{value:a.name,onChange:d=>i({...a,name:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),s.jsx(zt,{value:a.quantity,onChange:d=>i({...a,quantity:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),s.jsx(zt,{type:"date",value:a.expiryDate,onChange:d=>i({...a,expiryDate:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),s.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[s.jsx(bd,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const OTe=[{id:"1",date:"2025-03-15",supplier:"Fournisseur A",products:[{name:"Huîtres Fines de Claire",quantity:"100kg",price:800},{name:"Huîtres Spéciales",quantity:"50kg",price:500}],totalAmount:1300,status:"completed"}];function PTe(){const[e,t]=F.useState(OTe),[r,n]=F.useState(null),[a,i]=F.useState(!1),[o,l]=F.useState(null),c=d=>{l({...d}),i(!0)},u=()=>{if(o){const d=e.map(f=>f.id===o.id?o:f);t(d),i(!1),l(null)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>s.jsxs("div",{onClick:()=>n(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:d.supplier}),s.jsx("p",{className:"text-sm text-white/60",children:new Date(d.date).toLocaleDateString("fr-FR")})]}),s.jsx("button",{onClick:f=>{f.stopPropagation(),c(d)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Xi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[d.products.map((f,h)=>s.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-white",children:f.name}),s.jsx("span",{className:"text-sm text-white/60",children:f.quantity})]}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-sm text-teal-400",children:[f.price,"€"]})})]},h)),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Total"}),s.jsxs("span",{className:"text-sm font-medium text-white",children:[d.totalAmount,"€"]})]})})]})]},d.id))}),a&&o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier l'achat"}),s.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),s.jsx(zt,{value:o.supplier,onChange:d=>l({...o,supplier:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),s.jsx(zt,{type:"date",value:o.date,onChange:d=>l({...o,date:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.products.map((d,f)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-1",children:["Produit ",f+1]}),s.jsx(zt,{value:d.name,onChange:h=>{const p=[...o.products];p[f]={...d,name:h.target.value},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40 mb-2",placeholder:"Nom du produit"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(zt,{value:d.quantity,onChange:h=>{const p=[...o.products];p[f]={...d,quantity:h.target.value},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Quantité"}),s.jsx(zt,{type:"number",value:d.price,onChange:h=>{const p=[...o.products];p[f]={...d,price:Number(h.target.value)},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Prix"})]})]},f)),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),s.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[s.jsx(bd,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const Hk=[{id:"1",type:"invoice",number:"FC-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",amount:"1,250.00 €",products:"Palourdes (150kg)",status:"validated"},{id:"2",type:"delivery_note",number:"BL-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",products:"Palourdes (150kg)",status:"validated",expiryDate:"2025-03-15"},{id:"3",type:"invoice",number:"FC-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",amount:"2,340.00 €",products:"Moules (200kg), Huîtres (50kg)",status:"validated"},{id:"4",type:"delivery_note",number:"BL-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",products:"Moules (200kg), Huîtres (50kg)",status:"validated",expiryDate:"2025-03-10"},{id:"5",type:"invoice",number:"FC-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",amount:"890.00 €",products:"Huîtres creuses (100kg)",status:"validated"},{id:"6",type:"delivery_note",number:"BL-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",products:"Huîtres creuses (100kg)",status:"validated",expiryDate:"2025-03-05"},{id:"7",type:"invoice",number:"FC-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",amount:"1,780.00 €",products:"Palourdes (100kg), Moules (80kg)",status:"validated"},{id:"8",type:"delivery_note",number:"BL-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",products:"Palourdes (100kg), Moules (80kg)",status:"validated",expiryDate:"2025-02-28"}];function ITe(){const[e,t]=F.useState(""),[r,n]=F.useState("all"),[a,i]=F.useState({start:"",end:""}),[o,l]=F.useState(null),[c,u]=F.useState(!1),[d,f]=F.useState(null),h=b=>{l(b)},p=b=>{f({...b}),u(!0)},m=()=>{d&&(Hk.map(b=>b.id===d.id?d:b),u(!1),f(null))},x=Hk.filter(b=>{const _=b.number.toLowerCase().includes(e.toLowerCase())||b.supplier.toLowerCase().includes(e.toLowerCase())||b.products.toLowerCase().includes(e.toLowerCase()),S=r==="all"||b.type===r,N=(!a.start||b.date>=a.start)&&(!a.end||b.date<=a.end);return _&&S&&N}),g=b=>{switch(b){case"validated":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},v=b=>{switch(b){case"validated":return"Validé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return b}},y=b=>new Date(b).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(An,{className:"h-5 w-5 text-white/40"})}),s.jsx("input",{type:"text",placeholder:"Rechercher par numéro, fournisseur ou produits...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",value:e,onChange:b=>t(b.target.value)})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-48",children:s.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",value:r,onChange:b=>n(b.target.value),children:[s.jsx("option",{value:"all",children:"Tous les documents"}),s.jsx("option",{value:"invoice",children:"Factures"}),s.jsx("option",{value:"delivery_note",children:"Bons de livraison"})]})}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(Gi,{size:20,className:"mr-2"}),"Exporter"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),s.jsx("input",{type:"date",value:a.start,onChange:b=>i(_=>({..._,start:b.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),s.jsx("input",{type:"date",value:a.end,onChange:b=>i(_=>({..._,end:b.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(Ca,{size:20,className:"mr-2"}),"Filtrer"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(b=>s.jsxs(hx,{onClick:()=>l(b),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:b.number}),s.jsx("p",{className:"text-sm text-white/60",children:b.supplier})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:_=>{_.stopPropagation(),h(b)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Wc,{className:"w-4 h-4"})}),s.jsx("button",{onClick:_=>{_.stopPropagation(),p(b)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Xi,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Date"}),s.jsx("span",{className:"text-sm font-medium text-white",children:y(b.date)})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Produits"}),s.jsx("span",{className:"text-sm font-medium text-white",children:b.products})]})}),b.type==="invoice"&&s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Montant"}),s.jsx("span",{className:"text-sm font-medium text-white",children:b.amount})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),s.jsx("span",{className:`text-sm font-medium ${g(b.status)}`,children:v(b.status)})]})})]})]},b.id))}),c&&d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le document"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro"}),s.jsx(zt,{value:d.number,onChange:b=>f({...d,number:b.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),s.jsx(zt,{value:d.supplier,onChange:b=>f({...d,supplier:b.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),s.jsx(zt,{type:"date",value:d.date,onChange:b=>f({...d,date:b.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),d.type==="invoice"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Montant"}),s.jsx(zt,{type:"number",value:d.amount,onChange:b=>f({...d,amount:b.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),s.jsxs("select",{value:d.status,onChange:b=>f({...d,status:b.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",children:[s.jsx("option",{value:"validated",children:"Validé"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"rejected",children:"Rejeté"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),s.jsxs("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[s.jsx(bd,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const DTe=[{id:"1",batchNumber:"LOT-2025-001",type:"movement",description:"Déplacement du lot",date:"2025-02-19T10:00:00",user:"Jean Dupont",details:{from:"Zone Nord - Table A1",to:"Zone Nord - Table A2"}},{id:"2",batchNumber:"LOT-2025-001",type:"treatment",description:"Traitement préventif",date:"2025-02-18T14:30:00",user:"Marie Martin",details:{treatment:"Nettoyage des poches"}}],MTe={movement:Pi,treatment:Qo,quality_check:Go,alert:li},Pw={movement:"bg-emerald-400/20 text-emerald-300",treatment:"bg-emerald-500/20 text-emerald-300",quality_check:"bg-emerald-600/20 text-emerald-300",alert:"bg-emerald-700/20 text-emerald-300"};function FTe({searchQuery:e}){const t=DTe.filter(r=>r.batchNumber.toLowerCase().includes(e.toLowerCase())||r.description.toLowerCase().includes(e.toLowerCase()));return s.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-emerald-400/30",children:s.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des événements"})}),s.jsx("div",{className:"divide-y divide-white/10",children:t.map(r=>{const n=MTe[r.type];return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg ${Pw[r.type].split(" ")[0]} flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{size:20,className:Pw[r.type].split(" ")[1]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h4",{className:"text-lg font-medium text-white truncate",children:r.batchNumber}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Pw[r.type]}`,children:r.type==="movement"?"Déplacement":r.type==="treatment"?"Traitement":r.type==="quality_check"?"Contrôle qualité":"Alerte"})]}),s.jsx("p",{className:"text-white/70 mt-1",children:r.description}),r.details&&s.jsxs("div",{className:"mt-2 space-y-1",children:[r.details.from&&r.details.to&&s.jsxs("div",{className:"text-sm text-white/60",children:["De: ",r.details.from," → Vers: ",r.details.to]}),r.details.treatment&&s.jsxs("div",{className:"text-sm text-white/60",children:["Traitement: ",r.details.treatment]}),r.details.score&&s.jsxs("div",{className:"text-sm text-white/60",children:["Score qualité: ",r.details.score,"%"]}),r.details.issue&&s.jsxs("div",{className:"text-sm text-red-400",children:["Problème: ",r.details.issue]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(sd,{size:16,className:"mr-1"}),It(new Date(r.date),"PPp",{locale:cr})]}),s.jsx("div",{children:"•"}),s.jsxs("div",{children:["Par: ",r.user]})]})]})]})},r.id)})})]})}function RTe(){const[e,t]=F.useState(null),[r,n]=F.useState(!1),[a,i]=F.useState(null),[o,l]=F.useState([{id:"1",name:"Bassin A1",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.5,salinity:35.2,lastMaintenance:"2025-03-01",nextMaintenance:"2025-03-15",currentBatch:{id:"B1",name:"Huîtres Fines de Claire",quantity:"200kg",startDate:"2025-03-10",endDate:"2025-03-13"}},{id:"2",name:"Bassin A2",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.8,salinity:34.9,lastMaintenance:"2025-03-05",nextMaintenance:"2025-03-19",currentBatch:{id:"B2",name:"Huîtres Spéciales",quantity:"150kg",startDate:"2025-03-11",endDate:"2025-03-14"}},{id:"3",name:"Bassin B1",filterType:"UV + Mécanique",filterStatus:"maintenance",temperature:0,salinity:0,lastMaintenance:"2025-03-12",nextMaintenance:"2025-03-13"}]),c=h=>{i({...h}),n(!0)},u=()=>{if(a){const h=o.map(p=>p.id===a.id?a:p);l(h),n(!1),i(null)}},d=h=>{switch(h){case"active":return s.jsx(ad,{className:"w-5 h-5 text-green-500"});case"inactive":return s.jsx(Zk,{className:"w-5 h-5 text-red-500"});case"maintenance":return s.jsx(Kn,{className:"w-5 h-5 text-yellow-500"})}},f=h=>{switch(h){case"active":return"Actif";case"inactive":return"Inactif";case"maintenance":return"En maintenance"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(h=>s.jsxs(hx,{onClick:()=>t(h),className:"p-4 cursor-pointer hover:shadow-lg transition-shadow bg-white/5 backdrop-blur-sm border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:h.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d(h.filterStatus),s.jsx("span",{className:"text-sm text-white/60",children:f(h.filterStatus)})]})]}),s.jsx("button",{onClick:p=>{p.stopPropagation(),c(h)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Xi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[s.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Température"}),s.jsxs("div",{className:"font-medium text-white",children:[h.temperature,"°C"]})]}),s.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[s.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Salinité"}),s.jsxs("div",{className:"font-medium text-white",children:[h.salinity,"g/L"]})]})]}),h.currentBatch&&s.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Lot en cours"}),s.jsx("div",{className:"font-medium text-white",children:h.currentBatch.name}),s.jsxs("div",{className:"text-sm text-white/60 mt-1",children:[h.currentBatch.quantity," • ",new Date(h.currentBatch.endDate).toLocaleDateString("fr-FR")]})]})]})]},h.id))}),r&&a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-lg p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le bassin"}),s.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du bassin"}),s.jsx(zt,{value:a.name,onChange:h=>i({...a,name:h.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type de filtration"}),s.jsx(zt,{value:a.filterType,onChange:h=>i({...a,filterType:h.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),s.jsxs("select",{value:a.filterStatus,onChange:h=>i({...a,filterStatus:h.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"inactive",children:"Inactif"}),s.jsx("option",{value:"maintenance",children:"En maintenance"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Température (°C)"}),s.jsx(zt,{type:"number",step:"0.1",value:a.temperature,onChange:h=>i({...a,temperature:parseFloat(h.target.value)}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Salinité (g/L)"}),s.jsx(zt,{type:"number",step:"0.1",value:a.salinity,onChange:h=>i({...a,salinity:parseFloat(h.target.value)}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Dernière maintenance"}),s.jsx(zt,{type:"date",value:a.lastMaintenance,onChange:h=>i({...a,lastMaintenance:h.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Prochaine maintenance"}),s.jsx(zt,{type:"date",value:a.nextMaintenance,onChange:h=>i({...a,nextMaintenance:h.target.value}),className:"mt-1"})]})]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Annuler"}),s.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-md",children:[s.jsx(bd,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})})]})}const LTe=({searchQuery:e=""})=>{const[t,r]=F.useState([{id:"1",batchNumber:"Lot HF-2025-001",type:"Huîtres Fines de Claire",quantity:"200",status:"purification",startDate:"2025-03-10",location:"Bassin A1",expiryDate:"2025-03-24",notes:"Lot en cours de purification"}]),[n,a]=F.useState(null),[i,o]=F.useState(!1),[l,c]=F.useState(null),u=p=>{c({...p}),o(!0)},d=()=>{if(l){const p=t.map(m=>m.id===l.id?l:m);r(p),o(!1),c(null)}},f=t.filter(p=>p.status==="table1"||p.status==="table2"||p.status==="table3").slice(0,4),h=p=>p$(new Date,new Date(p));return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>s.jsxs(hx,{onClick:()=>a(p),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:p.batchNumber}),s.jsx("p",{className:"text-sm text-white/60",children:p.type})]}),s.jsx("button",{onClick:m=>{m.stopPropagation(),u(p)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Xi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Quantité"}),s.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Emplacement"}),s.jsx("span",{className:"text-sm font-medium text-white",children:p.location})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Date d'expiration"}),s.jsx("span",{className:"text-sm font-medium text-white",children:new Date(p.expiryDate).toLocaleDateString("fr-FR")})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Temps en trempe"}),s.jsxs("span",{className:"text-sm font-medium text-white",children:[h(p.startDate),"h"]})]})})]})]},p.id))}),i&&l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le lot"}),s.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro du lot"}),s.jsx(zt,{value:l.batchNumber,onChange:p=>c({...l,batchNumber:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type"}),s.jsx(zt,{value:l.type,onChange:p=>c({...l,type:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),s.jsx(zt,{value:l.quantity,onChange:p=>c({...l,quantity:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Emplacement"}),s.jsx(zt,{value:l.location,onChange:p=>c({...l,location:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),s.jsx(zt,{type:"date",value:l.expiryDate,onChange:p=>c({...l,expiryDate:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),s.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[s.jsx(bd,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})};class Qt{constructor(t,r,n,a,i){this._legacyCanvasSize=Qt.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||a||i?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof a=="function"?a:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof a=="number"?a:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let o=!1;if(t.hidden&&(t.hidden=!1,o=!0),document.body.contains(t)||(document.body.appendChild(t),o=!0),n=t.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(a=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),i=this.$overlay.style,i.position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!a&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let l=window.getComputedStyle(t);l.display==="none"&&(t.style.setProperty("display","block","important"),o=!0),l.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=Qt.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await Qt.listCameras(!1)).length}catch{return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),n;try{t&&(await r()).every(a=>!a.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((a,i)=>({id:a.deviceId,label:a.label||(i===0?"Default Camera":`Camera ${i+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),Qt._stopVideoStream(n))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch{return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),Qt._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),Qt._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:r}=await this._getCameraStream();!this._active||this._paused?Qt._stopVideoStream(t):(this._setVideoMirror(r),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(Qt._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,r,n,a,i=!1,o=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,a=r.canvas,i=r.disallowCanvasResizing||!1,o=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||a||i||o?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let u,d;[n,u]=await Promise.all([n||Qt.createQrEngine(),Qt._loadImage(t)]),[a,d]=Qt._drawToCanvas(u,l,a,i);let f;if(n instanceof Worker){let h=n;r||Qt._postWorkerMessageSync(h,"inversionMode","both"),f=await new Promise((p,m)=>{let x,g,v,y=-1;g=_=>{_.data.id===y&&(h.removeEventListener("message",g),h.removeEventListener("error",v),clearTimeout(x),_.data.data!==null?p({data:_.data.data,cornerPoints:Qt._convertPoints(_.data.cornerPoints,l)}):m(Qt.NO_QR_CODE_FOUND))},v=_=>{h.removeEventListener("message",g),h.removeEventListener("error",v),clearTimeout(x),m("Scanner error: "+(_?_.message||_:"Unknown Error"))},h.addEventListener("message",g),h.addEventListener("error",v),x=setTimeout(()=>v("timeout"),1e4);let b=d.getImageData(0,0,a.width,a.height);y=Qt._postWorkerMessageSync(h,"decode",b,[b.data.buffer])})}else f=await Promise.race([new Promise((h,p)=>window.setTimeout(()=>p("Scanner error: timeout"),1e4)),(async()=>{try{var[h]=await n.detect(a);if(!h)throw Qt.NO_QR_CODE_FOUND;return{data:h.rawValue,cornerPoints:Qt._convertPoints(h.cornerPoints,l)}}catch(p){if(h=p.message||p,/not implemented|service unavailable/.test(h))return Qt._disableBarcodeDetector=!0,Qt.scanImage(t,{scanRegion:l,canvas:a,disallowCanvasResizing:i,alsoTryWithoutScanRegion:o});throw`Scanner error: ${h}`}})()]);return c?f:f.data}catch(u){if(!l||!o)throw u;let d=await Qt.scanImage(t,{qrEngine:n,canvas:a,disallowCanvasResizing:i});return c?d:d.data}finally{r||Qt._postWorkerMessage(n,"close")}}setGrayscaleWeights(t,r,n,a=!0){Qt._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:n,useIntegerApproximation:a})}setInversionMode(t){Qt._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>ol(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!Qt._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:a})=>/arm/i.test(n||"arm")&&13<=parseInt(a||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let r=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-r)/2),y:Math.round((t.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,r=t.videoWidth,n=t.videoHeight,a=t.offsetWidth,i=t.offsetHeight,o=t.offsetLeft,l=t.offsetTop,c=window.getComputedStyle(t),u=c.objectFit,d=r/n,f=a/i;switch(u){case"none":var h=r,p=n;break;case"fill":h=a,p=i;break;default:(u==="cover"?d>f:d<f)?(p=i,h=p*d):(h=a,p=h/d),u==="scale-down"&&(h=Math.min(h,r),p=Math.min(p,n))}var[m,x]=c.objectPosition.split(" ").map((v,y)=>{const b=parseFloat(v);return v.endsWith("%")?(y?i-p:a-h)*b/100:b});c=this._scanRegion.width||r,f=this._scanRegion.height||n,u=this._scanRegion.x||0;var g=this._scanRegion.y||0;d=this.$overlay.style,d.width=`${c/r*h}px`,d.height=`${f/n*p}px`,d.top=`${l+x+g/n*p}px`,n=/scaleX\(-1\)/.test(t.style.transform),d.left=`${o+(n?a-m-h:m)+(n?r-u-c:u)/r*h}px`,d.transform=t.style.transform}})}static _convertPoints(t,r){if(!r)return t;let n=r.x||0,a=r.y||0,i=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let o of t)o.x=o.x*i+n,o.y=o.y*r+a;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;t<r&&await new Promise(a=>setTimeout(a,r-t)),this._lastScanTimestamp=Date.now();try{var n=await Qt.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(a){if(!this._active)return;this._onDecodeError(a)}!Qt._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=Qt.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:a,y:i})=>`${a},${i}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==Qt.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(a=>Object.assign({},a,{[t]:{exact:this._preferredCamera}}));for(let a of[...n,...r])try{let i=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),o=this._getFacingMode(i)||(a.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:i,facingMode:o}}catch{}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let r of t.getTracks())r.stop(),t.removeTrack(r)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,r,n,a=!1){n=n||document.createElement("canvas");let i=r&&r.x?r.x:0,o=r&&r.y?r.y:0,l=r&&r.width?r.width:t.videoWidth||t.width,c=r&&r.height?r.height:t.videoHeight||t.height;return a||(a=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==a&&(n.width=a),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(t,i,o,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(t){if(t instanceof Image)return await Qt._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let r=new Image;r.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await Qt._awaitImageLoad(r),r}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((r,n)=>{let a=i=>{t.removeEventListener("load",a),t.removeEventListener("error",a),i instanceof ErrorEvent?n("Image load error"):r()};t.addEventListener("load",a),t.addEventListener("error",a)})}static async _postWorkerMessage(t,r,n,a){return Qt._postWorkerMessageSync(await t,r,n,a)}static _postWorkerMessageSync(t,r,n,a){if(!(t instanceof Worker))return-1;let i=Qt._workerMessageId++;return t.postMessage({id:i,type:r,data:n},a),i}}Qt.DEFAULT_CANVAS_SIZE=400;Qt.NO_QR_CODE_FOUND="No QR code found";Qt._disableBarcodeDetector=!1;Qt._workerMessageId=0;function BTe({onClose:e,onScanSuccess:t}){const r=F.useRef(null),[n,a]=F.useState(null);F.useState(!1);const i=F.useRef(null);return F.useEffect(()=>{if(!r.current)return;const o=new Qt(r.current,l=>{t(l.data),e()},{highlightScanRegion:!0,highlightCodeOutline:!0});return i.current=o,o.start().catch(l=>{a("Impossible d'accéder à la caméra. Vérifiez les permissions."),console.error(l)}),()=>{o.destroy()}},[t,e]),s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"rounded-xl p-6 w-full max-w-md relative backdrop-blur-sm border border-white/10",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:s.jsx(Mt,{size:20})}),s.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Scanner un QR Code"}),s.jsx("div",{className:"relative",children:n?s.jsx("div",{className:"p-4 bg-red-500/20 text-red-400 rounded-lg",children:n}):s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:r,className:"w-full aspect-square rounded-lg bg-black"}),s.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/50 rounded-lg pointer-events-none",children:s.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/20 rounded-lg animate-pulse"})})]})}),s.jsx("p",{className:"mt-4 text-sm text-white/60 text-center",children:"Placez le QR code dans le cadre pour le scanner automatiquement"})]})})}var $Te={exports:{}};const zTe=sT(OSe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return zTe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof da<"u"?da:typeof window<"u"?window:typeof self<"u"?self:da,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,g){x.__proto__=g}||function(x,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(x[v]=g[v])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function x(){this.constructor=p}p.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(p,m,x){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=x,this.doc=p.getDocument()}return h}();c.HookData=d;var f=function(h){u(p,h);function p(m,x,g,v,y,b){var _=h.call(this,m,x,b)||this;return _.cell=g,_.row=v,_.column=y,_.section=v.section,_}return p}(d);c.CellHookData=f},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),m=u(664),x=u(972);function g(v){v.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var _;y.length===1?_=y[0]:(console.error("Use of deprecated autoTable initiation"),_=y[2]||{},_.columns=y[0],_.body=y[1]);var S=(0,p.parseInput)(this,_),N=(0,x.createTable)(this,S);return(0,m.drawTable)(this,N),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(y,b,_,S){(0,f.default)(y,b,_,S,this)},v.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},v.autoTableSetDefaults=function(y,b){h.DocHandler.setDefaults(y,b)},v.API.autoTableHtmlToJson=function(y,b){var _;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var S=new h.DocHandler(this),N=(0,d.parseHtml)(S,y,window,b,!1),j=N.head,C=N.body,P=((_=j[0])===null||_===void 0?void 0:_.map(function(M){return M.content}))||[];return{columns:P,rows:C,data:C}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},v.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=y,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=g},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,p,m){p=p||{};var x=1.15,g=m.internal.scaleFactor,v=m.internal.getFontSize()/g,y=m.getLineHeightFactor?m.getLineHeightFactor():x,b=v*y,_=/\r\n|\r|\n/g,S="",N=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(S=typeof d=="string"?d.split(_):d,N=S.length||1),h+=v*(2-x),p.valign==="middle"?h-=N/2*b:p.valign==="bottom"&&(h-=N*b),p.halign==="center"||p.halign==="right"){var j=v;if(p.halign==="center"&&(j*=.5),S&&N>=1){for(var C=0;C<S.length;C++)m.text(S[C],f-m.getStringUnitWidth(S[C])*j,h),h+=b;return m}f-=m.getStringUnitWidth(d)*j}return p.halign==="justify"?m.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):m.text(d,f,h),m}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(m,x,g){g.applyStyles(x,!0);var v=Array.isArray(m)?m:[m],y=v.map(function(b){return g.getTextWidth(b)}).reduce(function(b,_){return Math.max(b,_)},0);return y}c.getStringWidth=u;function d(m,x,g,v){var y=x.settings.tableLineWidth,b=x.settings.tableLineColor;m.applyStyles({lineWidth:y,lineColor:b});var _=f(y,!1);_&&m.rect(g.x,g.y,x.getWidth(m.pageSize().width),v.y-g.y,_)}c.addTableBorder=d;function f(m,x){var g=m>0,v=x||x===0;return g&&v?"DF":g?"S":v?"F":null}c.getFillStyle=f;function h(m,x){var g,v,y,b;if(m=m||x,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=x}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(g=m.left)!==null&&g!==void 0?g:x,top:(v=m.top)!==null&&v!==void 0?v:x,right:(y=m.right)!==null&&y!==void 0?y:x,bottom:(b=m.bottom)!==null&&b!==void 0?b:x}):(typeof m!="number"&&(m=x),{top:m,right:m,bottom:m,left:m})}c.parseSpacing=h;function p(m,x){var g=h(x.settings.margin,0);return m.pageSize().width-(g.left+g.right)}c.getPageAvailableWidth=p},796:function(l,c){var u=this&&this.__extends||function(){var p=function(m,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])},p(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(m,x);function g(){this.constructor=m}m.prototype=x===null?Object.create(x):(g.prototype=x.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(m,p);function m(x){var g=p.call(this)||this;return g._element=x,g}return m}(Array);c.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(p){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[p]}c.getTheme=h},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(g,v,y,b,_){var S={},N=1.3333333333333333,j=p(v,function(W){return _.getComputedStyle(W).backgroundColor});j!=null&&(S.fillColor=j);var C=p(v,function(W){return _.getComputedStyle(W).color});C!=null&&(S.textColor=C);var P=x(b,y);P&&(S.cellPadding=P);var M="borderTopColor",k=N*y,E=b.borderTopWidth;if(b.borderBottomWidth===E&&b.borderRightWidth===E&&b.borderLeftWidth===E){var R=(parseFloat(E)||0)/k;R&&(S.lineWidth=R)}else S.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/k,right:(parseFloat(b.borderRightWidth)||0)/k,bottom:(parseFloat(b.borderBottomWidth)||0)/k,left:(parseFloat(b.borderLeftWidth)||0)/k},S.lineWidth.top||(S.lineWidth.right?M="borderRightColor":S.lineWidth.bottom?M="borderBottomColor":S.lineWidth.left&&(M="borderLeftColor"));var H=p(v,function(W){return _.getComputedStyle(W)[M]});H!=null&&(S.lineColor=H);var G=["left","right","center","justify"];G.indexOf(b.textAlign)!==-1&&(S.halign=b.textAlign),G=["middle","bottom","top"],G.indexOf(b.verticalAlign)!==-1&&(S.valign=b.verticalAlign);var L=parseInt(b.fontSize||"");isNaN(L)||(S.fontSize=L/N);var V=h(b);V&&(S.fontStyle=V);var J=(b.fontFamily||"").toLowerCase();return g.indexOf(J)!==-1&&(S.font=J),S}c.parseCss=f;function h(g){var v="";return(g.fontWeight==="bold"||g.fontWeight==="bolder"||parseInt(g.fontWeight)>=700)&&(v="bold"),(g.fontStyle==="italic"||g.fontStyle==="oblique")&&(v+="italic"),v}function p(g,v){var y=m(g,v);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var _=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],S=parseInt(b[4]);return S===0||isNaN(_[0])||isNaN(_[1])||isNaN(_[2])?null:_}function m(g,v){var y=v(g);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?g.parentElement==null?null:m(g.parentElement,v):y}function x(g,v){var y=[g.paddingTop,g.paddingRight,g.paddingBottom,g.paddingLeft],b=96/(72/v),_=(parseInt(g.lineHeight)-parseInt(g.fontSize))/v/2,S=y.map(function(j){return parseInt(j||"0")/b}),N=(0,d.parseSpacing)(S,0);return _>N.top&&(N.top=_),_>N.bottom&&(N.bottom=_),N}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var m,x,g;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var v=this.jsPDFDocument.internal.getFont(),y=v.fontStyle,b=v.fontName;if(h.font&&(b=h.font),h.fontStyle){y=h.fontStyle;var _=this.getFontList()[b];_&&_.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(_[0]),y=_[0])}if(this.jsPDFDocument.setFont(b,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var S=f.unifyColor(h.fillColor);S&&(m=this.jsPDFDocument).setFillColor.apply(m,S),S=f.unifyColor(h.textColor),S&&(x=this.jsPDFDocument).setTextColor.apply(x,S),S=f.unifyColor(h.lineColor),S&&(g=this.jsPDFDocument).setDrawColor.apply(g,S),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,m){return this.jsPDFDocument.splitTextToSize(h,p,m)},f.prototype.rect=function(h,p,m,x,g){return this.jsPDFDocument.rect(h,p,m,x,g)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(x,g,v,y,b){var _,S;y===void 0&&(y=!1),b===void 0&&(b=!1);var N;typeof g=="string"?N=v.document.querySelector(g):N=g;var j=Object.keys(x.getFontList()),C=x.scaleFactor(),P=[],M=[],k=[];if(!N)return console.error("Html table could not be found with input: ",g),{head:P,body:M,foot:k};for(var E=0;E<N.rows.length;E++){var R=N.rows[E],H=(S=(_=R==null?void 0:R.parentElement)===null||_===void 0?void 0:_.tagName)===null||S===void 0?void 0:S.toLowerCase(),G=p(j,C,v,R,y,b);G&&(H==="thead"?P.push(G):H==="tfoot"?k.push(G):M.push(G))}return{head:P,body:M,foot:k}}c.parseHtml=h;function p(x,g,v,y,b,_){for(var S=new f.HtmlRowInput(y),N=0;N<y.cells.length;N++){var j=y.cells[N],C=v.getComputedStyle(j);if(b||C.display!=="none"){var P=void 0;_&&(P=(0,d.parseCss)(x,j,g,C,v)),S.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:P,_element:j,content:m(j)})}}var M=v.getComputedStyle(y);if(S.length>0&&(b||M.display!=="none"))return S}function m(x){var g=x.cloneNode(!0);return g.innerHTML=g.innerHTML.replace(/\n/g,"").replace(/ +/g," "),g.innerHTML=g.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),g.innerText||g.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),m=u(792);function x(N,j){var C=new p.DocHandler(N),P=C.getDocumentOptions(),M=C.getGlobalOptions();(0,m.default)(C,M,P,j);var k=(0,f.assign)({},M,P,j),E;typeof window<"u"&&(E=window);var R=g(M,P,j),H=v(M,P,j),G=y(C,k),L=_(C,k,E);return{id:j.tableId,content:L,hooks:H,styles:R,settings:G}}c.parseInput=x;function g(N,j,C){for(var P={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},M=function(H){if(H==="columnStyles"){var G=N[H],L=j[H],V=C[H];P.columnStyles=(0,f.assign)({},G,L,V)}else{var J=[N,j,C],W=J.map(function(ae){return ae[H]||{}});P[H]=(0,f.assign)({},W[0],W[1],W[2])}},k=0,E=Object.keys(P);k<E.length;k++){var R=E[k];M(R)}return P}function v(N,j,C){for(var P=[N,j,C],M={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},k=0,E=P;k<E.length;k++){var R=E[k];R.didParseCell&&M.didParseCell.push(R.didParseCell),R.willDrawCell&&M.willDrawCell.push(R.willDrawCell),R.didDrawCell&&M.didDrawCell.push(R.didDrawCell),R.willDrawPage&&M.willDrawPage.push(R.willDrawPage),R.didDrawPage&&M.didDrawPage.push(R.didDrawPage)}return M}function y(N,j){var C,P,M,k,E,R,H,G,L,V,J,W,ae=(0,h.parseSpacing)(j.margin,40/N.scaleFactor()),ve=(C=b(N,j.startY))!==null&&C!==void 0?C:ae.top,O;j.showFoot===!0?O="everyPage":j.showFoot===!1?O="never":O=(P=j.showFoot)!==null&&P!==void 0?P:"everyPage";var I;j.showHead===!0?I="everyPage":j.showHead===!1?I="never":I=(M=j.showHead)!==null&&M!==void 0?M:"everyPage";var B=(k=j.useCss)!==null&&k!==void 0?k:!1,z=j.theme||(B?"plain":"striped"),q=!!j.horizontalPageBreak,se=(E=j.horizontalPageBreakRepeat)!==null&&E!==void 0?E:null;return{includeHiddenHtml:(R=j.includeHiddenHtml)!==null&&R!==void 0?R:!1,useCss:B,theme:z,startY:ve,margin:ae,pageBreak:(H=j.pageBreak)!==null&&H!==void 0?H:"auto",rowPageBreak:(G=j.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(L=j.tableWidth)!==null&&L!==void 0?L:"auto",showHead:I,showFoot:O,tableLineWidth:(V=j.tableLineWidth)!==null&&V!==void 0?V:0,tableLineColor:(J=j.tableLineColor)!==null&&J!==void 0?J:200,horizontalPageBreak:q,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(W=j.horizontalPageBreakBehaviour)!==null&&W!==void 0?W:"afterAllRows"}}function b(N,j){var C=N.getLastAutoTable(),P=N.scaleFactor(),M=N.pageNumber(),k=!1;if(C&&C.startPageNumber){var E=C.startPageNumber+C.pageNumber-1;k=E===M}return typeof j=="number"?j:(j==null||j===!1)&&k&&(C==null?void 0:C.finalY)!=null?C.finalY+20/P:null}function _(N,j,C){var P=j.head||[],M=j.body||[],k=j.foot||[];if(j.html){var E=j.includeHiddenHtml;if(C){var R=(0,d.parseHtml)(N,j.html,C,E,j.useCss)||{};P=R.head||P,M=R.body||P,k=R.foot||P}else console.error("Cannot parse html in non browser environment")}var H=j.columns||S(P,M,k);return{columns:H,head:P,body:M,foot:k}}function S(N,j,C){var P=N[0]||j[0]||C[0]||[],M=[];return Object.keys(P).filter(function(k){return k!=="_element"}).forEach(function(k){var E=1,R;Array.isArray(P)?R=P[parseInt(k)]:R=P[k],typeof R=="object"&&!Array.isArray(R)&&(E=(R==null?void 0:R.colSpan)||1);for(var H=0;H<E;H++){var G=void 0;Array.isArray(P)?G=M.length:G=k+(H>0?"_".concat(H):"");var L={dataKey:G};M.push(L)}}),M}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,p,m){for(var x=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(k){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(k),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(k),f.applyStyles(f.userStyles),b.afterPageAdd&&k.pageNumber>1&&k.afterPageAdd(k),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(k){b[k]&&console.error('The "'.concat(k,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(k){var E=k[0],R=k[1];b[R]&&(console.error("Use of deprecated option ".concat(R,". Use ").concat(E," instead")),b[E]=b[R])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(k){var E=typeof k=="string"?k:k[0],R=typeof k=="string"?k:k[1];typeof b[E]<"u"&&(typeof b.styles[R]>"u"&&(b.styles[R]=b[E]),console.error("Use of deprecated option: "+E+", use the style "+R+" instead."))});for(var _=0,S=["styles","bodyStyles","headStyles","footStyles"];_<S.length;_++){var N=S[_];d(b[N]||{})}for(var j=b.columnStyles||{},C=0,P=Object.keys(j);C<P.length;C++){var M=P[C];d(j[M]||{})}},g=0,v=[h,p,m];g<v.length;g++){var y=v[g];x(y)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function v(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return v.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,_){return b+_.getMaxCellHeight(y)},0)},v.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,_){return b+_.getMaxCellHeight(y)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(y,b,_,S,N,j){for(var C=0,P=b;C<P.length;C++){var M=P[C],k=new f.CellHookData(y,this,_,S,N,j),E=M(k)===!1;if(_.text=Array.isArray(_.text)?_.text:[_.text],E)return!1}return!0},v.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var _=0,S=this.hooks.didDrawPage;_<S.length;_++){var N=S[_];N(new f.HookData(y,this,b))}},v.prototype.callWillDrawPageHooks=function(y,b){for(var _=0,S=this.hooks.willDrawPage;_<S.length;_++){var N=S[_];N(new f.HookData(y,this,b))}},v.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(S,N){return S+N.wrappedWidth},0);return b}else{var _=this.settings.margin;return y-_.left-_.right}},v}();c.Table=p;var m=function(){function v(y,b,_,S,N){N===void 0&&(N=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=_,this.cells=S,this.spansMultiplePages=N}return v.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(_,S){var N;return Math.max(_,((N=b.cells[S.index])===null||N===void 0?void 0:N.height)||0)},0)},v.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(_){var S=b.cells[_.index];return S?S.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},v.prototype.getMinimumRowHeight=function(y,b){var _=this;return y.reduce(function(S,N){var j=_.cells[N.index];if(!j)return 0;var C=b.getLineHeight(j.styles.fontSize),P=j.padding("vertical"),M=P+C;return M>S?M:S},0)},v}();c.Row=m;var x=function(){function v(y,b,_){var S,N;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=_,this.raw=y;var j=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,j=(N=(S=y.content)!==null&&S!==void 0?S:y.title)!==null&&N!==void 0?N:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var C=j!=null?""+j:"",P=/\r\n|\r|\n/g;this.text=C.split(P)}return v.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var _;if(this.styles.halign==="right")_=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var S=this.width-this.padding("horizontal");_=this.x+S/2+this.padding("left")}else _=this.x+this.padding("left");return{x:_,y}},v.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var _=Array.isArray(this.text)?this.text.length:1,S=this.styles.fontSize/y*b,N=_*S+this.padding("vertical");return Math.max(N,this.styles.minCellHeight)},v.prototype.padding=function(y){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},v}();c.Cell=x;var g=function(){function v(y,b,_){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=_}return v.prototype.getMaxCustomCellWidth=function(y){for(var b=0,_=0,S=y.allRows();_<S.length;_++){var N=S[_],j=N.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(b=Math.max(b,j.styles.cellWidth))}return b},v}();c.Column=g},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,p,m){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(d),g=1;g<arguments.length;g++){var v=arguments[g];if(v!=null)for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(x[y]=v[y])}return x}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),m=u(356);function x(N,j){var C=new d.DocHandler(N),P=g(j,C.scaleFactor()),M=new f.Table(j,P);return(0,h.calculateWidths)(C,M),C.applyStyles(C.userStyles),M}c.createTable=x;function g(N,j){var C=N.content,P=_(C.columns);if(C.head.length===0){var M=y(P,"head");M&&C.head.push(M)}if(C.foot.length===0){var M=y(P,"foot");M&&C.foot.push(M)}var k=N.settings.theme,E=N.styles;return{columns:P,head:v("head",C.head,P,E,k,j),body:v("body",C.body,P,E,k,j),foot:v("foot",C.foot,P,E,k,j)}}function v(N,j,C,P,M,k){var E={},R=j.map(function(H,G){for(var L=0,V={},J=0,W=0,ae=0,ve=C;ae<ve.length;ae++){var O=ve[ae];if(E[O.index]==null||E[O.index].left===0)if(W===0){var I=void 0;Array.isArray(H)?I=H[O.index-J-L]:I=H[O.dataKey];var B={};typeof I=="object"&&!Array.isArray(I)&&(B=(I==null?void 0:I.styles)||{});var z=S(N,O,G,M,P,k,B),q=new f.Cell(I,z,N);V[O.dataKey]=q,V[O.index]=q,W=q.colSpan-1,E[O.index]={left:q.rowSpan-1,times:W}}else W--,J++;else E[O.index].left--,W=E[O.index].times,L++}return new f.Row(H,G,N,V)});return R}function y(N,j){var C={};return N.forEach(function(P){if(P.raw!=null){var M=b(j,P.raw);M!=null&&(C[P.dataKey]=M)}}),Object.keys(C).length>0?C:null}function b(N,j){if(N==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(N==="foot"&&typeof j=="object")return j.footer;return null}function _(N){return N.map(function(j,C){var P,M,k;return typeof j=="object"?k=(M=(P=j.dataKey)!==null&&P!==void 0?P:j.key)!==null&&M!==void 0?M:C:k=C,new f.Column(k,j,C)})}function S(N,j,C,P,M,k,E){var R=(0,p.getTheme)(P),H;N==="head"?H=M.headStyles:N==="body"?H=M.bodyStyles:N==="foot"&&(H=M.footStyles);var G=(0,m.assign)({},R.table,R[N],M.styles,H),L=M.columnStyles[j.dataKey]||M.columnStyles[j.index]||{},V=N==="body"?L:{},J=N==="body"&&C%2===0?(0,m.assign)({},R.alternateRow,M.alternateRowStyles):{},W=(0,p.defaultStyles)(k),ae=(0,m.assign)({},W,G,J,V);return(0,m.assign)(ae,E)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),m=u(136),x=u(224);function g(L,V){var J=V.settings,W=J.startY,ae=J.margin,ve={x:ae.left,y:W},O=V.getHeadHeight(V.columns)+V.getFootHeight(V.columns),I=W+ae.bottom+O;if(J.pageBreak==="avoid"){var B=V.body,z=B.reduce(function(xe,ie){return xe+ie.height},0);I+=z}var q=new h.DocHandler(L);(J.pageBreak==="always"||J.startY!=null&&I>q.pageSize().height)&&(G(q),ve.y=ae.top),V.callWillDrawPageHooks(q,ve);var se=(0,p.assign)({},ve);V.startPageNumber=q.pageNumber(),J.horizontalPageBreak?v(q,V,se,ve):(q.applyStyles(q.userStyles),(J.showHead==="firstPage"||J.showHead==="everyPage")&&V.head.forEach(function(xe){return M(q,V,xe,ve,V.columns)}),q.applyStyles(q.userStyles),V.body.forEach(function(xe,ie){var ye=ie===V.body.length-1;P(q,V,xe,ye,se,ve,V.columns)}),q.applyStyles(q.userStyles),(J.showFoot==="lastPage"||J.showFoot==="everyPage")&&V.foot.forEach(function(xe){return M(q,V,xe,ve,V.columns)})),(0,d.addTableBorder)(q,V,se,ve),V.callEndPageHooks(q,ve),V.finalY=ve.y,L.lastAutoTable=V,L.previousAutoTable=V,L.autoTable&&(L.autoTable.previous=V),q.applyStyles(q.userStyles)}c.drawTable=g;function v(L,V,J,W){var ae=(0,x.calculateAllColumnsCanFitInPage)(L,V),ve=V.settings;if(ve.horizontalPageBreakBehaviour==="afterAllRows")ae.forEach(function(z,q){L.applyStyles(L.userStyles),q>0?H(L,V,J,W,z.columns,!0):y(L,V,W,z.columns),b(L,V,J,W,z.columns),S(L,V,W,z.columns)});else for(var O=-1,I=ae[0],B=function(){var z=O;if(I){L.applyStyles(L.userStyles);var q=I.columns;O>=0?H(L,V,J,W,q,!0):y(L,V,W,q),z=_(L,V,O+1,W,q),S(L,V,W,q)}var se=z-O;ae.slice(1).forEach(function(xe){L.applyStyles(L.userStyles),H(L,V,J,W,xe.columns,!0),_(L,V,O+1,W,xe.columns,se),S(L,V,W,xe.columns)}),O=z};O<V.body.length-1;)B()}function y(L,V,J,W){var ae=V.settings;L.applyStyles(L.userStyles),(ae.showHead==="firstPage"||ae.showHead==="everyPage")&&V.head.forEach(function(ve){return M(L,V,ve,J,W)})}function b(L,V,J,W,ae){L.applyStyles(L.userStyles),V.body.forEach(function(ve,O){var I=O===V.body.length-1;P(L,V,ve,I,J,W,ae)})}function _(L,V,J,W,ae,ve){L.applyStyles(L.userStyles),ve=ve??V.body.length;var O=Math.min(J+ve,V.body.length),I=-1;return V.body.slice(J,O).forEach(function(B,z){var q=J+z===V.body.length-1,se=R(L,V,q,W);B.canEntireRowFit(se,ae)&&(M(L,V,B,W,ae),I=J+z)}),I}function S(L,V,J,W){var ae=V.settings;L.applyStyles(L.userStyles),(ae.showFoot==="lastPage"||ae.showFoot==="everyPage")&&V.foot.forEach(function(ve){return M(L,V,ve,J,W)})}function N(L,V,J){var W=J.getLineHeight(L.styles.fontSize),ae=L.padding("vertical"),ve=Math.floor((V-ae)/W);return Math.max(0,ve)}function j(L,V,J,W){var ae={};L.spansMultiplePages=!0,L.height=0;for(var ve=0,O=0,I=J.columns;O<I.length;O++){var B=I[O],z=L.cells[B.index];if(z){Array.isArray(z.text)||(z.text=[z.text]);var q=new f.Cell(z.raw,z.styles,z.section);q=(0,p.assign)(q,z),q.text=[];var se=N(z,V,W);z.text.length>se&&(q.text=z.text.splice(se,z.text.length));var xe=W.scaleFactor(),ie=W.getLineHeightFactor();z.contentHeight=z.getContentHeight(xe,ie),z.contentHeight>=V&&(z.contentHeight=V,q.styles.minCellHeight-=V),z.contentHeight>L.height&&(L.height=z.contentHeight),q.contentHeight=q.getContentHeight(xe,ie),q.contentHeight>ve&&(ve=q.contentHeight),ae[B.index]=q}}var ye=new f.Row(L.raw,-1,L.section,ae,!0);ye.height=ve;for(var Te=0,X=J.columns;Te<X.length;Te++){var B=X[Te],q=ye.cells[B.index];q&&(q.height=ye.height);var z=L.cells[B.index];z&&(z.height=L.height)}return ye}function C(L,V,J,W){var ae=L.pageSize().height,ve=W.settings.margin,O=ve.top+ve.bottom,I=ae-O;V.section==="body"&&(I-=W.getHeadHeight(W.columns)+W.getFootHeight(W.columns));var B=V.getMinimumRowHeight(W.columns,L),z=B<J;if(B>I)return console.error("Will not be able to print row ".concat(V.index," correctly since it's minimum height is larger than page height")),!0;if(!z)return!1;var q=V.hasRowSpan(W.columns),se=V.getMaxCellHeight(W.columns)>I;return se?(q&&console.error("The content of row ".concat(V.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(q||W.settings.rowPageBreak==="avoid")}function P(L,V,J,W,ae,ve,O){var I=R(L,V,W,ve);if(J.canEntireRowFit(I,O))M(L,V,J,ve,O);else if(C(L,J,I,V)){var B=j(J,I,V,L);M(L,V,J,ve,O),H(L,V,ae,ve,O),P(L,V,B,W,ae,ve,O)}else H(L,V,ae,ve,O),P(L,V,J,W,ae,ve,O)}function M(L,V,J,W,ae){W.x=V.settings.margin.left;for(var ve=0,O=ae;ve<O.length;ve++){var I=O[ve],B=J.cells[I.index];if(!B){W.x+=I.width;continue}L.applyStyles(B.styles),B.x=W.x,B.y=W.y;var z=V.callCellHooks(L,V.hooks.willDrawCell,B,J,I,W);if(z===!1){W.x+=I.width;continue}k(L,B,W);var q=B.getTextPos();(0,m.default)(B.text,q.x,q.y,{halign:B.styles.halign,valign:B.styles.valign,maxWidth:Math.ceil(B.width-B.padding("left")-B.padding("right"))},L.getDocument()),V.callCellHooks(L,V.hooks.didDrawCell,B,J,I,W),W.x+=I.width}W.y+=J.height}function k(L,V,J){var W=V.styles;if(L.getDocument().setFillColor(L.getDocument().getFillColor()),typeof W.lineWidth=="number"){var ae=(0,d.getFillStyle)(W.lineWidth,W.fillColor);ae&&L.rect(V.x,J.y,V.width,V.height,ae)}else typeof W.lineWidth=="object"&&(W.fillColor&&L.rect(V.x,J.y,V.width,V.height,"F"),E(L,V,J,W.lineWidth))}function E(L,V,J,W){var ae,ve,O,I;W.top&&(ae=J.x,ve=J.y,O=J.x+V.width,I=J.y,W.right&&(O+=.5*W.right),W.left&&(ae-=.5*W.left),B(W.top,ae,ve,O,I)),W.bottom&&(ae=J.x,ve=J.y+V.height,O=J.x+V.width,I=J.y+V.height,W.right&&(O+=.5*W.right),W.left&&(ae-=.5*W.left),B(W.bottom,ae,ve,O,I)),W.left&&(ae=J.x,ve=J.y,O=J.x,I=J.y+V.height,W.top&&(ve-=.5*W.top),W.bottom&&(I+=.5*W.bottom),B(W.left,ae,ve,O,I)),W.right&&(ae=J.x+V.width,ve=J.y,O=J.x+V.width,I=J.y+V.height,W.top&&(ve-=.5*W.top),W.bottom&&(I+=.5*W.bottom),B(W.right,ae,ve,O,I));function B(z,q,se,xe,ie){L.getDocument().setLineWidth(z),L.getDocument().line(q,se,xe,ie,"S")}}function R(L,V,J,W){var ae=V.settings.margin.bottom,ve=V.settings.showFoot;return(ve==="everyPage"||ve==="lastPage"&&J)&&(ae+=V.getFootHeight(V.columns)),L.pageSize().height-W.y-ae}function H(L,V,J,W,ae,ve){ae===void 0&&(ae=[]),ve===void 0&&(ve=!1),L.applyStyles(L.userStyles),V.settings.showFoot==="everyPage"&&!ve&&V.foot.forEach(function(I){return M(L,V,I,W,ae)}),V.callEndPageHooks(L,W);var O=V.settings.margin;(0,d.addTableBorder)(L,V,J,W),G(L),V.pageNumber++,V.pageCount++,W.x=O.left,W.y=O.top,J.y=O.top,V.callWillDrawPageHooks(L,W),V.settings.showHead==="everyPage"&&(V.head.forEach(function(I){return M(L,V,I,W,ae)}),L.applyStyles(L.userStyles))}c.addPage=H;function G(L){var V=L.pageNumber();L.setPage(V+1);var J=L.pageNumber();return J===V?(L.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,m,x){var g;x===void 0&&(x={});var v=(0,d.getPageAvailableWidth)(p,m),y=new Map,b=[],_=[],S=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?S=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(S=[m.settings.horizontalPageBreakRepeat]),S.forEach(function(P){var M=m.columns.find(function(k){return k.dataKey===P||k.index===P});M&&!y.has(M.index)&&(y.set(M.index,!0),b.push(M.index),_.push(m.columns[M.index]),v-=M.wrappedWidth)});for(var N=!0,j=(g=x==null?void 0:x.start)!==null&&g!==void 0?g:0;j<m.columns.length;){if(y.has(j)){j++;continue}var C=m.columns[j].wrappedWidth;if(N||v>=C)N=!1,b.push(j),_.push(m.columns[j]),v-=C;else break;j++}return{colIndexes:b,columns:_,lastIndex:j-1}}function h(p,m){for(var x=[],g=0;g<m.columns.length;g++){var v=f(p,m,{start:g});v.columns.length&&(x.push(v),g=v.lastIndex)}return x}c.calculateAllColumnsCanFitInPage=h},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(b,_){h(b,_);var S=[],N=0;_.columns.forEach(function(C){var P=C.getMaxCustomCellWidth(_);P?C.width=P:(C.width=C.wrappedWidth,S.push(C)),N+=C.width});var j=_.getWidth(b.pageSize().width)-N;j&&(j=p(S,j,function(C){return Math.max(C.minReadableWidth,C.minWidth)})),j&&(j=p(S,j,function(C){return C.minWidth})),j=Math.abs(j),!_.settings.horizontalPageBreak&&j>.1/b.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),x(_),g(_,b),m(_)}c.calculateWidths=f;function h(b,_){var S=b.scaleFactor(),N=_.settings.horizontalPageBreak,j=(0,d.getPageAvailableWidth)(b,_);_.allRows().forEach(function(C){for(var P=0,M=_.columns;P<M.length;P++){var k=M[P],E=C.cells[k.index];if(E){var R=_.hooks.didParseCell;_.callCellHooks(b,R,E,C,k,null);var H=E.padding("horizontal");E.contentWidth=(0,d.getStringWidth)(E.text,E.styles,b)+H;var G=(0,d.getStringWidth)(E.text.join(" ").split(/[^\S\u00A0]+/),E.styles,b);if(E.minReadableWidth=G+E.padding("horizontal"),typeof E.styles.cellWidth=="number")E.minWidth=E.styles.cellWidth,E.wrappedWidth=E.styles.cellWidth;else if(E.styles.cellWidth==="wrap"||N===!0)E.contentWidth>j?(E.minWidth=j,E.wrappedWidth=j):(E.minWidth=E.contentWidth,E.wrappedWidth=E.contentWidth);else{var L=10/S;E.minWidth=E.styles.minCellWidth||L,E.wrappedWidth=E.contentWidth,E.minWidth>E.wrappedWidth&&(E.wrappedWidth=E.minWidth)}}}}),_.allRows().forEach(function(C){for(var P=0,M=_.columns;P<M.length;P++){var k=M[P],E=C.cells[k.index];if(E&&E.colSpan===1)k.wrappedWidth=Math.max(k.wrappedWidth,E.wrappedWidth),k.minWidth=Math.max(k.minWidth,E.minWidth),k.minReadableWidth=Math.max(k.minReadableWidth,E.minReadableWidth);else{var R=_.styles.columnStyles[k.dataKey]||_.styles.columnStyles[k.index]||{},H=R.cellWidth||R.minCellWidth;H&&typeof H=="number"&&(k.minWidth=H,k.wrappedWidth=H)}E&&(E.colSpan>1&&!k.minWidth&&(k.minWidth=E.minWidth),E.colSpan>1&&!k.wrappedWidth&&(k.wrappedWidth=E.minWidth))}})}function p(b,_,S){for(var N=_,j=b.reduce(function(L,V){return L+V.wrappedWidth},0),C=0;C<b.length;C++){var P=b[C],M=P.wrappedWidth/j,k=N*M,E=P.width+k,R=S(P),H=E<R?R:E;_-=H-P.width,P.width=H}if(_=Math.round(_*1e10)/1e10,_){var G=b.filter(function(L){return _<0?L.width>S(L):!0});G.length&&(_=p(G,_,S))}return _}c.resizeColumns=p;function m(b){for(var _={},S=1,N=b.allRows(),j=0;j<N.length;j++)for(var C=N[j],P=0,M=b.columns;P<M.length;P++){var k=M[P],E=_[k.index];if(S>1)S--,delete C.cells[k.index];else if(E)E.cell.height+=C.height,S=E.cell.colSpan,delete C.cells[k.index],E.left--,E.left<=1&&delete _[k.index];else{var R=C.cells[k.index];if(!R)continue;if(R.height=C.height,R.rowSpan>1){var H=N.length-j,G=R.rowSpan>H?H:R.rowSpan;_[k.index]={cell:R,left:G,row:C}}}}}function x(b){for(var _=b.allRows(),S=0;S<_.length;S++)for(var N=_[S],j=null,C=0,P=0,M=0;M<b.columns.length;M++){var k=b.columns[M];if(P-=1,P>1&&b.columns[M+1])C+=k.width,delete N.cells[k.index];else if(j){var E=j;delete N.cells[k.index],j=null,E.width=k.width+C}else{var E=N.cells[k.index];if(!E)continue;if(P=E.colSpan,C=0,E.colSpan>1){j=E,C+=k.width;continue}E.width=k.width+C}}}function g(b,_){for(var S={count:0,height:0},N=0,j=b.allRows();N<j.length;N++){for(var C=j[N],P=0,M=b.columns;P<M.length;P++){var k=M[P],E=C.cells[k.index];if(E){_.applyStyles(E.styles,!0);var R=E.width-E.padding("horizontal");if(E.styles.overflow==="linebreak")E.text=_.splitTextToSize(E.text,R+1/_.scaleFactor(),{fontSize:E.styles.fontSize});else if(E.styles.overflow==="ellipsize")E.text=v(E.text,R,E.styles,_,"...");else if(E.styles.overflow==="hidden")E.text=v(E.text,R,E.styles,_,"");else if(typeof E.styles.overflow=="function"){var H=E.styles.overflow(E.text,R);typeof H=="string"?E.text=[H]:E.text=H}E.contentHeight=E.getContentHeight(_.scaleFactor(),_.getLineHeightFactor());var G=E.contentHeight/E.rowSpan;E.rowSpan>1&&S.count*S.height<G*E.rowSpan?S={height:G,count:E.rowSpan}:S&&S.count>0&&S.height>G&&(G=S.height),G>C.height&&(C.height=G)}}S.count--}}function v(b,_,S,N,j){return b.map(function(C){return y(C,_,S,N,j)})}c.ellipsize=v;function y(b,_,S,N,j){var C=1e4*N.scaleFactor();if(_=Math.ceil(_*C)/C,_>=(0,d.getStringWidth)(b,S,N))return b;for(;_<(0,d.getStringWidth)(b+j,S,N)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+j}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={exports:{}};return n[l].call(u.exports,u,u.exports,i),u.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),u=i(776),d=i(664),f=i(972),h=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var m=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return m.Row}});function x(_){(0,c.default)(_)}l.applyPlugin=x;function g(_,S){var N=(0,u.parseInput)(_,S),j=(0,f.createTable)(_,N);(0,d.drawTable)(_,j)}function v(_,S){var N=(0,u.parseInput)(_,S);return(0,f.createTable)(_,N)}l.__createTable=v;function y(_,S){(0,d.drawTable)(_,S)}l.__drawTable=y;try{var b=i(964);b.jsPDF&&(b=b.jsPDF),x(b)}catch{}l.default=g}(),o}()})})($Te);const UTe=({isOpen:e,onClose:t,onImportMail:r,onScanQR:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 w-full max-w-md relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300","aria-label":"Fermer",children:s.jsx(Mt,{size:20,"aria-hidden":"true"})}),s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Importer des Analyses"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:()=>{const a=document.createElement("input");a.type="file",a.accept=".eml,.msg",a.onchange=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];o&&r(o)},a.click()},children:[s.jsx(qs,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:"Email du Laboratoire"}),s.jsx("p",{className:"text-sm text-white/60",children:"Importer directement depuis l'email"})]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:n,children:[s.jsx(Q0,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:"Scanner QR Code"}),s.jsx("p",{className:"text-sm text-white/60",children:"Scanner le code depuis le rapport"})]})]})]})]})}):null,HTe=[{id:"A123",date:"2025-03-15",bassinId:"B001",laboratoire:"Labya",status:"conforme",technicien:"Jean Dupont",nextAnalyseDate:"2025-03-22",parameters:[{name:"pH",value:7.8,unit:"",threshold:8.5,status:"normal"},{name:"Température",value:12.5,unit:"°C",threshold:15,status:"normal"},{name:"Oxygène dissous",value:8.2,unit:"mg/L",threshold:7,status:"normal"},{name:"Salinité",value:33.5,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:2.8,unit:"NTU",threshold:5,status:"normal"},{name:"E. coli",value:45,unit:"UFC/100mL",threshold:230,status:"normal"}]},{id:"A124",date:"2025-03-15",bassinId:"B002",laboratoire:"Labya",status:"en-attente",technicien:"Marie Martin",parameters:[{name:"pH",value:8.3,unit:"",threshold:8.5,status:"warning"},{name:"Température",value:14.8,unit:"°C",threshold:15,status:"warning"},{name:"Oxygène dissous",value:6.8,unit:"mg/L",threshold:7,status:"warning"},{name:"Salinité",value:34.2,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:4.2,unit:"NTU",threshold:5,status:"warning"},{name:"E. coli",value:180,unit:"UFC/100mL",threshold:230,status:"warning"}]}],WTe=()=>{const[e,t]=F.useState(null),[r,n]=F.useState(!1),[a,i]=F.useState(!1),{data:o,isLoading:l}=g4({queryKey:["analyses"],queryFn:async()=>(await new Promise(m=>setTimeout(m,1e3)),HTe)}),c=async m=>{console.log("Importing from email:",m),n(!1)},u=()=>{n(!1),i(!0)},d=m=>{try{const x=JSON.parse(atob(m.split("/").pop()||""));console.log("QR Code data:",x)}catch(x){console.error("Erreur lors du décodage du QR code:",x)}},f=async()=>{try{const m=new Ct;m.setFontSize(20),m.setTextColor(44,62,80),m.text("Rapport d'Analyses OYSTER CULT",15,20),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Généré le ${It(new Date,"d MMMM yyyy 'à' HH:mm",{locale:cr})}`,15,30);const x=(o==null?void 0:o.map(g=>[It(new Date(g.date),"dd/MM/yyyy"),g.bassinId,g.status.charAt(0).toUpperCase()+g.status.slice(1),g.technicien||"-",It(new Date(g.nextAnalyseDate||""),"dd/MM/yyyy")]))||[];m.autoTable({startY:40,head:[["Date","Bassin","Statut","Technicien","Prochaine Analyse"]],body:x,theme:"striped",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10}}),o==null||o.forEach((g,v)=>{v>0&&m.addPage();const y=20;m.setFontSize(16),m.setTextColor(44,62,80),m.text(`Détails Analyse - Bassin ${g.bassinId}`,15,y),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Date: ${It(new Date(g.date),"d MMMM yyyy",{locale:cr})}`,15,y+10),m.text(`Technicien: ${g.technicien||"-"}`,15,y+20),m.text(`Statut: ${g.status.charAt(0).toUpperCase()+g.status.slice(1)}`,15,y+30);const b=g.parameters.map(_=>[_.name,_.value.toString(),_.unit,_.threshold?_.threshold.toString():"-",_.status.charAt(0).toUpperCase()+_.status.slice(1)]);m.autoTable({startY:y+40,head:[["Paramètre","Valeur","Unité","Seuil","Statut"]],body:b,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10},columnStyles:{0:{cellWidth:40},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:30}}})}),m.save(`analyses_${It(new Date,"yyyy-MM-dd")}.pdf`)}catch(m){console.error("Erreur lors de l'export:",m)}},h=m=>{switch(m){case"conforme":return"bg-emerald-500/20 text-emerald-400";case"non-conforme":return"bg-red-500/20 text-red-400";default:return"bg-amber-500/20 text-amber-400"}},p=m=>{switch(m){case"normal":return"text-emerald-400";case"warning":return"text-amber-400";case"critical":return"text-red-400";default:return"text-white"}};return s.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[s.jsx(xj,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Analyses"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer des analyses",children:[s.jsx(vs,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Importer Analyses"})]}),s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter en PDF",children:[s.jsx(Gi,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Exporter PDF"})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:s.jsx(Qo,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Résultats d'analyses"}),s.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",It(new Date,"d MMMM yyyy 'à' HH:mm",{locale:cr})]})]})]}),l?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"w-10 h-10 border-t-2 border-b-2 border-cyan-400 rounded-full animate-spin"})}):(o==null?void 0:o.length)===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:s.jsx(xj,{className:"w-8 h-8 text-cyan-400","aria-hidden":"true"})}),s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Aucune analyse disponible"}),s.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez par importer des résultats d'analyses de laboratoire."}),s.jsxs("button",{onClick:()=>n(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer votre première analyse",children:[s.jsx(vs,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Importer une analyse"})]})]}):s.jsx("div",{className:"space-y-4",children:o==null?void 0:o.map(m=>s.jsxs("div",{className:`p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 transition-all duration-300 ${e===m.id?"shadow-[0_4px_15px_rgba(0,210,200,0.2)]":"shadow-[0_2px_10px_rgba(0,0,0,0.2)]"}`,children:[s.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>t(e===m.id?null:m.id),children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${h(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-white",children:["Bassin ",m.bassinId]}),s.jsxs("p",{className:"text-sm text-white/60",children:[It(new Date(m.date),"d MMMM yyyy",{locale:cr}),m.technicien?` • ${m.technicien}`:""]})]})]}),s.jsx("button",{"aria-label":e===m.id?"Masquer les détails":"Afficher les détails",className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",children:e===m.id?s.jsx(Hm,{className:"w-5 h-5 text-white/60","aria-hidden":"true"}):s.jsx(If,{className:"w-5 h-5 text-white/60","aria-hidden":"true"})})]}),e===m.id&&s.jsxs(Ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-white/10",children:[s.jsx("h4",{className:"font-medium text-white mb-3",children:"Paramètres analysés"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m.parameters.map((x,g)=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/80",children:x.name}),s.jsxs("p",{className:`text-lg font-medium ${p(x.status)}`,children:[x.value," ",x.unit]})]}),x.threshold&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-white/60",children:"Seuil"}),s.jsxs("p",{className:"text-sm text-white/80",children:[x.threshold," ",x.unit]})]})]},g))}),m.nextAnalyseDate&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/60",children:[s.jsx("span",{children:"Prochaine analyse prévue le:"}),s.jsx("span",{className:"text-white",children:It(new Date(m.nextAnalyseDate),"d MMMM yyyy",{locale:cr})})]})]})]},m.id))})]})]}),s.jsx(hr,{children:r&&s.jsx(UTe,{isOpen:r,onClose:()=>n(!1),onImportMail:c,onScanQR:u})}),s.jsx(hr,{children:a&&s.jsx(BTe,{onClose:()=>i(!1),onScanSuccess:d})})]})},ta={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},VTe={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},Iw={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}},qTe=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState(!1),[a,i]=F.useState(!1),[o,l]=F.useState([{id:"1",name:"Caméra Entrée",ip:"192.168.1.100:554",status:"online",lastSeen:"24/03 17:47",alerts:0},{id:"2",name:"Caméra Bassin #1",ip:"192.168.1.101:554",status:"online",lastSeen:"24/03 17:50",alerts:2},{id:"3",name:"Caméra Bassin #2",ip:"192.168.1.102:554",status:"offline",lastSeen:"23/03 14:33",alerts:0},{id:"4",name:"Caméra Zone de Stockage",ip:"192.168.1.103:554",status:"online",lastSeen:"24/03 17:49",alerts:1}]);F.useEffect(()=>{const u=()=>{i(window.innerWidth<=768)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),F.useEffect(()=>{const u=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(u)},[]);const c=u=>{u.preventDefault();const d=new FormData(u.currentTarget),f={id:`${o.length+1}`,name:d.get("camera-name"),ip:d.get("camera-ip"),status:"online",lastSeen:new Date().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),alerts:0};l([...o,f]),n(!1)};return e?s.jsx("div",{className:"h-full w-full flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-t-cyan-500 border-b-cyan-500 border-l-transparent border-r-transparent rounded-full animate-spin"}),s.jsx("span",{className:"mt-4 text-white/70",children:"Chargement des caméras..."})]})}):s.jsxs(Ne.div,{initial:"hidden",animate:"visible",variants:VTe,className:"space-y-6",children:[s.jsx(Kf,{icon:s.jsx(j9,{size:28,className:"text-white"}),title:"Surveillance"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[s.jsxs(Ne.div,{variants:Iw,className:`${ta.container} ${ta.hoverEffect} p-5 space-y-4`,children:[s.jsx("h2",{className:ta.heading,children:"Statistiques surveillance"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:ta.subheading,children:"Caméras actives"}),s.jsxs("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:[o.filter(u=>u.status==="online").length,"/",o.length]})]}),s.jsxs("div",{className:"text-2xl font-bold text-white mt-2",children:[Math.round(o.filter(u=>u.status==="online").length/o.length*100),"%"]}),s.jsx("div",{className:ta.progressBar,children:s.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:`${o.filter(u=>u.status==="online").length/o.length*100}%`},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:ta.subheading,children:"Alertes aujourd'hui"}),s.jsx("div",{className:"bg-amber-500/20 text-amber-300 text-xs px-2 py-1 rounded-full",children:o.reduce((u,d)=>u+d.alerts,0)})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:o.reduce((u,d)=>u+d.alerts,0)}),s.jsx("div",{className:ta.progressBar,children:s.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-amber-500 to-orange-400",initial:{width:0},animate:{width:o.reduce((u,d)=>u+d.alerts,0)>0?"50%":"0%"},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:ta.subheading,children:"Durée fonctionnement"}),s.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"6j 12h"}),s.jsx("div",{className:ta.progressBar,children:s.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"85%"},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:ta.subheading,children:"Espace stockage"}),s.jsx("div",{className:"bg-cyan-500/20 text-cyan-300 text-xs px-2 py-1 rounded-full",children:"84%"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"758.4 Go"}),s.jsx("div",{className:ta.progressBar,children:s.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-400",initial:{width:0},animate:{width:"84%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),s.jsxs(Ne.div,{variants:Iw,className:`${ta.container} ${ta.hoverEffect} p-5`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h2",{className:ta.heading,children:"Caméras de surveillance"}),s.jsxs("button",{onClick:()=>n(!0),className:"px-3 py-1.5 bg-[rgba(0,128,128,0.3)] hover:bg-[rgba(0,128,128,0.4)] rounded-lg text-sm text-white flex items-center transition-all shadow-[rgba(0,0,0,0.15)_0px_4px_8px,rgba(0,210,200,0.1)_0px_0px_3px_inset] min-w-[44px] min-h-[44px]","aria-label":"Ajouter une caméra",children:[s.jsx(ar,{size:16,className:"mr-2"}),"Ajouter"]})]}),s.jsx("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:o.map(u=>s.jsxs("div",{className:"rounded-lg backdrop-blur-sm bg-[rgba(0,40,80,0.2)] border border-white/10 transition-all duration-200 hover:border-cyan-500/30 p-4 flex flex-col focus-visible:ring-2 focus-visible:ring-cyan-500/50 focus:outline-none",tabIndex:0,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:u.name}),s.jsx("p",{className:"text-white/60 text-sm",children:u.ip}),s.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",u.lastSeen]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${u.status==="online"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:u.status==="online"?"Connecté":"Déconnecté"})]}),s.jsxs("div",{className:"bg-[rgba(0,20,40,0.3)] rounded-lg h-24 overflow-hidden relative",children:[u.status==="online"?s.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url('/OYSTERCULT/images/camera-feed-${u.id}.jpg')`}}):s.jsxs("div",{className:"w-full h-full flex items-center justify-center text-white/60",children:[s.jsx(vd,{className:"mr-2 opacity-50",size:18}),"Signal perdu"]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1",children:s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("span",{className:"text-xs text-white/80 bg-black/40 px-1.5 py-0.5 rounded text-right",children:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})})})]}),s.jsxs("div",{className:"flex justify-between gap-2 mt-3",children:[s.jsxs("button",{className:"flex-1 bg-[rgba(0,80,110,0.3)] hover:bg-[rgba(0,90,125,0.4)] text-white py-1.5 px-3 rounded-lg flex items-center justify-center text-sm transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-w-[44px] min-h-[44px]","aria-label":`Voir le flux de ${u.name}`,children:[s.jsx(Wc,{size:16,className:"mr-2"}),"Voir le flux"]}),s.jsx("button",{className:"bg-[rgba(180,40,40,0.2)] hover:bg-[rgba(180,40,40,0.3)] text-red-300 p-1.5 rounded-lg flex items-center justify-center transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500/50 min-w-[44px] min-h-[44px]","aria-label":`Supprimer ${u.name}`,children:s.jsx(Oa,{size:16})})]})]},u.id))})]}),s.jsxs(Ne.div,{variants:Iw,className:`${ta.container} ${ta.hoverEffect} p-5`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h2",{className:ta.heading,children:"Journal d'alertes"}),s.jsx("div",{className:"text-sm text-white/60",children:"Aujourd'hui, 24 mars"})]}),s.jsxs("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:[[{id:1,camera:"Caméra Bassin #1",time:"16:05",message:"Mouvement détecté",level:"warning"},{id:2,camera:"Caméra Zone de Stockage",time:"15:32",message:"Objet retiré",level:"warning"},{id:3,camera:"Caméra Bassin #1",time:"14:47",message:"Niveau d'eau bas",level:"error"},{id:4,camera:"Caméra Bassin #2",time:"09:15",message:"Connexion perdue",level:"error"},{id:5,camera:"Caméra Entrée",time:"08:01",message:"Mouvement détecté",level:"info"}].map(u=>s.jsxs("div",{className:"p-3 rounded-lg flex items-center bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,25,45,0.4)] transition-colors",children:[s.jsx("div",{className:`
                  w-10 h-10 rounded-full mr-3 flex items-center justify-center
                  ${u.level==="error"?"bg-red-500/20 text-red-300":u.level==="warning"?"bg-amber-500/20 text-amber-300":"bg-blue-500/20 text-blue-300"}
                `,children:s.jsx(li,{size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-white",children:u.camera}),s.jsx("span",{className:"text-sm text-white/40",children:u.time})]}),s.jsx("p",{className:"text-sm mt-0.5 text-white/70",children:u.message})]})]},u.id)),s.jsx("button",{className:"w-full mt-4 bg-[rgba(0,40,80,0.2)] hover:bg-[rgba(0,50,90,0.3)] text-white/80 py-2 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-h-[44px]","aria-label":"Voir toutes les alertes",children:"Voir toutes les alertes"})]})]})]}),s.jsx(hr,{children:r&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:[s.jsx(Ne.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>n(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),s.jsx(Ne.div,{className:`relative w-full max-w-md rounded-xl ${ta.container} overflow-hidden`,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:`text-xl ${ta.heading}`,children:"Ajouter une caméra"}),s.jsx("button",{onClick:()=>n(!1),className:"rounded-full p-1.5 bg-[rgba(0,40,80,0.3)] hover:bg-[rgba(0,50,90,0.4)] transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50","aria-label":"Fermer",children:s.jsx(Mt,{size:18})})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"camera-name",className:"block text-sm font-medium mb-1 text-white/80",children:"Nom"}),s.jsx("input",{id:"camera-name",name:"camera-name",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Caméra Entrée",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"camera-location",className:"block text-sm font-medium mb-1 text-white/80",children:"Emplacement"}),s.jsx("input",{id:"camera-location",name:"camera-location",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Entrée principale"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"camera-ip",className:"block text-sm font-medium mb-1 text-white/80",children:"Adresse IP"}),s.jsx("input",{id:"camera-ip",name:"camera-ip",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"192.168.1.100:554",pattern:"^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\:[0-9]{1,5})?$",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"camera-type",className:"block text-sm font-medium mb-1 text-white/80",children:"Type"}),s.jsxs("select",{id:"camera-type",name:"camera-type",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",required:!0,children:[s.jsx("option",{value:"ip",children:"Caméra IP"}),s.jsx("option",{value:"rtsp",children:"RTSP Stream"}),s.jsx("option",{value:"hls",children:"HLS Stream"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2.5 bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,30,50,0.4)] border border-white/10 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white/80 min-h-[44px]",children:"Annuler"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white font-medium min-h-[44px]",children:"Ajouter"})]})]})]})})]})})]})},p4=F.forwardRef(({children:e,className:t,variant:r="default",noPadding:n,fullWidth:a,...i},o)=>{const l="rounded-lg backdrop-blur-sm bg-black/40 border transition-all duration-200",c={default:"border-white/10",outlined:"border-white/20 shadow-sm",elevated:"border-white/10 shadow-lg"},u=n?"p-0":"p-6",d=a?"w-full":"";return s.jsx(Ne.div,{ref:o,className:fl(l,c[r],u,d,"focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50",t),...i,whileHover:{scale:1.005},transition:{type:"spring",duration:.3,...i.transition},style:{WebkitBackdropFilter:"blur(8px)",...i.style},tabIndex:i.tabIndex||0,children:e})});p4.displayName="Card";const Ac={success:e=>{console.log(`Success: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-green-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},3e3)},error:e=>{console.error(`Error: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-red-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},4e3)},info:e=>{console.info(`Info: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-blue-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},3e3)},warning:e=>{console.warn(`Warning: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-yellow-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",window.matchMedia("(prefers-reduced-motion: reduce)").matches?(t.style.opacity="1",t.style.transform="none"):(t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)"),setTimeout(()=>{t.style.opacity="0",window.matchMedia("(prefers-reduced-motion: reduce)").matches||(t.style.transform="translateY(-20px)"),setTimeout(()=>t.remove(),300)},3e3)}},GTe=()=>{const[e,t]=F.useState(()=>{const g=localStorage.getItem("surveillanceDevices");return g?JSON.parse(g):[{id:"1",name:"Caméra entrée",ipAddress:"192.168.1.100",port:"554",username:"admin",password:"********",isConnected:!0,lastSeen:new Date().toISOString()}]}),[r,n]=F.useState({name:"",ipAddress:"",port:"554",username:"admin",password:""}),[a,i]=F.useState(!1),[o,l]=F.useState(!1),[c,u]=F.useState(!0);F.useEffect(()=>{localStorage.setItem("surveillanceDevices",JSON.stringify(e))},[e]),F.useEffect(()=>{const g=setTimeout(()=>{u(!1)},800);return()=>clearTimeout(g)},[]);const d=(g,v)=>{n({...r,[g]:v})},f=()=>{if(!r.ipAddress||!r.port){Ac.error("Veuillez saisir l'adresse IP et le port");return}l(!0),setTimeout(()=>{l(!1),Math.random()>.2?Ac.success(`Connexion réussie à ${r.ipAddress}:${r.port}`):Ac.error(`Échec de connexion à ${r.ipAddress}:${r.port}`)},1500)},h=()=>{if(!r.name||!r.ipAddress){Ac.error("Veuillez saisir au moins le nom et l'adresse IP");return}const g={...r,id:Date.now().toString(),isConnected:!0,lastSeen:new Date().toISOString()};t([...e,g]),n({name:"",ipAddress:"",port:"554",username:"admin",password:""}),i(!1),Ac.success(`${g.name} ajouté avec succès`)},p=g=>{const v=e.find(y=>y.id===g);v&&(t(e.filter(y=>y.id!==g)),Ac.info(`${v.name} supprimé`))},m=g=>{Ac.info(`Ouverture du flux de ${g.name}...`),setTimeout(()=>{const v=e.map(y=>y.id===g.id?{...y,lastSeen:new Date().toISOString()}:y);t(v),Ac.success(`Flux de ${g.name} prêt à être affiché`)},1200)},x=g=>{if(!g)return"Jamais";const v=new Date(g);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(v)};return c?s.jsx("div",{className:"container mx-auto p-4 max-w-4xl flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gj,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-cyan-400"}),s.jsx("p",{className:"text-lg text-white/70",children:"Chargement des appareils de surveillance..."})]})}):s.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Surveillance Vidéo"}),s.jsxs(br,{onClick:()=>i(!a),"aria-label":a?"Annuler l'ajout d'une caméra":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[a?s.jsx(Mt,{className:"mr-2"}):s.jsx(ar,{className:"mr-2"}),a?"Annuler":"Ajouter une caméra"]})]}),a&&s.jsxs(p4,{className:"p-4 mb-6 border border-blue-500/30",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Connecter un nouvel appareil"}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(qo,{htmlFor:"name",children:"Nom de l'appareil"}),s.jsx(zt,{id:"name",value:r.name,onChange:g=>d("name",g.target.value),placeholder:"Caméra entrée",className:"mt-1","aria-required":"true"})]}),s.jsxs("div",{children:[s.jsx(qo,{htmlFor:"ipAddress",children:"Adresse IP"}),s.jsx(zt,{id:"ipAddress",value:r.ipAddress,onChange:g=>d("ipAddress",g.target.value),placeholder:"192.168.1.100",className:"mt-1","aria-required":"true"})]}),s.jsxs("div",{children:[s.jsx(qo,{htmlFor:"port",children:"Port"}),s.jsx(zt,{id:"port",value:r.port,onChange:g=>d("port",g.target.value),placeholder:"554",className:"mt-1","aria-required":"true"})]}),s.jsxs("div",{children:[s.jsx(qo,{htmlFor:"username",children:"Nom d'utilisateur"}),s.jsx(zt,{id:"username",value:r.username,onChange:g=>d("username",g.target.value),placeholder:"admin",className:"mt-1",autoComplete:"username"})]}),s.jsxs("div",{children:[s.jsx(qo,{htmlFor:"password",children:"Mot de passe"}),s.jsx(zt,{id:"password",type:"password",value:r.password,onChange:g=>d("password",g.target.value),placeholder:"••••••••",autoComplete:"new-password",className:"mt-1"})]}),s.jsxs("div",{className:"flex gap-2 col-span-2 mt-2",children:[s.jsxs(br,{variant:"outline",onClick:f,disabled:o,"aria-label":"Tester la connexion",className:"min-w-[44px] min-h-[44px]",children:[o?s.jsx(gj,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx($m,{className:"mr-2 h-4 w-4"}),"Tester la connexion"]}),s.jsxs(br,{onClick:h,"aria-label":"Ajouter la caméra",className:"min-w-[44px] min-h-[44px]",children:[s.jsx(ar,{className:"mr-2 h-4 w-4"}),"Ajouter"]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Vos appareils (",e.length,")"]}),e.length===0?s.jsxs("div",{className:"text-center p-8 bg-black/20 rounded-lg border border-white/10",children:[s.jsx(vd,{className:"mx-auto h-12 w-12 mb-3 opacity-50"}),s.jsx("p",{className:"text-white/70",children:"Aucun appareil de surveillance connecté"}),s.jsx("p",{className:"text-sm text-white/50 mb-4",children:'Cliquez sur "Ajouter une caméra" pour commencer'}),s.jsxs(br,{onClick:()=>i(!0),"aria-label":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[s.jsx(ar,{className:"mr-2 h-4 w-4"}),"Ajouter une caméra"]})]}):s.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:e.map(g=>s.jsxs(p4,{className:"p-4 flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:g.name}),s.jsxs("p",{className:"text-white/60 text-sm",children:[g.ipAddress,":",g.port]}),s.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",x(g.lastSeen)]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${g.isConnected?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:g.isConnected?"Connecté":"Déconnecté"})]}),s.jsxs("div",{className:"mt-auto flex gap-2 pt-4",children:[s.jsxs(br,{variant:"outline",className:"flex-1 min-w-[44px] min-h-[44px]",onClick:()=>m(g),"aria-label":`Voir le flux de ${g.name}`,children:[s.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Voir"]}),s.jsx(br,{variant:"outline",className:"bg-red-500/10 hover:bg-red-500/20 text-red-300 min-w-[44px] min-h-[44px]",onClick:()=>p(g.id),"aria-label":`Supprimer ${g.name}`,children:s.jsx(Oa,{className:"h-4 w-4"})})]})]},g.id))})]})]})},XTe=new oT("https://cool-otter-362.convex.cloud");function YTe(){const e=So(),t=Lm(),[r,n]=F.useState(!1),[a,i]=F.useState(!1),[o,l]=F.useState(!1),c=F.useRef(null),[u,d]=F.useState(!1),{totalUnreadCount:f,markAsRead:h}=Zz();F.useEffect(()=>{const m=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;d(m),m&&document.body.classList.add("ios-device")},[]),F.useEffect(()=>{t.pathname.includes("/network/messages")||(c.current=t.pathname)},[t.pathname]);const p=()=>{t.pathname.includes("/network/messages")?e(c.current||"/dashboard"):e("/network/messages")};return s.jsxs(s.Fragment,{children:[s.jsx(e$,{onShowMobileMenu:()=>n(!0),onToggleNotifications:()=>i(!a),onShowEmergency:()=>l(!0),onEmergencyClick:()=>l(!0),onToggleMessages:p,unreadMessagesCount:f}),s.jsxs("div",{className:"flex min-h-screen h-full",children:[s.jsx("button",{className:"fixed top-6 left-6 z-50 md:hidden flex items-center justify-center w-14 h-14 rounded-lg shadow-lg transition-all duration-200",onClick:()=>n(!0),"aria-label":"Ouvrir le menu",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(0, 210, 200, 0.25) 0px 0px 15px inset",WebkitTapHighlightColor:"transparent",transform:"translateZ(0)",willChange:"transform"},children:s.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"24px",height:"24px",filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.4))"},children:[s.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})}),s.jsx(r$,{showMobileMenu:r,onCloseMobileMenu:()=>n(!1),onEmergencyClick:()=>l(!0),onToggleMessages:p,onToggleNotifications:()=>i(!0)}),s.jsx("div",{className:`
            flex-1 pt-16 md:pt-16 
            pb-4 
            px-4 md:px-6 lg:px-8
            ml-0 lg:ml-[4.5rem] transition-all duration-300
            min-h-screen
          `,style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",willChange:"transform",transform:"translate3d(0,0,0)",position:"fixed",inset:"0",width:"100%",height:"100%",overflow:"auto"},children:s.jsx("main",{className:`flex-1 p-6 overflow-x-hidden ${t.pathname.endsWith("/dashboard")?"h-full":""}`,children:s.jsx("div",{className:"max-w-7xl mx-auto h-full",children:s.jsx(k9,{})})})})]}),s.jsxs(hr,{children:[a&&s.jsx(qz,{onClose:()=>i(!1)}),o&&s.jsx(Yz,{isOpen:o,onClose:()=>l(!1)})]}),s.jsx(Kz,{})]})}function KTe(){const e=Lm();So();const t=localStorage.getItem("isAuthenticated")==="true";return e.pathname,s.jsx("div",{className:"min-h-screen w-screen h-screen fixed inset-0 overflow-auto",children:s.jsxs(E9,{children:[s.jsx(sr,{path:"/auth",element:s.jsx(eU,{})}),s.jsx(sr,{path:"/surveillance/simple",element:s.jsx(qTe,{})}),t?s.jsxs(sr,{element:s.jsx(YTe,{}),children:[s.jsx(sr,{path:"/",element:s.jsx(Yb,{to:"/dashboard",replace:!0})}),s.jsx(sr,{path:"/dashboard",element:s.jsx(Wme,{})}),s.jsx(sr,{path:"/stocks",element:s.jsx(JNe,{})}),s.jsx(sr,{path:"/stock/:id",element:s.jsx(i3e,{})}),s.jsx(sr,{path:"/tables/:id",element:s.jsx(Tje,{})}),s.jsx(sr,{path:"/accounting",element:s.jsx(u3e,{})}),s.jsx(sr,{path:"/invoices",element:s.jsx(m3e,{})}),s.jsx(sr,{path:"/hr",element:s.jsx(E3e,{})}),s.jsx(sr,{path:"/network",element:s.jsx(G3e,{})}),s.jsx(sr,{path:"/network/messages",element:s.jsx(kTe,{})}),s.jsx(sr,{path:"/config",element:s.jsx(uje,{})}),s.jsx(sr,{path:"/notifications",element:s.jsx(vje,{})}),s.jsx(sr,{path:"/tasks",element:s.jsx(kje,{})}),s.jsx(sr,{path:"/traceability",element:s.jsx(SEe,{})}),s.jsx(sr,{path:"/traceability/storage-locations",element:s.jsx(TTe,{})}),s.jsx(sr,{path:"/traceability/market-purchases",element:s.jsx(PTe,{})}),s.jsx(sr,{path:"/traceability/invoices-delivery-notes",element:s.jsx(ITe,{})}),s.jsx(sr,{path:"/traceability/batches",element:s.jsx(LTe,{})}),s.jsx(sr,{path:"/traceability/batch-history",element:s.jsx(FTe,{searchQuery:""})}),s.jsx(sr,{path:"/traceability/purification-pools",element:s.jsx(RTe,{})}),s.jsx(sr,{path:"/sales",element:s.jsx(kEe,{})}),s.jsx(sr,{path:"/purchases",element:s.jsx(PEe,{})}),s.jsx(sr,{path:"/profile",element:s.jsx(zEe,{})}),s.jsx(sr,{path:"/shop",element:s.jsx(UEe,{})}),s.jsx(sr,{path:"/suppliers",element:s.jsx(a8e,{})}),s.jsx(sr,{path:"/digital-vault",element:s.jsx(ETe,{})}),s.jsx(sr,{path:"/supplier/:id",element:s.jsx(i8e,{})}),s.jsx(sr,{path:"/suppliers/orders",element:s.jsx(pTe,{})}),s.jsx(sr,{path:"/surveillance",element:s.jsx(GTe,{})}),s.jsx(sr,{path:"/analyses",element:s.jsx(WTe,{})}),s.jsx(sr,{path:"*",element:s.jsx(Yb,{to:"/dashboard",replace:!0})})]}):s.jsx(sr,{path:"*",element:s.jsx(Yb,{to:"/auth",replace:!0})})]})})}function JTe(){const e=new S9;return s.jsx(lT,{client:XTe,children:s.jsxs(A9,{client:e,children:[s.jsx(C9,{basename:"/OYSTERCULT",children:s.jsx(KTe,{})}),s.jsx(bB,{position:"bottom-right"})]})})}const ZTe=new oT("https://cool-otter-362.convex.cloud"),eL=document.getElementById("root");if(!eL)throw new Error("Root element not found");cT(eL).render(s.jsx(F.StrictMode,{children:s.jsx(lT,{client:ZTe,children:s.jsx(JTe,{})})}));export{Fr as _};
