var li=Object.defineProperty;var ni=(t,a,s)=>a in t?li(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var As=(t,a,s)=>ni(t,typeof a!="symbol"?a+"":a,s);import{c as di,p as ci,u as Le,a as Xt,j as e,M as oi,m as g,b as Zt,B as Ve,P as ce,S as js,d as xi,r as o,A as U,L as Ls,e as ds,X as R,f as Kt,C as fs,g as ee,h as me,T as _e,G as ht,i as xt,k as Xe,D as Ze,l as la,n as mi,U as ue,o as es,q as kt,I as mt,s as te,t as pe,v as Ke,w as be,x as L,y as na,z as ve,E as oe,F as W,H as hi,J as Ne,K as ui,N as ut,O as ws,Q as vs,R as Ns,V as cs,W as pi,Y as Je,Z as da,_ as we,$ as bi,a0 as Q,a1 as ts,a2 as Wt,a3 as ca,a4 as oa,a5 as xa,a6 as gi,a7 as ma,a8 as le,a9 as Pe,aa as ji,ab as fi,ac as wi,ad as Ds,ae as He,af as zs,ag as ge,ah as Z,ai as vi,aj as ys,ak as Ni,al as yi,am as ha,an as ua,ao as ki,ap as pa,aq as ba,ar as Ci,as as Si,at as Di,au as qs,av as zi,aw as Ge,ax as de,ay as os,az as Se,aA as Me,aB as Mi,aC as Fi,aD as pt,aE as Ti,aF as Ms,aG as _i,aH as ss,aI as ga,aJ as ja,aK as Pi,aL as as,aM as ze,aN as ot,aO as Ai,aP as fa,aQ as wa,aR as va,aS as ks,aT as Li,aU as qi,aV as Ri,aW as et,aX as Fs,aY as Ei,aZ as $i,a_ as Mt,a$ as Ft,b0 as Cs,b1 as Na,b2 as Ii,b3 as Oi,b4 as Bi,b5 as ya,b6 as Hi,b7 as Vi,b8 as Qi,b9 as De,ba as Ui,bb as tt,bc as ka,bd as Ae,be as Wi,bf as Ji,bg as Ca,bh as Ts,bi as Qt,bj as is,bk as _s,bl as Gi,bm as Sa,bn as Da,bo as Yi,bp as Xi,bq as dt,br as Ut,bs as he,bt as Zi,bu as Ki,bv as za,bw as er,bx as tr,by as sr,bz as Ps,bA as ar,bB as ir,bC as rr,bD as Tt,bE as lr,bF as Ma,bG as nr,bH as Fa,bI as dr,bJ as cr,bK as or,bL as Ta,bM as _a,bN as Pa,bO as Aa,bP as La,bQ as qa,bR as xr,bS as mr,bT as hr,bU as ur,bV as pr,bW as br,bX as gr,bY as Rs,bZ as jr,b_ as fr,b$ as wr,c0 as vr,c1 as Nr,c2 as Ra,c3 as Ea,c4 as yr,c5 as kr,c6 as Ss,c7 as V,c8 as Cr,c9 as Nt,ca as Sr}from"./vendor-D8wtgL34.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();const Ce=di()(ci(t=>({session:null,sidebarCollapsed:!1,tasks:[],notifications:[],unreadCount:0,theme:"dark",batches:[{id:"1",batchNumber:"LOT-TEST-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date().toISOString()}],companyInfo:null,users:[],roles:[{id:"1",name:"Administrateur",description:"Gestion complète de l'application"},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches"},{id:"3",name:"Opérateur",description:"Gestion des lots et des tâches quotidiennes"}],suppliers:[],purchases:[],setSession:a=>t({session:a}),setSidebarCollapsed:a=>t({sidebarCollapsed:a}),addNotification:a=>t(s=>{const r={...a,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};return{notifications:[...s.notifications,r],unreadCount:s.unreadCount+1}}),markAsRead:a=>t(s=>({notifications:s.notifications.map(r=>r.id===a?{...r,read:!0}:r),unreadCount:s.unreadCount-1})),markAllAsRead:()=>t(a=>({notifications:a.notifications.map(s=>({...s,read:!0})),unreadCount:0})),setTheme:a=>t({theme:a}),toggleTheme:()=>t(a=>({theme:a.theme==="dark"?"light":"dark"})),addBatch:a=>t(s=>({batches:[...s.batches,{...a,id:crypto.randomUUID()}]})),updateBatch:a=>t(s=>({batches:s.batches.map(r=>r.id===a.id?a:r)})),deleteBatch:a=>t(s=>({batches:s.batches.filter(r=>r.id!==a)})),setCompanyInfo:a=>t({companyInfo:a}),addUser:a=>t(s=>({users:[...s.users,{...a,id:crypto.randomUUID()}]})),updateUser:(a,s)=>t(r=>({users:r.users.map(i=>i.id===a?{...i,...s}:i)})),deleteUser:a=>t(s=>({users:s.users.filter(r=>r.id!==a)})),addRole:a=>t(s=>({roles:[...s.roles,{...a,id:crypto.randomUUID()}]})),updateRole:(a,s)=>t(r=>({roles:r.roles.map(i=>i.id===a?{...i,...s}:i)})),deleteRole:a=>t(s=>({roles:s.roles.filter(r=>r.id!==a)})),addSupplier:a=>t(s=>({suppliers:[...s.suppliers,{...a,id:crypto.randomUUID()}]})),updateSupplier:(a,s)=>t(r=>({suppliers:r.suppliers.map(i=>i.id===a?{...i,...s}:i)})),deleteSupplier:a=>t(s=>({suppliers:s.suppliers.filter(r=>r.id!==a)})),addPurchase:a=>t(s=>({purchases:[...s.purchases,{...a,id:crypto.randomUUID()}]})),updatePurchase:(a,s)=>t(r=>({purchases:r.purchases.map(i=>i.id===a?{...i,...s}:i)})),deletePurchase:a=>t(s=>({purchases:s.purchases.filter(r=>r.id!==a)})),resetSession:()=>t({session:null})}),{name:"oyster-cult-storage",partialize:t=>({companyInfo:t.companyInfo,users:t.users,batches:t.batches,theme:t.theme,roles:t.roles,suppliers:t.suppliers,purchases:t.purchases})})),Dr=({onShowMobileMenu:t,onToggleNotifications:a,onShowEmergency:s,onEmergencyClick:r,onToggleMessages:i})=>{const{unreadCount:l}=Ce(),n=Le(),x=Xt(),m=()=>{x.pathname!=="/dashboard"&&n("/dashboard")};return e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:e.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 md:px-6 lg:px-8 w-full transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.1) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",height:"92px"},children:[e.jsxs("div",{className:"flex items-center h-full",children:[e.jsxs("button",{className:`\r
              inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
              text-white/60 hover:text-white hover:bg-white/10\r
              p-2.5 relative group\r
              will-change-transform\r
            `,onClick:t,style:{transform:"translate3d(0,0,0)"},children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(oi,{className:"h-5 w-5 relative z-10"})]}),e.jsx("div",{className:"h-full w-px bg-gradient-to-b from-transparent via-white/10 to-transparent ml-2 hidden md:block",style:{transform:"translate3d(0,0,0)",height:"calc(100% - 16px)",marginTop:"8px",willChange:"transform"}})]}),e.jsx(g.div,{className:"absolute left-1/2 cursor-pointer hidden sm:block",style:{transform:"translate3d(-50%, 2px, 0)"},onClick:m,initial:!1,children:e.jsx(g.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:e.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[e.jsx(g.div,{className:"flex items-center justify-center relative mx-8",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:e.jsx("div",{className:"flex flex-col items-center relative",children:e.jsx("div",{style:{width:"4.5rem",height:"4rem",transform:"translateX(2px)"},className:"relative flex items-center justify-center",children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[e.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})})}),e.jsx(g.span,{className:"text-[4rem] relative",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased"},children:"OYSTER"}),e.jsx(g.span,{className:"text-[4rem] relative",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"1rem"},children:"CULT"})]})})}),e.jsx(g.div,{className:"absolute left-1/2 cursor-pointer sm:hidden",style:{transform:"translate3d(-50%, 2px, 0)"},onClick:m,initial:!1,children:e.jsx(g.div,{className:"logo flex flex-col items-center scale-[0.5] origin-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:e.jsxs("div",{className:"relative px-0 py-0 flex items-center scale-75",children:[e.jsx(g.div,{className:"flex items-center justify-center relative mx-8",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:e.jsx("div",{className:"flex flex-col items-center relative",children:e.jsx("div",{style:{width:"5rem",height:"5rem",transform:"translateX(2px)"},className:"relative flex items-center justify-center",children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[e.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})})}),e.jsx(g.span,{className:"text-[4rem] relative",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased"},children:"OYSTER"}),e.jsx(g.span,{className:"text-[4rem] relative",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"2rem"},children:"CULT"})]})})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:`\r
              inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
              text-white hover:text-white hover:bg-white/20\r
              px-3 py-2 text-sm\r
              relative group p-2 md:p-2.5\r
              will-change-transform\r
              shadow-lg shadow-white/5\r
              bg-white/10 backdrop-blur-sm border border-white/10\r
            `,onClick:i,style:{transform:"translate3d(0,0,0)"},"aria-label":"Messages",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(Zt,{className:"h-5 w-5 relative z-10 text-white"})]}),e.jsxs("button",{className:`\r
              inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
              text-white hover:text-white hover:bg-white/20\r
              px-3 py-2 text-sm\r
              relative group p-2 md:p-2.5\r
              will-change-transform\r
              shadow-lg shadow-white/5\r
              bg-white/10 backdrop-blur-sm border border-white/10\r
            `,onClick:a,style:{transform:"translate3d(0,0,0)"},"aria-label":"Notifications",children:[e.jsx("div",{className:"absolute inset-0 bg-amber-500/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(Ve,{className:"h-5 w-5 relative z-10 text-white"}),l>0&&e.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full text-[10px] flex items-center justify-center font-medium z-20 border border-white/30 shadow-lg shadow-red-500/30",children:l})]}),e.jsxs("button",{className:`\r
              inline-flex items-center justify-center font-medium rounded-full transition-colors\r
              text-white hover:text-white hover:bg-red-600\r
              p-2 md:p-2.5\r
              will-change-transform\r
              shadow-lg shadow-red-500/30\r
              bg-red-500 border-2 border-red-400\r
              relative\r
              animate-pulse\r
            `,onClick:r,style:{transform:"translate3d(0,0,0)"},"aria-label":"Téléphone d'urgence",children:[e.jsx("div",{className:"absolute inset-0 bg-red-500 rounded-full blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_15px_rgba(239,68,68,0.7)] animate-pulse"}),e.jsx(ce,{className:"h-5 w-5 text-white"})]}),e.jsx("div",{className:"h-full w-px bg-gradient-to-b from-transparent via-white/10 to-transparent hidden md:block",style:{transform:"translate3d(0,0,0)",height:"calc(100% - 16px)",marginTop:"8px",willChange:"transform"}}),e.jsxs("button",{className:`\r
              inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
              text-white hover:text-white hover:bg-white/20\r
              px-3 py-2 text-sm\r
              relative group p-2 md:p-2.5\r
              will-change-transform\r
              shadow-lg shadow-white/5\r
              bg-white/10 backdrop-blur-sm border border-white/10\r
            `,"aria-label":"Changer de thème",children:[e.jsx("div",{className:"absolute inset-0 bg-purple-500/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(js,{className:"h-5 w-5 text-amber-300 dark:opacity-0 dark:scale-0 transition-all"}),e.jsx(xi,{className:"absolute h-5 w-5 text-blue-300 opacity-0 scale-0 dark:opacity-100 dark:scale-100 transition-all"})]})]})]})})},zr=t=>({pulse:{boxShadow:[`0 0 4px ${t}`,`0 0 8px ${t}`,`0 0 4px ${t}`],transition:{duration:2.5,repeat:1/0,ease:"easeInOut"}}}),Mr={Principal:{color:"from-blue-500/30 to-blue-600/10",textColor:"text-blue-300"},"Gestion des stocks":{color:"from-green-500/30 to-green-600/10",textColor:"text-green-300"},Commercial:{color:"from-purple-500/30 to-purple-600/10",textColor:"text-purple-300"},Administration:{color:"from-amber-500/30 to-amber-600/10",textColor:"text-amber-300"},Paramètres:{color:"from-cyan-500/30 to-cyan-600/10",textColor:"text-cyan-300"}},Es=[{category:"Principal",items:[{path:"/dashboard",label:"Tableau de bord",icon:e.jsx(Kt,{size:22})},{path:"/tasks",label:"Tâches",icon:e.jsx(fs,{size:22})},{path:"/analyses",label:"Analyses",icon:e.jsx(ee,{size:22}),highlight:!0,color:"#0d9488"}]},{category:"Gestion des stocks",items:[{path:"/stocks",label:"Stocks",icon:e.jsx(me,{size:22}),badge:"Nouveau"},{path:"/traceability",label:"Traçabilité",icon:e.jsx(_e,{size:22})}]},{category:"Commercial",items:[{path:"/network",label:"Entre Pro",icon:e.jsx(ht,{size:22})},{path:"/suppliers",label:"Fournisseurs",icon:e.jsx(xt,{size:22})},{path:"/purchases",label:"Commandes",icon:e.jsx(Xe,{size:22}),color:"#3b82f6"},{path:"/sales",label:"Ventes",icon:e.jsx(Ze,{size:22})},{path:"/shop",label:"Boutique",icon:e.jsx(la,{size:22})}]},{category:"Administration",items:[{path:"/accounting",label:"Comptabilité",icon:e.jsx(mi,{size:22})},{path:"/hr",label:"Gestion RH",icon:e.jsx(ue,{size:22}),badge:"2 tâches",color:"rgb(160, 38, 72)"}]},{category:"Paramètres",items:[{path:"/config",label:"Configuration",icon:e.jsx(es,{size:22})},{path:"/profile",label:"Mon Espace",icon:e.jsx(kt,{size:22})}]}];function Fr({showMobileMenu:t,onCloseMobileMenu:a,onEmergencyClick:s,onToggleMessages:r,onToggleNotifications:i}){const l=Xt(),n=Le(),{setSession:x}=Ce(),[m,b]=o.useState(!1),[h,d]=o.useState(null),[c,p]=o.useState(null),[u,f]=o.useState(!1),j=()=>{x(null),n("/auth")},z=()=>{f(!0),b(!m),setTimeout(()=>f(!1),300)},S={hidden:{opacity:0,x:-20},visible:M=>({opacity:1,x:0,transition:{delay:M*.03+.1,duration:.3}})},y={expanded:{width:"260px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"72px",transition:{type:"spring",stiffness:300,damping:30}},mobileHidden:{transform:"translateX(-100%)",transition:{type:"spring",stiffness:400,damping:30}},mobileVisible:{transform:"translateX(0)",width:"85vw",maxWidth:"300px",transition:{type:"spring",stiffness:400,damping:30}}},w={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1,duration:.2}}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`
          fixed inset-0 z-40 backdrop-blur-sm bg-black/50 lg:hidden
          ${t?"opacity-100":"opacity-0 pointer-events-none"}
          transition-opacity duration-300
        `,onClick:a}),e.jsx(g.div,{className:`
          hidden lg:block fixed inset-y-0 left-0 z-[60] overflow-x-hidden
          transition-all duration-300 ease-in-out rounded-tr-3xl rounded-br-3xl
        `,initial:"collapsed",animate:window.innerWidth>=1024?m?"collapsed":"expanded":t?"mobileVisible":"mobileHidden",variants:y,style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs(g.div,{className:"p-6 flex items-center justify-between border-b border-white/10 relative overflow-hidden",initial:{opacity:0,transform:"translateY(-10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent opacity-50"}),e.jsx(U,{mode:"wait",children:m?e.jsx(g.div,{className:"flex items-center justify-center px-2 py-2 relative z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"collapsed-logo"):e.jsx(g.div,{className:"flex items-center justify-between px-4 py-2 relative z-10 w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"relative z-10"})})},"expanded-logo")}),e.jsx(g.button,{onClick:z,className:`
                rounded-lg hidden lg:flex items-center justify-center transition-all duration-300 relative z-10
                p-2.5 bg-white/15 hover:bg-white/25 border border-white/20
              `,whileHover:{scale:1.1},whileTap:{scale:.95},disabled:u,"aria-label":m?"Déplier la barre latérale":"Replier la barre latérale",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{style:{width:"30px",height:"30px",marginRight:"6px"},children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[e.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})}),m?e.jsxs("svg",{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M2 11H22",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),e.jsx("path",{d:"M16 3L22 11L16 19",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):e.jsxs("svg",{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M22 11H2",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),e.jsx("path",{d:"M8 3L2 11L8 19",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]})})]}),e.jsx("nav",{className:"flex-1 space-y-2 md:space-y-4 p-3 md:p-4 overflow-y-auto custom-scrollbar",children:Es.map((M,v)=>{const k=Mr[M.category];return e.jsxs(g.div,{className:"mb-8",initial:{opacity:0,transform:"translateY(20px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1+v*.05},onMouseEnter:()=>d(M.category),onMouseLeave:()=>d(null),children:[e.jsx(U,{children:!m&&e.jsxs(g.div,{className:"px-4 mb-3 relative rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},whileHover:{scale:1.02},children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${k.color} opacity-0 rounded-lg ${h===M.category?"opacity-30":""} transition-opacity duration-300`}),e.jsx("p",{className:`text-xs font-medium ${k.textColor} uppercase tracking-wider relative z-10`,children:M.category})]})}),e.jsx("div",{className:"space-y-2",children:M.items.map((D,B)=>{const E=l.pathname===D.path,se=D.color||(k.textColor.includes("blue")?"#3b82f6":k.textColor.includes("green")?"#10b981":k.textColor.includes("purple")?"#8b5cf6":k.textColor.includes("amber")?"#f59e0b":"#06b6d4");return e.jsx(g.div,{custom:B,variants:S,initial:"hidden",animate:"visible",whileHover:{scale:1.03,transition:{duration:.2}},onMouseEnter:()=>p(D.path),onMouseLeave:()=>p(null),children:e.jsxs(Ls,{to:D.path,className:`
                              relative flex items-center px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                              transition-all duration-200 ease-in-out overflow-hidden
                              ${E?"bg-white/10 text-white shadow-[0_0_12px_rgba(255,255,255,0.1)]":"text-white/70 hover:bg-white/8 hover:text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.07)]"}
                            `,style:{background:E?"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:E?"rgba(0, 0, 0, 0.3) 0px 4px 8px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset, rgba(0, 0, 0, 0.5) 0px 2px 4px inset, rgba(255, 255, 255, 0.1) 0px 0px 8px":"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset",border:"none",transform:E?"translateY(-1px)":"none"},children:[e.jsx("div",{className:`
                                relative z-10 transition-all duration-200
                                flex items-center justify-center w-7 h-7 rounded-full
                                ${D.highlight?"bg-[#0d9488] bg-opacity-20":""}
                                ${!E&&c===D.path?"shadow-[0_0_5px_rgba(255,255,255,0.4)] filter brightness-110":""}
                                transform hover:scale-110
                              `,style:{color:D.color||""},children:E?e.jsx(g.div,{animate:"pulse",variants:zr(se+"80"),className:"flex items-center justify-center",children:D.icon}):e.jsx("div",{className:c===D.path?"animate-pulse":"",children:D.icon})}),e.jsx(U,{children:!m&&e.jsxs(g.div,{className:"flex-1 flex items-center justify-between",children:[e.jsx(g.span,{className:`ml-2 md:ml-3 relative z-10 ${E?"font-medium":""} whitespace-nowrap`,variants:w,initial:"hidden",animate:"visible",exit:"hidden",children:D.label}),D.badge&&e.jsx(g.span,{className:"ml-auto bg-brand-burgundy text-white text-xs px-2 py-1 rounded-full",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1},children:D.badge})]})}),m&&e.jsx(U,{children:c===D.path&&e.jsxs(g.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{type:"spring",stiffness:350,damping:25},className:`
                                      absolute left-14 px-4 py-2 rounded-lg z-50
                                      text-sm font-medium whitespace-nowrap
                                      bg-gradient-to-r 
                                      ${k.color.replace("/30","/70").replace("/10","/40")} 
                                      backdrop-blur-sm border border-white/10
                                    `,style:D.color?{boxShadow:`0 0 10px ${D.color}50`,background:`linear-gradient(to right, ${D.color}30, ${D.color}05)`}:{},children:[e.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-2 h-2 rotate-45",style:{background:D.color?`${D.color}30`:k.textColor.includes("blue")?"rgba(59,130,246,0.3)":k.textColor.includes("green")?"rgba(16,185,129,0.3)":k.textColor.includes("purple")?"rgba(139,92,246,0.3)":k.textColor.includes("amber")?"rgba(245,158,11,0.3)":"rgba(6,182,212,0.3)"}}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white font-medium",children:D.label}),D.badge&&e.jsx("span",{className:"ml-2 bg-brand-burgundy text-white text-xs px-2 py-0.5 rounded-full",children:D.badge})]})]})}),E&&e.jsx(g.div,{className:"absolute left-0 w-1.5 h-8 rounded-r-md",style:{background:`linear-gradient(to bottom, ${D.color||(k.textColor.includes("blue")?"#3b82f6":k.textColor.includes("green")?"#10b981":k.textColor.includes("purple")?"#8b5cf6":k.textColor.includes("amber")?"#f59e0b":"#06b6d4")}, transparent)`},initial:{height:0},animate:{height:24},transition:{duration:.2}})]})},D.path)})})]},v)})}),e.jsxs(g.div,{className:"p-4 border-t border-white/10 space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:[e.jsxs(g.button,{onClick:s,className:`
                flex items-center justify-center px-4 py-2.5 bg-red-600 hover:bg-red-700 rounded-lg text-sm text-white transition-all duration-200
                relative group
              `,whileHover:{scale:1.03,y:-2},whileTap:{scale:.97,y:0},style:{background:"linear-gradient(135deg, rgba(220, 38, 38, 0.95) 0%, rgba(185, 28, 28, 0.85) 100%)",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.35), inset 0 1px 3px rgba(255, 255, 255, 0.2), rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px",border:"none"},children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),!m&&e.jsx("span",{children:"Appel d'urgence"})]}),!m&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[r&&e.jsx(g.button,{onClick:r,className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/15 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Messages",children:e.jsx(Zt,{className:"w-5 h-5 text-white"})}),i&&e.jsx(g.button,{onClick:i,className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/15 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Notifications",children:e.jsx(Ve,{className:"w-5 h-5 text-white"})})]}),e.jsx(g.button,{onClick:j,className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/15 transition-colors text-white/80 hover:text-white",whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Se déconnecter",children:e.jsx(ds,{className:"w-5 h-5"})})]}),m&&e.jsx(g.button,{onClick:j,className:"w-full flex items-center justify-center p-2.5 rounded-lg bg-white/10 hover:bg-white/15 transition-colors text-white/80 hover:text-white",whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Se déconnecter",children:e.jsx(ds,{className:"w-5 h-5"})})]})]})}),t&&e.jsx(g.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"fixed inset-0 z-50 bg-black/70 lg:hidden",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:e.jsx("div",{className:"absolute inset-y-0 left-0 w-full max-w-xs",children:e.jsx(g.div,{className:"h-full overflow-y-auto rounded-tr-3xl rounded-br-3xl",initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/10",children:[e.jsx("div",{className:"text-white font-medium",children:"Menu"}),e.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-white/10","aria-label":"Fermer le menu",children:e.jsx(R,{size:18})})]}),e.jsx("nav",{className:"flex-1 space-y-2 p-4 overflow-y-auto",children:Es.map((M,v)=>e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-xs font-medium text-white/70 uppercase tracking-wider px-4 mb-2",children:M.category}),e.jsx("div",{className:"space-y-1",children:M.items.map(k=>{const D=l.pathname===k.path;return e.jsxs(Ls,{to:k.path,className:`
                                flex items-center px-4 py-3 rounded-lg text-sm
                                ${D?"bg-white/20 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                              `,onClick:a,children:[e.jsx("div",{className:"mr-3",children:k.icon}),e.jsx("span",{children:k.label})]},k.path)})})]},v))}),e.jsxs("div",{className:"p-4 pt-2 border-t border-white/10",children:[e.jsxs("button",{onClick:()=>{s(),a()},className:"flex items-center justify-center w-full px-4 py-3 bg-red-600 rounded-lg text-white mb-4",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Appel d'urgence"})]}),e.jsxs("button",{onClick:j,className:"flex items-center justify-center w-full px-4 py-3 bg-white/10 rounded-lg text-white",children:[e.jsx(ds,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"Déconnexion"})]})]})]})})})})]})}const Tr=[{label:"Toutes",value:"all"},{label:"Non lues",value:"unread"},{label:"Importantes",value:"important"}];function _r({onClose:t}){const{notifications:a,markAsRead:s,markAllAsRead:r,unreadCount:i}=Ce(),[l,n]=o.useState("all"),[x,m]=o.useState(""),[b,h]=o.useState(!1);o.useState(null),o.useEffect(()=>{const c=p=>{p.key==="Escape"&&t()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t]),o.useEffect(()=>{const c=p=>{const u=document.querySelector(".notifications-panel"),f=document.querySelector('[data-notification-bell="true"]');f&&f.contains(p.target)||u&&!u.contains(p.target)&&t()};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[t]);const d=c=>{s(c)};return e.jsx(g.div,{className:"notifications-panel fixed inset-y-0 right-0 w-full max-w-md backdrop-blur-md shadow-2xl z-[9999] margin-top-65",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(5, 20, 43, 0.92) 0%, rgba(10, 120, 115, 0.88) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) -10px 0px 30px -5px, rgba(0, 0, 0, 0.3) -5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs(g.div,{className:"p-6 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(mt,{size:24,className:"text-brand-burgundy"}),i>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-burgundy rounded-full flex items-center justify-center text-xs text-white",children:i})]}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(!b),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(te,{size:20})}),e.jsx(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(R,{size:20})})]})]}),e.jsx(U,{children:b&&e.jsx(g.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"relative mt-4",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:x,onChange:c=>m(c.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all"})]})})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"flex space-x-2",children:Tr.map(c=>e.jsx(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(c.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${l===c.value?"bg-brand-burgundy text-white":"bg-white/5 text-white/60 hover:bg-white/10 hover:text-white"}`,children:c.label},c.value))}),e.jsx(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"text-sm text-brand-burgundy hover:text-brand-burgundy/80 transition-colors",children:"Tout marquer comme lu"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:e.jsx(U,{mode:"popLayout",children:a.filter(c=>l==="unread"?!c.read:l==="important"?c.important:!0).filter(c=>x?c.title.toLowerCase().includes(x.toLowerCase())||c.message.toLowerCase().includes(x.toLowerCase()):!0).map((c,p)=>e.jsx(g.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:p*.05},className:`p-4 transition-colors relative group ${c.read?"bg-transparent":"bg-white/5"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c.type==="alert"?"bg-red-500/20":c.type==="success"?"bg-green-500/20":c.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"}`,children:c.type==="alert"?e.jsx(pe,{className:"text-red-400",size:20}):c.type==="success"?e.jsx(Ke,{className:"text-green-400",size:20}):c.type==="warning"?e.jsx(pe,{className:"text-yellow-400",size:20}):e.jsx(mt,{className:"text-blue-400",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${c.type==="alert"?"text-red-400":c.type==="success"?"text-green-400":c.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:c.title}),e.jsx("p",{className:"text-sm text-white/70 mt-1",children:c.message})]}),!c.read&&e.jsx("div",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-white/40",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{size:14,className:"mr-1"}),L(new Date(c.timestamp),"PPp",{locale:W})]}),c.important&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{className:"text-brand-burgundy",children:"Important"})]})]})]})]}),e.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[!c.read&&e.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(c.id),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(na,{size:16})}),e.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(ve,{size:16})}),e.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5",children:e.jsx(oe,{size:16})})]})]})},c.id))})})]})})}const st=t=>{const a=o.useRef(null);return o.useEffect(()=>{const s=i=>{a.current&&!a.current.contains(i.target)&&t()},r=setTimeout(()=>{document.addEventListener("mousedown",s)},100);return()=>{clearTimeout(r),document.removeEventListener("mousedown",s)}},[t]),a},Pr=(t,a)=>{const[s,r]=o.useState(0),[i,l]=o.useState(0),[n,x]=o.useState(0),[m,b]=o.useState(!1);return{handlers:{onTouchStart:p=>{r(p.touches[0].clientY),l(Date.now())},onTouchMove:async p=>{if(m)return;const f=p.touches[0].clientY-s,j=Date.now()-i;if(f>100&&j<300&&t){b(!0);try{await t()}finally{b(!1)}}},onTouchEnd:p=>{const u=Date.now();u-n<300&&a&&a(),x(u)}},isRefreshing:m}},Ar={sm:"max-w-md",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function ke({isOpen:t,onClose:a,children:s,title:r,size:i="md",showCloseButton:l=!0,className:n=""}){const x=st(a);return o.useEffect(()=>{const m=b=>{b.key==="Escape"&&a()};return t&&(document.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.body.style.overflow="unset"}},[t,a]),e.jsx(U,{children:t&&e.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs(g.div,{ref:x,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`w-full ${Ar[i]} bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md rounded-lg shadow-xl ${n}`,children:[(r||l)&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[r&&e.jsx("h2",{className:"text-xl font-bold text-white",children:r}),l&&e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsx("div",{className:"p-6",children:s})]})})})]})})}function Lr({isOpen:t,onClose:a}){const[s,r]=o.useState(""),[i,l]=o.useState(""),[n,x]=o.useState(""),[m,b]=o.useState(8),[h,d]=o.useState(!0),[c,p]=o.useState(!1),[u,f]=o.useState(!1),j=[{id:"accident",label:"Accident de travail"},{id:"equipment",label:"Panne critique"},{id:"environmental",label:"Incident environnemental"},{id:"security",label:"Problème de sécurité"},{id:"boatIssue",label:"Panne en mer"}],z=[{name:"SAMU",number:"15",type:"medical"},{name:"Pompiers",number:"18",type:"fire"},{name:"Police",number:"17",type:"security"},{name:"Numéro d'urgence européen",number:"112",type:"all"},{name:"CROSS",number:"196",type:"sea"}];o.useEffect(()=>{let v;return t&&h&&m>0?v=setTimeout(()=>{b(k=>k-1)},1e3):m===0&&(f(!0),d(!1)),()=>{v&&clearTimeout(v)}},[t,m,h]),o.useEffect(()=>{t&&(b(8),d(!0),p(!1),f(!1))},[t]);const S=o.useCallback(()=>{d(!1),p(!0)},[]),y=o.useCallback(()=>{f(!0),r("boatIssue")},[]),w=o.useCallback(()=>{f(!0)},[]),M=o.useCallback(()=>{f(!1),a()},[a]);return u?e.jsxs("div",{className:"fixed inset-0 bg-red-900 z-50 flex flex-col items-center justify-center p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-white mb-4",children:s==="boatIssue"?e.jsx(hi,{className:"text-red-600 h-12 w-12"}):e.jsx(pe,{className:"text-red-600 h-12 w-12"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s==="boatIssue"?"Appel d'aide en mer envoyé":"Appel d'urgence activé"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:s==="boatIssue"?"Une notification a été envoyée aux producteurs à proximité et aux services de secours. Quelqu'un viendra vous prêter main forte rapidement.":"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),e.jsxs("div",{className:"p-6 bg-white/10 rounded-lg max-w-2xl w-full mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ne,{className:"text-white mr-3",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Localisation"}),e.jsx("p",{className:"text-white/70",children:n||"Position GPS transmise automatiquement"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"text-white mr-3",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Heure de l'appel"}),e.jsx("p",{className:"text-white/70",children:new Date().toLocaleTimeString()})]})]})]}),e.jsx("button",{onClick:M,className:"px-8 py-3 bg-white text-red-600 rounded-lg font-bold hover:bg-white/90 transition-colors",children:"Fermer"})]}):e.jsx(ke,{isOpen:t,onClose:a,title:"Appel d'Urgence",size:"xl",showCloseButton:!1,className:"!bg-gradient-to-br !from-red-900/95 !to-brand-dark/95",children:e.jsxs("div",{className:"space-y-6",children:[h&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-white text-lg mb-2",children:"Appel automatique dans :"}),e.jsx("div",{className:"flex justify-center items-center mb-4",children:e.jsx("div",{className:"flex items-center justify-center bg-red-500 text-white w-16 h-16 rounded-full text-3xl font-bold",children:m})}),e.jsx("button",{onClick:S,className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Arrêter le compte à rebours"})]}),c&&e.jsx("div",{className:"mb-6 p-4 border border-red-500/30 rounded-lg bg-red-500/10",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ui,{className:"text-red-500 mr-3 mt-1",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"En panne en mer ?"}),e.jsx("p",{className:"text-white/70 mb-4",children:"Vous êtes en panne en mer avec votre bateau ? Cliquez ici pour envoyer un appel d'aide immédiat. Une notification sera envoyée aux producteurs à proximité, et quelqu'un viendra rapidement vous prêter main forte."}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Je suis en panne"})]})]})}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Numéros d'urgence"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:z.map(v=>e.jsxs("a",{href:`tel:${v.number}`,className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx(ce,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:v.name}),e.jsx("div",{className:"text-red-400 text-lg font-bold",children:v.number})]})]},v.number))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type d'urgence"}),e.jsxs("select",{value:s,onChange:v=>r(v.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Sélectionner le type d'urgence"}),j.map(v=>e.jsx("option",{value:v.id,children:v.label},v.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description de l'urgence"}),e.jsx("textarea",{value:i,onChange:v=>l(v.target.value),rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Décrivez la situation d'urgence..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Localisation"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"text",value:n,onChange:v=>x(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Précisez l'emplacement..."})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Signaler l'urgence"})]})]})})}function G({variant:t="primary",size:a="md",fullWidth:s=!1,className:r="",children:i,...l}){const n="inline-flex items-center justify-center font-medium rounded-lg transition-colors",x={primary:"bg-brand-primary text-white hover:bg-brand-primary/90",secondary:"bg-white/10 text-white hover:bg-white/20",outline:"border border-white/10 text-white hover:bg-white/5",ghost:"text-white/60 hover:text-white hover:bg-white/5"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return e.jsx("button",{...l,className:`
        ${n}
        ${x[t]}
        ${m[a]}
        ${s?"w-full":""}
        ${r}
      `,children:i})}function qr(){const[t,a]=o.useState([]);return e.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.jsx(U,{children:t.map(s=>e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg p-4 max-w-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),e.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{a(r=>r.filter(i=>i.id!==s.id))},children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.message})]},s.id))})})}const Rr={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3}}},$s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};function Er(){const t=Le(),a=()=>{localStorage.setItem("isAuthenticated","true"),t("/dashboard")};return e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",minHeight:"100vh"},children:e.jsxs("div",{className:"relative min-h-screen flex flex-col items-center justify-center p-4",children:[e.jsx(g.div,{initial:"hidden",animate:"visible",variants:Rr,className:"text-center max-w-5xl mx-auto px-4 mb-8",style:{transform:"translate3d(0, 0, 0)",willChange:"transform",backfaceVisibility:"hidden",perspective:1e3,WebkitFontSmoothing:"antialiased"},children:e.jsx(g.div,{variants:$s,className:"text-center",children:e.jsx(g.div,{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsxs(g.h1,{variants:$s,className:"flex flex-col items-center text-white whitespace-nowrap",children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("span",{className:"text-[10rem] md:text-[12rem]",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.08em",display:"block",lineHeight:"0.8",transform:"translate3d(0, -4rem, 0)",willChange:"transform",backfaceVisibility:"hidden"},children:"O Y S T E R"})}),e.jsx("div",{className:"flex items-center justify-center",style:{transform:"translate3d(0, -2.75rem, 0)",willChange:"transform",backfaceVisibility:"hidden"},children:e.jsxs("div",{className:"flex items-center",style:{transform:"translate3d(2.9rem, 0, 0)",willChange:"transform",backfaceVisibility:"hidden"},children:[e.jsxs("div",{className:"flex flex-col items-center text-white relative",children:[e.jsx("div",{className:"absolute",style:{top:"-6rem",left:"-6rem",width:"12rem",height:"12rem"},children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M15 20 Q25 14, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"5.5",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 40 Q25 34, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"5.5",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 60 Q25 54, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"5.5",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M15 80 Q25 74, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"5.5",strokeLinecap:"round",fill:"none"})]})}),e.jsx("svg",{width:"180",height:"1",viewBox:"0 0 100 1",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"translate3d(-8%, 0, 0)",willChange:"transform",backfaceVisibility:"hidden",opacity:.6},children:e.jsx("g",{children:e.jsx("path",{d:"M5 0.5 Q20 0, 30 0.5 T55 0.5 T80 0.5 T105 0.5 T130 0.5",stroke:"white",strokeWidth:.03,strokeLinecap:"round",fill:"none"})})})]}),e.jsx("span",{className:"text-[10.5rem] md:text-[12.5rem] text-white",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:400,letterSpacing:"0.1em",lineHeight:"0.8",display:"block",transform:"translate3d(-1.7rem, 0rem, -30cm)",willChange:"transform",backfaceVisibility:"hidden"},children:"C U L T"})]})})]})})})})},"logo"),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md mt-12",children:e.jsxs("div",{className:"w-full max-w-md p-8 rounded-2xl bg-gray-800/50 backdrop-blur-xl border border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-light text-white mb-6 text-center tracking-wide",children:"Pour les pros, par les pros."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-1",children:"Email"}),e.jsx("input",{type:"email",className:"w-full px-4 py-2 rounded-lg bg-gray-700/50 text-white border border-gray-600",readOnly:!0,value:"demo@oystercult.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-1",children:"Mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 rounded-lg bg-gray-700/50 text-white border border-gray-600",readOnly:!0,value:"demo123"})]}),e.jsx("button",{onClick:a,className:"w-full py-3 px-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-center font-medium transition-colors",children:"Accéder à la démo"})]})]})})]})})}const fe={temperature:18,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:12,forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9},{time:"18:00",temp:17,windSpeed:20,windDirection:310,waveHeight:1},{time:"21:00",temp:16,windSpeed:16,windDirection:305,waveHeight:.9}]},$r=t=>{const a=["N","NE","E","SE","S","SO","O","NO"],s=Math.round(t/45)%8;return a[s]},Ir=({condition:t})=>{switch(t){case"sunny":return e.jsx(js,{className:"w-12 h-12 text-yellow-400"});case"cloudy":return e.jsx(Ns,{className:"w-12 h-12 text-white/60"});case"rainy":return e.jsx(bi,{className:"w-12 h-12 text-blue-400"});case"partly-cloudy":return e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"w-12 h-12 text-yellow-400"}),e.jsx(Ns,{className:"w-8 h-8 text-white/60 absolute -bottom-2 -right-2"})]})}},Rt=({title:t,icon:a,children:s,className:r})=>{const[i,l]=Q.useState(!1);return e.jsxs(g.div,{className:`
        bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
        -webkit-backdrop-filter backdrop-filter backdrop-blur-[20px]
        rounded-lg p-4 
        shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
        transition-all duration-200 relative overflow-hidden
        ${i?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
        ${r||""}
      `,onHoverStart:()=>l(!0),onHoverEnd:()=>l(!1),whileHover:{y:-4,transition:{duration:.2}},children:[e.jsx(g.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.05)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:i?1:0},transition:{duration:.2}}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3 relative z-10",children:[e.jsx("div",{className:"text-cyan-400",children:a}),e.jsx("h3",{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent font-medium",children:t})]}),e.jsx("div",{className:"relative z-10",children:s})]})};function Or(){return e.jsxs("div",{className:"weather-widget",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{size:20,className:"text-cyan-400 mr-2"}),e.jsx("h2",{className:"text-lg font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Météo & Conditions Maritimes"})]}),e.jsx("div",{className:"text-sm text-white/60",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-2 flex flex-col space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)] -webkit-backdrop-filter backdrop-filter backdrop-blur-[20px] rounded-lg p-4 shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ir,{condition:fe.conditions}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-white",children:[fe.temperature,"°C"]}),e.jsx("div",{className:"text-white/60",children:"Partiellement nuageux"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Min/Max"}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ws,{className:"w-3 h-3 text-blue-400 mr-1"}),e.jsx("span",{className:"text-white",children:"16°"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"w-3 h-3 text-red-400 mr-1"}),e.jsx("span",{className:"text-white",children:"19°"})]})]})]})]})}),e.jsxs("div",{className:"relative rounded-lg p-4 overflow-hidden bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)] backdrop-blur-[20px] shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset] transition-all duration-200 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3 relative z-10",children:[e.jsx("div",{className:"text-cyan-400",children:e.jsx(Ns,{size:18})}),e.jsx("h3",{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent font-medium",children:"Prévisions"})]}),e.jsx("div",{className:"weather-widget",children:e.jsx("div",{className:"weather-forecast",children:fe.forecast.map((t,a)=>e.jsxs("div",{className:"forecast-item",children:[e.jsx("div",{className:"forecast-time",children:t.time}),e.jsxs("div",{className:"forecast-temp",children:[t.temp,"°"]}),e.jsxs("div",{className:"forecast-wind",children:[e.jsx(cs,{className:"weather-icon",size:14,style:{transform:`rotate(${t.windDirection}deg)`}}),e.jsx("span",{className:"forecast-wind-speed",children:t.windSpeed})]}),e.jsxs("div",{className:"forecast-wave",children:[t.waveHeight,"m"]})]},a))})})]})]}),e.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[e.jsx(Rt,{title:"Conditions du vent",icon:e.jsx(pi,{size:18}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Vitesse"}),e.jsxs("div",{className:"text-base font-medium text-white",children:[fe.windSpeed," km/h"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Rafales"}),e.jsxs("div",{className:"text-base font-medium text-white",children:[fe.windGust," km/h"]})]}),e.jsxs("div",{className:"col-span-2 mt-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Direction"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(cs,{className:"text-cyan-400 mr-2",size:16,style:{transform:`rotate(${fe.windDirection}deg)`}}),e.jsx("span",{className:"text-base font-medium text-white",children:$r(fe.windDirection)})]})]})]})}),e.jsx(Rt,{title:"État de la mer",icon:e.jsx(Je,{size:18}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Hauteur vagues"}),e.jsxs("div",{className:"text-base font-medium text-white",children:[fe.waveHeight," m"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Direction"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(cs,{className:"text-cyan-400 mr-2",size:16,style:{transform:`rotate(${fe.waveDirection}deg)`}}),e.jsx("span",{className:"text-base font-medium text-white",children:"Nord-Est"})]})]})]})}),e.jsx(Rt,{title:"Marées",icon:e.jsx(da,{size:18}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Niveau actuel"}),e.jsxs("div",{className:"text-base font-medium text-white",children:[fe.tideLevel," m"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(vs,{className:"w-3 h-3 mr-1 text-cyan-400"}),"Prochaine marée haute"]}),e.jsx("div",{className:"text-base font-medium text-white",children:fe.nextHighTide})]}),e.jsxs("div",{className:"col-span-2 mt-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(ws,{className:"w-3 h-3 mr-1 text-cyan-400"}),"Prochaine marée basse"]}),e.jsx("div",{className:"text-base font-medium text-white",children:fe.nextLowTide})]})]})}),e.jsx(Rt,{title:"Conditions",icon:e.jsx(we,{size:18}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Humidité"}),e.jsxs("div",{className:"text-base font-medium text-white",children:[fe.humidity,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Visibilité"}),e.jsxs("div",{className:"text-base font-medium text-white",children:[fe.visibility," km"]})]}),e.jsxs("div",{className:"col-span-2 mt-1",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Qualité de l'eau"}),e.jsxs("div",{className:"text-base font-medium text-white flex items-center",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-emerald-400 mr-2"}),"Excellente"]})]})]})})]})]})]})}const Br=({value:t,maxValue:a=100,color:s})=>{const r=Math.min(100,Math.round(t/a*100));return e.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${r}%`,backgroundColor:s}})})},Is={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)",transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,transform:"translateY(30px)"}}};function Hr({table:t,onClose:a}){const s=st(a),r=t.alert||t.timeProgress>100;return e.jsx(g.div,{...Is.overlay,className:"fixed inset-0 flex items-center justify-center p-4 bg-black/50",style:{zIndex:100},onClick:a,children:e.jsxs(g.div,{ref:s,...Is.content,onClick:i=>i.stopPropagation(),className:"w-full max-w-3xl rounded-2xl shadow-2xl border border-white/10 backdrop-blur-sm",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color",zIndex:101},children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-white/60",children:t.type})]}),e.jsx("button",{className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10",onClick:a,"aria-label":"Fermer",children:e.jsx(R,{size:20})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[t.currentSize&&t.targetSize&&e.jsxs(g.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.4},className:"glass-effect rounded-xl p-6 space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[e.jsx(Kt,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]})}),e.jsxs("div",{className:"relative py-6",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-white/10"}),e.jsx("div",{className:"flex justify-between relative",children:["T15","N°5","N°4","N°3","N°2","N°1"].map((i,l)=>{const n=l*20,x=Vr(t.currentSize)>=n,m=i===t.targetSize;return e.jsxs("div",{className:"flex flex-col items-center",children:[i==="N°3"?e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 mb-2 relative ring-4 ring-blue-500/50 shadow-lg shadow-blue-500/50 ring-white animate-pulse"})}):e.jsx("div",{className:`w-5 h-5 rounded-full ${m?"ring-2 ring-offset-2 ring-offset-blue-900/50 ring-blue-400":""} ${x?"bg-blue-500":"bg-white/20"} mb-2`}),e.jsx("span",{className:`text-xs ${x?"text-white":"text-white/40"} ${m?"font-bold":""} ${i==="N°3"?"font-medium":""}`,children:i})]},i)})}),e.jsxs("div",{className:"mt-6 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 mb-2",children:[e.jsx("span",{children:"Temps d'élevage"}),e.jsx("span",{className:"text-white",children:xs(t.startDate,t.harvest,t.name)})]}),e.jsxs("div",{className:"relative h-3 bg-white/10 rounded-full overflow-hidden",children:[e.jsx(g.div,{initial:{width:0},animate:{width:`${Math.min(t.timeProgress,100)}%`},transition:{duration:1,ease:"easeOut"},className:`absolute top-0 left-0 h-full ${r?"bg-red-500":"bg-blue-500"}`}),t.timeProgress>100&&e.jsx(g.div,{initial:{width:0},animate:{width:`${Math.min(t.timeProgress-100,100)}%`},transition:{duration:1,ease:"easeOut",delay:.5},className:"absolute top-0 left-0 h-full bg-red-500 opacity-60",style:{left:"100%"}})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",children:[e.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[e.jsx("div",{className:"text-white/60",children:"Début"}),e.jsx("div",{className:"text-white font-medium",children:"T15"}),e.jsx("div",{className:"text-sm font-medium text-white/70",children:xs(t.startDate,t.harvest,t.name)})]}),e.jsx(ts,{size:16,className:"text-white/40"}),e.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[e.jsx("div",{className:"text-white/60",children:"Récolte prévue pour"}),e.jsx("div",{className:"text-white font-medium",children:Qr(t.name)})]})]})]})]}),e.jsxs(g.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.6},className:"glass-effect rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[e.jsx(Je,{size:18,className:"mr-2 text-blue-400"}),"État global de la table"]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative w-40 h-40",children:[e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),e.jsx(g.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:t.color||"#3b82f6",strokeWidth:"8",strokeDasharray:"283",initial:{strokeDashoffset:283},animate:{strokeDashoffset:283-283*t.value/100},transition:{duration:1.5,ease:"easeOut"},strokeLinecap:"round",transform:"rotate(-90 50 50)"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs("span",{className:"text-3xl font-bold text-white",children:[t.value,"%"]}),e.jsx("span",{className:"text-xs text-white/60",children:"Occupation"})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("span",{className:"text-white/80 block",children:["Capacité de la table ",t.name==="Table A1"&&t.value>=90?"(presque pleine)":t.value<=20?"(presque vide)":""]})})]}),e.jsxs("div",{className:"space-y-4",children:[t.mortality>0&&e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("div",{className:"text-white/80",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(pe,{size:16,className:"mr-1 text-red-400"}),"Taux de mortalité"]})}),e.jsxs("div",{className:`text-sm font-medium ${t.mortality<=15?"text-green-400":t.mortality<=20?"text-yellow-400":"text-red-400"}`,children:[t.mortality,"%"]})]}),e.jsx(Br,{value:t.mortality,maxValue:30,color:t.mortality<=15?"#22c55e":t.mortality<=20?"#eab308":"#ef4444"}),e.jsx("div",{className:"text-xs text-white/60 mt-1",children:t.mortality<=15?"Taux normal":t.mortality<=20?"Surveillance recommandée":"Situation critique - Action requise!"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("div",{className:"text-white/80",children:"Durée d'élevage"}),e.jsx("div",{className:"text-sm font-medium text-white",children:xs(t.startDate,t.harvest,t.name)})]}),e.jsx("div",{className:"text-xs text-white/60",children:t.name!=="Table A1"?e.jsx(e.Fragment,{children:"Depuis le 01/01/2024"}):e.jsxs(e.Fragment,{children:["Depuis le ",t.startDate]})})]})]})]})]}),e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.8},className:"flex justify-end space-x-3",children:e.jsx("button",{onClick:a,className:"px-6 py-2.5 rounded-lg bg-white/10 hover:bg-white/20 text-white/90 hover:text-white transition-colors",children:"Fermer"})})]})]})})}function Vr(t){switch(t){case"T15":return 0;case"N°5":return 20;case"N°4":return 40;case"N°3":return 60;case"N°2":return 80;case"N°1":return 100;default:return 0}}function xs(t,a,s){switch(s){case"Table A1":return"11 mois et 18 jours";case"Table A2":return"2 mois et 2 jours";case"Table B1":return"2 mois et 12 jours";default:return"N/A"}}function Qr(t){switch(t){case"Table A2":return"01/01/2025";case"Table B1":return"01/01/2025";case"Table A1":return"15/05/2025";default:return"Non définie"}}const ct={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},item:{initial:{opacity:0,y:15},animate:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5,ease:[.19,1,.22,1]}})}},Et=({icon:t,label:a,value:s,unit:r="",subValue:i="",colorClass:l="text-white",index:n})=>e.jsxs(g.div,{custom:n,variants:ct.item,initial:"initial",animate:"animate",whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"relative bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 shadow-lg",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center border border-white/5 shadow-inner",children:t}),e.jsx("div",{className:"text-white/70",children:a})]}),e.jsx("div",{className:`text-xl font-bold mt-2 ${l}`,children:typeof s=="number"||typeof s=="string"?e.jsxs(e.Fragment,{children:[s,r&&e.jsx("span",{className:"text-sm font-normal text-white/50 ml-1",children:r})]}):s}),i&&e.jsx("div",{className:"text-sm text-white/50 mt-1",children:i})]}),Ur=({name:t,weight:a,timeRemaining:s,index:r})=>e.jsxs(g.div,{custom:r+5,variants:ct.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center mr-3 border border-white/10",children:e.jsx(ma,{size:18,className:"text-blue-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:t}),e.jsx("div",{className:"text-sm text-white/60",children:a})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-medium",children:s}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]});function Wr({pool:t,onClose:a}){const s=st(a);Math.round(t.oxygen/100*50+(1-Math.abs(t.temperature-15)/10)*25+(1-Math.abs(t.ph-8)/1)*25);const r=[{name:"LOT-2025-001",weight:"500 kg (Huîtres N°3)",timeRemaining:"12h"},{name:"LOT-2025-002",weight:"300 kg (Huîtres N°2)",timeRemaining:"24h"}];return e.jsx(g.div,{...ct.overlay,className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:e.jsxs(g.div,{ref:s,...ct.content,className:"bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)] rounded-2xl overflow-hidden max-w-3xl w-full max-h-[90vh] overflow-y-auto relative z-10 border border-white/10 shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-white/60",children:"Bassin de purification"})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10","aria-label":"Fermer",children:e.jsx(R,{size:20})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs(g.div,{variants:ct.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Stock dans le bassin"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsx("div",{className:"col-span-1 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"relative w-40 h-40",children:[e.jsx(Wt,{width:"100%",height:"100%",children:e.jsx(ca,{children:e.jsx(oa,{data:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,paddingAngle:2,dataKey:"value",startAngle:90,endAngle:-270,stroke:"none",children:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}].map((i,l)=>e.jsx(xa,{fill:i.color},`cell-${l}`))})})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:e.jsx("div",{className:"text-2xl font-bold text-white",children:"26.7%"})})]})}),e.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[e.jsx(Et,{icon:e.jsx(ut,{size:20,className:"text-brand-burgundy"}),label:"Température",value:12.5,unit:"°C",index:0}),e.jsx(Et,{icon:e.jsx(gi,{size:20,className:"text-brand-burgundy"}),label:"Oxygène dissous",value:87,unit:"%",index:1}),e.jsx(Et,{icon:e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0d9488] flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),label:"Huîtres N°3",value:500,unit:"kg",index:2}),e.jsx(Et,{icon:e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#3b82f6] flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),label:"Huîtres N°2",value:300,unit:"kg",index:3})]})]}),e.jsx("div",{className:"mt-5",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:e.jsx(we,{size:20,className:"text-cyan-400"})}),e.jsx("div",{className:"text-white/70",children:"Dernier nettoyage"}),e.jsxs("div",{className:"text-white font-medium ml-auto",children:["12 mars 2025 ",e.jsx("span",{className:"text-sm text-white/50",children:"(il y a 1 jour)"})]})]})}),e.jsxs("div",{className:"h-48 w-full bg-gradient-to-br from-[#071a40]/95 to-[#0a2858]/95 rounded-xl overflow-hidden shadow-2xl border border-blue-900/20 relative mt-6",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-white/30 to-transparent z-10"}),e.jsxs("div",{className:"relative h-full w-full",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),e.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),e.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),e.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"0 0 20px rgba(37, 99, 235, 0.2)"}}),e.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),e.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),e.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:e.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})]})]}),e.jsxs(g.div,{variants:ct.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(ma,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Lots en purification"]}),e.jsx("div",{className:"space-y-3",children:r.map((i,l)=>e.jsx(Ur,{name:i.name,weight:i.weight,timeRemaining:i.timeRemaining,index:l},i.name))})]})]}),e.jsx("div",{className:"flex justify-end mt-6 space-x-3",children:e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}const Jr={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function Re({icon:t,title:a}){return e.jsxs(g.div,{variants:Jr,className:"flex items-center mb-8 mt-6 pt-4",children:[e.jsxs("div",{className:"relative mr-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),e.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:t})]}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:a})]})}const Gr=({table:t,isHovered:a,onHoverStart:s,onHoverEnd:r,onClick:i})=>(t.alert||t.timeProgress>100,e.jsxs(g.div,{className:`
        relative rounded-lg p-4 overflow-hidden
        bg-[rgba(0,40,80,0.2)]
        shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
        cursor-pointer transition-all duration-200
      `,onHoverStart:s,onHoverEnd:r,onClick:i,style:{transform:a?"scale(1.02)":"none"},children:[e.jsx(g.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:a?1:0}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:t.value===100?"#22c55e":"#eab308"}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:t.name}),e.jsx("div",{className:"text-xs text-white/70",children:t.plates})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-semibold text-white",children:[t.value,"%"]}),e.jsx("div",{className:"text-xs text-white/70",children:"occupée"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,n)=>{if(t.value===100)return e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},n);if(t.name==="Table A1"){const x=Math.floor(t.value/100*8),m=t.value/100*8%1,b=n-1;return n===0?e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},n):n===9?e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},n):b>=8-x?e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},n):b===7-x&&m>0?e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:e.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${m*100}%`}})},n):e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},n)}return e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:n===0||n===9?0:n-1<Math.floor(t.value/100*8)?1:0}},n)})}),e.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,n)=>{if(t.value===100)return e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${n}`);if(t.name==="Table A1"){const x=Math.floor(t.value/100*8),m=t.value/100*8%1,b=n-1;return n===0?e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${n}`):n===9?e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${n}`):b>=8-x?e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${n}`):b===7-x&&m>0?e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:e.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${m*100}%`}})},`second-${n}`):e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${n}`)}return e.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:n===0||n===9?0:n-1<Math.floor(t.value/100*8)?1:0}},`second-${n}`)})})]}),e.jsx("div",{className:"flex items-center justify-between mt-3",children:e.jsx("div",{className:"text-xs text-white/70",children:t.value>0&&t.mortality>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium",children:"Mortalité :"})," ",t.mortality,"%"]})})}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-3",children:[t.harvest&&e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(le,{className:"w-4 h-4 mr-1 text-cyan-400"}),e.jsxs("span",{children:["Récolte: ",t.harvest]})]}),t.mortality>0&&t.value>0&&e.jsxs("div",{className:"flex items-center text-yellow-400",children:[e.jsx(pe,{className:"w-4 h-4 mr-1"}),t.mortality,"% mortalité"]})]})]})]})),Yr=[{name:"Table A1",value:72,color:"#22c55e",type:"Huîtres creuses",plates:"N°3",harvest:"En cours",mortality:15,currentSize:"3.2cm",targetSize:"4.5cm",timeProgress:65,startDate:"10/01/24",status:"En cours"},{name:"Table A2",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°4",harvest:"01/01/2026",mortality:8,currentSize:"T15",targetSize:"4.2cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B1",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°2",harvest:"01/01/2026",mortality:12,currentSize:"T15",targetSize:"4.8cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B2",value:0,color:"#22c55e",type:"",plates:"",harvest:"",mortality:0,currentSize:"",targetSize:"",timeProgress:0,startDate:"",status:"Vide"}],Xr=[{id:"pool-a1",name:"Bassin A1",status:"Optimal",temperature:12.5,oxygen:95,salinity:32.4,ph:8.1,lastCheck:"08:30",alert:!1},{id:"pool-a2",name:"Bassin A2",status:"Bon",temperature:13.2,oxygen:88,salinity:31.9,ph:8,lastCheck:"08:35",alert:!1,stock:{mussels:500,urchins:100}}],Ie=[{name:"Bassin A1",value:80,color:"#22c55e",type:"Purification",capacity:1e3,currentLoad:800,products:[{name:"Plates",quantity:500,unit:"kg",color:"#22c55e"},{name:"Creuses",quantity:300,unit:"kg",color:"#eab308"}],waterQuality:{quality:98,oxygen:95,temperature:12.5}},{name:"Bassin A2",value:65,color:"#eab308",type:"Purification",capacity:1e3,currentLoad:650,products:[{name:"Moules",quantity:500,unit:"kg",color:"#22c55e"},{name:"Oursins",quantity:100,unit:"dz",color:"#eab308"}],waterQuality:{quality:92,oxygen:88,temperature:13.2}}],re={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},Zr={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},$t={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function Kr(){const[t,a]=o.useState(null),[s,r]=o.useState(null),[i,l]=o.useState(null),[n,x]=o.useState(null);return e.jsxs(g.div,{initial:"hidden",animate:"visible",variants:Zr,className:"space-y-6",children:[e.jsx(Re,{icon:e.jsx(Kt,{size:28,className:"text-white"}),title:"Tableau de bord"}),e.jsx(g.div,{variants:$t,className:"mb-6 w-full",children:e.jsx(Or,{})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[e.jsxs(g.div,{variants:$t,className:`${re.container} ${re.hoverEffect} p-5 space-y-4`,children:[e.jsx("h2",{className:re.heading,children:"Statistiques globales"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:re.subheading,children:"Taux production"}),e.jsx("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:"+4.2%"})]}),e.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"97.8%"}),e.jsx("div",{className:re.progressBar,children:e.jsx(g.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:"97.8%"},transition:{duration:1,ease:"easeOut"}})})]}),e.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:re.subheading,children:"Santé moyenne"}),e.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),e.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"92.3%"}),e.jsx("div",{className:re.progressBar,children:e.jsx(g.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"92.3%"},transition:{duration:1,ease:"easeOut"}})})]}),e.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:re.subheading,children:"Taux mortalité"}),e.jsx("div",{className:"bg-yellow-500/20 text-yellow-300 text-xs px-2 py-1 rounded-full",children:"-0.5%"})]}),e.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"2.5%"}),e.jsx("div",{className:re.progressBar,children:e.jsx(g.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-400",initial:{width:0},animate:{width:"25%"},transition:{duration:1,ease:"easeOut"}})})]}),e.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:re.subheading,children:"Récolte prévue"}),e.jsx("div",{className:"bg-purple-500/20 text-purple-300 text-xs px-2 py-1 rounded-full",children:"15 jours"})]}),e.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"4.8t"}),e.jsx("div",{className:re.progressBar,children:e.jsx(g.div,{className:"h-full bg-gradient-to-r from-purple-500 to-pink-400",initial:{width:0},animate:{width:"80%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),e.jsxs(g.div,{variants:$t,className:`${re.container} ${re.hoverEffect} p-5`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h2",{className:re.heading,children:"Occupation des tables"}),e.jsx("div",{className:"text-sm text-white/60",children:"3 tables actives"})]}),e.jsx("div",{className:"space-y-4",children:Yr.map((m,b)=>e.jsx(Gr,{table:m,isHovered:t===m.name,onHoverStart:()=>a(m.name),onHoverEnd:()=>a(null),onClick:()=>l(m)},b))})]}),e.jsxs(g.div,{variants:$t,className:`${re.container} ${re.hoverEffect} p-5`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h2",{className:re.heading,children:"Santé des bassins"}),e.jsx("div",{className:"text-sm text-white/60",children:"2 bassins actifs"})]}),e.jsx("div",{className:"space-y-4",children:Xr.map((m,b)=>{var h,d,c,p,u,f,j,z;return e.jsxs(g.div,{className:`
                  relative rounded-lg p-4 overflow-hidden
                  bg-[rgba(0,40,80,0.2)]
                  shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
                  cursor-pointer transition-all duration-200
                  ${s===m.name?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
                `,onHoverStart:()=>r(m.name),onHoverEnd:()=>r(null),onClick:()=>x(m),whileHover:{y:-4,transition:{duration:.2}},children:[e.jsx(g.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:s===m.name?1:0},transition:{duration:.2}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:(h=Ie.find(S=>S.name===m.name))==null?void 0:h.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:m.name}),e.jsx("div",{className:"text-xs text-white/70",children:m.status})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-semibold text-white",children:[(d=Ie.find(S=>S.name===m.name))==null?void 0:d.value,"%"]}),e.jsx("div",{className:"text-xs text-white/70",children:"qualité"})]})]}),e.jsx("div",{className:re.progressBar,children:e.jsx(g.div,{className:"h-full rounded-full",style:{background:`linear-gradient(to right, ${(c=Ie.find(S=>S.name===m.name))==null?void 0:c.color}, ${(p=Ie.find(S=>S.name===m.name))==null?void 0:p.color}80)`,boxShadow:`0 0 10px ${(u=Ie.find(S=>S.name===m.name))==null?void 0:u.color}40`},initial:{width:0},animate:{width:`${(f=Ie.find(S=>S.name===m.name))==null?void 0:f.value}%`},transition:{duration:1,ease:"easeOut"}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[e.jsxs("div",{className:"text-xs text-white/70",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{className:"w-3 h-3 mr-1 text-cyan-400"}),e.jsx("span",{children:"Température"})]}),e.jsxs("span",{className:"text-white",children:[m.temperature,"°C"]})]}),e.jsxs("div",{className:"text-xs text-white/70",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-3 h-3 mr-1 text-cyan-400"}),e.jsx("span",{children:"Oxygène"})]}),e.jsxs("span",{className:"text-white",children:[m.oxygen,"%"]})]}),e.jsxs("div",{className:"text-xs text-white/70",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Je,{className:"w-3 h-3 mr-1 text-cyan-400"}),e.jsx("span",{children:"Capacité"})]}),e.jsxs("span",{className:"text-white",children:[(((j=Ie.find(S=>S.name===m.name))==null?void 0:j.currentLoad)/((z=Ie.find(S=>S.name===m.name))==null?void 0:z.capacity)*100).toFixed(0),"%"]})]})]})]})]},b)})})]})]}),e.jsxs(U,{children:[i&&e.jsx(Hr,{table:i,onClose:()=>l(null)}),n&&e.jsx(Wr,{pool:n,onClose:()=>x(null)})]})]})}const el=[{id:"1",name:"Bouzigues",tableNumber:"T-1234",position:{x:50,y:150},size:{width:150,height:400},status:"optimal",temperature:12.5,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:2.5,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,r=a%2,i=Math.floor(a/2),l=r===0?i+1:i+11;return{id:`b1-cell-${a}`,filled:s,fillOrder:s?l:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:300,estimatedHarvestDate:"2025-06-15"}},{id:"2",name:"Bouzigues",tableNumber:"T-1235",position:{x:250,y:150},size:{width:150,height:400},status:"optimal",temperature:12.8,salinity:34,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.8,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,r=a%2,i=Math.floor(a/2),l=r===0?i+1:i+11;return{id:`b2-cell-${a}`,filled:s,fillOrder:s?l:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"2",quantity:300,estimatedHarvestDate:"2025-06-20"}},{id:"3",name:"Mèze",tableNumber:"T-2234",position:{x:500,y:250},size:{width:150,height:400},status:"warning",temperature:13.2,salinity:33,lastCheck:"2025-02-18",nextCheck:"2025-02-25",mortalityRate:4.2,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,r=a%2,i=Math.floor(a/2),l=r===0?i+1:i+11;return{id:`m1-cell-${a}`,filled:s,fillOrder:s?l:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:500,estimatedHarvestDate:"2025-07-01"}},{id:"4",name:"Mèze",tableNumber:"T-2235",position:{x:700,y:250},size:{width:150,height:400},status:"warning",temperature:13,salinity:33,lastCheck:"2025-02-18",nextCheck:"2025-02-25",mortalityRate:3.7,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,r=a%2,i=Math.floor(a/2),l=r===0?i+1:i+11;return{id:`m2-cell-${a}`,filled:s,fillOrder:s?l:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"4",quantity:350,estimatedHarvestDate:"2025-07-05"}},{id:"5",name:"Marseillan",tableNumber:"T-3234",position:{x:900,y:400},size:{width:150,height:400},status:"optimal",temperature:12.3,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.5,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,r=a%2,i=Math.floor(a/2),l=r===0?i+1:i+11;return{id:`ma1-cell-${a}`,filled:s,fillOrder:s?l:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:550,estimatedHarvestDate:"2025-06-25"}},{id:"6",name:"Marseillan",tableNumber:"T-3235",position:{x:1100,y:400},size:{width:150,height:400},status:"optimal",temperature:12.4,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.9,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,r=a%2,i=Math.floor(a/2),l=r===0?i+1:i+11;return{id:`ma2-cell-${a}`,filled:s,fillOrder:s?l:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"2",quantity:480,estimatedHarvestDate:"2025-06-30"}}];function tl({onTableSelect:t,onTableHover:a,hoveredTable:s,selectedTable:r}){var v,k,D,B,E,se,q,X,ae,je,C,N,_,A,J,O,xe,ie,K;o.useState(!0);const[i,l]=o.useState(1),[n,x]=o.useState({x:0,y:0}),[m,b]=o.useState(el);o.useState(null),o.useState(!1);const[h,d]=o.useState(null),[c,p]=o.useState(""),u={initial:{opacity:.6,scale:.95},animate:P=>({opacity:[.6,1,.6],scale:[.95,1,.95],transition:{duration:3,repeat:1/0,delay:P*.1,ease:"easeInOut"}})},f={initial:{opacity:.8,scale:.95},animate:P=>({opacity:[.8,1,.8],scale:[.95,1.05,.95],transition:{duration:4,repeat:1/0,delay:P*.2,ease:"easeInOut"}})},j=()=>{l(P=>{const $=Math.min(P+.2,3);return console.log("Zoom in:",$),$})},z=()=>{l(P=>{const $=Math.max(P-.2,.5);return console.log("Zoom out:",$),$})},S=()=>{l(.5),x({x:0,y:0})},y=(P,$)=>{d(P),p($)},w=P=>{console.log(`Table ID: ${P}, Nouveau numéro: ${c}`),m.map($=>$.id===P?{...$,tableNumber:c}:$),d(null)},M=()=>{d(null)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{className:"col-span-9 glass-effect rounded-xl",children:e.jsxs("div",{className:"relative h-[800px] bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden border border-white/10",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-burgundy/5 to-brand-burgundy/10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,...')] opacity-10"})]}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 flex justify-between p-6",children:[e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(Pe,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Bouzigues"})]}),e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(Pe,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Mèze"})]}),e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(Pe,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Marseillan"})]})]}),e.jsxs("div",{className:"absolute bottom-6 right-6 flex items-center space-x-4",children:[e.jsxs("div",{className:"glass-effect p-2 rounded-lg z-30",children:[e.jsx("button",{onClick:j,className:"p-1.5 hover:bg-white/10 rounded-md text-white mr-1",children:e.jsx(ji,{size:18})}),e.jsx("button",{onClick:z,className:"p-1.5 hover:bg-white/10 rounded-md text-white mr-1",children:e.jsx(fi,{size:18})}),e.jsx("button",{onClick:S,className:"p-1.5 hover:bg-white/10 rounded-md text-white",children:e.jsx(wi,{size:18})})]}),e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 rounded-full blur-xl"}),e.jsxs("div",{className:"relative w-full h-full bg-black/40 backdrop-blur-sm rounded-full border border-white/20 flex items-center justify-center",children:[e.jsx(da,{size:48,className:"text-brand-burgundy animate-spin-slow"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-white font-bold text-xs",children:"N"})})]})]})]}),e.jsx("div",{className:"relative h-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 transition-transform duration-300 ease-out",style:{transform:`scale(${i}) translate(${n.x}px, ${n.y}px)`,transformOrigin:"center center",cursor:"grab"},onMouseDown:P=>{const $=P.currentTarget,Fe=P.clientX,Te=P.clientY,at=n.x,bt=n.y,Qe=Ue=>{const it=(Ue.clientX-Fe)/i,rt=(Ue.clientY-Te)/i;x({x:at+it,y:bt+rt}),$.style.cursor="grabbing"},$e=()=>{document.removeEventListener("mousemove",Qe),document.removeEventListener("mouseup",$e),$.style.cursor="grab"};document.addEventListener("mousemove",Qe),document.addEventListener("mouseup",$e)},children:m.map(P=>e.jsxs(g.div,{className:"absolute",style:{left:`${P.position.x}px`,top:`${P.position.y}px`,width:`${P.size.width}px`,height:`${P.size.height}px`},whileHover:{scale:1.02},onHoverStart:()=>a==null?void 0:a(P),onHoverEnd:()=>a==null?void 0:a(null),onClick:()=>t(P),children:[e.jsx("div",{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 glass-effect px-3 py-1 rounded-full",children:h===P.id?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"text",value:c,onChange:$=>p($.target.value),className:"w-20 py-1 px-2 bg-white/10 border border-white/20 rounded text-white text-sm",autoFocus:!0,onClick:$=>$.stopPropagation(),onKeyDown:$=>{$.stopPropagation(),$.key==="Enter"?w(P.id):$.key==="Escape"&&M()}}),e.jsx("button",{onClick:$=>{$.stopPropagation(),w(P.id)},className:"text-brand-primary hover:text-brand-primary/80",children:e.jsx(Ds,{size:14})})]}):e.jsxs("span",{className:"text-white text-sm font-medium cursor-pointer flex items-center",onClick:$=>{$.stopPropagation(),y(P.id,P.tableNumber)},children:[P.tableNumber,e.jsx(He,{size:12,className:"ml-1 text-white/60 hover:text-white"})]})}),e.jsxs("div",{className:`relative h-full rounded-lg overflow-hidden transition-all duration-300
                        ${(r==null?void 0:r.id)===P.id?"ring-4 ring-brand-burgundy shadow-neon":"ring-1 ring-white/20"}`,children:[e.jsx("div",{className:`absolute inset-0 backdrop-blur-sm ${P.status==="optimal"?"bg-green-500/10":P.status==="warning"?"bg-yellow-500/10":"bg-red-500/10"}`,children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"})}),e.jsx("div",{className:"absolute inset-0 grid grid-cols-2 grid-rows-10 gap-2 p-4",children:P.cells.map(($,Fe)=>e.jsx(g.div,{className:`relative rounded-md transition-all duration-300 ${$.filled?`${$.type==="triplo"?"bg-brand-burgundy shadow-neon":$.type==="diplo"?"bg-brand-primary shadow-neon":"bg-brand-tertiary shadow-neon"}`:"bg-white/5"}`,variants:$.filled?f:u,initial:"initial",animate:"animate",custom:Fe,children:e.jsx("div",{className:"absolute inset-0 rounded-md border-2 border-white shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:$.filled&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-bold",children:$.fillOrder})})})},$.id))})]})]},P.id))})}),e.jsxs("div",{className:"absolute bottom-6 left-6 glass-effect rounded-lg p-4",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Types d'huîtres"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-burgundy shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Triploïdes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-primary shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Diploïdes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-tertiary shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Naturelles"})]}),e.jsx("div",{className:"mt-4 pt-2 border-t border-white/10",children:e.jsx("span",{className:"text-white/60 text-sm",children:"Les numéros indiquent l'ordre de remplissage"})})]})]})]})}),e.jsx("div",{className:"col-span-3",children:e.jsx(U,{mode:"wait",children:s||r?e.jsxs(g.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"glass-effect p-6 rounded-xl h-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Table ",(v=r||s)==null?void 0:v.tableNumber]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${((k=r||s)==null?void 0:k.status)==="optimal"?"bg-green-500/20 text-green-400":((D=r||s)==null?void 0:D.status)==="warning"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:((B=r||s)==null?void 0:B.status)==="optimal"?"Optimal":((E=r||s)==null?void 0:E.status)==="warning"?"Attention":"Critique"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[e.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Température"}),e.jsxs("div",{className:"text-white font-medium flex items-center",children:[e.jsx(ut,{className:"w-4 h-4 mr-1 text-brand-burgundy"}),(se=r||s)==null?void 0:se.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[e.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Salinité"}),e.jsxs("div",{className:"text-white font-medium flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-1 text-brand-primary"}),(q=r||s)==null?void 0:q.salinity," g/L"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Occupation"}),e.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-brand-burgundy",style:{width:`${(((X=r||s)==null?void 0:X.cells.filter(P=>P.filled).length)||0)*5}%`}})}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsxs("span",{className:"text-xs text-white/60",children:[(ae=r||s)==null?void 0:ae.cells.filter(P=>P.filled).length," / 20 emplacements"]}),e.jsxs("span",{className:"text-xs text-white/60",children:[(((je=r||s)==null?void 0:je.cells.filter(P=>P.filled).length)||0)*5,"%"]})]})]})]}),((C=r||s)==null?void 0:C.currentBatch)&&e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ee,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",(_=(N=r||s)==null?void 0:N.currentBatch)==null?void 0:_.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[(J=(A=r||s)==null?void 0:A.currentBatch)==null?void 0:J.quantity," kg d'Huîtres N°",(xe=(O=r||s)==null?void 0:O.currentBatch)==null?void 0:xe.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:new Date(((K=(ie=r||s)==null?void 0:ie.currentBatch)==null?void 0:K.estimatedHarvestDate)||"").toLocaleDateString()})]})]})]})]},"table-info"):e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"glass-effect p-6 rounded-xl flex flex-col items-center justify-center h-full text-center",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color"},children:[e.jsx("div",{className:"bg-white/5 rounded-full p-4 mb-4",children:e.jsx(Pe,{className:"w-10 h-10 text-brand-burgundy"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sélectionnez une table"}),e.jsx("p",{className:"text-white/60",children:"Cliquez sur une table pour voir ses détails et gérer son contenu"})]},"no-table-selected")})})]})})}function sl({isOpen:t,onClose:a,onConfirm:s,maintenanceType:r,lastMaintenance:i,uvLampHours:l}){const[n,x]=o.useState(""),[m,b]=o.useState(!1),h=()=>{s(r,n),b(!1),a()};return e.jsx(ke,{isOpen:t,onClose:a,title:r==="cleaning"?"Nettoyage du bassin":"Changement de la lampe UV",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[e.jsx(pe,{size:24,className:"text-yellow-400 flex-shrink-0"}),e.jsx("p",{className:"text-yellow-400",children:r==="cleaning"?"Le bassin devra être vidé pour le nettoyage. Assurez-vous qu'aucun lot n'est en cours de purification.":"La lampe UV doit être changée après 8000 heures d'utilisation pour garantir son efficacité."})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(be,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Dernière maintenance"}),e.jsx("div",{className:"text-white font-medium",children:L(new Date(i),"PPP",{locale:W})})]})]}),r==="uv_lamp"&&l&&e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx(be,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Heures d'utilisation"}),e.jsxs("div",{className:`font-medium ${l>=8e3?"text-red-400":l>=7e3?"text-yellow-400":"text-white"}`,children:[l," heures"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de maintenance"}),e.jsx("textarea",{value:n,onChange:d=>x(d.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes sur la maintenance..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer la maintenance"})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer l'opération"}),e.jsxs("p",{className:"text-white/70 mb-6",children:["Êtes-vous sûr de vouloir procéder à ",r==="cleaning"?"ce nettoyage":"ce changement de lampe UV"," ? Cette action sera enregistrée dans l'historique de maintenance."]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer"})]})]})})]})})}function al({isOpen:t,onClose:a,onConfirm:s,batch:r}){const[i,l]=o.useState(r.quantity),[n,x]=o.useState(""),[m,b]=o.useState(""),[h,d]=o.useState(r.remainingTime>0),c=p=>{p.preventDefault(),s({quantity:i,destination:n,notes:m})};return e.jsx(ke,{isOpen:t,onClose:a,title:"Sortie de lot",size:"md",children:e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Détails du lot"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Numéro de lot"}),e.jsx("div",{className:"text-white font-medium",children:r.number})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white font-medium",children:r.type})]})]})]}),h&&e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(pe,{size:20,className:"text-yellow-400 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-medium",children:"Attention"}),e.jsxs("p",{className:"text-yellow-400/80 mt-1",children:["Ce lot a encore ",r.remainingTime,"h de purification restantes. Êtes-vous sûr de vouloir le sortir maintenant ?"]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité à sortir"}),e.jsx("input",{type:"number",value:i,onChange:p=>l(Number(p.target.value)),max:r.quantity,min:1,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",required:!0}),e.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Maximum disponible : ",r.quantity," unités"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Destination"}),e.jsxs("select",{value:n,onChange:p=>x(p.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une destination..."}),e.jsx("option",{value:"stock",children:"Stock"}),e.jsx("option",{value:"vente",children:"Vente directe"}),e.jsx("option",{value:"destruction",children:"Destruction"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes"}),e.jsx("textarea",{value:m,onChange:p=>b(p.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes ou observations..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(zs,{size:20,className:"mr-2"}),"Sortir le lot"]})]})]})})}const il=[{id:"1",name:"Bassin A1",capacity:1e3,currentOccupancy:800,filterType:"UV + Ozone",filterStatus:"active",waterQuality:98,lastMaintenance:"2025-02-15",temperature:12.5,uvLampHours:7500,lastUVChange:"2024-08-15",batches:[{id:"b1",number:"LOT-2025-001",quantity:500,entryTime:"2025-02-18T08:00:00",remainingTime:12,type:"plates"},{id:"b2",number:"LOT-2025-002",quantity:300,entryTime:"2025-02-19T10:00:00",remainingTime:24,type:"creuses"}]},{id:"2",name:"Bassin A2",capacity:1e3,currentOccupancy:600,filterType:"UV",filterStatus:"maintenance",waterQuality:92,lastMaintenance:"2025-02-10",temperature:13,uvLampHours:8200,lastUVChange:"2024-07-01",batches:[{id:"b3",number:"LOT-2025-003",quantity:600,entryTime:"2025-02-17T14:00:00",remainingTime:4,type:"speciales"}]}];function rl({pool:t,onClose:a}){const[s,r]=o.useState("info"),i=st(a),[l,n]=o.useState(!1),[x,m]=o.useState("cleaning"),[b,h]=o.useState(null),[d,c]=o.useState(!1),p=(f,j)=>{console.log(`Maintenance ${f} confirmée:`,j),n(!1)},u=f=>{console.log("Sortie du lot:",{batch:b,...f}),c(!1),h(null)};return e.jsxs(e.Fragment,{children:[e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(g.div,{ref:i,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-white/60",children:["Système de filtration : ",t.filterType]})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("button",{onClick:()=>r("info"),className:`px-4 py-2 rounded-lg transition-colors ${s==="info"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Informations"}),e.jsx("button",{onClick:()=>r("history"),className:`px-4 py-2 rounded-lg transition-colors ${s==="history"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Historique"}),e.jsx("button",{onClick:()=>r("config"),className:`px-4 py-2 rounded-lg transition-colors ${s==="config"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Configuration"})]}),e.jsxs(U,{mode:"wait",children:[s==="info"&&e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ut,{size:20,className:"mr-2 text-brand-primary"}),"Température"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(we,{size:20,className:"mr-2 text-brand-primary"}),"Qualité eau"]}),e.jsxs("div",{className:`text-2xl font-bold ${t.waterQuality>=95?"text-green-400":t.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[t.waterQuality,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ee,{size:20,className:"mr-2 text-brand-primary"}),"Occupation"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(t.currentOccupancy/t.capacity*100),"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[t.currentOccupancy,"/",t.capacity]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Lots en purification"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{m("cleaning"),n(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(vi,{size:16,className:"mr-1 inline-block"}),"Nettoyage"]}),e.jsxs("button",{onClick:()=>{m("uv_lamp"),n(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(ys,{size:16,className:"mr-1 inline-block"}),"Lampe UV"]}),e.jsxs("button",{className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(Z,{size:16,className:"mr-1 inline-block"}),"Nouveau lot"]})]})]}),e.jsx("div",{className:"space-y-3",children:t.batches.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:f.number}),e.jsxs("div",{className:"text-sm text-white/60",children:[f.quantity," kg - ",f.type]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[f.remainingTime,"h"]}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),e.jsx("button",{onClick:()=>{h(f),c(!0)},className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:e.jsx(zs,{size:20,className:"text-white/60"})})]})]},f.id))})]}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ys,{size:20,className:"mr-2 text-brand-primary"}),"Lampe UV"]}),e.jsxs("div",{className:`text-lg font-medium ${t.uvLampHours>=8e3?"text-red-400":t.uvLampHours>=7e3?"text-yellow-400":"text-white"}`,children:[t.uvLampHours," heures d'utilisation"]}),e.jsxs("div",{className:"text-sm text-white/60",children:["Dernier changement: ",L(new Date(t.lastUVChange),"PP",{locale:W})]})]}),t.uvLampHours>=7e3&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{size:20,className:"text-yellow-400"}),e.jsx("span",{className:"text-yellow-400",children:t.uvLampHours>=8e3?"Changement nécessaire":"Changement recommandé"})]})]})})]},"info"),s==="history"&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des opérations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx(be,{size:16,className:"mr-2"}),e.jsxs("span",{children:["Dernier nettoyage: ",L(new Date(t.lastMaintenance),"PP",{locale:W})]})]})}),e.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx(ge,{size:16,className:"mr-2"}),e.jsxs("span",{children:["Changement filtre: ",L(new Date(t.lastMaintenance),"PP",{locale:W})]})]})})]})]})},"history"),s==="config"&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Configuration du bassin"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de filtration"}),e.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"uv",children:"UV"}),e.jsx("option",{value:"uv_ozone",children:"UV + Ozone"}),e.jsx("option",{value:"mechanical",children:"Mécanique"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Durée de purification par défaut"}),e.jsx("input",{type:"number",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Heures"})]})]})]})},"config")]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),s==="config"&&e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})}),l&&e.jsx(sl,{isOpen:l,onClose:()=>n(!1),onConfirm:p,maintenanceType:x,lastMaintenance:t.lastMaintenance,uvLampHours:t.uvLampHours}),d&&b&&e.jsx(al,{isOpen:d,onClose:()=>{c(!1),h(null)},onConfirm:u,batch:b})]})}function ll(){const[t,a]=o.useState(null),[s,r]=o.useState(null),[i,l]=o.useState(il),[n,x]=o.useState(!1),[m,b]=o.useState(null),[h,d]=o.useState({number:"",quantity:0,type:"plates",entryTime:L(new Date,"yyyy-MM-dd'T'HH:mm")}),c=(u,f)=>{u.stopPropagation(),b(f),d({number:`LOT-${L(new Date,"yyyy")}-${String(Math.floor(Math.random()*999)).padStart(3,"0")}`,quantity:0,type:"plates",entryTime:L(new Date,"yyyy-MM-dd'T'HH:mm")}),x(!0)},p=()=>{m&&h.quantity>0&&(console.log(`Ajout d'un lot au bassin ${m.name}:`,h),x(!1),b(null))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 gap-6",children:i.map(u=>e.jsxs(g.div,{className:`bg-white/5 border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer relative overflow-hidden ${s===u.id?"ring-2 ring-brand-primary shadow-neon":""}`,onClick:()=>a(u),onHoverStart:()=>r(u.id),onHoverEnd:()=>r(null),whileHover:{y:-4},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:u.name}),e.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/60",children:[e.jsx(ge,{size:16,className:"mr-1"}),u.filterType]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:f=>c(f,u),className:"px-3 py-1 text-sm bg-brand-primary rounded-lg text-white hover:bg-brand-primary/80 transition-colors flex items-center",children:[e.jsx(Z,{size:14,className:"mr-1"}),"Rentrer un lot"]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${u.filterStatus==="active"?"bg-green-500/20 text-green-300":u.filterStatus==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:u.filterStatus==="active"?"Actif":u.filterStatus==="maintenance"?"Maintenance":"Erreur"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Occupation"}),e.jsxs("div",{className:"text-xl font-bold text-white",children:[Math.round(u.currentOccupancy/u.capacity*100),"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[u.currentOccupancy,"/",u.capacity]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Qualité eau"}),e.jsxs("div",{className:`text-xl font-bold ${u.waterQuality>=95?"text-green-400":u.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[u.waterQuality,"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[u.temperature,"°C"]})]})]}),e.jsx("div",{className:"space-y-3",children:u.batches.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:f.number}),e.jsxs("div",{className:"text-sm text-white/60",children:[f.quantity," kg"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[f.remainingTime,"h"]}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:e.jsx(zs,{size:20,className:"text-white/60"})})]})]},f.id))}),e.jsx(g.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:s===u.id?1:0},transition:{duration:.2}})]},u.id))}),e.jsx(U,{children:t&&e.jsx(rl,{pool:t,onClose:()=>a(null)})}),n&&m&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Rentrer un lot dans ",m.name]}),e.jsx("button",{onClick:()=>x(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:u=>{u.preventDefault(),p()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot"}),e.jsx("input",{type:"text",value:h.number,onChange:u=>d({...h,number:u.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type d'huîtres"}),e.jsxs("select",{value:h.type,onChange:u=>d({...h,type:u.target.value}),className:"w-full p-4 bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"plates",children:"Plates"}),e.jsx("option",{value:"creuses",children:"Creuses"}),e.jsx("option",{value:"speciales",children:"Spéciales"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité"}),e.jsx("input",{type:"number",value:h.quantity,onChange:u=>d({...h,quantity:parseInt(u.target.value)}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date et heure d'entrée"}),e.jsx("input",{type:"datetime-local",value:h.entryTime,onChange:u=>d({...h,entryTime:u.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter le lot"})]})]})]})})]})}function Ee(...t){return Ni(yi(t))}function Ye({children:t,className:a,...s}){return e.jsx("div",{className:Ee("border border-white/10 rounded-lg overflow-hidden",a),style:{background:"linear-gradient(135deg, rgba(0, 20, 40, 0.98) 0%, rgba(0, 80, 80, 0.95) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px, rgba(0, 180, 180, 0.1) 0px 0px 10px inset"},...s,children:t})}const I=o.forwardRef(({className:t,type:a,...s},r)=>e.jsx("input",{type:a,className:`flex h-10 w-full rounded-md border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))] px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--color-brand-primary))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t||""}`,ref:r,...s}));I.displayName="Input";const Jt=Si,nl=Ci,$a=o.forwardRef(({className:t,...a},s)=>e.jsx(ha,{ref:s,className:`fixed inset-0 z-50 bg-black/80 backdrop-blur-sm ${t||""}`,...a}));$a.displayName=ha.displayName;const Ct=o.forwardRef(({className:t,children:a,...s},r)=>e.jsxs(nl,{children:[e.jsx($a,{}),e.jsxs(ua,{ref:r,className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-background/95 p-6 shadow-lg duration-200 sm:rounded-lg md:w-full ${t||""}`,...s,children:[a,e.jsxs(ki,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ct.displayName=ua.displayName;const St=({className:t,...a})=>e.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${t||""}`,...a});St.displayName="DialogHeader";const Ia=({className:t,...a})=>e.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${t||""}`,...a});Ia.displayName="DialogFooter";const Dt=o.forwardRef(({className:t,...a},s)=>e.jsx(pa,{ref:s,className:`text-lg font-semibold leading-none tracking-tight ${t||""}`,...a}));Dt.displayName=pa.displayName;const Gt=o.forwardRef(({className:t,...a},s)=>e.jsx(ba,{ref:s,className:`text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] ${t||""}`,...a}));Gt.displayName=ba.displayName;const dl=[{id:1,status:"en_trempe",batches:[],number:1,remainingRopes:85,totalRopes:100,tableName:"Table Nord #128",description:"Huîtres Fines de Claire",startDate:"2024-10-15",harvestDate:"2025-01-15",mortalityRate:12,currentSize:"N°4",targetSize:"N°2",occupancy:{current:9,total:10}},{id:2,status:"pret",batches:[],number:2,remainingRopes:0,totalRopes:100,tableName:"Table Nord #129",description:"Huîtres Fines de Claire",startDate:"2024-09-15",harvestDate:"2025-01-01",mortalityRate:8,currentSize:"N°3",targetSize:"N°2",occupancy:{current:10,total:10}}],cl={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},It={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},Os={initial:{scale:1},highlight:{scale:[1,1.05,1],transition:{duration:.6,times:[0,.5,1],ease:[.25,.25,0,1]}}},ol=t=>({initial:{scaleX:0,filter:"brightness(1)"},animate:{scaleX:t.remainingRopes/t.totalRopes,filter:["brightness(1)","brightness(1.5)","brightness(1)"],transition:{duration:.6,filter:{times:[0,.5,1],duration:.8},ease:[.25,.25,0,1]}}}),Bs={hidden:{opacity:0,transform:"scale(0.95) translateY(10px)"},visible:{opacity:1,transform:"scale(1) translateY(0)",transition:{duration:.2,ease:[.4,0,.2,1],transform:{type:"spring",damping:15,stiffness:300}}},exit:{opacity:0,transform:"scale(0.95) translateY(10px)",transition:{duration:.15,ease:[.4,0,1,1],transform:{type:"spring",damping:20,stiffness:300}}}},Ot={hidden:{opacity:0,transform:"translateY(10px)"},visible:{opacity:1,transform:"translateY(0)",transition:{duration:.3,ease:[.25,.25,0,1],transform:{type:"spring",damping:15,stiffness:200}}}},xl=()=>{Q.useState(null);const[t,a]=Q.useState(null);Q.useState({x:0,y:0}),Q.useState(!1),Q.useState(!0),Q.useState(!1),Q.useState(null);const[s,r]=Q.useState(dl);Q.useState(!1);const[i,l]=Q.useState(!1),[n,x]=Q.useState({tableName:"",description:"Huîtres Fines de Claire",startDate:new Date().toISOString().split("T")[0],harvestDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],currentSize:"T15",targetSize:"N°2"});Q.useState(!1),Q.useState(1),Q.useState("");const[m,b]=Q.useState(!1),{batches:h}=Ce();return Q.useEffect(()=>{const d={};h.forEach(c=>{if(c.trempeSquareId){d[c.trempeSquareId]||(d[c.trempeSquareId]=[]);const p={id:c.id,name:c.batchNumber||`Lot ${c.id}`,status:c.status,quantity:c.quantity,createdAt:c.createdAt,updatedAt:c.updatedAt,date:new Date(c.startDate||Date.now()),trempeSquareId:c.trempeSquareId};d[c.trempeSquareId].push(p)}}),r(c=>c.map(p=>({...p,batches:d[p.id]||[]})))},[h]),e.jsxs(g.div,{initial:"hidden",animate:"visible",variants:cl,className:"w-full",children:[e.jsx(Ye,{children:e.jsxs("div",{className:"bg-brand-dark/30 rounded-xl p-6 border border-white/10 backdrop-blur-xl",children:[e.jsxs(g.div,{variants:It,className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Trempes"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Gérez vos trempes en cours"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(G,{variant:"primary",className:"group bg-brand-accent hover:bg-brand-accent/90 text-white px-4 py-2 rounded-lg border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},children:[e.jsx(Z,{className:"w-4 h-4 transform transition-transform group-hover:scale-110"}),e.jsx("span",{children:"Nouvelle trempe"})]}),e.jsxs(G,{variant:"outline",className:"group bg-brand-darker/30 hover:bg-brand-darker/50 text-white px-4 py-2 rounded-lg border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},onClick:()=>l(!0),children:[e.jsx(Z,{className:"w-4 h-4 transform transition-transform group-hover:scale-110"}),e.jsx("span",{children:"Nouvelle table"})]})]})]}),e.jsxs(g.div,{variants:It,className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),e.jsx(I,{type:"text",placeholder:"Rechercher une trempe...",className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg pl-10 pr-4 py-2 text-white backdrop-blur-xl transition-colors"})]}),e.jsxs(G,{variant:"outline",className:"group px-4 py-2 rounded-lg text-white bg-brand-darker/30 hover:bg-brand-darker/50 border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},children:[e.jsx(ge,{className:"w-4 h-4 transform transition-transform group-hover:rotate-180"}),e.jsx("span",{children:"Filtres"})]})]}),e.jsx(g.div,{variants:It,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(d=>e.jsxs(g.div,{variants:It,initial:d.id===1?"initial":void 0,animate:d.id===1?"highlight":void 0,className:"bg-brand-dark/30 rounded-xl p-4 border border-white/10 hover:border-white/20 transition-colors backdrop-blur-md cursor-pointer",style:d.id===1?{willChange:"transform, border-color"}:void 0,onClick:()=>{a(d),b(!0)},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx(g.h3,{initial:"initial",animate:"highlight",variants:Os,className:"text-lg font-semibold text-white stat-title bg-brand-darker/30 px-3 py-1.5 rounded-lg backdrop-blur-xl border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px",style:d.id===1?{willChange:"transform"}:void 0,children:d.tableName}),e.jsx(g.span,{initial:"initial",animate:"highlight",variants:Os,className:`px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-2 transition-all duration-200 transform hover:-translate-y-px backdrop-blur-xl ${d.status==="en_trempe"?"bg-green-500/20 text-green-400 border border-green-500/20":d.status==="pret"?"bg-blue-500/20 text-blue-400 border border-blue-500/20":"bg-gray-500/20 text-gray-400 border border-gray-500/20"}`,style:d.id===1?{willChange:"transform"}:void 0,children:d.status==="en_trempe"?e.jsxs(e.Fragment,{children:[e.jsx(Di,{className:"w-3.5 h-3.5 animate-spin"}),e.jsx("span",{children:"En trempe"})]}):d.status==="pret"?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Prêt"})]}):e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Disponible"})]})})]}),e.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{children:"Lots actifs:"}),e.jsx(g.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},style:d.id===1?{willChange:"transform, opacity"}:void 0,className:`px-2 py-0.5 rounded-md text-xs ${d.batches.length>0?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:d.batches.length},d.batches.length)]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{children:["Cordes restantes:",e.jsx(g.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},className:"ml-1",style:d.id===1?{willChange:"transform, opacity"}:void 0,children:d.remainingRopes},d.remainingRopes)]}),e.jsxs(g.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},className:"text-xs",style:d.id===1?{willChange:"transform, opacity"}:void 0,children:[Math.round(d.remainingRopes/d.totalRopes*100),"%"]},d.remainingRopes)]}),e.jsx("div",{className:"w-full h-1.5 bg-brand-darker/50 rounded-full overflow-hidden",children:e.jsx(g.div,{initial:"initial",animate:"animate",variants:ol(d),className:"h-full rounded-full origin-left",style:{willChange:d.id===1?"transform, filter":void 0,backgroundColor:d.status==="en_trempe"?"rgb(34 197 94 / 0.5)":d.status==="pret"?"rgb(59 130 246 / 0.5)":"rgb(107 114 128 / 0.5)"}})})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsxs(G,{variant:"outline",className:"group w-full px-4 py-2 rounded-lg text-white bg-brand-darker/30 hover:bg-brand-darker/50 border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center justify-center gap-2",style:{willChange:"transform"},children:[e.jsx("span",{children:"Voir les détails"}),e.jsx(zi,{className:"w-4 h-4 transform transition-transform group-hover:translate-x-1"})]})})]},d.id))})]})}),e.jsx(Jt,{open:m,onOpenChange:b,children:e.jsx(Ct,{className:"bg-brand-darker/95 border-white/10 max-w-2xl w-full",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",willChange:"transform"},children:e.jsxs(g.div,{variants:Bs,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{willChange:"transform, opacity"},children:[e.jsx(St,{className:"pb-4 border-b border-white/10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(Dt,{className:"text-2xl font-bold text-white",children:t==null?void 0:t.tableName}),e.jsx(Gt,{className:"text-white/60 mt-1",children:t==null?void 0:t.description})]}),e.jsx(G,{variant:"ghost",className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/5",onClick:()=>b(!1),children:e.jsx(R,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"py-4 space-y-6",children:[e.jsxs(g.div,{variants:Ot,className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:`px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2 ${(t==null?void 0:t.status)==="en_trempe"?"bg-green-500/20 text-green-400 border border-green-500/20":(t==null?void 0:t.status)==="pret"?"bg-blue-500/20 text-blue-400 border border-blue-500/20":"bg-gray-500/20 text-gray-400 border border-gray-500/20"}`,children:(t==null?void 0:t.status)==="en_trempe"?e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{children:"Active"})]}):(t==null?void 0:t.status)==="pret"?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Prêt"})]}):e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4"}),e.jsx("span",{children:"Disponible"})]})})})}),e.jsxs("div",{className:"flex space-x-4 border-b border-white/10",children:[e.jsx("button",{className:"px-4 py-2 text-white border-b-2 border-brand-accent",children:"Informations"}),e.jsx("button",{className:"px-4 py-2 text-white/60 hover:text-white",children:"Historique"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Occupation de la table"}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Progression"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-white font-medium",children:[t==null?void 0:t.occupancy.current,"/",t==null?void 0:t.occupancy.total," unités"]}),e.jsxs("span",{className:"text-white/60",children:["(",Math.round(((t==null?void 0:t.occupancy.current)||0)/((t==null?void 0:t.occupancy.total)||1)*100),"%)"]})]})]}),e.jsx("div",{className:"w-full h-2 bg-brand-darker/50 rounded-full overflow-hidden",children:e.jsx(g.div,{initial:{scaleX:0},animate:{scaleX:t?t.occupancy.current/t.occupancy.total:0,backgroundColor:"rgb(34 197 94 / 0.5)"},transition:{duration:.6,ease:[.25,.25,0,1]},className:"h-full rounded-full origin-left",style:{willChange:"transform"}})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Progression du calibre"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Début"}),e.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:e.jsx("span",{className:"text-white font-medium",children:"T15"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Objectif"}),e.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:e.jsx("span",{className:"text-white font-medium",children:t==null?void 0:t.targetSize})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Final"}),e.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:e.jsx("span",{className:"text-white font-medium",children:t==null?void 0:t.currentSize})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-[3px] w-full rounded-full overflow-hidden",style:{background:"linear-gradient(to right, #3b82f6 0%, #3b82f6 30%, #60a5fa 50%, #93c5fd 75%, #22c55e 85%, #f97316 95%, #ef4444 100%)"}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-white/40",style:{left:"85%",transform:"translateX(-50%)",willChange:"transform"}}),e.jsxs(g.div,{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4",style:{left:`${["T15","N°5","N°4","N°3","N°2","N°1"].indexOf((t==null?void 0:t.currentSize)||"T15")/5*100}%`,willChange:"transform, left"},initial:!1,animate:{scale:[1,1.2,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-500/20 animate-pulse"}),e.jsx("div",{className:"absolute inset-[2px] rounded-full bg-blue-500"})]})]}),e.jsx("div",{className:"flex items-center justify-between space-x-2 py-2",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(d=>e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:`text-xs ${d===(t==null?void 0:t.currentSize)?"text-blue-400 font-medium":d===(t==null?void 0:t.targetSize)?"text-green-400 font-medium":"text-white/40"}`,children:d}),e.jsx("div",{className:`h-1 mt-1 rounded-full transform origin-center transition-transform ${d===(t==null?void 0:t.currentSize)?"bg-blue-500 scale-100":d===(t==null?void 0:t.targetSize)?"bg-green-500 scale-100":"bg-white/10 scale-75"}`,style:{willChange:"transform"}})]},d))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Calibre actuel"}),e.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:e.jsx("span",{className:"text-white font-medium",children:t==null?void 0:t.currentSize})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Calibre cible"}),e.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:e.jsx("span",{className:"text-white font-medium",children:t==null?void 0:t.targetSize})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informations de production"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Date de démarrage"}),e.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:e.jsx("span",{className:"text-white font-medium",children:new Date((t==null?void 0:t.startDate)||"").toLocaleDateString("fr-FR")})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Date de récolte prévue"}),e.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:e.jsx("span",{className:"text-white font-medium",children:new Date((t==null?void 0:t.harvestDate)||"").toLocaleDateString("fr-FR")})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Taux de mortalité"}),e.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:e.jsxs("span",{className:"text-white font-medium",children:[t==null?void 0:t.mortalityRate,"%"]})})]})]})]})]}),e.jsxs(g.div,{variants:Ot,className:"flex items-center gap-3 pt-4 border-t border-white/10",children:[e.jsx(G,{variant:"primary",className:"flex-1 bg-brand-accent hover:bg-brand-accent/90",children:"Ajouter des cordes"}),e.jsx(G,{variant:"outline",className:"flex-1",children:"Récolter"})]})]})]})})}),e.jsx(Jt,{open:i,onOpenChange:l,children:e.jsx(Ct,{className:"bg-brand-darker/95 border-white/10 max-w-2xl w-full",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",willChange:"transform"},children:e.jsxs(g.div,{variants:Bs,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{willChange:"transform, opacity"},children:[e.jsx(St,{className:"pb-4 border-b border-white/10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(Dt,{className:"text-2xl font-bold text-white",children:"Nouvelle table"}),e.jsx(Gt,{className:"text-white/60 mt-1",children:"Créer une nouvelle table de trempe"})]}),e.jsx(G,{variant:"ghost",className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/5",onClick:()=>l(!1),children:e.jsx(R,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"py-4 space-y-6",children:[e.jsxs(g.div,{variants:Ot,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Nom de la table"}),e.jsx(I,{value:n.tableName,onChange:d=>x({...n,tableName:d.target.value}),placeholder:"ex: Table Nord #128",className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Description"}),e.jsx(I,{value:n.description,onChange:d=>x({...n,description:d.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Date de démarrage"}),e.jsx(I,{type:"date",value:n.startDate,onChange:d=>x({...n,startDate:d.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Date de récolte prévue"}),e.jsx(I,{type:"date",value:n.harvestDate,onChange:d=>x({...n,harvestDate:d.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Calibre initial"}),e.jsx("select",{value:n.currentSize,onChange:d=>x({...n,currentSize:d.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(d=>e.jsx("option",{value:d,children:d},d))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Calibre cible"}),e.jsx("select",{value:n.targetSize,onChange:d=>x({...n,targetSize:d.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(d=>e.jsx("option",{value:d,children:d},d))})]})]})]}),e.jsxs(g.div,{variants:Ot,className:"flex items-center gap-3 pt-4 border-t border-white/10",children:[e.jsx(G,{variant:"primary",className:"flex-1 bg-brand-accent hover:bg-brand-accent/90",onClick:()=>{const d={id:s.length+1,status:"disponible",batches:[],number:s.length+1,remainingRopes:100,totalRopes:100,tableName:n.tableName,description:n.description,startDate:n.startDate,harvestDate:n.harvestDate,mortalityRate:0,currentSize:n.currentSize,targetSize:n.targetSize,occupancy:{current:0,total:10}};r([...s,d]),l(!1)},children:"Créer la table"}),e.jsx(G,{variant:"outline",className:"flex-1",onClick:()=>l(!1),children:"Annuler"})]})]})]})})})]})};function ml({cell:t,onClose:a,onUpdate:s,setShowNaissainModal:r}){const i=st(a),[l,n]=o.useState(t.type||""),[x,m]=o.useState(t.ropeCount||0),[b,h]=o.useState(t.size||""),[d,c]=o.useState(0),[p,u]=o.useState(!t.filled),f=j=>{j.preventDefault();let z;p?z={type:l,ropeCount:x,size:b,filled:!0}:t.filled?z={harvestedRopes:d,batchNumber:`LOT-${new Date().getTime()}`}:z={type:l,ropeCount:x,size:b,filled:!0},s(z),a()};return e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(g.div,{ref:i,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.filled&&!p?"Récolte":t.filled&&p?"Modifier le bassin":"Nouvelle production"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),t.filled&&!p&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"flex items-center text-brand-tertiary hover:text-brand-tertiary/80 transition-colors",children:[e.jsx(He,{size:16,className:"mr-1"}),"Modifier les propriétés"]})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[!t.filled||p?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de production"}),e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsx("button",{type:"button",onClick:()=>{r?r(!0):console.warn("setShowNaissainModal is not defined")},className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",children:"Naissain"})}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"triplo",label:"Triploïde",color:"bg-brand-burgundy"},{value:"diplo",label:"Diploïde",color:"bg-brand-primary"},{value:"naturelle",label:"Naturelle",color:"bg-brand-tertiary"}].map(j=>e.jsxs("button",{type:"button",onClick:()=>n(j.value),className:`p-3 rounded-lg flex flex-col items-center justify-center transition-all ${l===j.value?`${j.color} shadow-neon`:"bg-white/5 hover:bg-white/10"}`,children:[e.jsx("div",{className:`w-4 h-4 rounded-sm ${j.color} mb-2`}),e.jsx("span",{className:"text-sm text-white",children:j.label})]},j.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes par perche"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-4",children:[e.jsx("button",{type:"button",onClick:()=>m(Math.max(0,x-1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:x}),e.jsx("button",{type:"button",onClick:()=>m(x+1),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"+"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taille des huîtres"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:["T5","T10","T15","T20","T30"].map(j=>e.jsx("button",{type:"button",onClick:()=>h(j),className:`p-3 rounded-lg flex items-center justify-center transition-all ${b===j?"bg-brand-burgundy shadow-neon":"bg-white/5 hover:bg-white/10"}`,children:e.jsx("span",{className:"text-white font-medium",children:j})},j))})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes récoltées"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-4",children:[e.jsx("button",{type:"button",onClick:()=>c(Math.max(0,d-1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:d}),e.jsx("button",{type:"button",onClick:()=>c(Math.min(t.ropeCount,d+1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"+"})]}),e.jsxs("div",{className:"mt-2 text-sm text-white/60 text-center",children:["sur ",t.ropeCount," cordes au total"]})]})]}),e.jsxs("div",{className:"p-4 bg-brand-burgundy/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-brand-burgundy mb-2",children:[e.jsx(_e,{size:20,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Numéro de lot"})]}),e.jsxs("div",{className:"text-white font-mono",children:["LOT-",new Date().getTime()]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:t.filled&&!p?"Valider la récolte":t.filled&&p?"Enregistrer les modifications":"Ajouter la production"})]})]})]})})}function hl({table:t,onClose:a,onTableUpdate:s}){var jt;const r=T=>{T.stopPropagation()},i=T=>{T.target===T.currentTarget&&a()},[l,n]=o.useState(null),[x,m]=o.useState(!0),[b,h]=o.useState(!1),[d,c]=o.useState({side:"left"}),[p,u]=o.useState(""),[f,j]=o.useState(""),[z,S]=o.useState(!1),[y,w]=o.useState(t.tableNumber),[M,v]=o.useState(!1),[k,D]=o.useState(""),[B,E]=o.useState(null),[se,q]=o.useState(L(new Date,"yyyy-MM-dd")),[X,ae]=o.useState(!1),[je,C]=o.useState(""),[N,_]=o.useState(!1),[A,J]=o.useState(L(new Date,"yyyy-MM-dd")),[O,xe]=o.useState(!1),[ie,K]=o.useState([]),[P,$]=o.useState([]),[Fe,Te]=o.useState(""),at=o.useRef(null),bt=(T,F)=>{console.log("Updating cell:",T,F);const H=t.cells.findIndex(ye=>ye.id===T);if(H===-1)return;const ne=[...t.cells];ne[H]={...ne[H],...F},s&&s(t.id,{cells:ne})},Qe=T=>{c({side:T}),h(!0)},$e=()=>{console.log(`Remplissage de la colonne ${d.side} avec ordre de remplissage ${p} à la date ${f}`),h(!1),u(""),j("")},Ue=()=>{s&&y.trim()!==""&&s(t.id,{tableNumber:y.trim()}),S(!1)},it=()=>{w(t.tableNumber),S(!1)},rt=()=>{if(typeof k=="number"){const F=(Math.random()*2-1)*.2,H=k*(1+F);E(Number(H.toFixed(1)))}console.log(`Échantillonnage enregistré avec un taux de mortalité de ${k}% à la date ${se}`),v(!1)},ls=()=>{D(""),E(null),q(L(new Date,"yyyy-MM-dd")),v(!0)},Pt=T=>{T.preventDefault();const F={source:je,date:L(new Date,"yyyy-MM-dd"),batchNumber:`NAIS-${new Date().getTime()}`};console.log("Naissain enregistré:",F),s&&s(t.id,{naissainSource:F.source,naissainBatchNumber:F.batchNumber}),ae(!1),C("")},At=()=>{console.log(`Recherche dans l'historique pour la date: ${A}`)},gt=T=>{var ne;const F=(ne=T.target.files)==null?void 0:ne[0];if(!F)return;Te("");const H=new FileReader;H.onload=ye=>{var lt;try{const qe=(lt=ye.target)==null?void 0:lt.result,qt=Mi(qe,{type:"binary"}),ii=qt.SheetNames[0],ri=qt.Sheets[ii],ns=Fi.sheet_to_json(ri);if(ns.length===0){Te("Le fichier ne contient pas de données valides.");return}K(ns),$(ns.slice(0,5))}catch(qe){console.error("Erreur lors de la lecture du fichier Excel:",qe),Te("Une erreur est survenue lors de la lecture du fichier. Vérifiez que le format est correct.")}},H.onerror=()=>{Te("Une erreur est survenue lors de la lecture du fichier.")},H.readAsBinaryString(F)},Lt=()=>{if(ie.length===0){Te("Aucune donnée à importer.");return}if(console.log("Importation des données:",ie),s){const T={lastUpdated:new Date().toISOString()};s(t.id,T)}xe(!1),K([]),$([])};return e.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:i,children:[e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-2xl",onClick:r,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:(t==null?void 0:t.name)||"Détails de la table"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Ge,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:t.temperature?`${t.temperature}°C`:"Non disponible"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(we,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.salinity,"g/L"]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(de,{size:20,className:"mr-2 text-brand-tertiary"}),"Mortalité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.mortalityRate,"%"]})]})]}),(t==null?void 0:t.currentBatch)&&e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ee,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",t.currentBatch.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[t.currentBatch.quantity," unités"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Date de récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:L(new Date(t.currentBatch.estimatedHarvestDate),"PP",{locale:W})})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(le,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:L(new Date(t.lastCheck),"PP",{locale:W})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:L(new Date(t.nextCheck),"PP",{locale:W})})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",onClick:()=>_(!0),children:"Historique"}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",onClick:()=>Qe("left"),children:"Remplir colonne gauche"}),e.jsx("button",{className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",onClick:()=>Qe("right"),children:"Remplir colonne droite"}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",onClick:ls,children:"Échantillonnage"}),e.jsx("button",{className:"px-4 py-2 text-white/70 hover:text-white transition-colors",onClick:a,children:"Fermer"})]})]})]}),e.jsxs(g.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"w-80 glass-effect rounded-lg p-4 self-start mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-white font-medium flex items-center",children:[e.jsx(mt,{size:16,className:"mr-2 text-brand-burgundy"}),"Types d'huîtres"]}),e.jsx("button",{onClick:()=>m(!x),className:"text-white/60 hover:text-white transition-colors",children:x?"Réduire":"Voir"})]}),e.jsx(U,{children:x&&e.jsx(g.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3 overflow-hidden",children:[{type:"triplo",label:"Triploïdes",color:"bg-brand-burgundy",description:"Huîtres stériles à croissance rapide"},{type:"diplo",label:"Diploïdes",color:"bg-brand-primary",description:"Huîtres naturelles améliorées"},{type:"naturelle",label:"Naturelles",color:"bg-brand-tertiary",description:"Huîtres sauvages traditionnelles"}].map(T=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-lg ${T.color} shadow-neon border-2 border-white/80 shadow-[0_0_15px_rgba(255,255,255,0.6)] flex-shrink-0`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:T.label}),e.jsx("div",{className:"text-sm text-white/60",children:T.description})]})]},T.type))})})]}),e.jsx(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-[400px] h-[800px] bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden border border-white/10",children:e.jsx("div",{className:"relative h-full grid grid-cols-2 grid-rows-10 gap-1 p-8 transform rotate-0",children:t.cells.map((T,F)=>e.jsxs(g.button,{onClick:()=>n(T),className:`relative rounded-md transition-all duration-300 group ${T.filled?`${T.type==="triplo"?"bg-brand-burgundy shadow-neon":T.type==="diplo"?"bg-brand-primary shadow-neon":"bg-brand-tertiary shadow-neon"}`:"bg-white/5 hover:bg-white/10"}`,variants:{initial:{opacity:.6,scale:.95},animate:H=>({opacity:[.6,1,.6],scale:[.95,1,.95],transition:{duration:3,repeat:1/0,delay:H*.1,ease:"easeInOut"}})},initial:"initial",animate:"animate",custom:F,children:[e.jsx("div",{className:"absolute inset-0 rounded-md border-2 border-white shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:T.filled&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-bold",children:T.fillOrder||F+1})})}),T.filled&&e.jsx("div",{className:"absolute bottom-1 right-1 text-[8px] text-white/60",children:T.ropeCount}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/40 rounded-md transition-opacity",children:e.jsx(He,{size:16,className:"text-white"})})]},T.id))})}),e.jsx(g.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"w-96 bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 h-full border-l border-white/10 overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),z?e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx("input",{type:"text",value:y,onChange:T=>w(T.target.value),className:"w-full p-2 bg-white/10 border border-white/20 rounded-lg text-white",autoFocus:!0}),e.jsx("button",{onClick:Ue,className:"p-2 bg-brand-primary/20 hover:bg-brand-primary/40 rounded-lg transition-colors",title:"Valider",children:e.jsx(Ds,{size:18,className:"text-white"})}),e.jsx("button",{onClick:it,className:"p-2 bg-red-500/20 hover:bg-red-500/40 rounded-lg transition-colors",title:"Annuler",children:e.jsx(R,{size:18,className:"text-white"})})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-white/60",children:t.tableNumber}),e.jsx("button",{onClick:()=>S(!0),className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:e.jsx(He,{size:14,className:"text-white/60"})})]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(R,{size:24,className:"text-white/60"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Ge,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(we,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.salinity,"g/L"]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(be,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:L(new Date(t.lastCheck),"PP",{locale:W})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:L(new Date(t.nextCheck),"PP",{locale:W})})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),e.jsxs("span",{className:`text-lg font-medium ${t.mortalityRate>3?"text-red-400":t.mortalityRate>2?"text-yellow-400":"text-green-400"}`,children:[t.mortalityRate,"%"]})]})})]})]}),t.currentBatch&&e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ee,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",t.currentBatch.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[t.currentBatch.quantity," unités"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),e.jsx("span",{className:"text-white font-medium",children:(jt=t.currentBatch)!=null&&jt.estimatedHarvestDate?L(new Date(t.currentBatch.estimatedHarvestDate),"PP",{locale:W}):"Non définie"})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(os,{size:20,className:"mr-2 text-brand-tertiary"}),"Importation de données"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),e.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[e.jsx(Se,{size:16,className:"mr-1"}),"Télécharger un modèle de fichier"]}),e.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),e.jsxs("button",{onClick:()=>xe(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[e.jsx(Me,{size:18}),"Importer des données"]})]})]})]})}),e.jsx(U,{children:l&&e.jsx(ml,{cell:l,onClose:()=>n(null),onUpdate:T=>bt(l.id,T),setShowNaissainModal:ae})}),e.jsx(U,{children:b&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Remplissage de la colonne ",d.side]}),e.jsx("button",{onClick:()=>h(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:T=>{T.preventDefault(),$e()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Ordre de remplissage"}),e.jsx("input",{type:"number",value:p,onChange:T=>u(T.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date de remplissage"}),e.jsx("input",{type:"date",value:f,onChange:T=>j(T.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Remplir la colonne"})]})]})]})})}),e.jsx(U,{children:M&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Échantillonnage"}),e.jsx("button",{onClick:()=>v(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:T=>{T.preventDefault(),rt()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taux évalué de mortalité"}),e.jsx("input",{type:"number",value:k,onChange:T=>D(T.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: 3.7%"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taux potentiel de mortalité (IA)"}),e.jsx("input",{type:"number",value:B,onChange:T=>E(T.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Prédiction IA calculée automatiquement",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date d'échantillonnage"}),e.jsx("input",{type:"date",value:se,onChange:T=>q(T.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'échantillonnage"})]})]})]})})}),e.jsx(U,{children:X&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestion du Naissain"}),e.jsx("button",{onClick:()=>ae(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:Pt,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Source du naissain (écloserie)"}),e.jsx("input",{type:"text",value:je,onChange:T=>C(T.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: Écloserie Atlantique"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot fournisseur"}),e.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: ATLANT-2025-0012"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date de réception"}),e.jsx("input",{type:"date",className:"w-full p-4 bg-white/5 rounded-lg text-white",defaultValue:L(new Date,"yyyy-MM-dd")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité reçue"}),e.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: 10000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes sur la qualité"}),e.jsx("textarea",{className:"w-full p-4 bg-white/5 rounded-lg text-white h-24 resize-none",placeholder:"Observations sur la qualité du naissain à la réception..."})]}),e.jsxs("div",{className:"bg-brand-burgundy/20 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-brand-burgundy mb-2",children:[e.jsx(mt,{size:20,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Numéro de traçabilité"})]}),e.jsxs("div",{className:"text-white font-mono",children:["NAIS-",new Date().getTime()]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Ce numéro sera utilisé pour la traçabilité et permettra de suivre la performance de ce lot de naissain."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>ae(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer le naissain"})]})]})]})})}),e.jsx(U,{children:N&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Historique de la table ",t==null?void 0:t.name]}),e.jsx("button",{onClick:()=>_(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Rechercher par date"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"date",value:A,onChange:T=>J(T.target.value),className:"p-2 bg-white/5 rounded-lg text-white"}),e.jsx("button",{onClick:At,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Rechercher"})]})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsxs("h4",{className:"text-white font-medium mb-4",children:["Données pour le ",L(new Date(A),"dd MMMM yyyy",{locale:W})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Ge,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(we,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(de,{size:20,className:"mr-2 text-brand-tertiary"}),"Mortalité"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5%"})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ee,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsx("span",{className:"text-white font-medium",children:"5000 unités"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Date de récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Source du naissain"}),e.jsx("span",{className:"text-white font-medium",children:"Écloserie Atlantique"})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4 mt-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(le,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:"26 févr. 2025"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",children:"Exporter les données"}),e.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})]})]})]})})}),e.jsx(U,{children:O&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{size:24,className:"mr-3 text-brand-tertiary"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Importer des données"})]}),e.jsx("button",{onClick:()=>xe(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"mb-6 bg-white/5 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"Format de fichier attendu"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Votre fichier Excel doit contenir les colonnes suivantes :"}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 text-sm mt-2 space-y-1",children:[e.jsx("li",{children:"Position (ID de la case)"}),e.jsx("li",{children:"Type (type de production)"}),e.jsx("li",{children:"Quantité (nombre d'unités)"}),e.jsx("li",{children:"Date de mise en place (format JJ/MM/AAAA)"}),e.jsx("li",{children:"Calibre (taille des huîtres)"}),e.jsx("li",{children:"Source (provenance du naissain)"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[e.jsx(Se,{size:16,className:"mr-1"}),"Télécharger un modèle de fichier"]})})]}),e.jsxs("form",{onSubmit:T=>{T.preventDefault(),Lt()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Sélectionner un fichier Excel (.xlsx, .xls) ou CSV"}),e.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center cursor-pointer hover:border-white/40 transition-colors",onClick:()=>{var T;return(T=at.current)==null?void 0:T.click()},children:[e.jsx(Me,{size:36,className:"mx-auto text-white/60 mb-3"}),e.jsx("p",{className:"text-white/80 mb-2",children:"Glissez-déposez votre fichier ici ou cliquez pour parcourir"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Formats supportés: .xlsx, .xls, .csv"}),e.jsx("input",{type:"file",ref:at,onChange:gt,className:"hidden",accept:".xlsx, .xls, .csv"})]})]}),Fe&&e.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 text-red-300 p-4 rounded-lg text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Erreur d'importation"}),Fe]}),P.length>0&&e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsxs("h4",{className:"text-white font-medium mb-4",children:["Aperçu des données (",ie.length," enregistrements au total)"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-white/10",children:Object.keys(P[0]).map(T=>e.jsx("th",{className:"text-left py-2 px-3 text-white/80",children:T},T))})}),e.jsx("tbody",{children:P.map((T,F)=>e.jsx("tr",{className:"border-b border-white/5",children:Object.keys(T).map(H=>e.jsx("td",{className:"py-2 px-3 text-white/70",children:T[H]},H))},F))})]})}),e.jsx("div",{className:"mt-4 text-white/60 text-sm",children:"* Seules les 5 premières lignes sont affichées"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>xe(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",disabled:ie.length===0,className:`px-4 py-2 rounded-lg text-white transition-colors flex items-center 
                    ${ie.length===0?"bg-white/20 cursor-not-allowed":"bg-brand-burgundy hover:bg-brand-burgundy/90"}`,children:[e.jsx(os,{size:18,className:"mr-2"}),"Importer les données"]})]})]})]})})})]})}function ul({isOpen:t,onClose:a}){const{register:s,handleSubmit:r,formState:{errors:i}}=pt(),l=n=>{console.log(n),a()};return e.jsx(ke,{isOpen:t,onClose:a,title:"Nouvel Article",size:"xl",children:e.jsxs("form",{onSubmit:r(l),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'article"}),e.jsx("input",{...s("name",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.name&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"SKU"}),e.jsx("input",{...s("sku",{required:"Le SKU est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.sku&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.sku.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{...s("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),e.jsxs("select",{...s("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"huitres",children:"Huîtres"}),e.jsx("option",{value:"materiels",children:"Matériels"}),e.jsx("option",{value:"emballages",children:"Emballages"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),e.jsxs("select",{...s("unit"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"douzaines",children:"Douzaines"}),e.jsx("option",{value:"unites",children:"Unités"}),e.jsx("option",{value:"kg",children:"Kilogrammes"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock actuel"}),e.jsx("input",{type:"number",...s("currentStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock minimum"}),e.jsx("input",{type:"number",...s("minimumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock maximum"}),e.jsx("input",{type:"number",...s("maximumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix d'achat"}),e.jsx("input",{type:"number",step:"0.01",...s("costPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix de vente"}),e.jsx("input",{type:"number",step:"0.01",...s("sellingPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Emplacement"}),e.jsx("input",{...s("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Fournisseur"}),e.jsxs("select",{...s("supplier"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",children:"Sélectionner un fournisseur"}),e.jsx("option",{value:"supplier1",children:"Fournisseur 1"}),e.jsx("option",{value:"supplier2",children:"Fournisseur 2"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Créer l'article"})]})]})})}const pl=[{label:"Huîtres",value:"huitres"},{label:"Matériels",value:"materiels"},{label:"Emballages",value:"emballages"}],bl=[{label:"Zone A",value:"zone_a"},{label:"Zone B",value:"zone_b"},{label:"Zone C",value:"zone_c"}],gl=[{label:"En stock",value:"in_stock"},{label:"Stock faible",value:"low_stock"},{label:"Rupture",value:"out_of_stock"}];function jl({isOpen:t,onClose:a,onApplyFilters:s}){const[r,i]=Q.useState([]),[l,n]=Q.useState([]),[x,m]=Q.useState([]),[b,h]=Q.useState({min:"",max:""}),d=()=>{s({categories:r,locations:l,status:x,priceRange:b}),a()},c=()=>{i([]),n([]),m([]),h({min:"",max:""})};return e.jsx(ke,{isOpen:t,onClose:a,title:"Filtres avancés",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:pl.map(p=>e.jsx("button",{onClick:()=>{i(u=>u.includes(p.value)?u.filter(f=>f!==p.value):[...u,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${r.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Emplacement"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:bl.map(p=>e.jsx("button",{onClick:()=>{n(u=>u.includes(p.value)?u.filter(f=>f!==p.value):[...u,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${l.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut du stock"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:gl.map(p=>e.jsx("button",{onClick:()=>{m(u=>u.includes(p.value)?u.filter(f=>f!==p.value):[...u,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${x.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Fourchette de prix"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix minimum"}),e.jsx("input",{type:"number",value:b.min,onChange:p=>h({...b,min:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix maximum"}),e.jsx("input",{type:"number",value:b.max,onChange:p=>h({...b,max:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"100"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsx("button",{onClick:c,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-primary rounded-lg text-sm text-white hover:bg-brand-primary/90 transition-colors",children:"Appliquer les filtres"})]})]})]})})}const Hs=[{id:"M001",name:"Moules de Méditerranée",type:"moules",price:4.5,unit:"kg",minOrder:100,description:"Moules de Méditerranée, chair généreuse et iodée",origin:"Méditerranée",calibre:"40/50",conservation:"5 jours",certification:["Label Rouge","Pêche durable"]},{id:"P001",name:"Palourdes de l'étang de Thau",type:"palourdes",price:12.9,unit:"kg",minOrder:50,description:"Palourdes sauvages de l'étang de Thau, qualité exceptionnelle",origin:"Étang de Thau",calibre:"20/30",conservation:"7 jours",certification:["IGP Thau"]}],fl=[{id:"CDB",name:"CDB - Coquillages De Bretagne",address:"12 Quai des Marées, 56000 Vannes",contact:"02.97.54.32.10",preferredProducts:["Moules","Palourdes"],lastDelivery:"2025-02-24",reliability:97,status:"active"},{id:"1",name:"Fournisseur A",address:"123 Rue de la Mer",contact:"0123456789",preferredProducts:["Huîtres","Palourdes"],lastDelivery:"2025-02-20",reliability:98,status:"active"}];function wl(){const[t,a]=o.useState(null),[s,r]=o.useState(0),[i,l]=o.useState(null),[n,x]=o.useState(null),[m,b]=o.useState(!1),[h,d]=o.useState(0),[c,p]=o.useState({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),u=w=>{const M=parseInt(w,10);!isNaN(M)&&M>=0&&r(M)},f=()=>t&&s?(t.price*s).toFixed(2):"0.00",j=w=>{switch(w){case"moules":return e.jsx(ee,{className:"w-4 h-4"});case"palourdes":return e.jsx(ja,{className:"w-4 h-4"});default:return e.jsx(me,{className:"w-4 h-4"})}},z=()=>{console.log("Commande confirmée:",{product:t==null?void 0:t.name,quantity:s,total:f()}),a(null),r(0)},S=w=>{var v;const M=(v=w.target.files)==null?void 0:v[0];M&&p(k=>({...k,invoice:M}))},y=w=>{w.preventDefault(),console.log("Nouveau achat:",{...c,rating:h}),b(!1),p({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),d(0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configuration des achats"}),e.jsxs(G,{onClick:()=>b(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-brand-blue/90 text-white",children:[e.jsx(Z,{className:"w-4 h-4"}),"Nouvel achat"]})]}),e.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:fl.map(w=>e.jsxs(Ye,{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"relative p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"w-5 h-5 text-brand-burgundy"}),e.jsx("h3",{className:"text-base font-medium text-white",children:w.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-white/60",children:w.address}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx(ce,{className:"w-4 h-4"}),w.contact]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-green-500/20 text-green-500 rounded-lg",children:["Fiabilité ",w.reliability,"%"]}),e.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-blue-500/20 text-blue-500 rounded-lg",children:["Dernière livraison : ",w.lastDelivery]})]})]})})})]},w.id))}),n==="CDB"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Catalogue CDB"}),e.jsx("p",{className:"text-sm text-white/60",children:"Sélectionnez vos produits et passez commande"})]}),e.jsxs(G,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),"Nouveau produit"]})]}),e.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:Hs.map(w=>e.jsxs(Ye,{className:`relative overflow-hidden cursor-pointer transition-all duration-200 ${(t==null?void 0:t.id)===w.id?"ring-2 ring-brand-burgundy ring-offset-2 ring-offset-black":"hover:bg-white/5"}`,onClick:()=>a(w),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-base font-medium text-white",children:w.name}),e.jsx("p",{className:"text-sm text-white/60",children:w.description})]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-brand-burgundy/20 rounded-lg",children:[j(w.type),e.jsx("span",{className:"text-xs font-medium text-brand-burgundy",children:w.type})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"w-4 h-4 text-white/40"}),e.jsx("span",{className:"text-sm text-white",children:w.origin})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"w-4 h-4 text-white/40"}),e.jsxs("span",{className:"text-sm text-white",children:[w.price,"€/",w.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-4 h-4 text-white/40"}),e.jsxs("span",{className:"text-sm text-white",children:["Min. ",w.minOrder,w.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_i,{className:"w-4 h-4 text-white/40"}),e.jsx("span",{className:"text-sm text-white",children:w.calibre})]})]}),w.certification&&e.jsx("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:w.certification.map((M,v)=>e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-lg",children:M},v))})]})]},w.id))})]}),t&&e.jsxs(Ye,{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"relative p-4",children:e.jsx("div",{className:"flex items-start gap-4",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-base font-medium text-white",children:["Commander ",t.name]}),e.jsx(G,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",onClick:()=>l(t.id),children:e.jsx(mt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm text-white/60",children:["Quantité (",t.unit,")"]}),e.jsx(I,{type:"number",value:s,onChange:w=>u(w.target.value),min:0,className:"bg-white/5 border-white/10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Total estimé"}),e.jsx("div",{className:"h-9 px-3 flex items-center bg-white/5 rounded-md border border-white/10",children:e.jsxs("span",{className:"text-white font-medium",children:[f(),"€"]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsxs("p",{className:"text-sm text-white/60",children:["Minimum de commande : ",t.minOrder,t.unit]}),e.jsx(G,{variant:"default",size:"sm",disabled:s<t.minOrder,className:"bg-brand-burgundy hover:bg-brand-burgundy/90",onClick:z,children:"Confirmer la commande"})]})]})})})]}),i&&e.jsx(Jt,{open:!!i,children:e.jsxs(Ct,{children:[e.jsx(St,{children:e.jsx(Dt,{children:"Détails du produit"})}),(()=>{var M;const w=Hs.find(v=>v.id===i);return w?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white/5 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-brand-burgundy/20 rounded-lg",children:j(w.type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white",children:w.name}),e.jsx("p",{className:"text-sm text-white/60",children:w.description})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-white mb-2",children:"Caractéristiques"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Calibre"}),e.jsx("span",{className:"text-sm text-white",children:w.calibre})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Conservation"}),e.jsx("span",{className:"text-sm text-white",children:w.conservation})]})]})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-white mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(M=w.certification)==null?void 0:M.map((v,k)=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 rounded-lg text-sm",children:v},k))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(G,{variant:"outline",onClick:()=>l(null),children:"Fermer"})})]}):null})()]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),e.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),e.jsx(I,{type:"text",value:c.supplier,onChange:w=>p(M=>({...M,supplier:w.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du produit"}),e.jsx(I,{type:"text",value:c.product,onChange:w=>p(M=>({...M,product:w.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),e.jsx(I,{type:"date",value:c.expiryDate,onChange:w=>p(M=>({...M,expiryDate:w.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Lieu de stockage"}),e.jsxs("select",{value:c.storageLocation,onChange:w=>p(M=>({...M,storageLocation:w.target.value})),className:"w-full px-3 py-2 rounded-md bg-brand-dark/80 border border-brand-blue/30 text-white focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner un lieu de stockage"}),e.jsx("option",{value:"Frigo 1",children:"Frigo 1"}),e.jsx("option",{value:"Frigo 2",children:"Frigo 2"}),e.jsx("option",{value:"Congélateur 1",children:"Congélateur 1"}),e.jsx("option",{value:"Congélateur 2",children:"Congélateur 2"}),e.jsx("option",{value:"Remise",children:"Remise"}),e.jsx("option",{value:"Cave",children:"Cave"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation du produit"}),e.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(w=>e.jsx("button",{type:"button",onClick:()=>d(w),className:"focus:outline-none",children:e.jsx(ve,{size:24,className:w<=h?"text-yellow-400 fill-yellow-400":"text-white/20"})},w))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:S,className:"hidden"}),e.jsx(Me,{className:"w-5 h-5 text-white/60 mr-2"}),e.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),e.jsxs(G,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(ss,{className:"w-4 h-4"}),"Photo"]}),e.jsxs(G,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(ga,{className:"w-4 h-4"}),"Scanner"]})]}),c.invoice&&e.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",c.invoice.name]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(G,{type:"button",variant:"ghost",onClick:()=>b(!1),children:"Annuler"}),e.jsx(G,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function vl({isOpen:t,onClose:a}){const{register:s,handleSubmit:r,formState:{errors:i},setValue:l,watch:n}=pt({defaultValues:{rating:0,quantity:1,unitPrice:0}}),[x,m]=o.useState(null),b=n("rating"),h=p=>{console.log(p),a()},d=p=>{var f;const u=(f=p.target.files)==null?void 0:f[0];if(u){const j=new FileReader;j.onloadend=()=>{m(j.result)},j.readAsDataURL(u)}},c=p=>{l("rating",p)};return e.jsx(ke,{isOpen:t,onClose:a,title:"Nouvel achat",size:"lg",children:e.jsxs("form",{onSubmit:r(h),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),e.jsx("input",{...s("productName",{required:"Le nom du produit est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.productName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.productName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),e.jsx("input",{...s("supplierName",{required:"Le nom du fournisseur est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.supplierName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.supplierName.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"DLC"}),e.jsx("input",{type:"date",...s("expiryDate",{required:"La DLC est requise"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.expiryDate&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.expiryDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),e.jsx("input",{...s("storageLocation",{required:"Le lieu de stockage est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.storageLocation&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.storageLocation.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Quantité"}),e.jsx("input",{type:"number",min:"1",...s("quantity",{required:"La quantité est requise",min:{value:1,message:"La quantité doit être supérieure à 0"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.quantity&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.quantity.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix unitaire (€)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",...s("unitPrice",{required:"Le prix unitaire est requis",min:{value:0,message:"Le prix doit être positif"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.unitPrice&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.unitPrice.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Note de qualité"}),e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(p=>e.jsx("button",{type:"button",onClick:()=>c(p),className:"focus:outline-none",children:e.jsx(ve,{size:24,className:`${p<=b?"text-yellow-400 fill-current":"text-white/20"} transition-colors`})},p))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes / Commentaires"}),e.jsx("textarea",{...s("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez des notes ou commentaires sur l'achat..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),e.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:x?e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx("img",{src:x,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>m(null),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(Me,{size:20,className:"mr-2"}),e.jsx("span",{children:"Choisir un fichier"}),e.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:d})]})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(ss,{size:20,className:"mr-2"}),e.jsx("span",{children:"Prendre une photo"})]})})]})}),e.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Traçabilité et Comptabilité"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:a,className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})})}const Nl=()=>{var Lt,jt,T;const[t,a]=o.useState("tables"),[s,r]=o.useState(""),[i,l]=o.useState(null),[n,x]=o.useState(null),[m,b]=o.useState(!1),[h,d]=o.useState(!1),[c,p]=o.useState(!1),[u,f]=o.useState(null),[j,z]=o.useState(!1),[S,y]=o.useState(!1),[w,M]=o.useState(null),[v,k]=o.useState(""),[D,B]=o.useState({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),[E,se]=o.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]}),q=Q.useRef(null),X=F=>{const H=Math.floor(Math.random()*1e4);return`${F}-${H.toString().padStart(5,"0")}`},ae=()=>{if(!u||!D.name||!D.quantity)return;let F="";u.includes("Frigo")?F="F":u.includes("Congélateur")?F="C":u==="Remise"?F="R":u==="Cave"&&(F="CA");const H={id:X(F),name:D.name,quantity:`${D.quantity}${D.unit==="unités"?" unités":D.unit==="bouteilles"?" bouteilles":D.unit}`,arrivalDate:D.arrivalDate,expiryDate:D.expiryDate===""?"N/A":D.expiryDate};se({...E,[u]:[...E[u],H]}),B({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),z(!1)},je=(F,H)=>{M({id:H.id,name:H.name,quantity:H.quantity});const ne=H.quantity.match(/^(\d+(?:\.\d+)?)/);ne&&ne[1]?k(ne[1]):k(""),y(!0)},C=F=>{const H=F.match(/[a-zA-Z]+|unités|bouteilles/);return H?H[0]:""},N=F=>{const H=F.match(/^(\d+(?:\.\d+)?)/);return H?parseFloat(H[1]):0},_=()=>{if(!u||!w)return;const F=N(w.quantity),H=parseFloat(v),ne=C(w.quantity),ye=[...E[u]],lt=ye.findIndex(qe=>qe.id===w.id);if(lt!==-1){if(H>=F){const qe=ye.filter(qt=>qt.id!==w.id);se({...E,[u]:qe}),console.log(`Produit ${w.id} entièrement retiré de ${u}`)}else{const qe={...ye[lt],quantity:`${(F-H).toFixed(2).replace(/\.00$/,"")}${ne}`};ye[lt]=qe,se({...E,[u]:ye}),console.log(`${v}${ne} de ${w.name} retiré de ${u}`)}y(!1),M(null),k("")}},{handlers:A,isRefreshing:J}=Pr(async()=>{await new Promise(F=>setTimeout(F,1e3))}),O=()=>{switch(t){case"tables":return"Tables";case"trempes":return"Trempes";case"pools":return"Bassins";case"autres":return"Autres emplacements";case"achats":return"Achats";case"charges":return"Charges";default:return""}},[xe,ie]=o.useState(!1),{register:K,handleSubmit:P,formState:{errors:$}}=pt({defaultValues:{chargeName:"",amount:0,description:"",invoice:null}}),[Fe,Te]=o.useState(null),at=F=>{console.log(F),ie(!1)},bt=F=>{var ne;const H=(ne=F.target.files)==null?void 0:ne[0];if(H){const ye=new FileReader;ye.onloadend=()=>{Te(ye.result)},ye.readAsDataURL(H)}},Qe=()=>{Te(null)};o.useState(!1);const $e=[{id:"CH-001",name:"Carburant voiture",amount:50,date:"2025-03-01"},{id:"CH-002",name:"Carburant bateau",amount:75,date:"2025-03-03"},{id:"CH-003",name:"Réparation équipement",amount:200,date:"2025-03-05"}],[Ue,it]=o.useState(!1),[rt,ls]=o.useState(null),[Pt,At]=o.useState(!1),gt=F=>{ls(F),At(!0)};return e.jsxs("div",{ref:q,className:"p-6 space-y-6",...A,children:[e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[e.jsxs("div",{className:"relative mr-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),e.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:e.jsx(Pi,{size:28,className:"text-white"})})]}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Inventaire"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:O()}),e.jsx("div",{className:"flex items-center space-x-3"})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("tables"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="tables"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{size:16,className:"mr-2"}),"Tables"]})}),e.jsx("button",{onClick:()=>a("trempes"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="trempes"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{size:16,className:"mr-2"}),"Trempes"]})}),e.jsx("button",{onClick:()=>a("pools"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="pools"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{size:16,className:"mr-2"}),"Bassins"]})}),e.jsx("button",{onClick:()=>a("autres"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="autres"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{size:16,className:"mr-2"}),"Autres emplacements"]})}),e.jsx("button",{onClick:()=>a("achats"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="achats"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{size:16,className:"mr-2"}),"Achats"]})}),e.jsx("button",{onClick:()=>a("charges"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="charges"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ze,{size:16,className:"mr-2"}),"Charges"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:F=>r(F.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Filtres"]})]}),t==="tables"&&e.jsx(tl,{onTableSelect:l,onTableHover:x,hoveredTable:n,selectedTable:i}),t==="pools"&&e.jsx(ll,{}),t==="trempes"&&e.jsx(xl,{}),t==="autres"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-medium text-white",children:"Lieux de stockage alternatifs"}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Z,{size:18,className:"mr-2"}),"Ajouter lieu de stockage"]})]}),e.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Frigo 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(we,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"500 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"65%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Frigo 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(we,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"300 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"30%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Congélateur 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Ge,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"200 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"85%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Congélateur 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Ge,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"150 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"40%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Remise"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:e.jsx(me,{size:18,className:"text-amber-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),e.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"1000 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"55%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Cave"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:e.jsx(Pe,{size:18,className:"text-purple-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),e.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"800 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"25%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})})]}),t==="achats"&&e.jsx(wl,{}),i&&e.jsx(hl,{table:i,onClose:()=>l(null)}),m&&t!=="achats"&&e.jsx(ul,{isOpen:m,onClose:()=>b(!1)}),m&&t==="achats"&&e.jsx(vl,{isOpen:m,onClose:()=>b(!1)}),h&&e.jsx(jl,{isOpen:h,onClose:()=>d(!1)}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${u.includes("Frigo")?"bg-blue-500/20":u.includes("Congélateur")?"bg-cyan-500/20":u==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:u.includes("Frigo")?e.jsx(we,{size:20,className:"text-blue-400"}):u.includes("Congélateur")?e.jsx(Ge,{size:20,className:"text-cyan-400"}):u==="Remise"?e.jsx(me,{size:20,className:"text-amber-400"}):e.jsx(Pe,{size:20,className:"text-purple-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:u})]}),e.jsx("button",{onClick:()=>f(null),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-white/70",children:[(Lt=E[u])==null?void 0:Lt.length," produits stockés"]})}),e.jsxs("button",{onClick:()=>z(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors flex items-center gap-2",children:[e.jsx(Z,{size:16}),"Ajouter un produit"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[e.jsx("div",{children:"Produit"}),e.jsx("div",{children:"Quantité"}),e.jsx("div",{children:"Date d'arrivée"}),e.jsx("div",{children:"DLC"}),e.jsx("div",{className:"text-right",children:"Actions"})]}),((jt=E[u])==null?void 0:jt.length)>0?(T=E[u])==null?void 0:T.map(F=>e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[e.jsx("div",{className:"font-medium",children:F.name}),e.jsx("div",{children:F.quantity}),e.jsx("div",{children:F.arrivalDate}),e.jsx("div",{children:F.expiryDate==="N/A"?e.jsx("span",{className:"text-white/50",children:"N/A"}):e.jsx("span",{className:`${new Date(F.expiryDate)<new Date?"text-red-400":new Date(F.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:F.expiryDate})}),e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx("button",{onClick:H=>{H.stopPropagation(),je(u,F)},className:"px-3 py-1 bg-brand-burgundy/80 hover:bg-brand-burgundy text-white text-xs rounded-lg transition-colors",children:"Sortir"})})]},F.id)):e.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})}),j&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Ajouter un produit - ",u]}),e.jsx("button",{onClick:()=>z(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:F=>{F.preventDefault(),ae()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Nom du produit"}),e.jsx("input",{type:"text",value:D.name,onChange:F=>B({...D,name:F.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: Huîtres Fines de Claire"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité"}),e.jsx("input",{type:"text",value:D.quantity,onChange:F=>B({...D,quantity:F.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: 50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Unité"}),e.jsxs("select",{value:D.unit,onChange:F=>B({...D,unit:F.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"g",children:"g"}),e.jsx("option",{value:"tonnes",children:"tonnes"}),e.jsx("option",{value:"unités",children:"unités"}),e.jsx("option",{value:"bouteilles",children:"bouteilles"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'arrivée"}),e.jsx("input",{type:"date",value:D.arrivalDate,onChange:F=>B({...D,arrivalDate:F.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'expiration (DLC)"}),e.jsx("input",{type:"date",value:D.expiryDate,onChange:F=>B({...D,expiryDate:F.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"}),e.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Laissez vide si non applicable"})]}),e.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter"})]})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Nouveau lieu de stockage"}),e.jsx("button",{onClick:()=>p(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),e.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Entrepôt principal"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type de stockage"}),e.jsxs("select",{className:"w-full p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"",children:"Sélectionner un type"}),e.jsx("option",{value:"frigo",children:"Frigo"}),e.jsx("option",{value:"congelateur",children:"Congélateur"}),e.jsx("option",{value:"remise",children:"Remise"}),e.jsx("option",{value:"other",children:"Autre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Capacité (estimée)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: 1000"}),e.jsxs("select",{className:"p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"tonnes",children:"tonnes"}),e.jsx("option",{value:"units",children:"unités"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})]})}),S&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Sortir un produit"}),e.jsx("button",{onClick:()=>{y(!1),M(null)},className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-white text-lg mb-2",children:w.name}),e.jsxs("p",{className:"text-white/70",children:["Quantité disponible: ",w.quantity]})]}),e.jsxs("form",{onSubmit:F=>{F.preventDefault(),_()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité à sortir"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",min:"0.01",step:"0.01",max:N(w.quantity),value:v,onChange:F=>k(F.target.value),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-l-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Quantité"}),e.jsx("span",{className:"bg-white/10 text-white px-4 py-3 rounded-r-lg border-t border-r border-b border-brand-blue/30",children:C(w.quantity)})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>{y(!1),M(null)},className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Confirmer"})]})]})]})}),t==="charges"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-medium text-white",children:"Charges"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>ie(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Ze,{size:18,className:"mr-2"}),"Nouvelle Charge"]}),e.jsxs("button",{onClick:()=>it(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(as,{size:18,className:"mr-2"}),"Calendrier"]})]})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(ze,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Carburant voiture"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-01"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"50 €"}),e.jsx("button",{onClick:()=>gt($e[0]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(ot,{size:20})})]})]}),e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(ze,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Carburant bateau"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-03"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"75 €"}),e.jsx("button",{onClick:()=>gt($e[1]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(ot,{size:20})})]})]}),e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(ze,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Réparation équipement"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-05"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"200 €"}),e.jsx("button",{onClick:()=>gt($e[2]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(ot,{size:20})})]})]})]}),xe&&e.jsx(ke,{isOpen:xe,onClose:()=>ie(!1),title:"Nouvelle Charge",size:"lg",children:e.jsxs("form",{onSubmit:P(at),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la charge"}),e.jsx("input",{...K("chargeName",{required:"Le nom de la charge est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),$.chargeName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:$.chargeName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Montant (€)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",...K("amount",{required:"Le montant est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),$.amount&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:$.amount.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{...K("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez une description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),e.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:Fe?e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx("img",{src:Fe,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),e.jsx("button",{type:"button",onClick:Qe,className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(Me,{size:20,className:"mr-2"}),e.jsx("span",{children:"Choisir un fichier"}),e.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:bt})]})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(ss,{size:20,className:"mr-2"}),e.jsx("span",{children:"Prendre une photo"})]})})]})}),e.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Comptabilité"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:()=>ie(!1),className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})}),Ue&&e.jsx(ke,{isOpen:Ue,onClose:()=>it(!1),title:"Calendrier",size:"lg",children:e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-white",children:"Ici, vous pouvez intégrer un composant de calendrier."})})})]}),Pt&&rt&&e.jsx(ke,{isOpen:Pt,onClose:()=>At(!1),title:"Détails de la facture",size:"lg",children:e.jsx("div",{className:"p-4",children:e.jsxs("p",{className:"text-white",children:["Détails de la facture pour ",rt.name]})})}),J&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white/5 rounded-full p-4",children:e.jsx("div",{className:"w-8 h-8 border-2 border-brand-primary border-t-transparent rounded-full animate-spin"})})})]})},yl=[{id:"1",name:"Frigo 1",type:"frigo",capacity:500,occupation:65,icon:"droplets"},{id:"2",name:"Frigo 2",type:"frigo",capacity:300,occupation:30,icon:"droplets"},{id:"3",name:"Congélateur 1",type:"congélateur",capacity:200,occupation:85,icon:"thermometer"},{id:"4",name:"Congélateur 2",type:"congélateur",capacity:150,occupation:40,icon:"thermometer"},{id:"5",name:"Remise",type:"remise",capacity:1e3,occupation:55,icon:"package"},{id:"6",name:"Cave",type:"remise",capacity:800,occupation:25,icon:"map"}],kl=(t,a)=>{switch(t){case"droplets":return e.jsx(we,{className:a});case"thermometer":return e.jsx(Ge,{className:a});case"package":return e.jsx(me,{className:a});case"map":return e.jsx(Pe,{className:a})}},Cl=t=>{switch(t){case"frigo":return"blue";case"congélateur":return"cyan";case"remise":return t==="remise"?"amber":"purple";default:return"blue"}},Sl=()=>{const[t,a]=o.useState(null);return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:yl.map(s=>{const r=Cl(s.type);return e.jsxs("div",{className:"relative p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors cursor-pointer group",onClick:()=>a(s.id),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-md bg-${r}-500/20 flex items-center justify-center mr-3`,children:kl(s.icon,`text-${r}-400`)}),e.jsx("h3",{className:"text-white font-medium",children:s.name})]}),e.jsx("div",{className:`bg-${r}-500/20 text-${r}-400 text-xs px-2 py-1 rounded-full`,children:s.type.charAt(0).toUpperCase()+s.type.slice(1)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsxs("span",{className:"text-white",children:[s.capacity," kg"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsxs("span",{className:"text-white",children:[s.occupation,"%"]})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:`bg-${r}-400 h-full rounded-full`,style:{width:`${s.occupation}%`}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]},s.id)})})},Dl={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},ft={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},zl=[{id:"1",name:"Huîtres N°3",quantity:1e3,unit:"pièces",location:"Bassin A",lastUpdate:new Date},{id:"2",name:"Huîtres N°2",quantity:500,unit:"pièces",location:"Bassin B",lastUpdate:new Date},{id:"3",name:"Huîtres N°1",quantity:300,unit:"pièces",location:"Bassin C",lastUpdate:new Date}],Ml=()=>{const[t,a]=Q.useState(zl),[s,r]=Q.useState(""),i=Le(),l=n=>{i(`/tables/${n}`)};return e.jsxs(g.div,{initial:"hidden",animate:"visible",variants:Dl,className:"w-full space-y-6",children:[e.jsx(Ye,{children:e.jsxs("div",{className:"glass-effect rounded-xl p-6 border border-white/10",children:[e.jsxs(g.div,{variants:ft,className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Stock"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Gérez votre inventaire d'huîtres"})]}),e.jsxs(G,{className:"bg-brand-burgundy hover:bg-brand-burgundy/90 text-white px-4 py-2 rounded-lg transition-all duration-200 ease-out transform hover:-translate-y-px",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Nouveau stock"]})]}),e.jsxs(g.div,{variants:ft,className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),e.jsx(I,{type:"text",placeholder:"Rechercher un stock...",value:s,onChange:n=>r(n.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-white"})]}),e.jsxs(G,{variant:"outline",className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-all duration-200 ease-out transform hover:-translate-y-px",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Filtres"]})]}),e.jsx(g.div,{variants:ft,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(n=>e.jsxs(g.div,{variants:ft,className:"bg-white/5 rounded-xl p-4 border border-white/10 hover:border-white/20 transition-colors",style:{willChange:"transform, opacity"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:n.name}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-brand-burgundy/20 text-brand-burgundy",children:n.location})]}),e.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[e.jsxs("p",{children:["Quantité: ",n.quantity," ",n.unit]}),e.jsxs("p",{children:["Dernière mise à jour: ",n.lastUpdate.toLocaleDateString()]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsx(G,{variant:"outline",className:"w-full px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-all duration-200 ease-out transform hover:-translate-y-px",onClick:()=>l(n.id),children:"Voir les détails"})})]},n.id))})]})}),e.jsx(Ye,{children:e.jsxs(g.div,{variants:ft,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Autres emplacements"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Gérez vos espaces de stockage additionnels"})]}),e.jsx(Sl,{})]})})]})};class zt extends o.PureComponent{render(){const{series:a,height:s,showGrid:r,showLegend:i}=this.props;if(!a||a.length===0||!a[0].data)return e.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-white/5 rounded-lg border border-white/10",children:e.jsx("p",{className:"text-white/60",children:"Aucune donnée disponible"})});const l=a[0].data.map((n,x)=>{const m={name:n.name};return a.forEach(b=>{b.data[x]&&(m[b.name]=b.data[x].value)}),m});return e.jsx(Wt,{width:"100%",height:s,children:e.jsxs(Ai,{data:l,children:[r&&e.jsx(fa,{strokeDasharray:"3 3",stroke:"rgb(var(--color-border) / 0.5)"}),e.jsx(wa,{dataKey:"name",stroke:"rgb(var(--color-text-secondary))",fontSize:12}),e.jsx(va,{stroke:"rgb(var(--color-text-secondary))",fontSize:12}),e.jsx(ks,{contentStyle:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),i&&e.jsx(Li,{verticalAlign:"top",height:36,iconType:"circle",formatter:n=>e.jsx("span",{style:{color:"rgb(var(--color-text))"},children:n})}),a.map(n=>e.jsx(qi,{type:"monotone",dataKey:n.name,stroke:n.color,strokeWidth:2,dot:{fill:n.color,strokeWidth:0},activeDot:{r:6,strokeWidth:0}},n.name))]})})}}As(zt,"defaultProps",{height:300,showGrid:!0,showLegend:!0});const Fl={primary:{bg:"bg-brand-primary/10",border:"border-brand-primary/20",text:"text-brand-primary",shadow:"shadow-neon"},secondary:{bg:"bg-brand-secondary/10",border:"border-brand-secondary/20",text:"text-brand-secondary",shadow:"shadow-[0_0_20px_rgba(255,51,102,0.35)]"},tertiary:{bg:"bg-brand-tertiary/10",border:"border-brand-tertiary/20",text:"text-brand-tertiary",shadow:"shadow-[0_0_20px_rgba(112,0,255,0.35)]"}},Tl={sm:{padding:"p-3 md:p-4",iconSize:"w-8 h-8 md:w-10 md:h-10",valueSize:"text-xl md:text-2xl",labelSize:"text-xs md:text-sm"},md:{padding:"p-4 md:p-6",iconSize:"w-10 h-10 md:w-12 md:h-12",valueSize:"text-2xl md:text-3xl",labelSize:"text-sm md:text-base"},lg:{padding:"p-5 md:p-8",iconSize:"w-12 h-12 md:w-14 md:h-14",valueSize:"text-3xl md:text-4xl",labelSize:"text-base md:text-lg"}};function Be({icon:t,label:a,value:s,trend:r,color:i="primary",size:l="md"}){const n=Fl[i],x=Tl[l];return e.jsxs(g.div,{className:`relative glass-effect rounded-xl ${x.padding} group hover:glass-effect-hover touch-manipulation`,whileHover:{y:-4},transition:{duration:.2},children:[e.jsx("div",{className:`absolute inset-0 ${n.bg} rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`${x.iconSize} rounded-xl ${n.bg} ${n.border} border flex items-center justify-center group-hover:${n.shadow} transition-all duration-300`,children:e.jsx("div",{className:`${n.text}`,children:t})}),r&&e.jsxs("div",{className:`flex items-center ${r.positive?"text-green-500":"text-red-500"} text-xs md:text-sm font-medium`,children:[e.jsx("span",{className:"mr-1",children:r.positive?"↑":"↓"}),e.jsxs("span",{children:[Math.abs(r.value),"%"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:`${x.valueSize} font-bold text-white tracking-tight`,children:s}),e.jsx("p",{className:`${x.labelSize} text-gray-300 mt-1 font-medium`,children:a})]})]})]})}const _l=[{id:"1",name:"À réception",days:0},{id:"2",name:"30 jours",days:30},{id:"3",name:"60 jours",days:60}],Pl=[{id:"1",name:"TVA 20%",rate:20,isDefault:!0},{id:"2",name:"TVA 10%",rate:10,isDefault:!1},{id:"3",name:"TVA 5.5%",rate:5.5,isDefault:!1}];function Oa({type:t,initialData:a,onSubmit:s,onCancel:r}){const{register:i,control:l,handleSubmit:n,watch:x,setValue:m,formState:{errors:b}}=pt({defaultValues:{type:t,status:"draft",date:L(new Date,"yyyy-MM-dd"),items:(a==null?void 0:a.items)||[{description:"",quantity:1,unit_price:0,tax_rate:20}],...a}}),{fields:h,append:d,remove:c}=Ri({control:l,name:"items"}),p=x("items"),u=()=>p.reduce((z,S)=>z+S.quantity*S.unit_price,0),f=()=>p.reduce((z,S)=>{const y=S.tax_rate||20;return z+S.quantity*S.unit_price*(y/100)},0),j=()=>u()+f();return e.jsxs("form",{onSubmit:n(s),className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t==="sale"?"Nouvelle Facture":"Nouvelle Facture Fournisseur"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(et,{size:20,className:"mr-2"}),"Enregistrer"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:t==="sale"?"Client":"Fournisseur"}),e.jsx("select",{...i("customer_id"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:e.jsx("option",{value:"",children:"Sélectionner..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),e.jsx("input",{type:"date",...i("date"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Conditions de paiement"}),e.jsx("select",{...i("payment_terms"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:_l.map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Articles"}),e.jsxs("button",{type:"button",onClick:()=>d({description:"",quantity:1,unit_price:0,tax_rate:20}),className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Ajouter un article"]})]}),e.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Quantité"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Prix unitaire"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"TVA"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Total HT"}),e.jsx("th",{className:"px-4 py-3 w-16"})]})}),e.jsx("tbody",{children:h.map((z,S)=>{var y,w;return e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{...i(`items.${S}.description`),className:"w-full px-3 py-1 bg-white/5 border border-white/10 rounded text-white",placeholder:"Description de l'article"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",...i(`items.${S}.quantity`),className:"w-24 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"1"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",step:"0.01",...i(`items.${S}.unit_price`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"0"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("select",{...i(`items.${S}.tax_rate`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white",children:Pl.map(M=>e.jsx("option",{value:M.rate,children:M.name},M.id))})}),e.jsxs("td",{className:"px-4 py-3 text-right text-white",children:[(((y=p[S])==null?void 0:y.quantity)*((w=p[S])==null?void 0:w.unit_price)).toFixed(2),"€"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{type:"button",onClick:()=>c(S),className:"p-1 text-white/60 hover:text-white transition-colors",children:e.jsx(oe,{size:16})})})]},z.id)})})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-64 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Sous-total HT"}),e.jsxs("span",{className:"text-white",children:[u().toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"TVA"}),e.jsxs("span",{className:"text-white",children:[f().toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex justify-between text-base font-medium pt-2 border-t border-white/10",children:[e.jsx("span",{className:"text-white",children:"Total TTC"}),e.jsxs("span",{className:"text-white",children:[j().toFixed(2),"€"]})]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes"}),e.jsx("textarea",{...i("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Notes ou conditions particulières..."})]})]})}const Vs=[{month:"Jan",revenue:45e3,expenses:32e3},{month:"Fév",revenue:52e3,expenses:35e3},{month:"Mar",revenue:48e3,expenses:33e3},{month:"Avr",revenue:51e3,expenses:36e3},{month:"Mai",revenue:58e3,expenses:38e3},{month:"Juin",revenue:53e3,expenses:34e3}],Qs=[{month:"Jan",inflow:55e3,outflow:42e3},{month:"Fév",inflow:62e3,outflow:45e3},{month:"Mar",inflow:58e3,outflow:43e3},{month:"Avr",inflow:61e3,outflow:46e3},{month:"Mai",inflow:68e3,outflow:48e3},{month:"Juin",inflow:63e3,outflow:44e3}],Yt=(t,a)=>({data:t.map(s=>({name:s.month,value:s[a]}))}),Al=[{name:"Revenus",color:"#00D1FF",...Yt(Vs,"revenue")},{name:"Dépenses",color:"#FF3366",...Yt(Vs,"expenses")}],Ll=[{name:"Entrées",color:"#00D1FF",...Yt(Qs,"inflow")},{name:"Sorties",color:"#FF3366",...Yt(Qs,"outflow")}],wt={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};function ql(){const[t,a]=o.useState(!0),[s,r]=o.useState(""),[i,l]=o.useState(!1),n=x=>{console.log("Creating invoice:",x),l(!1)};return e.jsxs(g.div,{initial:"hidden",animate:"visible",className:"space-y-6 p-6",children:[e.jsx(Re,{icon:e.jsx(Ze,{size:28,className:"text-white"}),title:"Comptabilité"}),e.jsxs(g.div,{variants:wt,className:"md:col-span-3 lg:col-span-4 flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Comptabilité"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"px-4 py-2 rounded-lg text-white text-sm transition-all duration-200",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.07) 100%)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 3px 6px 0px, rgba(255, 255, 255, 0.1) 0px 1px 2px 0px inset"},children:[e.jsx(Fs,{size:20,className:"mr-2 inline-block"}),"Statistiques"]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 rounded-lg text-white text-sm transition-all duration-200",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.07) 100%)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 3px 6px 0px, rgba(255, 255, 255, 0.1) 0px 1px 2px 0px inset"},children:[e.jsx(Ei,{size:20,className:"mr-2 inline-block"}),"Nouvelle Facture"]})]})]}),t&&e.jsxs(g.div,{variants:wt,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"rounded-xl p-6",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Revenus et Dépenses"}),e.jsx(zt,{series:Al,height:300})]}),e.jsxs("div",{className:"rounded-xl p-6",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Flux de Trésorerie"}),e.jsx(zt,{series:Ll,height:300})]})]}),e.jsxs(g.div,{variants:wt,className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:x=>r(x.target.value),placeholder:"Rechercher des transactions...",className:"w-full pl-10 pr-4 py-2 rounded-lg text-white placeholder-white/40",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)"}})]}),e.jsxs("button",{className:"px-4 py-2 rounded-lg text-white transition-all duration-200",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.07) 100%)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 3px 6px 0px, rgba(255, 255, 255, 0.1) 0px 1px 2px 0px inset"},children:[e.jsx(ge,{size:20,className:"mr-2 inline-block"}),"Filtres"]}),e.jsxs("button",{className:"px-4 py-2 rounded-lg text-white transition-all duration-200",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.07) 100%)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 3px 6px 0px, rgba(255, 255, 255, 0.1) 0px 1px 2px 0px inset"},children:[e.jsx(le,{size:20,className:"mr-2 inline-block"}),"Période"]})]}),e.jsxs(g.div,{variants:wt,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Be,{icon:e.jsx(Z,{}),label:"Chiffre d'affaires",value:"58,000 €",trend:{value:12,positive:!0}}),e.jsx(Be,{icon:e.jsx(vs,{}),label:"Bénéfice net",value:"12,500 €",trend:{value:8,positive:!0}}),e.jsx(Be,{icon:e.jsx(ws,{}),label:"Dépenses",value:"45,500 €",trend:{value:5,positive:!1}}),e.jsx(Be,{icon:e.jsx($i,{}),label:"Trésorerie",value:"25,800 €",trend:{value:3,positive:!0}})]}),e.jsx(g.div,{variants:wt,className:"rounded-xl p-6",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-white/60",children:[e.jsx("th",{className:"pb-4",children:"Date"}),e.jsx("th",{className:"pb-4",children:"Description"}),e.jsx("th",{className:"pb-4",children:"Type"}),e.jsx("th",{className:"pb-4 text-right",children:"Montant"}),e.jsx("th",{className:"pb-4",children:"Statut"})]})}),e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsx("td",{className:"py-4",children:"15/06/2023"}),e.jsx("td",{children:"Facture #2023-156"}),e.jsx("td",{children:"Vente"}),e.jsx("td",{className:"text-right text-cyan-400",children:"+3,500€"}),e.jsx("td",{children:e.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Payée"})})]}),e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsx("td",{className:"py-4",children:"14/06/2023"}),e.jsx("td",{children:"Fournitures bureau"}),e.jsx("td",{children:"Dépense"}),e.jsx("td",{className:"text-right text-red-400",children:"-250€"}),e.jsx("td",{children:e.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"Traitée"})})]})]})]})}),i&&e.jsx(Oa,{onSubmit:n,onClose:()=>l(!1)})]})}const Rl=[{id:"1",type:"sale",number:"FACT-2025-001",date:"2025-02-20",due_date:"2025-03-20",customer_id:"1",customer:{id:"1",name:"Restaurant La Marée",email:"contact@lamaree.fr",address:"123 Avenue de la Mer, 17000 La Rochelle"},status:"sent",subtotal:1250,tax:250,total:1500,notes:"",items:[{id:"1",invoice_id:"1",description:"Huîtres Plates N°3",quantity:50,unit_price:25,tax_rate:20,total:1500}]},{id:"2",type:"purchase",number:"FACT-2025-002",date:"2025-02-19",due_date:"2025-03-19",supplier_id:"1",supplier:{id:"1",name:"Naissain Express",email:"contact@naissain-express.fr",address:"456 Route des Parcs, 17560 Bourcefranc-le-Chapus"},status:"paid",subtotal:800,tax:160,total:960,notes:"",items:[{id:"2",invoice_id:"2",description:"Naissain d'huîtres",quantity:1e3,unit_price:.8,tax_rate:20,total:960}]}],El={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",paid:"bg-green-500/20 text-green-300",overdue:"bg-red-500/20 text-red-300",cancelled:"bg-yellow-500/20 text-yellow-300"},$l={draft:be,sent:Ft,paid:Cs,overdue:pe,cancelled:Na};function Il({type:t,onEdit:a,onDelete:s}){const[r,i]=o.useState(null),l=Rl.filter(m=>m.type===t),n=m=>{console.log("Downloading invoice:",m.number)},x=m=>{console.log("Sending invoice:",m.number)};return e.jsx("div",{className:"space-y-4",children:l.map(m=>{var h,d;const b=$l[m.status];return e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(ze,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:m.number}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center ${El[m.status]}`,children:[e.jsx(b,{size:12,className:"mr-1"}),m.status]})]}),e.jsx("div",{className:"mt-1 text-sm text-white/60",children:t==="sale"?(h=m.customer)==null?void 0:h.name:(d=m.supplier)==null?void 0:d.name}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Date"}),e.jsx("div",{className:"text-white",children:L(new Date(m.date),"PP",{locale:W})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Échéance"}),e.jsx("div",{className:"text-white",children:L(new Date(m.due_date),"PP",{locale:W})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Montant TTC"}),e.jsxs("div",{className:"text-white font-medium",children:[m.total.toFixed(2),"€"]})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>i(r===m.id?null:m.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(Mt,{size:20,className:"text-white/60"})}),r===m.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsxs("button",{onClick:()=>n(m),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Se,{size:16,className:"mr-2"}),"Télécharger"]}),m.status==="draft"&&e.jsxs("button",{onClick:()=>x(m),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Ft,{size:16,className:"mr-2"}),"Envoyer"]}),e.jsxs("button",{onClick:()=>a(m),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(He,{size:16,className:"mr-2"}),"Modifier"]}),e.jsxs("button",{onClick:()=>s(m),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},m.id)})})}function Ol(){const[t,a]=o.useState("sales"),[s,r]=o.useState(!1),[i,l]=o.useState(""),[n,x]=o.useState(null),m=d=>{console.log("Creating invoice:",d),r(!1)},b=d=>{x(d)},h=d=>{confirm(`Êtes-vous sûr de vouloir supprimer la facture ${d.number} ?`)&&console.log("Deleting invoice:",d.number)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Factures"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouvelle Facture"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("sales"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="sales"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ze,{size:16,className:"mr-2"}),"Factures Clients"]})}),e.jsx("button",{onClick:()=>a("purchases"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="purchases"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{size:16,className:"mr-2"}),"Factures Fournisseurs"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:i,onChange:d=>l(d.target.value),placeholder:"Rechercher une facture...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Filtres"]})]}),e.jsx(Il,{type:t==="sales"?"sale":"purchase",onEdit:b,onDelete:h}),(s||n)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:e.jsx(Oa,{type:t==="sales"?"sale":"purchase",initialData:n||void 0,onSubmit:m,onCancel:()=>{r(!1),x(null)}})})})]})}const Bl=[{id:"1",date:"2025-02-19",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"18:00"}},{id:"2",date:"2025-02-20",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"}},{id:"3",date:"2025-02-21",morning:{start:"07:30",end:"12:00"}}];function Hl({date:t,period:a,currentSchedule:s,onSave:r,onDelete:i}){const[l,n]=o.useState((s==null?void 0:s.start)||(a==="morning"?"08:00":"14:00")),[x,m]=o.useState((s==null?void 0:s.end)||(a==="morning"?"12:00":"18:00")),b=()=>{r({start:l,end:x})};return e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-white font-medium",children:[a==="morning"?"Matin":"Après-midi"," - ",L(t,"EEEE d MMMM",{locale:W})]}),s&&i&&e.jsx("button",{onClick:i,className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5","aria-label":"Supprimer le créneau",children:e.jsx(oe,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`start-${a}`,className:"block text-sm text-white/60 mb-1",children:"Début"}),e.jsx("input",{id:`start-${a}`,type:"time",value:l,onChange:h=>n(h.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`end-${a}`,className:"block text-sm text-white/60 mb-1",children:"Fin"}),e.jsx("input",{id:`end-${a}`,type:"time",value:x,onChange:h=>m(h.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsx("button",{onClick:b,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})}function Ba({employee:t,onClose:a}){var z,S,y;const[s,r]=o.useState(new Date),[i,l]=o.useState(Bl),[n,x]=o.useState(null),{session:m}=Ce();(z=m==null?void 0:m.user)==null||z.role;const b=Ii(s,{weekStartsOn:1}),h=Oi(s,{weekStartsOn:1}),d=Bi({start:b,end:h}),c=()=>r(Hi(s,1)),p=()=>r(Vi(s,1)),u=w=>i.find(M=>Qi(new Date(M.date),w)),f=(w,M,v)=>{l(k=>{const D=L(w,"yyyy-MM-dd"),B=k.findIndex(E=>E.date===D);if(B>=0){const E=[...k];return E[B]={...E[B],[M]:v},E}else return[...k,{id:crypto.randomUUID(),date:D,[M]:v}]}),x(null)},j=(w,M)=>{l(v=>{const k=L(w,"yyyy-MM-dd"),D=v.findIndex(B=>B.date===k);if(D>=0){const B=[...v],E=B[D];return M==="morning"?delete E.morning:delete E.afternoon,!E.morning&&!E.afternoon&&B.splice(D,1),B}return v}),x(null)};return e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:t.name}),e.jsx("p",{className:"text-white/60",children:"Planning hebdomadaire"})]})})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx("button",{onClick:c,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine précédente",children:e.jsx(ya,{size:20,className:"text-white/60"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{size:20,className:"text-white/60"}),e.jsx("span",{className:"text-white font-medium",children:L(b,"MMMM yyyy",{locale:W})})]}),e.jsx("button",{onClick:p,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine suivante",children:e.jsx(ts,{size:20,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsx("div",{className:"grid grid-cols-7 gap-4",children:d.map((w,M)=>{var v,k,D,B,E,se,q,X,ae,je,C,N;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-white/60",children:L(w,"EEEE",{locale:W})}),e.jsx("div",{className:"text-lg font-medium text-white",children:L(w,"d",{locale:W})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(g.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(v=u(w))!=null&&v.morning?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>x({date:w,period:"morning"}),whileHover:{scale:1.02},children:[e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Matin"}),e.jsx("div",{className:"text-sm text-white/60",children:(k=u(w))!=null&&k.morning?`${(B=(D=u(w))==null?void 0:D.morning)==null?void 0:B.start} - ${(se=(E=u(w))==null?void 0:E.morning)==null?void 0:se.end}`:"-"})]}),e.jsxs(g.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(q=u(w))!=null&&q.afternoon?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>x({date:w,period:"afternoon"}),whileHover:{scale:1.02},children:[e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Après-midi"}),e.jsx("div",{className:"text-sm text-white/60",children:(X=u(w))!=null&&X.afternoon?`${(je=(ae=u(w))==null?void 0:ae.afternoon)==null?void 0:je.start} - ${(N=(C=u(w))==null?void 0:C.afternoon)==null?void 0:N.end}`:"-"})]})]})]},M)})})}),e.jsx(U,{children:n&&e.jsx(g.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 overflow-hidden",children:e.jsx("div",{className:"w-80 p-6",children:e.jsx(Hl,{date:n.date,period:n.period,currentSchedule:(S=u(n.date))==null?void 0:S[n.period],onSave:w=>f(n.date,n.period,w),onDelete:(y=u(n.date))!=null&&y[n.period]?()=>j(n.date,n.period):void 0})})})})]})]})}const Vl=[{id:"1",name:"Jean Dupont",position:"Responsable Production",department:"Production",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"Site A",status:"active",hireDate:"2024-01-15"},{id:"2",name:"Marie Martin",position:"Technicienne Maintenance",department:"Maintenance",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Site B",status:"active",hireDate:"2024-02-01"}];function Ql({searchQuery:t}){const[a,s]=o.useState(null),[r,i]=o.useState(!1),l=Vl.filter(x=>x.name.toLowerCase().includes(t.toLowerCase())||x.position.toLowerCase().includes(t.toLowerCase())||x.department.toLowerCase().includes(t.toLowerCase())),n=(x,m)=>{m.stopPropagation(),s(x),i(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(x=>e.jsx("div",{className:"bg-white/5 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-200 group",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-[#00D1FF]/20 rounded-full flex items-center justify-center",children:x.avatar?e.jsx("img",{src:x.avatar,alt:x.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-lg font-medium",children:x.name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:x.name}),e.jsx("p",{className:"text-sm text-white/60",children:x.position})]})]}),e.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:e.jsx(Mt,{size:20})})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(De,{size:16,className:"mr-2"}),x.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(ce,{size:16,className:"mr-2"}),x.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(Ne,{size:16,className:"mr-2"}),x.location]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-white/60",children:["Embauché le ",new Date(x.hireDate).toLocaleDateString("fr-FR")]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${x.status==="active"?"bg-[#00D1FF]/20 text-[#00D1FF]":"bg-yellow-500/20 text-yellow-300"}`,children:x.status==="active"?"Actif":"Inactif"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsxs("button",{onClick:m=>n(x,m),className:"w-full flex items-center justify-center px-4 py-2 bg-[#00D1FF]/20 rounded-lg text-[#00D1FF] hover:bg-[#00D1FF]/30 transition-colors",children:[e.jsx(le,{size:16,className:"mr-2"}),"Voir le planning"]})})]})},x.id))}),r&&a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>i(!1),children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:e.jsx(Ba,{employee:a,onClose:()=>i(!1)})})})]})}function Ul({onClose:t}){const{register:a,handleSubmit:s,formState:{errors:r}}=pt(),i=l=>{console.log(l),t()};return e.jsxs("form",{onSubmit:s(i),className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Nouvel Employé"}),e.jsx("button",{type:"button",onClick:t,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),e.jsx("input",{...a("firstName",{required:"Le prénom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),e.jsx("input",{...a("lastName",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.lastName.message})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsx("input",{type:"email",...a("email",{required:"L'email est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsx("input",{...a("phone"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Poste"}),e.jsx("input",{...a("position",{required:"Le poste est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.position&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.position.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),e.jsxs("select",{...a("department"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"quality",children:"Contrôle Qualité"}),e.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),e.jsx("input",{...a("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",...a("startDate"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Identifiant employé"}),e.jsx("input",{...a("employeeId"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),e.jsx("input",{...a("emergencyContact"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'employé"})]})]})}const Wl=[{id:"1",type:"Congés payés",startDate:"2025-03-15",endDate:"2025-03-22",status:"approved",reason:"Vacances"},{id:"2",type:"Maladie",startDate:"2025-02-10",endDate:"2025-02-12",status:"approved",reason:"Grippe"},{id:"3",type:"RTT",startDate:"2025-04-01",endDate:"2025-04-01",status:"pending",reason:"Personnel"}];function Jl({isOpen:t,onClose:a,onConfirm:s,action:r}){return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:r==="approve"?"Confirmer l'approbation":"Confirmer le refus"}),e.jsx("p",{className:"text-white/70 mb-6",children:r==="approve"?"Êtes-vous sûr de vouloir approuver cette demande de congé ?":"Êtes-vous sûr de vouloir refuser cette demande de congé ?"}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>s(r==="approve"),className:`px-4 py-2 rounded-lg text-white transition-colors ${r==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:r==="approve"?"Approuver":"Refuser"})]})]})}):null}function Gl({request:t,onClose:a,onValidate:s}){const[r,i]=o.useState(""),[l,n]=o.useState(null),x=m=>{s(t.id,m,r),n(null),a()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Validation de congé"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white font-medium",children:t.type})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Période"}),e.jsxs("div",{className:"text-white font-medium",children:[L(new Date(t.startDate),"dd/MM/yyyy")," - ",L(new Date(t.endDate),"dd/MM/yyyy")]})]})]}),t.reason&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Motif"}),e.jsx("div",{className:"text-white",children:t.reason})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de validation"}),e.jsx("textarea",{value:r,onChange:m=>i(m.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes optionnelles..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>n("reject"),className:"px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Refuser"}),e.jsx("button",{onClick:()=>n("approve"),className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approuver"})]})]})]})}),e.jsx(Jl,{isOpen:l!==null,onClose:()=>n(null),onConfirm:m=>x(m),action:l||"approve"})]})}function Yl(){const[t,a]=o.useState(Wl),[s,r]=o.useState(null),[i,l]=o.useState({start:"",end:""}),n=(m,b,h)=>{a(t.map(d=>d.id===m?{...d,status:b?"approved":"rejected",notes:h}:d)),r(null)},x=t.filter(m=>{if(!i.start&&!i.end)return!0;const b=new Date(m.startDate),h=i.start?new Date(i.start):null,d=i.end?new Date(i.end):null;return h&&d?b>=h&&b<=d:h?b>=h:d?b<=d:!0});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Gestion des Congés"}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouvelle demande"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Solde congés payés"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"15 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"RTT restants"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"5 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Congés pris"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"12 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Congés à venir"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"7 jours"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:i.start,onChange:m=>l(b=>({...b,start:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:i.end,onChange:m=>l(b=>({...b,end:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsx("button",{onClick:()=>l({start:"",end:""}),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Réinitialiser"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[e.jsx("div",{className:"p-4 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Demandes de congés"})}),e.jsx("div",{className:"divide-y divide-white/10",children:x.map(m=>e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:e.jsx(le,{size:20,className:"text-white/60"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:m.type}),e.jsxs("div",{className:"text-sm text-white/60",children:["Du ",L(new Date(m.startDate),"dd/MM/yyyy",{locale:W})," au"," ",L(new Date(m.endDate),"dd/MM/yyyy",{locale:W})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${m.status==="approved"?"bg-green-500/20 text-green-300":m.status==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:m.status==="approved"?"Approuvé":m.status==="rejected"?"Refusé":"En attente"}),m.status==="pending"&&e.jsx("button",{onClick:()=>r(m.id),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Valider"})]})]}),m.reason&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Motif : ",m.reason]}),m.notes&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Notes : ",m.notes]})]},m.id))})]}),s&&e.jsx(Gl,{request:t.find(m=>m.id===s),onClose:()=>r(null),onValidate:n})]})}const Xl=[{id:"1",employeeName:"Jean Dupont",position:"Responsable Production",date:"2025-01-15",overallRating:4.5,status:"completed",strengths:["Leadership","Organisation","Communication"],improvements:["Délégation"],goals:["Formation équipe","Optimisation processus"],taskPerformance:{averageScore:92,tasksCompleted:45,onTimeCompletion:95,efficiencyRate:88}},{id:"2",employeeName:"Marie Martin",position:"Technicienne Maintenance",date:"2025-02-01",overallRating:4.2,status:"draft",strengths:["Expertise technique","Résolution problèmes"],improvements:["Documentation"],goals:["Certification avancée"],taskPerformance:{averageScore:87,tasksCompleted:38,onTimeCompletion:92,efficiencyRate:85}}];function Zl(){const[t,a]=o.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Évaluations de Performance"}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouvelle évaluation"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-6",children:Xl.map(s=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.employeeName}),e.jsx("p",{className:"text-sm text-white/60",children:s.position})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s.status==="completed"?"bg-green-500/20 text-green-300":s.status==="acknowledged"?"bg-blue-500/20 text-blue-300":"bg-yellow-500/20 text-yellow-300"}`,children:s.status==="completed"?"Terminé":s.status==="acknowledged"?"Validé":"Brouillon"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Performance des tâches"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Score moyen"}),e.jsxs("div",{className:`text-xl font-bold ${s.taskPerformance.averageScore>=90?"text-green-400":s.taskPerformance.averageScore>=80?"text-yellow-400":"text-red-400"}`,children:[s.taskPerformance.averageScore,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Tâches complétées"}),e.jsx("div",{className:"text-xl font-bold text-white",children:s.taskPerformance.tasksCompleted})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Respect des délais"}),e.jsxs("div",{className:"text-xl font-bold text-green-400",children:[s.taskPerformance.onTimeCompletion,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Taux d'efficacité"}),e.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[s.taskPerformance.efficiencyRate,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2,3,4,5].map(r=>e.jsx(ve,{size:20,className:r<=s.overallRating?"text-yellow-400 fill-current":"text-white/20"},r)),e.jsxs("span",{className:"text-white/60 text-sm ml-2",children:[s.overallRating,"/5"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Points forts"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.strengths.map((r,i)=>e.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:r},i))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Axes d'amélioration"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.improvements.map((r,i)=>e.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm",children:r},i))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Objectifs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.goals.map((r,i)=>e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:r},i))})]})]})]},s.id))})]})}const Kl={id:"default",name:"Planning Global"};function en(){const[t,a]=Ui(),[s,r]=o.useState(()=>t.get("tab")||"employees"),[i,l]=o.useState(!1),[n,x]=o.useState("");o.useEffect(()=>{const b=t.get("tab");b&&b!==s&&r(b)},[t]);const m=b=>{r(b),a({tab:b})};return e.jsxs(g.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsx(Re,{icon:e.jsx(ue,{size:28,className:"text-white"}),title:"Gestion RH"}),e.jsx("div",{className:"flex items-center justify-between",children:s==="employees"&&e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouvel Employé"]})}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>m("employees"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="employees"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{size:16,className:"mr-2"}),"Employés"]})}),e.jsx("button",{onClick:()=>m("schedule"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="schedule"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:16,className:"mr-2"}),"Planning"]})}),e.jsx("button",{onClick:()=>m("leave"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="leave"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:16,className:"mr-2"}),"Congés"]})}),e.jsx("button",{onClick:()=>m("performance"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="performance"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{size:16,className:"mr-2"}),"Évaluations"]})})]}),s==="employees"&&e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:n,onChange:b=>x(b.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Filtres"]})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsx(Ul,{onClose:()=>l(!1)})})}),s==="employees"&&e.jsx(Ql,{searchQuery:n}),s==="leave"&&e.jsx(Yl,{}),s==="performance"&&e.jsx(Zl,{}),s==="schedule"&&e.jsx(Ba,{employee:Kl,onClose:()=>m("employees")})]})}const tn=[{id:"1",name:"Réparation Marine Pro",location:"Bouzigues, France",skills:["Réparateur de Bateau","Maintenance"],contact:{email:"contact@rmp.fr",phone:"05 46 12 34 56",website:"www.rmp.fr"},rating:4.8,certifications:["Certification Marine","Expert Agréé"],isVerified:!0,description:"Spécialiste de la réparation et maintenance de bateaux professionnels"},{id:"2",name:"Transport Maritime Express",location:"Marennes, France",skills:["Transport","Logistique"],contact:{email:"info@tme.fr",phone:"05 46 23 45 67"},rating:4.5,certifications:["Transport Maritime"],isVerified:!1,description:"Transport maritime professionnel"}];function sn({searchQuery:t,selectedSkill:a}){const[s,r]=o.useState(null),i=tn.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.location.toLowerCase().includes(t.toLowerCase())||l.skills.some(n=>n.toLowerCase().includes(t.toLowerCase()))).filter(l=>!a||l.skills.includes(a)).sort((l,n)=>l.isVerified!==n.isVerified?n.isVerified?1:-1:n.rating-l.rating);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2",children:i.map(l=>e.jsx("div",{onClick:()=>r(l),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),l.isVerified&&e.jsx("span",{className:"text-brand-primary",children:e.jsx(Cs,{size:20})})]}),e.jsxs("div",{className:"flex items-center mt-1 space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{size:14,className:"mr-1"}),l.location]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{size:14,className:"mr-1 text-brand-primary"}),l.rating]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.skills.map((n,x)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:n},x))})]}),e.jsx(ts,{size:20,className:"text-white/20 group-hover:text-white/60 transition-colors"})]})},l.id))}),s&&e.jsx(ke,{isOpen:!0,onClose:()=>r(null),title:s.name,size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(Ne,{size:20,className:"mr-3"}),s.location]}),e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(De,{size:20,className:"mr-3"}),s.contact.email]}),e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(ce,{size:20,className:"mr-3"}),s.contact.phone]}),s.contact.website&&e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(ht,{size:20,className:"mr-3"}),s.contact.website]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Certifications"}),e.jsx("div",{className:"space-y-2",children:s.certifications.map((l,n)=>e.jsxs("div",{className:"flex items-center px-3 py-2 bg-brand-primary/20 text-brand-primary rounded-lg",children:[e.jsx(Cs,{size:16,className:"mr-2"}),l]},n))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"À propos"}),e.jsx("p",{className:"text-white/70",children:s.description})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[e.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Contacter"})]})]})})]})}const an=[{id:"1",title:"Gestion de la mortalité hivernale",content:"Quelles sont vos techniques pour minimiser la mortalité pendant l'hiver ?",category:"Production",author:{name:"Jean Dupont"},postedAt:"2025-02-19T10:00:00",likes:15,views:234,replies:8,tags:["Mortalité","Hiver","Techniques"]},{id:"2",title:"Nouvelle réglementation sanitaire",content:"Discussion sur les impacts de la nouvelle réglementation sanitaire",category:"Réglementation",author:{name:"Marie Martin"},postedAt:"2025-02-19T09:00:00",likes:23,views:567,replies:12,tags:["Réglementation","Sanitaire"]}];function rn({searchQuery:t}){const a=an.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())||s.content.toLowerCase().includes(t.toLowerCase())||s.tags.some(r=>r.toLowerCase().includes(t.toLowerCase())));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"256"}),e.jsx("div",{className:"text-sm text-white/60",children:"Discussions"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"1,234"}),e.jsx("div",{className:"text-sm text-white/60",children:"Messages"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"89"}),e.jsx("div",{className:"text-sm text-white/60",children:"Membres actifs"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"15"}),e.jsx("div",{className:"text-sm text-white/60",children:"Nouveaux aujourd'hui"})]})]}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:a.map((s,r)=>e.jsx("div",{className:`p-6 ${r<a.length-1?"border-b border-white/10":""}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center flex-shrink-0",children:s.author.avatar?e.jsx("img",{src:s.author.avatar,alt:s.author.name,className:"w-full h-full rounded-full"}):e.jsx(tt,{size:20,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsx("span",{className:"text-sm text-white/60",children:s.author.name}),e.jsx("span",{className:"text-sm text-white/60",children:new Date(s.postedAt).toLocaleDateString("fr-FR")}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.category})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ka,{size:16,className:"mr-1"}),s.likes]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ot,{size:16,className:"mr-1"}),s.views]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{size:16,className:"mr-1"}),s.replies]})]})]}),e.jsx("p",{className:"mt-4 text-white/70",children:s.content}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.tags.map((i,l)=>e.jsxs("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["#",i]},l))})]})]})},s.id))})]})}const ln=[{id:"1",author:{name:"Jean Dupont",company:"Huîtres Dupont & Fils"},content:"Nouvelle livraison d'huîtres plates de qualité exceptionnelle disponible. N'hésitez pas à me contacter pour plus d'informations.",timestamp:"2025-02-19T10:30:00",likes:15,comments:3,shares:2,visibility:"public"},{id:"2",author:{name:"Marie Martin",company:"Ostréiculture Martin"},content:"Recherche fournisseur de poches d'élevage pour livraison urgente. Merci de me contacter en MP.",timestamp:"2025-02-19T09:15:00",likes:8,comments:5,shares:1,visibility:"network"}],nn={public:ht,network:ue,private:Ji};function dn(){const[t,a]=Q.useState(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:"M"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{placeholder:"Partagez une actualité...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:e.jsx(ht,{size:20})}),e.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"network",children:"Mon réseau"}),e.jsx("option",{value:"private",children:"Privé"})]})]}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Publier"})]})]})]})}),e.jsx("div",{className:"space-y-6",children:ln.map(s=>{const r=nn[s.visibility];return e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:s.author.name.charAt(0)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-white font-medium",children:s.author.name}),e.jsx("span",{className:"text-white/40",children:"•"}),e.jsx("span",{className:"text-white/60",children:s.author.company})]}),e.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/40",children:[e.jsx(r,{size:14,className:"mr-1"}),new Date(s.timestamp).toLocaleString()]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>a(t===s.id?null:s.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(Mt,{size:20,className:"text-white/60"})}),t===s.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Signaler"}),e.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Masquer"})]})]})]}),e.jsx("p",{className:"mt-4 text-white/80",children:s.content}),e.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(ka,{size:20,className:"mr-2"}),s.likes]}),e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(Ae,{size:20,className:"mr-2"}),s.comments]}),e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(Wi,{size:20,className:"mr-2"}),s.shares]})]})]})},s.id)})})]})}const cn=[{id:"1",name:"Jean Dupont",company:"Huîtres Dupont & Fils",position:"Directeur Commercial",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"La Rochelle",status:"online",favorite:!0,tags:["Fournisseur","Huîtres"]},{id:"2",name:"Marie Martin",company:"Ostréiculture Martin",position:"Responsable Production",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Marennes",status:"offline",lastActive:"2025-02-19T09:15:00",favorite:!1,tags:["Client","Production"]}];function on({searchQuery:t,onSelectContact:a}){const[s,r]=Q.useState(null),i=cn.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.company.toLowerCase().includes(t.toLowerCase())||l.tags.some(n=>n.toLowerCase().includes(t.toLowerCase())));return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(l=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-colors",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-brand-burgundy rounded-full flex items-center justify-center",children:l.avatar?e.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full rounded-full"}):e.jsx(tt,{size:24,className:"text-white"})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-brand-dark ${l.status==="online"?"bg-green-500":l.status==="away"?"bg-yellow-500":"bg-gray-500"}`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),e.jsx("p",{className:"text-sm text-white/60",children:l.position}),e.jsx("p",{className:"text-sm text-white/40",children:l.company})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>r(s===l.id?null:l.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(Mt,{size:20,className:"text-white/60"})}),s===l.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsxs("button",{onClick:()=>a(l.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Ae,{size:16,className:"mr-2"}),"Message"]}),e.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(ve,{size:16,className:"mr-2"}),l.favorite?"Retirer des favoris":"Ajouter aux favoris"]})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(De,{size:16,className:"mr-2"}),l.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(ce,{size:16,className:"mr-2"}),l.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(Ne,{size:16,className:"mr-2"}),l.location]})]}),l.tags.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:l.tags.map((n,x)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:n},x))}),e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsx("button",{onClick:()=>a(l.id),className:"flex-1 px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Message"}),e.jsx("button",{className:"px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Profil"})]})]})},l.id))})}function xn({onClose:t,type:a}){const s=()=>{switch(a){case"directory":return"Mettre à jour mon profil";case"marketplace":return"Nouvelle annonce";case"forum":return"Nouvelle discussion";default:return""}};return e.jsx(ke,{isOpen:!0,onClose:t,title:s(),size:"xl",children:e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Titre"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Titre de votre publication..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Contenu de votre publication..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Tags"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des tags séparés par des virgules..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Publier"})]})]})})}function mn({onClose:t}){const[a,s]=o.useState(""),[r,i]=o.useState(null),[l,n]=o.useState(!1),x=async m=>{m.preventDefault(),i(null),n(!0);try{if(!Us(a))throw new Error("Format de code invalide");await new Promise(b=>setTimeout(b,1e3)),t()}catch(b){i(b instanceof Error?b.message:"Une erreur est survenue")}finally{n(!1)}};return e.jsx(ke,{isOpen:!0,onClose:t,title:"Ajouter un contact",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/20 rounded-full flex items-center justify-center",children:e.jsx(ue,{size:32,className:"text-brand-burgundy"})})}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Code ami"}),e.jsx("input",{type:"text",value:a,onChange:m=>{const b=hn(m.target.value);s(b),i(null)},placeholder:"XXXX-XXXX-XXXX",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-center font-mono text-xl tracking-wider",maxLength:14}),e.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Entrez le code ami de la personne que vous souhaitez ajouter"})]}),r&&e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-red-400",children:[e.jsx(pe,{size:20,className:"mr-2"}),r]})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:!Us(a)||l,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Recherche...":"Ajouter"})]})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment obtenir un code ami ?"}),e.jsx("p",{className:"text-sm text-white/60",children:"Chaque utilisateur dispose d'un code ami unique disponible dans son profil. Demandez à votre contact de partager son code avec vous pour l'ajouter à votre réseau."})]})]})})}function hn(t){return(t.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-")}function Us(t){return/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(t)}function un(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let s="";for(let r=0;r<8;r++){const i=Math.floor(Math.random()*t.length);s+=t[i]}return s}const Bt=[{id:"1",name:"Huîtres Marennes Oléron",email:"contact@huitres-mo.fr",phone:"05 46 85 12 34",address:"12 Route des Claires, 17320 Marennes",friend_code:"HMO17320",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Les Parcs de l'Estuaire",email:"commandes@parcs-estuaire.fr",phone:"05 46 36 45 78",address:"8 Quai des Ostréiculteurs, 17390 La Tremblade",friend_code:"LPE17390",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"Atlantique Coquillages",email:"ventes@atlantique-coq.fr",phone:"02 51 68 23 45",address:"45 Avenue du Port, 85230 Bouin",friend_code:"ACQ85230",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",name:"Cancale Premium",email:"service@cancale-premium.fr",phone:"02 99 89 67 89",address:"23 Rue du Port, 35260 Cancale",friend_code:"CAN35260",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",name:"Arcachon Huîtres",email:"pro@arcachon-huitres.com",phone:"05 57 72 34 56",address:"56 Boulevard de la Plage, 33120 Arcachon",friend_code:"ARC33120",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],pn={1:[{id:"1",supplier_id:"1",name:"Huîtres Spéciales N°3",description:"Huîtres charnues de qualité supérieure, affinées en claire pendant 2 mois minimum",price:8.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:450,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",supplier_id:"1",name:"Huîtres Fines de Claire N°2",description:"Huîtres raffinées, affinées en claire pendant 3 semaines minimum",price:9.5,unit:"douzaine",category:"Fines de Claire",image:"/placeholder.jpg",available:!0,stock:300,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],2:[{id:"3",supplier_id:"2",name:"Huîtres Spéciales N°2",description:"Huîtres de qualité supérieure",price:10.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:200,minOrder:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],3:[{id:"4",supplier_id:"3",name:"Huîtres Plates de Belon",description:"Huîtres plates de Belon, goût unique et iodé",price:14.5,unit:"douzaine",category:"Plates",image:"/placeholder.jpg",available:!0,stock:150,minOrder:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],4:[{id:"5",supplier_id:"4",name:"Huîtres Label Rouge",description:"Huîtres labellisées Label Rouge, qualité supérieure garantie",price:12,unit:"douzaine",category:"Label Rouge",image:"/placeholder.jpg",available:!0,stock:400,minOrder:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],5:[{id:"6",supplier_id:"5",name:"Huîtres Gillardeau",description:"Les célèbres huîtres Gillardeau, reconnues mondialement",price:24,unit:"douzaine",category:"Premium",image:"/placeholder.jpg",available:!0,stock:100,minOrder:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]};function rs(){const t=Ca(),{data:a=Bt}=Ts({queryKey:["suppliers"],queryFn:async()=>Bt}),s=Qt({mutationFn:async i=>{const l=un(),n={...i,friend_code:l,is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return Bt.push({...n,id:String(Bt.length+1)}),n},onSuccess:()=>{t.invalidateQueries({queryKey:["suppliers"]})}});return{suppliers:a,createSupplier:s,getSupplierProducts:async i=>pn[i]||[]}}function Ha({children:t,variant:a="default",className:s="",...r}){const i="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",l={default:"bg-[rgb(var(--color-brand-muted))] text-[rgb(var(--color-text-primary))]",success:"bg-green-500/10 text-green-500",warning:"bg-yellow-500/10 text-yellow-500",error:"bg-red-500/10 text-red-500"};return e.jsx("div",{className:`${i} ${l[a]} ${s}`,...r,children:t})}function bn(){const{suppliers:t}=rs(),a=t.filter(s=>s.is_friend);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Fournisseurs Partenaires"}),e.jsxs(Ha,{variant:"outline",className:"text-[rgb(var(--color-brand-primary))]",children:[a.length," partenaires"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>e.jsx("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:s.name}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(is,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm font-mono",children:s.friend_code})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(De,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(ce,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm",children:s.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(Ne,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:s.address})]})]})]})},s.id))})]})}const Va=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}],Ws={1:[{id:"1-1",content:"Bonjour, avez-vous des huîtres plates disponibles ?",sender:"Jean Dupont",timestamp:"10:15",isMe:!1},{id:"1-2",content:"Oui, nous en avons en stock. Quelle quantité vous intéresse ?",sender:"Moi",timestamp:"10:20",isMe:!0},{id:"1-3",content:"Je cherche environ 500 douzaines pour un événement",sender:"Jean Dupont",timestamp:"10:25",isMe:!1},{id:"1-4",content:"Parfait, merci !",sender:"Jean Dupont",timestamp:"10:30",isMe:!1}],2:[{id:"2-1",content:"Bonjour, je souhaite connaître vos tarifs pour une livraison à Paris",sender:"Marie Martin",timestamp:"09:00",isMe:!1},{id:"2-2",content:"Bonjour Marie, pour Paris les frais de livraison sont de 15€ pour les commandes inférieures à 100€, et gratuits au-delà",sender:"Moi",timestamp:"09:10",isMe:!0},{id:"2-3",content:"Je vous recontacte demain pour passer ma commande, merci",sender:"Marie Martin",timestamp:"09:15",isMe:!1}],3:[{id:"3-1",content:"Bonjour, j'organise un mariage le mois prochain",sender:"Pierre Durand",timestamp:"14:20",isMe:!1},{id:"3-2",content:"Félicitations ! Nous pouvons vous proposer une dégustation d'huîtres pour votre événement",sender:"Moi",timestamp:"14:30",isMe:!0},{id:"3-3",content:"Pouvez-vous me donner les prix pour 200 personnes ?",sender:"Pierre Durand",timestamp:"14:35",isMe:!1}],4:[{id:"4-1",content:"J'ai besoin d'une facture pour ma dernière commande",sender:"Sophie Dubois",timestamp:"Lun 15:10",isMe:!1},{id:"4-2",content:"Bien sûr, je vous prépare cela tout de suite",sender:"Moi",timestamp:"Lun 15:20",isMe:!0},{id:"4-3",content:"Je vous envoie les documents dès que possible",sender:"Sophie Dubois",timestamp:"Lun 15:25",isMe:!1}],5:[{id:"5-1",content:"Avez-vous des huîtres spéciales de Marennes-Oléron ?",sender:"Luc Moreau",timestamp:"23/02 11:05",isMe:!1},{id:"5-2",content:"Oui, nous avons des spéciales n°2 et n°3, ainsi que des fines de claire",sender:"Moi",timestamp:"23/02 11:15",isMe:!0},{id:"5-3",content:"Je vais prendre deux douzaines de spéciales n°2",sender:"Luc Moreau",timestamp:"23/02 11:30",isMe:!1},{id:"5-4",content:"Merci pour votre réponse",sender:"Luc Moreau",timestamp:"23/02 11:35",isMe:!1}]},gn=t=>Va.find(a=>a.id===t);function jn({contactId:t,onClose:a}){const[s,r]=o.useState(""),[i,l]=o.useState(""),n=Q.useRef(null),[x,m]=o.useState(t),b=()=>{var p;(p=n.current)==null||p.scrollIntoView({behavior:"smooth"})};Q.useEffect(()=>{b()},[Ws[x]]),Q.useEffect(()=>{m(t)},[t]);const h=p=>{p.preventDefault(),s.trim()&&(console.log("Message envoyé:",s),r(""))},d=p=>{m(p)},c=gn(x);return e.jsxs("div",{className:"h-[calc(100vh-12rem)] flex flex-col md:flex-row",children:[e.jsxs("div",{className:"hidden md:block w-80 border-r border-white/10",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:i,onChange:p=>l(p.target.value),placeholder:"Rechercher une conversation...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]})}),e.jsx("div",{className:"divide-y divide-white/10",children:Va.map(p=>e.jsx("div",{onClick:()=>d(p.id),className:`p-4 hover:bg-white/5 cursor-pointer transition-colors ${p.id===x?"bg-white/5":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:p.name.charAt(0)})}),p.online&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-brand-dark"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-white font-medium truncate",children:p.name}),p.lastMessageTime&&e.jsx("span",{className:"text-xs text-white/40",children:p.lastMessageTime})]}),p.lastMessage&&e.jsx("p",{className:"text-sm text-white/60 truncate",children:p.lastMessage})]}),p.unreadCount&&p.unreadCount>0&&e.jsx("div",{className:"w-5 h-5 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white",children:p.unreadCount})})]})},p.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[e.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("button",{onClick:a,className:"p-1.5 md:p-2 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors","aria-label":"Retour à la liste des contacts",children:e.jsx(_s,{size:18,className:"md:w-5 md:h-5"})}),e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:(c==null?void 0:c.name.charAt(0))||"?"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium text-sm md:text-base",children:(c==null?void 0:c.name)||"Contact"}),e.jsx("p",{className:"text-xs md:text-sm text-green-400",children:c!=null&&c.online?"En ligne":"Hors ligne"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[Ws[x].map(p=>e.jsx("div",{className:`flex ${p.isMe?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg p-2 md:p-3 ${p.isMe?"bg-brand-burgundy text-white":"bg-white/5 text-white"}`,children:[e.jsx("p",{className:"text-sm md:text-base",children:p.content}),e.jsx("div",{className:`text-[10px] md:text-xs mt-1 ${p.isMe?"text-white/60":"text-white/40"}`,children:p.timestamp})]})},p.id)),e.jsx("div",{ref:n})]}),e.jsx("form",{onSubmit:h,className:"p-3 md:p-4 border-t border-white/10",children:e.jsxs("div",{className:"flex items-end space-x-2 md:space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{value:s,onChange:p=>r(p.target.value),placeholder:"Écrivez votre message...",className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/5 border border-white/10 rounded-lg text-white text-sm md:text-base placeholder-white/40 resize-none",rows:1}),e.jsxs("div",{className:"absolute bottom-2 md:bottom-3 right-2 md:right-3 flex items-center space-x-1 md:space-x-2",children:[e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(Gi,{size:16,className:"md:w-5 md:h-5"})}),e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(Sa,{size:16,className:"md:w-5 md:h-5"})}),e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(Da,{size:16,className:"md:w-5 md:h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ft,{size:18,className:"md:w-5 md:h-5"})})]})})]})]})}const fn=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function Qa(){const[t,a]=o.useState(""),[s,r]=o.useState(null),i=fn.filter(l=>l.name.toLowerCase().includes(t.toLowerCase()));return e.jsx("div",{className:"flex-1 h-full w-full max-w-full overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"}),e.jsx("button",{className:"p-1.5 sm:p-2 bg-brand-burgundy rounded-full text-white hover:bg-brand-burgundy/80 transition-colors",children:e.jsx(Z,{size:18})})]}),e.jsx("div",{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:t,onChange:l=>a(l.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-10 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 text-sm sm:text-base"}),e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:16})]})}),s?e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(jn,{contactId:s,onClose:()=>r(null)})}):e.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-white/10",children:i.length>0?e.jsx("div",{className:"space-y-0.5",children:i.map(l=>e.jsx("div",{onClick:()=>r(l.id),className:"p-2 sm:p-3 hover:bg-white/5 cursor-pointer transition-colors",tabIndex:0,role:"button","aria-label":`Conversation avec ${l.name}`,children:e.jsxs("div",{className:"flex items-center justify-between pointer-events-none",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxs("div",{className:"relative",children:[l.avatar?e.jsx("img",{src:l.avatar,alt:l.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full"}):e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-brand-primary/20 border border-brand-primary/30 flex items-center justify-center",children:e.jsx("span",{className:"text-brand-primary text-base sm:text-lg font-medium",children:l.name.substring(0,1)})}),l.online&&e.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-white text-sm sm:text-base",children:l.name}),l.lastMessage&&e.jsx("p",{className:"text-xs sm:text-sm text-white/60 truncate max-w-[150px] sm:max-w-[180px] md:max-w-[220px] lg:max-w-[280px]",children:l.lastMessage})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[l.lastMessageTime&&e.jsx("span",{className:"text-xs text-white/40",children:l.lastMessageTime}),l.unreadCount>0&&e.jsx("span",{className:"bg-brand-primary text-white text-xs rounded-full px-1.5 py-0.5 min-w-[20px] text-center",children:l.unreadCount})]})]})},l.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[e.jsx(Ae,{size:36,className:"mb-3 opacity-30"}),e.jsx("p",{className:"text-sm",children:"Aucune conversation trouvée"})]})})]})})}function wn({messageView:t=!1,activeTab:a}){const s=Xt(),[r,i]=o.useState(a||t?"messages":"feed"),[l,n]=o.useState(!1),[x,m]=o.useState(!1),[b,h]=o.useState(""),[d,c]=o.useState(null),[p,u]=o.useState(null),{unreadCount:f}=Ce();return o.useEffect(()=>{var j;(j=s.state)!=null&&j.activeTab&&i(s.state.activeTab)},[s.state]),o.useEffect(()=>{a?i(a):t&&i("messages")},[t,a]),o.useEffect(()=>{s.pathname==="/network/messages"&&r!=="messages"&&i("messages")},[s.pathname,r]),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[e.jsxs("div",{className:"relative mr-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),e.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:e.jsx(ue,{size:28,className:"text-white"})})]}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Entre Pro"})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>m(!0),className:"relative flex items-center px-4 py-2 bg-brand-primary/20 rounded-lg text-brand-primary hover:bg-brand-primary/30 transition-colors",children:[e.jsx(Yi,{size:20,className:"mr-2"}),"Ajouter un contact"]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-primary/20 rounded-lg text-brand-primary hover:bg-brand-primary/30 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouvelle publication"]})]})}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>i("feed"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="feed"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xi,{size:16,className:"mr-2"}),"Fil d'actualités"]})}),e.jsx("button",{onClick:()=>i("contacts"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="contacts"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{size:16,className:"mr-2"}),"Contacts"]})}),e.jsx("button",{onClick:()=>i("directory"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="directory"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ht,{size:16,className:"mr-2"}),"Annuaire Prestataires"]})}),e.jsx("button",{onClick:()=>i("forum"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="forum"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{size:16,className:"mr-2"}),"Forum"]})}),e.jsx("button",{onClick:()=>i("messages"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="messages"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{size:16,className:"mr-2"}),"Messagerie"]})}),e.jsx("button",{onClick:()=>i("suppliers"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="suppliers"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{size:16,className:"mr-2"}),"Fournisseurs Amis"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:b,onChange:j=>h(j.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Filtres"]}),e.jsxs("button",{className:"relative p-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Ve,{size:20,className:"text-amber-500 drop-shadow-[0_0_3px_rgba(245,158,11,0.5)]"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center text-xs font-bold",children:f})]})]}),r==="feed"&&e.jsx(dn,{}),r==="contacts"&&e.jsx(on,{searchQuery:b,onSelectContact:j=>{u(j),i("feed")}}),r==="directory"&&e.jsx(sn,{searchQuery:b,selectedSkill:d}),r==="forum"&&e.jsx(rn,{searchQuery:b}),r==="messages"&&e.jsx(Qa,{}),r==="suppliers"&&e.jsx(bn,{}),l&&e.jsx(xn,{onClose:()=>n(!1)}),x&&e.jsx(mn,{onClose:()=>m(!1)})]})}const vn={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Oe={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function Nn(){const{companyInfo:t,setCompanyInfo:a}=Ce(),[s,r]=o.useState({name:(t==null?void 0:t.name)||"",siret:(t==null?void 0:t.siret)||"",logo:(t==null?void 0:t.logo)||"",description:(t==null?void 0:t.description)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",website:(t==null?void 0:t.website)||""});o.useEffect(()=>{t&&r({name:t.name,siret:t.siret,logo:t.logo||"",description:t.description||"",email:t.email,phone:t.phone,address:t.address,website:t.website||""})},[t]);const i=n=>{const{name:x,value:m}=n.target;r(b=>({...b,[x]:m}))},l=n=>{n.preventDefault(),a(s),dt.success("Informations de l'entreprise enregistrées avec succès")};return e.jsxs(g.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:vn,children:[e.jsxs(g.div,{variants:Oe,children:[e.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-2",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Informations de l'entreprise"}),e.jsx("p",{className:"text-white/60 mb-6",children:"Gérez les informations principales de votre entreprise"})]}),e.jsxs("form",{className:"space-y-6",onSubmit:l,children:[e.jsxs(g.div,{className:"grid grid-cols-2 gap-6",variants:Oe,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom de l'entreprise"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:i,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Oyster Cult Enterprise",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Numéro SIRET"}),e.jsx("input",{type:"text",name:"siret",value:s.siret,onChange:i,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"123 456 789 00012",required:!0})]})]}),e.jsxs(g.div,{variants:Oe,children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Logo de l'entreprise"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-white/10 border-dashed rounded-xl transition-all duration-200 hover:border-[#00D1FF]/30 group",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx(Me,{className:"mx-auto h-12 w-12 text-white/40 group-hover:text-[#00D1FF]/60 transition-colors duration-200"}),e.jsxs("div",{className:"flex text-sm text-white/60",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-[#00D1FF] hover:text-[#00D1FF]/80 focus-within:outline-none transition-colors duration-200",children:[e.jsx("span",{children:"Télécharger un fichier"}),e.jsx("input",{id:"file-upload",name:"logo",type:"file",className:"sr-only",onChange:n=>{var m;const x=(m=n.target.files)==null?void 0:m[0];x&&r(b=>({...b,logo:x.name}))}})]}),e.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),e.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG jusqu'à 10MB"})]})})]}),e.jsxs(g.div,{variants:Oe,children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:s.description,onChange:i,rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Description de votre entreprise..."})]}),e.jsxs(g.div,{className:"grid grid-cols-2 gap-6",variants:Oe,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:i,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"contact@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:i,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"+33 1 23 45 67 89",required:!0})]})]})]}),e.jsxs(g.div,{variants:Oe,children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Adresse"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-3 top-3 text-white/40",size:20}),e.jsx("textarea",{name:"address",value:s.address,onChange:i,rows:2,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Adresse complète...",required:!0})]})]}),e.jsxs(g.div,{variants:Oe,children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"url",name:"website",value:s.website,onChange:i,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"https://www.example.com"})]})]}),e.jsx(g.div,{variants:Oe,className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:"Enregistrer les modifications"})})]})]})}const Ht={firstName:"",lastName:"",email:"",phone:"",position:"",department:"production",location:"",startDate:"",employeeId:"",emergencyContact:"",role:"1"},yn=[{id:"1",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:["all"],users:[]},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches",permissions:["read:all","write:tasks","manage:users"],users:[]},{id:"3",name:"Opérateur",description:"Exécution des tâches quotidiennes",permissions:["read:tasks","write:tasks"],users:[]},{id:"4",name:"Comptable",description:"Gestion de la comptabilité et des finances",permissions:["read:sales","write:sales","read:purchases","write:purchases","read:inventory","read:reports"],users:[]}];function kn(){const a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let s="";for(let r=0;r<12;r++)s+=a.charAt(Math.floor(Math.random()*a.length));return s}const Js={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Gs={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}},Ys={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.9,transition:{duration:.2}}};function Cn(){const{addUser:t,deleteUser:a,updateUser:s,users:r}=Ce(),[i,l]=o.useState(!1),[n,x]=o.useState(null);o.useState(null);const[m,b]=o.useState(null),[h,d]=o.useState(Ht),[c,p]=o.useState({}),u=v=>{x(v);const k={firstName:v.firstName,lastName:v.lastName,email:v.email,phone:v.phone,position:v.position,department:v.department,location:v.location,startDate:v.startDate,employeeId:v.employeeId,emergencyContact:v.emergencyContact,role:v.role};d(k),l(!0)},f=()=>{const v={};return h.firstName||(v.firstName="Le prénom est requis"),h.lastName||(v.lastName="Le nom est requis"),h.email||(v.email="L'email est requis"),h.phone||(v.phone="Le téléphone est requis"),h.position||(v.position="Le poste est requis"),h.employeeId||(v.employeeId="L'ID employé est requis"),p(v),Object.keys(v).length===0},j=async v=>{if(v.preventDefault(),!f())return;const k=kn();try{const D={...h,password:k};await t(D),dt.success("Utilisateur ajouté avec succès"),d(Ht),l(!1)}catch{dt.error("Erreur lors de l'ajout de l'utilisateur")}},z=async v=>{if(v.preventDefault(),!(!(n!=null&&n.id)||!f()))try{await s(n.id,h),dt.success("Utilisateur modifié avec succès"),x(null),d(Ht),l(!1)}catch{dt.error("Erreur lors de la modification de l'utilisateur")}},S=v=>{const{name:k,value:D}=v.target;if(d(B=>({...B,[k]:D})),c[k]){const B={...c};delete B[k],p(B)}},y=()=>{l(!1),x(null),d(Ht),p({})},w=v=>{v.preventDefault();const k={};h.firstName||(k.firstName="Le prénom est obligatoire"),h.lastName||(k.lastName="Le nom est obligatoire"),h.email||(k.email="L'email est obligatoire"),h.phone||(k.phone="Le téléphone est obligatoire"),h.position||(k.position="Le rôle est obligatoire"),h.startDate||(k.startDate="La date de début est obligatoire"),p(k),Object.keys(k).length===0&&j(v)},M=v=>{a(v),b(null),dt.success("Utilisateur supprimé avec succès")};return e.jsxs(g.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:Js,children:[e.jsxs(g.div,{variants:Gs,className:"flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),e.jsx(Ut,{size:24,className:"text-[#00D1FF] relative z-10"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Rôles & Permissions"}),e.jsx("p",{className:"text-white/60",children:"Gérez les rôles et les permissions des utilisateurs"})]})]}),e.jsxs(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:[e.jsx(Z,{size:20,className:"inline-block mr-2"}),"Ajouter un utilisateur"]})]}),e.jsx(g.div,{className:"grid grid-cols-1 gap-6",variants:Js,children:yn.map(v=>e.jsx(g.div,{variants:Gs,className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#00D1FF]/10 flex items-center justify-center",children:e.jsx(Ut,{size:24,className:"text-[#00D1FF]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent mb-1",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:v.name}),e.jsx("p",{className:"text-white/60",children:v.description}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-white/80",children:"Utilisateurs"}),e.jsx("div",{className:"space-y-3",children:r.filter(k=>k.role===v.id).map(k=>e.jsx(g.div,{className:"bg-white/5 rounded-xl p-4 group hover:bg-white/10 transition-all duration-200",whileHover:{scale:1.02},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-medium",children:[k.firstName," ",k.lastName]}),e.jsx("div",{className:"text-sm text-white/60 mt-1",children:k.position})]}),e.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[e.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(k),className:"p-2 hover:bg-[#00D1FF]/10 rounded-lg transition-colors",children:e.jsx(he,{size:16,className:"text-[#00D1FF]"})}),e.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>b(k.id),className:"p-2 hover:bg-red-500/10 rounded-lg transition-colors",children:e.jsx(oe,{size:16,className:"text-red-400"})})]})]})},k.id))})]})]})]})})},v.id))}),e.jsx(U,{children:(i||n)&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx(g.div,{variants:Ys,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-xl rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-6",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:n?"Modifier l'utilisateur":"Nouvel utilisateur"}),e.jsxs("form",{className:"space-y-6",onSubmit:n?z:w,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Prénom"}),e.jsx("input",{type:"text",name:"firstName",value:h.firstName,onChange:S,className:`w-full px-4 py-3 bg-white/5 border ${c.firstName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),c.firstName&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(de,{size:16,className:"mr-1"}),c.firstName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom"}),e.jsx("input",{type:"text",name:"lastName",value:h.lastName,onChange:S,className:`w-full px-4 py-3 bg-white/5 border ${c.lastName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),c.lastName&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(de,{size:16,className:"mr-1"}),c.lastName]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"email",name:"email",value:h.email,onChange:S,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${c.email?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),c.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(de,{size:16,className:"mr-1"}),c.email]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:S,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${c.phone?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),c.phone&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(de,{size:16,className:"mr-1"}),c.phone]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Rôle"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsxs("select",{name:"position",value:h.position,onChange:S,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${c.position?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none appearance-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner un rôle"}),e.jsx("option",{value:"manageur",children:"Manageur"}),e.jsx("option",{value:"operateur",children:"Opérateur"}),e.jsx("option",{value:"comptable_full",children:"Comptable Tout accès"}),e.jsx("option",{value:"comptable",children:"Comptable"})]})]}),c.position&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(de,{size:16,className:"mr-1"}),c.position]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Date de début"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"date",name:"startDate",value:h.startDate,onChange:S,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${c.startDate?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),c.startDate&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx(de,{size:16,className:"mr-1"}),c.startDate]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx(g.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:y,className:"px-6 py-3 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),e.jsx(g.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:n?"Mettre à jour":"Ajouter"})]})]})]})})})}),e.jsx(U,{children:m&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx(g.div,{variants:Ys,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer la suppression"}),e.jsx("p",{className:"text-white/70 mb-6",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(g.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>b(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),e.jsx(g.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m&&M(m),className:"px-4 py-2 bg-red-500/80 hover:bg-red-500 text-white rounded-xl transition-colors",children:"Supprimer"})]})]})})})})]})}const Sn=[{id:"1",name:"Huîtres Plates",category:"Huîtres",description:"Huîtres plates de qualité supérieure",sizes:["2","3","4"],unit:"douzaine",minStock:100,maxStock:1e3},{id:"2",name:"Huîtres Creuses",category:"Huîtres",description:"Huîtres creuses standard",sizes:["2","3","4","5"],unit:"douzaine",minStock:200,maxStock:2e3}];function Dn(){const[t,a]=o.useState(!1),[s,r]=o.useState(null),[i,l]=o.useState(null),[n,x]=o.useState(Sn),m=d=>{r(d),a(!0)},b=d=>{x(n.filter(c=>c.id!==d)),l(null)},h=d=>{if(s)x(n.map(c=>c.id===s.id?{...c,...d}:c));else{const c={id:crypto.randomUUID(),...d};x([...n,c])}a(!1),r(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuration des Produits"}),e.jsxs("button",{onClick:()=>{r(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouveau produit"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(d=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(me,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:d.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(d),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(he,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>l(d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(oe,{size:20,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Calibres disponibles"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.sizes.map(c=>e.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["N°",c]},c))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Gestion du stock"}),e.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[e.jsxs("div",{children:["Stock minimum: ",d.minStock," ",d.unit,"s"]}),e.jsxs("div",{children:["Stock maximum: ",d.maxStock," ",d.unit,"s"]})]})]})]})]},d.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier le produit":"Nouveau produit"}),e.jsxs("form",{onSubmit:d=>{d.preventDefault();const c=new FormData(d.currentTarget),p=Object.fromEntries(c.entries());h(p)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Huîtres Plates",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),e.jsxs("select",{name:"category",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.category,required:!0,children:[e.jsx("option",{value:"huitres",children:"Huîtres"}),e.jsx("option",{value:"materiels",children:"Matériels"}),e.jsx("option",{value:"emballages",children:"Emballages"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description du produit...",defaultValue:s==null?void 0:s.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Calibres disponibles"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4","5"].map(d=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"sizes",value:d,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:s==null?void 0:s.sizes.includes(d)}),e.jsxs("span",{className:"text-white",children:["N°",d]})]},d))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),e.jsxs("select",{name:"unit",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.unit,required:!0,children:[e.jsx("option",{value:"douzaine",children:"Douzaine"}),e.jsx("option",{value:"piece",children:"Pièce"}),e.jsx("option",{value:"kg",children:"Kilogramme"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),r(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer le produit"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(de,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>b(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const zn=[{id:"1",name:"Naissain Express",type:"Naissain",contact:{name:"Jean Martin",email:"jean.martin@naissain-express.fr",phone:"01 23 45 67 89"},address:"123 Route de la Mer, 17000 La Rochelle",products:["Naissain d'huîtres plates","Naissain d'huîtres creuses"],status:"active"},{id:"2",name:"Emballages Océan",type:"Emballages",contact:{name:"Marie Dubois",email:"contact@emballages-ocean.fr",phone:"02 34 56 78 90"},address:"456 Avenue du Port, 44000 Nantes",products:["Bourriches","Cagettes","Étiquettes"],status:"active"}];function Mn(){const[t,a]=o.useState(!1),[s,r]=o.useState(null),[i,l]=o.useState(null),[n,x]=o.useState(zn),m=d=>{r(d),a(!0)},b=d=>{x(n.filter(c=>c.id!==d)),l(null)},h=d=>{if(s)x(n.map(c=>c.id===s.id?{...c,...d}:c));else{const c={id:crypto.randomUUID(),...d};x([...n,c])}a(!1),r(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Fournisseurs"}),e.jsxs("button",{onClick:()=>{r(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouveau fournisseur"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(d=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(xt,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:d.type})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(De,{size:16,className:"mr-2"}),d.contact.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(ce,{size:16,className:"mr-2"}),d.contact.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(Ne,{size:16,className:"mr-2"}),d.address]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produits fournis"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.products.map((c,p)=>e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:c},p))})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(d),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(he,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>l(d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(oe,{size:20,className:"text-white/60"})})]})]})},d.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier le fournisseur":"Nouveau fournisseur"}),e.jsxs("form",{onSubmit:d=>{d.preventDefault();const c=new FormData(d.currentTarget),p={name:c.get("name"),type:c.get("type"),contact:{name:c.get("contactName"),email:c.get("email"),phone:c.get("phone")},address:c.get("address"),products:c.getAll("products"),status:"active"};h(p)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Naissain Express",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.type,required:!0,children:[e.jsx("option",{value:"naissain",children:"Naissain"}),e.jsx("option",{value:"emballages",children:"Emballages"}),e.jsx("option",{value:"materiels",children:"Matériels"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Contact"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nom du contact"}),e.jsx("input",{type:"text",name:"contactName",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.email,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.phone,required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),e.jsx("textarea",{name:"address",rows:2,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",defaultValue:s==null?void 0:s.address,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Produits fournis"}),e.jsx("div",{className:"space-y-2",children:["Naissain","Bourriches","Matériel d'élevage"].map(d=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"products",value:d,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:s==null?void 0:s.products.includes(d)}),e.jsx("span",{className:"text-white",children:d})]},d))})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),r(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer le fournisseur"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(de,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>b(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const Fn=[{id:"1",name:"Prix Détail 2025",description:"Liste des prix pour la vente au détail",type:"retail",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:24.9},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:19.9}],validFrom:"2025-01-01",validTo:"2025-12-31"},{id:"2",name:"Prix Grossiste 2025",description:"Liste des prix pour la vente en gros",type:"wholesale",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:18.9,minQuantity:100},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:14.9,minQuantity:100}],validFrom:"2025-01-01",validTo:"2025-12-31"}];function Tn(){const[t,a]=o.useState(!1),[s,r]=o.useState(null),[i,l]=o.useState(null),[n,x]=o.useState(Fn),m=d=>{r(d),a(!0)},b=d=>{x(n.filter(c=>c.id!==d)),l(null)},h=d=>{if(s)x(n.map(c=>c.id===s.id?{...c,...d}:c));else{const c={id:crypto.randomUUID(),...d};x([...n,c])}a(!1),r(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Tarification"}),e.jsxs("button",{onClick:()=>{r(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouvelle liste de prix"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(d=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(Ze,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.type==="retail"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:d.type==="retail"?"Détail":"Gros"})]}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:d.description}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"text-sm text-white/60",children:["Valide du ",new Date(d.validFrom).toLocaleDateString("fr-FR"),d.validTo&&` au ${new Date(d.validTo).toLocaleDateString("fr-FR")}`]}),e.jsx("div",{className:"mt-4",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-sm text-white/60",children:[e.jsx("th",{className:"text-left pb-2",children:"Produit"}),e.jsx("th",{className:"text-left pb-2",children:"Calibre"}),e.jsx("th",{className:"text-right pb-2",children:"Prix"}),d.type==="wholesale"&&e.jsx("th",{className:"text-right pb-2",children:"Qté min."})]})}),e.jsx("tbody",{className:"text-white",children:d.products.map((c,p)=>e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsx("td",{className:"py-2",children:c.name}),e.jsxs("td",{className:"py-2",children:["N°",c.size]}),e.jsxs("td",{className:"text-right py-2",children:[c.price.toFixed(2),"€/",c.unit]}),d.type==="wholesale"&&e.jsx("td",{className:"text-right py-2",children:c.minQuantity})]},p))})]})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(d),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(he,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>l(d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(oe,{size:20,className:"text-white/60"})})]})]})},d.id))}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(de,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cette liste de prix ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>b(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier la liste de prix":"Nouvelle liste de prix"}),e.jsxs("form",{onSubmit:d=>{d.preventDefault();const c=new FormData(d.currentTarget),p={name:c.get("name"),description:c.get("description"),type:c.get("type"),validFrom:c.get("validFrom"),validTo:c.get("validTo"),products:[]};h(p)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la liste"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Prix Détail 2025",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.type,required:!0,children:[e.jsx("option",{value:"retail",children:"Vente au détail"}),e.jsx("option",{value:"wholesale",children:"Vente en gros"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de la liste de prix...",defaultValue:s==null?void 0:s.description,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide à partir du"}),e.jsx("input",{type:"date",name:"validFrom",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.validFrom,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide jusqu'au"}),e.jsx("input",{type:"date",name:"validTo",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.validTo})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Produits"}),e.jsxs("div",{className:"space-y-4",children:[((s==null?void 0:s.products)||[]).map((d,c)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Produit"}),e.jsxs("select",{name:`products[${c}].name`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:d.name,children:[e.jsx("option",{value:"plates",children:"Huîtres Plates"}),e.jsx("option",{value:"creuses",children:"Huîtres Creuses"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Calibre"}),e.jsxs("select",{name:`products[${c}].size`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:d.size,children:[e.jsx("option",{value:"2",children:"N°2"}),e.jsx("option",{value:"3",children:"N°3"}),e.jsx("option",{value:"4",children:"N°4"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix"}),e.jsx("input",{type:"number",step:"0.01",name:`products[${c}].price`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:d.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Qté min."}),e.jsx("input",{type:"number",name:`products[${c}].minQuantity`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:d.minQuantity})]})]},c)),e.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>{const d=[...(s==null?void 0:s.products)||[]];d.push({name:"plates",size:"3",price:0,minQuantity:1}),r({...s||{name:"",description:"",type:"retail",validFrom:"",validTo:"",products:[]},products:d})},children:"+ Ajouter un produit"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),r(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer la liste"})]})]})]})})]})}const _n=[{id:"1",name:"Zone Nord",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1558,longitude:-1.1532},status:"active"},{id:"2",name:"Zone Sud",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1498,longitude:-1.1502},status:"active"}];function Pn(){var d,c;const[t,a]=o.useState(!1),[s,r]=o.useState(null),[i,l]=o.useState(null),[n,x]=o.useState(_n),m=p=>{r(p),a(!0)},b=p=>{x(n.filter(u=>u.id!==p)),l(null)},h=p=>{if(s)x(n.map(u=>u.id===s.id?{...u,...p}:u));else{const u={id:crypto.randomUUID(),...p};x([...n,u])}a(!1),r(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Emplacements des tables"}),e.jsxs("button",{onClick:()=>{r(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Configuration table"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(p=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(Pe,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.status==="active"?"bg-green-500/20 text-green-300":p.status==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:p.status==="active"?"Actif":p.status==="maintenance"?"Maintenance":"Inactif"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white",children:p.type}),e.jsx("div",{className:"text-sm text-white/60 mt-4",children:"Nombre de perches"}),e.jsx("div",{className:"text-white",children:p.capacity})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Nombre de corde par perches"}),e.jsx("div",{className:"text-white",children:p.cordCount})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(p),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(he,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>l(p.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(oe,{size:20,className:"text-white/60"})})]})]})},p.id))}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(de,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cet emplacement ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>b(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier la table":"Nouvelle table"}),e.jsxs("form",{onSubmit:p=>{p.preventDefault();const u=new FormData(p.currentTarget),f={name:u.get("name"),type:u.get("type"),capacity:Number(u.get("capacity")),cordCount:Number(u.get("cordCount")),cordLength:Number(u.get("cordLength")),oystersPerCord:Number(u.get("oystersPerCord")),coordinates:{latitude:Number(u.get("latitude")),longitude:Number(u.get("longitude"))}};h(f)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'emplacement"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Table Nord",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.type)||"table",required:!0,children:[e.jsx("option",{value:"table",children:"Table"}),e.jsx("option",{value:"tableTrempe",children:"Table de trempe"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de perches"}),e.jsx("input",{type:"number",name:"capacity",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.capacity)||100,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de corde par perches"}),e.jsx("input",{type:"number",name:"cordCount",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.cordCount)||10,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Longueur de corde"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",name:"cordLength",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-l-lg text-white",defaultValue:(s==null?void 0:s.cordLength)||3,required:!0}),e.jsx("span",{className:"bg-white/10 px-3 py-2 rounded-r-lg text-white/60",children:"mètres"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre d'huitres par cordes"}),e.jsx("input",{type:"number",name:"oystersPerCord",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.oystersPerCord)||130,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Coordonnées GPS"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Latitude"}),e.jsx("input",{type:"number",name:"latitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(d=s==null?void 0:s.coordinates)==null?void 0:d.latitude,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Longitude"}),e.jsx("input",{type:"number",name:"longitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(c=s==null?void 0:s.coordinates)==null?void 0:c.longitude,required:!0})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),r(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer table"})]})]})]})})]})}const Xs=[{id:"1",name:"Douzaine",symbol:"dz",type:"quantity",description:"Unité de base pour les huîtres"},{id:"2",name:"Kilogramme",symbol:"kg",type:"weight",description:"Unité de poids standard"},{id:"3",name:"Pochon",symbol:"pch",type:"quantity",baseUnit:"douzaine",conversionFactor:12,description:"Contenant standard pour l'élevage"},{id:"4",name:"Caisse de conditionnement",symbol:"ccon",type:"quantity",baseUnit:"douzaine",conversionFactor:24,description:"Caisse utilisée pour le conditionnement des huîtres"},{id:"5",name:"Caisse de stockage bassin",symbol:"cstk",type:"quantity",baseUnit:"douzaine",conversionFactor:36,description:"Caisse pour le stockage en bassin"}];function An(){const[t,a]=o.useState(!1);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Unités & Mesures"}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouvelle unité"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:Xs.map(s=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(Ms,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.name}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.symbol}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.type})]}),s.description&&e.jsx("p",{className:"text-sm text-white/60 mt-1",children:s.description}),s.baseUnit&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["1 ",s.symbol," = ",s.conversionFactor," ",s.baseUnit]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(he,{size:20,className:"text-white/60"})}),e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(oe,{size:20,className:"text-white/60"})})]})]})},s.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Nouvelle unité"}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'unité"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Douzaine"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Symbole"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: dz"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"weight",children:"Poids"}),e.jsx("option",{value:"volume",children:"Volume"}),e.jsx("option",{value:"quantity",children:"Quantité"}),e.jsx("option",{value:"dimension",children:"Dimension"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de l'unité..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité de base"}),e.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Aucune"}),Xs.map(s=>e.jsxs("option",{value:s.symbol,children:[s.name," (",s.symbol,")"]},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Facteur de conversion"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'unité"})]})]})]})})]})}const Ln=[{id:"company",label:"Entreprise",icon:e.jsx(is,{size:20}),description:"Informations et paramètres de l'entreprise"},{id:"roles",label:"Rôles & Permissions",icon:e.jsx(ue,{size:20}),description:"Gestion des accès et des droits utilisateurs"},{id:"products",label:"Produits",icon:e.jsx(me,{size:20}),description:"Configuration des produits et du catalogue"},{id:"pricing",label:"Tarification",icon:e.jsx(Ze,{size:20}),description:"Configuration des prix et remises"},{id:"locations",label:"Emplacements",icon:e.jsx(Pe,{size:20}),description:"Configuration des tables"},{id:"units",label:"Unités & Mesures",icon:e.jsx(Ms,{size:20}),description:"Configuration des unités de mesure"}],qn={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},ms={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};function Rn(){const[t,a]=o.useState("company"),s=()=>{switch(t){case"company":return e.jsx(Nn,{});case"roles":return e.jsx(Cn,{});case"products":return e.jsx(Dn,{});case"suppliers":return e.jsx(Mn,{});case"pricing":return e.jsx(Tn,{});case"locations":return e.jsx(Pn,{});case"units":return e.jsx(An,{});default:return null}};return e.jsxs(g.div,{initial:"hidden",animate:"visible",variants:qn,className:"space-y-6 p-6",children:[e.jsx(g.div,{variants:ms,className:"flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),e.jsx(es,{size:24,className:"text-[#00D1FF] relative z-10"})]}),e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Configuration"})]})}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx(g.div,{variants:ms,className:"col-span-3 rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:e.jsx("nav",{className:"p-4 space-y-2",children:Ln.map(r=>e.jsxs(g.button,{onClick:()=>a(r.id),className:`w-full flex items-start p-4 rounded-lg transition-all duration-300 group relative overflow-hidden
                  ${t===r.id?"bg-[#00D1FF]/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,whileHover:{scale:1.02},whileTap:{scale:.98},style:{background:t===r.id?"linear-gradient(135deg, rgba(0, 209, 255, 0.15) 0%, rgba(0, 209, 255, 0.05) 100%)":"transparent"},children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:r.icon}),e.jsxs("div",{className:"ml-3 text-left",children:[e.jsx("span",{className:"block font-medium",children:r.label}),e.jsx("span",{className:`text-sm ${t===r.id?"text-white/80":"text-white/40"}`,children:r.description})]}),t===r.id&&e.jsx(g.div,{className:"absolute inset-0 bg-gradient-to-r from-[#00D1FF]/10 to-transparent",layoutId:"activeSection",transition:{type:"spring",stiffness:300,damping:30}})]},r.id))})}),e.jsx(g.div,{variants:ms,className:"col-span-9 rounded-xl",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:e.jsx(U,{mode:"wait",children:e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"p-6",children:s()},t)})})]})]})}const En=[{id:"1",type:"alert",title:"Alerte stock critique",message:"Le stock d'huîtres plates N°3 est en dessous du seuil minimum",timestamp:"2025-02-19T10:30:00",read:!1,important:!0,category:"inventory",link:"/inventory"},{id:"2",type:"success",title:"Tâche terminée",message:"Marie Martin a terminé l'inspection des tables",timestamp:"2025-02-19T09:15:00",read:!1,important:!1,category:"task",link:"/tasks"},{id:"3",type:"warning",title:"Contrôle qualité requis",message:"Le lot LOT-2025-001 nécessite un contrôle qualité",timestamp:"2025-02-19T08:45:00",read:!0,important:!0,category:"quality",link:"/quality"},{id:"4",type:"info",title:"Nouveau congé",message:"Jean Dupont a déposé une demande de congés",timestamp:"2025-02-19T08:30:00",read:!0,important:!1,category:"hr",link:"/hr"}],$n={alert:pe,success:Ke,info:Ve,warning:be},In={system:Ve,task:le,inventory:me,quality:ze,hr:ue},Zs={alert:"bg-red-500/20 text-red-300",success:"bg-green-500/20 text-green-300",info:"bg-blue-500/20 text-blue-300",warning:"bg-yellow-500/20 text-yellow-300"};function On({searchQuery:t,filter:a}){const[s,r]=o.useState(null),[i,l]=o.useState(En),n=i.filter(h=>{const d=h.title.toLowerCase().includes(t.toLowerCase())||h.message.toLowerCase().includes(t.toLowerCase()),c=a==="all"||a==="unread"&&!h.read||a==="important"&&h.important;return d&&c}),x=h=>{l(i.map(d=>d.id===h?{...d,read:!0}:d))},m=h=>{l(i.map(d=>d.id===h?{...d,important:!d.important}:d))},b=h=>{l(i.filter(d=>d.id!==h))};return e.jsx("div",{className:"space-y-4",children:n.map(h=>{const d=$n[h.type],c=In[h.category];return e.jsx("div",{className:`bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors ${h.read?"":"bg-white/10"}`,children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${Zs[h.type].split(" ")[0]} flex items-center justify-center`,children:e.jsx(d,{size:20,className:Zs[h.type].split(" ")[1]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:h.title}),h.important&&e.jsx("span",{className:"px-2 py-1 bg-brand-burgundy/20 text-brand-burgundy rounded-full text-xs",children:"Important"}),!h.read&&e.jsx("span",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),e.jsx("p",{className:"text-white/70 mt-1",children:h.message}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{size:16,className:"mr-1"}),L(new Date(h.timestamp),"PPp",{locale:W})]}),e.jsx("div",{children:"•"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{size:16,className:"mr-1"}),h.category]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>r(s===h.id?null:h.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(Mt,{size:20,className:"text-white/60"})}),s===h.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[!h.read&&e.jsxs("button",{onClick:()=>x(h.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(na,{size:16,className:"mr-2"}),"Marquer comme lu"]}),e.jsxs("button",{onClick:()=>m(h.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(ve,{size:16,className:"mr-2"}),h.important?"Retirer important":"Marquer important"]}),e.jsxs("button",{onClick:()=>b(h.id),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},h.id)})})}const hs=[{name:"Alertes",value:15},{name:"Succès",value:25},{name:"Informations",value:40},{name:"Avertissements",value:20}],Bn=[{date:"Lun",count:12},{date:"Mar",count:15},{date:"Mer",count:8},{date:"Jeu",count:20},{date:"Ven",count:14}],us=["#ef4444","#22c55e","#3b82f6","#eab308"];function Hn(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(Ve,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Total notifications"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"156"}),e.jsx("div",{className:"text-sm text-white/60",children:"Cette semaine"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:e.jsx(pe,{size:20,className:"text-red-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Non lues"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"8"}),e.jsx("div",{className:"text-sm text-red-300",children:"Nécessite attention"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(Ke,{size:20,className:"text-green-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Traitées"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),e.jsx("div",{className:"text-sm text-green-300",children:"91% de résolution"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:e.jsx(be,{size:20,className:"text-yellow-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Temps moyen"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5h"}),e.jsx("div",{className:"text-sm text-white/60",children:"De résolution"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Notifications par type"}),e.jsx("div",{className:"h-80",children:e.jsx(Wt,{width:"100%",height:"100%",children:e.jsxs(ca,{children:[e.jsx(oa,{data:hs,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:hs.map((t,a)=>e.jsx(xa,{fill:us[a%us.length]},`cell-${a}`))}),e.jsx(ks,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},formatter:t=>`${t}%`})]})})}),e.jsx("div",{className:"mt-6 space-y-4",children:hs.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:us[a]}}),e.jsx("span",{className:"text-white/70",children:t.name})]}),e.jsxs("span",{className:"text-white",children:[t.value,"%"]})]},t.name))})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Volume par jour"}),e.jsx("div",{className:"h-80",children:e.jsx(Wt,{width:"100%",height:"100%",children:e.jsxs(Zi,{data:Bn,children:[e.jsx(fa,{strokeDasharray:"3 3",stroke:"#ffffff10"}),e.jsx(wa,{dataKey:"date",stroke:"#ffffff60"}),e.jsx(va,{stroke:"#ffffff60"}),e.jsx(ks,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},itemStyle:{color:"#fff"}}),e.jsx(Ki,{dataKey:"count",name:"Notifications",fill:"#8B0000"})]})})})]})]})]})}function Vn({onClose:t}){return e.jsx(ke,{isOpen:!0,onClose:t,title:"Paramètres des notifications",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Canaux de notification"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ve,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Application"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications dans l'interface"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(De,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Email"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications par email"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(za,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Mobile"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications push sur mobile"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ce,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"SMS"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications par SMS"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Types de notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Alertes système"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications critiques du système"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Tâches"}),e.jsx("div",{className:"text-sm text-white/60",children:"Mises à jour des tâches assignées"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Stock"}),e.jsx("div",{className:"text-sm text-white/60",children:"Alertes de niveau de stock"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Qualité"}),e.jsx("div",{className:"text-sm text-white/60",children:"Rapports de contrôle qualité"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"RH"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications RH et congés"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})})}function Qn(){const[t,a]=o.useState(!0),[s,r]=o.useState(!1),[i,l]=o.useState(""),[n,x]=o.useState("all");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notifications"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Fs,{size:20,className:"mr-2"}),"Statistiques"]}),e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(es,{size:20,className:"mr-2"}),"Paramètres"]})]})]}),t&&e.jsx(Hn,{}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:i,onChange:m=>l(m.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg transition-colors ${n==="all"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Toutes"}),e.jsx("button",{onClick:()=>x("unread"),className:`px-4 py-2 rounded-lg transition-colors ${n==="unread"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Non lues"}),e.jsx("button",{onClick:()=>x("important"),className:`px-4 py-2 rounded-lg transition-colors ${n==="important"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Importantes"})]})]}),e.jsx(On,{searchQuery:i,filter:n}),s&&e.jsx(Vn,{onClose:()=>r(!1)})]})}const Ua=({onClose:t,task:a})=>{const{register:s,handleSubmit:r,formState:{errors:i},watch:l}=pt({defaultValues:a||{}}),[n,x]=o.useState("details"),[m,b]=o.useState(null),d=l("status")==="completed",c=async p=>{try{console.log("Création de tâche:",p),t()}catch(u){console.error("Error creating task:",u)}};return e.jsxs("div",{className:"modal-container",children:[e.jsxs("div",{className:"modal-header px-6 py-4 border-b border-white/10 flex items-center justify-between bg-white/10 rounded-2xl backdrop-blur-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-white bg-gradient-to-r from-white to-white/70 bg-clip-text text-transparent",children:"Nouvelle tâche"}),e.jsx("button",{onClick:t,className:"text-white/60 hover:text-white/90 transition-colors p-1 rounded-lg hover:bg-white/5","aria-label":"Fermer",children:e.jsx(R,{size:20})})]}),e.jsxs("form",{onSubmit:r(c),className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-6",children:[d&&e.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[e.jsx("button",{type:"button",className:`pb-2 px-3 text-sm font-medium ${n==="details"?"text-brand-burgundy border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,onClick:()=>x("details"),children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(fs,{size:16}),"Détails"]})}),e.jsx("button",{type:"button",className:`pb-2 px-3 text-sm font-medium ${n==="performance"?"text-brand-burgundy border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,onClick:()=>x("performance"),children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(fs,{size:16}),"Performance"]})})]}),n==="details"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Titre de la tâche"}),e.jsx("input",{...s("title",{required:"Le titre est requis"}),className:"w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg px-4 py-2.5 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40 transition-shadow",placeholder:"Entrez le titre de la tâche"}),i.title&&e.jsx("p",{className:"mt-1 text-xs text-red-400",children:i.title.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Description"}),e.jsx("textarea",{...s("description"),className:"w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg px-4 py-2.5 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40 transition-shadow resize-y min-h-[100px]",placeholder:"Décrivez la tâche en détail"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(le,{size:16,className:"text-white/40"})}),e.jsx("input",{type:"date",...s("dueDate",{required:"La date est requise"}),className:"w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40 transition-shadow"})]}),i.dueDate&&e.jsx("p",{className:"mt-1 text-xs text-red-400",children:i.dueDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Assigné à"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(tt,{size:16,className:"text-white/40"})}),e.jsxs("select",{...s("assignedTo"),className:"w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40 transition-shadow",children:[e.jsx("option",{value:"",children:"Sélectionner un utilisateur"}),e.jsx("option",{value:"John Doe",children:"John Doe"}),e.jsx("option",{value:"Jane Smith",children:"Jane Smith"}),e.jsx("option",{value:"Alex Johnson",children:"Alex Johnson"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Heures estimées"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(be,{size:16,className:"text-white/40"})}),e.jsx("input",{type:"number",step:"0.5",...s("estimatedHours",{required:"Ce champ est requis",min:{value:.5,message:"Minimum 0.5 heure"},max:{value:100,message:"Maximum 100 heures"}}),className:"w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40 transition-shadow",placeholder:"Heures"})]}),i.estimatedHours&&e.jsx("p",{className:"mt-1 text-xs text-red-400",children:i.estimatedHours.message})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-7",children:[e.jsx("input",{type:"checkbox",id:"isRecurring",...s("isRecurring"),className:"w-4 h-4 rounded border-white/30 bg-white/5 text-brand-burgundy focus:ring-brand-burgundy/40"}),e.jsx("label",{htmlFor:"isRecurring",className:"text-sm text-white/70",children:"Tâche récurrente"})]})]}),l("isRecurring")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Fréquence"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(er,{size:16,className:"text-white/40"})}),e.jsxs("select",{...s("recurringPattern"),className:"w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40 transition-shadow",children:[e.jsx("option",{value:"daily",children:"Quotidien"}),e.jsx("option",{value:"weekly",children:"Hebdomadaire"}),e.jsx("option",{value:"biweekly",children:"Bi-hebdomadaire"}),e.jsx("option",{value:"monthly",children:"Mensuel"})]})]})]})]}),n==="performance"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h5",{className:"text-sm font-medium text-white/90 mb-3",children:"Évaluation de la performance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[e.jsx("span",{children:"Efficacité (Temps estimé vs temps réel)"}),e.jsx("span",{children:"85%"})]}),e.jsx("div",{className:"bg-white/10 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-brand-burgundy h-full rounded-full",style:{width:"85%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[e.jsx("span",{children:"Respect des délais"}),e.jsx("span",{children:"92%"})]}),e.jsx("div",{className:"bg-white/10 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-brand-burgundy h-full rounded-full",style:{width:"92%"}})})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/70",children:"Score automatique"}),e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(p=>e.jsx("button",{type:"button",onClick:()=>b(p),className:"focus:outline-none",children:e.jsx(ve,{size:18,className:p<=(m||4)?"text-amber-400 fill-amber-400":"text-white/20"})},p))})]})})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg border border-white/10 text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy text-white rounded-lg hover:bg-brand-burgundy/90 transition-colors",children:"Créer la tâche"})]})]})]})},Ks={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)",transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,transform:"translateY(30px)"}}},Un=({task:t,onClose:a})=>{o.useState(!1);const[s,r]=o.useState(""),[i,l]=o.useState(t.comments||[]),n=st(a),x=b=>b?L(new Date(b),"d MMMM yyyy",{locale:W}):"",m=()=>{if(!s.trim())return;const b={author:"Utilisateur actuel",content:s,date:new Date().toISOString(),rating:0};l([...i,b]),r("")};return e.jsx(g.div,{...Ks.overlay,className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.75)",WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",opacity:1},onClick:a,children:e.jsxs(g.div,{ref:n,...Ks.content,onClick:b=>b.stopPropagation(),className:"w-full max-w-3xl rounded-2xl shadow-2xl border border-white/10",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s",willChange:"transform, border-color",zIndex:101,opacity:1,transform:"translateY(0px)"},children:[e.jsxs("div",{className:"modal-header px-6 py-4 border-b border-white/10 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-white bg-gradient-to-r from-white to-white/70 bg-clip-text text-transparent",children:"Détails de la tâche"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white/90 transition-colors p-1 rounded-lg hover:bg-white/5","aria-label":"Fermer",children:e.jsx(R,{size:20})})]}),e.jsx("div",{className:"p-6 bg-gradient-to-b from-[rgba(0,40,80,0.4)] to-[rgba(0,20,40,0.3)]",children:e.jsxs("div",{className:"task-card-body",children:[e.jsx("h3",{className:"task-title text-xl font-semibold text-white mb-3",children:t.title}),e.jsx("p",{className:"task-description text-white/80 text-sm mb-4 leading-relaxed",children:t.description}),e.jsxs("div",{className:"task-metadata mb-4",children:[t.dueDate&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(le,{size:14,className:"metadata-icon"}),e.jsx("span",{children:x(t.dueDate)})]}),t.assignedTo&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(tt,{size:14,className:"metadata-icon"}),e.jsx("span",{children:t.assignedTo})]}),t.location&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(Ne,{size:14,className:"metadata-icon"}),e.jsx("span",{children:t.location})]})]}),e.jsxs("div",{className:"expanded-content expanded",children:[(t.category||t.status||t.priority)&&e.jsxs("div",{className:"task-tags mb-4",children:[t.category&&e.jsxs("div",{className:"task-tag",children:[e.jsx(_e,{size:12}),e.jsx("span",{children:t.category})]}),t.status&&e.jsxs("div",{className:"task-tag",children:[e.jsx(_e,{size:12}),e.jsx("span",{children:t.status==="completed"?"terminé":t.status==="in_progress"?"en cours":"en attente"})]}),t.priority&&e.jsxs("div",{className:"task-tag",children:[e.jsx(_e,{size:12}),e.jsx("span",{children:t.priority==="high"?"priorité haute":t.priority==="medium"?"priorité moyenne":"priorité basse"})]})]}),e.jsxs("div",{className:"task-actions",children:[e.jsxs("button",{className:"task-action-btn edit",children:[e.jsx(He,{size:14}),e.jsx("span",{children:"Modifier"})]}),e.jsxs("button",{className:"task-action-btn delete",children:[e.jsx(oe,{size:14}),e.jsx("span",{children:"Supprimer"})]})]})]})]})}),e.jsxs("div",{className:"p-6 border-t border-white/10 bg-gradient-to-b from-[rgba(0,40,80,0.2)] to-[rgba(0,20,40,0.1)]",children:[e.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[e.jsx(Ae,{size:16}),"Commentaires"]}),i&&i.length>0?e.jsx("div",{className:"space-y-4",children:i.map((b,h)=>e.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-blue-500 flex items-center justify-center text-white font-medium text-sm",children:b.author.substring(0,1)||"?"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:b.author||"Utilisateur"}),e.jsx("p",{className:"text-xs text-white/40",children:L(new Date(b.date),"dd MMM yyyy à HH:mm",{locale:W})})]}),e.jsx("div",{className:"prose prose-sm prose-invert mt-1",children:e.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:b.content})}),b.rating>0&&e.jsx("div",{className:"mt-2 flex items-center",children:[1,2,3,4,5].map((d,c)=>e.jsx(ve,{size:14,className:c<b.rating?"text-amber-400 fill-amber-400":"text-white/20"},c))}),b.attachments&&b.attachments.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:b.attachments.map((d,c)=>e.jsxs("div",{className:"flex items-center text-xs text-blue-400 hover:text-blue-300",children:[e.jsx(tr,{size:12,className:"mr-1"}),e.jsx("a",{href:"#",className:"truncate",children:d})]},c))})]})]})},h))}):e.jsxs("div",{className:"text-center py-8 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10",children:[e.jsx(Ae,{size:24,className:"mx-auto text-white/30 mb-2"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Aucun commentaire pour cette tâche"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{placeholder:"Ajouter un commentaire...",className:"w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg px-4 py-2.5 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40 transition-shadow resize-y min-h-[80px]",value:s,onChange:b=>r(b.target.value),"aria-label":"Champ de commentaire"}),e.jsx("button",{className:"absolute bottom-3 right-3 p-1.5 rounded-full bg-brand-burgundy hover:bg-brand-burgundy/90 text-white transition-colors","aria-label":"Envoyer le commentaire",onClick:m,disabled:!s.trim(),children:e.jsx(Ft,{size:16})})]})})]}),t.status==="completed"&&t.performance&&e.jsxs("div",{className:"p-6 border-t border-white/10 bg-gradient-to-b from-[rgba(0,40,80,0.2)] to-[rgba(0,20,40,0.1)]",children:[e.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[e.jsx(ve,{size:16}),"Évaluation de performance"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-white/90 mb-3",children:"Performance globale"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[e.jsx("span",{children:"Efficacité (Temps estimé vs temps réel)"}),e.jsxs("span",{children:[t.performance.efficiency,"%"]})]}),e.jsx("div",{className:"bg-white/10 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${t.performance.efficiency>80?"bg-green-500":t.performance.efficiency>50?"bg-amber-500":"bg-red-500"}`,style:{width:`${t.performance.efficiency}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[e.jsx("span",{children:"Qualité"}),e.jsxs("span",{children:[t.performance.quality,"%"]})]}),e.jsx("div",{className:"bg-white/10 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${t.performance.quality>80?"bg-green-500":t.performance.quality>50?"bg-amber-500":"bg-red-500"}`,style:{width:`${t.performance.quality}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[e.jsx("span",{children:"Respect des délais"}),e.jsxs("span",{children:[t.performance.timeliness,"%"]})]}),e.jsx("div",{className:"bg-white/10 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${t.performance.timeliness>80?"bg-green-500":t.performance.timeliness>50?"bg-amber-500":"bg-red-500"}`,style:{width:`${t.performance.timeliness}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-white/90 mb-3",children:"Évaluation"}),e.jsx("div",{className:"flex justify-center items-center space-x-1 mb-4",children:[1,2,3,4,5].map(b=>e.jsx(ve,{size:28,className:`${b<=Math.round((t.performance.efficiency+t.performance.quality+t.performance.timeliness)/3/20)?"text-amber-400 fill-amber-400":"text-white/20"}`},b))}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Score global"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[Math.round((t.performance.efficiency+t.performance.quality+t.performance.timeliness)/3),"%"]}),e.jsx("p",{className:"text-xs mt-1 text-white/60",children:t.delay===0?"Tâche terminée dans les délais":`Tâche terminée avec ${t.delay} jour${t.delay>1?"s":""} de retard`})]})]})]})]})]})})},Wn={low:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400",gradientClass:"from-green-500/10 to-transparent"},medium:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400",gradientClass:"from-amber-500/10 to-transparent"},high:{badgeClass:"text-red-300 bg-red-500/20 border-red-500/30",iconColor:"text-red-400",gradientClass:"from-red-500/10 to-transparent"}},Jn={pending:{badgeClass:"text-blue-300 bg-blue-500/20 border-blue-500/30",iconColor:"text-blue-400"},inProgress:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400"},completed:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400"},cancelled:{badgeClass:"text-gray-300 bg-gray-500/20 border-gray-500/30",iconColor:"text-gray-400"}},ea={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2}},exit:{opacity:0,y:20,transition:{duration:.2}}},Gn=[{id:"1",title:"Nettoyage des poches d'huîtres",description:"Nettoyer les poches d'huîtres dans la zone A pour éliminer les algues et sédiments. Vérifier l'état des attaches.",status:"completed",priority:"medium",dueDate:"2023-09-15",assignedTo:"Thomas Moreau",category:"Entretien",location:"Zone A - Parc 3",tags:["Nettoyage","Poches"],estimatedTime:6,actualTime:5,comments:[{author:"Jean Dupont",content:"J'ai remarqué que les attaches des poches 45 à 52 sont usées et devront être remplacées prochainement.",date:"2023-09-10T14:30:00",rating:4,attachments:[]},{author:"Thomas Moreau",content:"Nettoyage terminé avec efficacité. J'ai également remplacé quelques attaches qui étaient trop abîmées.",date:"2023-09-12T09:45:00",rating:5,attachments:["rapport-entretien.pdf"]}],delay:0,performance:{efficiency:100,quality:92,timeliness:100}},{id:"2",title:"Retournement des poches d'huîtres",description:"Retourner les poches dans les parcs 5 à 8 pour assurer une croissance uniforme des huîtres et réduire les déformations.",status:"in_progress",priority:"high",dueDate:"2023-09-25",assignedTo:"Marie Lefèvre",category:"Manipulation",location:"Zone B - Parcs 5-8",tags:["Retournement","Croissance"],estimatedTime:10,actualTime:8,comments:[{author:"Marie Lefèvre",content:"Les parcs 5 et 6 sont terminés. J'ai remarqué une forte présence de naissain naturel sur certaines poches.",date:"2023-09-18T10:15:00",rating:3,attachments:["observations.jpg"]}],delay:0,performance:{efficiency:70,quality:85,timeliness:90}},{id:"3",title:"Tri et calibrage des huîtres",description:"Trier et calibrer les huîtres du lot 2023-B pour séparer les différentes tailles et déterminer celles prêtes pour la vente.",status:"pending",priority:"medium",dueDate:"2023-09-30",assignedTo:"Pierre Dubois",category:"Tri",location:"Atelier principal",tags:["Calibrage","Tri","Vente"],estimatedTime:8,actualTime:0,comments:[{author:"Pierre Dubois",content:"J'ai préparé la zone de tri et vérifié l'état de la calibreuse automatique.",date:"2023-09-17T11:00:00",rating:0,attachments:["vérification-machine.pdf"]}],delay:0},{id:"4",title:"Mise en claire des huîtres spéciales",description:"Transférer les huîtres spéciales sélectionnées vers les claires pour l'affinage avant la période de fêtes. Vérifier la salinité et le phytoplancton.",status:"pending",priority:"low",dueDate:"2023-10-05",assignedTo:"Sophie Martin",category:"Affinage",location:"Claires - Marais Est",tags:["Affinage","Spéciales","Préparation fêtes"],estimatedTime:5,actualTime:0,comments:[]}];function Yn({searchQuery:t,onTaskSelect:a}){const[s,r]=o.useState(null),[i,l]=o.useState(null),[n,x]=o.useState(null),[m,b]=o.useState(!1),[h,d]=o.useState(!1),[c,p]=o.useState(""),[u,f]=o.useState(null),[j,z]=o.useState(""),[S,y]=o.useState("");o.useState(!0);const[w]=o.useState(Gn),M=o.useMemo(()=>w.filter(C=>C.title.toLowerCase().includes(t.toLowerCase())||C.description&&C.description.toLowerCase().includes(t.toLowerCase())),[w,t]),v=C=>{const N=M.find(O=>O.id===C);if(!N)return 0;const _=N.estimatedTime||8,A=N.actualTime||Math.random()*_*1.5;let J=0;if(A<_)J=Math.round(_/A*100);else if(A===_)J=100;else{const O=A/_;O<=1.1?J=90:O<=1.25?J=75:O<=1.5?J=60:O<=2?J=40:J=20}return Math.round(J)},k=C=>C>=100||C>=90?"text-green-500":C>=75?"text-green-400":C>=60?"text-yellow-400":C>=40?"text-amber-500":"text-red-500",D=C=>{l(i===C?null:C)},B=C=>{r(C)},E=C=>{console.log(`Delete task: ${C}`)},se=C=>new Date(C).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),q=(C,N)=>{N.stopPropagation(),f(C),b(!0)},X=(C,N)=>{N.stopPropagation(),f(C),d(!0)},ae=()=>{u&&c&&(console.log(`Commentaire ajouté pour la tâche ${u}:`,c),p(""),b(!1))},je=()=>{u&&j&&(console.log(`Retard signalé pour la tâche ${u}:`,{raison:j,durée:S}),z(""),y(""),d(!1))};return e.jsxs("div",{className:"task-list",children:[M.length===0?e.jsxs("div",{className:"empty-task-state",children:[e.jsx("div",{className:"empty-task-icon",children:e.jsx(sr,{size:40})}),e.jsx("h3",{className:"empty-task-title",children:"Aucune tâche trouvée"}),e.jsx("p",{className:"empty-task-text",children:"Commencez à ajouter de nouvelles tâches ou modifiez vos critères de recherche."})]}):e.jsx("div",{className:"task-grid",children:M.map(C=>{var xe,ie;const N=C.priority,_=C.status,A=i===C.id,J=_==="completed"?"Terminée":_==="in_progress"?"En cours":"En attente",O=_==="completed"?"completed":_==="in_progress"?"inProgress":"pending";return e.jsx("div",{className:"task-card-wrapper",children:e.jsxs("div",{className:"task-card",children:[e.jsx("div",{className:`task-card-header ${Wn[N].gradientClass}`,children:e.jsxs("div",{className:"task-header-content",children:[C.status==="completed"&&e.jsx("div",{className:"ml-2 flex items-center",children:e.jsxs("div",{className:"efficiency-indicator flex items-center",title:"Pourcentage de rendement basé sur le temps",children:[e.jsx("span",{className:"text-xs text-white/60 mr-1",children:"Rendement:"}),e.jsxs("span",{className:`text-sm font-medium ${k(v(C.id))}`,children:[v(C.id),"%"]})]})}),e.jsx("div",{className:"status-container",children:e.jsx("div",{className:`status-badge ${Jn[O].badgeClass}`,children:e.jsx("span",{children:J})})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"comment-btn p-1.5 rounded-full hover:bg-white/10 transition-colors",onClick:K=>q(C.id,K),"aria-label":"Ajouter un commentaire",title:"Ajouter un commentaire",children:e.jsx(Ae,{size:16,className:"text-blue-400"})}),e.jsxs("button",{className:"delay-btn p-1.5 rounded-full hover:bg-white/10 transition-colors flex items-center mr-1",onClick:K=>X(C.id,K),"aria-label":"Signaler un retard",title:"Signaler un retard",children:[e.jsx(de,{size:16,className:"text-amber-400 mr-1"}),e.jsx("span",{className:"text-xs",children:"Signaler un retard"})]}),e.jsx("button",{className:"expand-task-btn p-1.5 rounded-full hover:bg-white/10 transition-colors",onClick:K=>{K.stopPropagation(),D(C.id)},"aria-label":A?"Réduire":"Développer",children:e.jsx(Ps,{className:`transition-transform duration-200 ${A?"transform rotate-180":""}`,size:16})})]})]})}),e.jsxs("div",{className:`task-card-body ${A?"expanded":""}`,children:[e.jsx("h3",{className:"task-title",children:C.title}),e.jsx("p",{className:"task-description",children:C.description}),e.jsxs("div",{className:"task-metadata",children:[C.dueDate&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(le,{size:14,className:"metadata-icon"}),e.jsx("span",{children:se(C.dueDate)})]}),C.assignedTo&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(tt,{size:14,className:"metadata-icon"}),e.jsx("span",{children:C.assignedTo})]}),C.location&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(Ne,{size:14,className:"metadata-icon"}),e.jsx("span",{children:C.location})]})]}),e.jsxs("div",{className:`expanded-content ${A?"expanded":""}`,children:[e.jsxs("div",{className:"task-tags",children:[C.category&&e.jsxs("div",{className:"task-tag",children:[e.jsx(_e,{size:12}),e.jsx("span",{children:C.category})]}),C.title.toLowerCase().includes("inspection")&&e.jsxs("div",{className:"task-tag",children:[e.jsx(_e,{size:12}),e.jsx("span",{children:"inspection"})]}),C.title.toLowerCase().includes("qualité")||((xe=C.description)==null?void 0:xe.toLowerCase().includes("qualité"))&&e.jsxs("div",{className:"task-tag",children:[e.jsx(_e,{size:12}),e.jsx("span",{children:"qualité"})]}),C.title.toLowerCase().includes("huître")||((ie=C.description)==null?void 0:ie.toLowerCase().includes("huître"))&&e.jsxs("div",{className:"task-tag",children:[e.jsx(_e,{size:12}),e.jsx("span",{children:"huîtres"})]})]}),e.jsxs("div",{className:"task-actions",children:[e.jsxs("button",{className:"delay-btn p-1.5 rounded-full hover:bg-white/10 transition-colors flex items-center mr-1",onClick:K=>X(C.id,K),"aria-label":"Signaler un retard",title:"Signaler un retard",children:[e.jsx(de,{size:16,className:"text-amber-400 mr-1"}),e.jsx("span",{className:"text-xs",children:"Signaler un retard"})]}),e.jsxs("button",{className:"task-action-btn edit",onClick:K=>{K.stopPropagation(),B(C)},children:[e.jsx(He,{size:14}),e.jsx("span",{children:"Modifier"})]}),e.jsxs("button",{className:"task-action-btn delete",onClick:K=>{K.stopPropagation(),E(C.id)},children:[e.jsx(oe,{size:14}),e.jsx("span",{children:"Supprimer"})]})]})]}),e.jsx("div",{className:"performance-details",children:A&&C.status==="completed"&&e.jsxs("div",{className:"bg-white/5 mt-3 p-3 rounded-lg border border-white/10",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-2 flex items-center",children:[e.jsx(be,{size:14,className:"mr-1.5 text-yellow-400"}),"Évaluation du temps de réalisation"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps prévu"}),e.jsxs("div",{className:"text-sm text-white",children:[C.estimatedTime||8," heures"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps réel"}),e.jsxs("div",{className:"text-sm text-white",children:[C.actualTime||Math.round((Math.random()*.5+.75)*(C.estimatedTime||8)*10)/10," heures"]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Rendement"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full",children:e.jsx("div",{className:"h-full rounded-full bg-green-500",style:{width:`${Math.min(100,v(C.id))}%`}})}),e.jsxs("span",{className:`ml-2 text-sm font-medium ${k(v(C.id))}`,children:[v(C.id),"%"]})]})]})]})]})})]})]})},C.id)})}),e.jsx(U,{children:n&&e.jsx(g.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>x(null),children:e.jsx(g.div,{className:"modal-content",onClick:C=>C.stopPropagation(),variants:ea,initial:"hidden",animate:"visible",exit:"exit",children:e.jsx(Un,{task:n,onClose:()=>x(null)})})})}),s&&e.jsx(g.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(null),children:e.jsx(g.div,{className:"modal-content",onClick:C=>C.stopPropagation(),variants:ea,initial:"hidden",animate:"visible",exit:"exit",children:e.jsx(Ua,{onClose:()=>r(null),task:s})})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-white text-lg font-medium",children:"Ajouter un commentaire"}),e.jsx("button",{onClick:()=>b(!1),className:"text-white/60 hover:text-white",children:e.jsx(R,{size:20})})]}),e.jsx("textarea",{value:c,onChange:C=>p(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),e.jsx("button",{onClick:ae,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!c.trim(),children:"Envoyer"})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-white text-lg font-medium",children:"Signaler un retard"}),e.jsx("button",{onClick:()=>d(!1),className:"text-white/60 hover:text-white",children:e.jsx(R,{size:20})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),e.jsx("textarea",{value:j,onChange:C=>z(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),e.jsx("input",{type:"text",value:S,onChange:C=>y(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),e.jsx("button",{onClick:je,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!j.trim(),children:"Signaler"})]})]})})]})}const Xn=({value:t,maxValue:a=100,color:s})=>{const r=Math.min(100,Math.round(t/a*100));return e.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${r}%`,backgroundColor:s}})})},Zn=({currentSize:t,targetSize:a,progress:s})=>{const r=["T15","N°5","N°4","N°3","N°2","N°1"],i=()=>s>100?"#ef4444":s>=85?"#22c55e":(s>=70,"#3b82f6");return e.jsxs("div",{className:"mt-4 mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("div",{className:"text-white/70 text-xs",children:"Début"}),e.jsx("div",{className:"text-white/70 text-xs",children:"Objectif"}),e.jsx("div",{className:"text-white/70 text-xs",children:"Final"})]}),e.jsxs("div",{className:"relative h-3 w-full rounded-full overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to right, #3b82f6, #3b82f6 30%, #3b82f6 50%, #3b82f6 75%, #22c55e 85%, #eab308 95%, #ef4444)"}}),e.jsx("div",{className:"absolute inset-y-0 right-0 bg-gray-900/70 rounded-r-full transition-all duration-1000 ease-out",style:{width:`${100-s}%`}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white/70",style:{left:"85%"}}),e.jsxs("div",{className:"absolute top-1/2 z-10 -translate-y-1/2 transition-all duration-1000",style:{left:`${s}%`},children:[e.jsx(g.div,{className:"absolute -inset-2 rounded-full opacity-30",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{backgroundColor:i()}}),e.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg border-2 border-white z-20",style:{backgroundColor:i()}})]})]}),e.jsx("div",{className:"flex justify-between mt-1",children:r.map((l,n)=>e.jsx("div",{className:`text-xs ${l===t?"text-white font-bold":l===a?"text-green-400 font-bold":"text-white/50"}`,children:l},n))})]})},Kn=({occupancy:t})=>{const a=Array.from({length:10},(i,l)=>l+1),s=t/100*10,r="w-full h-7 rounded-sm border border-white/10";return e.jsx("div",{className:"grid grid-cols-10 gap-1 w-full mt-2",style:{backgroundColor:"rgb(7, 26, 64)"},children:a.map(i=>{const l=i===Math.ceil(s)&&!Number.isInteger(s),n=i<=Math.floor(s);return i===1?e.jsx("div",{className:`${r} bg-transparent`},i):n?e.jsx("div",{className:`${r} bg-[#a02648]`},i):l?e.jsx("div",{className:`${r} relative overflow-hidden`,children:e.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-[#a02648]",style:{width:"50%"}})},i):e.jsx("div",{className:`${r} bg-transparent`},i)})})},ed=()=>{const t=[{date:"13/01/2025",action:"Échantillonnage",user:"Sophie L."},{date:"12/01/2025",action:"Vider 15 cordes",user:"Marc D."},{date:"11/01/2025",action:"Vider 15 cordes",user:"Jean F."},{date:"10/01/2025",action:"Vider 15 cordes",user:"Pierre M."}];return e.jsx("div",{className:"space-y-3 mt-4",children:t.map((a,s)=>e.jsxs(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:s*.1},className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-white/10",children:e.jsx(ar,{size:16,className:"text-blue-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:a.action}),e.jsx("div",{className:"text-sm text-white/60",children:a.date})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(tt,{size:16,className:"text-white/40 mr-1"}),e.jsx("span",{className:"text-white/70",children:a.user})]})]},s))})};function td({table:t,onClose:a}){const s=st(a),r=t.alert||t.timeProgress>100,[i,l]=o.useState("info");return e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4 md:p-6",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:e.jsxs(g.div,{ref:s,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},className:"glass-effect shadow-glass w-full max-w-4xl rounded-xl overflow-hidden relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-900/80 to-brand-burgundy/80 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 blur-xl rounded-full"}),e.jsx(ee,{size:24,className:"text-white relative z-10"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-white/70",children:t.type}),t.status&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 mt-2 rounded-full text-xs font-medium bg-white/10 text-white/80",children:t.status})]})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full","aria-label":"Fermer",children:e.jsx(R,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex border-b border-white/10",children:[e.jsx("button",{onClick:()=>l("info"),className:`px-4 py-2 font-medium transition-colors ${i==="info"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Informations"}),e.jsx("button",{onClick:()=>l("history"),className:`px-4 py-2 font-medium transition-colors ${i==="history"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Historique"})]}),i==="info"&&e.jsxs(e.Fragment,{children:[e.jsxs(g.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5},className:"glass-effect rounded-xl p-6 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[e.jsx(Je,{size:18,className:"mr-2 text-blue-400"}),"Occupation de la table"]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.occupancy,"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[Math.round(t.occupancy*.1),"/10 unités"]})]}),e.jsx(Kn,{occupancy:t.occupancy}),t.alert&&e.jsxs("div",{className:"flex items-center p-3 bg-red-500/20 rounded-lg mt-3",children:[e.jsx(de,{size:16,className:"text-red-400 mr-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-white",children:t.alert})]})]}),e.jsxs(g.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.1},className:"glass-effect rounded-xl p-6 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[e.jsx(Kt,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]}),r&&e.jsxs("div",{className:"flex items-center p-3 bg-amber-500/20 rounded-lg",children:[e.jsx(pe,{size:16,className:"text-amber-400 mr-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-white",children:t.alert||"Calibre dépassé"})]}),e.jsx(Zn,{currentSize:t.currentSize,targetSize:t.targetSize,progress:t.timeProgress}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[e.jsx("div",{className:"text-white/60",children:"Calibre actuel"}),e.jsx("div",{className:"text-white font-semibold text-lg",children:t.currentSize})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[e.jsx("div",{className:"text-white/60",children:"Calibre cible"}),e.jsx("div",{className:"text-white font-semibold text-lg",children:t.targetSize})]})]})]}),e.jsxs(g.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.2},className:"glass-effect rounded-xl p-6 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[e.jsx(le,{size:18,className:"mr-2 text-blue-400"}),"Informations de production"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 mb-1",children:"Date de démarrage"}),e.jsx("div",{className:"text-white font-medium",children:t.startDate})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 mb-1",children:"Date de récolte prévue"}),e.jsx("div",{className:"text-white font-medium",children:t.harvestDate})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("div",{className:"text-white/60",children:"Taux de mortalité"}),e.jsxs("div",{className:`text-sm ${t.mortality>20?"text-red-400":t.mortality>15?"text-amber-400":"text-green-400"}`,children:[t.mortality,"%"]})]}),e.jsx(Xn,{value:t.mortality,maxValue:30,color:t.mortality<=15?"#22c55e":t.mortality<=20?"#eab308":"#ef4444"})]})]})]}),i==="history"&&e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des manipulations"}),e.jsx(ed,{})]})]})]})})}const Vt=[{id:"1",title:"Inspection des huîtres",description:"Vérification de la qualité et de la taille des huîtres dans le parc A.",priority:"high",status:"pending",dueDate:"2025-03-15",category:"Qualité",assignedTo:"Jean Dupont",estimatedTime:3,location:"Parc A - Zone Nord",tags:["inspection","qualité","huîtres"]},{id:"2",title:"Maintenance des poches",description:"Entretien et rotation des poches d'huîtres pour optimiser la croissance.",priority:"medium",status:"in_progress",dueDate:"2025-03-14",category:"Maintenance",assignedTo:"Marie Martin",estimatedTime:5,location:"Parc B - Filière 3",tags:["maintenance","poches","rotation"]},{id:"3",title:"Analyse de l'eau",description:"Prélèvement et analyse des échantillons d'eau pour surveiller la qualité du milieu.",priority:"medium",status:"completed",dueDate:"2025-03-10",category:"Environnement",assignedTo:"Sophie Bernard",estimatedTime:2,actualTime:1.5,location:"Laboratoire",tags:["analyse","eau","qualité"]},{id:"4",title:"Préparation commandes",description:"Préparation des commandes pour livraison aux restaurants locaux.",priority:"high",status:"in_progress",dueDate:"2025-03-13",category:"Logistique",assignedTo:"Thomas Leroy",estimatedTime:4,location:"Zone de conditionnement",tags:["commandes","livraison","restaurants"]},{id:"5",title:"Contrôle des naissains",description:"Vérification de la croissance des naissains et ajustement des conditions.",priority:"low",status:"pending",dueDate:"2025-03-18",category:"Production",assignedTo:"Julie Moreau",estimatedTime:3,location:"Écloserie",tags:["naissains","croissance","surveillance"]}];function ps({title:t,value:a,icon:s,color:r,onClick:i}){return e.jsxs("div",{className:"task-stat-card relative overflow-hidden",style:{cursor:i?"pointer":"default"},children:[e.jsxs("div",{className:"relative z-10 p-5 flex items-center gap-5",children:[e.jsx("div",{className:`stat-icon-container ${r}`,children:s}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{className:"stat-value",children:a}),e.jsx("p",{className:"stat-title",children:t})]}),e.jsx("div",{className:"absolute top-1/3 -right-8 w-32 h-32 rounded-full blur-3xl opacity-15",style:{background:`radial-gradient(circle, var(--${r}-600) 0%, transparent 70%)`}})]}),e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-black/20 to-transparent"}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1/3 bg-gradient-to-l from-white/5 to-transparent"})]})]})}const ta={hidden:{opacity:0,transform:"translate3d(0, 20px, 0)"},visible:{opacity:1,transform:"translate3d(0, 0, 0)",transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transform:"translate3d(0, 20px, 0)",transition:{duration:.2,ease:"easeIn"}}};function sd(){var p;Le();const[t,a]=o.useState(""),[s,r]=o.useState(null),[i,l]=o.useState(!1),{session:n}=Ce();(p=n==null?void 0:n.user)==null||p.role;const x=()=>{r(null)},m=()=>{l(!0)},b=()=>{l(!1)},h=Vt.filter(u=>u.status==="pending").length,d=Vt.filter(u=>u.status==="in_progress").length,c=Vt.filter(u=>u.status==="completed").length;return Vt.filter(u=>u.priority==="high").length,e.jsxs("div",{className:"task-page-container",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.97) 0%, rgba(0, 90, 90, 0.95) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)"},children:[e.jsx("div",{className:"task-page-header-wrapper",children:e.jsx("div",{className:"task-page-header",children:e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx("div",{className:"icon-inner",children:e.jsx(ir,{size:32})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"header-title",children:"Gestion des Tâches"}),e.jsx("p",{className:"header-subtitle",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 pt-2",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Rechercher une tâche...",className:"w-full pl-10 pr-4 py-2.5 bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-brand-burgundy/40",value:t,onChange:u=>a(u.target.value)}),e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:18})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsx(ps,{title:"En attente",value:h,icon:e.jsx(be,{size:22}),color:"yellow"}),e.jsx(ps,{title:"En cours",value:d,icon:e.jsx(ys,{size:22}),color:"blue"}),e.jsx(ps,{title:"Terminées",value:c,icon:e.jsx(Ke,{size:22}),color:"green"})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Liste des tâches"}),e.jsxs("button",{onClick:m,className:"px-4 py-2.5 bg-brand-burgundy text-white rounded-lg hover:bg-brand-burgundy/90 transition-colors flex items-center space-x-2",children:[e.jsx(Z,{size:18}),e.jsx("span",{children:"Nouvelle tâche"})]})]}),e.jsx(Yn,{searchQuery:t})]})]}),e.jsx(U,{children:s&&e.jsx(g.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(g.div,{className:"modal-content",variants:ta,initial:"hidden",animate:"visible",exit:"exit",children:e.jsx(td,{table:s,onClose:x})})})}),e.jsx(U,{children:i&&e.jsx(g.div,{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-[9999]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b,children:e.jsxs(g.div,{className:"w-full max-w-2xl mx-4 rounded-2xl overflow-hidden",onClick:u=>u.stopPropagation(),variants:ta,initial:"hidden",animate:"visible",exit:"exit",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",transition:"all 0.2s ease",willChange:"transform",transform:"translate3d(0,0,0)",borderRadius:"16px"},children:[e.jsx("style",{children:`
                  select {
                    background-color: rgba(255, 255, 255, 0.03) !important;
                    backdrop-filter: blur(8px) !important;
                    -webkit-backdrop-filter: blur(8px) !important;
                    border: none !important;
                    outline: none !important;
                  }
                  select option {
                    background-color: rgba(0, 10, 40, 0.95) !important;
                    color: white !important;
                    padding: 8px !important;
                  }
                `}),e.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-white/30 to-transparent z-10"}),e.jsx("div",{className:"p-6",children:e.jsx(Ua,{onClose:b})})]})})})]})}function sa({table:t}){const a=Le();return e.jsx("div",{className:"flex-1 pt-24",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>a(-1),className:"p-2 hover:bg-white/5 rounded-lg transition-colors text-white/60 hover:text-white/90",children:e.jsx(ya,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Bouzigues"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-white/60",children:"T-1234"}),e.jsx("button",{className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:e.jsx(He,{size:14,className:"text-white/60"})})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-thermometer mr-2 text-brand-burgundy",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),"Température"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-droplets mr-2 text-brand-primary",children:[e.jsx("path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"}),e.jsx("path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"})]}),"Salinité"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clock mr-2 text-brand-tertiary",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:"26 févr. 2025"})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),e.jsx("span",{className:"text-lg font-medium text-yellow-400",children:"2.5%"})]})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shell mr-2 text-brand-burgundy",children:e.jsx("path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44"})}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsx("span",{className:"text-white font-medium",children:"300 unités"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),e.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-spreadsheet mr-2 text-brand-tertiary",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M8 13h2"}),e.jsx("path",{d:"M14 13h2"}),e.jsx("path",{d:"M8 17h2"}),e.jsx("path",{d:"M14 17h2"})]}),"Importation de données"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),e.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-download mr-1",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),"Télécharger un modèle de fichier"]}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-upload",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),"Importer des données"]})]})]})]})})}const vt=({isOpen:t,onClose:a,title:s,children:r})=>t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:"relative w-full max-w-lg rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.95) 0%, rgba(20, 100, 100, 0.85) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 24px -2px, rgba(0, 200, 200, 0.1) 0px 4px 12px -2px, rgba(255, 255, 255, 0.05) 0px -1px 2px 0px inset"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-cyan-500/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:s}),e.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-cyan-500/10 transition-colors",children:e.jsx(R,{className:"w-5 h-5 text-cyan-400"})})]}),e.jsx("div",{className:"p-4",children:r})]})]}):null;function ad(){const[t,a]=o.useState("lots"),[s,r]=o.useState(null),[i,l]=o.useState({}),[n,x]=o.useState(!1),[m,b]=o.useState(!1),[h,d]=o.useState(!1),[c,p]=o.useState(!1),[u,f]=o.useState(null),[j,z]=o.useState({}),[S,y]=o.useState(""),w=o.useRef(null),[M,v]=o.useState(null);o.useEffect(()=>{if(m&&!M){const N=new rr;v(N)}return()=>{v(null)}},[m]),o.useEffect(()=>{m&&M&&w.current&&M.decodeFromVideoDevice(void 0,w.current,(N,_)=>{N&&(y(N.getText()),console.log("QR Code scanné:",N.getText()))}).catch(N=>console.error("Erreur lors du scan:",N))},[m,M]);const k=N=>{r(N),l(N)},D=()=>{console.log("Saving:",i),r(null)},B=N=>{f(N),p(!0)},E=async()=>{const N=document.getElementById("traceability-content");if(!N)return;const _=await lr(N),A=_.toDataURL("image/png"),J=new Ma("p","mm","a4"),O=J.internal.pageSize.getWidth(),xe=J.internal.pageSize.getHeight(),ie=_.width,K=_.height,P=Math.min(O/ie,xe/K),$=(O-ie*P)/2;J.addImage(A,"PNG",$,30,ie*P,K*P),J.save("tracabilite.pdf"),d(!1)},se=()=>{if(!s)return null;const N=()=>{switch(s.type){case"lot":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Nom"}),e.jsx("input",{type:"text",value:i.name,onChange:_=>l({...i,name:_.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Emplacement"}),e.jsx("input",{type:"text",value:i.location,onChange:_=>l({...i,location:_.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),e.jsx("input",{type:"text",value:i.stock.quantity,onChange:_=>l({...i,stock:{...i.stock,quantity:_.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]})]});case"bassin":return e.jsxs("div",{className:"space-y-4",children:[s.stats.map((_,A)=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:_.label}),e.jsx("input",{type:"text",value:i.stats[A].value,onChange:J=>{const O=[...i.stats];O[A]={...O[A],value:J.target.value},l({...i,stats:O})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]},A)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Occupation"}),e.jsx("input",{type:"text",value:i.occupation,onChange:_=>l({...i,occupation:_.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Prochaine maintenance"}),e.jsx("input",{type:"text",value:i.nextMaintenance,onChange:_=>l({...i,nextMaintenance:_.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]})]});case"storage":return e.jsxs("div",{className:"space-y-4",children:[s.stats.map((_,A)=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:_.label}),e.jsx("input",{type:"text",value:i.stats[A].value,onChange:J=>{const O=[...i.stats];O[A]={...O[A],value:J.target.value},l({...i,stats:O})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]},A)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Produits"}),i.products.map((_,A)=>e.jsxs("div",{className:"space-y-2 mb-4 p-3 rounded-lg bg-cyan-500/5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Nom du produit"}),e.jsx("input",{type:"text",value:_.name,onChange:J=>{const O=[...i.products];O[A]={...O[A],name:J.target.value},l({...i,products:O})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),e.jsx("input",{type:"text",value:_.quantity,onChange:J=>{const O=[...i.products];O[A]={...O[A],quantity:J.target.value},l({...i,products:O})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"DLC"}),e.jsx("input",{type:"text",value:_.dlc,onChange:J=>{const O=[...i.products];O[A]={...O[A],dlc:J.target.value},l({...i,products:O})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]})]},A))]})]});default:return null}};return e.jsxs(vt,{isOpen:!0,onClose:()=>r(null),title:`Modifier ${s.name}`,children:[N(),e.jsxs("div",{className:"flex justify-end mt-6 gap-3",children:[e.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:[e.jsx(et,{className:"w-4 h-4"}),"Enregistrer"]})]})]})},q=()=>!c||!u?null:e.jsx(vt,{isOpen:!0,onClose:()=>p(!1),title:`Bon de livraison - ${u.reference}`,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Date"}),e.jsx("p",{className:"text-white",children:u.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Client"}),e.jsx("p",{className:"text-white",children:u.client})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-cyan-400 mb-2",children:"Produits"}),e.jsx("div",{className:"space-y-2",children:u.products.map((N,_)=>e.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-white",children:N.name}),e.jsx("p",{className:"text-cyan-400",children:N.quantity})]})},_))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Notes"}),e.jsx("p",{className:"text-white",children:u.notes})]})]})}),X=()=>n?e.jsx(vt,{isOpen:!0,onClose:()=>x(!1),title:"Filtrer les éléments",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Recherche"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:j.search||"",onChange:N=>z({...j,search:N.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg pl-10 pr-3 py-2 text-white focus:outline-none focus:border-cyan-500/40",placeholder:"Rechercher..."}),e.jsx(te,{className:"absolute left-3 top-2.5 w-4 h-4 text-cyan-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:j.date||"",onChange:N=>z({...j,date:N.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Statut"}),e.jsxs("select",{value:j.status||"",onChange:N=>z({...j,status:N.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"Optimal",children:"Optimal"}),e.jsx("option",{value:"Attention",children:"Attention"}),e.jsx("option",{value:"Livré",children:"Livré"}),e.jsx("option",{value:"En cours",children:"En cours"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Type"}),e.jsxs("select",{value:j.type||"",onChange:N=>z({...j,type:N.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/40",children:[e.jsx("option",{value:"",children:"Tous"}),e.jsx("option",{value:"lot",children:"Lots"}),e.jsx("option",{value:"bassin",children:"Bassins"}),e.jsx("option",{value:"storage",children:"Stockage"}),e.jsx("option",{value:"bl",children:"Bons de livraison"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{z({}),x(!1)},className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors",children:"Réinitialiser"}),e.jsxs("button",{onClick:()=>x(!1),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:[e.jsx(ge,{className:"w-4 h-4 text-cyan-400"}),"Appliquer"]})]})]})}):null,ae=()=>m?e.jsx(vt,{isOpen:!0,onClose:()=>{b(!1),y("")},title:"Scanner un QR Code",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative overflow-hidden rounded-lg bg-black aspect-video",children:e.jsx("video",{ref:w,className:"w-full h-full object-cover rounded-lg"})}),S&&e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Résultat du scan"}),e.jsx("p",{className:"text-white break-all",children:S})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>{b(!1),y("")},className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors",children:"Fermer"})})]})}):null,je=()=>h?e.jsx(vt,{isOpen:!0,onClose:()=>d(!1),title:"Exporter les données",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white",children:"Voulez-vous exporter les données de traçabilité en PDF ?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:[e.jsx(Se,{className:"w-4 h-4"}),"Exporter en PDF"]})]})]})}):null,C=[{id:"lots",label:"Lots en cours",icon:e.jsx(me,{size:20}),count:28},{id:"bassins",label:"Bassins",icon:e.jsx(Je,{size:20}),count:15},{id:"autre_emplacement",label:"Autre emplacement",icon:e.jsx(Ne,{size:20}),count:8},{id:"bl",label:"Bons de livraison",icon:e.jsx(xt,{size:20}),count:36},{id:"historique",label:"Historique",icon:e.jsx(as,{size:20})}];return e.jsxs("div",{className:"flex-1 pt-16 md:pt-16 pb-4 px-4 md:px-6 lg:px-8 ml-0 lg:ml-[4.5rem] transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.97) 0%, rgba(0, 90, 90, 0.95) 100%)",backdropFilter:"blur(20px)",willChange:"transform",transform:"translate3d(0px, 0px, 0px)"},children:[e.jsx("main",{className:"flex-1 p-6 overflow-x-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"rounded-xl mb-6 overflow-hidden relative p-6",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.65) 0%, rgba(20, 100, 100, 0.45) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 5px 20px -5px, rgba(0, 200, 200, 0.1) 0px 5px 12px -5px, rgba(255, 255, 255, 0.07) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.05) 0px 0px 12px inset, rgba(0, 0, 0, 0.1) 0px 0px 8px inset"},children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ee,{size:20,className:"text-cyan-400",style:{filter:"drop-shadow(0px 0px 20px rgba(0, 200, 200, 0.3))"}}),e.jsx("h1",{className:"text-2xl font-bold text-white",style:{textShadow:"0px 0px 20px rgba(255, 255, 255, 0.3)"},children:"Traçabilité des lots"})]}),e.jsxs("div",{className:"flex flex-wrap md:flex-nowrap items-center gap-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-500/10 text-white rounded-lg border border-cyan-500/30 hover:bg-cyan-500/20 transition-all",style:{backdropFilter:"blur(10px)"},children:[e.jsx(ge,{size:20,className:"text-cyan-400"}),"Filtrer"]}),e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-500/10 text-white rounded-lg border border-cyan-500/30 hover:bg-cyan-500/20 transition-all",style:{backdropFilter:"blur(10px)"},children:[e.jsx(Tt,{size:20,className:"text-cyan-400"}),"Scanner QR"]}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-500/10 text-white rounded-lg border border-cyan-500/30 hover:bg-cyan-500/20 transition-all",style:{backdropFilter:"blur(10px)"},children:[e.jsx(Se,{size:20,className:"text-cyan-400"}),"Exporter"]})]})]})}),e.jsx("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:C.map(N=>e.jsxs("button",{onClick:()=>a(N.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap ${t===N.id?"bg-cyan-500/10 text-cyan-400":"text-white/60 hover:text-white hover:bg-white/5"}`,style:{backdropFilter:"blur(10px)",boxShadow:t===N.id?"rgba(0, 0, 0, 0.1) 0px 4px 12px -2px, rgba(0, 200, 200, 0.1) 0px 3px 8px -2px, rgba(255, 255, 255, 0.05) 0px -1px 2px 0px inset, rgba(0, 200, 200, 0.05) 0px 0px 12px inset, rgba(0, 0, 0, 0.1) 0px 0px 8px inset":"none"},children:[N.icon,N.label]},N.id))}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{id:"traceability-content",className:"p-6 rounded-xl border border-cyan-500/20 overflow-hidden relative",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.65) 0%, rgba(20, 100, 100, 0.45) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 5px 20px -5px, rgba(0, 200, 200, 0.1) 0px 5px 12px -5px, rgba(255, 255, 255, 0.07) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.05) 0px 0px 12px inset, rgba(0, 0, 0, 0.1) 0px 0px 8px inset"},children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at top right, rgba(0, 200, 200, 0.1) 0%, transparent 60%)",opacity:.5}}),t==="lots"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[{id:"LOT-2024-001",name:"Huîtres Plates Premium",location:"Bassin A3",responsible:"Jean Dupont",date:"17/03/2025",stock:{quantity:"2500",unit:"pièces",calibre:"N°2",qualite:"Spéciale"}},{id:"LOT-2024-002",name:"Huîtres Creuses Standard",location:"Bassin B1",responsible:"Marie Martin",date:"17/03/2025",stock:{quantity:"3800",unit:"pièces",calibre:"N°3",qualite:"Fine"}},{id:"LOT-2024-003",name:"Huîtres Plates Sélection",location:"Bassin C2",responsible:"Pierre Dubois",date:"17/03/2025",stock:{quantity:"1800",unit:"pièces",calibre:"N°1",qualite:"Spéciale"}}].map(N=>e.jsxs("div",{className:"p-4 rounded-xl border border-cyan-500/20 hover:border-cyan-500/40 transition-all relative overflow-hidden group",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.65) 0%, rgba(20, 100, 100, 0.45) 100%)",backdropFilter:"blur(10px)"},children:[e.jsx("button",{onClick:()=>k({...N,type:"lot"}),className:"absolute top-2 right-2 p-2 rounded-lg bg-cyan-500/10 text-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-cyan-500/20",children:e.jsx(he,{size:20})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at top right, rgba(0, 200, 200, 0.1) 0%, transparent 60%)",opacity:.3}}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:e.jsx(me,{size:20,className:"text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:N.name}),e.jsx("p",{className:"text-cyan-400/60",children:N.id})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Emplacement"}),e.jsx("p",{className:"text-white",children:N.location})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Responsable"}),e.jsx("p",{className:"text-white",children:N.responsible})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10 mb-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Stock disponible"}),e.jsxs("p",{className:"text-white text-xl font-semibold",children:[N.stock.quantity," ",N.stock.unit]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Calibre"}),e.jsx("p",{className:"text-white",children:N.stock.calibre})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10 flex-1",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Qualité"}),e.jsx("p",{className:"text-white",children:N.stock.qualite})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10 flex-1",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Date"}),e.jsx("p",{className:"text-white",children:N.date})]})]})]},N.id))}),t==="bassins"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[{id:"A1",name:"Bassin A1",type:"bassin",stats:[{label:"Température",value:"16.8°C"},{label:"pH",value:"8.1"},{label:"Salinité",value:"34.5 g/L"},{label:"Oxygène",value:"7.2 mg/L"},{label:"Turbidité",value:"2.8 NTU"}],lastMaintenance:"15/03/2025",nextMaintenance:"22/03/2025",status:"Optimal",occupation:"75%",alertes:[]},{id:"A2",name:"Bassin A2",type:"bassin",stats:[{label:"Température",value:"16.5°C"},{label:"pH",value:"8.0"},{label:"Salinité",value:"34.2 g/L"},{label:"Oxygène",value:"6.9 mg/L"},{label:"Turbidité",value:"3.1 NTU"}],lastMaintenance:"16/03/2025",nextMaintenance:"23/03/2025",status:"Attention",occupation:"82%",alertes:["Oxygène légèrement bas"]}].map(N=>e.jsxs("div",{className:"p-4 rounded-xl border border-cyan-500/20 hover:border-cyan-500/40 transition-all relative overflow-hidden group",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.65) 0%, rgba(20, 100, 100, 0.45) 100%)",backdropFilter:"blur(10px)"},children:[e.jsx("button",{onClick:()=>k({...N,type:"bassin"}),className:"absolute top-2 right-2 p-2 rounded-lg bg-cyan-500/10 text-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-cyan-500/20",children:e.jsx(he,{size:20})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at top right, rgba(0, 200, 200, 0.1) 0%, transparent 60%)",opacity:.3}}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:e.jsx(Je,{size:20,className:"text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:N.name}),e.jsx("p",{className:`text-sm ${N.status==="Optimal"?"text-green-400":"text-yellow-400"}`,children:N.status})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mb-3",children:N.stats.map((_,A)=>e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:_.label}),e.jsx("p",{className:"text-white",children:_.value})]},A))}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Occupation"}),e.jsx("p",{className:"text-white",children:N.occupation})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Maintenance"}),e.jsxs("p",{className:"text-white text-sm",children:["Dernière: ",N.lastMaintenance]}),e.jsxs("p",{className:"text-white text-sm",children:["Prochaine: ",N.nextMaintenance]})]}),N.alertes.length>0&&e.jsxs("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:[e.jsx("p",{className:"text-sm text-yellow-400",children:"Alertes"}),N.alertes.map((_,A)=>e.jsx("p",{className:"text-white text-sm",children:_},A))]})]})]},N.id))}),t==="autre_emplacement"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[{id:"frigo1",name:"Frigo 1",type:"storage",stats:[{label:"Capacité",value:"500 kg"},{label:"Occupation",value:"65%"}],products:[{name:"Huîtres Fines de Claire n°3",quantity:"150 kg",dlc:"25/03/2025"},{name:"Huîtres Spéciales n°2",quantity:"175 kg",dlc:"23/03/2025"}]},{id:"frigo2",name:"Frigo 2",type:"storage",stats:[{label:"Capacité",value:"300 kg"},{label:"Occupation",value:"30%"}],products:[{name:"Huîtres Fines de Claire n°2",quantity:"90 kg",dlc:"24/03/2025"}]},{id:"congelateur1",name:"Congélateur 1",type:"storage",stats:[{label:"Capacité",value:"200 kg"},{label:"Occupation",value:"85%"}],products:[{name:"Huîtres Gratinées",quantity:"120 kg",dlc:"15/06/2025"},{name:"Huîtres Pochées",quantity:"50 kg",dlc:"20/06/2025"}]},{id:"congelateur2",name:"Congélateur 2",type:"storage",stats:[{label:"Capacité",value:"150 kg"},{label:"Occupation",value:"40%"}],products:[{name:"Huîtres Gratinées",quantity:"60 kg",dlc:"10/06/2025"}]},{id:"remise",name:"Remise",type:"storage",stats:[{label:"Capacité",value:"1000 kg"},{label:"Occupation",value:"55%"}],products:[{name:"Bourriches 1 douzaine",quantity:"300 kg",dlc:"30/03/2025"},{name:"Bourriches 2 douzaines",quantity:"250 kg",dlc:"30/03/2025"}]},{id:"cave",name:"Cave",type:"storage",stats:[{label:"Capacité",value:"800 kg"},{label:"Occupation",value:"25%"}],products:[{name:"Huîtres Fines de Claire n°4",quantity:"200 kg",dlc:"28/03/2025"}]}].map(N=>e.jsxs("div",{className:"p-4 rounded-xl border border-cyan-500/20 hover:border-cyan-500/40 transition-all relative overflow-hidden group",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.65) 0%, rgba(20, 100, 100, 0.45) 100%)",backdropFilter:"blur(10px)"},children:[e.jsx("button",{onClick:()=>k({...N,type:"storage"}),className:"absolute top-2 right-2 p-2 rounded-lg bg-cyan-500/10 text-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-cyan-500/20",children:e.jsx(he,{size:20})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at top right, rgba(0, 200, 200, 0.1) 0%, transparent 60%)",opacity:.3}}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:e.jsx(me,{size:20,className:"text-cyan-400"})}),e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-semibold text-white",children:N.name})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:N.stats.map((_,A)=>e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:_.label}),e.jsx("p",{className:"text-white",children:_.value})]},A))}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400 mb-2",children:"Produits stockés"}),e.jsx("div",{className:"space-y-2",children:N.products.map((_,A)=>e.jsxs("div",{className:"border-t border-cyan-500/10 pt-2 first:border-t-0 first:pt-0",children:[e.jsx("p",{className:"text-white font-medium",children:_.name}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-cyan-400",children:_.quantity}),e.jsxs("span",{className:`${new Date(_.dlc.split("/").reverse().join("-"))<new Date?"text-red-400":new Date(_.dlc.split("/").reverse().join("-"))<new Date(Date.now()+7*24*60*60*1e3)?"text-yellow-400":"text-green-400"}`,children:["DLC: ",_.dlc]})]})]},A))})]})})]},N.id))}),t==="bl"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[{id:"bl1",reference:"BL-2025-001",date:"15/03/2025",client:"Restaurant La Marée",status:"Livré",products:[{name:"Huîtres Fines de Claire n°3",quantity:"10 douzaines"},{name:"Huîtres Spéciales n°2",quantity:"5 douzaines"}],notes:"Livraison effectuée à 9h30"},{id:"bl2",reference:"BL-2025-002",date:"16/03/2025",client:"Poissonnerie du Port",status:"En cours",products:[{name:"Huîtres Fines de Claire n°2",quantity:"20 douzaines"},{name:"Huîtres Gratinées",quantity:"15 boîtes"}],notes:"Livraison prévue pour 14h00"}].map(N=>e.jsxs("div",{className:"p-4 rounded-xl border border-cyan-500/20 hover:border-cyan-500/40 transition-all relative overflow-hidden group",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.65) 0%, rgba(20, 100, 100, 0.45) 100%)",backdropFilter:"blur(10px)"},children:[e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>B(N),className:"p-2 rounded-lg bg-cyan-500/10 text-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-cyan-500/20",children:e.jsx(ot,{size:20})}),e.jsx("button",{onClick:()=>k({...N,type:"bl"}),className:"p-2 rounded-lg bg-cyan-500/10 text-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-cyan-500/20",children:e.jsx(he,{size:20})})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at top right, rgba(0, 200, 200, 0.1) 0%, transparent 60%)",opacity:.3}}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:e.jsx(ze,{size:20,className:"text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:N.reference}),e.jsx("p",{className:"text-cyan-400",children:N.date})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Client"}),e.jsx("p",{className:"text-white",children:N.client})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:"Status"}),e.jsx("p",{className:`text-${N.status==="Livré"?"green":"yellow"}-400`,children:N.status})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[e.jsx("p",{className:"text-sm text-cyan-400 mb-2",children:"Produits"}),e.jsx("div",{className:"space-y-2",children:N.products.map((_,A)=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-white",children:_.name}),e.jsx("span",{className:"text-cyan-400",children:_.quantity})]},A))})]})]})]},N.id))}),t==="historique"&&e.jsx("div",{className:"space-y-4",children:[{date:"17/03/2025 - 15:30",action:"Transfert lot #2024-001 vers Bassin A3",type:"transfer"},{date:"17/03/2025 - 14:15",action:"Contrôle qualité lot #2024-002",type:"quality"},{date:"17/03/2025 - 11:30",action:"Livraison effectuée - BL-2024-003",type:"delivery"},{date:"17/03/2025 - 10:00",action:"Nouvelle facture FAC-2024-004",type:"invoice"},{date:"17/03/2025 - 09:15",action:"Maintenance Bassin B2",type:"maintenance"}].map((N,_)=>e.jsxs("div",{className:"p-4 rounded-xl border border-cyan-500/20 hover:border-cyan-500/40 transition-all relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.65) 0%, rgba(20, 100, 100, 0.45) 100%)",backdropFilter:"blur(10px)"},children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at top right, rgba(0, 200, 200, 0.1) 0%, transparent 60%)",opacity:.3}}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[N.type==="transfer"&&e.jsx(me,{size:20,className:"text-cyan-400"}),N.type==="quality"&&e.jsx(ee,{size:20,className:"text-cyan-400"}),N.type==="delivery"&&e.jsx(xt,{size:20,className:"text-cyan-400"}),N.type==="invoice"&&e.jsx(ze,{size:20,className:"text-cyan-400"}),N.type==="maintenance"&&e.jsx(Je,{size:20,className:"text-cyan-400"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-white",children:N.date}),e.jsx("p",{className:"text-cyan-400",children:N.action})]})]})]},_))})]})})]})})}),se(),q(),X(),ae(),je()]})}const id=[{month:"Jan",ventes:45e3,objectif:5e4},{month:"Fév",ventes:52e3,objectif:5e4},{month:"Mar",ventes:48e3,objectif:5e4},{month:"Avr",ventes:51e3,objectif:5e4},{month:"Mai",ventes:58e3,objectif:5e4},{month:"Juin",ventes:53e3,objectif:5e4}],rd=[{name:"Huîtres Plates",value:40},{name:"Huîtres Creuses",value:45},{name:"Huîtres Spéciales",value:15}],ld=[{key:"ventes",name:"Ventes",color:"#00D1FF"},{key:"objectif",name:"Objectif",color:"#7000FF"}],nd=[{key:"value",name:"Répartition",color:"#00D1FF"}];function dd(){const[t,a]=o.useState(!0),[s,r]=o.useState("");return e.jsxs(g.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsx(Re,{icon:e.jsx(Xe,{size:28,className:"text-white"}),title:"Ventes"}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"btn-secondary",children:[e.jsx(Fs,{size:20,className:"mr-2"}),"Statistiques"]}),e.jsxs("button",{className:"btn-primary",children:[e.jsx(Z,{size:20,className:"mr-2"}),"Nouvelle Vente"]})]})}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsx(Be,{icon:e.jsx(Ze,{size:24}),label:"Chiffre d'affaires",value:"307,500€",trend:{value:12.5,positive:!0},color:"primary"}),e.jsx(Be,{icon:e.jsx(me,{size:24}),label:"Commandes",value:"156",color:"secondary"}),e.jsx(Be,{icon:e.jsx(nr,{size:24}),label:"Panier moyen",value:"1,972€",trend:{value:8.3,positive:!0},color:"tertiary"}),e.jsx(Be,{icon:e.jsx(ue,{size:24}),label:"Clients actifs",value:"89",color:"primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(zt,{title:"Évolution des ventes",type:"bar",data:id,series:ld,height:320}),e.jsx(zt,{title:"Répartition des ventes",type:"pie",data:rd,series:nd,height:320})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:i=>r(i.target.value),placeholder:"Rechercher une vente...",className:"input-modern w-full pl-10"})]}),e.jsxs("button",{className:"btn-secondary",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Filtres"]})]}),e.jsxs("div",{className:"glass-effect rounded-xl",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des ventes"})}),e.jsx("div",{className:"divide-y divide-white/10",children:[1,2,3,4,5].map(i=>e.jsx("div",{className:"p-6 hover:bg-white/5 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(me,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium text-white",children:["Commande #00",i]}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Restaurant La Marée"}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[e.jsx("span",{children:"15/02/2025"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"1,500€"}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"px-2 py-1 bg-brand-primary/20 text-brand-primary rounded-full text-xs",children:"Payée"})]})]})]})})},i))})]})]})}const aa=[{id:"1",content:"Produits reçus en excellent état.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Évaluation du lot reçu",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:30:00",type:"rating",rating:{overall:4.5,freshness:5,quality:4,packaging:4.5}}];function cd({purchase:t,onClose:a}){const[s,r]=o.useState("comments"),[i,l]=o.useState(""),[n,x]=o.useState({overall:0,freshness:0,quality:0,packaging:0}),m=c=>{c.preventDefault(),i.trim()&&l("")},b=(c,p)=>{x(u=>({...u,[c]:p}))},h=c=>{c.preventDefault()},d=(c,p)=>e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(u=>e.jsx("button",{onClick:()=>p==null?void 0:p(u),className:`text-lg ${u<=c?"text-yellow-400":"text-white/20"}`,children:"★"},u))});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>r("comments"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${s==="comments"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{size:16,className:"mr-2"}),"Commentaires"]})}),e.jsx("button",{onClick:()=>r("ratings"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${s==="ratings"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{size:16,className:"mr-2"}),"Évaluation"]})})]}),s==="comments"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:aa.filter(c=>c.type==="comment").map(c=>e.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:c.author.avatar?e.jsx("img",{src:c.author.avatar,alt:c.author.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-sm font-medium",children:c.author.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:c.author.name}),e.jsx("span",{className:"text-white/60 text-sm ml-2",children:L(new Date(c.timestamp),"PPp",{locale:W})})]})}),e.jsx("p",{className:"text-white/80 mt-2",children:c.content}),c.attachments&&c.attachments.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:c.attachments.map((p,u)=>e.jsxs("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 bg-white/5 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:[e.jsx(Sa,{size:16,className:"mr-2"}),p.name]},u))})]})]})},c.id))}),e.jsx("form",{onSubmit:m,className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:i,onChange:c=>l(c.target.value),placeholder:"Ajouter un commentaire...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[e.jsx("button",{type:"button",className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(Da,{size:20})}),e.jsx("button",{type:"submit",disabled:!i.trim(),className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ft,{size:20})})]})]})})]}),s==="ratings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:aa.filter(c=>c.type==="rating").map(c=>{var p,u,f,j;return e.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:c.author.avatar?e.jsx("img",{src:c.author.avatar,alt:c.author.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-sm font-medium",children:c.author.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:c.author.name}),e.jsx("span",{className:"text-white/60 text-sm ml-2",children:L(new Date(c.timestamp),"PPp",{locale:W})})]})}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Note globale"}),d(((p=c.rating)==null?void 0:p.overall)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),d(((u=c.rating)==null?void 0:u.freshness)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Qualité"}),d(((f=c.rating)==null?void 0:f.quality)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Emballage"}),d(((j=c.rating)==null?void 0:j.packaging)||0)]})]})]})]})},c.id)})}),e.jsxs("form",{onSubmit:h,className:"bg-white/5 rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"text-white font-medium",children:"Nouvelle évaluation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Note globale"}),d(n.overall,c=>b("overall",c))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),d(n.freshness,c=>b("freshness",c))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Qualité"}),d(n.quality,c=>b("quality",c))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Emballage"}),d(n.packaging,c=>b("packaging",c))]})]}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'évaluation"})]})]})]})}function od({order:t,onClose:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Commenter la commande ",t.id]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsx(cd,{purchase:t,onClose:a})]})}):null}function xd(){const[t,a]=o.useState(""),[s,r]=o.useState(null),[i,l]=o.useState(null),[n,x]=o.useState(!1),[m,b]=o.useState(0),[h,d]=o.useState({supplier:"",product:"",expiryDate:"",invoice:null}),c=j=>{switch(j){case"pending":return{label:"En attente",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case"confirmed":return{label:"Confirmée",bgColor:"bg-blue-500/20",textColor:"text-blue-400",borderColor:"border-blue-500/30"};case"dispatched":return{label:"Expédiée",bgColor:"bg-indigo-500/20",textColor:"text-indigo-400",borderColor:"border-indigo-500/30"};case"in_transit":return{label:"En transit",bgColor:"bg-purple-500/20",textColor:"text-purple-400",borderColor:"border-purple-500/30"};case"delivered":return{label:"Livrée",bgColor:"bg-green-500/20",textColor:"text-green-400",borderColor:"border-green-500/30"};case"completed":return{label:"Traitée",bgColor:"bg-teal-500/20",textColor:"text-teal-400",borderColor:"border-teal-500/30"};default:return{label:"Inconnue",bgColor:"bg-gray-500/20",textColor:"text-gray-400",borderColor:"border-gray-500/30"}}},p=j=>{var S;const z=(S=j.target.files)==null?void 0:S[0];z&&d(y=>({...y,invoice:z}))},u=j=>{j.preventDefault(),console.log("Nouveau achat:",{...h,rating:m}),x(!1),d({supplier:"",product:"",expiryDate:"",invoice:null}),b(0)},f=[{id:"2024-0131",product:"Huîtres spéciales n°2 Bouzigues",supplier:"Bassin de Thau SARL",deliveryDate:"15/03",price:1420,quantity:"180kg",status:"pending",icon:ee,stockLocation:"En attente",lastUpdate:"01/03/2024 14:30"},{id:"2024-0130",product:"Palourdes vénérirupis",supplier:"Conchyliculteurs Normands",deliveryDate:"14/03",price:850,quantity:"65kg",status:"confirmed",icon:ee,stockLocation:"En attente",lastUpdate:"01/03/2024 11:20"},{id:"2024-0129",product:"Coquilles Saint-Jacques Normandie",supplier:"Pêcherie Atlantique",deliveryDate:"12/03",price:1680,quantity:"90kg",status:"dispatched",icon:ee,stockLocation:"En transit",lastUpdate:"01/03/2024 09:45"},{id:"2024-0128",product:"Coques fraîches Baie de Somme",supplier:"Marée du Nord",deliveryDate:"11/03",price:720,quantity:"40kg",status:"in_transit",icon:ee,stockLocation:"En transit",lastUpdate:"01/03/2024 08:15"},{id:"2024-0127",product:"Huîtres creuses Marennes-Oléron",supplier:"Maison Gillardeau",deliveryDate:"10/03",price:1250,quantity:"200kg",status:"pending",icon:ee,stockLocation:"En attente",lastUpdate:"01/03/2024 09:15"},{id:"2024-0126",product:"Moules bouchot AOP Mont Saint-Michel",supplier:"Mytiliculteurs Bretons",deliveryDate:"08/03",price:680,quantity:"150kg",status:"confirmed",icon:ee,stockLocation:"En attente",lastUpdate:"28/02/2024 16:45"},{id:"2024-0125",product:"Crevettes grises de l'Atlantique",supplier:"Pêcheurs de la Manche",deliveryDate:"05/03",price:950,quantity:"50kg",status:"dispatched",icon:ee,stockLocation:"En transit",lastUpdate:"28/02/2024 08:30"},{id:"2024-0124",product:"Crabes dormeurs de Bretagne",supplier:"Criée de Roscoff",deliveryDate:"03/03",price:1100,quantity:"60kg",status:"in_transit",icon:ee,stockLocation:"En transit",lastUpdate:"27/02/2024 19:00"},{id:"2024-0123",product:"Moules de Méditerranée",supplier:"CDB",deliveryDate:"28/02",price:450,quantity:"100kg",status:"pending",icon:ee,stockLocation:"Bassin A3",lastUpdate:"26/02/2024 14:30"},{id:"2024-0122",product:"Huîtres Spéciales",supplier:"Cancale Huîtres",deliveryDate:"27/02",price:780,quantity:"150kg",status:"confirmed",icon:ee,stockLocation:"Bassin B1",lastUpdate:"26/02/2024 10:15"},{id:"2024-0121",product:"Bar de ligne",supplier:"Pêcheurs Bretons",deliveryDate:"26/02",price:890,quantity:"45kg",status:"delivered",icon:ja,stockLocation:"Trempage T2",lastUpdate:"25/02/2024 16:45"},{id:"2024-0120",product:"Huîtres plates Belon",supplier:"Ostréiculteurs du Morbihan",deliveryDate:"24/02",price:1350,quantity:"80kg",status:"completed",icon:ee,stockLocation:"Bassin C2",lastUpdate:"24/02/2024 11:20"},{id:"2024-0119",product:"Palourdes de Thau",supplier:"Étang de Thau",deliveryDate:"22/02",price:580,quantity:"40kg",status:"completed",icon:ee,stockLocation:"Zone D3",lastUpdate:"22/02/2024 15:40"}];return e.jsxs(g.div,{initial:"hidden",animate:"visible",className:"container mx-auto p-4 space-y-4",children:[e.jsx(Re,{icon:e.jsx(Fa,{size:28,className:"text-white"}),title:"Achats"}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(I,{type:"text",placeholder:"Rechercher une commande...",value:t,onChange:j=>a(j.target.value),className:"w-full",leftIcon:e.jsx(te,{className:"w-4 h-4"})})}),e.jsxs(G,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4"})," Filtres"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:f.map(j=>e.jsx("div",{children:e.jsx(Ye,{className:"overflow-hidden",children:e.jsxs("div",{className:"p-6 cursor-pointer",onClick:()=>r(s===j.id?null:j.id),children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${c(j.status).bgColor}`,children:j.icon&&e.jsx(j.icon,{className:`w-5 h-5 ${c(j.status).textColor}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-base font-medium text-white",children:j.product}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${c(j.status).bgColor} ${c(j.status).textColor}`,children:c(j.status).label})]}),e.jsxs("p",{className:"text-sm text-white/60",children:[j.supplier," • #",j.id," • Livraison le ",j.deliveryDate]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-base font-medium text-white",children:[j.price,"€"]}),e.jsx("p",{className:"text-sm text-white/60",children:j.quantity})]}),e.jsx(ts,{className:`w-5 h-5 text-white/40 transition-transform ${s===j.id?"rotate-90":""}`})]}),s===j.id&&e.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-white/10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Statut"}),e.jsx("p",{className:`text-sm text-white mt-1 ${c(j.status).textColor}`,children:c(j.status).label})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Date de commande"}),e.jsx("p",{className:"text-sm text-white mt-1",children:"25/02/2024"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Fournisseur"}),e.jsx("p",{className:"text-sm text-white mt-1",children:j.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Emplacement stock"}),e.jsx("p",{className:"text-sm text-white mt-1",children:j.stockLocation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Dernière mise à jour"}),e.jsx("p",{className:"text-sm text-white mt-1",children:j.lastUpdate})]})]}),e.jsx("div",{className:"flex justify-end mt-6 space-x-4",children:e.jsxs("button",{onClick:()=>l(j.id),className:"px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-white transition-colors flex items-center space-x-2",children:[e.jsx(Ae,{size:16,className:"mr-2"}),"Commenter"]})})]})]})})},j.id))}),i&&e.jsx(od,{order:f.find(j=>j.id===i),onClose:()=>l(null)}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),e.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),e.jsx(I,{type:"text",value:h.supplier,onChange:j=>d(z=>({...z,supplier:j.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Produit"}),e.jsx(I,{type:"text",value:h.product,onChange:j=>d(z=>({...z,product:j.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),e.jsx(I,{type:"date",value:h.expiryDate,onChange:j=>d(z=>({...z,expiryDate:j.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation"}),e.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(j=>e.jsx("button",{type:"button",onClick:()=>b(j),className:"focus:outline-none",children:e.jsx(ve,{size:24,className:j<=m?"text-yellow-400 fill-yellow-400":"text-white/20"})},j))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:p,className:"hidden"}),e.jsx(Me,{className:"w-5 h-5 text-white/60 mr-2"}),e.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),e.jsxs(G,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(ss,{className:"w-4 h-4"}),"Photo"]}),e.jsxs(G,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(ga,{className:"w-4 h-4"}),"Scanner"]})]}),h.invoice&&e.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",h.invoice.name]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(G,{type:"button",variant:"ghost",onClick:()=>x(!1),children:"Annuler"}),e.jsx(G,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function md(){var i;const[t,a]=o.useState(!1),{session:s}=Ce(),r=l=>{l.preventDefault(),a(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-brand-burgundy/20 flex items-center justify-center overflow-hidden",children:(i=s==null?void 0:s.user)!=null&&i.avatar_url?e.jsx("img",{src:s.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx(kt,{size:64,className:"text-brand-burgundy"})}),e.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity rounded-full",children:[e.jsx(Me,{size:24}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Jean Dupont"}),e.jsx("p",{className:"text-white/60",children:"Responsable Production"}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(De,{size:16,className:"mr-2"}),"jean.dupont@example.com"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(ce,{size:16,className:"mr-2"}),"06 12 34 56 78"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(is,{size:16,className:"mr-2"}),"Zone Nord"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(le,{size:16,className:"mr-2"}),"Embauché le 15/01/2024"]})]})]}),e.jsx("button",{onClick:()=>a(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:t?"Annuler":"Modifier"})]}),t?e.jsxs("form",{onSubmit:r,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),e.jsx("input",{type:"text",defaultValue:"Jean",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),e.jsx("input",{type:"text",defaultValue:"Dupont",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsx("input",{type:"email",defaultValue:"jean.dupont@example.com",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",defaultValue:"06 12 34 56 78",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),e.jsx("textarea",{rows:3,defaultValue:"123 Rue de la Mer, 34140 Bouzigues",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]}):e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations complémentaires"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Adresse"}),e.jsx("div",{className:"text-white mt-1",children:"123 Rue de la Mer, 34140 Bouzigues"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Contact d'urgence"}),e.jsx("div",{className:"text-white mt-1",children:"Marie Dupont - 06 98 76 54 32"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Numéro de sécurité sociale"}),e.jsx("div",{className:"text-white mt-1",children:"1 85 12 17 123 456 78"})]})]})]})]})}function hd(){const[t,a]=o.useState(!1),[s,r]=o.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Mot de passe"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Dernière modification il y a 3 mois"})]}),e.jsx("button",{onClick:()=>a(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Modifier"})]}),t&&e.jsxs("form",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe actuel"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nouveau mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmer le nouveau mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Mettre à jour"})]})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Double authentification"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Sécurisez votre compte avec la 2FA"})]}),e.jsx("button",{onClick:()=>r(!s),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Configurer"})]}),s&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(za,{size:20,className:"text-white/60 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Application d'authentification"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une application comme Google Authenticator pour générer des codes"})]})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(dr,{size:20,className:"text-white/60 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Clé de sécurité"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une clé de sécurité physique (YubiKey, etc.)"})]})]})})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sessions actives"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Chrome - Windows"}),e.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 2 minutes"}),e.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.1"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:"Session actuelle"})})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Safari - iPhone"}),e.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 1 heure"}),e.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.2"})]}),e.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Déconnecter"})]})})]})]}),e.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-4",children:"Zone dangereuse"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Supprimer le compte"}),e.jsx("div",{className:"text-white/60 mt-1",children:"Cette action est irréversible et supprimera toutes vos données"})]}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:"Supprimer mon compte"})]})]})]})}const ud=[{id:"1",type:"login",action:"Connexion",timestamp:"2025-02-19T10:30:00",location:"La Rochelle, France",device:"Chrome - Windows"},{id:"2",type:"settings",action:"Modification du profil",timestamp:"2025-02-19T09:15:00",details:"Mise à jour des informations personnelles"},{id:"3",type:"document",action:"Téléchargement rapport",timestamp:"2025-02-19T08:45:00",details:"Rapport de production - Janvier 2025"},{id:"4",type:"notification",action:"Paramètres de notification",timestamp:"2025-02-19T08:30:00",details:"Activation des notifications mobiles"}],pd={login:cr,settings:es,document:ze,notification:Ve};function bd(){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique d'activité"})}),e.jsx("div",{className:"divide-y divide-white/10",children:ud.map(t=>{const a=pd[t.type];return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(a,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("h4",{className:"text-lg font-medium text-white",children:t.action})}),t.details&&e.jsx("p",{className:"text-white/70 mt-1",children:t.details}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{size:16,className:"mr-1"}),L(new Date(t.timestamp),"PPp",{locale:W})]}),t.location&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{children:t.location})]}),t.device&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{children:t.device})]})]})]})]})},t.id)})})]})})}function gd(){const[t,a]=o.useState([]),[s,r]=o.useState("csv"),[i,l]=o.useState({start:"",end:""}),n=()=>{console.log("Exporting data:",{selectedData:t,format:s,dateRange:i})};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Export des données"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sélectionner les données"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("tasks"),onChange:x=>{x.target.checked?a([...t,"tasks"]):a(t.filter(m=>m!=="tasks"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Tâches"}),e.jsx("div",{className:"text-sm text-white/60",children:"Historique des tâches"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("inventory"),onChange:x=>{x.target.checked?a([...t,"inventory"]):a(t.filter(m=>m!=="inventory"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Inventaire"}),e.jsx("div",{className:"text-sm text-white/60",children:"Données de stock"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("time"),onChange:x=>{x.target.checked?a([...t,"time"]):a(t.filter(m=>m!=="time"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Temps de travail"}),e.jsx("div",{className:"text-sm text-white/60",children:"Suivi du temps"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("activity"),onChange:x=>{x.target.checked?a([...t,"activity"]):a(t.filter(m=>m!=="activity"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Activité"}),e.jsx("div",{className:"text-sm text-white/60",children:"Historique d'activité"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Format d'export"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"format",value:"csv",checked:s==="csv",onChange:x=>r(x.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),e.jsx("div",{className:"text-white font-medium",children:"CSV"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"format",value:"json",checked:s==="json",onChange:x=>r(x.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),e.jsx("div",{className:"text-white font-medium",children:"JSON"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Période"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:i.start,onChange:x=>l({...i,start:x.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:i.end,onChange:x=>l({...i,end:x.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(pe,{size:20,className:"text-yellow-400 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-medium",children:"Note importante"}),e.jsx("p",{className:"text-yellow-400/80 mt-1",children:"L'export peut contenir des données sensibles. Assurez-vous de les stocker de manière sécurisée."})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:n,disabled:t.length===0,className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Se,{size:20,className:"mr-2"}),"Exporter les données"]})})]})]})})}function jd(){var r;const{session:t}=Ce(),a=fd((r=t==null?void 0:t.user)==null?void 0:r.id),s=()=>{navigator.clipboard.writeText(a)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Mon Code Ami"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Partagez ce code pour vous connecter avec d'autres professionnels"})]}),e.jsx("div",{className:"w-12 h-12 bg-brand-burgundy/20 rounded-lg flex items-center justify-center",children:e.jsx(ue,{size:24,className:"text-brand-burgundy"})})]}),e.jsx("div",{className:"mt-8 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-xl"}),e.jsx(g.div,{className:"relative bg-gradient-to-br from-brand-dark to-brand-purple p-8 rounded-xl border border-white/10",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:e.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider text-center text-white",children:a})})]})}),e.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[e.jsxs(g.button,{onClick:s,className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(or,{size:20,className:"mr-2"}),"Copier le code"]}),e.jsxs(g.button,{className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Tt,{size:20,className:"mr-2"}),"Afficher le QR Code"]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment ça marche ?"}),e.jsxs("ol",{className:"space-y-2 text-white/60",children:[e.jsx("li",{children:"1. Partagez votre code ami avec un autre professionnel"}),e.jsx("li",{children:'2. Utilisez son code dans la section "Entre Pro" pour vous connecter'}),e.jsx("li",{children:"3. Une fois connectés, vous pourrez échanger et collaborer facilement"})]})]})]})})}function fd(t){var r;return t&&((r=(Array.from(t).reduce((i,l)=>(i<<5)-i+l.charCodeAt(0),0).toString(36).toUpperCase()+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").slice(0,12).match(/.{1,4}/g))==null?void 0:r.join("-"))||"XXXX-XXXX-XXXX"}function wd(){const[t,a]=o.useState("info");return e.jsxs(g.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsx(Re,{icon:e.jsx(kt,{size:28,className:"text-white"}),title:"Mon Espace"}),e.jsx("div",{className:"flex items-center justify-between"}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("info"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="info"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(kt,{size:16,className:"mr-2"}),"Informations"]})}),e.jsx("button",{onClick:()=>a("friend-code"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="friend-code"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{size:16,className:"mr-2"}),"Code ami"]})}),e.jsx("button",{onClick:()=>a("security"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="security"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ut,{size:16,className:"mr-2"}),"Sécurité"]})}),e.jsx("button",{onClick:()=>a("activity"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="activity"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{size:16,className:"mr-2"}),"Activité"]})}),e.jsx("button",{onClick:()=>a("export"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="export"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{size:16,className:"mr-2"}),"Export"]})})]}),t==="info"&&e.jsx(md,{}),t==="friend-code"&&e.jsx(jd,{}),t==="security"&&e.jsx(hd,{}),t==="activity"&&e.jsx(bd,{}),t==="export"&&e.jsx(gd,{})]})}const nt="oystercult_cart";function Wa(){const[t,a]=o.useState([]),[s,r]=o.useState(!1);return o.useEffect(()=>{const m=localStorage.getItem(nt);if(m)try{a(JSON.parse(m))}catch(b){console.error("Erreur lors du chargement du panier:",b),localStorage.removeItem(nt)}},[]),{cartItems:t,addToCart:(m,b)=>{const h=[...t],d=h.find(c=>c.productId===m);d?d.quantity=b:h.push({productId:m,quantity:b}),a(h),localStorage.setItem(nt,JSON.stringify(h))},removeFromCart:m=>{const b=t.filter(h=>h.productId!==m);a(b),b.length===0?localStorage.removeItem(nt):localStorage.setItem(nt,JSON.stringify(b))},clearCart:()=>{a([]),localStorage.removeItem(nt)},isCartModalOpen:s,setIsCartModalOpen:()=>{r(!s)}}}function Ja({isOpen:t,onClose:a,items:s,products:r,onRemoveItem:i,onClearCart:l}){if(!t)return null;const n=s.reduce((m,b)=>{const h=r.find(d=>d.id===b.productId);return m+(h?h.price*b.quantity:0)},0),x=()=>{l(),a()};return e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",style:{minHeight:"100vh"},children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-xl w-full max-w-md mx-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[e.jsx("h2",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Panier"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-[rgb(var(--color-brand-surface-hover))] rounded-lg transition-colors",children:e.jsx(R,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"})})]}),e.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:s.length===0?e.jsx("p",{className:"text-center text-[rgb(var(--color-text-secondary))]",children:"Votre panier est vide"}):e.jsx("div",{className:"space-y-4",children:s.map(m=>{const b=r.find(h=>h.id===m.productId);return b?e.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-[rgb(var(--color-brand-surface-hover))] rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-[rgb(var(--color-text-primary))]",children:b.name}),e.jsxs("p",{className:"text-sm text-[rgb(var(--color-text-secondary))]",children:[m.quantity," ",b.unit," × ",b.price.toFixed(2),"€"]}),e.jsxs("p",{className:"text-sm font-medium text-[rgb(var(--color-brand-primary))]",children:["Total: ",(m.quantity*b.price).toFixed(2),"€"]})]}),e.jsx("button",{onClick:()=>i(m.productId),className:"p-2 hover:bg-[rgb(var(--color-brand-surface))] rounded-lg transition-colors",children:e.jsx(oe,{className:"w-4 h-4 text-red-500"})})]},m.productId):null})})}),s.length>0&&e.jsxs("div",{className:"p-4 border-t border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Total"}),e.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[n.toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Vider"}),e.jsxs("button",{onClick:x,className:"flex-1 px-4 py-2 bg-[rgb(var(--color-brand-primary))] text-white rounded-lg hover:bg-[rgb(var(--color-brand-primary)_/_0.9)] transition-colors flex items-center justify-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Valider la commande"]})]})]})]})})}const bs=[{id:"1",name:"Capteur de courantologie",description:"Mesure précise des courants marins avec transmission en temps réel",price:899.99,category:"sensor",features:["Mesure bidirectionnelle","Précision ±0.1 m/s","Transmission sans fil","Batterie longue durée"],inStock:!0,specifications:{"Plage de mesure":"0-10 m/s",Autonomie:"12 mois","Profondeur max":"50m",Protection:"IP68"},image:"https://example.com/image1.jpg"},{id:"2",name:"Sonde pH connectée",description:"Surveillance continue du pH avec alertes automatiques",price:299.99,category:"sensor",features:["Calibration automatique","Alertes personnalisables","Interface intuitive","Installation facile"],inStock:!0,specifications:{"Plage pH":"0-14",Précision:"±0.01 pH","Temps de réponse":"<5s",Température:"0-50°C"},image:"https://example.com/image2.jpg"},{id:"3",name:"Bracelet d'urgence",description:"Bracelet connecté étanche avec bouton d'appel d'urgence",price:149.99,category:"device",features:["Étanche IP68","Batterie 7 jours","Géolocalisation","Bouton SOS"],inStock:!0,specifications:{Matériau:"Silicone médical",Connectivité:"Bluetooth 5.0",Autonomie:"7 jours",Résistance:"5 ATM"},image:"https://example.com/image3.jpg"}];function vd(){const[t,a]=o.useState(""),[s,r]=o.useState("all"),[i,l]=o.useState(!1),{cartItems:n,addToCart:x,removeFromCart:m,clearCart:b,isCartModalOpen:h,setIsCartModalOpen:d}=Wa();o.useEffect(()=>{const u=f=>{i&&l(!1)};return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[i]);const c=["all",...new Set(bs.map(u=>u.category))],p=bs.filter(u=>{const f=s==="all"||u.category===s,j=u.name.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase());return f&&j});return e.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-brand-bg))]",children:[e.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))]",children:e.jsx("div",{className:"max-w-[1400px] mx-auto px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("button",{className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",onClick:()=>d(),children:[e.jsx(Xe,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),n.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:n.length})]})})})})}),e.jsxs("main",{className:"max-w-[1400px] mx-auto px-6 pt-12 pb-24",children:[e.jsxs(g.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsx(Re,{icon:e.jsx(la,{size:28,className:"text-white"}),title:"Boutique"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>d(!0),className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",children:[e.jsx(Xe,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),n.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:n.length})]})})]}),e.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary))]"}),e.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:t,onChange:u=>a(u.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none focus:border-[rgb(var(--color-brand-primary))]"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>l(!i),className:"w-full sm:w-48 px-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-[rgb(var(--color-text-primary))]",children:s==="all"?"Toutes catégories":s}),e.jsx(Ps,{className:"w-4 h-4 text-[rgb(var(--color-text-secondary))]"})]}),i&&e.jsx("div",{className:"absolute z-20 mt-1 w-full bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg shadow-lg",children:e.jsx("div",{className:"p-1",children:c.map(u=>e.jsx("button",{onClick:()=>{r(u),l(!1)},className:`w-full text-left px-3 py-2 rounded-md transition-colors ${s===u?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":"hover:bg-[rgb(var(--color-brand-surface-hover))] text-[rgb(var(--color-text-primary))]"}`,children:e.jsx("span",{className:"capitalize",children:u==="all"?"Toutes catégories":u})},u))})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(u=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-all duration-200",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-white break-words",children:u.name}),e.jsx("p",{className:"text-sm text-white/60 mt-1 line-clamp-3",children:u.description})]}),e.jsxs("div",{className:"text-xl font-bold text-white whitespace-nowrap",children:[u.price,"€"]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:u.features.map((f,j)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:f},j))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Spécifications"}),e.jsx("div",{className:"space-y-2",children:Object.entries(u.specifications).map(([f,j])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:f}),e.jsx("span",{className:"text-white",children:j})]},f))})]}),e.jsx("div",{className:"mt-6 flex items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",defaultValue:"0",className:"w-20 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20",onChange:f=>{parseInt(f.target.value,10)<0&&(f.target.value="0")}}),e.jsx("button",{onClick:f=>{const j=f.currentTarget.previousElementSibling,z=parseInt(j.value,10);z>0&&x(u.id,z)},className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter au panier"})]})})]})},u.id))}),e.jsx(Ja,{isOpen:h,onClose:()=>d(!1),items:n,products:bs,onRemoveItem:m,onClearCart:()=>{b(),d(!1)}})]})]})}const Nd=mr,yd=xr,Ga=o.forwardRef(({className:t,...a},s)=>e.jsx(Ta,{className:Ee("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));Ga.displayName=Ta.displayName;const Ya=o.forwardRef(({className:t,...a},s)=>e.jsxs(yd,{children:[e.jsx(Ga,{}),e.jsx(_a,{ref:s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));Ya.displayName=_a.displayName;const Xa=({className:t,...a})=>e.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...a});Xa.displayName="AlertDialogHeader";const Za=({className:t,...a})=>e.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});Za.displayName="AlertDialogFooter";const Ka=o.forwardRef(({className:t,...a},s)=>e.jsx(Pa,{ref:s,className:Ee("text-lg font-semibold",t),...a}));Ka.displayName=Pa.displayName;const ei=o.forwardRef(({className:t,...a},s)=>e.jsx(Aa,{ref:s,className:Ee("text-sm text-muted-foreground",t),...a}));ei.displayName=Aa.displayName;const ti=o.forwardRef(({className:t,...a},s)=>e.jsx(La,{ref:s,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...a}));ti.displayName=La.displayName;const si=o.forwardRef(({className:t,...a},s)=>e.jsx(qa,{ref:s,className:Ee("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",t),...a}));si.displayName=qa.displayName;function kd({supplier:t,onDelete:a,onViewCatalog:s}){const[r,i]=o.useState(!1),l=t.name.split(" ").map(m=>m[0]).join(""),x=(m=>{let b=0;for(let c=0;c<m.length;c++)b=m.charCodeAt(c)+((b<<5)-b);const h=(b&255)%60+220,d=(b&255)%40+180;return{from:`hsl(${h}, 70%, 65%)`,to:`hsl(${d}, 80%, 40%)`,text:`hsl(${h-10}, 80%, 75%)`}})(t.name);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full glass-effect rounded-xl p-4 space-y-4 bg-[rgba(0,40,80,0.2)] shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-300",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-24 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold shadow-lg transform transition-transform duration-300 relative",style:{background:`linear-gradient(135deg, ${x.from}30 0%, ${x.to}50 100%)`,boxShadow:"rgba(0,0,0,0.2) 0px 4px 12px, rgba(0,210,200,0.1) 0px 0px 8px inset",backdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.1)"},children:l})}),t.is_friend&&e.jsxs("div",{className:"absolute top-2 right-2 bg-emerald-500/10 backdrop-blur-sm rounded-full px-3 py-1 flex items-center gap-1 border border-emerald-500/20 shadow-emerald-500/10 shadow-sm",children:[e.jsx(hr,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"text-xs font-medium text-emerald-400",children:"Ami"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),e.jsxs("div",{className:"text-xs text-white/70 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{children:t.address})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{children:t.phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{children:t.email})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-[#2a2d3a]",children:[e.jsxs("button",{onClick:()=>s(t.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 group-hover:translate-y-[-2px]",style:{background:`linear-gradient(135deg, ${x.from}30 0%, ${x.to}50 100%)`,color:x.text,boxShadow:`0 4px 10px -2px ${x.to}20`},children:[e.jsx(ur,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Catalogue"})]}),e.jsx("button",{onClick:()=>i(!0),className:"flex items-center justify-center p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors duration-200",children:e.jsx(oe,{className:"w-4 h-4"})})]})]})]}),e.jsx(Nd,{open:r,onOpenChange:i,children:e.jsxs(Ya,{children:[e.jsxs(Xa,{children:[e.jsx(Ka,{children:"Confirmer la suppression"}),e.jsx(ei,{children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."})]}),e.jsxs(Za,{children:[e.jsx(si,{children:"Annuler"}),e.jsx(ti,{onClick:()=>{a(t.id),i(!1)},className:"bg-red-500 hover:bg-red-600",children:"Supprimer"})]})]})})]})}const yt=o.forwardRef(({className:t,...a},s)=>e.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t||""}`,ref:s,...a}));yt.displayName="Label";function Cd({open:t,onOpenChange:a,editingSupplier:s}){const{addSupplier:r,updateSupplier:i}=rs(),l=!!s,[n,x]=o.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",address:(s==null?void 0:s.address)||""}),[m,b]=o.useState(!1),[h,d]=o.useState({}),c=f=>{const{name:j,value:z}=f.target;x(S=>({...S,[j]:z})),h[j]&&d(S=>{const y={...S};return delete y[j],y})},p=()=>{const f={};return n.name.trim()||(f.name="Le nom est requis"),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(f.email="Format d'email invalide"):f.email="L'email est requis",n.phone.trim()||(f.phone="Le téléphone est requis"),n.address.trim()||(f.address="L'adresse est requise"),d(f),Object.keys(f).length===0},u=async f=>{if(f.preventDefault(),!!p()){b(!0);try{l&&s?await i.mutateAsync({id:s.id,...n}):await r.mutateAsync(n),a(!1),x({name:"",email:"",phone:"",address:""})}catch(j){console.error("Error saving supplier:",j)}finally{b(!1)}}};return e.jsx(Jt,{open:t,onOpenChange:a,children:e.jsxs(Ct,{className:"sm:max-w-[500px] bg-[#1a1c25] text-white border-[#2a2d3a]",children:[e.jsxs(St,{children:[e.jsx(Dt,{className:"text-white",children:l?"Modifier le fournisseur":"Ajouter un fournisseur"}),e.jsx(Gt,{children:l?"Modifiez les informations du fournisseur ci-dessous.":"Remplissez les informations du nouveau fournisseur."})]}),e.jsxs("form",{onSubmit:u,className:"space-y-5 my-2",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(yt,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(tt,{className:"h-3.5 w-3.5 text-indigo-400"}),"Nom du fournisseur"]}),e.jsx(I,{id:"name",name:"name",value:n.name,onChange:c,placeholder:"Atlantique Coquillages",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${h.name?"border-red-500":""}`}),h.name&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.name})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(yt,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(De,{className:"h-3.5 w-3.5 text-indigo-400"}),"Email"]}),e.jsx(I,{id:"email",name:"email",type:"email",value:n.email,onChange:c,placeholder:"contact@atlantique-coquillages.fr",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${h.email?"border-red-500":""}`}),h.email&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.email})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(yt,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ce,{className:"h-3.5 w-3.5 text-indigo-400"}),"Téléphone"]}),e.jsx(I,{id:"phone",name:"phone",value:n.phone,onChange:c,placeholder:"01 23 45 67 89",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${h.phone?"border-red-500":""}`}),h.phone&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.phone})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(yt,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ne,{className:"h-3.5 w-3.5 text-indigo-400"}),"Adresse"]}),e.jsx(I,{id:"address",name:"address",value:n.address,onChange:c,placeholder:"42 Avenue du Port, 85230 Bouin",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${h.address?"border-red-500":""}`}),h.address&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:h.address})]}),e.jsxs(Ia,{className:"mt-6",children:[e.jsx(G,{type:"button",variant:"outline",onClick:()=>a(!1),className:"border-[#2a2d3a] text-white hover:bg-[#2a2d3a] hover:text-white",children:"Annuler"}),e.jsx(G,{type:"submit",disabled:m,className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white",children:m?"Enregistrement...":l?"Mettre à jour":"Ajouter"})]})]})]})})}function Sd(){const{suppliers:t,isLoading:a,updateSupplier:s}=rs(),[r,i]=o.useState(!1),[l,n]=o.useState(""),x=Le(),m=async d=>{try{await s.mutateAsync({id:d,deleted:!0})}catch(c){console.error("Error deleting supplier:",c)}},b=d=>{x(`/suppliers/${d}/catalog`)},h=t.filter(d=>d.name.toLowerCase().includes(l.toLowerCase())||d.email.toLowerCase().includes(l.toLowerCase()));return a?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-purple"})}):e.jsx("div",{className:"p-6 max-w-[1600px] mx-auto",children:e.jsxs(g.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsx(Re,{icon:e.jsx(xt,{size:28,className:"text-white"}),title:"Fournisseurs"}),e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("div",{children:e.jsx("p",{className:"text-gray-400",children:"Gérez vos fournisseurs et accédez à leurs catalogues"})}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-lg transition-all shadow-lg hover:shadow-indigo-500/20 duration-300",children:[e.jsx(Z,{className:"w-5 h-5"}),"Ajouter un fournisseur"]})]}),e.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-grow max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(te,{className:"w-4 h-4 text-gray-400"})}),e.jsx("input",{type:"text",className:"bg-[#1a1c25] border border-[#2a2d3a] text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 p-2.5",placeholder:"Rechercher un fournisseur...",value:l,onChange:d=>n(d.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 bg-[#1a1c25] px-3 py-1.5 rounded-lg border border-[#2a2d3a]",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[h.length," fournisseurs"]})]})]}),h.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-gray-400",children:[e.jsx("div",{className:"bg-[#1a1c25] rounded-full p-4 mb-4",children:e.jsx(ue,{className:"w-8 h-8 text-indigo-500 opacity-70"})}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"Aucun fournisseur trouvé"}),e.jsx("p",{className:"max-w-md text-gray-500",children:l?"Aucun résultat ne correspond à votre recherche. Essayez avec d'autres termes.":"Commencez par ajouter un fournisseur en cliquant sur le bouton ci-dessus."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:h.map(d=>e.jsx(kd,{supplier:d,onDelete:m,onViewCatalog:b},d.id))}),e.jsx(Cd,{open:r,onOpenChange:i})]})})}function Dd(){const{supplierId:t}=pr(),a=Le(),{suppliers:s,getSupplierProducts:r}=rs(),{cartItems:i,addToCart:l,removeFromCart:n,clearCart:x,isCartModalOpen:m,setIsCartModalOpen:b,toggleCartModal:h}=Wa(),[d,c]=o.useState({}),[p,u]=o.useState(!0),[f,j]=o.useState([]),[z,S]=o.useState("all"),[y,w]=o.useState(""),[M,v]=o.useState(!1),k=s.find(q=>q.id===t);Q.useEffect(()=>{(async()=>{if(t)try{const X=await r(t);j(X)}catch(X){console.error("Erreur lors du chargement des produits:",X),j([{id:"1",name:"Huîtres Spéciales de Normandie",description:"Huîtres Spéciales de Normandie n°3, saveur iodée et douce",price:12.99,unit:"dz",min_order_quantity:2,category:"huîtres",stock:50},{id:"2",name:"Moules de Méditerranée",description:"Moules de Méditerranée fraîches, chair généreuse",price:8.5,unit:"kg",min_order_quantity:1,category:"moules",stock:30},{id:"3",name:"Palourdes de l'Atlantique",description:"Palourdes fraîches de l'Atlantique, idéales pour vos plats de fruits de mer",price:14.99,unit:"kg",min_order_quantity:.5,category:"palourdes",stock:20},{id:"4",name:"Huîtres Fines de Claire",description:"Huîtres Fines de Claire affinées en bassin, saveur délicate",price:15.99,unit:"dz",min_order_quantity:1,category:"huîtres",stock:40}])}finally{u(!1)}})()},[t,r]);const D=["all",...new Set(f.map(q=>q.category))],B=f.filter(q=>{const X=z==="all"||q.category===z,ae=q.name.toLowerCase().includes(y.toLowerCase())||q.description.toLowerCase().includes(y.toLowerCase());return X&&ae}),E=(q,X)=>{c(ae=>({...ae,[q]:X}))},se=q=>{const X=d[q]||0;X>0&&l(q,X)};return p?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-[rgb(var(--color-brand-primary))] border-solid rounded-full animate-spin"})}):e.jsxs("div",{className:"relative min-h-screen bg-[rgb(var(--color-brand-bg))]",children:[e.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))]",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 py-4",children:[e.jsx("div",{className:"flex items-center justify-center relative",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("button",{onClick:()=>a(-1),className:"p-2 rounded-full bg-[rgb(var(--color-brand-surface)_/_0.5)] hover:bg-[rgb(var(--color-brand-surface))] transition-colors",children:e.jsx(_s,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-xl font-semibold text-[rgb(var(--color-text))]",children:(k==null?void 0:k.name)||"Catalogue Fournisseur"}),e.jsx("p",{className:"text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:(k==null?void 0:k.address)||"Produits disponibles"})]}),e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>b(!0),className:"p-2 rounded-full bg-[rgb(var(--color-brand-surface)_/_0.5)] hover:bg-[rgb(var(--color-brand-surface))] transition-colors relative",style:{boxShadow:i.length>0?"0 0 10px 2px rgb(var(--color-brand-primary))":"none"},children:[e.jsx(Xe,{className:"w-5 h-5",style:{color:i.length>0?"rgb(var(--color-brand-primary))":"inherit"}}),i.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center bg-[rgb(var(--color-brand-primary))] text-white text-xs rounded-full animate-pulse",children:i.length})]})})]})}),e.jsxs("div",{className:"mt-4 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]"}),e.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:y,onChange:q=>w(q.target.value),className:"w-full pl-10 pr-4 py-2 bg-[rgb(var(--color-brand-surface)_/_0.5)] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:border-[rgb(var(--color-brand-primary))] focus:outline-none"})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>v(!M),className:"px-4 py-2 bg-[rgb(var(--color-brand-surface)_/_0.5)] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none flex items-center gap-2 min-w-32",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{className:"capitalize",children:z==="all"?"Toutes catégories":z}),e.jsx(Ps,{className:"w-4 h-4 ml-auto"})]}),e.jsx(U,{children:M&&e.jsx(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute left-0 right-0 mt-2 bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-lg border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] z-50",children:e.jsx("div",{className:"py-1",children:D.map(q=>e.jsx("button",{onClick:()=>{S(q),v(!1)},className:`w-full px-4 py-2 text-left hover:bg-[rgb(var(--color-brand-surface)_/_0.7)] ${z===q?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":""}`,children:e.jsx("span",{className:"capitalize",children:q==="all"?"Toutes catégories":q})},q))})})})]})})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:B.map(q=>e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300 group hover:shadow-lg",children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-[rgb(var(--color-brand-primary)_/_0.2)] to-[rgb(var(--color-brand-secondary)_/_0.2)] relative",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(br,{className:"w-16 h-16 text-[rgb(var(--color-brand-primary)_/_0.3)] group-hover:scale-110 transition-transform duration-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold break-words w-full sm:w-auto",children:q.name}),e.jsx(Ha,{variant:"default",className:"capitalize whitespace-nowrap",children:q.category})]}),e.jsx("p",{className:"text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] mb-4 line-clamp-3",children:q.description}),e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[q.price.toFixed(2),"€ / ",q.unit]})}),e.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-2",children:[e.jsx("input",{type:"number",min:0,step:q.min_order_quantity,value:d[q.id]||q.min_order_quantity||0,onChange:X=>E(q.id,parseFloat(X.target.value)),className:"w-full sm:w-20 px-3 py-2 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:border-[rgb(var(--color-brand-primary))] focus:outline-none"}),e.jsxs("button",{onClick:()=>se(q.id),className:"w-full sm:flex-1 py-2 px-4 flex items-center justify-center gap-1 bg-[rgb(var(--color-brand-primary)_/_0.1)] hover:bg-[rgb(var(--color-brand-primary)_/_0.2)] text-[rgb(var(--color-brand-primary))] rounded-lg transition-colors group-hover:shadow-md",children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Ajouter au panier"})]})]})]})]},q.id))})}),e.jsx(Ja,{isOpen:m,onClose:()=>b(!1),items:i,products:f,onRemoveItem:n,onClearCart:x})]})}function _t({children:t,onClick:a,className:s="",style:r}){const[i,l]=Q.useState(!1);return e.jsxs(g.div,{className:`relative overflow-hidden bg-white/5 border border-white/10 ${s}`,style:r,onClick:a,onHoverStart:()=>l(!0),onHoverEnd:()=>l(!1),whileHover:{y:-4},children:[t,e.jsx(g.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/5 pointer-events-none",initial:{opacity:0},animate:{opacity:i?1:0},transition:{duration:.2}}),e.jsx(g.div,{className:"absolute inset-0 pointer-events-none rounded-lg border border-blue-500/30",initial:{opacity:0},animate:{opacity:i?1:0,boxShadow:i?"0 0 15px 1px rgba(59, 130, 246, 0.3)":"none"},transition:{duration:.2}})]})}const zd="https://rmockgbhcxrgqpeejrry.supabase.co",Md="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",We=gr(zd,Md);function Fd(){const t=Ca(),{addNotification:a}=Ce(),{data:s=[],isLoading:r}=Ts({queryKey:["supplier_orders"],queryFn:async()=>{try{return[{id:"1",supplier_id:"hmo",status:"pending",products:[{id:"1",name:"Huîtres plates",quantity:120,price:8.5},{id:"2",name:"Huîtres creuses",quantity:240,price:7.2}],total_amount:2748,created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString(),comments:[]},{id:"2",supplier_id:"lpb",status:"accepted",products:[{id:"3",name:"Moules de Bouzigues",quantity:50,price:6}],total_amount:300,created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString(),comments:[{id:"1",content:"Commande validée par le fournisseur. Livraison prévue la semaine prochaine.",created_at:new Date(Date.now()-2592e5).toISOString(),user_id:"1"}]},{id:"3",supplier_id:"ac",status:"delivering",products:[{id:"4",name:"Huîtres du Bassin",quantity:80,price:9.5},{id:"5",name:"Palourdes",quantity:30,price:12}],total_amount:1120,created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),comments:[{id:"2",content:"Votre commande est en cours de livraison. Arrivée prévue demain matin.",created_at:new Date(Date.now()-864e5).toISOString(),user_id:"1"}]},{id:"4",supplier_id:"cp",status:"completed",products:[{id:"6",name:"Huîtres plates",quantity:50,price:8.5},{id:"7",name:"Moules de bouchot",quantity:80,price:5.2}],total_amount:841,storage_location:"Zone A, Étagère 3",created_at:new Date(Date.now()-10368e5).toISOString(),updated_at:new Date(Date.now()-6912e5).toISOString(),comments:[{id:"3",content:"Commande reçue et stockée. Qualité conforme aux attentes.",created_at:new Date(Date.now()-6912e5).toISOString(),user_id:"1"}]},{id:"5",supplier_id:"hmo",status:"rejected",products:[{id:"8",name:"Huîtres spéciales",quantity:20,price:15}],total_amount:300,created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date(Date.now()-7776e5).toISOString(),comments:[{id:"4",content:"Commande refusée par le fournisseur. Stock insuffisant pour le moment.",created_at:new Date(Date.now()-7776e5).toISOString(),user_id:"2"}]}]}catch(x){return console.error("Error fetching supplier orders:",x),[]}}}),i=Qt({mutationFn:async x=>{const{data:m}=await We.from("supplier_products").select("id, price").in("id",x.products.map(c=>c.id)),b=x.products.reduce((c,p)=>{const u=m==null?void 0:m.find(f=>f.id===p.id);return c+((u==null?void 0:u.price)||0)*p.quantity},0),{data:h,error:d}=await We.from("supplier_orders").insert([{...x,status:"pending",total_amount:b}]).select().single();if(d)throw d;return a({title:"Commande créée",message:"La commande a été créée avec succès",type:"success",important:!1,category:"inventory"}),h},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),l=Qt({mutationFn:async({id:x,...m})=>{const{data:b,error:h}=await We.from("supplier_orders").update(m).eq("id",x).select().single();if(h)throw h;if(m.status==="completed"){const d=await We.from("supplier_orders").select("*").eq("id",x).single();if(d.data)for(const c of d.data.products)await We.rpc("update_stock",{product_id:c.id,quantity:c.quantity,storage_location:m.storage_location,expiry_date:m.expiry_date});a({title:"Stock mis à jour",message:"Le stock a été mis à jour avec les produits livrés",type:"success",important:!1,category:"inventory"})}return b},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),n=Qt({mutationFn:async({order_id:x,content:m})=>{var d;const{data:b,error:h}=await We.from("supplier_order_comments").insert([{order_id:x,content:m,user_id:(d=(await We.auth.getUser()).data.user)==null?void 0:d.id}]).select().single();if(h)throw h;return b},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}});return{orders:s,isLoading:r,createOrder:i,updateOrder:l,addComment:n}}const ia=[{id:"hmo",name:"HMO",description:"Huîtres de Marennes Oléron",products:["Huîtres plates","Huîtres creuses","Huîtres spéciales"]},{id:"lpb",name:"LPB",description:"Les Parcs de Bouzigues",products:["Moules de Bouzigues","Huîtres de Bouzigues"]},{id:"ac",name:"AC",description:"Arcachon Coquillages",products:["Huîtres du Bassin","Palourdes","Coques"]},{id:"cp",name:"CP",description:"Cancale Production",products:["Huîtres plates","Huîtres creuses","Moules de bouchot"]}];function Td(){const{orders:t,isLoading:a,updateOrder:s}=Fd(),[r,i]=Q.useState(null);Q.useState(!1),Ce();const[l,n]=o.useState("");return o.useState(null),ia.filter(x=>x.name.toLowerCase().includes(l.toLowerCase())||x.description.toLowerCase().includes(l.toLowerCase())||x.products.some(m=>m.toLowerCase().includes(l.toLowerCase()))),a?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[rgb(var(--color-brand-primary))]"})}):e.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commandes Fournisseurs"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/5 rounded-lg text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})})]}),e.jsxs("div",{className:"relative mb-8",children:[e.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:l,onChange:x=>n(x.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20"}),e.jsx(te,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40",size:20})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Vos commandes récentes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(x=>{const m=ia.find(d=>d.id===x.supplier_id),b=x.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":x.status==="accepted"?"bg-green-500/20 text-green-400 border-green-500/30":x.status==="delivering"?"bg-blue-500/20 text-blue-400 border-blue-500/30":x.status==="completed"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-red-500/20 text-red-400 border-red-500/30",h=x.status==="pending"?"Envoyé":x.status==="accepted"?"Validé":x.status==="delivering"?"En cours de livraison":x.status==="completed"?"Reçu":"Refusé";return e.jsx(_t,{onClick:()=>i(x.id),className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:(m==null?void 0:m.name)||"Fournisseur"}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${b}`,children:h})]}),e.jsxs("div",{className:"text-sm text-white/60 mb-3",children:[e.jsxs("p",{className:"mb-1",children:["Commandé le ",new Date(x.created_at).toLocaleDateString("fr-FR")]}),e.jsxs("p",{className:"font-medium text-white/80",children:["Total: ",x.total_amount.toFixed(2),"€"]})]}),e.jsxs("div",{className:"border-t border-white/5 pt-3 mt-auto",children:[e.jsxs("p",{className:"text-sm font-medium text-white/70",children:[x.products.length," produit",x.products.length>1?"s":""]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[x.products.slice(0,2).map(d=>e.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:[d.quantity,"× ",d.name]},d.id)),x.products.length>2&&e.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:["+",x.products.length-2," autre",x.products.length-2>1?"s":""]})]})]}),x.comments&&x.comments.length>0&&e.jsxs("div",{className:"mt-3 flex items-center text-white/50 text-sm",children:[e.jsx(Ae,{size:14,className:"mr-1"}),x.comments.length," commentaire",x.comments.length>1?"s":""]})]})},x.id)})})]})]})})}const _d=({onClose:t,onUpload:a})=>{const[s,r]=o.useState(""),[i,l]=o.useState(null),[n,x]=o.useState(!1),[m,b]=o.useState(""),h=o.useRef(null),d=f=>{if(f.target.files&&f.target.files[0]){const j=f.target.files[0];if(j.size>10*1024*1024){b("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(j.type)){b("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}l(j),b(""),s||r(j.name.replace(/\.[^/.]+$/,""))}},c=f=>{if(f.preventDefault(),!s.trim()){b("Veuillez saisir un titre pour le document.");return}if(!i){b("Veuillez sélectionner un fichier.");return}a(s,i,n)},p=f=>{f.preventDefault()},u=f=>{if(f.preventDefault(),f.dataTransfer.files&&f.dataTransfer.files[0]){const j=f.dataTransfer.files[0];if(j.size>10*1024*1024){b("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(j.type)){b("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}l(j),b(""),s||r(j.name.replace(/\.[^/.]+$/,""))}};return e.jsx(U,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ajouter un document"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:e.jsx(R,{size:20})})]}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titre du document"}),e.jsx("input",{type:"text",id:"title",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: Carte d'identité, Permis de conduire...",value:s,onChange:f=>r(f.target.value)})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{var f;return(f=h.current)==null?void 0:f.click()},onDragOver:p,onDrop:u,children:[i?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ze,{size:40,className:"text-blue-500 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(i.size/1024/1024).toFixed(2)," MB"]}),e.jsx("button",{type:"button",className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:f=>{f.stopPropagation(),l(null),h.current&&(h.current.value="")},children:"Changer de fichier"})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Me,{size:40,className:"text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cliquez pour sélectionner un fichier"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"ou glissez-déposez ici"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format supporté: PDF, JPG, PNG (max. 10 MB)"})]}),e.jsx("input",{ref:h,type:"file",className:"hidden",accept:"application/pdf,image/jpeg,image/png",onChange:d})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:n,onChange:f=>x(f.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Document obligatoire (visible dans le QR code)"})]})}),m&&e.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:m}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",disabled:!i||!s.trim(),children:"Enregistrer"})]})]})]})]})})})},Pd=({documents:t,onDelete:a})=>{if(t.length===0)return e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-brand-dark via-brand-purple/30 to-brand-burgundy/30 rounded-lg border border-white/10",children:[e.jsx(Rs,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white",children:"Aucun document"}),e.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ajoutez vos documents importants pour y accéder facilement lors d'un contrôle."})]});const s=r=>{const i=URL.createObjectURL(r.file),l=window.document.createElement("a");l.style.display="none",l.href=i,l.download=r.title+"."+r.file.name.split(".").pop(),window.document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(i),window.document.body.removeChild(l)};return e.jsx("div",{className:"space-y-4",children:t.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(Rs,{size:24,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[r.title,r.isRequired&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[e.jsx(Ds,{size:12,className:"mr-1"}),"Obligatoire"]})]}),e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(le,{size:14,className:"mr-1"}),e.jsxs("span",{children:["Ajouté le ",L(new Date(r.date),"dd MMMM yyyy",{locale:W})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>s(r),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full dark:text-blue-400 dark:hover:bg-blue-900/40",title:"Télécharger",children:e.jsx(Se,{size:18})}),e.jsx("button",{onClick:()=>a(r.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full dark:text-red-400 dark:hover:bg-red-900/40",title:"Supprimer",children:e.jsx(oe,{size:18})})]})]},r.id))})},Ad=({documents:t,onClose:a})=>{const[s,r]=o.useState("");o.useEffect(()=>{if(t.length>0){const l=t.map(n=>({id:n.id,title:n.title,type:n.file.type,size:n.file.size,required:n.isRequired}));r(JSON.stringify({type:"OYSTERCULT_DIGITAL_VAULT",documents:l,expiry:Date.now()+36e5}))}},[t]);const i=()=>{const l=window.document.getElementById("qr-code-svg");if(l){const n=window.document.createElement("canvas"),x=n.getContext("2d"),m=new XMLSerializer().serializeToString(l),b=new Image;b.onload=()=>{n.width=200,n.height=200,x==null||x.drawImage(b,0,0,200,200);const h=n.toDataURL("image/png"),d=window.document.createElement("a");d.href=h,d.download="coffre-fort-numerique-qrcode.png",window.document.body.appendChild(d),d.click(),window.document.body.removeChild(d)},b.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(m)))}};return e.jsx(U,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"QR Code d'accès"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:e.jsx(R,{size:20})})]}),t.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Tt,{size:60,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun document obligatoire"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez pas encore ajouté de documents marqués comme obligatoires."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-white rounded-lg",children:e.jsx(jr,{id:"qr-code-svg",value:s,size:200,level:"H",includeMargin:!0})})}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(mt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Ce QR code donne accès aux documents suivants :"}),e.jsx("ul",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 list-disc list-inside",children:t.map(l=>e.jsx("li",{children:l.title},l.id))})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx(Se,{size:18,className:"mr-2"}),"Télécharger le QR Code"]})})]})]})]})})})},Ld=()=>{const[t,a]=o.useState([]);return o.useEffect(()=>{(async()=>{})()},[]),{documents:t,addDocument:l=>{a(n=>[...n,l])},deleteDocument:l=>{a(n=>n.filter(x=>x.id!==l))},updateDocument:(l,n)=>{a(x=>x.map(m=>m.id===l?{...m,...n}:m))}}},qd=()=>{const{documents:t,addDocument:a,deleteDocument:s}=Ld(),[r,i]=o.useState(!1),[l,n]=o.useState(!1),[x,m]=o.useState(""),b=t.filter(h=>h.title.toLowerCase().includes(x.toLowerCase()));return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mon coffre-fort numérique"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy text-white rounded-lg hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Me,{size:18,className:"mr-2"}),"Ajouter un document"]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors",children:[e.jsx(Tt,{size:18,className:"mr-2"}),"Générer QR Code"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-3 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",value:x,onChange:h=>m(h.target.value)})]})}),e.jsx(Pd,{documents:b,onDelete:s})]})]}),r&&e.jsx(_d,{onClose:()=>i(!1),onUpload:(h,d)=>{a({id:Date.now().toString(),title:h,file:d,date:new Date().toISOString()}),i(!1)}}),l&&e.jsx(Ad,{documents:t.filter(h=>h.isRequired),onClose:()=>n(!1)})]})};function Rd(){const t=Le(),a=()=>{t(-1)};return e.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-background text-white",children:[e.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:a,className:"p-1.5 sm:p-2 mr-2 sm:mr-3 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:e.jsx(_s,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"})]})}),e.jsx("div",{className:"flex-1 flex w-full",children:e.jsx(Qa,{})})]})}function Ed(){const[t,a]=o.useState(null),[s,r]=o.useState(!1),[i,l]=o.useState(null),[n,x]=o.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"75kg",arrivalDate:"2025-03-02",expiryDate:"2025-03-15"},{id:"F2-02",name:"Coques",quantity:"30kg",arrivalDate:"2025-03-03",expiryDate:"2025-03-10"}],"Chambre froide":[{id:"CF-01",name:"Huîtres Plates",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-03-05"},{id:"CF-02",name:"Moules",quantity:"80kg",arrivalDate:"2025-02-22",expiryDate:"2025-03-08"}]}),m=h=>{l({...h}),r(!0)},b=()=>{if(i&&t){const h={...n},d=h[t],c=d.findIndex(p=>p.id===i.id);c!==-1&&(d[c]=i,x(h)),r(!1),l(null)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(n).map(([h,d])=>e.jsxs(_t,{onClick:()=>a(h),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:h}),e.jsxs("p",{className:"text-sm text-white/60",children:[d.length," produits"]})]}),e.jsx(ut,{className:"w-5 h-5 text-teal-400"})]}),e.jsx("div",{className:"space-y-2",children:d.map(c=>e.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:c.name}),e.jsx("button",{onClick:p=>{p.stopPropagation(),m(c)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(he,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("span",{className:"text-sm text-white/60",children:c.quantity}),e.jsxs("span",{className:"text-xs text-white/40",children:["Exp. ",new Date(c.expiryDate).toLocaleDateString("fr-FR")]})]})]},c.id))})]},h))}),s&&i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le produit"}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(R,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du produit"}),e.jsx(I,{value:i.name,onChange:h=>l({...i,name:h.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),e.jsx(I,{value:i.quantity,onChange:h=>l({...i,quantity:h.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),e.jsx(I,{type:"date",value:i.expiryDate,onChange:h=>l({...i,expiryDate:h.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),e.jsxs("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[e.jsx(et,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const $d=[{id:"1",date:"2025-03-15",supplier:"Fournisseur A",products:[{name:"Huîtres Fines de Claire",quantity:"100kg",price:800},{name:"Huîtres Spéciales",quantity:"50kg",price:500}],totalAmount:1300,status:"completed"}];function Id(){const[t,a]=o.useState($d),[s,r]=o.useState(null),[i,l]=o.useState(!1),[n,x]=o.useState(null),m=h=>{x({...h}),l(!0)},b=()=>{if(n){const h=t.map(d=>d.id===n.id?n:d);a(h),l(!1),x(null)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>e.jsxs("div",{onClick:()=>r(h),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:h.supplier}),e.jsx("p",{className:"text-sm text-white/60",children:new Date(h.date).toLocaleDateString("fr-FR")})]}),e.jsx("button",{onClick:d=>{d.stopPropagation(),m(h)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(he,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[h.products.map((d,c)=>e.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:d.name}),e.jsx("span",{className:"text-sm text-white/60",children:d.quantity})]}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-teal-400",children:[d.price,"€"]})})]},c)),e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Total"}),e.jsxs("span",{className:"text-sm font-medium text-white",children:[h.totalAmount,"€"]})]})})]})]},h.id))}),i&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier l'achat"}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(R,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),e.jsx(I,{value:n.supplier,onChange:h=>x({...n,supplier:h.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),e.jsx(I,{type:"date",value:n.date,onChange:h=>x({...n,date:h.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),n.products.map((h,d)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-1",children:["Produit ",d+1]}),e.jsx(I,{value:h.name,onChange:c=>{const p=[...n.products];p[d]={...h,name:c.target.value},x({...n,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40 mb-2",placeholder:"Nom du produit"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(I,{value:h.quantity,onChange:c=>{const p=[...n.products];p[d]={...h,quantity:c.target.value},x({...n,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Quantité"}),e.jsx(I,{type:"number",value:h.price,onChange:c=>{const p=[...n.products];p[d]={...h,price:Number(c.target.value)},x({...n,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Prix"})]})]},d)),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),e.jsxs("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[e.jsx(et,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const ra=[{id:"1",type:"invoice",number:"FC-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",amount:"1,250.00 €",products:"Palourdes (150kg)",status:"validated"},{id:"2",type:"delivery_note",number:"BL-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",products:"Palourdes (150kg)",status:"validated",expiryDate:"2025-03-15"},{id:"3",type:"invoice",number:"FC-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",amount:"2,340.00 €",products:"Moules (200kg), Huîtres (50kg)",status:"validated"},{id:"4",type:"delivery_note",number:"BL-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",products:"Moules (200kg), Huîtres (50kg)",status:"validated",expiryDate:"2025-03-10"},{id:"5",type:"invoice",number:"FC-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",amount:"890.00 €",products:"Huîtres creuses (100kg)",status:"validated"},{id:"6",type:"delivery_note",number:"BL-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",products:"Huîtres creuses (100kg)",status:"validated",expiryDate:"2025-03-05"},{id:"7",type:"invoice",number:"FC-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",amount:"1,780.00 €",products:"Palourdes (100kg), Moules (80kg)",status:"validated"},{id:"8",type:"delivery_note",number:"BL-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",products:"Palourdes (100kg), Moules (80kg)",status:"validated",expiryDate:"2025-02-28"}];function Od(){const[t,a]=o.useState(""),[s,r]=o.useState("all"),[i,l]=o.useState({start:"",end:""}),[n,x]=o.useState(null),[m,b]=o.useState(!1),[h,d]=o.useState(null),c=y=>{x(y)},p=y=>{d({...y}),b(!0)},u=()=>{h&&(ra.map(y=>y.id===h.id?h:y),b(!1),d(null))},f=ra.filter(y=>{const w=y.number.toLowerCase().includes(t.toLowerCase())||y.supplier.toLowerCase().includes(t.toLowerCase())||y.products.toLowerCase().includes(t.toLowerCase()),M=s==="all"||y.type===s,v=(!i.start||y.date>=i.start)&&(!i.end||y.date<=i.end);return w&&M&&v}),j=y=>{switch(y){case"validated":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},z=y=>{switch(y){case"validated":return"Validé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return y}},S=y=>new Date(y).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(te,{className:"h-5 w-5 text-white/40"})}),e.jsx("input",{type:"text",placeholder:"Rechercher par numéro, fournisseur ou produits...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",value:t,onChange:y=>a(y.target.value)})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-48",children:e.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",value:s,onChange:y=>r(y.target.value),children:[e.jsx("option",{value:"all",children:"Tous les documents"}),e.jsx("option",{value:"invoice",children:"Factures"}),e.jsx("option",{value:"delivery_note",children:"Bons de livraison"})]})}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Se,{size:20,className:"mr-2"}),"Exporter"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:i.start,onChange:y=>l(w=>({...w,start:y.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:i.end,onChange:y=>l(w=>({...w,end:y.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Filtrer"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(y=>e.jsxs(_t,{onClick:()=>x(y),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:y.number}),e.jsx("p",{className:"text-sm text-white/60",children:y.supplier})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:w=>{w.stopPropagation(),c(y)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})}),e.jsx("button",{onClick:w=>{w.stopPropagation(),p(y)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(he,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Date"}),e.jsx("span",{className:"text-sm font-medium text-white",children:S(y.date)})]})}),e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Produits"}),e.jsx("span",{className:"text-sm font-medium text-white",children:y.products})]})}),y.type==="invoice"&&e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Montant"}),e.jsx("span",{className:"text-sm font-medium text-white",children:y.amount})]})}),e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),e.jsx("span",{className:`text-sm font-medium ${j(y.status)}`,children:z(y.status)})]})})]})]},y.id))}),m&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le document"}),e.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(R,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro"}),e.jsx(I,{value:h.number,onChange:y=>d({...h,number:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),e.jsx(I,{value:h.supplier,onChange:y=>d({...h,supplier:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),e.jsx(I,{type:"date",value:h.date,onChange:y=>d({...h,date:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),h.type==="invoice"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Montant"}),e.jsx(I,{type:"number",value:h.amount,onChange:y=>d({...h,amount:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),e.jsxs("select",{value:h.status,onChange:y=>d({...h,status:y.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",children:[e.jsx("option",{value:"validated",children:"Validé"}),e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"rejected",children:"Rejeté"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),e.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[e.jsx(et,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const Bd=[{id:"1",batchNumber:"LOT-2025-001",type:"movement",description:"Déplacement du lot",date:"2025-02-19T10:00:00",user:"Jean Dupont",details:{from:"Zone Nord - Table A1",to:"Zone Nord - Table A2"}},{id:"2",batchNumber:"LOT-2025-001",type:"treatment",description:"Traitement préventif",date:"2025-02-18T14:30:00",user:"Marie Martin",details:{treatment:"Nettoyage des poches"}}],Hd={movement:Ne,treatment:ze,quality_check:_e,alert:pe},gs={movement:"bg-emerald-400/20 text-emerald-300",treatment:"bg-emerald-500/20 text-emerald-300",quality_check:"bg-emerald-600/20 text-emerald-300",alert:"bg-emerald-700/20 text-emerald-300"};function Vd({searchQuery:t}){const a=Bd.filter(s=>s.batchNumber.toLowerCase().includes(t.toLowerCase())||s.description.toLowerCase().includes(t.toLowerCase()));return e.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-emerald-400/30",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des événements"})}),e.jsx("div",{className:"divide-y divide-white/10",children:a.map(s=>{const r=Hd[s.type];return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${gs[s.type].split(" ")[0]} flex items-center justify-center flex-shrink-0`,children:e.jsx(r,{size:20,className:gs[s.type].split(" ")[1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"text-lg font-medium text-white truncate",children:s.batchNumber}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${gs[s.type]}`,children:s.type==="movement"?"Déplacement":s.type==="treatment"?"Traitement":s.type==="quality_check"?"Contrôle qualité":"Alerte"})]}),e.jsx("p",{className:"text-white/70 mt-1",children:s.description}),s.details&&e.jsxs("div",{className:"mt-2 space-y-1",children:[s.details.from&&s.details.to&&e.jsxs("div",{className:"text-sm text-white/60",children:["De: ",s.details.from," → Vers: ",s.details.to]}),s.details.treatment&&e.jsxs("div",{className:"text-sm text-white/60",children:["Traitement: ",s.details.treatment]}),s.details.score&&e.jsxs("div",{className:"text-sm text-white/60",children:["Score qualité: ",s.details.score,"%"]}),s.details.issue&&e.jsxs("div",{className:"text-sm text-red-400",children:["Problème: ",s.details.issue]})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{size:16,className:"mr-1"}),L(new Date(s.date),"PPp",{locale:W})]}),e.jsx("div",{children:"•"}),e.jsxs("div",{children:["Par: ",s.user]})]})]})]})},s.id)})})]})}function Qd(){const[t,a]=o.useState(null),[s,r]=o.useState(!1),[i,l]=o.useState(null),[n,x]=o.useState([{id:"1",name:"Bassin A1",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.5,salinity:35.2,lastMaintenance:"2025-03-01",nextMaintenance:"2025-03-15",currentBatch:{id:"B1",name:"Huîtres Fines de Claire",quantity:"200kg",startDate:"2025-03-10",endDate:"2025-03-13"}},{id:"2",name:"Bassin A2",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.8,salinity:34.9,lastMaintenance:"2025-03-05",nextMaintenance:"2025-03-19",currentBatch:{id:"B2",name:"Huîtres Spéciales",quantity:"150kg",startDate:"2025-03-11",endDate:"2025-03-14"}},{id:"3",name:"Bassin B1",filterType:"UV + Mécanique",filterStatus:"maintenance",temperature:0,salinity:0,lastMaintenance:"2025-03-12",nextMaintenance:"2025-03-13"}]),m=c=>{l({...c}),r(!0)},b=()=>{if(i){const c=n.map(p=>p.id===i.id?i:p);x(c),r(!1),l(null)}},h=c=>{switch(c){case"active":return e.jsx(Ke,{className:"w-5 h-5 text-green-500"});case"inactive":return e.jsx(Na,{className:"w-5 h-5 text-red-500"});case"maintenance":return e.jsx(de,{className:"w-5 h-5 text-yellow-500"})}},d=c=>{switch(c){case"active":return"Actif";case"inactive":return"Inactif";case"maintenance":return"En maintenance"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(c=>e.jsxs(_t,{onClick:()=>a(c),className:"p-4 cursor-pointer hover:shadow-lg transition-shadow bg-white/5 backdrop-blur-sm border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:c.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h(c.filterStatus),e.jsx("span",{className:"text-sm text-white/60",children:d(c.filterStatus)})]})]}),e.jsx("button",{onClick:p=>{p.stopPropagation(),m(c)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(he,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[e.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Température"}),e.jsxs("div",{className:"font-medium text-white",children:[c.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[e.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Salinité"}),e.jsxs("div",{className:"font-medium text-white",children:[c.salinity,"g/L"]})]})]}),c.currentBatch&&e.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Lot en cours"}),e.jsx("div",{className:"font-medium text-white",children:c.currentBatch.name}),e.jsxs("div",{className:"text-sm text-white/60 mt-1",children:[c.currentBatch.quantity," • ",new Date(c.currentBatch.endDate).toLocaleDateString("fr-FR")]})]})]})]},c.id))}),s&&i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-lg p-6 max-w-md w-full border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le bassin"}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(R,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du bassin"}),e.jsx(I,{value:i.name,onChange:c=>l({...i,name:c.target.value}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type de filtration"}),e.jsx(I,{value:i.filterType,onChange:c=>l({...i,filterType:c.target.value}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),e.jsxs("select",{value:i.filterStatus,onChange:c=>l({...i,filterStatus:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Actif"}),e.jsx("option",{value:"inactive",children:"Inactif"}),e.jsx("option",{value:"maintenance",children:"En maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Température (°C)"}),e.jsx(I,{type:"number",step:"0.1",value:i.temperature,onChange:c=>l({...i,temperature:parseFloat(c.target.value)}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Salinité (g/L)"}),e.jsx(I,{type:"number",step:"0.1",value:i.salinity,onChange:c=>l({...i,salinity:parseFloat(c.target.value)}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Dernière maintenance"}),e.jsx(I,{type:"date",value:i.lastMaintenance,onChange:c=>l({...i,lastMaintenance:c.target.value}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Prochaine maintenance"}),e.jsx(I,{type:"date",value:i.nextMaintenance,onChange:c=>l({...i,nextMaintenance:c.target.value}),className:"mt-1"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Annuler"}),e.jsxs("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-md",children:[e.jsx(et,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})})]})}const Ud=({searchQuery:t=""})=>{const[a,s]=o.useState([{id:"1",batchNumber:"Lot HF-2025-001",type:"Huîtres Fines de Claire",quantity:"200",status:"purification",startDate:"2025-03-10",location:"Bassin A1",expiryDate:"2025-03-24",notes:"Lot en cours de purification"}]),[r,i]=o.useState(null),[l,n]=o.useState(!1),[x,m]=o.useState(null),b=p=>{m({...p}),n(!0)},h=()=>{if(x){const p=a.map(u=>u.id===x.id?x:u);s(p),n(!1),m(null)}},d=a.filter(p=>p.status==="table1"||p.status==="table2"||p.status==="table3").slice(0,4),c=p=>fr(new Date,new Date(p));return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(p=>e.jsxs(_t,{onClick:()=>i(p),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:p.batchNumber}),e.jsx("p",{className:"text-sm text-white/60",children:p.type})]}),e.jsx("button",{onClick:u=>{u.stopPropagation(),b(p)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(he,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Quantité"}),e.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity})]})}),e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Emplacement"}),e.jsx("span",{className:"text-sm font-medium text-white",children:p.location})]})}),e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Date d'expiration"}),e.jsx("span",{className:"text-sm font-medium text-white",children:new Date(p.expiryDate).toLocaleDateString("fr-FR")})]})}),e.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Temps en trempe"}),e.jsxs("span",{className:"text-sm font-medium text-white",children:[c(p.startDate),"h"]})]})})]})]},p.id))}),l&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le lot"}),e.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:e.jsx(R,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro du lot"}),e.jsx(I,{value:x.batchNumber,onChange:p=>m({...x,batchNumber:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type"}),e.jsx(I,{value:x.type,onChange:p=>m({...x,type:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),e.jsx(I,{value:x.quantity,onChange:p=>m({...x,quantity:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Emplacement"}),e.jsx(I,{value:x.location,onChange:p=>m({...x,location:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),e.jsx(I,{type:"date",value:x.expiryDate,onChange:p=>m({...x,expiryDate:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),e.jsxs("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[e.jsx(et,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})};function Wd({onClose:t,onScanSuccess:a}){const s=o.useRef(null),[r,i]=o.useState(null);o.useState(!1);const l=o.useRef(null);return o.useEffect(()=>{if(!s.current)return;const n=new wr(s.current,x=>{a(x.data),t()},{highlightScanRegion:!0,highlightCodeOutline:!0});return l.current=n,n.start().catch(x=>{i("Impossible d'accéder à la caméra. Vérifiez les permissions."),console.error(x)}),()=>{n.destroy()}},[a,t]),e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"rounded-xl p-6 w-full max-w-md relative backdrop-blur-sm border border-white/10",children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:e.jsx(R,{size:20})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Scanner un QR Code"}),e.jsx("div",{className:"relative",children:r?e.jsx("div",{className:"p-4 bg-red-500/20 text-red-400 rounded-lg",children:r}):e.jsxs(e.Fragment,{children:[e.jsx("video",{ref:s,className:"w-full aspect-square rounded-lg bg-black"}),e.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/50 rounded-lg pointer-events-none",children:e.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/20 rounded-lg animate-pulse"})})]})}),e.jsx("p",{className:"mt-4 text-sm text-white/60 text-center",children:"Placez le QR code dans le cadre pour le scanner automatiquement"})]})})}const Jd=({isOpen:t,onClose:a,onImportMail:s,onScanQR:r})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"rounded-xl p-6 w-full max-w-md relative backdrop-blur-sm border border-white/10",children:[e.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:e.jsx(R,{size:20})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Importer des Analyses"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-all cursor-pointer flex items-center gap-3",onClick:()=>{const i=document.createElement("input");i.type="file",i.accept=".eml,.msg",i.onchange=l=>{var x;const n=(x=l.target.files)==null?void 0:x[0];n&&s(n)},i.click()},children:[e.jsx(De,{className:"w-6 h-6 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:"Email du Laboratoire"}),e.jsx("p",{className:"text-sm text-white/60",children:"Importer directement depuis l'email"})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-all cursor-pointer flex items-center gap-3",onClick:r,children:[e.jsx(Tt,{className:"w-6 h-6 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:"Scanner QR Code"}),e.jsx("p",{className:"text-sm text-white/60",children:"Scanner le code depuis le rapport"})]})]})]})]})}):null,Gd=[{id:"A123",date:"2025-03-15",bassinId:"B001",laboratoire:"Labya",status:"conforme",technicien:"Jean Dupont",nextAnalyseDate:"2025-03-22",parameters:[{name:"pH",value:7.8,unit:"",threshold:8.5,status:"normal"},{name:"Température",value:12.5,unit:"°C",threshold:15,status:"normal"},{name:"Oxygène dissous",value:8.2,unit:"mg/L",threshold:7,status:"normal"},{name:"Salinité",value:33.5,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:2.8,unit:"NTU",threshold:5,status:"normal"},{name:"E. coli",value:45,unit:"UFC/100mL",threshold:230,status:"normal"}]},{id:"A124",date:"2025-03-15",bassinId:"B002",laboratoire:"Labya",status:"en-attente",technicien:"Marie Martin",parameters:[{name:"pH",value:8.3,unit:"",threshold:8.5,status:"warning"},{name:"Température",value:14.8,unit:"°C",threshold:15,status:"warning"},{name:"Oxygène dissous",value:6.8,unit:"mg/L",threshold:7,status:"warning"},{name:"Salinité",value:34.2,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:4.2,unit:"NTU",threshold:5,status:"warning"},{name:"E. coli",value:180,unit:"UFC/100mL",threshold:230,status:"warning"}]}],Yd=()=>{const[t,a]=o.useState(null),[s,r]=o.useState(!1),[i,l]=o.useState(!1),{data:n,isLoading:x}=Ts({queryKey:["analyses"],queryFn:async()=>(await new Promise(u=>setTimeout(u,1e3)),Gd)}),m=async u=>{console.log("Importing from email:",u),r(!1)},b=()=>{r(!1),l(!0)},h=u=>{try{const f=JSON.parse(atob(u.split("/").pop()||""));console.log("QR Code data:",f)}catch(f){console.error("Erreur lors du décodage du QR code:",f)}},d=async()=>{try{const u=new Ma;u.setFontSize(20),u.setTextColor(44,62,80),u.text("Rapport d'Analyses OYSTER CULT",15,20),u.setFontSize(12),u.setTextColor(100,100,100),u.text(`Généré le ${L(new Date,"d MMMM yyyy 'à' HH:mm",{locale:W})}`,15,30);const f=(n==null?void 0:n.map(j=>[L(new Date(j.date),"dd/MM/yyyy"),j.bassinId,j.status.charAt(0).toUpperCase()+j.status.slice(1),j.technicien||"-",L(new Date(j.nextAnalyseDate||""),"dd/MM/yyyy")]))||[];u.autoTable({startY:40,head:[["Date","Bassin","Statut","Technicien","Prochaine Analyse"]],body:f,theme:"striped",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10}}),n==null||n.forEach((j,z)=>{z>0&&u.addPage();const S=20;u.setFontSize(16),u.setTextColor(44,62,80),u.text(`Détails Analyse - Bassin ${j.bassinId}`,15,S),u.setFontSize(12),u.setTextColor(100,100,100),u.text(`Date: ${L(new Date(j.date),"d MMMM yyyy",{locale:W})}`,15,S+10),u.text(`Technicien: ${j.technicien||"-"}`,15,S+20),u.text(`Statut: ${j.status.charAt(0).toUpperCase()+j.status.slice(1)}`,15,S+30);const y=j.parameters.map(w=>[w.name,w.value.toString(),w.unit,w.threshold?w.threshold.toString():"-",w.status.charAt(0).toUpperCase()+w.status.slice(1)]);u.autoTable({startY:S+40,head:[["Paramètre","Valeur","Unité","Seuil","Statut"]],body:y,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10},columnStyles:{0:{cellWidth:40},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:30}}})}),u.save(`analyses_${L(new Date,"yyyy-MM-dd")}.pdf`)}catch(u){console.error("Erreur lors de l'export:",u)}},c=u=>{switch(u){case"conforme":return"bg-emerald-500/20 text-emerald-400";case"non-conforme":return"bg-red-500/20 text-red-400";default:return"bg-amber-500/20 text-amber-400"}},p=u=>{switch(u){case"normal":return"text-emerald-400";case"warning":return"text-amber-400";case"critical":return"text-red-400";default:return"text-white"}};return e.jsxs(g.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsx(Re,{icon:e.jsx(vr,{size:28,className:"text-white"}),title:"Analyses"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Résultats d'Analyses"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:[e.jsx(Me,{size:18}),"Importer Analyses"]}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(Se,{size:18}),"Exporter PDF"]})]})]}),e.jsx("div",{className:"grid gap-6",children:e.jsxs(g.div,{className:"rounded-lg p-6 bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)] backdrop-blur-[20px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-white/10 p-2 flex items-center justify-center",children:e.jsx("img",{src:"/labya-logo.png",alt:"Labya",className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Laboratoire Labya"}),e.jsx("p",{className:"text-sm text-white/60",children:"Partenaire officiel"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-white/60",children:"Dernière mise à jour"}),e.jsx("p",{className:"text-white",children:L(new Date,"d MMMM yyyy 'à' HH:mm",{locale:W})})]})]}),x?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):(n==null?void 0:n.length)===0?e.jsx("div",{className:"text-center py-8 text-white/60",children:e.jsx("p",{children:"Aucun résultat d'analyse disponible"})}):e.jsx("div",{className:"space-y-4",children:n==null?void 0:n.map(u=>e.jsxs("div",{className:`p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-all cursor-pointer ${t===u.id?"ring-1 ring-cyan-500/50":""}`,onClick:()=>a(u.id===t?null:u.id),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-white font-medium",children:["Bassin #",u.bassinId]}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${c(u.status)}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),e.jsxs("div",{className:"text-sm text-white/60 mt-1",children:[e.jsxs("p",{children:["Analysé le ",L(new Date(u.date),"d MMMM yyyy",{locale:W})]}),u.technicien&&e.jsxs("p",{children:["Par ",u.technicien]})]})]}),e.jsx("div",{className:"text-right",children:u.nextAnalyseDate&&e.jsxs("p",{className:"text-sm text-cyan-400",children:["Prochaine analyse : ",L(new Date(u.nextAnalyseDate),"d MMMM yyyy",{locale:W})]})})]}),e.jsx(U,{children:t===u.id&&e.jsx(g.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 grid grid-cols-3 gap-4 overflow-hidden",children:u.parameters.map((f,j)=>e.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm text-white/60",children:f.name}),e.jsx("div",{className:`h-2 w-2 rounded-full ${p(f.status)}`})]}),e.jsxs("div",{className:"flex items-end gap-1 mt-2",children:[e.jsx("span",{className:"text-lg font-medium text-white",children:f.value}),e.jsx("span",{className:"text-sm text-white/60",children:f.unit})]}),f.threshold&&e.jsxs("p",{className:"text-xs text-white/40 mt-1",children:["Seuil: ",f.threshold," ",f.unit]})]},j))})})]},u.id))})]})}),e.jsxs(U,{children:[s&&e.jsx(Jd,{isOpen:s,onClose:()=>r(!1),onImportMail:m,onScanQR:b}),i&&e.jsx(Wd,{onClose:()=>l(!1),onScanSuccess:h})]})]})},Xd=new Nr,Zd=new Ra("https://greedy-marmot-81.convex.cloud"),Y=({children:t})=>localStorage.getItem("isAuthenticated")==="true"?e.jsx(e.Fragment,{children:t}):e.jsx(Nt,{to:"/auth",replace:!0});function Kd(){const t=Le(),a=Xt(),[s,r]=o.useState(!1),[i,l]=o.useState(!1),[n,x]=o.useState(!1);o.useRef(null);const[m,b]=o.useState(!1);o.useEffect(()=>{const d=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;b(d),d&&document.body.classList.add("ios-device")},[]);const h=localStorage.getItem("isAuthenticated")==="true";return o.useEffect(()=>{!h&&!a.pathname.includes("/auth")&&t("/auth",{replace:!0})},[h,a.pathname,t]),a.pathname==="/auth"||!h&&a.pathname!=="/auth"?e.jsx("div",{className:"min-h-screen w-screen h-screen fixed inset-0 overflow-auto",children:e.jsxs(Ss,{children:[e.jsx(V,{path:"/auth",element:e.jsx(Er,{})}),e.jsx(V,{path:"*",element:e.jsx(Nt,{to:"/auth",replace:!0})})]})}):e.jsx("div",{className:"min-h-screen w-screen h-screen fixed inset-0 overflow-auto",children:h&&e.jsxs(e.Fragment,{children:[e.jsx(Dr,{onShowMobileMenu:()=>r(!0),onToggleNotifications:()=>l(!i),onShowEmergency:()=>x(!0),onEmergencyClick:()=>x(!0),onToggleMessages:()=>t("/network/messages")}),e.jsxs("div",{className:"flex min-h-screen h-full",children:[e.jsx(Fr,{showMobileMenu:s,onCloseMobileMenu:()=>r(!1),onEmergencyClick:()=>x(!0),onToggleMessages:()=>t("/network/messages"),onToggleNotifications:()=>l(!0)}),e.jsx("div",{className:`
              flex-1 pt-16 md:pt-16 
              pb-4 
              px-4 md:px-6 lg:px-8
              ml-0 lg:ml-[4.5rem] transition-all duration-300
              min-h-screen
            `,style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",willChange:"transform",transform:"translate3d(0,0,0)",position:"fixed",inset:"0",width:"100%",height:"100%",overflow:"auto"},children:e.jsx("main",{className:"flex-1 p-6 overflow-x-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(U,{mode:"wait",children:e.jsxs(Ss,{location:a,children:[e.jsx(V,{path:"/",element:h?e.jsx(Nt,{to:"/dashboard",replace:!0}):e.jsx(Nt,{to:"/auth",replace:!0})}),e.jsx(V,{path:"/dashboard",element:e.jsx(Y,{children:e.jsx(Kr,{})})}),e.jsx(V,{path:"/stocks",element:e.jsx(Y,{children:e.jsx(Nl,{})})}),e.jsx(V,{path:"/stock/:id",element:e.jsx(Y,{children:e.jsx(Ml,{})})}),e.jsx(V,{path:"/tables/:id",element:e.jsx(Y,{children:e.jsx(sa,{})})}),e.jsx(V,{path:"/accounting",element:e.jsx(Y,{children:e.jsx(ql,{})})}),e.jsx(V,{path:"/invoices",element:e.jsx(Y,{children:e.jsx(Ol,{})})}),e.jsx(V,{path:"/hr",element:e.jsx(Y,{children:e.jsx(en,{})})}),e.jsx(V,{path:"/network",element:e.jsx(Y,{children:e.jsx(wn,{})})}),e.jsx(V,{path:"/network/messages",element:e.jsx(Y,{children:e.jsx(Rd,{})})}),e.jsx(V,{path:"/config",element:e.jsx(Y,{children:e.jsx(Rn,{})})}),e.jsx(V,{path:"/notifications",element:e.jsx(Y,{children:e.jsx(Qn,{})})}),e.jsx(V,{path:"/tasks",element:e.jsx(Y,{children:e.jsx(sd,{})})}),e.jsx(V,{path:"/tables/:id",element:e.jsx(Y,{children:e.jsx(sa,{})})}),e.jsx(V,{path:"/traceability",element:e.jsx(Y,{children:e.jsx(ad,{})})}),e.jsx(V,{path:"/traceability/batches",element:e.jsx(Y,{children:e.jsx(Ud,{})})}),e.jsx(V,{path:"/traceability/history",element:e.jsx(Y,{children:e.jsx(Vd,{searchQuery:""})})}),e.jsx(V,{path:"/traceability/storage",element:e.jsx(Y,{children:e.jsx(Ed,{})})}),e.jsx(V,{path:"/traceability/purchases",element:e.jsx(Y,{children:e.jsx(Id,{})})}),e.jsx(V,{path:"/traceability/documents",element:e.jsx(Y,{children:e.jsx(Od,{})})}),e.jsx(V,{path:"/traceability/pools",element:e.jsx(Y,{children:e.jsx(Qd,{})})}),e.jsx(V,{path:"/sales",element:e.jsx(Y,{children:e.jsx(dd,{})})}),e.jsx(V,{path:"/purchases",element:e.jsx(Y,{children:e.jsx(xd,{})})}),e.jsx(V,{path:"/profile",element:e.jsx(Y,{children:e.jsx(wd,{})})}),e.jsx(V,{path:"/shop",element:e.jsx(Y,{children:e.jsx(vd,{})})}),e.jsx(V,{path:"/suppliers",element:e.jsx(Y,{children:e.jsx(Sd,{})})}),e.jsx(V,{path:"/suppliers/catalog",element:e.jsx(Y,{children:e.jsx(Dd,{})})}),e.jsx(V,{path:"/suppliers/orders",element:e.jsx(Y,{children:e.jsx(Td,{})})}),e.jsx(V,{path:"/digitalvault",element:e.jsx(Y,{children:e.jsx(qd,{})})}),e.jsx(V,{path:"/analyses",element:e.jsx(Y,{children:e.jsx(Yd,{})})}),e.jsx(V,{path:"*",element:e.jsx(Nt,{to:"/dashboard",replace:!0})})]},a.pathname)})})})})]}),e.jsx(U,{children:i&&e.jsx(_r,{onClose:()=>l(!1)})}),n&&e.jsx(Lr,{isOpen:n,onClose:()=>x(!1)}),e.jsx(qr,{})]})})}function ec(){return e.jsx(Ea,{client:Zd,children:e.jsx(yr,{client:Xd,children:e.jsxs(kr,{children:[e.jsx(Ss,{children:e.jsx(V,{path:"/*",element:e.jsx(Kd,{})})}),e.jsx(Cr,{position:"bottom-right"})]})})})}const tc=new Ra("https://greedy-marmot-81.convex.cloud"),ai=document.getElementById("root");if(!ai)throw new Error("Root element not found");Sr(ai).render(e.jsx(o.StrictMode,{children:e.jsx(Ea,{client:tc,children:e.jsx(ec,{})})}));
