const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-DfhAZ7Cg.js","assets/js/vendor-MCOUDQ2O.js","assets/js/browser-D5T-muA2.js"])))=>i.map(i=>d[i]);
var II=Object.defineProperty;var DI=(t,e,r)=>e in t?II(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $j=(t,e,r)=>DI(t,typeof e!="symbol"?e+"":e,r);import{r as gC,a as k,g as lr,R as ne,u as ha,b as b0,j as a,m as we,C as Of,A as sr,L as zj,P as Hi,c as Uj,X as yt,d as hg,e as MI,S as Dr,f as tn,T as ac,G as Ld,h as sd,i as y0,D as Pf,k as vC,l as LI,U as ki,n as qm,o as Rd,I as kf,p as fn,q as qn,s as Fd,t as ei,M as Vb,v as Wi,w as ri,x as RI,y as xi,W as FI,z as bC,B as oa,E as Qn,F as el,N as lo,H as ui,J as Gb,K as Pm,O as km,Q as zn,V as Hm,Y as Xb,Z as yC,_ as kc,$ as Bd,a0 as An,a1 as BI,a2 as wC,a3 as jn,a4 as $I,a5 as qj,a6 as zI,a7 as UI,a8 as qI,a9 as HI,aa as yw,ab as Mt,ac as pi,ad as Yb,ae as Hj,af as fg,ag as WI,ah as jC,ai as VI,aj as Tf,ak as bl,al as pg,am as ww,an as Kb,ao as GI,ap as XI,aq as Tm,ar as YI,as as Ls,at as KI,au as NC,av as JI,aw as Ju,ax as Im,ay as ks,az as mo,aA as Wj,aB as Vj,aC as Tc,aD as Gj,aE as _C,aF as SC,aG as QI,aH as ZI,aI as w0,aJ as is,aK as mg,aL as jw,aM as Jb,aN as AC,aO as CC,aP as Ta,aQ as eD,aR as Ic,aS as EC,aT as zs,aU as tD,aV as rD,aW as OC,aX as nD,aY as PC,aZ as Nw,a_ as hf,a$ as xg,b0 as iD,b1 as aD,b2 as sD,b3 as $d,b4 as Dm,b5 as qi,b6 as gg,b7 as kC,b8 as oD,b9 as lD,ba as cD,bb as Xj,bc as uD,bd as j0,be as _w,bf as dD,bg as hD,bh as fD,bi as pD,bj as mD,bk as xD,bl as TC,bm as Yj,bn as Kj,bo as gD,bp as IC,bq as vD,br as DC,bs as bD,bt as yD,bu as wD,bv as Rt,bw as vv,bx as jD}from"./vendor-MCOUDQ2O.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var MC,Jj=gC;MC=Jj.createRoot,Jj.hydrateRoot;let ND={data:""},_D=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ND,SD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AD=/\/\*[^]*?\*\/|  +/g,Qj=/\n+/g,ol=(t,e)=>{let r="",n="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?ol(o,s):s+"{"+ol(o,s[1]=="k"?"":e)+"}":typeof o=="object"?n+=ol(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ol.p?ol.p(s,o):s+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},no={},LC=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+LC(t[r]);return e}return t},CD=(t,e,r,n,i)=>{let s=LC(t),o=no[s]||(no[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!no[o]){let c=s!==t?t:(u=>{let d,h,f=[{}];for(;d=SD.exec(u.replace(AD,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Qj," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Qj," ").trim();return f[0]})(t);no[o]=ol(i?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&no.g?no.g:null;return r&&(no.g=no[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(no[o],e,n,l),o},ED=(t,e,r)=>t.reduce((n,i,s)=>{let o=e[s];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ol(l,""):l===!1?"":l}return n+i+(o??"")},"");function vg(t){let e=this||{},r=t.call?t(e.p):t;return CD(r.unshift?r.raw?ED(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,_D(e.target),e.g,e.o,e.k)}let RC,Qb,Zb;vg.bind({g:1});let yo=vg.bind({k:1});function OD(t,e,r,n){ol.p=e,RC=t,Qb=r,Zb=n}function Nl(t,e){let r=this||{};return function(){let n=arguments;function i(s,o){let l=Object.assign({},s),c=l.className||i.className;r.p=Object.assign({theme:Qb&&Qb()},l),r.o=/ *go\d+/.test(c),l.className=vg.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Zb&&u[0]&&Zb(l),RC(u,l)}return i}}var PD=t=>typeof t=="function",Wm=(t,e)=>PD(t)?t(e):t,kD=(()=>{let t=0;return()=>(++t).toString()})(),FC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),TD=20,BC=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,TD)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return BC(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Mm=[],sc={toasts:[],pausedAt:void 0},Dc=t=>{sc=BC(sc,t),Mm.forEach(e=>{e(sc)})},ID={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DD=(t={})=>{let[e,r]=k.useState(sc),n=k.useRef(sc);k.useEffect(()=>(n.current!==sc&&r(sc),Mm.push(r),()=>{let s=Mm.indexOf(r);s>-1&&Mm.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||ID[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:i}},MD=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||kD()}),N0=t=>(e,r)=>{let n=MD(e,t,r);return Dc({type:2,toast:n}),n.id},Ci=(t,e)=>N0("blank")(t,e);Ci.error=N0("error");Ci.success=N0("success");Ci.loading=N0("loading");Ci.custom=N0("custom");Ci.dismiss=t=>{Dc({type:3,toastId:t})};Ci.remove=t=>Dc({type:4,toastId:t});Ci.promise=(t,e,r)=>{let n=Ci.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Wm(e.success,i):void 0;return s?Ci.success(s,{id:n,...r,...r==null?void 0:r.success}):Ci.dismiss(n),i}).catch(i=>{let s=e.error?Wm(e.error,i):void 0;s?Ci.error(s,{id:n,...r,...r==null?void 0:r.error}):Ci.dismiss(n)}),t};var LD=(t,e)=>{Dc({type:1,toast:{id:t,height:e}})},RD=()=>{Dc({type:5,time:Date.now()})},ff=new Map,FD=1e3,BD=(t,e=FD)=>{if(ff.has(t))return;let r=setTimeout(()=>{ff.delete(t),Dc({type:4,toastId:t})},e);ff.set(t,r)},$D=t=>{let{toasts:e,pausedAt:r}=DD(t);k.useEffect(()=>{if(r)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&Ci.dismiss(l.id);return}return setTimeout(()=>Ci.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=k.useCallback(()=>{r&&Dc({type:6,time:Date.now()})},[r]),i=k.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),h=d.findIndex(p=>p.id===s.id),f=d.filter((p,m)=>m<h&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[f+1]:[0,f]).reduce((p,m)=>p+(m.height||0)+c,0)},[e]);return k.useEffect(()=>{e.forEach(s=>{if(s.dismissed)BD(s.id,s.removeDelay);else{let o=ff.get(s.id);o&&(clearTimeout(o),ff.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:LD,startPause:RD,endPause:n,calculateOffset:i}}},zD=yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,UD=yo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qD=yo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,HD=Nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${UD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,WD=yo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,VD=Nl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${WD} 1s linear infinite;
`,GD=yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,XD=yo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,YD=Nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${XD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,KD=Nl("div")`
  position: absolute;
`,JD=Nl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,QD=yo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZD=Nl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${QD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,e7=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?k.createElement(ZD,null,e):e:r==="blank"?null:k.createElement(JD,null,k.createElement(VD,{...n}),r!=="loading"&&k.createElement(KD,null,r==="error"?k.createElement(HD,{...n}):k.createElement(YD,{...n})))},t7=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,r7=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,n7="0%{opacity:0;} 100%{opacity:1;}",i7="0%{opacity:1;} 100%{opacity:0;}",a7=Nl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,s7=Nl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,o7=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=FC()?[n7,i7]:[t7(r),r7(r)];return{animation:e?`${yo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},l7=k.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?o7(t.position||e||"top-center",t.visible):{opacity:0},s=k.createElement(e7,{toast:t}),o=k.createElement(s7,{...t.ariaProps},Wm(t.message,t));return k.createElement(a7,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:o}):k.createElement(k.Fragment,null,s,o))});OD(k.createElement);var c7=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=k.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return k.createElement("div",{ref:s,className:e,style:r},i)},u7=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:FC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},d7=vg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bp=16,h7=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=$D(r);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Bp,left:Bp,right:Bp,bottom:Bp,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),f=u7(d,h);return k.createElement(c7,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?d7:"",style:f},u.type==="custom"?Wm(u.message,u):i?i(u):k.createElement(l7,{toast:u,position:d}))}))},Ru=Ci;const f7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},Zj=t=>{let e;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(m=>m(e,p))}},i=()=>e,c={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(f7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,i,c);return c},p7=t=>t?Zj(t):Zj;var $C={exports:{}},zC={},UC={exports:{}},qC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od=k;function m7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var x7=typeof Object.is=="function"?Object.is:m7,g7=od.useState,v7=od.useEffect,b7=od.useLayoutEffect,y7=od.useDebugValue;function w7(t,e){var r=e(),n=g7({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return b7(function(){i.value=r,i.getSnapshot=e,bv(i)&&s({inst:i})},[t,r,e]),v7(function(){return bv(i)&&s({inst:i}),t(function(){bv(i)&&s({inst:i})})},[t]),y7(r),r}function bv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!x7(t,r)}catch{return!0}}function j7(t,e){return e()}var N7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j7:w7;qC.useSyncExternalStore=od.useSyncExternalStore!==void 0?od.useSyncExternalStore:N7;UC.exports=qC;var _7=UC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=k,S7=_7;function A7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var C7=typeof Object.is=="function"?Object.is:A7,E7=S7.useSyncExternalStore,O7=bg.useRef,P7=bg.useEffect,k7=bg.useMemo,T7=bg.useDebugValue;zC.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=O7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=k7(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,C7(d,p))return m;var x=n(p);return i!==void 0&&i(m,x)?(d=p,m):(d=p,h=x)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,n,i]);var l=E7(t,s[0],s[1]);return P7(function(){o.hasValue=!0,o.value=l},[l]),T7(l),l};$C.exports=zC;var I7=$C.exports;const D7=lr(I7),HC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},{useDebugValue:M7}=ne,{useSyncExternalStoreWithSelector:L7}=D7;let eN=!1;const R7=t=>t;function F7(t,e=R7,r){(HC?"production":void 0)!=="production"&&r&&!eN&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),eN=!0);const n=L7(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return M7(n),n}const B7=t=>{(HC?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?p7(t):t,r=(n,i)=>F7(e,n,i);return Object.assign(r,e),r},$7=t=>B7,z7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"};function U7(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=r.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const If=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return If(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return If(n)(r)}}}},q7=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,b)=>({...b,...g}),...e},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...g)},n,i);const d=If(s.serialize),h=()=>{const g=s.partialize({...n()});let b;const y=d({state:g,version:s.version}).then(w=>u.setItem(s.name,w)).catch(w=>{b=w});if(b)throw b;return y},f=i.setState;i.setState=(g,b)=>{f(g,b),h()};const p=t((...g)=>{r(...g),h()},n,i);let m;const x=()=>{var g;if(!u)return;o=!1,l.forEach(y=>y(n()));const b=((g=s.onRehydrateStorage)==null?void 0:g.call(s,n()))||void 0;return If(u.getItem.bind(u))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return m=s.merge(y,(w=n())!=null?w:p),r(m,!0),h()}).then(()=>{b==null||b(m,void 0),o=!0,c.forEach(y=>y(m))}).catch(y=>{b==null||b(void 0,y)})};return i.persist={setOptions:g=>{s={...s,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},x(),m||p},H7=(t,e)=>(r,n,i)=>{let s={storage:U7(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...e},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,i);const d=()=>{const x=s.partialize({...n()});return u.setItem(s.name,{state:x,version:s.version})},h=i.setState;i.setState=(x,g)=>{h(x,g),d()};const f=t((...x)=>{r(...x),d()},n,i);i.getInitialState=()=>f;let p;const m=()=>{var x,g;if(!u)return;o=!1,l.forEach(y=>{var w;return y((w=n())!=null?w:f)});const b=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(x=n())!=null?x:f))||void 0;return If(u.getItem.bind(u))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[j,_]=y;if(p=s.merge(_,(w=n())!=null?w:f),r(p,!0),j)return d()}).then(()=>{b==null||b(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{b==null||b(void 0,y)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},s.skipHydration||m(),p||f},W7=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((z7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),q7(t,e)):H7(t,e),V7=W7,Ia=$7()(V7(t=>({session:null,sidebarCollapsed:!1,tasks:[],notifications:[{id:"1",type:"success",title:"Tâche complétée",message:"La maintenance du système de filtration a été effectuée avec succès.",timestamp:new Date(new Date().getTime()-35*6e4).toISOString(),read:!1,important:!0,category:"task",metadata:{taskId:"task-123"}},{id:"2",type:"info",title:"Employé arrivé",message:"Michel Dupont est arrivé sur le site de production à 8:15.",timestamp:new Date(new Date().getTime()-120*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"3",type:"warning",title:"Tâche en cours",message:"Le nettoyage des bassins est en cours depuis plus de 3 heures.",timestamp:new Date(new Date().getTime()-180*6e4).toISOString(),read:!1,important:!0,category:"task"},{id:"4",type:"alert",title:"Attention requise",message:"Niveau d'oxygène bas dans le bassin 3. Vérification requise.",timestamp:new Date(new Date().getTime()-15*6e4).toISOString(),read:!1,important:!0,category:"quality"},{id:"5",type:"success",title:"Livraison reçue",message:"La livraison de nourriture spéciale a été reçue et enregistrée.",timestamp:new Date(new Date().getTime()-240*6e4).toISOString(),read:!0,important:!1,category:"inventory"},{id:"6",type:"info",title:"Équipe de contrôle arrivée",message:"L'équipe de contrôle qualité est arrivée pour l'inspection mensuelle.",timestamp:new Date(new Date().getTime()-90*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"7",type:"success",title:"Mise à jour système",message:"La mise à jour du système de surveillance a été installée avec succès.",timestamp:new Date(new Date().getTime()-320*6e4).toISOString(),read:!0,important:!1,category:"system"},{id:"8",type:"warning",title:"Tâche en retard",message:"Le rapport hebdomadaire de production n'a pas encore été soumis.",timestamp:new Date(new Date().getTime()-420*6e4).toISOString(),read:!1,important:!0,category:"task"}],unreadCount:6,theme:"dark",batches:[{id:"1",batchNumber:"LOT-TEST-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date().toISOString()}],companyInfo:null,users:[],roles:[{id:"1",name:"Administrateur",description:"Gestion complète de l'application"},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches"},{id:"3",name:"Opérateur",description:"Gestion des lots et des tâches quotidiennes"}],suppliers:[],purchases:[],setSession:e=>t({session:e}),setSidebarCollapsed:e=>t({sidebarCollapsed:e}),addNotification:e=>t(r=>{const n={...e,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};return{notifications:[...r.notifications,n],unreadCount:r.unreadCount+1}}),markAsRead:e=>t(r=>({notifications:r.notifications.map(n=>n.id===e?{...n,read:!0}:n),unreadCount:r.unreadCount-1})),markAllAsRead:()=>t(e=>({notifications:e.notifications.map(r=>({...r,read:!0})),unreadCount:0})),setTheme:e=>t({theme:e}),toggleTheme:()=>t(e=>({theme:e.theme==="dark"?"light":"dark"})),addBatch:e=>t(r=>({batches:[...r.batches,{...e,id:crypto.randomUUID()}]})),updateBatch:e=>t(r=>({batches:r.batches.map(n=>n.id===e.id?e:n)})),deleteBatch:e=>t(r=>({batches:r.batches.filter(n=>n.id!==e)})),setCompanyInfo:e=>t({companyInfo:e}),addUser:e=>t(r=>({users:[...r.users,{...e,id:crypto.randomUUID()}]})),updateUser:(e,r)=>t(n=>({users:n.users.map(i=>i.id===e?{...i,...r}:i)})),deleteUser:e=>t(r=>({users:r.users.filter(n=>n.id!==e)})),addRole:e=>t(r=>({roles:[...r.roles,{...e,id:crypto.randomUUID()}]})),updateRole:(e,r)=>t(n=>({roles:n.roles.map(i=>i.id===e?{...i,...r}:i)})),deleteRole:e=>t(r=>({roles:r.roles.filter(n=>n.id!==e)})),addSupplier:e=>t(r=>({suppliers:[...r.suppliers,{...e,id:crypto.randomUUID()}]})),updateSupplier:(e,r)=>t(n=>({suppliers:n.suppliers.map(i=>i.id===e?{...i,...r}:i)})),deleteSupplier:e=>t(r=>({suppliers:r.suppliers.filter(n=>n.id!==e)})),addPurchase:e=>t(r=>({purchases:[...r.purchases,{...e,id:crypto.randomUUID()}]})),updatePurchase:(e,r)=>t(n=>({purchases:n.purchases.map(i=>i.id===e?{...i,...r}:i)})),deletePurchase:e=>t(r=>({purchases:r.purchases.filter(n=>n.id!==e)})),resetSession:()=>t({session:null})}),{name:"oyster-cult-storage",partialize:t=>({companyInfo:t.companyInfo,users:t.users,batches:t.batches,theme:t.theme,roles:t.roles,suppliers:t.suppliers,purchases:t.purchases})})),G7=({onShowMobileMenu:t,onToggleNotifications:e,onShowEmergency:r,onEmergencyClick:n,onToggleMessages:i,unreadMessagesCount:s=0})=>{const{unreadCount:o}=Ia(),l=ha(),c=b0(),[u,d]=k.useState("/dashboard");k.useEffect(()=>{c.pathname!=="/profile"&&d(c.pathname)},[c.pathname]);const h=()=>{c.pathname!=="/dashboard"&&l("/dashboard")},f=()=>{c.pathname==="/profile"?l(u):l("/profile")};return a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 hidden md:block",children:a.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 md:px-6 lg:px-8 w-full transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.1) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",height:"97px"},children:[a.jsxs("div",{className:"flex items-center h-full",children:[a.jsxs("button",{className:`
              inline-flex items-center justify-center font-medium rounded-lg transition-colors
              text-white/60 hover:text-white hover:bg-white/10
              p-2.5 relative group
              will-change-transform
            `,onClick:t,style:{transform:"translate3d(0,0,0)"},"aria-label":"Ouvrir le menu",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("div",{style:{width:"24px",height:"24px"},className:"relative flex flex-col justify-center gap-2",children:[a.jsx("div",{className:"h-0.5 w-6 bg-current rounded-full"}),a.jsx("div",{className:"h-0.5 w-6 bg-current rounded-full"}),a.jsx("div",{className:"h-0.5 w-6 bg-current rounded-full"})]})]}),a.jsx("div",{className:"h-full w-px bg-gradient-to-b from-transparent via-white/10 to-transparent ml-2 hidden md:block",style:{transform:"translate3d(0,0,0)",height:"calc(100% - 16px)",marginTop:"8px",willChange:"transform"}})]}),a.jsx(we.div,{className:"cursor-pointer hidden sm:block",style:{textAlign:"center"},onClick:h,initial:!1,children:a.jsx(we.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:a.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[a.jsx(we.div,{className:"flex items-center justify-center relative mx-8",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:a.jsx("div",{className:"flex flex-col items-center relative",children:a.jsx("div",{style:{width:"4.5rem",height:"4rem",transform:"translateX(2px)"},className:"relative flex items-center justify-center"})})}),a.jsx(we.span,{className:"text-[4rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap"},children:"OYSTER"}),a.jsx(we.span,{className:"text-[4rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"1rem",whiteSpace:"nowrap"},children:"CULT"})]})})}),a.jsx(we.div,{className:"absolute left-1/2 cursor-pointer sm:hidden",style:{transform:"translate3d(-50%, 2px, 0)"},onClick:h,initial:!1,children:a.jsx(we.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:a.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[a.jsx(we.div,{className:"flex items-center justify-center relative mx-2",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:a.jsx("div",{className:"flex flex-col items-center relative",children:a.jsx("div",{style:{width:"2.5rem",height:"2.5rem",transform:"translateX(1px)"},className:"relative flex items-center justify-center",children:a.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[a.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})})}),a.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[a.jsx(we.span,{className:"text-[2rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",lineHeight:"1"},children:"OYSTER"}),a.jsx(we.span,{className:"text-[2rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",lineHeight:"1"},children:"CULT"})]})]})})}),a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:f,"aria-label":c.pathname==="/profile"?"Retour à la page précédente":"Mon espace",style:{transform:"translate3d(0,0,0)"},children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx(Of,{size:26,className:c.pathname==="/profile"?"text-cyan-400":"text-white"})]}),a.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:i,"aria-label":"Afficher les messages",style:{transform:"translate3d(0,0,0)"},children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-messages-square",children:[a.jsx("path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z"}),a.jsx("path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"})]}),s>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-xs font-bold text-white shadow-[0_0_15px_rgba(0,210,255,0.5),0_0_5px_rgba(0,0,0,0.3)_inset] min-w-[20px] min-h-[20px]",children:s})]}),a.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:e,"aria-label":"Afficher les notifications",style:{transform:"translate3d(0,0,0)"},children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-bell",children:[a.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),a.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),o>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-cyan-500 text-xs font-bold text-white shadow-[0_0_10px_rgba(0,210,255,0.5)]",children:o})]})]})})]})})},X7={Principal:{color:"from-blue-500/30 to-blue-600/10",textColor:"text-blue-300"},"Gestion des stocks":{color:"from-green-500/30 to-green-600/10",textColor:"text-green-300"},Commercial:{color:"from-purple-500/30 to-purple-600/10",textColor:"text-purple-300"},Administration:{color:"from-amber-500/30 to-amber-600/10",textColor:"text-amber-300"},Surveillance:{color:"from-red-500/30 to-red-600/10",textColor:"text-red-300"}},tN=[{category:"Principal",items:[{path:"/dashboard",label:"Tableau de bord",icon:a.jsx(hg,{size:22})},{path:"/tasks",label:"Tâches",icon:a.jsx(MI,{size:22})},{path:"/analyses",label:"Analyses",icon:a.jsx(Dr,{size:22}),highlight:!0,color:"#0d9488"}]},{category:"Gestion des stocks",items:[{path:"/stocks",label:"Stocks",icon:a.jsx(tn,{size:22}),notifications:1},{path:"/traceability",label:"Traçabilité",icon:a.jsx(ac,{size:22})}]},{category:"Commercial",items:[{path:"/network",label:"Entre Pro",icon:a.jsx(Ld,{size:22})},{path:"/suppliers",label:"Fournisseurs",icon:a.jsx(sd,{size:22})},{path:"/purchases",label:"Commandes",icon:a.jsx(y0,{size:22}),color:"#3b82f6"},{path:"/sales",label:"Ventes",icon:a.jsx(Pf,{size:22})},{path:"/shop",label:"Boutique",icon:a.jsx(vC,{size:22})}]},{category:"Administration",items:[{path:"/accounting",label:"Comptabilité",icon:a.jsx(LI,{size:22}),notifications:2,color:"rgb(160, 38, 72)"},{path:"/hr",label:"Gestion RH",icon:a.jsx(ki,{size:22}),notifications:2,color:"rgb(160, 38, 72)"},{path:"/digital-vault",label:"Coffre fort numérique",icon:a.jsx(qm,{size:22}),color:"rgb(56, 189, 248)"}]},{category:"Surveillance",items:[{path:"/surveillance",label:"Surveillance",icon:a.jsx(Rd,{size:22}),ariaLabel:"Accéder à la surveillance vidéo"}]}];function Y7({showMobileMenu:t,onCloseMobileMenu:e,onEmergencyClick:r,onToggleMessages:n,onToggleNotifications:i}){const s=b0(),o=ha(),{setSession:l}=Ia(),[c,u]=k.useState(!1),[d,h]=k.useState(null),[f,p]=k.useState(null),[m,x]=k.useState(!1),[g,b]=k.useState(window.innerWidth<1024),[y,w]=k.useState(!0);k.useEffect(()=>{const B=setTimeout(()=>{w(!1)},300);return()=>clearTimeout(B)},[]),k.useEffect(()=>{const B=window.innerWidth;B>=1024&&B<=1690&&u(!0)},[s.pathname]),k.useEffect(()=>{const B=()=>{const T=window.innerWidth<1024;b(T),g&&!T&&(u(!1),x(!1),t&&e());const E=window.innerWidth;E>=1024&&E<=1690&&u(!0)};return window.addEventListener("resize",B),B(),()=>window.removeEventListener("resize",B)},[g,t,e]);const j=()=>{l(null),o("/auth")},_=()=>{x(!0),u(!c),setTimeout(()=>x(!1),300)},S={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:B=>({opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{delay:B*.03+.1,duration:.3,type:"spring",stiffness:300,damping:25}})},A={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:{opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{opacity:{duration:.3},x:{duration:.2,type:"spring",stiffness:300}}},exit:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap",transition:{opacity:{duration:.2},x:{duration:.2}}}},O={expanded:{width:"260px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"90px",transition:{type:"spring",stiffness:300,damping:30}},mobileHidden:{transform:"translateX(-100%)",transition:{type:"spring",stiffness:400,damping:30}},mobileVisible:{transform:"translateX(0)",width:"85vw",maxWidth:"300px",transition:{type:"spring",stiffness:400,damping:30}}},M={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1,duration:.2}}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`
          fixed inset-0 z-40 backdrop-blur-sm bg-black/50 lg:hidden
          ${t?"opacity-100":"opacity-0 pointer-events-none"}
          transition-opacity duration-300
        `,onClick:e}),a.jsx(we.div,{className:`
          fixed inset-y-0 left-0 z-50 overflow-x-hidden
          transition-all duration-300 ease-in-out rounded-tr-3xl rounded-br-3xl
          ${g?"hidden lg:block":""}
          sidebar-auto-collapse
        `,initial:!y,animate:c?"collapsed":"expanded",variants:O,transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs(we.div,{className:"p-6 flex items-center justify-between border-b border-white/10 relative overflow-hidden",initial:{opacity:0,transform:"translateY(-10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent opacity-50"}),a.jsx(sr,{mode:"wait",children:c?a.jsx(we.div,{className:"flex items-center justify-center w-full py-2 relative z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"collapsed-logo"):a.jsx(we.div,{className:"flex items-center justify-between px-4 py-2 relative z-10 w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"relative z-10"})})},"expanded-logo")}),a.jsx("div",{className:`flex justify-center ${c?"w-full":""}`,children:a.jsx(we.button,{onClick:_,className:`
                  rounded-lg hidden lg:flex items-center justify-center transition-all duration-300 relative z-10
                  p-2.5 bg-white/15 hover:bg-white/25 border border-white/20
                `,whileHover:{scale:1.1},whileTap:{scale:.95},disabled:m||g,"aria-label":c?"Déplier la barre latérale":"Replier la barre latérale",style:{display:g?"none":""},children:a.jsx("div",{className:"flex items-center",children:c?a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:a.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:a.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})})]}),a.jsx("nav",{className:"flex-1 space-y-2 md:space-y-4 p-3 md:p-4 overflow-y-auto custom-scrollbar",children:tN.map((B,T)=>{const E=X7[B.category];return a.jsxs(we.div,{className:"mb-8",initial:{opacity:0,transform:"translateY(20px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1+T*.05},onMouseEnter:()=>h(B.category),onMouseLeave:()=>h(null),children:[a.jsx(sr,{children:!c&&a.jsxs(we.div,{className:"px-4 mb-3 relative rounded-lg overflow-hidden",initial:y?{opacity:1,x:0}:"hidden",animate:"visible",exit:"exit",variants:A,whileHover:{scale:1.02},children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${E.color} opacity-0 rounded-lg ${d===B.category?"opacity-30":""} transition-opacity duration-300`}),a.jsx("p",{className:`text-xs font-medium ${E.textColor} uppercase tracking-wider relative z-10 whitespace-nowrap`,children:B.category})]})}),a.jsx("div",{className:"space-y-2",children:B.items.map((R,F)=>{const W=s.pathname===R.path,$=R.color||(E.textColor.includes("blue")?"#3b82f6":E.textColor.includes("green")?"#10b981":E.textColor.includes("purple")?"#8b5cf6":E.textColor.includes("amber")?"#f59e0b":"#06b6d4");return a.jsx(we.div,{custom:F,variants:S,initial:y?{opacity:1,x:0}:"hidden",animate:"visible",whileHover:{scale:1.03,transition:{duration:.2}},onMouseEnter:()=>p(R.path),onMouseLeave:()=>p(null),children:a.jsxs(zj,{to:R.path,className:`
                              relative flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                              transition-all duration-200 ease-in-out overflow-hidden
                              ${W?"bg-white/10 text-white shadow-[0_0_12px_rgba(255,255,255,0.1)]":"text-white/70 hover:bg-white/8 hover:text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.07)]"}
                            `,style:{background:W?"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:W?"rgba(0, 0, 0, 0.3) 0px 4px 8px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset, rgba(0, 0, 0, 0.5) 0px 2px 4px inset, rgba(255, 255, 255, 0.1) 0px 0px 8px":"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset",border:"none",transform:W?"translateY(-1px)":"none"},children:[a.jsx("div",{className:`
                                relative z-10 transition-all duration-200
                                flex items-center justify-center w-7 h-7 rounded-full
                                ${c?"mx-auto":"mr-3"}
                                ${W?"bg-white/15 text-white":"text-white/70 group-hover:text-white"}
                              `,style:{boxShadow:W?"rgba(0, 0, 0, 0.3) 0px 2px 4px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset":"none"},children:R.icon&&ne.cloneElement(R.icon,{className:`${c?"w-5 h-5":"w-4 h-4"}`,style:{color:W?$:"",filter:W?"drop-shadow(0 0 2px rgba(255,255,255,0.3))":""}})}),a.jsx(sr,{children:!c&&a.jsxs(we.div,{className:"flex-1 flex items-center justify-between",children:[a.jsx(we.span,{className:`ml-2 md:ml-3 relative z-10 ${W?"font-medium":""} whitespace-nowrap`,variants:M,initial:"hidden",animate:"visible",exit:"hidden",children:R.label}),R.notifications>0&&a.jsx("div",{className:"ml-auto min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-[#00D1FF] to-[#0047FF] flex items-center justify-center text-xs font-medium text-white shadow-lg",children:R.notifications})]})}),c&&a.jsx(sr,{children:f===R.path&&a.jsxs(we.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:`
                                      absolute left-14 px-4 py-2 rounded-lg z-50
                                      text-sm font-medium whitespace-nowrap
                                      bg-gradient-to-r 
                                      ${E.color.replace("/30","/70").replace("/10","/40")} 
                                      backdrop-blur-sm border border-white/10
                                    `,style:R.color?{boxShadow:`0 0 10px ${R.color}50`,background:`linear-gradient(to right, ${R.color}30, ${R.color}05)`}:{},children:[a.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-2 h-2 rotate-45",style:{background:R.color?`${R.color}30`:E.textColor.includes("blue")?"rgba(59,130,246,0.3)":E.textColor.includes("green")?"rgba(16,185,129,0.3)":E.textColor.includes("purple")?"rgba(139,92,246,0.3)":E.textColor.includes("amber")?"rgba(245,158,11,0.3)":"rgba(6,182,212,0.3)"}}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-white font-medium",children:R.label}),R.notifications>0&&a.jsx("div",{className:"ml-2 min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-[#00D1FF] to-[#0047FF] flex items-center justify-center text-xs font-medium text-white shadow-lg",children:R.notifications})]})]})}),W&&a.jsx(we.div,{className:"absolute left-0 w-1.5 h-8 rounded-r-md",style:{background:`linear-gradient(to bottom, ${R.color||(E.textColor.includes("blue")?"#3b82f6":E.textColor.includes("green")?"#10b981":E.textColor.includes("purple")?"#8b5cf6":E.textColor.includes("amber")?"#f59e0b":"#06b6d4")}, transparent)`},initial:{height:0},animate:{height:24},transition:{duration:.2}})]})},R.path)})})]},T)})}),a.jsx(we.div,{className:"p-4 border-t border-white/10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsxs(we.button,{onClick:r,className:`
                  flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  relative group w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},style:{background:"linear-gradient(135deg, rgba(220, 38, 38, 0.95) 0%, rgba(185, 28, 28, 0.85) 100%)",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.35), inset 0 1px 3px rgba(255, 255, 255, 0.2)"},"aria-label":"Appel d'urgence",children:[a.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${c?"mx-auto":"mr-3"}
                  bg-white/15 text-white
                `,children:a.jsx(Hi,{className:"w-4 h-4"})}),!c&&a.jsx("span",{className:"font-medium",children:"Appel d'urgence"})]}),a.jsxs(we.button,{onClick:j,className:`
                  flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  bg-white/10 hover:bg-white/15 text-white/80 hover:text-white w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},"aria-label":"Se déconnecter",children:[a.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${c?"mx-auto":"mr-3"}
                  text-white/70 group-hover:text-white
                `,children:a.jsx(Uj,{className:"w-4 h-4"})}),!c&&a.jsx("span",{className:"font-medium",children:"Déconnexion"})]})]})})]})}),t&&a.jsx(we.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"fixed inset-0 z-50 bg-black/70 lg:hidden",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:a.jsx("div",{className:"absolute inset-y-0 left-0 w-full max-w-xs",children:a.jsx(we.div,{className:"h-full overflow-y-auto rounded-tr-3xl rounded-br-3xl",initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/10",children:[a.jsxs("div",{className:"text-white flex items-center",children:[a.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"OYSTER"}),a.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"0.5rem",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"CULT"})]}),a.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 text-white flex items-center justify-center",children:a.jsx(yt,{className:"w-6 h-6"})})]}),a.jsx("nav",{className:"flex-1 space-y-2 p-4 overflow-y-auto",children:tN.map((B,T)=>a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-xs font-medium text-white/70 uppercase tracking-wider px-4 mb-2",children:B.category}),a.jsx("div",{className:"space-y-1",children:B.items.map(E=>{const R=s.pathname===E.path;return a.jsxs(zj,{to:E.path,className:`
                                flex items-center px-4 py-3 rounded-lg text-sm
                                ${R?"bg-white/20 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                              `,onClick:e,children:[E.icon&&ne.cloneElement(E.icon,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:E.label})]},E.path)})})]},T))}),a.jsxs("div",{className:"p-4 pt-2 border-t border-white/10 space-y-3",children:[a.jsxs("button",{onClick:()=>{r(),e()},className:"flex items-center justify-center w-full px-4 py-3 bg-red-600 rounded-lg text-white",children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Appel d'urgence"})]}),a.jsxs("button",{onClick:j,className:"flex items-center justify-center w-full px-4 py-3 bg-white/10 rounded-lg text-white",children:[a.jsx(Uj,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Déconnexion"})]})]})]})})})})]})}function Un(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function yl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function K7(t,e){const r=Un(t);return isNaN(e)?yl(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const WC=6048e5,J7=864e5,Q7=36e5;let Z7={};function yg(){return Z7}function ld(t,e){var l,c,u,d;const r=yg(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Un(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Vm(t){return ld(t,{weekStartsOn:1})}function VC(t){const e=Un(t),r=e.getFullYear(),n=yl(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Vm(n),s=yl(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Vm(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Gm(t){const e=Un(t);return e.setHours(0,0,0,0),e}function rN(t){const e=Un(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function eM(t,e){const r=Gm(t),n=Gm(e),i=+r-rN(r),s=+n-rN(n);return Math.round((i-s)/J7)}function tM(t){const e=VC(t),r=yl(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Vm(r)}function GC(t,e){const r=e*7;return K7(t,r)}function rM(t,e){const r=Gm(t),n=Gm(e);return+r==+n}function nM(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function iM(t){if(!nM(t)&&typeof t!="number")return!1;const e=Un(t);return!isNaN(Number(e))}function aM(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function sM(t,e){return+Un(t)-+Un(e)}function oM(t,e,r){const n=sM(t,e)/Q7;return aM(r==null?void 0:r.roundingMethod)(n)}function lM(t,e){const r=Un(t.start),n=Un(t.end);let i=+r>+n;const s=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=s;)c.push(Un(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function cM(t){const e=Un(t),r=yl(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function uM(t,e){const r=e==null?void 0:e.weekStartsOn,n=Un(t),i=n.getDay(),s=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+s),n.setHours(23,59,59,999),n}const dM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hM=(t,e,r)=>{let n;const i=dM[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Qu(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const fM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xM={date:Qu({formats:fM,defaultWidth:"full"}),time:Qu({formats:pM,defaultWidth:"full"}),dateTime:Qu({formats:mM,defaultWidth:"full"})},gM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vM=(t,e,r,n)=>gM[t];function js(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const bM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_M={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SM=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},AM={ordinalNumber:SM,era:js({values:bM,defaultWidth:"wide"}),quarter:js({values:yM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:js({values:wM,defaultWidth:"wide"}),day:js({values:jM,defaultWidth:"wide"}),dayPeriod:js({values:NM,defaultWidth:"wide",formattingValues:_M,defaultFormattingWidth:"wide"})};function Ns(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?EM(l,h=>h.test(o)):CM(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function CM(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function EM(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function XC(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const OM=/^(\d+)(th|st|nd|rd)?/i,PM=/\d+/i,kM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TM={any:[/^b/i,/^(a|c)/i]},IM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DM={any:[/1/i,/2/i,/3/i,/4/i]},MM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$M={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zM={ordinalNumber:XC({matchPattern:OM,parsePattern:PM,valueCallback:t=>parseInt(t,10)}),era:Ns({matchPatterns:kM,defaultMatchWidth:"wide",parsePatterns:TM,defaultParseWidth:"any"}),quarter:Ns({matchPatterns:IM,defaultMatchWidth:"wide",parsePatterns:DM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ns({matchPatterns:MM,defaultMatchWidth:"wide",parsePatterns:LM,defaultParseWidth:"any"}),day:Ns({matchPatterns:RM,defaultMatchWidth:"wide",parsePatterns:FM,defaultParseWidth:"any"}),dayPeriod:Ns({matchPatterns:BM,defaultMatchWidth:"any",parsePatterns:$M,defaultParseWidth:"any"})},UM={code:"en-US",formatDistance:hM,formatLong:xM,formatRelative:vM,localize:AM,match:zM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qM(t){const e=Un(t);return eM(e,cM(e))+1}function HM(t){const e=Un(t),r=+Vm(e)-+tM(e);return Math.round(r/WC)+1}function YC(t,e){var d,h,f,p;const r=Un(t),n=r.getFullYear(),i=yg(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=yl(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=ld(o,e),c=yl(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=ld(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function WM(t,e){var l,c,u,d;const r=yg(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=YC(t,e),s=yl(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ld(s,e)}function VM(t,e){const r=Un(t),n=+ld(r,e)-+WM(r,e);return Math.round(n/WC)+1}function ar(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ho={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ar(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ar(r+1,2)},d(t,e){return ar(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ar(t.getHours()%12||12,e.length)},H(t,e){return ar(t.getHours(),e.length)},m(t,e){return ar(t.getMinutes(),e.length)},s(t,e){return ar(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ar(i,e.length)}},vu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nN={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ho.y(t,e)},Y:function(t,e,r,n){const i=YC(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ar(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ar(s,e.length)},R:function(t,e){const r=VC(t);return ar(r,e.length)},u:function(t,e){const r=t.getFullYear();return ar(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ar(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ar(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ho.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ar(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=VM(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ar(i,e.length)},I:function(t,e,r){const n=HM(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ar(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ho.d(t,e)},D:function(t,e,r){const n=qM(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ar(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ar(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ar(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ar(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=vu.noon:n===0?i=vu.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=vu.evening:n>=12?i=vu.afternoon:n>=4?i=vu.morning:i=vu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ho.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ho.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ar(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ar(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ho.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ho.s(t,e)},S:function(t,e){return Ho.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return aN(n);case"XXXX":case"XX":return Kl(n);case"XXXXX":case"XXX":default:return Kl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return aN(n);case"xxxx":case"xx":return Kl(n);case"xxxxx":case"xxx":default:return Kl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iN(n,":");case"OOOO":default:return"GMT"+Kl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iN(n,":");case"zzzz":default:return"GMT"+Kl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ar(n,e.length)},T:function(t,e,r){const n=t.getTime();return ar(n,e.length)}};function iN(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ar(s,2)}function aN(t,e){return t%60===0?(t>0?"-":"+")+ar(Math.abs(t)/60,2):Kl(t,e)}function Kl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ar(Math.trunc(n/60),2),s=ar(n%60,2);return r+i+e+s}const sN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},KC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},GM=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return sN(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",sN(n,e)).replace("{{time}}",KC(i,e))},XM={p:KC,P:GM},YM=/^D+$/,KM=/^Y+$/,JM=["D","DD","YY","YYYY"];function QM(t){return YM.test(t)}function ZM(t){return KM.test(t)}function eL(t,e,r){const n=tL(t,e,r);if(console.warn(n),JM.includes(t))throw new RangeError(n)}function tL(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iL=/^'([^]*?)'?$/,aL=/''/g,sL=/[a-zA-Z]/;function Bt(t,e,r){var d,h,f,p,m,x,g,b;const n=yg(),i=(r==null?void 0:r.locale)??n.locale??UM,s=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,l=Un(t);if(!iM(l))throw new RangeError("Invalid time value");let c=e.match(nL).map(y=>{const w=y[0];if(w==="p"||w==="P"){const j=XM[w];return j(y,i.formatLong)}return y}).join("").match(rL).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:oL(y)};if(nN[w])return{isToken:!0,value:y};if(w.match(sL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&ZM(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&QM(w))&&eL(w,e,String(t));const j=nN[w[0]];return j(l,w,i.localize,u)}).join("")}function oL(t){const e=t.match(iL);return e?e[1].replace(aL,"'"):t}function lL(t,e){return GC(t,-e)}const cL={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},uL=(t,e,r)=>{let n;const i=cL[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},dL={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},hL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fL={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pL={date:Qu({formats:dL,defaultWidth:"full"}),time:Qu({formats:hL,defaultWidth:"full"}),dateTime:Qu({formats:fL,defaultWidth:"full"})},mL={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},xL=(t,e,r,n)=>mL[t],gL={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},vL={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},bL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},yL={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},wL={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},jL=(t,e)=>{const r=Number(t),n=e==null?void 0:e.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"ère":"er":s="ème",r+s},NL=["MMM","MMMM"],_L={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&NL.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:jL,era:js({values:gL,defaultWidth:"wide"}),quarter:js({values:vL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:js({values:bL,defaultWidth:"wide"}),day:js({values:yL,defaultWidth:"wide"}),dayPeriod:js({values:wL,defaultWidth:"wide"})},SL=/^(\d+)(ième|ère|ème|er|e)?/i,AL=/\d+/i,CL={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},EL={any:[/^av/i,/^ap/i]},OL={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},PL={any:[/1/i,/2/i,/3/i,/4/i]},kL={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},TL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},IL={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},DL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},ML={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},LL={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},RL={ordinalNumber:XC({matchPattern:SL,parsePattern:AL,valueCallback:t=>parseInt(t)}),era:Ns({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:EL,defaultParseWidth:"any"}),quarter:Ns({matchPatterns:OL,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ns({matchPatterns:kL,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any"}),day:Ns({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),dayPeriod:Ns({matchPatterns:ML,defaultMatchWidth:"any",parsePatterns:LL,defaultParseWidth:"any"})},gr={code:"fr",formatDistance:uL,formatLong:pL,formatRelative:xL,localize:_L,match:RL,options:{weekStartsOn:1,firstWeekContainsDate:4}},FL=[{label:"Toutes",value:"all"},{label:"Non lues",value:"unread"},{label:"Importantes",value:"important"}];function BL({onClose:t}){const{notifications:e,markAsRead:r,markAllAsRead:n,addNotification:i}=Ia(),[s,o]=k.useState("all"),[l,c]=k.useState(""),[u,d]=k.useState(!1);k.useState(null);const h=k.useMemo(()=>e.filter(x=>!x.read).length,[e]);k.useEffect(()=>{const x=g=>{g.key==="Escape"&&t()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t]),k.useEffect(()=>{const x=g=>{const b=document.querySelector(".notifications-panel"),y=document.querySelector('[data-notification-bell="true"]');y&&y.contains(g.target)||b&&!b.contains(g.target)&&t()};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[t]);const f=x=>{r(x)},p=(x,g)=>{g.stopPropagation();const b=e.find(y=>y.id===x);b&&(i({type:b.type,title:b.title,message:b.message,important:!b.important,category:b.category,metadata:b.metadata}),r(x))},m=(x,g)=>{g.stopPropagation(),r(x)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50",onClick:t,"aria-hidden":"true"}),a.jsx(we.div,{className:"notifications-panel fixed inset-y-0 right-0 w-full max-w-md backdrop-blur-md shadow-2xl z-[51] margin-top-65",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(5, 20, 43, 0.92) 0%, rgba(10, 120, 115, 0.88) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) -10px 0px 30px -5px, rgba(0, 0, 0, 0.3) -5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs(we.div,{className:"p-6 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(kf,{size:24,className:"text-brand-burgundy"}),h>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-burgundy rounded-full flex items-center justify-center text-xs text-white",children:h})]}),a.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!u),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:a.jsx(fn,{size:20})}),a.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:a.jsx(yt,{size:20})})]})]}),a.jsx(sr,{children:u&&a.jsx(we.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsxs("div",{className:"relative mt-4",children:[a.jsx(fn,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"26%"},"aria-label":"Search icon"}),a.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all"})]})})}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx("div",{className:"flex space-x-2",children:FL.map(x=>a.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(x.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${s===x.value?"bg-brand-burgundy text-white":"bg-white/5 text-white/60 hover:bg-white/10 hover:text-white"}`,children:x.label},x.value))}),a.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"text-sm text-brand-burgundy hover:text-brand-burgundy/80 transition-colors",children:"Tout marquer comme lu"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:a.jsx(sr,{mode:"popLayout",children:e.filter(x=>s==="unread"?!x.read:s==="important"?x.important:!0).filter(x=>l?x.title.toLowerCase().includes(l.toLowerCase())||x.message.toLowerCase().includes(l.toLowerCase()):!0).map((x,g)=>a.jsx(we.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:g*.05},className:`p-4 transition-colors relative cursor-pointer hover:bg-white/10 ${x.read?"bg-transparent":"bg-white/5 shadow-[0_0_15px_rgba(0,210,255,0.2),0_0_8px_rgba(0,0,0,0.2)_inset] border border-cyan-400/40 hover:border-cyan-400/60 rounded-xl"}`,onClick:()=>f(x.id),tabIndex:0,role:"button","aria-label":`Notification: ${x.title}. ${x.read?"Lu":"Non lu"}`,onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&f(x.id)},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${x.type==="alert"?"bg-red-500/20":x.type==="success"?"bg-green-500/20":x.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"}`,children:x.type==="alert"?a.jsx(qn,{className:"text-red-400",size:20}):x.type==="success"?a.jsx(Fd,{className:"text-green-400",size:20}):x.type==="warning"?a.jsx(qn,{className:"text-yellow-400",size:20}):a.jsx(kf,{className:"text-blue-400",size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${x.type==="alert"?"text-red-400":x.type==="success"?"text-green-400":x.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:x.title}),a.jsx("p",{className:"text-sm text-white/70 mt-1",children:x.message})]})}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-white/40",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ei,{size:14,className:"mr-1"}),Bt(new Date(x.timestamp),"PPp",{locale:gr})]}),x.important&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"•"}),a.jsx("div",{className:"text-brand-burgundy",children:"Important"})]})]})]})]}),a.jsxs("div",{className:"flex space-x-1",children:[x.read?a.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-transparent text-white/40 hover:text-white/60 transition-colors rounded-full hover:bg-white/5","aria-label":"Déjà lu",title:"Déjà lu",children:a.jsx(Vb,{size:16})}):a.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),f(x.id)},className:"p-2 bg-brand-burgundy/20 text-white/80 hover:text-white transition-colors rounded-full hover:bg-brand-burgundy/40","aria-label":"Marquer comme lu",title:"Marquer comme lu",children:a.jsx(Vb,{size:16})}),a.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-2 rounded-full ${x.important?"bg-brand-burgundy/20 text-brand-burgundy hover:bg-brand-burgundy/40":"bg-transparent text-white/40 hover:text-white/60 hover:bg-white/5"}`,onClick:b=>p(x.id,b),"aria-label":x.important?"Retirer des importants":"Marquer comme important",title:x.important?"Retirer des importants":"Marquer comme important",children:a.jsx(Wi,{size:16})}),a.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>m(x.id,b),className:"p-2 bg-transparent text-white/40 hover:text-red-400 transition-colors rounded-full hover:bg-white/5","aria-label":"Supprimer",title:"Supprimer",children:a.jsx(ri,{size:16})})]})]})},x.id))})})]})})]})}const _0=t=>{const e=k.useRef(null);return k.useEffect(()=>{const r=n=>{e.current&&!e.current.contains(n.target)&&(n.target.closest(".modal-container")||t())};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t]),e},$L=(t,e)=>{const[r,n]=k.useState(0),[i,s]=k.useState(0),[o,l]=k.useState(0),[c,u]=k.useState(!1);return{handlers:{onTouchStart:p=>{n(p.touches[0].clientY),s(Date.now())},onTouchMove:async p=>{if(c)return;const x=p.touches[0].clientY-r,g=Date.now()-i;if(x>100&&g<300&&t){u(!0);try{await t()}finally{u(!1)}}},onTouchEnd:p=>{const m=Date.now();m-o<300&&e&&e(),l(m)}},isRefreshing:c}};let $p=0;const zL={sm:"max-w-md",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function mi({isOpen:t,onClose:e,children:r,title:n,size:i="md",showCloseButton:s=!0,className:o=""}){const l=_0(e),c=k.useRef(0);return k.useEffect(()=>(t&&($p+=1,c.current=9e3+$p),()=>{t&&($p-=1)}),[t]),k.useEffect(()=>{const u=d=>{d.key==="Escape"&&c.current===9e3+$p&&e()};return t&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[t,e]),a.jsx(sr,{children:t&&a.jsxs("div",{className:"fixed inset-0",style:{zIndex:c.current},children:[a.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto custom-scrollbar",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:a.jsxs(we.div,{ref:l,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`modal-container w-full ${zL[i]} bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md rounded-lg shadow-xl ${o}`,onClick:u=>u.stopPropagation(),children:[(n||s)&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n&&a.jsx("h2",{className:"text-xl font-bold text-white",children:n}),s&&a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsx("div",{className:"p-6",children:r})]})})})]})})}function UL({isOpen:t,onClose:e}){const r=new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return a.jsx(mi,{isOpen:t,onClose:e,title:"Signal envoyé",size:"lg",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95",children:a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-cyan-400 mb-2",children:"Appel d'urgence activé"}),a.jsx("p",{className:"text-white/70",children:"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xi,{className:"w-5 h-5 text-cyan-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:"Localisation"}),a.jsx("div",{className:"text-white/70",children:"Position GPS transmise automatiquement"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ei,{className:"w-5 h-5 text-cyan-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:"Heure de l'appel"}),a.jsx("div",{className:"text-white/70",children:r})]})]})]})]}),a.jsxs("div",{className:"flex flex-col mt-8",children:[a.jsx("button",{onClick:()=>{e()},className:"w-full px-8 py-5 bg-white rounded-full text-red-500 text-xl hover:bg-white/90 focus:ring-2 focus:ring-red-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fausse alerte - Tout va bien"}),a.jsx("button",{onClick:e,className:"w-full px-8 py-5 bg-white/5 rounded-full text-white/70 text-xl hover:bg-white/10 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fermer"})]})]})})}function qL({isOpen:t,onClose:e,onSignalSent:r}){return a.jsx(mi,{isOpen:t,onClose:e,title:"Signalement de panne",size:"lg",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-full",children:a.jsx(FI,{className:"w-8 h-8 text-cyan-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-cyan-400 mb-2",children:"Besoin d'assistance technique ?"}),a.jsx("p",{className:"text-white/70",children:"Nous allons notifier les producteurs à proximité de votre position. Un professionnel viendra vous aider dès que possible."})]})]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:e,className:"px-6 py-3 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>{r(),e()},className:"px-6 py-3 bg-cyan-500/20 text-cyan-400 rounded-full hover:bg-cyan-500/30 transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Envoyer le signal"})]})]})})}function HL({isOpen:t,onClose:e,onConfirm:r}){return a.jsx(mi,{isOpen:t,onClose:e,title:"Confirmation",size:"sm",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-red-500/20 rounded-full",children:a.jsx(bC,{className:"w-8 h-8 text-red-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Confirmer l'annulation"}),a.jsx("p",{className:"text-white/70",children:"Êtes-vous certain(e) que tout va bien et qu'il s'agit d'une fausse alerte ?"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:e,className:"px-6 py-3 bg-white/5 text-white/70 rounded-lg hover:bg-white/10 transition-all duration-300",children:"Retour"}),a.jsx("button",{onClick:()=>{r(),e()},className:"px-6 py-3 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(255,0,0,0.2)]",children:"Confirmer"})]})]})})}function WL({isOpen:t,onClose:e}){const[r,n]=k.useState("");k.useState("");const[i,s]=k.useState(""),[o,l]=k.useState(8),[c,u]=k.useState(!0),[d,h]=k.useState(!1),[f,p]=k.useState(!1),[m,x]=k.useState(!1),[g,b]=k.useState(!1),[y,w]=k.useState(!1);k.useEffect(()=>{let A;return t&&c&&o>0?A=setTimeout(()=>{l(O=>O-1)},1e3):o===0&&(w(!0),u(!1)),()=>{A&&clearTimeout(A)}},[t,o,c]),k.useEffect(()=>{t&&(l(8),u(!0),h(!1),w(!1))},[t]);const j=k.useCallback(()=>{u(!1),h(!0)},[]),_=k.useCallback(()=>{p(!0)},[]);k.useCallback(()=>{w(!0)},[]);const S=k.useCallback(()=>{w(!1),e()},[e]);return y?a.jsxs("div",{className:"fixed inset-0 bg-red-900 z-50 flex flex-col items-center justify-center p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-white mb-4",children:r==="boatIssue"?a.jsx(RI,{className:"text-red-600 h-12 w-12"}):a.jsx(qn,{className:"text-red-600 h-12 w-12"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:r==="boatIssue"?"Appel d'aide en mer envoyé":"Appel d'urgence activé"}),a.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:r==="boatIssue"?"Une notification a été envoyée aux producteurs à proximité et aux services de secours. Quelqu'un viendra vous prêter main forte rapidement.":"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),a.jsxs("div",{className:"p-6 bg-white/10 rounded-lg max-w-2xl w-full mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(xi,{className:"text-white mr-3",size:24}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Localisation"}),a.jsx("p",{className:"text-white/70",children:i||"Position GPS transmise automatiquement"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(ei,{className:"text-white mr-3",size:24}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Heure de l'appel"}),a.jsx("p",{className:"text-white/70",children:new Date().toLocaleTimeString()})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx("button",{onClick:()=>b(!0),className:"w-full px-8 py-5 bg-white rounded-full text-red-500 text-xl hover:bg-white/90 focus:ring-2 focus:ring-red-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fausse alerte - Tout va bien"}),a.jsx("button",{onClick:S,className:"w-full px-8 py-5 bg-white/5 rounded-full text-white/70 text-xl hover:bg-white/10 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fermer"})]})]}):a.jsxs(a.Fragment,{children:[t&&a.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80",role:"dialog","aria-modal":"true","aria-label":"Appel d'urgence",children:[a.jsx("div",{className:"bg-red-600 !rounded-full !p-0 w-[800px] aspect-square flex items-center justify-center mb-8","aria-live":"polite","aria-atomic":"true",children:a.jsx("div",{className:"w-[600px] h-[600px] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[300px] font-bold text-white","aria-label":`Compte à rebours : ${o} secondes`,children:o})})}),a.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-lg",children:[c?a.jsx("button",{onClick:j,className:"w-full px-8 py-5 bg-cyan-500/20 text-cyan-400 rounded-full text-xl hover:bg-cyan-500/30 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Arrêter le compte à rebours"}):a.jsx("button",{onClick:()=>w(!0),className:"w-full px-8 py-5 bg-red-500 text-white rounded-full text-xl hover:bg-red-600 focus:ring-2 focus:ring-red-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(255,0,0,0.25),0_0_15px_rgba(255,0,0,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(255,0,0,0.3),0_0_20px_rgba(255,0,0,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Je suis en danger"}),d&&a.jsx("button",{onClick:_,className:"w-full px-8 py-5 bg-cyan-500/20 text-cyan-400 rounded-full text-xl hover:bg-cyan-500/30 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Je suis en panne"}),a.jsx("button",{onClick:e,className:"w-full mt-4 px-8 py-5 bg-white/5 rounded-full text-white/70 text-xl hover:bg-white/10 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1","aria-label":"Fermer la modale d'urgence",children:"Annuler"})]})]}),a.jsx(qL,{isOpen:f,onClose:()=>p(!1),onSignalSent:()=>x(!0)}),a.jsx(UL,{isOpen:m,onClose:()=>x(!1)}),a.jsx(HL,{isOpen:g,onClose:()=>b(!1),onConfirm:()=>{S(),b(!1),e()}})]})}function xr({variant:t="primary",size:e="md",fullWidth:r=!1,className:n="",children:i,...s}){const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors",l={primary:"bg-brand-primary text-white hover:bg-brand-primary/90",secondary:"bg-white/10 text-white hover:bg-white/20",outline:"border border-white/10 text-white hover:bg-white/5",ghost:"text-white/60 hover:text-white hover:bg-white/5"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return a.jsx("button",{...s,className:`
        ${o}
        ${l[t]}
        ${c[e]}
        ${r?"w-full":""}
        ${n}
      `,children:i})}function VL(){const[t,e]=k.useState([]);return a.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:a.jsx(sr,{children:t.map(r=>a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg p-4 max-w-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold",children:r.title}),a.jsx(xr,{variant:"ghost",size:"sm",onClick:()=>{e(n=>n.filter(i=>i.id!==r.id))},children:a.jsx(yt,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.message})]},r.id))})})}const GL=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function XL(){const[t,e]=k.useState(GL),[r,n]=k.useState(0);return k.useEffect(()=>{const o=t.reduce((l,c)=>l+(c.unreadCount||0),0);n(o)},[t]),{contacts:t,totalUnreadCount:r,markAsRead:o=>{e(l=>l.map(c=>c.id===o?{...c,unreadCount:0}:c))},addMessage:(o,l,c=!1)=>{e(u=>u.map(d=>d.id===o?{...d,lastMessage:l,lastMessageTime:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),unreadCount:c?d.unreadCount||0:(d.unreadCount||0)+1}:d))}}}const oN={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3}}},zp={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};function YL(){const t=ha(),[e,r]=k.useState(!1),n=()=>{r(!0)},i=s=>{s.preventDefault(),localStorage.setItem("isAuthenticated","true"),t("/dashboard")};return a.jsxs("div",{className:"auth-background",children:[a.jsx("div",{className:"wave-loading"}),a.jsx("div",{className:"wave-container",children:a.jsx("div",{className:"wave"})}),a.jsxs("div",{className:"relative min-h-screen flex flex-col items-center justify-center p-4",children:[a.jsxs(we.div,{initial:"hidden",animate:"visible",variants:oN,className:"text-center max-w-5xl mx-auto px-4 mb-8",children:[a.jsx(we.div,{variants:zp,className:"text-center",children:a.jsx(we.div,{className:"flex items-center justify-center",children:a.jsx("div",{className:"flex flex-col items-center justify-center",children:a.jsxs(we.h1,{variants:zp,className:"flex flex-col items-center text-white whitespace-nowrap",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx("span",{className:"text-[10rem] md:text-[12rem]",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.08em",display:"block",lineHeight:"0.8"},children:"OYSTER"})}),a.jsx("span",{className:"text-[3rem] md:text-[4rem] mt-4",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.2em"},children:"CULT"})]})})})}),a.jsx(we.p,{variants:zp,className:"mt-8 text-xl text-white/80 max-w-2xl mx-auto",children:"Bienvenue dans votre espace de gestion"})]},"logo"),a.jsxs(we.div,{variants:oN,initial:"hidden",animate:"visible",className:"w-full max-w-md",children:[a.jsx(we.button,{variants:zp,onClick:n,className:`w-full h-full px-8 py-4 bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 rounded-xl text-white font-medium transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg backdrop-blur-sm ${e?"scale-0 h-0 opacity-0 mt-0 mb-0":""}`,children:"Connexion"}),a.jsx("div",{className:`auth-form-container ${e?"visible":""}`,children:a.jsx("div",{className:"auth-form bg-white/10 backdrop-blur-sm",children:a.jsxs("form",{onSubmit:i,className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-light text-white mb-6 text-center tracking-wide",children:"Pour les pros, par les pros."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"auth-input bg-white/5",defaultValue:"demo@oystercult.com",readOnly:!0,"aria-label":"Email de démonstration"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Mot de passe"}),a.jsx("input",{type:"password",className:"auth-input bg-white/5",defaultValue:"demo123",readOnly:!0,"aria-label":"Mot de passe de démonstration"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 rounded-xl text-white font-medium transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg backdrop-blur-sm",children:"Se connecter"})]})})})]})]})]})}const Cr={temperature:18,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:12,forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9},{time:"18:00",temp:17,windSpeed:20,windDirection:310,waveHeight:1},{time:"21:00",temp:16,windSpeed:16,windDirection:305,waveHeight:.9}],dailyForecast:[{day:"Lundi",condition:"sunny",tempMin:16,tempMax:22,windSpeed:12,windDirection:45,waveHeight:.5},{day:"Mardi",condition:"sunny",tempMin:17,tempMax:23,windSpeed:10,windDirection:90,waveHeight:.4},{day:"Mercredi",condition:"sunny",tempMin:15,tempMax:19,windSpeed:14,windDirection:90,waveHeight:.6},{day:"Jeudi",condition:"rainy",tempMin:14,tempMax:17,windSpeed:18,windDirection:135,waveHeight:.7}],waterTemp:18,feelsLike:18},yv=t=>{const e=["N","NE","E","SE","S","SO","O","NO"],r=Math.round(t/45)%8;return e[r]},lN=({condition:t})=>{switch(t){case"sunny":return a.jsx(Hm,{className:"w-12 h-12 text-yellow-400"});case"cloudy":return a.jsx(Xb,{className:"w-12 h-12 text-white/60"});case"rainy":return a.jsx(yC,{className:"w-12 h-12 text-blue-400"});case"partly-cloudy":return a.jsxs("div",{className:"relative",children:[a.jsx(Hm,{className:"w-12 h-12 text-yellow-400"}),a.jsx(Xb,{className:"w-8 h-8 text-white/60 absolute -bottom-2 -right-2"})]})}},bu=({title:t,icon:e,children:r,className:n})=>{const[i,s]=ne.useState(!1),[o,l]=ne.useState(!1);return ne.useEffect(()=>{const c=()=>{const u=window.innerWidth<=768;l(u)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]),a.jsxs(we.div,{className:`
        ${o?"":"bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]"}
        ${o?"":"-webkit-backdrop-filter backdrop-filter backdrop-blur-[20px]"}
        rounded-lg p-4 
        ${o?"":"shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]"}
        transition-all duration-200 relative overflow-hidden
        ${o?"":i?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
        ${n||""}
      `,onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),whileHover:{y:-4,transition:{duration:.2}},children:[a.jsx(we.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.05)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:i?1:0},transition:{duration:.2}}),a.jsxs("div",{className:"flex items-center space-x-3 mb-3 relative z-10",children:[a.jsx("div",{className:"text-cyan-400",children:e}),a.jsx("h3",{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent font-medium whitespace-nowrap",children:t})]}),a.jsx("div",{className:"relative z-10",children:r})]})};function cN({title:t,icon:e,children:r}){const[n,i]=ne.useState(!1);return a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>i(!n),className:"w-full flex items-center justify-between p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-colors","aria-expanded":n,children:[a.jsxs("div",{className:"flex items-center",children:[e,a.jsx("h3",{className:"ml-2 text-xl font-semibold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:t})]}),a.jsx(we.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:a.jsx(kc,{size:20,className:"text-cyan-400"})})]}),a.jsx(sr,{children:n&&a.jsx(we.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:a.jsx("div",{className:"pt-4",children:r})})})]})}function KL(){return a.jsx("div",{className:"weather-widget-container w-full",style:{width:"100%",margin:0,padding:0,position:"relative",boxSizing:"border-box"},children:a.jsxs("div",{className:"weather-widget w-full flex flex-col glass-effect rounded-xl p-6",style:{width:"100%",maxWidth:"100%",margin:0,boxSizing:"border-box"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(oa,{size:24,className:"text-cyan-400 mr-3"})}),a.jsx("h2",{className:"text-3xl font-semibold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent whitespace-nowrap",children:"Météo & Conditions Maritimes"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xi,{size:20,className:"text-cyan-400","aria-hidden":"true"}),a.jsx("span",{className:"text-2xl font-semibold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Bouzigues"}),a.jsx("span",{className:"text-white/60",children:", "}),a.jsx("span",{className:"text-white/60 text-base",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})})]})]}),a.jsxs("div",{className:"hidden md:grid md:grid-cols-4 md:gap-4 md:mb-4",style:{minHeight:"200px"},children:[a.jsx(bu,{title:"Température",icon:a.jsx(oa,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:a.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsxs("div",{className:"flex items-baseline justify-center",children:[a.jsx("div",{className:"text-4xl font-bold text-white",children:Cr.temperature}),a.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"°C"})]})}),a.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(oa,{size:16,className:"text-cyan-400 mr-2"}),a.jsxs("span",{className:"text-white/80",children:["Ressenti ",Cr.feelsLike,"°C"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qn,{size:16,className:"text-cyan-400 mr-2"}),a.jsxs("span",{className:"text-white/80",children:["Humidité ",Cr.humidity,"%"]})]})]})]})}),a.jsx(bu,{title:"Vent",icon:a.jsx(el,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:a.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsxs("div",{className:"flex items-baseline justify-center",children:[a.jsx("div",{className:"text-4xl font-bold text-white",children:Cr.windSpeed}),a.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"km/h"})]})}),a.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(lo,{size:16,className:"text-cyan-400 mr-2",style:{transform:`rotate(${Cr.windDirection}deg)`}}),a.jsx("span",{className:"text-white/80",children:yv(Cr.windDirection)})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(el,{size:16,className:"text-cyan-400 mr-2"}),a.jsxs("span",{className:"text-white/80",children:["Rafales ",Cr.windGust," km/h"]})]})]})]})}),a.jsx(bu,{title:"Mer",icon:a.jsx(ui,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:a.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsxs("div",{className:"flex items-baseline justify-center",children:[a.jsx("div",{className:"text-4xl font-bold text-white",children:Cr.waveHeight}),a.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"m"})]})}),a.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gb,{size:16,className:"text-cyan-400 mr-2"}),a.jsx("span",{className:"text-white/80",children:yv(Cr.waveDirection)})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(oa,{size:16,className:"text-cyan-400 mr-2"}),a.jsxs("span",{className:"text-white/80",children:["Eau ",Cr.waterTemp,"°C"]})]})]})]})}),a.jsx(bu,{title:"Marées",icon:a.jsx(Gb,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:a.jsxs("div",{className:"flex flex-col h-full justify-between py-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pm,{size:16,className:"text-cyan-400 mr-2"}),a.jsx("span",{className:"text-white/80",children:"Marée haute"})]}),a.jsx("div",{className:"text-white font-medium",children:Cr.nextHighTide})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(km,{size:16,className:"text-cyan-400 mr-2"}),a.jsx("span",{className:"text-white/80",children:"Marée basse"})]}),a.jsx("div",{className:"text-white font-medium",children:Cr.nextLowTide})]})]})})]}),a.jsx(cN,{title:"Prévisions horaires",icon:a.jsx(zn,{size:20,className:"text-cyan-400"}),children:a.jsx("div",{className:"grid grid-cols-4 gap-6",children:Cr.forecast.map((t,e)=>a.jsx(bu,{title:t.time,icon:a.jsx(ei,{size:20}),className:"text-center p-5 transform hover:scale-105 transition-transform duration-300",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsxs("div",{className:"text-3xl font-bold text-white",children:[t.temp,"°C"]}),a.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[a.jsx(el,{size:18,className:"text-cyan-400"}),a.jsxs("span",{children:[t.windSpeed," km/h"]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[a.jsx(ui,{size:18,className:"text-cyan-400"}),a.jsxs("span",{children:[t.waveHeight,"m"]})]})]})},e))})}),a.jsx(cN,{title:"Prévisions des prochains jours",icon:a.jsx(zn,{size:20,className:"text-cyan-400"}),children:a.jsx("div",{className:"grid grid-cols-4 gap-6",children:Cr.dailyForecast.map((t,e)=>a.jsx(bu,{title:t.day,icon:a.jsx(lN,{condition:t.condition}),className:"text-center p-5 transform hover:scale-105 transition-transform duration-300",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsxs("div",{className:"flex items-center text-red-400",children:[a.jsx(Pm,{size:16}),a.jsxs("span",{className:"text-2xl font-semibold",children:[t.tempMax,"°"]})]}),a.jsx("div",{className:"text-white/20",children:"|"}),a.jsxs("div",{className:"flex items-center text-blue-400",children:[a.jsx(km,{size:16}),a.jsxs("span",{className:"text-2xl font-semibold",children:[t.tempMin,"°"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[a.jsx(el,{size:18,className:"text-cyan-400"}),a.jsxs("span",{children:[t.windSpeed," km/h"]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[a.jsx(ui,{size:18,className:"text-cyan-400"}),a.jsxs("span",{children:[t.waveHeight,"m"]})]})]})},e))})}),a.jsxs("div",{className:"md:hidden flex flex-col space-y-4 w-full",style:{width:"100%",maxWidth:"100%",margin:0,padding:0,boxSizing:"border-box"},children:[a.jsxs("div",{className:"mobile-weather-main w-full glass-effect rounded-xl p-3",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[a.jsxs("div",{className:"mobile-weather-header w-full",children:[a.jsxs("div",{className:"mobile-current-temp",children:[Cr.temperature,"°C"]}),a.jsx(lN,{condition:Cr.conditions})]}),a.jsxs("div",{className:"mobile-weather-details w-full",children:[a.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Conditions de vent",title:"Conditions de vent",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(el,{size:20,className:"mobile-weather-detail-icon"})}),a.jsx("div",{className:"mobile-weather-detail-label",children:"Vent"}),a.jsxs("div",{className:"mobile-weather-detail-value",children:[Cr.windSpeed," km/h"]})]}),a.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Niveau d'humidité",title:"Niveau d'humidité",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(Qn,{size:20,className:"mobile-weather-detail-icon"})}),a.jsx("div",{className:"mobile-weather-detail-label",children:"Humidité"}),a.jsxs("div",{className:"mobile-weather-detail-value",children:[Cr.humidity,"%"]})]}),a.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Hauteur des vagues",title:"Hauteur des vagues",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(ui,{size:20,className:"mobile-weather-detail-icon"})}),a.jsx("div",{className:"mobile-weather-detail-label",children:"Vagues"}),a.jsxs("div",{className:"mobile-weather-detail-value",children:[Cr.waveHeight," m"]})]})]}),a.jsx("div",{className:"mobile-weather-status",children:"Partiellement nuageux"})]}),a.jsxs("div",{className:"w-full flex flex-wrap justify-center",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[a.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300 m-2",children:[a.jsxs("div",{className:"mobile-weather-card-header",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(ui,{size:20,className:"mobile-weather-card-icon"})}),a.jsx("div",{className:"mobile-weather-card-title",children:"Marées"})]}),a.jsxs("div",{className:"mobile-weather-card-content",children:[a.jsxs("div",{className:"mobile-weather-card-row",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(Pm,{size:16,className:"text-brand-burgundy"})}),a.jsx("div",{className:"mobile-weather-card-label",children:"Haute"}),a.jsx("div",{className:"mobile-weather-card-value",children:Cr.nextHighTide})]}),a.jsxs("div",{className:"mobile-weather-card-row",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(km,{size:16,className:"text-brand-burgundy"})}),a.jsx("div",{className:"mobile-weather-card-label",children:"Basse"}),a.jsx("div",{className:"mobile-weather-card-value",children:Cr.nextLowTide})]})]})]}),a.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300 m-2",children:[a.jsxs("div",{className:"mobile-weather-card-header",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(el,{size:20,className:"mobile-weather-card-icon"})}),a.jsx("div",{className:"mobile-weather-card-title",children:"Vent"})]}),a.jsxs("div",{className:"mobile-weather-card-content",children:[a.jsxs("div",{className:"mobile-weather-card-row",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(lo,{size:16,className:"text-brand-burgundy",style:{transform:`rotate(${Cr.windDirection}deg)`}})}),a.jsx("div",{className:"mobile-weather-card-label",children:"Direction"}),a.jsx("div",{className:"mobile-weather-card-value",children:yv(Cr.windDirection)})]}),a.jsxs("div",{className:"mobile-weather-card-row",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(el,{size:16,className:"text-brand-burgundy"})}),a.jsx("div",{className:"mobile-weather-card-label",children:"Rafales"}),a.jsxs("div",{className:"mobile-weather-card-value",children:[Cr.windGust," km/h"]})]})]})]})]}),a.jsxs("div",{className:"mobile-forecast-section w-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[a.jsxs("div",{className:"mobile-forecast-header",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(zn,{size:20,className:"mobile-forecast-icon"})}),a.jsx("div",{className:"mobile-forecast-title",children:"Prévisions"})]}),a.jsx("div",{className:"mobile-forecast-content overflow-x-auto",children:a.jsxs("div",{className:"flex",style:{minWidth:"100%"},children:[Cr.forecast.map((t,e)=>a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:t.time}),a.jsxs("div",{className:"mobile-forecast-temp",children:[t.temp,"°"]}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(lo,{size:14,className:"mobile-forecast-wind-icon",style:{transform:`rotate(${t.windDirection}deg)`}}),a.jsx("span",{children:t.windSpeed})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(ui,{size:14,className:"mobile-forecast-waves-icon"}),a.jsxs("span",{children:[t.waveHeight,"m"]})]})]},e)),a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:"00:00"}),a.jsx("div",{className:"mobile-forecast-temp",children:"15°"}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(lo,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(300deg)"}}),a.jsx("span",{children:"14"})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(ui,{size:14,className:"mobile-forecast-waves-icon"}),a.jsx("span",{children:"0.7m"})]})]}),a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:"03:00"}),a.jsx("div",{className:"mobile-forecast-temp",children:"14°"}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(lo,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(290deg)"}}),a.jsx("span",{children:"12"})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(ui,{size:14,className:"mobile-forecast-waves-icon"}),a.jsx("span",{children:"0.6m"})]})]}),a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:"06:00"}),a.jsx("div",{className:"mobile-forecast-temp",children:"15°"}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(lo,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(295deg)"}}),a.jsx("span",{children:"13"})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(ui,{size:14,className:"mobile-forecast-waves-icon"}),a.jsx("span",{children:"0.5m"})]})]}),a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:"09:00"}),a.jsx("div",{className:"mobile-forecast-temp",children:"16°"}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(lo,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(300deg)"}}),a.jsx("span",{children:"15"})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(ui,{size:14,className:"mobile-forecast-waves-icon"}),a.jsx("span",{children:"0.6m"})]})]})]})})]})]})]})})}const JL=({value:t,maxValue:e=100,color:r})=>{const n=Math.min(100,Math.round(t/e*100));return a.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},uN={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)",transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,transform:"translateY(30px)"}}};function JC({table:t,onClose:e}){const r=_0(e),n=t.alert||t.timeProgress>100;return a.jsx(we.div,{...uN.overlay,className:"absolute inset-0 flex items-center justify-center p-4 bg-black/50",style:{zIndex:100},onClick:e,children:a.jsxs(we.div,{ref:r,...uN.content,onClick:i=>i.stopPropagation(),className:"w-full max-w-3xl rounded-2xl shadow-2xl border border-white/10 backdrop-blur-sm",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color",zIndex:101},children:[a.jsx("div",{className:"p-6 border-b border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),a.jsx("p",{className:"text-white/60",children:t.type})]}),a.jsx("button",{className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10",onClick:e,"aria-label":"Fermer",children:a.jsx(yt,{size:20})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[t.currentSize&&t.targetSize&&a.jsxs(we.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.4},className:"glass-effect rounded-xl p-6 space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(hg,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]})}),a.jsxs("div",{className:"relative py-6",children:[a.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-white/10"}),a.jsx("div",{className:"flex justify-between relative",children:["T15","N°5","N°4","N°3","N°2","N°1"].map((i,s)=>{const o=s*20,l=QL(t.currentSize)>=o,c=i===t.targetSize;return a.jsxs("div",{className:"flex flex-col items-center",children:[i==="N°3"?a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 mb-2 relative ring-4 ring-blue-500/50 shadow-lg shadow-blue-500/50 ring-white animate-pulse"})}):a.jsx("div",{className:`w-5 h-5 rounded-full ${c?"ring-2 ring-offset-2 ring-offset-blue-900/50 ring-blue-400":""} ${l?"bg-blue-500":"bg-white/20"} mb-2`}),a.jsx("span",{className:`text-xs ${l?"text-white":"text-white/40"} ${c?"font-bold":""} ${i==="N°3"?"font-medium":""}`,children:i})]},i)})}),a.jsxs("div",{className:"mt-6 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 mb-2",children:[a.jsx("span",{children:"Temps d'élevage"}),a.jsx("span",{className:"text-white",children:wv(t.startDate,t.harvest,t.name)})]}),a.jsxs("div",{className:"relative h-3 bg-white/10 rounded-full overflow-hidden",children:[a.jsx(we.div,{initial:{width:0},animate:{width:`${Math.min(t.timeProgress,100)}%`},transition:{duration:1,ease:"easeOut"},className:`absolute top-0 left-0 h-full ${n?"bg-red-500":"bg-blue-500"}`}),t.timeProgress>100&&a.jsx(we.div,{initial:{width:0},animate:{width:`${Math.min(t.timeProgress-100,100)}%`},transition:{duration:1,ease:"easeOut",delay:.5},className:"absolute top-0 left-0 h-full bg-red-500 opacity-60",style:{left:"100%"}})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",children:[a.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[a.jsx("div",{className:"text-white/60",children:"Début"}),a.jsx("div",{className:"text-white font-medium",children:"T15"}),a.jsx("div",{className:"text-sm font-medium text-white/70",children:wv(t.startDate,t.harvest,t.name)})]}),a.jsx(Bd,{size:16,className:"text-white/40"}),a.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[a.jsx("div",{className:"text-white/60",children:"Récolte prévue pour"}),a.jsx("div",{className:"text-white font-medium",children:ZL(t.name)})]})]})]})]}),a.jsxs(we.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.6},className:"glass-effect rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(ui,{size:18,className:"mr-2 text-blue-400"}),"État global de la table"]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"relative w-40 h-40",children:[a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),a.jsx(we.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:t.color||"#3b82f6",strokeWidth:"8",strokeDasharray:"283",initial:{strokeDashoffset:283},animate:{strokeDashoffset:283-283*t.value/100},transition:{duration:1.5,ease:"easeOut"},strokeLinecap:"round",transform:"rotate(-90 50 50)"})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsxs("span",{className:"text-3xl font-bold text-white",children:[t.value,"%"]}),a.jsx("span",{className:"text-xs text-white/60",children:"Occupation"})]})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("span",{className:"text-white/80 block",children:["Capacité de la table ",t.name==="Table A1"&&t.value>=90?"(presque pleine)":t.value<=20?"(presque vide)":""]})})]}),a.jsxs("div",{className:"space-y-4",children:[t.mortality>0&&a.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("div",{className:"text-white/80",children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(qn,{size:16,className:"mr-1 text-red-400"}),"Taux de mortalité"]})}),a.jsxs("div",{className:`text-sm font-medium ${t.mortality<=15?"text-green-400":t.mortality<=20?"text-yellow-400":"text-red-400"}`,children:[t.mortality,"%"]})]}),a.jsx(JL,{value:t.mortality,maxValue:30,color:t.mortality<=15?"#22c55e":t.mortality<=20?"#eab308":"#ef4444"}),a.jsx("div",{className:"text-xs text-white/60 mt-1",children:t.mortality<=15?"Taux normal":t.mortality<=20?"Surveillance recommandée":"Situation critique - Action requise!"})]}),a.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("div",{className:"text-white/80",children:"Durée d'élevage"}),a.jsx("div",{className:"text-sm font-medium text-white",children:wv(t.startDate,t.harvest,t.name)})]}),a.jsx("div",{className:"text-xs text-white/60",children:t.name!=="Table A1"?a.jsx(a.Fragment,{children:"Depuis le 01/01/2024"}):a.jsxs(a.Fragment,{children:["Depuis le ",t.startDate]})})]})]})]})]}),a.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.8},className:"flex justify-end space-x-3",children:a.jsx("button",{onClick:e,className:"px-6 py-2.5 rounded-lg bg-white/10 hover:bg-white/20 text-white/90 hover:text-white transition-colors",children:"Fermer"})})]})]})})}function QL(t){switch(t){case"T15":return 0;case"N°5":return 20;case"N°4":return 40;case"N°3":return 60;case"N°2":return 80;case"N°1":return 100;default:return 0}}function wv(t,e,r){switch(r){case"Table A1":return"11 mois et 18 jours";case"Table A2":return"2 mois et 2 jours";case"Table B1":return"2 mois et 12 jours";default:return"N/A"}}function ZL(t){switch(t){case"Table A2":return"01/01/2025";case"Table B1":return"01/01/2025";case"Table A1":return"15/05/2025";default:return"Non définie"}}function QC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=QC(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ct(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=QC(t))&&(n&&(n+=" "),n+=e);return n}var eR=Array.isArray,Vi=eR,tR=typeof An=="object"&&An&&An.Object===Object&&An,ZC=tR,rR=ZC,nR=typeof self=="object"&&self&&self.Object===Object&&self,iR=rR||nR||Function("return this")(),Us=iR,aR=Us,sR=aR.Symbol,S0=sR,dN=S0,e6=Object.prototype,oR=e6.hasOwnProperty,lR=e6.toString,Bh=dN?dN.toStringTag:void 0;function cR(t){var e=oR.call(t,Bh),r=t[Bh];try{t[Bh]=void 0;var n=!0}catch{}var i=lR.call(t);return n&&(e?t[Bh]=r:delete t[Bh]),i}var uR=cR,dR=Object.prototype,hR=dR.toString;function fR(t){return hR.call(t)}var pR=fR,hN=S0,mR=uR,xR=pR,gR="[object Null]",vR="[object Undefined]",fN=hN?hN.toStringTag:void 0;function bR(t){return t==null?t===void 0?vR:gR:fN&&fN in Object(t)?mR(t):xR(t)}var _o=bR;function yR(t){return t!=null&&typeof t=="object"}var So=yR,wR=_o,jR=So,NR="[object Symbol]";function _R(t){return typeof t=="symbol"||jR(t)&&wR(t)==NR}var zd=_R,SR=Vi,AR=zd,CR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ER=/^\w*$/;function OR(t,e){if(SR(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||AR(t)?!0:ER.test(t)||!CR.test(t)||e!=null&&t in Object(e)}var Sw=OR;function PR(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _l=PR;const Ud=lr(_l);var kR=_o,TR=_l,IR="[object AsyncFunction]",DR="[object Function]",MR="[object GeneratorFunction]",LR="[object Proxy]";function RR(t){if(!TR(t))return!1;var e=kR(t);return e==DR||e==MR||e==IR||e==LR}var Aw=RR;const mt=lr(Aw);var FR=Us,BR=FR["__core-js_shared__"],$R=BR,jv=$R,pN=function(){var t=/[^.]+$/.exec(jv&&jv.keys&&jv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function zR(t){return!!pN&&pN in t}var UR=zR,qR=Function.prototype,HR=qR.toString;function WR(t){if(t!=null){try{return HR.call(t)}catch{}try{return t+""}catch{}}return""}var t6=WR,VR=Aw,GR=UR,XR=_l,YR=t6,KR=/[\\^$.*+?()[\]{}|]/g,JR=/^\[object .+?Constructor\]$/,QR=Function.prototype,ZR=Object.prototype,e9=QR.toString,t9=ZR.hasOwnProperty,r9=RegExp("^"+e9.call(t9).replace(KR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n9(t){if(!XR(t)||GR(t))return!1;var e=VR(t)?r9:JR;return e.test(YR(t))}var i9=n9;function a9(t,e){return t==null?void 0:t[e]}var s9=a9,o9=i9,l9=s9;function c9(t,e){var r=l9(t,e);return o9(r)?r:void 0}var Mc=c9,u9=Mc,d9=u9(Object,"create"),wg=d9,mN=wg;function h9(){this.__data__=mN?mN(null):{},this.size=0}var f9=h9;function p9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var m9=p9,x9=wg,g9="__lodash_hash_undefined__",v9=Object.prototype,b9=v9.hasOwnProperty;function y9(t){var e=this.__data__;if(x9){var r=e[t];return r===g9?void 0:r}return b9.call(e,t)?e[t]:void 0}var w9=y9,j9=wg,N9=Object.prototype,_9=N9.hasOwnProperty;function S9(t){var e=this.__data__;return j9?e[t]!==void 0:_9.call(e,t)}var A9=S9,C9=wg,E9="__lodash_hash_undefined__";function O9(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=C9&&e===void 0?E9:e,this}var P9=O9,k9=f9,T9=m9,I9=w9,D9=A9,M9=P9;function qd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}qd.prototype.clear=k9;qd.prototype.delete=T9;qd.prototype.get=I9;qd.prototype.has=D9;qd.prototype.set=M9;var L9=qd;function R9(){this.__data__=[],this.size=0}var F9=R9;function B9(t,e){return t===e||t!==t&&e!==e}var Cw=B9,$9=Cw;function z9(t,e){for(var r=t.length;r--;)if($9(t[r][0],e))return r;return-1}var jg=z9,U9=jg,q9=Array.prototype,H9=q9.splice;function W9(t){var e=this.__data__,r=U9(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():H9.call(e,r,1),--this.size,!0}var V9=W9,G9=jg;function X9(t){var e=this.__data__,r=G9(e,t);return r<0?void 0:e[r][1]}var Y9=X9,K9=jg;function J9(t){return K9(this.__data__,t)>-1}var Q9=J9,Z9=jg;function eF(t,e){var r=this.__data__,n=Z9(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var tF=eF,rF=F9,nF=V9,iF=Y9,aF=Q9,sF=tF;function Hd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hd.prototype.clear=rF;Hd.prototype.delete=nF;Hd.prototype.get=iF;Hd.prototype.has=aF;Hd.prototype.set=sF;var Ng=Hd,oF=Mc,lF=Us,cF=oF(lF,"Map"),Ew=cF,xN=L9,uF=Ng,dF=Ew;function hF(){this.size=0,this.__data__={hash:new xN,map:new(dF||uF),string:new xN}}var fF=hF;function pF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var mF=pF,xF=mF;function gF(t,e){var r=t.__data__;return xF(e)?r[typeof e=="string"?"string":"hash"]:r.map}var _g=gF,vF=_g;function bF(t){var e=vF(this,t).delete(t);return this.size-=e?1:0,e}var yF=bF,wF=_g;function jF(t){return wF(this,t).get(t)}var NF=jF,_F=_g;function SF(t){return _F(this,t).has(t)}var AF=SF,CF=_g;function EF(t,e){var r=CF(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var OF=EF,PF=fF,kF=yF,TF=NF,IF=AF,DF=OF;function Wd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Wd.prototype.clear=PF;Wd.prototype.delete=kF;Wd.prototype.get=TF;Wd.prototype.has=IF;Wd.prototype.set=DF;var Ow=Wd,r6=Ow,MF="Expected a function";function Pw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(MF);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Pw.Cache||r6),r}Pw.Cache=r6;var n6=Pw;const LF=lr(n6);var RF=n6,FF=500;function BF(t){var e=RF(t,function(n){return r.size===FF&&r.clear(),n}),r=e.cache;return e}var $F=BF,zF=$F,UF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qF=/\\(\\)?/g,HF=zF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UF,function(r,n,i,s){e.push(i?s.replace(qF,"$1"):n||r)}),e}),WF=HF;function VF(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var kw=VF,gN=S0,GF=kw,XF=Vi,YF=zd,KF=1/0,vN=gN?gN.prototype:void 0,bN=vN?vN.toString:void 0;function i6(t){if(typeof t=="string")return t;if(XF(t))return GF(t,i6)+"";if(YF(t))return bN?bN.call(t):"";var e=t+"";return e=="0"&&1/t==-KF?"-0":e}var JF=i6,QF=JF;function ZF(t){return t==null?"":QF(t)}var a6=ZF,eB=Vi,tB=Sw,rB=WF,nB=a6;function iB(t,e){return eB(t)?t:tB(t,e)?[t]:rB(nB(t))}var s6=iB,aB=zd,sB=1/0;function oB(t){if(typeof t=="string"||aB(t))return t;var e=t+"";return e=="0"&&1/t==-sB?"-0":e}var Sg=oB,lB=s6,cB=Sg;function uB(t,e){e=lB(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[cB(e[r++])];return r&&r==n?t:void 0}var Tw=uB,dB=Tw;function hB(t,e,r){var n=t==null?void 0:dB(t,e);return n===void 0?r:n}var o6=hB;const ua=lr(o6);function fB(t){return t==null}var pB=fB;const _t=lr(pB);var mB=_o,xB=Vi,gB=So,vB="[object String]";function bB(t){return typeof t=="string"||!xB(t)&&gB(t)&&mB(t)==vB}var yB=bB;const A0=lr(yB);var l6={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=Symbol.for("react.element"),Dw=Symbol.for("react.portal"),Ag=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Pg=Symbol.for("react.context"),wB=Symbol.for("react.server_context"),kg=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Ig=Symbol.for("react.suspense_list"),Dg=Symbol.for("react.memo"),Mg=Symbol.for("react.lazy"),jB=Symbol.for("react.offscreen"),c6;c6=Symbol.for("react.module.reference");function Da(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Iw:switch(t=t.type,t){case Ag:case Eg:case Cg:case Tg:case Ig:return t;default:switch(t=t&&t.$$typeof,t){case wB:case Pg:case kg:case Mg:case Dg:case Og:return t;default:return e}}case Dw:return e}}}cr.ContextConsumer=Pg;cr.ContextProvider=Og;cr.Element=Iw;cr.ForwardRef=kg;cr.Fragment=Ag;cr.Lazy=Mg;cr.Memo=Dg;cr.Portal=Dw;cr.Profiler=Eg;cr.StrictMode=Cg;cr.Suspense=Tg;cr.SuspenseList=Ig;cr.isAsyncMode=function(){return!1};cr.isConcurrentMode=function(){return!1};cr.isContextConsumer=function(t){return Da(t)===Pg};cr.isContextProvider=function(t){return Da(t)===Og};cr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Iw};cr.isForwardRef=function(t){return Da(t)===kg};cr.isFragment=function(t){return Da(t)===Ag};cr.isLazy=function(t){return Da(t)===Mg};cr.isMemo=function(t){return Da(t)===Dg};cr.isPortal=function(t){return Da(t)===Dw};cr.isProfiler=function(t){return Da(t)===Eg};cr.isStrictMode=function(t){return Da(t)===Cg};cr.isSuspense=function(t){return Da(t)===Tg};cr.isSuspenseList=function(t){return Da(t)===Ig};cr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ag||t===Eg||t===Cg||t===Tg||t===Ig||t===jB||typeof t=="object"&&t!==null&&(t.$$typeof===Mg||t.$$typeof===Dg||t.$$typeof===Og||t.$$typeof===Pg||t.$$typeof===kg||t.$$typeof===c6||t.getModuleId!==void 0)};cr.typeOf=Da;l6.exports=cr;var NB=l6.exports,_B=_o,SB=So,AB="[object Number]";function CB(t){return typeof t=="number"||SB(t)&&_B(t)==AB}var u6=CB;const EB=lr(u6);var OB=u6;function PB(t){return OB(t)&&t!=+t}var kB=PB;const C0=lr(kB);var Ei=function(e){return e===0?0:e>0?1:-1},oc=function(e){return A0(e)&&e.indexOf("%")===e.length-1},We=function(e){return EB(e)&&!C0(e)},Cn=function(e){return We(e)||A0(e)},TB=0,Vd=function(e){var r=++TB;return"".concat(e||"").concat(r)},Oi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(e)&&!A0(e))return n;var s;if(oc(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return C0(s)&&(s=n),i&&s>r&&(s=r),s},ll=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},IB=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},aa=function(e,r){return We(e)&&We(r)?function(n){return e+n*(r-e)}:function(){return r}};function Xm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ua(n,e))===r})}function Zu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}var DB=["viewBox","children"],MB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yN=["points","pathLength"],Nv={svg:DB,polygon:yN,polyline:yN},Mw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ym=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(k.isValidElement(e)&&(n=e.props),!Ud(n))return null;var i={};return Object.keys(n).forEach(function(s){Mw.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},LB=function(e,r,n){return function(i){return e(r,n,i),null}},Nc=function(e,r,n){if(!Ud(e)||ey(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];Mw.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=LB(o,r,n))}),i},RB=["children"],FB=["children"];function wN(t,e){if(t==null)return{};var r=BB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}var jN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},NN=null,_v=null,Lw=function t(e){if(e===NN&&Array.isArray(_v))return _v;var r=[];return k.Children.forEach(e,function(n){_t(n)||(NB.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),_v=r,NN=e,r};function da(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return xo(i)}):n=[xo(e)],Lw(t).forEach(function(i){var s=ua(i,"type.displayName")||ua(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ia(t,e){var r=da(t,e);return r&&r[0]}var _N=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!We(n)||n<=0||!We(i)||i<=0)},$B=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zB=function(e){return e&&e.type&&A0(e.type)&&$B.indexOf(e.type)>=0},UB=function(e){return e&&ty(e)==="object"&&"clipDot"in e},qB=function(e,r,n,i){var s,o=(s=Nv==null?void 0:Nv[i])!==null&&s!==void 0?s:[];return!mt(e)&&(i&&o.includes(r)||MB.includes(r))||n&&Mw.includes(r)},ut=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!Ud(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;qB((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},ry=function t(e,r){if(e===r)return!0;var n=k.Children.count(e);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return SN(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!SN(s,o))return!1}return!0},SN=function(e,r){if(_t(e)&&_t(r))return!0;if(!_t(e)&&!_t(r)){var n=e.props||{},i=n.children,s=wN(n,RB),o=r.props||{},l=o.children,c=wN(o,FB);return i&&l?Zu(s,c)&&ry(i,l):!i&&!l?Zu(s,c):!1}return!1},AN=function(e,r){var n=[],i={};return Lw(e).forEach(function(s,o){if(zB(s))n.push(s);else if(s){var l=xo(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(s,l,o);n.push(h),i[l]=!0}}}),n},HB=function(e){var r=e&&e.type;return r&&jN[r]?jN[r]:null},WB=function(e,r){return Lw(r).indexOf(e)},VB=["children","width","height","viewBox","className","style","title","desc"];function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ny.apply(this,arguments)}function GB(t,e){if(t==null)return{};var r=XB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iy(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=GB(t,VB),d=i||{width:r,height:n,x:0,y:0},h=Ct("recharts-surface",s);return ne.createElement("svg",ny({},ut(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ne.createElement("title",null,l),ne.createElement("desc",null,c),e)}var YB=["children","className"];function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ay.apply(this,arguments)}function KB(t,e){if(t==null)return{};var r=JB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wt=ne.forwardRef(function(t,e){var r=t.children,n=t.className,i=KB(t,YB),s=Ct("recharts-layer",n);return ne.createElement("g",ay({className:s},ut(i,!0),{ref:e}),r)}),ns=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function QB(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var ZB=QB,e$=ZB;function t$(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:e$(t,e,r)}var r$=t$,n$="\\ud800-\\udfff",i$="\\u0300-\\u036f",a$="\\ufe20-\\ufe2f",s$="\\u20d0-\\u20ff",o$=i$+a$+s$,l$="\\ufe0e\\ufe0f",c$="\\u200d",u$=RegExp("["+c$+n$+o$+l$+"]");function d$(t){return u$.test(t)}var d6=d$;function h$(t){return t.split("")}var f$=h$,h6="\\ud800-\\udfff",p$="\\u0300-\\u036f",m$="\\ufe20-\\ufe2f",x$="\\u20d0-\\u20ff",g$=p$+m$+x$,v$="\\ufe0e\\ufe0f",b$="["+h6+"]",sy="["+g$+"]",oy="\\ud83c[\\udffb-\\udfff]",y$="(?:"+sy+"|"+oy+")",f6="[^"+h6+"]",p6="(?:\\ud83c[\\udde6-\\uddff]){2}",m6="[\\ud800-\\udbff][\\udc00-\\udfff]",w$="\\u200d",x6=y$+"?",g6="["+v$+"]?",j$="(?:"+w$+"(?:"+[f6,p6,m6].join("|")+")"+g6+x6+")*",N$=g6+x6+j$,_$="(?:"+[f6+sy+"?",sy,p6,m6,b$].join("|")+")",S$=RegExp(oy+"(?="+oy+")|"+_$+N$,"g");function A$(t){return t.match(S$)||[]}var C$=A$,E$=f$,O$=d6,P$=C$;function k$(t){return O$(t)?P$(t):E$(t)}var T$=k$,I$=r$,D$=d6,M$=T$,L$=a6;function R$(t){return function(e){e=L$(e);var r=D$(e)?M$(e):void 0,n=r?r[0]:e.charAt(0),i=r?I$(r,1).join(""):e.slice(1);return n[t]()+i}}var F$=R$,B$=F$,$$=B$("toUpperCase"),z$=$$;const Lg=lr(z$);function Nr(t){return function(){return t}}const v6=Math.cos,Km=Math.sin,as=Math.sqrt,Jm=Math.PI,Rg=2*Jm,ly=Math.PI,cy=2*ly,Jl=1e-6,U$=cy-Jl;function b6(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function q$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return b6;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class H${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?b6:q$(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Jl)if(!(Math.abs(h*c-u*d)>Jl)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-l,x=c*c+u*u,g=p*p+m*m,b=Math.sqrt(x),y=Math.sqrt(f),w=s*Math.tan((ly-Math.acos((x+f-g)/(2*b*y)))/2),j=w/y,_=w/b;Math.abs(j-1)>Jl&&this._append`L${e+j*d},${r+j*h}`,this._append`A${s},${s},0,0,${+(h*p>d*m)},${this._x1=e+_*c},${this._y1=r+_*u}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,h=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Jl||Math.abs(this._y1-d)>Jl)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%cy+cy),f>U$?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>Jl&&this._append`A${n},${n},0,${+(f>=ly)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Rw(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new H$(e)}function Fw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function y6(t){this._context=t}y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Fg(t){return new y6(t)}function w6(t){return t[0]}function j6(t){return t[1]}function N6(t,e){var r=Nr(!0),n=null,i=Fg,s=null,o=Rw(l);t=typeof t=="function"?t:t===void 0?w6:Nr(t),e=typeof e=="function"?e:e===void 0?j6:Nr(e);function l(c){var u,d=(c=Fw(c)).length,h,f=!1,p;for(n==null&&(s=i(p=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,u,c),+e(h,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nr(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Up(t,e,r){var n=null,i=Nr(!0),s=null,o=Fg,l=null,c=Rw(u);t=typeof t=="function"?t:t===void 0?w6:Nr(+t),e=typeof e=="function"?e:Nr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?j6:Nr(+r);function u(h){var f,p,m,x=(h=Fw(h)).length,g,b=!1,y,w=new Array(x),j=new Array(x);for(s==null&&(l=o(y=c())),f=0;f<=x;++f){if(!(f<x&&i(g=h[f],f,h))===b)if(b=!b)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=f-1;m>=p;--m)l.point(w[m],j[m]);l.lineEnd(),l.areaEnd()}b&&(w[f]=+t(g,f,h),j[f]=+e(g,f,h),l.point(n?+n(g,f,h):w[f],r?+r(g,f,h):j[f]))}if(y)return l=null,y+""||null}function d(){return N6().defined(i).curve(o).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Nr(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Nr(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Nr(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Nr(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Nr(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Nr(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Nr(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,s!=null&&(l=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=l=null:l=o(s=h),u):s},u}class _6{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function W$(t){return new _6(t,!0)}function V$(t){return new _6(t,!1)}const Bw={draw(t,e){const r=as(e/Jm);t.moveTo(r,0),t.arc(0,0,r,0,Rg)}},G$={draw(t,e){const r=as(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},S6=as(1/3),X$=S6*2,Y$={draw(t,e){const r=as(e/X$),n=r*S6;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},K$={draw(t,e){const r=as(e),n=-r/2;t.rect(n,n,r,r)}},J$=.8908130915292852,A6=Km(Jm/10)/Km(7*Jm/10),Q$=Km(Rg/10)*A6,Z$=-v6(Rg/10)*A6,ez={draw(t,e){const r=as(e*J$),n=Q$*r,i=Z$*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=Rg*s/5,l=v6(o),c=Km(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},Sv=as(3),tz={draw(t,e){const r=-as(e/(Sv*3));t.moveTo(0,r*2),t.lineTo(-Sv*r,-r),t.lineTo(Sv*r,-r),t.closePath()}},wa=-.5,ja=as(3)/2,uy=1/as(12),rz=(uy/2+1)*3,nz={draw(t,e){const r=as(e/rz),n=r/2,i=r*uy,s=n,o=r*uy+r,l=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(wa*n-ja*i,ja*n+wa*i),t.lineTo(wa*s-ja*o,ja*s+wa*o),t.lineTo(wa*l-ja*c,ja*l+wa*c),t.lineTo(wa*n+ja*i,wa*i-ja*n),t.lineTo(wa*s+ja*o,wa*o-ja*s),t.lineTo(wa*l+ja*c,wa*c-ja*l),t.closePath()}};function iz(t,e){let r=null,n=Rw(i);t=typeof t=="function"?t:Nr(t||Bw),e=typeof e=="function"?e:Nr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Nr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Qm(){}function Zm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function C6(t){this._context=t}C6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function az(t){return new C6(t)}function E6(t){this._context=t}E6.prototype={areaStart:Qm,areaEnd:Qm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sz(t){return new E6(t)}function O6(t){this._context=t}O6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oz(t){return new O6(t)}function P6(t){this._context=t}P6.prototype={areaStart:Qm,areaEnd:Qm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lz(t){return new P6(t)}function CN(t){return t<0?-1:1}function EN(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(CN(s)+CN(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function ON(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Av(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,o-l*r,s,o)}function ex(t){this._context=t}ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Av(this,this._t0,ON(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Av(this,ON(this,r=EN(this,t,e)),r);break;default:Av(this,this._t0,r=EN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function k6(t){this._context=new T6(t)}(k6.prototype=Object.create(ex.prototype)).point=function(t,e){ex.prototype.point.call(this,e,t)};function T6(t){this._context=t}T6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function cz(t){return new ex(t)}function uz(t){return new k6(t)}function I6(t){this._context=t}I6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=PN(t),i=PN(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PN(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function dz(t){return new I6(t)}function Bg(t,e){this._context=t,this._t=e}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function hz(t){return new Bg(t,.5)}function fz(t){return new Bg(t,0)}function pz(t){return new Bg(t,1)}function cd(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,l=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function dy(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function mz(t,e){return t[e]}function xz(t){const e=[];return e.key=t,e}function gz(){var t=Nr([]),e=dy,r=cd,n=mz;function i(s){var o=Array.from(t.apply(this,arguments),xz),l,c=o.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,s)]).data=h;for(l=0,d=Fw(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Nr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?dy:typeof s=="function"?s:Nr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??cd,i):r},i}function vz(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}cd(t,e)}}function bz(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}cd(t,e)}}function yz(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,m=0;m<l;++m){var x=t[e[m]],g=x[n][1]||0,b=x[n-1][1]||0;p+=g-b}c+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,cd(t,e)}}function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var wz=["type","size","sizeType"];function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hy.apply(this,arguments)}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){jz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jz(t,e,r){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nz(t){var e=_z(t,"string");return Df(e)=="symbol"?e:e+""}function _z(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sz(t,e){if(t==null)return{};var r=Az(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Az(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var D6={symbolCircle:Bw,symbolCross:G$,symbolDiamond:Y$,symbolSquare:K$,symbolStar:ez,symbolTriangle:tz,symbolWye:nz},Cz=Math.PI/180,Ez=function(e){var r="symbol".concat(Lg(e));return D6[r]||Bw},Oz=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Cz;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pz=function(e,r){D6["symbol".concat(Lg(e))]=r},$w=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=Sz(e,wz),u=TN(TN({},c),{},{type:n,size:s,sizeType:l}),d=function(){var g=Ez(n),b=iz().type(g).size(Oz(s,l,n));return b()},h=u.className,f=u.cx,p=u.cy,m=ut(u,!0);return f===+f&&p===+p&&s===+s?ne.createElement("path",hy({},m,{className:Ct("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};$w.registerSymbol=Pz;function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fy.apply(this,arguments)}function IN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(r),!0).forEach(function(n){Mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L6(n.key),n)}}function Dz(t,e,r){return e&&Iz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mz(t,e,r){return e=tx(e),Lz(t,M6()?Reflect.construct(e,r||[],tx(t).constructor):e.apply(t,r))}function Lz(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rz(t)}function Rz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M6=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(t)}function Fz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&py(t,e)}function py(t,e){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},py(t,e)}function Mf(t,e,r){return e=L6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L6(t){var e=Bz(t,"string");return ud(e)=="symbol"?e:e+""}function Bz(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Na=32,zw=function(t){function e(){return Tz(this,e),Mz(this,e,arguments)}return Fz(e,t),Dz(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Na/2,o=Na/6,l=Na/3,c=n.inactive?i:n.color;if(n.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Na,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Na,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ne.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Na/8,"h").concat(Na,"v").concat(Na*3/4,"h").concat(-Na,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(n.legendIcon)){var u=kz({},n);return delete u.legendIcon,ne.cloneElement(n.legendIcon,u)}return ne.createElement($w,{fill:c,cx:s,cy:s,size:Na,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Na,height:Na},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,m){var x=p.formatter||c,g=Ct(Mf(Mf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=mt(p.value)?null:p.value;ns(!mt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return ne.createElement("li",fy({className:g,style:h,key:"legend-item-".concat(m)},Nc(n.props,p,m)),ne.createElement(iy,{width:o,height:o,viewBox:d,style:f},n.renderIcon(p)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(b,p,m):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);Mf(zw,"displayName","Legend");Mf(zw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $z=Ng;function zz(){this.__data__=new $z,this.size=0}var Uz=zz;function qz(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Hz=qz;function Wz(t){return this.__data__.get(t)}var Vz=Wz;function Gz(t){return this.__data__.has(t)}var Xz=Gz,Yz=Ng,Kz=Ew,Jz=Ow,Qz=200;function Zz(t,e){var r=this.__data__;if(r instanceof Yz){var n=r.__data__;if(!Kz||n.length<Qz-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Jz(n)}return r.set(t,e),this.size=r.size,this}var eU=Zz,tU=Ng,rU=Uz,nU=Hz,iU=Vz,aU=Xz,sU=eU;function Gd(t){var e=this.__data__=new tU(t);this.size=e.size}Gd.prototype.clear=rU;Gd.prototype.delete=nU;Gd.prototype.get=iU;Gd.prototype.has=aU;Gd.prototype.set=sU;var R6=Gd,oU="__lodash_hash_undefined__";function lU(t){return this.__data__.set(t,oU),this}var cU=lU;function uU(t){return this.__data__.has(t)}var dU=uU,hU=Ow,fU=cU,pU=dU;function rx(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new hU;++e<r;)this.add(t[e])}rx.prototype.add=rx.prototype.push=fU;rx.prototype.has=pU;var F6=rx;function mU(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var B6=mU;function xU(t,e){return t.has(e)}var $6=xU,gU=F6,vU=B6,bU=$6,yU=1,wU=2;function jU(t,e,r,n,i,s){var o=r&yU,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=r&wU?new gU:void 0;for(s.set(t,e),s.set(e,t);++h<l;){var m=t[h],x=e[h];if(n)var g=o?n(x,m,h,e,t,s):n(m,x,h,t,e,s);if(g!==void 0){if(g)continue;f=!1;break}if(p){if(!vU(e,function(b,y){if(!bU(p,y)&&(m===b||i(m,b,r,n,s)))return p.push(y)})){f=!1;break}}else if(!(m===x||i(m,x,r,n,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var z6=jU,NU=Us,_U=NU.Uint8Array,SU=_U;function AU(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var CU=AU;function EU(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Uw=EU,DN=S0,MN=SU,OU=Cw,PU=z6,kU=CU,TU=Uw,IU=1,DU=2,MU="[object Boolean]",LU="[object Date]",RU="[object Error]",FU="[object Map]",BU="[object Number]",$U="[object RegExp]",zU="[object Set]",UU="[object String]",qU="[object Symbol]",HU="[object ArrayBuffer]",WU="[object DataView]",LN=DN?DN.prototype:void 0,Cv=LN?LN.valueOf:void 0;function VU(t,e,r,n,i,s,o){switch(r){case WU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case HU:return!(t.byteLength!=e.byteLength||!s(new MN(t),new MN(e)));case MU:case LU:case BU:return OU(+t,+e);case RU:return t.name==e.name&&t.message==e.message;case $U:case UU:return t==e+"";case FU:var l=kU;case zU:var c=n&IU;if(l||(l=TU),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=DU,o.set(t,e);var d=PU(l(t),l(e),n,i,s,o);return o.delete(t),d;case qU:if(Cv)return Cv.call(t)==Cv.call(e)}return!1}var GU=VU;function XU(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var U6=XU,YU=U6,KU=Vi;function JU(t,e,r){var n=e(t);return KU(t)?n:YU(n,r(t))}var QU=JU;function ZU(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}var eq=ZU;function tq(){return[]}var rq=tq,nq=eq,iq=rq,aq=Object.prototype,sq=aq.propertyIsEnumerable,RN=Object.getOwnPropertySymbols,oq=RN?function(t){return t==null?[]:(t=Object(t),nq(RN(t),function(e){return sq.call(t,e)}))}:iq,lq=oq;function cq(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var uq=cq,dq=_o,hq=So,fq="[object Arguments]";function pq(t){return hq(t)&&dq(t)==fq}var mq=pq,FN=mq,xq=So,q6=Object.prototype,gq=q6.hasOwnProperty,vq=q6.propertyIsEnumerable,bq=FN(function(){return arguments}())?FN:function(t){return xq(t)&&gq.call(t,"callee")&&!vq.call(t,"callee")},qw=bq,nx={exports:{}};function yq(){return!1}var wq=yq;nx.exports;(function(t,e){var r=Us,n=wq,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(nx,nx.exports);var H6=nx.exports,jq=9007199254740991,Nq=/^(?:0|[1-9]\d*)$/;function _q(t,e){var r=typeof t;return e=e??jq,!!e&&(r=="number"||r!="symbol"&&Nq.test(t))&&t>-1&&t%1==0&&t<e}var Hw=_q,Sq=9007199254740991;function Aq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Sq}var Ww=Aq,Cq=_o,Eq=Ww,Oq=So,Pq="[object Arguments]",kq="[object Array]",Tq="[object Boolean]",Iq="[object Date]",Dq="[object Error]",Mq="[object Function]",Lq="[object Map]",Rq="[object Number]",Fq="[object Object]",Bq="[object RegExp]",$q="[object Set]",zq="[object String]",Uq="[object WeakMap]",qq="[object ArrayBuffer]",Hq="[object DataView]",Wq="[object Float32Array]",Vq="[object Float64Array]",Gq="[object Int8Array]",Xq="[object Int16Array]",Yq="[object Int32Array]",Kq="[object Uint8Array]",Jq="[object Uint8ClampedArray]",Qq="[object Uint16Array]",Zq="[object Uint32Array]",Or={};Or[Wq]=Or[Vq]=Or[Gq]=Or[Xq]=Or[Yq]=Or[Kq]=Or[Jq]=Or[Qq]=Or[Zq]=!0;Or[Pq]=Or[kq]=Or[qq]=Or[Tq]=Or[Hq]=Or[Iq]=Or[Dq]=Or[Mq]=Or[Lq]=Or[Rq]=Or[Fq]=Or[Bq]=Or[$q]=Or[zq]=Or[Uq]=!1;function eH(t){return Oq(t)&&Eq(t.length)&&!!Or[Cq(t)]}var tH=eH;function rH(t){return function(e){return t(e)}}var W6=rH,ix={exports:{}};ix.exports;(function(t,e){var r=ZC,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(ix,ix.exports);var nH=ix.exports,iH=tH,aH=W6,BN=nH,$N=BN&&BN.isTypedArray,sH=$N?aH($N):iH,V6=sH,oH=uq,lH=qw,cH=Vi,uH=H6,dH=Hw,hH=V6,fH=Object.prototype,pH=fH.hasOwnProperty;function mH(t,e){var r=cH(t),n=!r&&lH(t),i=!r&&!n&&uH(t),s=!r&&!n&&!i&&hH(t),o=r||n||i||s,l=o?oH(t.length,String):[],c=l.length;for(var u in t)(e||pH.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dH(u,c)))&&l.push(u);return l}var xH=mH,gH=Object.prototype;function vH(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||gH;return t===r}var bH=vH;function yH(t,e){return function(r){return t(e(r))}}var G6=yH,wH=G6,jH=wH(Object.keys,Object),NH=jH,_H=bH,SH=NH,AH=Object.prototype,CH=AH.hasOwnProperty;function EH(t){if(!_H(t))return SH(t);var e=[];for(var r in Object(t))CH.call(t,r)&&r!="constructor"&&e.push(r);return e}var OH=EH,PH=Aw,kH=Ww;function TH(t){return t!=null&&kH(t.length)&&!PH(t)}var E0=TH,IH=xH,DH=OH,MH=E0;function LH(t){return MH(t)?IH(t):DH(t)}var $g=LH,RH=QU,FH=lq,BH=$g;function $H(t){return RH(t,BH,FH)}var zH=$H,zN=zH,UH=1,qH=Object.prototype,HH=qH.hasOwnProperty;function WH(t,e,r,n,i,s){var o=r&UH,l=zN(t),c=l.length,u=zN(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:HH.call(e,f)))return!1}var p=s.get(t),m=s.get(e);if(p&&m)return p==e&&m==t;var x=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<c;){f=l[h];var b=t[f],y=e[f];if(n)var w=o?n(y,b,f,e,t,s):n(b,y,f,t,e,s);if(!(w===void 0?b===y||i(b,y,r,n,s):w)){x=!1;break}g||(g=f=="constructor")}if(x&&!g){var j=t.constructor,_=e.constructor;j!=_&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(x=!1)}return s.delete(t),s.delete(e),x}var VH=WH,GH=Mc,XH=Us,YH=GH(XH,"DataView"),KH=YH,JH=Mc,QH=Us,ZH=JH(QH,"Promise"),eW=ZH,tW=Mc,rW=Us,nW=tW(rW,"Set"),X6=nW,iW=Mc,aW=Us,sW=iW(aW,"WeakMap"),oW=sW,my=KH,xy=Ew,gy=eW,vy=X6,by=oW,Y6=_o,Xd=t6,UN="[object Map]",lW="[object Object]",qN="[object Promise]",HN="[object Set]",WN="[object WeakMap]",VN="[object DataView]",cW=Xd(my),uW=Xd(xy),dW=Xd(gy),hW=Xd(vy),fW=Xd(by),Ql=Y6;(my&&Ql(new my(new ArrayBuffer(1)))!=VN||xy&&Ql(new xy)!=UN||gy&&Ql(gy.resolve())!=qN||vy&&Ql(new vy)!=HN||by&&Ql(new by)!=WN)&&(Ql=function(t){var e=Y6(t),r=e==lW?t.constructor:void 0,n=r?Xd(r):"";if(n)switch(n){case cW:return VN;case uW:return UN;case dW:return qN;case hW:return HN;case fW:return WN}return e});var pW=Ql,Ev=R6,mW=z6,xW=GU,gW=VH,GN=pW,XN=Vi,YN=H6,vW=V6,bW=1,KN="[object Arguments]",JN="[object Array]",qp="[object Object]",yW=Object.prototype,QN=yW.hasOwnProperty;function wW(t,e,r,n,i,s){var o=XN(t),l=XN(e),c=o?JN:GN(t),u=l?JN:GN(e);c=c==KN?qp:c,u=u==KN?qp:u;var d=c==qp,h=u==qp,f=c==u;if(f&&YN(t)){if(!YN(e))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new Ev),o||vW(t)?mW(t,e,r,n,i,s):xW(t,e,c,r,n,i,s);if(!(r&bW)){var p=d&&QN.call(t,"__wrapped__"),m=h&&QN.call(e,"__wrapped__");if(p||m){var x=p?t.value():t,g=m?e.value():e;return s||(s=new Ev),i(x,g,r,n,s)}}return f?(s||(s=new Ev),gW(t,e,r,n,i,s)):!1}var jW=wW,NW=jW,ZN=So;function K6(t,e,r,n,i){return t===e?!0:t==null||e==null||!ZN(t)&&!ZN(e)?t!==t&&e!==e:NW(t,e,r,n,K6,i)}var Vw=K6,_W=R6,SW=Vw,AW=1,CW=2;function EW(t,e,r,n){var i=r.length,s=i,o=!n;if(t==null)return!s;for(t=Object(t);i--;){var l=r[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=r[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new _W;if(n)var f=n(u,d,c,t,e,h);if(!(f===void 0?SW(d,u,AW|CW,n,h):f))return!1}}return!0}var OW=EW,PW=_l;function kW(t){return t===t&&!PW(t)}var J6=kW,TW=J6,IW=$g;function DW(t){for(var e=IW(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,TW(i)]}return e}var MW=DW;function LW(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Q6=LW,RW=OW,FW=MW,BW=Q6;function $W(t){var e=FW(t);return e.length==1&&e[0][2]?BW(e[0][0],e[0][1]):function(r){return r===t||RW(r,t,e)}}var zW=$W;function UW(t,e){return t!=null&&e in Object(t)}var qW=UW,HW=s6,WW=qw,VW=Vi,GW=Hw,XW=Ww,YW=Sg;function KW(t,e,r){e=HW(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var o=YW(e[n]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&XW(i)&&GW(o,i)&&(VW(t)||WW(t)))}var JW=KW,QW=qW,ZW=JW;function eV(t,e){return t!=null&&ZW(t,e,QW)}var tV=eV,rV=Vw,nV=o6,iV=tV,aV=Sw,sV=J6,oV=Q6,lV=Sg,cV=1,uV=2;function dV(t,e){return aV(t)&&sV(e)?oV(lV(t),e):function(r){var n=nV(r,t);return n===void 0&&n===e?iV(r,t):rV(e,n,cV|uV)}}var hV=dV;function fV(t){return t}var Yd=fV;function pV(t){return function(e){return e==null?void 0:e[t]}}var mV=pV,xV=Tw;function gV(t){return function(e){return xV(e,t)}}var vV=gV,bV=mV,yV=vV,wV=Sw,jV=Sg;function NV(t){return wV(t)?bV(jV(t)):yV(t)}var _V=NV,SV=zW,AV=hV,CV=Yd,EV=Vi,OV=_V;function PV(t){return typeof t=="function"?t:t==null?CV:typeof t=="object"?EV(t)?AV(t[0],t[1]):SV(t):OV(t)}var qs=PV;function kV(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Z6=kV;function TV(t){return t!==t}var IV=TV;function DV(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var MV=DV,LV=Z6,RV=IV,FV=MV;function BV(t,e,r){return e===e?FV(t,e,r):LV(t,RV,r)}var $V=BV,zV=$V;function UV(t,e){var r=t==null?0:t.length;return!!r&&zV(t,e,0)>-1}var qV=UV;function HV(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var WV=HV;function VV(){}var GV=VV,Ov=X6,XV=GV,YV=Uw,KV=1/0,JV=Ov&&1/YV(new Ov([,-0]))[1]==KV?function(t){return new Ov(t)}:XV,QV=JV,ZV=F6,eG=qV,tG=WV,rG=$6,nG=QV,iG=Uw,aG=200;function sG(t,e,r){var n=-1,i=eG,s=t.length,o=!0,l=[],c=l;if(r)o=!1,i=tG;else if(s>=aG){var u=e?null:nG(t);if(u)return iG(u);o=!1,i=rG,c=new ZV}else c=e?[]:l;e:for(;++n<s;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(d)}else i(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var oG=sG,lG=qs,cG=oG;function uG(t,e){return t&&t.length?cG(t,lG(e)):[]}var dG=uG;const e_=lr(dG);function e8(t,e,r){return e===!0?e_(t,r):mt(e)?e_(t,e):t}function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}var hG=["ref"];function t_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t_(Object(r),!0).forEach(function(n){zg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r8(n.key),n)}}function pG(t,e,r){return e&&r_(t.prototype,e),r&&r_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mG(t,e,r){return e=ax(e),xG(t,t8()?Reflect.construct(e,r||[],ax(t).constructor):e.apply(t,r))}function xG(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gG(t)}function gG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(t)}function vG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yy(t,e)}function yy(t,e){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yy(t,e)}function zg(t,e,r){return e=r8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r8(t){var e=bG(t,"string");return dd(e)=="symbol"?e:e+""}function bG(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yG(t,e){if(t==null)return{};var r=wG(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jG(t){return t.value}function NG(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var r=yG(e,hG);return ne.createElement(zw,r)}var n_=1,mc=function(t){function e(){var r;fG(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mG(this,e,[].concat(i)),zg(r,"lastBoundingBox",{width:-1,height:-1}),r}return vG(e,t),pG(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>n_||Math.abs(i.height-this.lastBoundingBox.height)>n_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();f={top:((d||0)-m.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return io(io({},h),f)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=io(io({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ne.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},NG(s,io(io({},this.props),{},{payload:e8(d,u,jG)})))}}],[{key:"getWithHeight",value:function(n,i){var s=io(io({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&We(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(k.PureComponent);zg(mc,"displayName","Legend");zg(mc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var i_=S0,_G=qw,SG=Vi,a_=i_?i_.isConcatSpreadable:void 0;function AG(t){return SG(t)||_G(t)||!!(a_&&t&&t[a_])}var CG=AG,EG=U6,OG=CG;function n8(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=OG),i||(i=[]);++s<o;){var l=t[s];e>0&&r(l)?e>1?n8(l,e-1,r,n,i):EG(i,l):n||(i[i.length]=l)}return i}var i8=n8;function PG(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++i];if(r(s[c],c,s)===!1)break}return e}}var kG=PG,TG=kG,IG=TG(),DG=IG,MG=DG,LG=$g;function RG(t,e){return t&&MG(t,e,LG)}var a8=RG,FG=E0;function BG(t,e){return function(r,n){if(r==null)return r;if(!FG(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Object(r);(e?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var $G=BG,zG=a8,UG=$G,qG=UG(zG),Gw=qG,HG=Gw,WG=E0;function VG(t,e){var r=-1,n=WG(t)?Array(t.length):[];return HG(t,function(i,s,o){n[++r]=e(i,s,o)}),n}var s8=VG;function GG(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var XG=GG,s_=zd;function YG(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=s_(t),o=e!==void 0,l=e===null,c=e===e,u=s_(e);if(!l&&!u&&!s&&t>e||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&t<e||u&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var KG=YG,JG=KG;function QG(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,l=r.length;++n<o;){var c=JG(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var ZG=QG,Pv=kw,eX=Tw,tX=qs,rX=s8,nX=XG,iX=W6,aX=ZG,sX=Yd,oX=Vi;function lX(t,e,r){e.length?e=Pv(e,function(s){return oX(s)?function(o){return eX(o,s.length===1?s[0]:s)}:s}):e=[sX];var n=-1;e=Pv(e,iX(tX));var i=rX(t,function(s,o,l){var c=Pv(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return nX(i,function(s,o){return aX(s,o,r)})}var cX=lX;function uX(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var dX=uX,hX=dX,o_=Math.max;function fX(t,e,r){return e=o_(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=o_(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(o),hX(t,this,l)}}var pX=fX;function mX(t){return function(){return t}}var xX=mX,gX=Mc,vX=function(){try{var t=gX(Object,"defineProperty");return t({},"",{}),t}catch{}}(),o8=vX,bX=xX,l_=o8,yX=Yd,wX=l_?function(t,e){return l_(t,"toString",{configurable:!0,enumerable:!1,value:bX(e),writable:!0})}:yX,jX=wX,NX=800,_X=16,SX=Date.now;function AX(t){var e=0,r=0;return function(){var n=SX(),i=_X-(n-r);if(r=n,i>0){if(++e>=NX)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var CX=AX,EX=jX,OX=CX,PX=OX(EX),kX=PX,TX=Yd,IX=pX,DX=kX;function MX(t,e){return DX(IX(t,e,TX),t+"")}var LX=MX,RX=Cw,FX=E0,BX=Hw,$X=_l;function zX(t,e,r){if(!$X(r))return!1;var n=typeof e;return(n=="number"?FX(r)&&BX(e,r.length):n=="string"&&e in r)?RX(r[e],t):!1}var Ug=zX,UX=i8,qX=cX,HX=LX,c_=Ug,WX=HX(function(t,e){if(t==null)return[];var r=e.length;return r>1&&c_(t,e[0],e[1])?e=[]:r>2&&c_(e[0],e[1],e[2])&&(e=[e[0]]),qX(t,UX(e,1),[])}),VX=WX;const Xw=lr(VX);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wy.apply(this,arguments)}function GX(t,e){return JX(t)||KX(t,e)||YX(t,e)||XX()}function XX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(t,e){if(t){if(typeof t=="string")return u_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(t,e)}}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function JX(t){if(Array.isArray(t))return t}function d_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d_(Object(r),!0).forEach(function(n){QX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QX(t,e,r){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZX(t){var e=eY(t,"string");return Lf(e)=="symbol"?e:e+""}function eY(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tY(t){return Array.isArray(t)&&Cn(t[0])&&Cn(t[1])?t.join(" ~ "):t}var rY=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,x=e.label,g=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var E={padding:0,margin:0},R=(f?Xw(d,f):d).map(function(F,W){if(F.type==="none")return null;var $=kv({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),z=F.formatter||h||tY,X=F.value,Y=F.name,oe=X,fe=Y;if(z&&oe!=null&&fe!=null){var D=z(X,Y,F,W,d);if(Array.isArray(D)){var I=GX(D,2);oe=I[0],fe=I[1]}else oe=D}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:$},Cn(fe)?ne.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,Cn(fe)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},oe),ne.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:E},R)}return null},j=kv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=kv({margin:0},u),S=!_t(x),A=S?x:"",O=Ct("recharts-default-tooltip",p),M=Ct("recharts-tooltip-label",m);S&&g&&d!==void 0&&d!==null&&(A=g(x,d));var B=y?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",wy({className:O,style:j},B),ne.createElement("p",{className:M,style:_},ne.isValidElement(A)?A:"".concat(A)),w())};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Hp(t,e,r){return e=nY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nY(t){var e=iY(t,"string");return Rf(e)=="symbol"?e:e+""}function iY(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $h="recharts-tooltip-wrapper",aY={visibility:"hidden"};function sY(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ct($h,Hp(Hp(Hp(Hp({},"".concat($h,"-right"),We(r)&&e&&We(e.x)&&r>=e.x),"".concat($h,"-left"),We(r)&&e&&We(e.x)&&r<e.x),"".concat($h,"-bottom"),We(n)&&e&&We(e.y)&&n>=e.y),"".concat($h,"-top"),We(n)&&e&&We(e.y)&&n<e.y))}function h_(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&We(s[n]))return s[n];var d=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?d:h;if(o[n]){var f=d,p=c[n];return f<p?Math.max(h,c[n]):Math.max(d,c[n])}var m=h+l,x=c[n]+u;return m>x?Math.max(d,c[n]):Math.max(h,c[n])}function oY(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function lY(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=h_({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=h_({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=oY({translateX:d,translateY:h,useTranslate3d:l})):u=aY,{cssProperties:u,cssClasses:sY({translateX:d,translateY:h,coordinate:r})}}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function f_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(r),!0).forEach(function(n){Ny(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c8(n.key),n)}}function dY(t,e,r){return e&&uY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hY(t,e,r){return e=sx(e),fY(t,l8()?Reflect.construct(e,r||[],sx(t).constructor):e.apply(t,r))}function fY(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pY(t)}function pY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l8=function(){return!!t})()}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sx(t)}function mY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jy(t,e)}function Ny(t,e,r){return e=c8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c8(t){var e=xY(t,"string");return hd(e)=="symbol"?e:e+""}function xY(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m_=1,gY=function(t){function e(){var r;cY(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=hY(this,e,[].concat(i)),Ny(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ny(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return mY(e,t),dY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>m_||Math.abs(n.height-this.state.lastBoundingBox.height)>m_)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,m=i.position,x=i.reverseDirection,g=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,w=lY({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),j=w.cssClasses,_=w.cssProperties,S=p_(p_({transition:f&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return ne.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(O){n.wrapperNode=O}},u)}}])}(k.PureComponent),vY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ts={isSsr:vY(),get:function(e){return Ts[e]},set:function(e,r){if(typeof e=="string")Ts[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Ts[i]=e[i]})}}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function x_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x_(Object(r),!0).forEach(function(n){Yw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d8(n.key),n)}}function wY(t,e,r){return e&&yY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jY(t,e,r){return e=ox(e),NY(t,u8()?Reflect.construct(e,r||[],ox(t).constructor):e.apply(t,r))}function NY(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Y(t)}function _Y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u8=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(t)}function SY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_y(t,e)}function _y(t,e){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_y(t,e)}function Yw(t,e,r){return e=d8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d8(t){var e=AY(t,"string");return fd(e)=="symbol"?e:e+""}function AY(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CY(t){return t.dataKey}function EY(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(rY,e)}var Sa=function(t){function e(){return bY(this,e),jY(this,e,arguments)}return SY(e,t),wY(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,m=i.payload,x=i.payloadUniqBy,g=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,j=i.wrapperStyle,_=m??[];h&&_.length&&(_=e8(m.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),x,CY));var S=_.length>0;return ne.createElement(gY,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:s,coordinate:d,hasPayload:S,offset:p,position:g,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:j},EY(u,g_(g_({},this.props),{},{payload:_})))}}])}(k.PureComponent);Yw(Sa,"displayName","Tooltip");Yw(Sa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ts.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OY=Us,PY=function(){return OY.Date.now()},kY=PY,TY=/\s/;function IY(t){for(var e=t.length;e--&&TY.test(t.charAt(e)););return e}var DY=IY,MY=DY,LY=/^\s+/;function RY(t){return t&&t.slice(0,MY(t)+1).replace(LY,"")}var FY=RY,BY=FY,v_=_l,$Y=zd,b_=NaN,zY=/^[-+]0x[0-9a-f]+$/i,UY=/^0b[01]+$/i,qY=/^0o[0-7]+$/i,HY=parseInt;function WY(t){if(typeof t=="number")return t;if($Y(t))return b_;if(v_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=v_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=BY(t);var r=UY.test(t);return r||qY.test(t)?HY(t.slice(2),r?2:8):zY.test(t)?b_:+t}var h8=WY,VY=_l,Tv=kY,y_=h8,GY="Expected a function",XY=Math.max,YY=Math.min;function KY(t,e,r){var n,i,s,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(GY);e=y_(e)||0,VY(r)&&(d=!!r.leading,h="maxWait"in r,s=h?XY(y_(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f);function p(S){var A=n,O=i;return n=i=void 0,u=S,o=t.apply(O,A),o}function m(S){return u=S,l=setTimeout(b,e),d?p(S):o}function x(S){var A=S-c,O=S-u,M=e-A;return h?YY(M,s-O):M}function g(S){var A=S-c,O=S-u;return c===void 0||A>=e||A<0||h&&O>=s}function b(){var S=Tv();if(g(S))return y(S);l=setTimeout(b,x(S))}function y(S){return l=void 0,f&&n?p(S):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function j(){return l===void 0?o:y(Tv())}function _(){var S=Tv(),A=g(S);if(n=arguments,i=this,c=S,A){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(b,e),p(c)}return l===void 0&&(l=setTimeout(b,e)),o}return _.cancel=w,_.flush=j,_}var JY=KY,QY=JY,ZY=_l,eK="Expected a function";function tK(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(eK);return ZY(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),QY(t,e,{leading:n,maxWait:e,trailing:i})}var rK=tK;const f8=lr(rK);function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function w_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(r),!0).forEach(function(n){nK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nK(t,e,r){return e=iK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iK(t){var e=aK(t,"string");return Ff(e)=="symbol"?e:e+""}function aK(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sK(t,e){return uK(t)||cK(t,e)||lK(t,e)||oK()}function oK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(t,e){if(t){if(typeof t=="string")return j_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j_(t,e)}}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uK(t){if(Array.isArray(t))return t}var lx=k.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,m=t.debounce,x=m===void 0?0:m,g=t.id,b=t.className,y=t.onResize,w=t.style,j=w===void 0?{}:w,_=k.useRef(null),S=k.useRef();S.current=y,k.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var A=k.useState({containerWidth:i.width,containerHeight:i.height}),O=sK(A,2),M=O[0],B=O[1],T=k.useCallback(function(R,F){B(function(W){var $=Math.round(R),z=Math.round(F);return W.containerWidth===$&&W.containerHeight===z?W:{containerWidth:$,containerHeight:z}})},[]);k.useEffect(function(){var R=function(Y){var oe,fe=Y[0].contentRect,D=fe.width,I=fe.height;T(D,I),(oe=S.current)===null||oe===void 0||oe.call(S,D,I)};x>0&&(R=f8(R,x,{trailing:!0,leading:!1}));var F=new ResizeObserver(R),W=_.current.getBoundingClientRect(),$=W.width,z=W.height;return T($,z),F.observe(_.current),function(){F.disconnect()}},[T,x]);var E=k.useMemo(function(){var R=M.containerWidth,F=M.containerHeight;if(R<0||F<0)return null;ns(oc(o)||oc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ns(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=oc(o)?R:o,$=oc(c)?F:c;r&&r>0&&(W?$=W/r:$&&(W=$*r),f&&$>f&&($=f)),ns(W>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,$,o,c,d,h,r);var z=!Array.isArray(p)&&xo(p.type).endsWith("Chart");return ne.Children.map(p,function(X){return ne.isValidElement(X)?k.cloneElement(X,Wp({width:W,height:$},z?{style:Wp({height:"100%",width:"100%",maxHeight:$,maxWidth:W},X.props.style)}:{})):X})},[r,p,c,f,h,d,M,o]);return ne.createElement("div",{id:g?"".concat(g):void 0,className:Ct("recharts-responsive-container",b),style:Wp(Wp({},j),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:_},E)}),O0=function(e){return null};O0.displayName="Cell";function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function N_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(r),!0).forEach(function(n){dK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dK(t,e,r){return e=hK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=fK(t,"string");return Bf(e)=="symbol"?e:e+""}function fK(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yu={widthCache:{},cacheCount:0},pK=2e3,mK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},__="recharts_measurement_span";function xK(t){var e=Sy({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var pf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ts.isSsr)return{width:0,height:0};var n=xK(r),i=JSON.stringify({text:e,copyStyle:n});if(yu.widthCache[i])return yu.widthCache[i];try{var s=document.getElementById(__);s||(s=document.createElement("span"),s.setAttribute("id",__),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Sy(Sy({},mK),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return yu.widthCache[i]=c,++yu.cacheCount>pK&&(yu.cacheCount=0,yu.widthCache={}),c}catch{return{width:0,height:0}}},gK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function cx(t,e){return wK(t)||yK(t,e)||bK(t,e)||vK()}function vK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(t,e){if(t){if(typeof t=="string")return S_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S_(t,e)}}function S_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function wK(t){if(Array.isArray(t))return t}function jK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_K(n.key),n)}}function NK(t,e,r){return e&&A_(t.prototype,e),r&&A_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _K(t){var e=SK(t,"string");return $f(e)=="symbol"?e:e+""}function SK(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,p8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EK=Object.keys(p8),$u="NaN";function OK(t,e){return t*p8[e]}var Vp=function(){function t(e,r){jK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!AK.test(r)&&(this.num=NaN,this.unit=""),EK.includes(r)&&(this.num=OK(e,r),this.unit="px")}return NK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=CK.exec(r))!==null&&n!==void 0?n:[],s=cx(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function m8(t){if(t.includes($u))return $u;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=C_.exec(e))!==null&&r!==void 0?r:[],i=cx(n,4),s=i[1],o=i[2],l=i[3],c=Vp.parse(s??""),u=Vp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return $u;e=e.replace(C_,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=E_.exec(e))!==null&&h!==void 0?h:[],p=cx(f,4),m=p[1],x=p[2],g=p[3],b=Vp.parse(m??""),y=Vp.parse(g??""),w=x==="+"?b.add(y):b.subtract(y);if(w.isNaN())return $u;e=e.replace(E_,w.toString())}return e}var O_=/\(([^()]*)\)/;function PK(t){for(var e=t;e.includes("(");){var r=O_.exec(e),n=cx(r,2),i=n[1];e=e.replace(O_,m8(i))}return e}function kK(t){var e=t.replace(/\s+/g,"");return e=PK(e),e=m8(e),e}function TK(t){try{return kK(t)}catch{return $u}}function Iv(t){var e=TK(t.slice(5,-1));return e===$u?"":e}var IK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],DK=["dx","dy","angle","className","breakAll"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ay.apply(this,arguments)}function P_(t,e){if(t==null)return{};var r=MK(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k_(t,e){return BK(t)||FK(t,e)||RK(t,e)||LK()}function LK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RK(t,e){if(t){if(typeof t=="string")return T_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T_(t,e)}}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function BK(t){if(Array.isArray(t))return t}var x8=/[ \f\n\r\t\v\u2028\u2029]+/,g8=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];_t(r)||(n?s=r.toString().split(""):s=r.toString().split(x8));var o=s.map(function(c){return{word:c,width:pf(c,i).width}}),l=n?0:pf(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$K=function(e,r,n,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=We(o),h=l,f=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function($,z){var X=z.word,Y=z.width,oe=$[$.length-1];if(oe&&(i==null||s||oe.width+Y+n<Number(i)))oe.words.push(X),oe.width+=Y+n;else{var fe={words:[X],width:Y};$.push(fe)}return $},[])},p=f(r),m=function(W){return W.reduce(function($,z){return $.width>z.width?$:z})};if(!d)return p;for(var x="…",g=function(W){var $=h.slice(0,W),z=g8({breakAll:u,style:c,children:$+x}).wordsWithComputedWidth,X=f(z),Y=X.length>o||m(X).width>Number(i);return[Y,X]},b=0,y=h.length-1,w=0,j;b<=y&&w<=h.length-1;){var _=Math.floor((b+y)/2),S=_-1,A=g(S),O=k_(A,2),M=O[0],B=O[1],T=g(_),E=k_(T,1),R=E[0];if(!M&&!R&&(b=_+1),M&&R&&(y=_-1),!M&&R){j=B;break}w++}return j||p},I_=function(e){var r=_t(e)?[]:e.toString().split(x8);return[{words:r}]},zK=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Ts.isSsr){var c,u,d=g8({breakAll:o,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return I_(i);return $K({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return I_(i)},D_="#808080",_c=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,m=e.verticalAnchor,x=m===void 0?"end":m,g=e.fill,b=g===void 0?D_:g,y=P_(e,IK),w=k.useMemo(function(){return zK({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),j=y.dx,_=y.dy,S=y.angle,A=y.className,O=y.breakAll,M=P_(y,DK);if(!Cn(n)||!Cn(s))return null;var B=n+(We(j)?j:0),T=s+(We(_)?_:0),E;switch(x){case"start":E=Iv("calc(".concat(u,")"));break;case"middle":E=Iv("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=Iv("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(h){var F=w[0].width,W=y.width;R.push("scale(".concat((We(W)?W/F:1)/F,")"))}return S&&R.push("rotate(".concat(S,", ").concat(B,", ").concat(T,")")),R.length&&(M.transform=R.join(" ")),ne.createElement("text",Ay({},ut(M,!0),{x:B,y:T,className:Ct("recharts-text",A),textAnchor:p,fill:b.includes("url")?D_:b}),w.map(function($,z){var X=$.words.join(O?"":" ");return ne.createElement("tspan",{x:B,dy:z===0?E:l,key:"".concat(X,"-").concat(z)},X)}))};function ml(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kw(t){let e,r,n;t.length!==2?(e=ml,r=(l,c)=>ml(t(l),c),n=(l,c)=>t(l)-c):(e=t===ml||t===UK?t:qK,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:s}}function qK(){return 0}function v8(t){return t===null?NaN:+t}function*HK(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const WK=Kw(ml),P0=WK.right;Kw(v8).center;class M_ extends Map{constructor(e,r=XK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(L_(this,e))}has(e){return super.has(L_(this,e))}set(e,r){return super.set(VK(this,e),r)}delete(e){return super.delete(GK(this,e))}}function L_({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function VK({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function GK({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function XK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function YK(t=ml){if(t===ml)return b8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function b8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const KK=Math.sqrt(50),JK=Math.sqrt(10),QK=Math.sqrt(2);function ux(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=KK?10:s>=JK?5:s>=QK?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?ux(t,e,r*2):[l,c,u]}function Cy(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?ux(e,t,r):ux(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Ey(t,e,r){return e=+e,t=+t,r=+r,ux(t,e,r)[2]}function Oy(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ey(e,t,r):Ey(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function R_(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function F_(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function y8(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?b8:YK(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/c+f)),m=Math.min(n,Math.floor(e+(c-u)*h/c+f));y8(t,e,p,m,i)}const s=t[e];let o=r,l=n;for(zh(t,r,e),i(t[n],s)>0&&zh(t,r,n);o<l;){for(zh(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?zh(t,r,l):(++l,zh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function zh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function ZK(t,e,r){if(t=Float64Array.from(HK(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return F_(t);if(e>=1)return R_(t);var n,i=(n-1)*e,s=Math.floor(i),o=R_(y8(t,s).subarray(0,s+1)),l=F_(t.subarray(s+1));return o+(l-o)*(i-s)}}function eJ(t,e,r=v8){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function tJ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Ma(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ao(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Py=Symbol("implicit");function Jw(){var t=new M_,e=[],r=[],n=Py;function i(s){let o=t.get(s);if(o===void 0){if(n!==Py)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new M_;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Jw(e,r).unknown(n)},Ma.apply(i,arguments),i}function zf(){var t=Jw().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<n,m=p?i:n,x=p?n:i;s=(x-m)/Math.max(1,f-c+u*2),l&&(s=Math.floor(s)),m+=(x-m-s*(f-c))*d,o=s*(1-c),l&&(m=Math.round(m),o=Math.round(o));var g=tJ(f).map(function(b){return m+s*b});return r(p?g.reverse():g)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return zf(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ma.apply(h(),arguments)}function w8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w8(e())},t}function mf(){return w8(zf.apply(null,arguments).paddingInner(1))}function Qw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function j8(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function k0(){}var Uf=.7,dx=1/Uf,ed="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rJ=/^#([0-9a-f]{3,8})$/,nJ=new RegExp(`^rgb\\(${ed},${ed},${ed}\\)$`),iJ=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),aJ=new RegExp(`^rgba\\(${ed},${ed},${ed},${qf}\\)$`),sJ=new RegExp(`^rgba\\(${Is},${Is},${Is},${qf}\\)$`),oJ=new RegExp(`^hsl\\(${qf},${Is},${Is}\\)$`),lJ=new RegExp(`^hsla\\(${qf},${Is},${Is},${qf}\\)$`),B_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qw(k0,Hf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$_,formatHex:$_,formatHex8:cJ,formatHsl:uJ,formatRgb:z_,toString:z_});function $_(){return this.rgb().formatHex()}function cJ(){return this.rgb().formatHex8()}function uJ(){return N8(this).formatHsl()}function z_(){return this.rgb().formatRgb()}function Hf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=rJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?U_(e):r===3?new Ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nJ.exec(t))?new Ui(e[1],e[2],e[3],1):(e=iJ.exec(t))?new Ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aJ.exec(t))?Gp(e[1],e[2],e[3],e[4]):(e=sJ.exec(t))?Gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oJ.exec(t))?W_(e[1],e[2]/100,e[3]/100,1):(e=lJ.exec(t))?W_(e[1],e[2]/100,e[3]/100,e[4]):B_.hasOwnProperty(t)?U_(B_[t]):t==="transparent"?new Ui(NaN,NaN,NaN,0):null}function U_(t){return new Ui(t>>16&255,t>>8&255,t&255,1)}function Gp(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ui(t,e,r,n)}function dJ(t){return t instanceof k0||(t=Hf(t)),t?(t=t.rgb(),new Ui(t.r,t.g,t.b,t.opacity)):new Ui}function ky(t,e,r,n){return arguments.length===1?dJ(t):new Ui(t,e,r,n??1)}function Ui(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Qw(Ui,ky,j8(k0,{brighter(t){return t=t==null?dx:Math.pow(dx,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uf:Math.pow(Uf,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ui(xc(this.r),xc(this.g),xc(this.b),hx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q_,formatHex:q_,formatHex8:hJ,formatRgb:H_,toString:H_}));function q_(){return`#${lc(this.r)}${lc(this.g)}${lc(this.b)}`}function hJ(){return`#${lc(this.r)}${lc(this.g)}${lc(this.b)}${lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function H_(){const t=hx(this.opacity);return`${t===1?"rgb(":"rgba("}${xc(this.r)}, ${xc(this.g)}, ${xc(this.b)}${t===1?")":`, ${t})`}`}function hx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function lc(t){return t=xc(t),(t<16?"0":"")+t.toString(16)}function W_(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new es(t,e,r,n)}function N8(t){if(t instanceof es)return new es(t.h,t.s,t.l,t.opacity);if(t instanceof k0||(t=Hf(t)),!t)return new es;if(t instanceof es)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new es(o,l,c,t.opacity)}function fJ(t,e,r,n){return arguments.length===1?N8(t):new es(t,e,r,n??1)}function es(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Qw(es,fJ,j8(k0,{brighter(t){return t=t==null?dx:Math.pow(dx,t),new es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uf:Math.pow(Uf,t),new es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ui(Dv(t>=240?t-240:t+120,i,n),Dv(t,i,n),Dv(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new es(V_(this.h),Xp(this.s),Xp(this.l),hx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hx(this.opacity);return`${t===1?"hsl(":"hsla("}${V_(this.h)}, ${Xp(this.s)*100}%, ${Xp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function V_(t){return t=(t||0)%360,t<0?t+360:t}function Xp(t){return Math.max(0,Math.min(1,t||0))}function Dv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Zw=t=>()=>t;function pJ(t,e){return function(r){return t+r*e}}function mJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function xJ(t){return(t=+t)==1?_8:function(e,r){return r-e?mJ(e,r,t):Zw(isNaN(e)?r:e)}}function _8(t,e){var r=e-t;return r?pJ(t,r):Zw(isNaN(t)?e:t)}const G_=function t(e){var r=xJ(e);function n(i,s){var o=r((i=ky(i)).r,(s=ky(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=_8(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function gJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function vJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Kd(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function yJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function fx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function wJ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Kd(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ty=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mv=new RegExp(Ty.source,"g");function jJ(t){return function(){return t}}function NJ(t){return function(e){return t(e)+""}}function _J(t,e){var r=Ty.lastIndex=Mv.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=Ty.exec(t))&&(i=Mv.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:fx(n,i)})),r=Mv.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?NJ(c[0].x):jJ(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Kd(t,e){var r=typeof e,n;return e==null||r==="boolean"?Zw(e):(r==="number"?fx:r==="string"?(n=Hf(e))?(e=n,G_):_J:e instanceof Hf?G_:e instanceof Date?yJ:vJ(e)?gJ:Array.isArray(e)?bJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wJ:fx)(t,e)}function e5(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function SJ(t,e){e===void 0&&(e=t,t=Kd);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function AJ(t){return function(){return t}}function px(t){return+t}var X_=[0,1];function Pi(t){return t}function Iy(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:AJ(isNaN(e)?NaN:.5)}function CJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function EJ(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=Iy(i,n),s=r(o,s)):(n=Iy(n,i),s=r(s,o)),function(l){return s(n(l))}}function OJ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Iy(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=P0(t,l,1,n)-1;return s[c](i[c](l))}}function T0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qg(){var t=X_,e=X_,r=Kd,n,i,s,o=Pi,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==Pi&&(o=CJ(t[0],t[f-1])),l=f>2?OJ:EJ,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(c||(c=l(t.map(n),e,r)))(n(o(f)))}return h.invert=function(f){return o(i((u||(u=l(e,t.map(n),fx)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,px),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=e5,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Pi,d()):o!==Pi},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return n=f,i=p,d()}}function t5(){return qg()(Pi,Pi)}function PJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function pd(t){return t=mx(Math.abs(t)),t?t[1]:NaN}function kJ(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function TJ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var IJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wf(t){if(!(e=IJ.exec(t)))throw new Error("invalid format: "+t);var e;return new r5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wf.prototype=r5.prototype;function r5(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}r5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DJ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var S8;function MJ(t,e){var r=mx(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(S8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+mx(t,Math.max(0,e+s-1))[0]}function Y_(t,e){var r=mx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const K_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:PJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Y_(t*100,e),r:Y_,s:MJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function J_(t){return t}var Q_=Array.prototype.map,Z_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LJ(t){var e=t.grouping===void 0||t.thousands===void 0?J_:kJ(Q_.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?J_:TJ(Q_.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Wf(h);var f=h.fill,p=h.align,m=h.sign,x=h.symbol,g=h.zero,b=h.width,y=h.comma,w=h.precision,j=h.trim,_=h.type;_==="n"?(y=!0,_="g"):K_[_]||(w===void 0&&(w=12),j=!0,_="g"),(g||f==="0"&&p==="=")&&(g=!0,f="0",p="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=x==="$"?n:/[%p]/.test(_)?o:"",O=K_[_],M=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function B(T){var E=S,R=A,F,W,$;if(_==="c")R=O(T)+R,T="";else{T=+T;var z=T<0||1/T<0;if(T=isNaN(T)?c:O(Math.abs(T),w),j&&(T=DJ(T)),z&&+T==0&&m!=="+"&&(z=!1),E=(z?m==="("?m:l:m==="-"||m==="("?"":m)+E,R=(_==="s"?Z_[8+S8/3]:"")+R+(z&&m==="("?")":""),M){for(F=-1,W=T.length;++F<W;)if($=T.charCodeAt(F),48>$||$>57){R=($===46?i+T.slice(F+1):T.slice(F))+R,T=T.slice(0,F);break}}}y&&!g&&(T=e(T,1/0));var X=E.length+T.length+R.length,Y=X<b?new Array(b-X+1).join(f):"";switch(y&&g&&(T=e(Y+T,Y.length?b-R.length:1/0),Y=""),p){case"<":T=E+T+R+Y;break;case"=":T=E+Y+T+R;break;case"^":T=Y.slice(0,X=Y.length>>1)+E+T+R+Y.slice(X);break;default:T=Y+E+T+R;break}return s(T)}return B.toString=function(){return h+""},B}function d(h,f){var p=u((h=Wf(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(pd(f)/3)))*3,x=Math.pow(10,-m),g=Z_[8+m/3];return function(b){return p(x*b)+g}}return{format:u,formatPrefix:d}}var Yp,n5,A8;RJ({thousands:",",grouping:[3],currency:["$",""]});function RJ(t){return Yp=LJ(t),n5=Yp.format,A8=Yp.formatPrefix,Yp}function FJ(t){return Math.max(0,-pd(Math.abs(t)))}function BJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pd(e)/3)))*3-pd(Math.abs(t)))}function $J(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pd(e)-pd(t))+1}function C8(t,e,r,n){var i=Oy(t,e,r),s;switch(n=Wf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=BJ(i,o))&&(n.precision=s),A8(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=$J(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=FJ(i))&&(n.precision=s-(n.type==="%")*2);break}}return n5(n)}function Sl(t){var e=t.domain;return t.ticks=function(r){var n=e();return Cy(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return C8(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Ey(o,l,r),u===c)return n[i]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function xx(){var t=t5();return t.copy=function(){return T0(t,xx())},Ma.apply(t,arguments),Sl(t)}function E8(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,px),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return E8(t).unknown(e)},t=arguments.length?Array.from(t,px):[0,1],Sl(r)}function O8(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function e4(t){return Math.log(t)}function t4(t){return Math.exp(t)}function zJ(t){return-Math.log(-t)}function UJ(t){return-Math.exp(-t)}function qJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HJ(t){return t===10?qJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function WJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function r4(t){return(e,r)=>-t(-e,r)}function i5(t){const e=t(e4,t4),r=e.domain;let n=10,i,s;function o(){return i=WJ(n),s=HJ(n),r()[0]<0?(i=r4(i),s=r4(s),t(zJ,UJ)):t(e4,t4),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),m,x;const g=l==null?10:+l;let b=[];if(!(n%1)&&p-f<g){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(m=1;m<n;++m)if(x=f<0?m/s(-f):m*s(f),!(x<u)){if(x>d)break;b.push(x)}}else for(;f<=p;++f)for(m=n-1;m>=1;--m)if(x=f>0?m/s(-f):m*s(f),!(x<u)){if(x>d)break;b.push(x)}b.length*2<g&&(b=Cy(u,d,g))}else b=Cy(f,p,Math.min(p-f,g)).map(s);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Wf(c)).precision==null&&(c.trim=!0),c=n5(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(O8(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function P8(){const t=i5(qg()).domain([1,10]);return t.copy=()=>T0(t,P8()).base(t.base()),Ma.apply(t,arguments),t}function n4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function i4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function a5(t){var e=1,r=t(n4(e),i4(e));return r.constant=function(n){return arguments.length?t(n4(e=+n),i4(e)):e},Sl(r)}function k8(){var t=a5(qg());return t.copy=function(){return T0(t,k8()).constant(t.constant())},Ma.apply(t,arguments)}function a4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function VJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function GJ(t){return t<0?-t*t:t*t}function s5(t){var e=t(Pi,Pi),r=1;function n(){return r===1?t(Pi,Pi):r===.5?t(VJ,GJ):t(a4(r),a4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Sl(e)}function o5(){var t=s5(qg());return t.copy=function(){return T0(t,o5()).exponent(t.exponent())},Ma.apply(t,arguments),t}function XJ(){return o5.apply(null,arguments).exponent(.5)}function s4(t){return Math.sign(t)*t*t}function YJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function T8(){var t=t5(),e=[0,1],r=!1,n;function i(s){var o=YJ(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(s4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,px)).map(s4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return T8(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ma.apply(i,arguments),Sl(i)}function I8(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=eJ(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[P0(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ml),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return I8().domain(t).range(e).unknown(n)},Ma.apply(s,arguments)}function D8(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[P0(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return D8().domain([t,e]).range(i).unknown(s)},Ma.apply(Sl(o),arguments)}function M8(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[P0(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return M8().domain(t).range(e).unknown(r)},Ma.apply(i,arguments)}const Lv=new Date,Rv=new Date;function On(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>On(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(Lv.setTime(+s),Rv.setTime(+o),t(Lv),t(Rv),Math.floor(r(Lv,Rv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const gx=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):gx);gx.range;const ho=1e3,Ea=ho*60,fo=Ea*60,wo=fo*24,l5=wo*7,o4=wo*30,Fv=wo*365,cc=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ho)},(t,e)=>(e-t)/ho,t=>t.getUTCSeconds());cc.range;const c5=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ho)},(t,e)=>{t.setTime(+t+e*Ea)},(t,e)=>(e-t)/Ea,t=>t.getMinutes());c5.range;const u5=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ea)},(t,e)=>(e-t)/Ea,t=>t.getUTCMinutes());u5.range;const d5=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ho-t.getMinutes()*Ea)},(t,e)=>{t.setTime(+t+e*fo)},(t,e)=>(e-t)/fo,t=>t.getHours());d5.range;const h5=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fo)},(t,e)=>(e-t)/fo,t=>t.getUTCHours());h5.range;const I0=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ea)/wo,t=>t.getDate()-1);I0.range;const Hg=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wo,t=>t.getUTCDate()-1);Hg.range;const L8=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wo,t=>Math.floor(t/wo));L8.range;function Lc(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ea)/l5)}const Wg=Lc(0),vx=Lc(1),KJ=Lc(2),JJ=Lc(3),md=Lc(4),QJ=Lc(5),ZJ=Lc(6);Wg.range;vx.range;KJ.range;JJ.range;md.range;QJ.range;ZJ.range;function Rc(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/l5)}const Vg=Rc(0),bx=Rc(1),eQ=Rc(2),tQ=Rc(3),xd=Rc(4),rQ=Rc(5),nQ=Rc(6);Vg.range;bx.range;eQ.range;tQ.range;xd.range;rQ.range;nQ.range;const f5=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());f5.range;const p5=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());p5.range;const jo=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});jo.range;const No=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());No.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});No.range;function R8(t,e,r,n,i,s){const o=[[cc,1,ho],[cc,5,5*ho],[cc,15,15*ho],[cc,30,30*ho],[s,1,Ea],[s,5,5*Ea],[s,15,15*Ea],[s,30,30*Ea],[i,1,fo],[i,3,3*fo],[i,6,6*fo],[i,12,12*fo],[n,1,wo],[n,2,2*wo],[r,1,l5],[e,1,o4],[e,3,3*o4],[t,1,Fv]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),m=p?p.range(u,+d+1):[];return f?m.reverse():m}function c(u,d,h){const f=Math.abs(d-u)/h,p=Kw(([,,g])=>g).right(o,f);if(p===o.length)return t.every(Oy(u/Fv,d/Fv,h));if(p===0)return gx.every(Math.max(Oy(u,d,h),1));const[m,x]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return m.every(x)}return[l,c]}const[iQ,aQ]=R8(No,p5,Vg,L8,h5,u5),[sQ,oQ]=R8(jo,f5,Wg,I0,d5,c5);function Bv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $v(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function lQ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=qh(i),d=Hh(i),h=qh(s),f=Hh(s),p=qh(o),m=Hh(o),x=qh(l),g=Hh(l),b=qh(c),y=Hh(c),w={a:z,A:X,b:Y,B:oe,c:null,d:f4,e:f4,f:kQ,g:zQ,G:qQ,H:EQ,I:OQ,j:PQ,L:F8,m:TQ,M:IQ,p:fe,q:D,Q:x4,s:g4,S:DQ,u:MQ,U:LQ,V:RQ,w:FQ,W:BQ,x:null,X:null,y:$Q,Y:UQ,Z:HQ,"%":m4},j={a:I,A:U,b:J,B:Q,c:null,d:p4,e:p4,f:XQ,g:iZ,G:sZ,H:WQ,I:VQ,j:GQ,L:$8,m:YQ,M:KQ,p:de,q:xe,Q:x4,s:g4,S:JQ,u:QQ,U:ZQ,V:eZ,w:tZ,W:rZ,x:null,X:null,y:nZ,Y:aZ,Z:oZ,"%":m4},_={a:B,A:T,b:E,B:R,c:F,d:d4,e:d4,f:_Q,g:u4,G:c4,H:h4,I:h4,j:yQ,L:NQ,m:bQ,M:wQ,p:M,q:vQ,Q:AQ,s:CQ,S:jQ,u:fQ,U:pQ,V:mQ,w:hQ,W:xQ,x:W,X:$,y:u4,Y:c4,Z:gQ,"%":SQ};w.x=S(r,w),w.X=S(n,w),w.c=S(e,w),j.x=S(r,j),j.X=S(n,j),j.c=S(e,j);function S(le,_e){return function(Oe){var ae=[],Pe=-1,De=0,he=le.length,te,Ue,ee;for(Oe instanceof Date||(Oe=new Date(+Oe));++Pe<he;)le.charCodeAt(Pe)===37&&(ae.push(le.slice(De,Pe)),(Ue=l4[te=le.charAt(++Pe)])!=null?te=le.charAt(++Pe):Ue=te==="e"?" ":"0",(ee=_e[te])&&(te=ee(Oe,Ue)),ae.push(te),De=Pe+1);return ae.push(le.slice(De,Pe)),ae.join("")}}function A(le,_e){return function(Oe){var ae=Uh(1900,void 0,1),Pe=O(ae,le,Oe+="",0),De,he;if(Pe!=Oe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(_e&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(De=$v(Uh(ae.y,0,1)),he=De.getUTCDay(),De=he>4||he===0?bx.ceil(De):bx(De),De=Hg.offset(De,(ae.V-1)*7),ae.y=De.getUTCFullYear(),ae.m=De.getUTCMonth(),ae.d=De.getUTCDate()+(ae.w+6)%7):(De=Bv(Uh(ae.y,0,1)),he=De.getDay(),De=he>4||he===0?vx.ceil(De):vx(De),De=I0.offset(De,(ae.V-1)*7),ae.y=De.getFullYear(),ae.m=De.getMonth(),ae.d=De.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),he="Z"in ae?$v(Uh(ae.y,0,1)).getUTCDay():Bv(Uh(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(he+5)%7:ae.w+ae.U*7-(he+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,$v(ae)):Bv(ae)}}function O(le,_e,Oe,ae){for(var Pe=0,De=_e.length,he=Oe.length,te,Ue;Pe<De;){if(ae>=he)return-1;if(te=_e.charCodeAt(Pe++),te===37){if(te=_e.charAt(Pe++),Ue=_[te in l4?_e.charAt(Pe++):te],!Ue||(ae=Ue(le,Oe,ae))<0)return-1}else if(te!=Oe.charCodeAt(ae++))return-1}return ae}function M(le,_e,Oe){var ae=u.exec(_e.slice(Oe));return ae?(le.p=d.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function B(le,_e,Oe){var ae=p.exec(_e.slice(Oe));return ae?(le.w=m.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function T(le,_e,Oe){var ae=h.exec(_e.slice(Oe));return ae?(le.w=f.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function E(le,_e,Oe){var ae=b.exec(_e.slice(Oe));return ae?(le.m=y.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function R(le,_e,Oe){var ae=x.exec(_e.slice(Oe));return ae?(le.m=g.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function F(le,_e,Oe){return O(le,e,_e,Oe)}function W(le,_e,Oe){return O(le,r,_e,Oe)}function $(le,_e,Oe){return O(le,n,_e,Oe)}function z(le){return o[le.getDay()]}function X(le){return s[le.getDay()]}function Y(le){return c[le.getMonth()]}function oe(le){return l[le.getMonth()]}function fe(le){return i[+(le.getHours()>=12)]}function D(le){return 1+~~(le.getMonth()/3)}function I(le){return o[le.getUTCDay()]}function U(le){return s[le.getUTCDay()]}function J(le){return c[le.getUTCMonth()]}function Q(le){return l[le.getUTCMonth()]}function de(le){return i[+(le.getUTCHours()>=12)]}function xe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var _e=S(le+="",w);return _e.toString=function(){return le},_e},parse:function(le){var _e=A(le+="",!1);return _e.toString=function(){return le},_e},utcFormat:function(le){var _e=S(le+="",j);return _e.toString=function(){return le},_e},utcParse:function(le){var _e=A(le+="",!0);return _e.toString=function(){return le},_e}}}var l4={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,cQ=/^%/,uQ=/[\\^$*+?|[\]().{}]/g;function Vt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function dQ(t){return t.replace(uQ,"\\$&")}function qh(t){return new RegExp("^(?:"+t.map(dQ).join("|")+")","i")}function Hh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function hQ(t,e,r){var n=Hn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function fQ(t,e,r){var n=Hn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function pQ(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function mQ(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function xQ(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function c4(t,e,r){var n=Hn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function u4(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gQ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vQ(t,e,r){var n=Hn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function bQ(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function d4(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function yQ(t,e,r){var n=Hn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function h4(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function wQ(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function jQ(t,e,r){var n=Hn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function NQ(t,e,r){var n=Hn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function _Q(t,e,r){var n=Hn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SQ(t,e,r){var n=cQ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function AQ(t,e,r){var n=Hn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function CQ(t,e,r){var n=Hn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function f4(t,e){return Vt(t.getDate(),e,2)}function EQ(t,e){return Vt(t.getHours(),e,2)}function OQ(t,e){return Vt(t.getHours()%12||12,e,2)}function PQ(t,e){return Vt(1+I0.count(jo(t),t),e,3)}function F8(t,e){return Vt(t.getMilliseconds(),e,3)}function kQ(t,e){return F8(t,e)+"000"}function TQ(t,e){return Vt(t.getMonth()+1,e,2)}function IQ(t,e){return Vt(t.getMinutes(),e,2)}function DQ(t,e){return Vt(t.getSeconds(),e,2)}function MQ(t){var e=t.getDay();return e===0?7:e}function LQ(t,e){return Vt(Wg.count(jo(t)-1,t),e,2)}function B8(t){var e=t.getDay();return e>=4||e===0?md(t):md.ceil(t)}function RQ(t,e){return t=B8(t),Vt(md.count(jo(t),t)+(jo(t).getDay()===4),e,2)}function FQ(t){return t.getDay()}function BQ(t,e){return Vt(vx.count(jo(t)-1,t),e,2)}function $Q(t,e){return Vt(t.getFullYear()%100,e,2)}function zQ(t,e){return t=B8(t),Vt(t.getFullYear()%100,e,2)}function UQ(t,e){return Vt(t.getFullYear()%1e4,e,4)}function qQ(t,e){var r=t.getDay();return t=r>=4||r===0?md(t):md.ceil(t),Vt(t.getFullYear()%1e4,e,4)}function HQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vt(e/60|0,"0",2)+Vt(e%60,"0",2)}function p4(t,e){return Vt(t.getUTCDate(),e,2)}function WQ(t,e){return Vt(t.getUTCHours(),e,2)}function VQ(t,e){return Vt(t.getUTCHours()%12||12,e,2)}function GQ(t,e){return Vt(1+Hg.count(No(t),t),e,3)}function $8(t,e){return Vt(t.getUTCMilliseconds(),e,3)}function XQ(t,e){return $8(t,e)+"000"}function YQ(t,e){return Vt(t.getUTCMonth()+1,e,2)}function KQ(t,e){return Vt(t.getUTCMinutes(),e,2)}function JQ(t,e){return Vt(t.getUTCSeconds(),e,2)}function QQ(t){var e=t.getUTCDay();return e===0?7:e}function ZQ(t,e){return Vt(Vg.count(No(t)-1,t),e,2)}function z8(t){var e=t.getUTCDay();return e>=4||e===0?xd(t):xd.ceil(t)}function eZ(t,e){return t=z8(t),Vt(xd.count(No(t),t)+(No(t).getUTCDay()===4),e,2)}function tZ(t){return t.getUTCDay()}function rZ(t,e){return Vt(bx.count(No(t)-1,t),e,2)}function nZ(t,e){return Vt(t.getUTCFullYear()%100,e,2)}function iZ(t,e){return t=z8(t),Vt(t.getUTCFullYear()%100,e,2)}function aZ(t,e){return Vt(t.getUTCFullYear()%1e4,e,4)}function sZ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?xd(t):xd.ceil(t),Vt(t.getUTCFullYear()%1e4,e,4)}function oZ(){return"+0000"}function m4(){return"%"}function x4(t){return+t}function g4(t){return Math.floor(+t/1e3)}var wu,U8,q8;lZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lZ(t){return wu=lQ(t),U8=wu.format,wu.parse,q8=wu.utcFormat,wu.utcParse,wu}function cZ(t){return new Date(t)}function uZ(t){return t instanceof Date?+t:+new Date(+t)}function m5(t,e,r,n,i,s,o,l,c,u){var d=t5(),h=d.invert,f=d.domain,p=u(".%L"),m=u(":%S"),x=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),j=u("%Y");function _(S){return(c(S)<S?p:l(S)<S?m:o(S)<S?x:s(S)<S?g:n(S)<S?i(S)<S?b:y:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(h(S))},d.domain=function(S){return arguments.length?f(Array.from(S,uZ)):f().map(cZ)},d.ticks=function(S){var A=f();return t(A[0],A[A.length-1],S??10)},d.tickFormat=function(S,A){return A==null?_:u(A)},d.nice=function(S){var A=f();return(!S||typeof S.range!="function")&&(S=e(A[0],A[A.length-1],S??10)),S?f(O8(A,S)):d},d.copy=function(){return T0(d,m5(t,e,r,n,i,s,o,l,c,u))},d}function dZ(){return Ma.apply(m5(sQ,oQ,jo,f5,Wg,I0,d5,c5,cc,U8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hZ(){return Ma.apply(m5(iQ,aQ,No,p5,Vg,Hg,h5,u5,cc,q8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gg(){var t=0,e=1,r,n,i,s,o=Pi,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(s(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var p,m;return arguments.length?([p,m]=f,o=h(p,m),u):[o(0),o(1)]}}return u.range=d(Kd),u.rangeRound=d(e5),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function Al(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function H8(){var t=Sl(Gg()(Pi));return t.copy=function(){return Al(t,H8())},Ao.apply(t,arguments)}function W8(){var t=i5(Gg()).domain([1,10]);return t.copy=function(){return Al(t,W8()).base(t.base())},Ao.apply(t,arguments)}function V8(){var t=a5(Gg());return t.copy=function(){return Al(t,V8()).constant(t.constant())},Ao.apply(t,arguments)}function x5(){var t=s5(Gg());return t.copy=function(){return Al(t,x5()).exponent(t.exponent())},Ao.apply(t,arguments)}function fZ(){return x5.apply(null,arguments).exponent(.5)}function G8(){var t=[],e=Pi;function r(n){if(n!=null&&!isNaN(n=+n))return e((P0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ml),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>ZK(t,s/n))},r.copy=function(){return G8(e).domain(t)},Ao.apply(r,arguments)}function Xg(){var t=0,e=.5,r=1,n=1,i,s,o,l,c,u=Pi,d,h=!1,f;function p(x){return isNaN(x=+x)?f:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(h?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),s=d(e=+e),o=d(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p):[t,e,r]},p.clamp=function(x){return arguments.length?(h=!!x,p):h},p.interpolator=function(x){return arguments.length?(u=x,p):u};function m(x){return function(g){var b,y,w;return arguments.length?([b,y,w]=g,u=SJ(x,[b,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(Kd),p.rangeRound=m(e5),p.unknown=function(x){return arguments.length?(f=x,p):f},function(x){return d=x,i=x(t),s=x(e),o=x(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p}}function X8(){var t=Sl(Xg()(Pi));return t.copy=function(){return Al(t,X8())},Ao.apply(t,arguments)}function Y8(){var t=i5(Xg()).domain([.1,1,10]);return t.copy=function(){return Al(t,Y8()).base(t.base())},Ao.apply(t,arguments)}function K8(){var t=a5(Xg());return t.copy=function(){return Al(t,K8()).constant(t.constant())},Ao.apply(t,arguments)}function g5(){var t=s5(Xg());return t.copy=function(){return Al(t,g5()).exponent(t.exponent())},Ao.apply(t,arguments)}function pZ(){return g5.apply(null,arguments).exponent(.5)}const v4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zf,scaleDiverging:X8,scaleDivergingLog:Y8,scaleDivergingPow:g5,scaleDivergingSqrt:pZ,scaleDivergingSymlog:K8,scaleIdentity:E8,scaleImplicit:Py,scaleLinear:xx,scaleLog:P8,scaleOrdinal:Jw,scalePoint:mf,scalePow:o5,scaleQuantile:I8,scaleQuantize:D8,scaleRadial:T8,scaleSequential:H8,scaleSequentialLog:W8,scaleSequentialPow:x5,scaleSequentialQuantile:G8,scaleSequentialSqrt:fZ,scaleSequentialSymlog:V8,scaleSqrt:XJ,scaleSymlog:k8,scaleThreshold:M8,scaleTime:dZ,scaleUtc:hZ,tickFormat:C8},Symbol.toStringTag,{value:"Module"}));var mZ=zd;function xZ(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],o=e(s);if(o!=null&&(l===void 0?o===o&&!mZ(o):r(o,l)))var l=o,c=s}return c}var Yg=xZ;function gZ(t,e){return t>e}var J8=gZ,vZ=Yg,bZ=J8,yZ=Yd;function wZ(t){return t&&t.length?vZ(t,yZ,bZ):void 0}var jZ=wZ;const Kg=lr(jZ);function NZ(t,e){return t<e}var Q8=NZ,_Z=Yg,SZ=Q8,AZ=Yd;function CZ(t){return t&&t.length?_Z(t,AZ,SZ):void 0}var EZ=CZ;const Jg=lr(EZ);var OZ=kw,PZ=qs,kZ=s8,TZ=Vi;function IZ(t,e){var r=TZ(t)?OZ:kZ;return r(t,PZ(e))}var DZ=IZ,MZ=i8,LZ=DZ;function RZ(t,e){return MZ(LZ(t,e),1)}var FZ=RZ;const BZ=lr(FZ);var $Z=Vw;function zZ(t,e){return $Z(t,e)}var UZ=zZ;const D0=lr(UZ);var Jd=1e9,qZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},b5,Lr=!0,ka="[DecimalError] ",gc=ka+"Invalid argument: ",v5=ka+"Exponent out of range: ",Qd=Math.floor,Zl=Math.pow,HZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sa,Fn=1e7,kr=7,Z8=9007199254740991,yx=Qd(Z8/kr),Ze={};Ze.absoluteValue=Ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ze.comparedTo=Ze.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*kr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ze.dividedBy=Ze.div=function(t){return go(this,new this.constructor(t))};Ze.dividedToIntegerBy=Ze.idiv=function(t){var e=this,r=e.constructor;return vr(go(e,new r(t),0,1),r.precision)};Ze.equals=Ze.eq=function(t){return!this.cmp(t)};Ze.exponent=function(){return hn(this)};Ze.greaterThan=Ze.gt=function(t){return this.cmp(t)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(t){return this.cmp(t)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(t){return this.cmp(t)<0};Ze.lessThanOrEqualTo=Ze.lte=function(t){return this.cmp(t)<1};Ze.logarithm=Ze.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(sa))throw Error(ka+"NaN");if(r.s<1)throw Error(ka+(r.s?"NaN":"-Infinity"));return r.eq(sa)?new n(0):(Lr=!1,e=go(Vf(r,s),Vf(t,s),s),Lr=!0,vr(e,i))};Ze.minus=Ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rE(e,t):eE(e,(t.s=-t.s,t))};Ze.modulo=Ze.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ka+"NaN");return r.s?(Lr=!1,e=go(r,t,0,1).times(t),Lr=!0,r.minus(e)):vr(new n(r),i)};Ze.naturalExponential=Ze.exp=function(){return tE(this)};Ze.naturalLogarithm=Ze.ln=function(){return Vf(this)};Ze.negated=Ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ze.plus=Ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eE(e,t):rE(e,(t.s=-t.s,t))};Ze.precision=Ze.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gc+t);if(e=hn(i)+1,n=i.d.length-1,r=n*kr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ze.squareRoot=Ze.sqrt=function(){var t,e,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ka+"NaN")}for(t=hn(l),Lr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Cs(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Qd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(go(l,s,o+2)).times(.5),Cs(s.d).slice(0,o)===(e=Cs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(vr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return Lr=!0,vr(n,r)};Ze.times=Ze.mul=function(t){var e,r,n,i,s,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=p.length,c<u&&(s=f,f=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+p[n]*f[i-n-1]+e,s[i--]=l%Fn|0,e=l/Fn|0;s[i]=(s[i]+e)%Fn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Lr?vr(t,h.precision):t};Ze.toDecimalPlaces=Ze.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Rs(t,0,Jd),e===void 0?e=n.rounding:Rs(e,0,8),vr(r,t+hn(r)+1,e))};Ze.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Sc(n,!0):(Rs(t,0,Jd),e===void 0?e=i.rounding:Rs(e,0,8),n=vr(new i(n),t+1,e),r=Sc(n,!0,t+1)),r};Ze.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Sc(i):(Rs(t,0,Jd),e===void 0?e=s.rounding:Rs(e,0,8),n=vr(new s(i),t+hn(i)+1,e),r=Sc(n.abs(),!1,t+hn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ze.toInteger=Ze.toint=function(){var t=this,e=t.constructor;return vr(new e(t),hn(t)+1,e.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(t){var e,r,n,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(sa);if(l=new c(l),!l.s){if(t.s<1)throw Error(ka+"Infinity");return l}if(l.eq(sa))return l;if(n=c.precision,t.eq(sa))return vr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=d<0?-d:d)<=Z8){for(i=new c(sa),e=Math.ceil(n/kr+4),Lr=!1;r%2&&(i=i.times(l),y4(i.d,e)),r=Qd(r/2),r!==0;)l=l.times(l),y4(l.d,e);return Lr=!0,t.s<0?new c(sa).div(i):vr(i,n)}}else if(s<0)throw Error(ka+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Lr=!1,i=t.times(Vf(l,n+u)),Lr=!0,i=tE(i),i.s=s,i};Ze.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=hn(i),n=Sc(i,r<=s.toExpNeg||r>=s.toExpPos)):(Rs(t,1,Jd),e===void 0?e=s.rounding:Rs(e,0,8),i=vr(new s(i),t,e),r=hn(i),n=Sc(i,t<=r||r<=s.toExpNeg,t)),n};Ze.toSignificantDigits=Ze.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Rs(t,1,Jd),e===void 0?e=n.rounding:Rs(e,0,8)),vr(new n(r),t,e)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=hn(t),r=t.constructor;return Sc(t,e<=r.toExpNeg||e>=r.toExpPos)};function eE(t,e){var r,n,i,s,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Lr?vr(e,h):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(h/kr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Fn|0,c[s]%=Fn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Lr?vr(e,h):e}function Rs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(gc+t)}function Cs(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=kr-n.length,r&&(s+=il(r)),s+=n;o=t[e],n=o+"",r=kr-n.length,r&&(s+=il(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var go=function(){function t(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Fn|0,o=s/Fn|0;return o&&n.unshift(o),n}function e(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Fn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,d,h,f,p,m,x,g,b,y,w,j,_,S,A,O,M=n.constructor,B=n.s==i.s?1:-1,T=n.d,E=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(ka+"Division by zero");for(c=n.e-i.e,A=E.length,_=T.length,p=new M(B),m=p.d=[],u=0;E[u]==(T[u]||0);)++u;if(E[u]>(T[u]||0)&&--c,s==null?y=s=M.precision:o?y=s+(hn(n)-hn(i))+1:y=s,y<0)return new M(0);if(y=y/kr+2|0,u=0,A==1)for(d=0,E=E[0],y++;(u<_||d)&&y--;u++)w=d*Fn+(T[u]||0),m[u]=w/E|0,d=w%E|0;else{for(d=Fn/(E[0]+1)|0,d>1&&(E=t(E,d),T=t(T,d),A=E.length,_=T.length),j=A,x=T.slice(0,A),g=x.length;g<A;)x[g++]=0;O=E.slice(),O.unshift(0),S=E[0],E[1]>=Fn/2&&++S;do d=0,l=e(E,x,A,g),l<0?(b=x[0],A!=g&&(b=b*Fn+(x[1]||0)),d=b/S|0,d>1?(d>=Fn&&(d=Fn-1),h=t(E,d),f=h.length,g=x.length,l=e(h,x,f,g),l==1&&(d--,r(h,A<f?O:E,f))):(d==0&&(l=d=1),h=E.slice()),f=h.length,f<g&&h.unshift(0),r(x,h,g),l==-1&&(g=x.length,l=e(E,x,A,g),l<1&&(d++,r(x,A<g?O:E,g))),g=x.length):l===0&&(d++,x=[0]),m[u++]=d,l&&x[0]?x[g++]=T[j]||0:(x=[T[j]],g=1);while((j++<_||x[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=c,vr(p,o?s+hn(p)+1:s)}}();function tE(t,e){var r,n,i,s,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(hn(t)>16)throw Error(v5+hn(t));if(!t.s)return new d(sa);for(e==null?(Lr=!1,l=h):l=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Zl(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(sa),d.precision=l;;){if(i=vr(i.times(t),l),r=r.times(++c),o=s.plus(go(i,r,l)),Cs(o.d).slice(0,l)===Cs(s.d).slice(0,l)){for(;u--;)s=vr(s.times(s),l);return d.precision=h,e==null?(Lr=!0,vr(s,h)):s}s=o}}function hn(t){for(var e=t.e*kr,r=t.d[0];r>=10;r/=10)e++;return e}function zv(t,e,r){if(e>t.LN10.sd())throw Lr=!0,r&&(t.precision=r),Error(ka+"LN10 precision limit exceeded");return vr(new t(t.LN10),e)}function il(t){for(var e="";t--;)e+="0";return e}function Vf(t,e){var r,n,i,s,o,l,c,u,d,h=1,f=10,p=t,m=p.d,x=p.constructor,g=x.precision;if(p.s<1)throw Error(ka+(p.s?"NaN":"-Infinity"));if(p.eq(sa))return new x(0);if(e==null?(Lr=!1,u=g):u=e,p.eq(10))return e==null&&(Lr=!0),zv(x,u);if(u+=f,x.precision=u,r=Cs(m),n=r.charAt(0),s=hn(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Cs(p.d),n=r.charAt(0),h++;s=hn(p),n>1?(p=new x("0."+r),s++):p=new x(n+"."+r.slice(1))}else return c=zv(x,u+2,g).times(s+""),p=Vf(new x(n+"."+r.slice(1)),u-f).plus(c),x.precision=g,e==null?(Lr=!0,vr(p,g)):p;for(l=o=p=go(p.minus(sa),p.plus(sa),u),d=vr(p.times(p),u),i=3;;){if(o=vr(o.times(d),u),c=l.plus(go(o,new x(i),u)),Cs(c.d).slice(0,u)===Cs(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(zv(x,u+2,g).times(s+""))),l=go(l,new x(h),u),x.precision=g,e==null?(Lr=!0,vr(l,g)):l;l=c,i+=2}}function b4(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Qd(r/kr),t.d=[],n=(r+1)%kr,r<0&&(n+=kr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=kr;n<i;)t.d.push(+e.slice(n,n+=kr));e=e.slice(n),n=kr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Lr&&(t.e>yx||t.e<-yx))throw Error(v5+r)}else t.s=0,t.e=0,t.d=[0];return t}function vr(t,e,r){var n,i,s,o,l,c,u,d,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=kr,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/kr),s=h.length,d>=s)return t;for(u=s=h[d],o=1;s>=10;s/=10)o++;n%=kr,i=n-kr+o}if(r!==void 0&&(s=Zl(10,o-i-1),l=u/s%10|0,c=e<0||h[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Zl(10,o-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(s=hn(t),h.length=1,e=e-s-1,h[0]=Zl(10,(kr-e%kr)%kr),t.e=Qd(-e/kr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,s=1,d--):(h.length=d+1,s=Zl(10,kr-n),h[d]=i>0?(u/Zl(10,o-i)%Zl(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==Fn&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=Fn)break;h[d--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Lr&&(t.e>yx||t.e<-yx))throw Error(v5+hn(t));return t}function rE(t,e){var r,n,i,s,o,l,c,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Lr?vr(e,p):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(p/kr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=Fn-1;--c[s],c[i]+=Fn}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Lr?vr(e,p):e):new f(0)}function Sc(t,e,r){var n,i=hn(t),s=Cs(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+il(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+il(-i-1)+s,r&&(n=r-o)>0&&(s+=il(n))):i>=o?(s+=il(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+il(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=il(n))),t.s<0?"-"+s:s}function y4(t,e){if(t.length>e)return t.length=e,!0}function nE(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return b4(o,s.toString())}else if(typeof s!="string")throw Error(gc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,HZ.test(s))b4(o,s);else throw Error(gc+s)}if(i.prototype=Ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nE,i.config=i.set=WZ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function WZ(t){if(!t||typeof t!="object")throw Error(ka+"Object expected");var e,r,n,i=["precision",1,Jd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Qd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(gc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gc+r+": "+n);return this}var b5=nE(qZ);sa=new b5(1);const hr=b5;function VZ(t){return KZ(t)||YZ(t)||XZ(t)||GZ()}function GZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XZ(t,e){if(t){if(typeof t=="string")return Dy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dy(t,e)}}function YZ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function KZ(t){if(Array.isArray(t))return Dy(t)}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var JZ=function(e){return e},iE={"@@functional/placeholder":!0},aE=function(e){return e===iE},w4=function(e){return function r(){return arguments.length===0||arguments.length===1&&aE(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},QZ=function t(e,r){return e===1?r:w4(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==iE}).length;return o>=e?r.apply(void 0,i):t(e-o,w4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return aE(h)?c.shift():h});return r.apply(void 0,VZ(d).concat(c))}))})},Qg=function(e){return QZ(e.length,e)},My=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},ZZ=Qg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),eee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return JZ;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Ly=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},sE=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function tee(t){var e;return t===0?e=1:e=Math.floor(new hr(t).abs().log(10).toNumber())+1,e}function ree(t,e,r){for(var n=new hr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var nee=Qg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),iee=Qg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),aee=Qg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Zg={rangeStep:ree,getDigitCount:tee,interpolateNumber:nee,uninterpolateNumber:iee,uninterpolateTruncation:aee};function Ry(t){return lee(t)||oee(t)||oE(t)||see()}function see(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lee(t){if(Array.isArray(t))return Fy(t)}function Gf(t,e){return dee(t)||uee(t,e)||oE(t,e)||cee()}function cee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oE(t,e){if(t){if(typeof t=="string")return Fy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fy(t,e)}}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function dee(t){if(Array.isArray(t))return t}function lE(t){var e=Gf(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function cE(t,e,r){if(t.lte(0))return new hr(0);var n=Zg.getDigitCount(t.toNumber()),i=new hr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,l=new hr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new hr(Math.ceil(c))}function hee(t,e,r){var n=1,i=new hr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new hr(10).pow(Zg.getDigitCount(t)-1),i=new hr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new hr(Math.floor(t)))}else t===0?i=new hr(Math.floor((e-1)/2)):r||(i=new hr(Math.floor(t)));var o=Math.floor((e-1)/2),l=eee(ZZ(function(c){return i.add(new hr(c-o).mul(n)).toNumber()}),My);return l(0,e)}function uE(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var s=cE(new hr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new hr(0):(o=new hr(t).add(e).div(2),o=o.sub(new hr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new hr(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?uE(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new hr(l).mul(s)),tickMax:o.add(new hr(c).mul(s))})}function fee(t){var e=Gf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=lE([r,n]),c=Gf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(Ry(My(0,i-1).map(function(){return 1/0}))):[].concat(Ry(My(0,i-1).map(function(){return-1/0})),[d]);return r>n?Ly(h):h}if(u===d)return hee(u,i,s);var f=uE(u,d,o,s),p=f.step,m=f.tickMin,x=f.tickMax,g=Zg.rangeStep(m,x.add(new hr(.1).mul(p)),p);return r>n?Ly(g):g}function pee(t,e){var r=Gf(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=lE([n,i]),l=Gf(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),h=cE(new hr(u).sub(c).div(d-1),s,0),f=[].concat(Ry(Zg.rangeStep(new hr(c),new hr(u).sub(new hr(.99).mul(h)),h)),[u]);return n>i?Ly(f):f}var mee=sE(fee),xee=sE(pee),gee="Invariant failed";function Ac(t,e){throw new Error(gee)}var vee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wx.apply(this,arguments)}function bee(t,e){return Nee(t)||jee(t,e)||wee(t,e)||yee()}function yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wee(t,e){if(t){if(typeof t=="string")return j4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j4(t,e)}}function j4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Nee(t){if(Array.isArray(t))return t}function _ee(t,e){if(t==null)return{};var r=See(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function See(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Aee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fE(n.key),n)}}function Eee(t,e,r){return e&&Cee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oee(t,e,r){return e=jx(e),Pee(t,dE()?Reflect.construct(e,r||[],jx(t).constructor):e.apply(t,r))}function Pee(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kee(t)}function kee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dE=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function Tee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},By(t,e)}function hE(t,e,r){return e=fE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fE(t){var e=Iee(t,"string");return gd(e)=="symbol"?e:e+""}function Iee(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M0=function(t){function e(){return Aee(this,e),Oee(this,e,arguments)}return Tee(e,t),Eee(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=_ee(n,vee),p=ut(f,!1);this.props.direction==="x"&&d.type!=="number"&&Ac();var m=c.map(function(x){var g=u(x,l),b=g.x,y=g.y,w=g.value,j=g.errorVal;if(!j)return null;var _=[],S,A;if(Array.isArray(j)){var O=bee(j,2);S=O[0],A=O[1]}else S=A=j;if(s==="vertical"){var M=d.scale,B=y+i,T=B+o,E=B-o,R=M(w-S),F=M(w+A);_.push({x1:F,y1:T,x2:F,y2:E}),_.push({x1:R,y1:B,x2:F,y2:B}),_.push({x1:R,y1:T,x2:R,y2:E})}else if(s==="horizontal"){var W=h.scale,$=b+i,z=$-o,X=$+o,Y=W(w-S),oe=W(w+A);_.push({x1:z,y1:oe,x2:X,y2:oe}),_.push({x1:$,y1:Y,x2:$,y2:oe}),_.push({x1:z,y1:Y,x2:X,y2:Y})}return ne.createElement(Wt,wx({className:"recharts-errorBar",key:"bar-".concat(_.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},p),_.map(function(fe){return ne.createElement("line",wx({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return ne.createElement(Wt,{className:"recharts-errorBars"},m)}}])}(ne.Component);hE(M0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hE(M0,"displayName","ErrorBar");function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function N4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(r),!0).forEach(function(n){Dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dee(t,e,r){return e=Mee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mee(t){var e=Lee(t,"string");return Xf(e)=="symbol"?e:e+""}function Lee(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pE=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=ia(r,mc);if(!o)return null;var l=mc.defaultProps,c=l!==void 0?zl(zl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,m=p.sectors||p.data||[];return d.concat(m.map(function(x){return{type:o.props.iconType||f.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?zl(zl({},f),h.props):{},m=p.dataKey,x=p.name,g=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:c.iconType||g||"square",color:y5(h),value:x||m,payload:p}}),zl(zl(zl({},c),mc.getWithHeight(o,i)),{},{payload:u,item:o})};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function _4(t){return $ee(t)||Bee(t)||Fee(t)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(t,e){if(t){if(typeof t=="string")return $y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(t,e)}}function Bee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ee(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(r),!0).forEach(function(n){td(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function td(t,e,r){return e=zee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zee(t){var e=Uee(t,"string");return Yf(e)=="symbol"?e:e+""}function Uee(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _n(t,e,r){return _t(t)||_t(e)?r:Cn(e)?ua(t,e,r):mt(e)?e(t):r}function xf(t,e,r,n){var i=BZ(t,function(l){return _n(l,e)});if(r==="number"){var s=i.filter(function(l){return We(l)||parseFloat(l)});return s.length?[Jg(s),Kg(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!_t(l)}):i;return o.map(function(l){return Cn(l)||l instanceof Date?l:""})}var qee=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Ei(h-d)!==Ei(f-h)){var m=[];if(Ei(f-h)===Ei(c[1]-c[0])){p=f;var x=h+c[1]-c[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{p=d;var g=f+c[1]-c[0];m[0]=Math.min(h,(g+h)/2),m[1]=Math.max(h,(g+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){o=i[u].index;break}}else{var y=Math.min(d,f),w=Math.max(d,f);if(e>(y+h)/2&&e<=(w+h)/2){o=i[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},y5=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Hee=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var m=d[h[f]],x=m.items,g=m.cateAxisId,b=x.filter(function(A){return xo(A.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?Vr(Vr({},y),b[0].props):b[0].props,j=w.barSize,_=w[g];o[_]||(o[_]=[]);var S=_t(j)?r:j;o[_].push({item:b[0],stackList:b.slice(1),barSize:_t(S)?void 0:Oi(S,n,0)})}}return o},Wee=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Oi(r,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/c,m=o.reduce(function(j,_){return j+_.barSize||0},0);m+=(c-1)*u,m>=i&&(m-=(c-1)*u,u=0),m>=i&&p>0&&(f=!0,p*=.9,m=c*p);var x=(i-m)/2>>0,g={offset:x-u,size:0};d=o.reduce(function(j,_){var S={item:_.item,position:{offset:g.offset+g.size+u,size:f?p:_.barSize}},A=[].concat(_4(j),[S]);return g=A[A.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(O){A.push({item:O,position:g})}),A},h)}else{var b=Oi(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var y=(i-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(j,_,S){var A=[].concat(_4(j),[{item:_.item,position:{offset:b+(y+u)*S+(y-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},h)}return d},Vee=function(e,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=pE({children:s,legendWidth:c});if(u){var d=i||{},h=d.width,f=d.height,p=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&We(e[p]))return Vr(Vr({},e),{},td({},p,e[p]+(h||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&We(e[m]))return Vr(Vr({},e),{},td({},m,e[m]+(f||0)))}return e},Gee=function(e,r,n){return _t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},mE=function(e,r,n,i,s){var o=r.props.children,l=da(o,M0).filter(function(u){return Gee(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=_n(d,n);if(_t(h))return u;var f=Array.isArray(h)?[Jg(h),Kg(h)]:[h,h],p=c.reduce(function(m,x){var g=_n(d,x,0),b=f[0]-Math.abs(Array.isArray(g)?g[0]:g),y=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Xee=function(e,r,n,i,s){var o=r.map(function(l){return mE(e,l,n,s,i)}).filter(function(l){return!_t(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},xE=function(e,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&mE(e,c,u,i)||xf(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},gE=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},vE=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},po=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ei(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=s?s.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!C0(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:s?s[h]:h,index:f,offset:u}})},Uv=new WeakMap,Kp=function(e,r){if(typeof r!="function")return e;Uv.has(e)||Uv.set(e,new WeakMap);var n=Uv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},bE=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xx(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mf(),realScaleType:"point"}:s==="category"?{scale:zf(),realScaleType:"band"}:{scale:xx(),realScaleType:"linear"};if(A0(i)){var c="scale".concat(Lg(i));return{scale:(v4[c]||mf)(),realScaleType:v4[c]?c:"point"}}return mt(i)?{scale:i}:{scale:mf(),realScaleType:"point"}},A4=1e-4,yE=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-A4,o=Math.max(i[0],i[1])+A4,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},Yee=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Kee=function(e,r){if(!r||r.length!==2||!We(r[0])||!We(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!We(e[0])||e[0]<n)&&(s[0]=n),(!We(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Jee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=C0(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},Qee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=C0(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Zee={sign:Jee,expand:vz,none:cd,silhouette:bz,wiggle:yz,positive:Qee},ete=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),s=Zee[n],o=gz().keys(i).value(function(l,c){return+_n(l,c,0)}).order(dy).offset(s);return o(e)},tte=function(e,r,n,i,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Vr(Vr({},f.type.defaultProps),f.props):f.props,x=m.stackId,g=m.hide;if(g)return h;var b=m[n],y=h[b]||{hasStack:!1,stackGroups:{}};if(Cn(x)){var w=y.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[x]=w}else y.stackGroups[Vd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Vr(Vr({},h),{},td({},b,y))},c),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,g){var b=p.stackGroups[g];return Vr(Vr({},x),{},td({},g,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:ete(e,b.items,s)}))},m)}return Vr(Vr({},h),{},td({},f,p))},d)},wE=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=mee(u,s,l);return e.domain([Jg(d),Kg(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),f=xee(h,s,l);return{niceTicks:f}}return null};function C4(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var l=Xm(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=_n(i,_t(o)?e.dataKey:o);return _t(c)?null:e.scale(c)}var E4=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=_n(o,r.dataKey,r.domain[l]);return _t(c)?null:r.scale(c)-s/2+i},rte=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},nte=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Cn(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},ite=function(e){return e.reduce(function(r,n){return[Jg(n.concat([r[0]]).filter(We)),Kg(n.concat([r[1]]).filter(We))]},[1/0,-1/0])},jE=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var h=ite(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},O4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zy=function(e,r,n){if(mt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(We(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(O4.test(e[0])){var s=+O4.exec(e[0])[1];i[0]=r[0]-s}else mt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(We(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(P4.test(e[1])){var o=+P4.exec(e[1])[1];i[1]=r[1]+o}else mt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Nx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=Xw(r,function(h){return h.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},k4=function(e,r,n){return!e||!e.length||D0(e,ua(n,"type.defaultProps.domain"))?r:e},NE=function(e,r){var n=e.type.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Vr(Vr({},ut(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:y5(e),value:_n(r,i),type:c,payload:r,chartType:u,hide:d})};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function T4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(r),!0).forEach(function(n){_E(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _E(t,e,r){return e=ate(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ate(t){var e=ste(t,"string");return Kf(e)=="symbol"?e:e+""}function ste(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ote(t,e){return dte(t)||ute(t,e)||cte(t,e)||lte()}function lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(t,e){if(t){if(typeof t=="string")return I4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I4(t,e)}}function I4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ute(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function dte(t){if(Array.isArray(t))return t}var _x=Math.PI/180,hte=function(e){return e*180/Math.PI},_r=function(e,r,n,i){return{x:e+Math.cos(-_x*i)*n,y:r+Math.sin(-_x*i)*n}},SE=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},fte=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Oi(e.cx,o,o/2),h=Oi(e.cy,l,l/2),f=SE(o,l,n),p=Oi(e.innerRadius,f,0),m=Oi(e.outerRadius,f,f*.8),x=Object.keys(r);return x.reduce(function(g,b){var y=r[b],w=y.domain,j=y.reversed,_;if(_t(y.range))i==="angleAxis"?_=[c,u]:i==="radiusAxis"&&(_=[p,m]),j&&(_=[_[1],_[0]]);else{_=y.range;var S=_,A=ote(S,2);c=A[0],u=A[1]}var O=bE(y,s),M=O.realScaleType,B=O.scale;B.domain(w).range(_),yE(B);var T=wE(B,co(co({},y),{},{realScaleType:M})),E=co(co(co({},y),T),{},{range:_,radius:m,realScaleType:M,scale:B,cx:d,cy:h,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return co(co({},g),{},_E({},b,E))},{})},pte=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},mte=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,l=pte({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:hte(u),angleInRadian:u}},xte=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},gte=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},D4=function(e,r){var n=e.x,i=e.y,s=mte({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=xte(r),h=d.startAngle,f=d.endAngle,p=l,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?co(co({},r),{},{radius:o,angle:gte(p,r)}):null},AE=function(e){return!k.isValidElement(e)&&!mt(e)&&typeof e!="boolean"?e.className:""};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var vte=["offset"];function bte(t){return Nte(t)||jte(t)||wte(t)||yte()}function yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wte(t,e){if(t){if(typeof t=="string")return Uy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uy(t,e)}}function jte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nte(t){if(Array.isArray(t))return Uy(t)}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _te(t,e){if(t==null)return{};var r=Ste(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ste(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function M4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(r),!0).forEach(function(n){Ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ate(t,e,r){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cte(t){var e=Ete(t,"string");return Jf(e)=="symbol"?e:e+""}function Ete(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qf.apply(this,arguments)}var Ote=function(e){var r=e.value,n=e.formatter,i=_t(e.children)?r:e.children;return mt(n)?n(i):i},Pte=function(e,r){var n=Ei(r-e),i=Math.min(Math.abs(r-e),360);return n*i},kte=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,m=c.endAngle,x=c.clockWise,g=(h+f)/2,b=Pte(p,m),y=b>=0?1:-1,w,j;i==="insideStart"?(w=p+y*o,j=x):i==="insideEnd"?(w=m-y*o,j=!x):i==="end"&&(w=m+y*o,j=x),j=b<=0?j:!j;var _=_r(u,d,g,w),S=_r(u,d,g,w+(j?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),O=_t(e.id)?Vd("recharts-radial-line-"):e.id;return ne.createElement("text",Qf({},n,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),ne.createElement("defs",null,ne.createElement("path",{id:O,d:A})),ne.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Tte=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,h=s.endAngle,f=(d+h)/2;if(i==="outside"){var p=_r(o,l,u+n,f),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,b=_r(o,l,g,f),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ite=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*i,p=h>0?"end":"start",m=h>0?"start":"end",x=u>=0?1:-1,g=x*i,b=x>0?"end":"start",y=x>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:p};return gn(gn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:m};return gn(gn({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var _={x:l-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return gn(gn({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return gn(gn({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return s==="insideLeft"?gn({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},A):s==="insideRight"?gn({x:l+u-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},A):s==="insideTop"?gn({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:m},A):s==="insideBottom"?gn({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?gn({x:l+g,y:c+f,textAnchor:y,verticalAnchor:m},A):s==="insideTopRight"?gn({x:l+u-g,y:c+f,textAnchor:b,verticalAnchor:m},A):s==="insideBottomLeft"?gn({x:l+g,y:c+d-f,textAnchor:y,verticalAnchor:p},A):s==="insideBottomRight"?gn({x:l+u-g,y:c+d-f,textAnchor:b,verticalAnchor:p},A):Ud(s)&&(We(s.x)||oc(s.x))&&(We(s.y)||oc(s.y))?gn({x:l+Oi(s.x,u),y:c+Oi(s.y,d),textAnchor:"end",verticalAnchor:"end"},A):gn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Dte=function(e){return"cx"in e&&We(e.cx)};function Bn(t){var e=t.offset,r=e===void 0?5:e,n=_te(t,vte),i=gn({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!s||_t(l)&&_t(c)&&!k.isValidElement(u)&&!mt(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var p;if(mt(u)){if(p=k.createElement(u,i),k.isValidElement(p))return p}else p=Ote(i);var m=Dte(s),x=ut(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return kte(i,p,x);var g=m?Tte(i):Ite(i);return ne.createElement(_c,Qf({className:Ct("recharts-label",h)},x,g,{breakAll:f}),p)}Bn.displayName="Label";var CE=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,m=e.left,x=e.width,g=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(We(x)&&We(g)){if(We(h)&&We(f))return{x:h,y:f,width:x,height:g};if(We(p)&&We(m))return{x:p,y:m,width:x,height:g}}return We(h)&&We(f)?{x:h,y:f,width:0,height:0}:We(r)&&We(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},Mte=function(e,r){return e?e===!0?ne.createElement(Bn,{key:"label-implicit",viewBox:r}):Cn(e)?ne.createElement(Bn,{key:"label-implicit",viewBox:r,value:e}):k.isValidElement(e)?e.type===Bn?k.cloneElement(e,{key:"label-implicit",viewBox:r}):ne.createElement(Bn,{key:"label-implicit",content:e,viewBox:r}):mt(e)?ne.createElement(Bn,{key:"label-implicit",content:e,viewBox:r}):Ud(e)?ne.createElement(Bn,Qf({viewBox:r},e,{key:"label-implicit"})):null:null},Lte=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=CE(e),o=da(i,Bn).map(function(c,u){return k.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=Mte(e.label,r||s);return[l].concat(bte(o))};Bn.parseViewBox=CE;Bn.renderCallByParent=Lte;function Rte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Fte=Rte;const Bte=lr(Fte);function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}var $te=["valueAccessor"],zte=["data","dataKey","clockWise","id","textBreakAll"];function Ute(t){return Vte(t)||Wte(t)||Hte(t)||qte()}function qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hte(t,e){if(t){if(typeof t=="string")return qy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qy(t,e)}}function Wte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vte(t){if(Array.isArray(t))return qy(t)}function qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sx.apply(this,arguments)}function L4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(r),!0).forEach(function(n){Gte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gte(t,e,r){return e=Xte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xte(t){var e=Yte(t,"string");return Zf(e)=="symbol"?e:e+""}function Yte(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F4(t,e){if(t==null)return{};var r=Kte(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Jte=function(e){return Array.isArray(e.value)?Bte(e.value):e.value};function vo(t){var e=t.valueAccessor,r=e===void 0?Jte:e,n=F4(t,$te),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=F4(n,zte);return!i||!i.length?null:ne.createElement(Wt,{className:"recharts-label-list"},i.map(function(d,h){var f=_t(s)?r(d,h):_n(d&&d.payload,s),p=_t(l)?{}:{id:"".concat(l,"-").concat(h)};return ne.createElement(Bn,Sx({},ut(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Bn.parseViewBox(_t(o)?d:R4(R4({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}vo.displayName="LabelList";function Qte(t,e){return t?t===!0?ne.createElement(vo,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||mt(t)?ne.createElement(vo,{key:"labelList-implicit",data:e,content:t}):Ud(t)?ne.createElement(vo,Sx({data:e},t,{key:"labelList-implicit"})):null:null}function Zte(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=da(n,vo).map(function(o,l){return k.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var s=Qte(t.label,e);return[s].concat(Ute(i))}vo.renderCallByParent=Zte;function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hy.apply(this,arguments)}function B4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(r),!0).forEach(function(n){ere(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ere(t,e,r){return e=tre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tre(t){var e=rre(t,"string");return e0(e)=="symbol"?e:e+""}function rre(t,e){if(e0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nre=function(e,r){var n=Ei(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Jp=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/_x,f=u?s:s+o*h,p=_r(r,n,d,f),m=_r(r,n,i,f),x=u?s-o*h:s,g=_r(r,n,d*Math.cos(h*_x),x);return{center:p,circleTangency:m,lineTangency:g,theta:h}},EE=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=nre(o,l),u=o+c,d=_r(r,n,s,o),h=_r(r,n,s,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=_r(r,n,i,o),m=_r(r,n,i,u);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},ire=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=Ei(d-u),f=Jp({cx:r,cy:n,radius:s,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,m=f.lineTangency,x=f.theta,g=Jp({cx:r,cy:n,radius:s,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,y=g.lineTangency,w=g.theta,j=c?Math.abs(u-d):Math.abs(u-d)-x-w;if(j<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):EE({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var S=Jp({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=S.circleTangency,O=S.lineTangency,M=S.theta,B=Jp({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=B.circleTangency,E=B.lineTangency,R=B.theta,F=c?Math.abs(u-d):Math.abs(u-d)-M-R;if(F<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},are={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OE=function(e){var r=$4($4({},are),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<s||d===h)return null;var p=Ct("recharts-sector",f),m=o-s,x=Oi(l,m,0,!0),g;return x>0&&Math.abs(d-h)<360?g=ire({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):g=EE({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:h}),ne.createElement("path",Hy({},ut(r,!0),{className:p,d:g,role:"img"}))};function t0(t){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t0(t)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wy.apply(this,arguments)}function z4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(r),!0).forEach(function(n){sre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sre(t,e,r){return e=ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ore(t){var e=lre(t,"string");return t0(e)=="symbol"?e:e+""}function lre(t,e){if(t0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q4={curveBasisClosed:sz,curveBasisOpen:oz,curveBasis:az,curveBumpX:W$,curveBumpY:V$,curveLinearClosed:lz,curveLinear:Fg,curveMonotoneX:cz,curveMonotoneY:uz,curveNatural:dz,curveStep:hz,curveStepAfter:pz,curveStepBefore:fz},Qp=function(e){return e.x===+e.x&&e.y===+e.y},Wh=function(e){return e.x},Vh=function(e){return e.y},cre=function(e,r){if(mt(e))return e;var n="curve".concat(Lg(e));return(n==="curveMonotone"||n==="curveBump")&&r?q4["".concat(n).concat(r==="vertical"?"Y":"X")]:q4[n]||Fg},ure=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=cre(n,l),h=u?s.filter(function(x){return Qp(x)}):s,f;if(Array.isArray(o)){var p=u?o.filter(function(x){return Qp(x)}):o,m=h.map(function(x,g){return U4(U4({},x),{},{base:p[g]})});return l==="vertical"?f=Up().y(Vh).x1(Wh).x0(function(x){return x.base.x}):f=Up().x(Wh).y1(Vh).y0(function(x){return x.base.y}),f.defined(Qp).curve(d),f(m)}return l==="vertical"&&We(o)?f=Up().y(Vh).x1(Wh).x0(o):We(o)?f=Up().x(Wh).y1(Vh).y0(o):f=N6().x(Wh).y(Vh),f.defined(Qp).curve(d),f(h)},Ax=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?ure(e):i;return ne.createElement("path",Wy({},ut(e,!1),Ym(e),{className:Ct("recharts-curve",r),d:o,ref:s}))},PE={exports:{}},dre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hre=dre,fre=hre;function kE(){}function TE(){}TE.resetWarningCache=kE;var pre=function(){function t(n,i,s,o,l,c){if(c!==fre){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:TE,resetWarningCache:kE};return r.PropTypes=r,r};PE.exports=pre();var mre=PE.exports;const Zt=lr(mre);var xre=Object.getOwnPropertyNames,gre=Object.getOwnPropertySymbols,vre=Object.prototype.hasOwnProperty;function H4(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function Zp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function W4(t){return xre(t).concat(gre(t))}var bre=Object.hasOwn||function(t,e){return vre.call(t,e)};function Fc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var yre="__v",wre="__o",jre="_owner",V4=Object.getOwnPropertyDescriptor,G4=Object.keys;function Nre(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function _re(t,e){return Fc(t.getTime(),e.getTime())}function Sre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Are(t,e){return t===e}function X4(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(i[h]){h++;continue}var f=o.value,p=l.value;if(r.equals(f[0],p[0],c,h,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}var Cre=Fc;function Ere(t,e,r){var n=G4(t),i=n.length;if(G4(e).length!==i)return!1;for(;i-- >0;)if(!IE(t,e,r,n[i]))return!1;return!0}function Gh(t,e,r){var n=W4(t),i=n.length;if(W4(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!IE(t,e,r,s)||(o=V4(t,s),l=V4(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Ore(t,e){return Fc(t.valueOf(),e.valueOf())}function Pre(t,e){return t.source===e.source&&t.flags===e.flags}function Y4(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function kre(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Tre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function IE(t,e,r,n){return(n===jre||n===wre||n===yre)&&(t.$$typeof||e.$$typeof)?!0:bre(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Ire="[object Arguments]",Dre="[object Boolean]",Mre="[object Date]",Lre="[object Error]",Rre="[object Map]",Fre="[object Number]",Bre="[object Object]",$re="[object RegExp]",zre="[object Set]",Ure="[object String]",qre="[object URL]",Hre=Array.isArray,K4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,J4=Object.assign,Wre=Object.prototype.toString.call.bind(Object.prototype.toString);function Vre(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(m,x,g){if(m===x)return!0;if(m==null||x==null)return!1;var b=typeof m;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?o(m,x,g):b==="function"?i(m,x,g):!1;var y=m.constructor;if(y!==x.constructor)return!1;if(y===Object)return l(m,x,g);if(Hre(m))return e(m,x,g);if(K4!=null&&K4(m))return h(m,x,g);if(y===Date)return r(m,x,g);if(y===RegExp)return u(m,x,g);if(y===Map)return s(m,x,g);if(y===Set)return d(m,x,g);var w=Wre(m);return w===Mre?r(m,x,g):w===$re?u(m,x,g):w===Rre?s(m,x,g):w===zre?d(m,x,g):w===Bre?typeof m.then!="function"&&typeof x.then!="function"&&l(m,x,g):w===qre?f(m,x,g):w===Lre?n(m,x,g):w===Ire?l(m,x,g):w===Dre||w===Fre||w===Ure?c(m,x,g):!1}}function Gre(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Gh:Nre,areDatesEqual:_re,areErrorsEqual:Sre,areFunctionsEqual:Are,areMapsEqual:n?H4(X4,Gh):X4,areNumbersEqual:Cre,areObjectsEqual:n?Gh:Ere,arePrimitiveWrappersEqual:Ore,areRegExpsEqual:Pre,areSetsEqual:n?H4(Y4,Gh):Y4,areTypedArraysEqual:n?Gh:kre,areUrlsEqual:Tre};if(r&&(i=J4({},i,r(i))),e){var s=Zp(i.areArraysEqual),o=Zp(i.areMapsEqual),l=Zp(i.areObjectsEqual),c=Zp(i.areSetsEqual);i=J4({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function Xre(t){return function(e,r,n,i,s,o,l){return t(e,r,l)}}function Yre(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,p=d.meta;return r(c,u,{cache:f,equals:i,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var Kre=Cl();Cl({strict:!0});Cl({circular:!0});Cl({circular:!0,strict:!0});Cl({createInternalComparator:function(){return Fc}});Cl({strict:!0,createInternalComparator:function(){return Fc}});Cl({circular:!0,createInternalComparator:function(){return Fc}});Cl({circular:!0,createInternalComparator:function(){return Fc},strict:!0});function Cl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=Gre(t),c=Vre(l),u=n?n(c):Xre(c);return Yre({circular:r,comparator:c,createState:i,equals:u,strict:o})}function Jre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Q4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Jre(i)};requestAnimationFrame(n)}function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function Qre(t){return rne(t)||tne(t)||ene(t)||Zre()}function Zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t,e){if(t){if(typeof t=="string")return Z4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(t,e)}}function Z4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rne(t){if(Array.isArray(t))return t}function nne(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=Qre(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Q4(i.bind(null,u),c);return}i(c),Q4(i.bind(null,u));return}Vy(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function e3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(r),!0).forEach(function(n){DE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DE(t,e,r){return e=ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ine(t){var e=ane(t,"string");return r0(e)==="symbol"?e:String(e)}function ane(t,e){if(r0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(r0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sne=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},one=function(e){return e},lne=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gf=function(e,r){return Object.keys(r).reduce(function(n,i){return t3(t3({},n),{},DE({},i,e(i,r[i])))},{})},r3=function(e,r,n){return e.map(function(i){return"".concat(lne(i)," ").concat(r,"ms ").concat(n)}).join(",")};function cne(t,e){return hne(t)||dne(t,e)||ME(t,e)||une()}function une(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function hne(t){if(Array.isArray(t))return t}function fne(t){return xne(t)||mne(t)||ME(t)||pne()}function pne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ME(t,e){if(t){if(typeof t=="string")return Gy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(t,e)}}function mne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xne(t){if(Array.isArray(t))return Gy(t)}function Gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Cx=1e-4,LE=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},RE=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},n3=function(e,r){return function(n){var i=LE(e,r);return RE(i,n)}},gne=function(e,r){return function(n){var i=LE(e,r),s=[].concat(fne(i.map(function(o,l){return o*l}).slice(1)),[0]);return RE(s,n)}},i3=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=cne(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var h=n3(i,o),f=n3(s,l),p=gne(i,o),m=function(b){return b>1?1:b<0?0:b},x=function(b){for(var y=b>1?1:b,w=y,j=0;j<8;++j){var _=h(w)-y,S=p(w);if(Math.abs(_-y)<Cx||S<Cx)return f(w);w=m(w-_/S)}return f(w)};return x.isStepper=!1,x},vne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var p=-(d-h)*n,m=f*s,x=f+(p-m)*l/1e3,g=f*l/1e3+d;return Math.abs(g-h)<Cx&&Math.abs(x)<Cx?[h,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},bne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i3(i);case"spring":return vne();default:if(i.split("(")[0]==="cubic-bezier")return i3(i)}return typeof i=="function"?i:null};function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function a3(t){return jne(t)||wne(t)||FE(t)||yne()}function yne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jne(t){if(Array.isArray(t))return Yy(t)}function s3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(r),!0).forEach(function(n){Xy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xy(t,e,r){return e=Nne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nne(t){var e=_ne(t,"string");return n0(e)==="symbol"?e:String(e)}function _ne(t,e){if(n0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(n0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sne(t,e){return Ene(t)||Cne(t,e)||FE(t,e)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FE(t,e){if(t){if(typeof t=="string")return Yy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(t,e)}}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ene(t){if(Array.isArray(t))return t}var Ex=function(e,r,n){return e+(r-e)*n},Ky=function(e){var r=e.from,n=e.to;return r!==n},One=function t(e,r,n){var i=gf(function(s,o){if(Ky(o)){var l=e(o.from,o.to,o.velocity),c=Sne(l,2),u=c[0],d=c[1];return Kn(Kn({},o),{},{from:u,velocity:d})}return o},r);return n<1?gf(function(s,o){return Ky(o)?Kn(Kn({},o),{},{velocity:Ex(o.velocity,i[s].velocity,n),from:Ex(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const Pne=function(t,e,r,n,i){var s=sne(t,e),o=s.reduce(function(g,b){return Kn(Kn({},g),{},Xy({},b,[t[b],e[b]]))},{}),l=s.reduce(function(g,b){return Kn(Kn({},g),{},Xy({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return gf(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(Ky).length},m=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=One(r,l,w),i(Kn(Kn(Kn({},t),e),f())),u=b,p()||(c=requestAnimationFrame(h))},x=function(b){d||(d=b);var y=(b-d)/n,w=gf(function(_,S){return Ex.apply(void 0,a3(S).concat([r(y)]))},o);if(i(Kn(Kn(Kn({},t),e),w)),y<1)c=requestAnimationFrame(h);else{var j=gf(function(_,S){return Ex.apply(void 0,a3(S).concat([r(1)]))},o);i(Kn(Kn(Kn({},t),e),j))}};return h=r.isStepper?m:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}var kne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tne(t,e){if(t==null)return{};var r=Ine(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ine(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function qv(t){return Rne(t)||Lne(t)||Mne(t)||Dne()}function Dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return Jy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(t,e)}}function Lne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rne(t){if(Array.isArray(t))return Jy(t)}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function of(t,e,r){return e=BE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BE(n.key),n)}}function $ne(t,e,r){return e&&Bne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BE(t){var e=zne(t,"string");return vd(e)==="symbol"?e:String(e)}function zne(t,e){if(vd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Une(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qy(t,e)}function Qy(t,e){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qy(t,e)}function qne(t){var e=Hne();return function(){var n=Ox(t),i;if(e){var s=Ox(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Zy(this,i)}}function Zy(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e2(t)}function e2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(t)}var Fs=function(t){Une(r,t);var e=qne(r);function r(n,i){var s;Fne(this,r),s=e.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(e2(s)),s.changeStyle=s.changeStyle.bind(e2(s)),!l||p<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),Zy(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof f=="function")return s.state={style:u},Zy(s);s.state={style:c?of({},c,u):u}}else s.state={style:{}};return s}return $ne(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,h=s.from,f=this.state.style;if(l){if(!o){var p={style:c?of({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(Kre(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?h:i.to;if(this.state&&f){var g={style:c?of({},c,x):x};(c&&f[c]!==x||!c&&f!==x)&&this.setState(g)}this.runAnimation(Va(Va({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=Pne(o,l,bne(u),c,this.changeStyle),m=function(){s.stopJSAnimation=p()};this.manager.start([f,d,m,c,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(x,g,b){if(b===0)return x;var y=g.duration,w=g.easing,j=w===void 0?"ease":w,_=g.style,S=g.properties,A=g.onAnimationEnd,O=b>0?o[b-1]:g,M=S||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(qv(x),[s.runJSAnimation.bind(s,{from:O.style,to:_,duration:y,easing:j}),y]);var B=r3(M,y,j),T=Va(Va(Va({},O.style),_),{},{transition:B});return[].concat(qv(x),[T,y,A]).filter(one)};return this.manager.start([c].concat(qv(o.reduce(p,[d,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nne());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var x=l?of({},l,c):c,g=r3(Object.keys(x),o,u);m.start([d,s,Va(Va({},x),{},{transition:g}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Tne(i,kne),u=k.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var h=function(p){var m=p.props,x=m.style,g=x===void 0?{}:x,b=m.className,y=k.cloneElement(p,Va(Va({},c),{},{style:Va(Va({},g),d),className:b}));return y};return u===1?h(k.Children.only(s)):ne.createElement("div",null,k.Children.map(s,function(f){return h(f)}))}}]),r}(k.PureComponent);Fs.displayName="Animate";Fs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fs.propTypes={from:Zt.oneOfType([Zt.object,Zt.string]),to:Zt.oneOfType([Zt.object,Zt.string]),attributeName:Zt.string,duration:Zt.number,begin:Zt.number,easing:Zt.oneOfType([Zt.string,Zt.func]),steps:Zt.arrayOf(Zt.shape({duration:Zt.number.isRequired,style:Zt.object.isRequired,easing:Zt.oneOfType([Zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Zt.func]),properties:Zt.arrayOf("string"),onAnimationEnd:Zt.func})),children:Zt.oneOfType([Zt.node,Zt.func]),isActive:Zt.bool,canBegin:Zt.bool,onAnimationEnd:Zt.func,shouldReAnimate:Zt.bool,onAnimationStart:Zt.func,onAnimationReStart:Zt.func};function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Px.apply(this,arguments)}function Wne(t,e){return Yne(t)||Xne(t,e)||Gne(t,e)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gne(t,e){if(t){if(typeof t=="string")return l3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(t,e)}}function l3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Yne(t){if(Array.isArray(t))return t}function c3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(r),!0).forEach(function(n){Kne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kne(t,e,r){return e=Jne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jne(t){var e=Qne(t,"string");return i0(e)=="symbol"?e:e+""}function Qne(t,e){if(i0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d3=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=s[f]>o?o:s[f];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),d+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*h[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);d="M ".concat(e,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+c*m,",").concat(r,`
            L `).concat(e+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*m,`
            L `).concat(e+n,",").concat(r+i-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-c*m,",").concat(r+i,`
            L `).concat(e+c*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Zne=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&i>=h&&i<=f}return!1},eie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w5=function(e){var r=u3(u3({},eie),e),n=k.useRef(),i=k.useState(-1),s=Wne(i,2),o=s[0],l=s[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Ct("recharts-rectangle",p);return y?ne.createElement(Fs,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:x,animationEasing:m,isActive:y},function(j){var _=j.width,S=j.height,A=j.x,O=j.y;return ne.createElement(Fs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:b,easing:m},ne.createElement("path",Px({},ut(r,!0),{className:w,d:d3(A,O,_,S,f),ref:n})))}):ne.createElement("path",Px({},ut(r,!0),{className:w,d:d3(c,u,d,h,f)}))},tie=["points","className","baseLinePoints","connectNulls"];function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function rie(t,e){if(t==null)return{};var r=nie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h3(t){return oie(t)||sie(t)||aie(t)||iie()}function iie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aie(t,e){if(t){if(typeof t=="string")return t2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(t,e)}}function sie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oie(t){if(Array.isArray(t))return t2(t)}function t2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f3=function(e){return e&&e.x===+e.x&&e.y===+e.y},lie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){f3(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),f3(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vf=function(e,r){var n=lie(e);r&&(n=[n.reduce(function(s,o){return[].concat(h3(s),h3(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},cie=function(e,r,n){var i=vf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vf(r.reverse(),n).slice(1))},uie=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=rie(e,tie);if(!r||!r.length)return null;var l=Ct("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=cie(r,i,s);return ne.createElement("g",{className:l},ne.createElement("path",zu({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ne.createElement("path",zu({},ut(o,!0),{fill:"none",d:vf(r,s)})):null,c?ne.createElement("path",zu({},ut(o,!0),{fill:"none",d:vf(i,s)})):null)}var d=vf(r,s);return ne.createElement("path",zu({},ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r2.apply(this,arguments)}var e1=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=Ct("recharts-dot",s);return r===+r&&n===+n&&i===+i?ne.createElement("circle",r2({},ut(e,!1),Ym(e),{className:o,cx:r,cy:n,r:i})):null};function a0(t){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(t)}var die=["x","y","top","left","width","height","className"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n2.apply(this,arguments)}function p3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(r),!0).forEach(function(n){fie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fie(t,e,r){return e=pie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pie(t){var e=mie(t,"string");return a0(e)=="symbol"?e:e+""}function mie(t,e){if(a0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(a0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t,e){if(t==null)return{};var r=gie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vie=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},bie=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,m=e.className,x=xie(e,die),g=hie({x:n,y:s,top:l,left:u,width:h,height:p},x);return!We(n)||!We(s)||!We(h)||!We(p)||!We(l)||!We(u)?null:ne.createElement("path",n2({},ut(g,!0),{className:Ct("recharts-cross",m),d:vie(n,s,h,p,l,u)}))},yie=Yg,wie=J8,jie=qs;function Nie(t,e){return t&&t.length?yie(t,jie(e),wie):void 0}var _ie=Nie;const Sie=lr(_ie);var Aie=Yg,Cie=qs,Eie=Q8;function Oie(t,e){return t&&t.length?Aie(t,Cie(e),Eie):void 0}var Pie=Oie;const kie=lr(Pie);var Tie=["cx","cy","angle","ticks","axisLine"],Iie=["ticks","tick","angle","tickFormatter","stroke"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}function m3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ul(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(r),!0).forEach(function(n){t1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x3(t,e){if(t==null)return{};var r=Die(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Die(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zE(n.key),n)}}function Lie(t,e,r){return e&&g3(t.prototype,e),r&&g3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rie(t,e,r){return e=kx(e),Fie(t,$E()?Reflect.construct(e,r||[],kx(t).constructor):e.apply(t,r))}function Fie(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bie(t)}function Bie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($E=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(t)}function $ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i2(t,e)}function i2(t,e){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i2(t,e)}function t1(t,e,r){return e=zE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zE(t){var e=zie(t,"string");return bd(e)=="symbol"?e:e+""}function zie(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r1=function(t){function e(){return Mie(this,e),Rie(this,e,arguments)}return $ie(e,t),Lie(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return _r(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=Sie(l,function(d){return d.coordinate||0}),u=kie(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=x3(n,Tie),d=l.reduce(function(m,x){return[Math.min(m[0],x.coordinate),Math.max(m[1],x.coordinate)]},[1/0,-1/0]),h=_r(i,s,d[0],o),f=_r(i,s,d[1],o),p=Ul(Ul(Ul({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return ne.createElement("line",bf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=x3(i,Iie),h=this.getTickTextAnchor(),f=ut(d,!1),p=ut(o,!1),m=s.map(function(x,g){var b=n.getTickValueCoord(x),y=Ul(Ul(Ul(Ul({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:g},b),{},{payload:x});return ne.createElement(Wt,bf({className:Ct("recharts-polar-radius-axis-tick",AE(o)),key:"tick-".concat(x.coordinate)},Nc(n.props,x,g)),e.renderTickItem(o,y,c?c(x.value,g):x.value))});return ne.createElement(Wt,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:ne.createElement(Wt,{className:Ct("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Bn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ne.isValidElement(n)?o=ne.cloneElement(n,i):mt(n)?o=n(i):o=ne.createElement(_c,bf({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(k.PureComponent);t1(r1,"displayName","PolarRadiusAxis");t1(r1,"axisType","radiusAxis");t1(r1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nc.apply(this,arguments)}function v3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ql(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(r),!0).forEach(function(n){n1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qE(n.key),n)}}function qie(t,e,r){return e&&b3(t.prototype,e),r&&b3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hie(t,e,r){return e=Tx(e),Wie(t,UE()?Reflect.construct(e,r||[],Tx(t).constructor):e.apply(t,r))}function Wie(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vie(t)}function Vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UE=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tx(t)}function Gie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a2(t,e)}function a2(t,e){return a2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a2(t,e)}function n1(t,e,r){return e=qE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qE(t){var e=Xie(t,"string");return yd(e)=="symbol"?e:e+""}function Xie(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yie=Math.PI/180,y3=1e-5,i1=function(t){function e(){return Uie(this,e),Hie(this,e,arguments)}return Gie(e,t),qie(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,h=_r(s,o,l,n.coordinate),f=_r(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Yie),o;return s>y3?o=i==="outer"?"start":"end":s<-y3?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ql(ql({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return ne.createElement(e1,nc({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,h=d.map(function(f){return _r(i,s,o,f.coordinate)});return ne.createElement(uie,nc({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ut(this.props,!1),h=ut(o,!1),f=ql(ql({},d),{},{fill:"none"},ut(l,!1)),p=s.map(function(m,x){var g=n.getTickLineCoord(m),b=n.getTickTextAnchor(m),y=ql(ql(ql({textAnchor:b},d),{},{stroke:"none",fill:u},h),{},{index:x,payload:m,x:g.x2,y:g.y2});return ne.createElement(Wt,nc({className:Ct("recharts-polar-angle-axis-tick",AE(o)),key:"tick-".concat(m.coordinate)},Nc(n.props,m,x)),l&&ne.createElement("line",nc({className:"recharts-polar-angle-axis-tick-line"},f,g)),o&&e.renderTickItem(o,y,c?c(m.value,x):m.value))});return ne.createElement(Wt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:ne.createElement(Wt,{className:Ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ne.isValidElement(n)?o=ne.cloneElement(n,i):mt(n)?o=n(i):o=ne.createElement(_c,nc({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(k.PureComponent);n1(i1,"displayName","PolarAngleAxis");n1(i1,"axisType","angleAxis");n1(i1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Kie=G6,Jie=Kie(Object.getPrototypeOf,Object),Qie=Jie,Zie=_o,eae=Qie,tae=So,rae="[object Object]",nae=Function.prototype,iae=Object.prototype,HE=nae.toString,aae=iae.hasOwnProperty,sae=HE.call(Object);function oae(t){if(!tae(t)||Zie(t)!=rae)return!1;var e=eae(t);if(e===null)return!0;var r=aae.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&HE.call(r)==sae}var lae=oae;const cae=lr(lae);var uae=_o,dae=So,hae="[object Boolean]";function fae(t){return t===!0||t===!1||dae(t)&&uae(t)==hae}var pae=fae;const mae=lr(pae);function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ix.apply(this,arguments)}function xae(t,e){return yae(t)||bae(t,e)||vae(t,e)||gae()}function gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(t,e){if(t){if(typeof t=="string")return w3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w3(t,e)}}function w3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yae(t){if(Array.isArray(t))return t}function j3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(r),!0).forEach(function(n){wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wae(t,e,r){return e=jae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jae(t){var e=Nae(t,"string");return s0(e)=="symbol"?e:e+""}function Nae(t,e){if(s0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(s0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _3=function(e,r,n,i,s){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-i,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},_ae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sae=function(e){var r=N3(N3({},_ae),e),n=k.useRef(),i=k.useState(-1),s=xae(i,2),o=s[0],l=s[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Ct("recharts-trapezoid",p);return b?ne.createElement(Fs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:x,animationEasing:m,isActive:b},function(w){var j=w.upperWidth,_=w.lowerWidth,S=w.height,A=w.x,O=w.y;return ne.createElement(Fs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:m},ne.createElement("path",Ix({},ut(r,!0),{className:y,d:_3(A,O,j,_,S),ref:n})))}):ne.createElement("g",null,ne.createElement("path",Ix({},ut(r,!0),{className:y,d:_3(c,u,d,h,f)})))},Aae=["option","shapeType","propTransformer","activeClassName","isActive"];function o0(t){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(t)}function Cae(t,e){if(t==null)return{};var r=Eae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function S3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(r),!0).forEach(function(n){Oae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oae(t,e,r){return e=Pae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pae(t){var e=kae(t,"string");return o0(e)=="symbol"?e:e+""}function kae(t,e){if(o0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(o0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tae(t,e){return Dx(Dx({},e),t)}function Iae(t,e){return t==="symbols"}function A3(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ne.createElement(w5,r);case"trapezoid":return ne.createElement(Sae,r);case"sector":return ne.createElement(OE,r);case"symbols":if(Iae(e))return ne.createElement($w,r);break;default:return null}}function Dae(t){return k.isValidElement(t)?t.props:t}function WE(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Tae:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=Cae(t,Aae),u;if(k.isValidElement(e))u=k.cloneElement(e,Dx(Dx({},c),Dae(e)));else if(mt(e))u=e(c);else if(cae(e)&&!mae(e)){var d=i(e,c);u=ne.createElement(A3,{shapeType:r,elementProps:d})}else{var h=c;u=ne.createElement(A3,{shapeType:r,elementProps:h})}return l?ne.createElement(Wt,{className:o},u):u}function a1(t,e){return e!=null&&"trapezoids"in t.props}function s1(t,e){return e!=null&&"sectors"in t.props}function l0(t,e){return e!=null&&"points"in t.props}function Mae(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function Lae(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Rae(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Fae(t,e){var r;return a1(t,e)?r=Mae:s1(t,e)?r=Lae:l0(t,e)&&(r=Rae),r}function Bae(t,e){var r;return a1(t,e)?r="trapezoids":s1(t,e)?r="sectors":l0(t,e)&&(r="points"),r}function $ae(t,e){if(a1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(s1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return l0(t,e)?e.payload:{}}function zae(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Bae(r,e),s=$ae(r,e),o=n.filter(function(c,u){var d=D0(s,c),h=r.props[i].filter(function(m){var x=Fae(r,e);return x(m,e)}),f=r.props[i].indexOf(h[h.length-1]),p=u===f;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Lm;function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(this,arguments)}function C3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(r),!0).forEach(function(n){Aa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GE(n.key),n)}}function qae(t,e,r){return e&&E3(t.prototype,e),r&&E3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hae(t,e,r){return e=Mx(e),Wae(t,VE()?Reflect.construct(e,r||[],Mx(t).constructor):e.apply(t,r))}function Wae(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vae(t)}function Vae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VE=function(){return!!t})()}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(t)}function Gae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s2(t,e)}function s2(t,e){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s2(t,e)}function Aa(t,e,r){return e=GE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GE(t){var e=Xae(t,"string");return wd(e)=="symbol"?e:e+""}function Xae(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hs=function(t){function e(r){var n;return Uae(this,e),n=Hae(this,e,[r]),Aa(n,"pieRef",null),Aa(n,"sectorRefs",[]),Aa(n,"id",Vd("recharts-pie-")),Aa(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),mt(i)&&i()}),Aa(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),mt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Gae(e,t),qae(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ut(this.props,!1),h=ut(o,!1),f=ut(l,!1),p=o&&o.offsetRadius||20,m=n.map(function(x,g){var b=(x.startAngle+x.endAngle)/2,y=_r(x.cx,x.cy,x.outerRadius+p,b),w=jr(jr(jr(jr({},d),x),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(y.x,x.cx)},y),j=jr(jr(jr(jr({},d),x),{},{fill:"none",stroke:x.fill},f),{},{index:g,points:[_r(x.cx,x.cy,x.outerRadius,b),y]}),_=c;return _t(c)&&_t(u)?_="value":_t(c)&&(_=u),ne.createElement(Wt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,j,"line"),e.renderLabelItem(o,w,_n(x,_)))});return ne.createElement(Wt,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),f=c&&i.hasActiveIndex()?c:null,p=h?o:f,m=jr(jr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ne.createElement(Wt,Uu({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Nc(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ne.createElement(WE,Uu({option:p,isActive:h,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return ne.createElement(Fs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var x=m.t,g=[],b=s&&s[0],y=b.startAngle;return s.forEach(function(w,j){var _=f&&f[j],S=j>0?ua(w,"paddingAngle",0):0;if(_){var A=aa(_.endAngle-_.startAngle,w.endAngle-w.startAngle),O=jr(jr({},w),{},{startAngle:y+S,endAngle:y+A(x)+S});g.push(O),y=O.endAngle}else{var M=w.endAngle,B=w.startAngle,T=aa(0,M-B),E=T(x),R=jr(jr({},w),{},{startAngle:y+S,endAngle:y+E+S});g.push(R),y=R.endAngle}}),ne.createElement(Wt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!D0(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,h=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(s||!o||!o.length||!We(u)||!We(d)||!We(h)||!We(f))return null;var x=Ct("recharts-pie",l);return ne.createElement(Wt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Bn.renderCallByParent(this.props,null,!1),(!p||m)&&vo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(ne.isValidElement(n))return ne.cloneElement(n,i);if(mt(n))return n(i);var o=Ct("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ne.createElement(Ax,Uu({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(ne.isValidElement(n))return ne.cloneElement(n,i);var o=s;if(mt(n)&&(o=n(i),ne.isValidElement(o)))return o;var l=Ct("recharts-pie-label-text",typeof n!="boolean"&&!mt(n)?n.className:"");return ne.createElement(_c,Uu({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(k.PureComponent);Lm=Hs;Aa(Hs,"displayName","Pie");Aa(Hs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ts.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Aa(Hs,"parseDeltaAngle",function(t,e){var r=Ei(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Aa(Hs,"getRealPieData",function(t){var e=t.data,r=t.children,n=ut(t,!1),i=da(r,O0);return e&&e.length?e.map(function(s,o){return jr(jr(jr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return jr(jr({},n),s.props)}):[]});Aa(Hs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=SE(i,s),l=n+Oi(t.cx,i,i/2),c=r+Oi(t.cy,s,s/2),u=Oi(t.innerRadius,o,0),d=Oi(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});Aa(Hs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?jr(jr({},e.type.defaultProps),e.props):e.props,i=Lm.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),m=Lm.parseCoordinateOfPie(n,r),x=Lm.parseDeltaAngle(o,l),g=Math.abs(x),b=u;_t(u)&&_t(h)?(ns(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):_t(u)&&(ns(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var y=i.filter(function(O){return _n(O,b,0)!==0}).length,w=(g>=360?y:y-1)*c,j=g-y*p-w,_=i.reduce(function(O,M){var B=_n(M,b,0);return O+(We(B)?B:0)},0),S;if(_>0){var A;S=i.map(function(O,M){var B=_n(O,b,0),T=_n(O,d,M),E=(We(B)?B:0)/_,R;M?R=A.endAngle+Ei(x)*c*(B!==0?1:0):R=o;var F=R+Ei(x)*((B!==0?p:0)+E*j),W=(R+F)/2,$=(m.innerRadius+m.outerRadius)/2,z=[{name:T,value:B,payload:O,dataKey:b,type:f}],X=_r(m.cx,m.cy,$,W);return A=jr(jr(jr({percent:E,cornerRadius:s,name:T,tooltipPayload:z,midAngle:W,middleRadius:$,tooltipPosition:X},O),m),{},{value:_n(O,b),startAngle:R,endAngle:F,payload:O,paddingAngle:Ei(x)*c}),A})}return jr(jr({},m),{},{sectors:S,data:i})});var Yae=Math.ceil,Kae=Math.max;function Jae(t,e,r,n){for(var i=-1,s=Kae(Yae((e-t)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=t,t+=r;return o}var Qae=Jae,Zae=h8,O3=1/0,ese=17976931348623157e292;function tse(t){if(!t)return t===0?t:0;if(t=Zae(t),t===O3||t===-O3){var e=t<0?-1:1;return e*ese}return t===t?t:0}var XE=tse,rse=Qae,nse=Ug,Hv=XE;function ise(t){return function(e,r,n){return n&&typeof n!="number"&&nse(e,r,n)&&(r=n=void 0),e=Hv(e),r===void 0?(r=e,e=0):r=Hv(r),n=n===void 0?e<r?1:-1:Hv(n),rse(e,r,n,t)}}var ase=ise,sse=ase,ose=sse(),lse=ose;const Lx=lr(lse);function c0(t){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c0(t)}function P3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(r),!0).forEach(function(n){YE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YE(t,e,r){return e=cse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cse(t){var e=use(t,"string");return c0(e)=="symbol"?e:e+""}function use(t,e){if(c0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(c0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dse=["Webkit","Moz","O","ms"],hse=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=dse.reduce(function(s,o){return k3(k3({},s),{},YE({},o+n,r))},{});return i[e]=r,i};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rx.apply(this,arguments)}function T3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(r),!0).forEach(function(n){na(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JE(n.key),n)}}function pse(t,e,r){return e&&I3(t.prototype,e),r&&I3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mse(t,e,r){return e=Fx(e),xse(t,KE()?Reflect.construct(e,r||[],Fx(t).constructor):e.apply(t,r))}function xse(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(t)}function gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KE=function(){return!!t})()}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(t)}function vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o2(t,e)}function o2(t,e){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o2(t,e)}function na(t,e,r){return e=JE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JE(t){var e=bse(t,"string");return jd(e)=="symbol"?e:e+""}function bse(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yse=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=mf().domain(Lx(0,c)).range([s,s+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},D3=function(e){return e.changedTouches&&!!e.changedTouches.length},Nd=function(t){function e(r){var n;return fse(this,e),n=mse(this,e,[r]),na(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),na(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),na(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),na(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),na(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),na(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),na(n,"handleSlideDragStart",function(i){var s=D3(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return vse(e,t),pse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,s),f=Math.max(i,s),p=e.getIndexInRange(o,h),m=e.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=_n(s[n],l,n);return mt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,m=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-h-l,u+d-h-o):x<0&&(x=Math.max(x,u-o,u-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==f||g.endIndex!==p)&&m&&m(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=D3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,m=d.onChange,x=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,h+f-p-u):y<0&&(y=Math.max(y,h-u)),b[o]=u+y;var w=this.getIndex(b),j=w.startIndex,_=w.endIndex,S=function(){var O=g.length-1;return o==="startX"&&(l>c?j%x===0:_%x===0)||l<c&&_===O||o==="endX"&&(l>c?_%x===0:j%x===0)||l>c&&_===O};this.setState(na(na({},o,u+y),"brushMoveStartX",n.pageX),function(){m&&S()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var p=l[f];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(na({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ne.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=k.Children.only(u);return h?ne.cloneElement(h,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,m=c.data,x=c.startIndex,g=c.endIndex,b=Math.max(n,this.props.x),y=Wv(Wv({},ut(this.props,!1)),{},{x:b,y:u,width:d,height:h}),w=p||"Min value: ".concat((s=m[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[g])===null||o===void 0?void 0:o.name);return ne.createElement(Wt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,m={pointerEvents:"none",fill:u};return ne.createElement(Wt,{className:"recharts-brush-texts"},ne.createElement(_c,Rx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},m),this.getTextOfTick(i)),ne.createElement(_c,Rx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,m=f.endX,x=f.isTextActive,g=f.isSlideMoving,b=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!We(l)||!We(c)||!We(u)||!We(d)||u<=0||d<=0)return null;var w=Ct("recharts-brush",s),j=ne.Children.count(o)===1,_=hse("userSelect","none");return ne.createElement(Wt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||g||b||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return ne.isValidElement(n)?s=ne.cloneElement(n,i):mt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Wv({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?yse({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(k.PureComponent);na(Nd,"displayName","Brush");na(Nd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wse=Gw;function jse(t,e){var r;return wse(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var Nse=jse,_se=B6,Sse=qs,Ase=Nse,Cse=Vi,Ese=Ug;function Ose(t,e,r){var n=Cse(t)?_se:Ase;return r&&Ese(t,e,r)&&(e=void 0),n(t,Sse(e))}var Pse=Ose;const kse=lr(Pse);var Ds=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},M3=o8;function Tse(t,e,r){e=="__proto__"&&M3?M3(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Ise=Tse,Dse=Ise,Mse=a8,Lse=qs;function Rse(t,e){var r={};return e=Lse(e),Mse(t,function(n,i,s){Dse(r,i,e(n,i,s))}),r}var Fse=Rse;const Bse=lr(Fse);function $se(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var zse=$se,Use=Gw;function qse(t,e){var r=!0;return Use(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var Hse=qse,Wse=zse,Vse=Hse,Gse=qs,Xse=Vi,Yse=Ug;function Kse(t,e,r){var n=Xse(t)?Wse:Vse;return r&&Yse(t,e,r)&&(e=void 0),n(t,Gse(e))}var Jse=Kse;const QE=lr(Jse);var Qse=["x","y"];function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l2.apply(this,arguments)}function L3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(r),!0).forEach(function(n){Zse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zse(t,e,r){return e=eoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eoe(t){var e=toe(t,"string");return u0(e)=="symbol"?e:e+""}function toe(t,e){if(u0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(u0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function roe(t,e){if(t==null)return{};var r=noe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function noe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ioe(t,e){var r=t.x,n=t.y,i=roe(t,Qse),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return Xh(Xh(Xh(Xh(Xh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function R3(t){return ne.createElement(WE,l2({shapeType:"rectangle",propTransformer:ioe,activeClassName:"recharts-active-bar"},t))}var aoe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,i):(s||Ac(),r)}},soe=["value","background"],ZE;function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function ooe(t,e){if(t==null)return{};var r=loe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function loe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bx.apply(this,arguments)}function F3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(r),!0).forEach(function(n){fl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tO(n.key),n)}}function uoe(t,e,r){return e&&B3(t.prototype,e),r&&B3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function doe(t,e,r){return e=$x(e),hoe(t,eO()?Reflect.construct(e,r||[],$x(t).constructor):e.apply(t,r))}function hoe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(t)}function foe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!t})()}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$x(t)}function poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c2(t,e)}function c2(t,e){return c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c2(t,e)}function fl(t,e,r){return e=tO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tO(t){var e=moe(t,"string");return _d(e)=="symbol"?e:e+""}function moe(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bc=function(t){function e(){var r;coe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=doe(this,e,[].concat(i)),fl(r,"state",{isAnimationFinished:!1}),fl(r,"id",Vd("recharts-bar-")),fl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),fl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return poe(e,t),uoe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=ut(this.props,!1);return n&&n.map(function(h,f){var p=f===c,m=p?u:o,x=un(un(un({},d),h),{},{isActive:p,option:m,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(Wt,Bx({className:"recharts-bar-rectangle"},Nc(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),ne.createElement(R3,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return ne.createElement(Fs,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=s.map(function(g,b){var y=f&&f[b];if(y){var w=aa(y.x,g.x),j=aa(y.y,g.y),_=aa(y.width,g.width),S=aa(y.height,g.height);return un(un({},g),{},{x:w(m),y:j(m),width:_(m),height:S(m)})}if(o==="horizontal"){var A=aa(0,g.height),O=A(m);return un(un({},g),{},{y:g.y+g.height-O,height:O})}var M=aa(0,g.width),B=M(m);return un(un({},g),{},{width:B})});return ne.createElement(Wt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!D0(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=ut(this.props.background,!1);return s.map(function(u,d){u.value;var h=u.background,f=ooe(u,soe);if(!h)return null;var p=un(un(un(un(un({},f),{},{fill:"#eee"},h),c),Nc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ne.createElement(R3,Bx({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=da(d,M0);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,b){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:_n(g,b)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Wt,m,h.map(function(x){return ne.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(i||!s||!s.length)return null;var g=this.state.isAnimationFinished,b=Ct("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=y||w,_=_t(x)?this.id:x;return ne.createElement(Wt,{className:b},y||w?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(_)},ne.createElement("rect",{x:y?u:u-h/2,y:w?d:d-f/2,width:y?h:h*2,height:w?f:f*2}))):null,ne.createElement(Wt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!p||g)&&vo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(k.PureComponent);ZE=Bc;fl(Bc,"displayName","Bar");fl(Bc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fl(Bc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=Yee(n,r);if(!p)return null;var m=e.layout,x=r.type.defaultProps,g=x!==void 0?un(un({},x),r.props):r.props,b=g.dataKey,y=g.children,w=g.minPointSize,j=m==="horizontal"?o:s,_=u?j.scale.domain():null,S=rte({numericAxis:j}),A=da(y,O0),O=h.map(function(M,B){var T,E,R,F,W,$;u?T=Kee(u[d+B],_):(T=_n(M,b),Array.isArray(T)||(T=[S,T]));var z=aoe(w,ZE.defaultProps.minPointSize)(T[1],B);if(m==="horizontal"){var X,Y=[o.scale(T[0]),o.scale(T[1])],oe=Y[0],fe=Y[1];E=E4({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:M,index:B}),R=(X=fe??oe)!==null&&X!==void 0?X:void 0,F=p.size;var D=oe-fe;if(W=Number.isNaN(D)?0:D,$={x:E,y:o.y,width:F,height:o.height},Math.abs(z)>0&&Math.abs(W)<Math.abs(z)){var I=Ei(W||z)*(Math.abs(z)-Math.abs(W));R-=I,W+=I}}else{var U=[s.scale(T[0]),s.scale(T[1])],J=U[0],Q=U[1];if(E=J,R=E4({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:M,index:B}),F=Q-J,W=p.size,$={x:s.x,y:R,width:s.width,height:W},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var de=Ei(F||z)*(Math.abs(z)-Math.abs(F));F+=de}}return un(un(un({},M),{},{x:E,y:R,width:F,height:W,value:u?T:T[1],payload:M,background:$},A&&A[B]&&A[B].props),{},{tooltipPayload:[NE(r,M)],tooltipPosition:{x:E+F/2,y:R+W/2}})});return un({data:O,layout:m},f)});function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rO(n.key),n)}}function goe(t,e,r){return e&&$3(t.prototype,e),r&&$3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(r),!0).forEach(function(n){o1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o1(t,e,r){return e=rO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rO(t){var e=voe(t,"string");return d0(e)=="symbol"?e:e+""}function voe(t,e){if(d0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(d0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nO=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!ia(u,Bc);return d.reduce(function(p,m){var x=r[m],g=x.orientation,b=x.domain,y=x.padding,w=y===void 0?{}:y,j=x.mirror,_=x.reversed,S="".concat(g).concat(j?"Mirror":""),A,O,M,B,T;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var E=b[1]-b[0],R=1/0,F=x.categoricalDomain.sort();if(F.forEach(function(U,J){J>0&&(R=Math.min((U||0)-(F[J-1]||0),R))}),Number.isFinite(R)){var W=R/E,$=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(A=W*$/2),x.padding==="no-gap"){var z=Oi(e.barCategoryGap,W*$),X=W*$/2;A=X-z-(X-z)/$*z}}}i==="xAxis"?O=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:i==="yAxis"?O=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:O=x.range,_&&(O=[O[1],O[0]]);var Y=bE(x,s,f),oe=Y.scale,fe=Y.realScaleType;oe.domain(b).range(O),yE(oe);var D=wE(oe,Ja(Ja({},x),{},{realScaleType:fe}));i==="xAxis"?(T=g==="top"&&!j||g==="bottom"&&j,M=n.left,B=h[S]-T*x.height):i==="yAxis"&&(T=g==="left"&&!j||g==="right"&&j,M=h[S]-T*x.width,B=n.top);var I=Ja(Ja(Ja({},x),D),{},{realScaleType:fe,x:M,y:B,scale:oe,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return I.bandSize=Nx(I,D),!x.hide&&i==="xAxis"?h[S]+=(T?-1:1)*I.height:x.hide||(h[S]+=(T?-1:1)*I.width),Ja(Ja({},p),{},o1({},m,I))},{})},iO=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},boe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return iO({x:r,y:n},{x:i,y:s})},aO=function(){function t(e){xoe(this,t),this.scale=e}return goe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();o1(aO,"EPS",1e-4);var j5=function(e){var r=Object.keys(e).reduce(function(n,i){return Ja(Ja({},n),{},o1({},i,aO.create(e[i])))},{});return Ja(Ja({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Bse(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return QE(i,function(s,o){return r[o].isInRange(s)})}})};function yoe(t){return(t%180+180)%180}var woe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=yoe(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},joe=qs,Noe=E0,_oe=$g;function Soe(t){return function(e,r,n){var i=Object(e);if(!Noe(e)){var s=joe(r);e=_oe(e),r=function(l){return s(i[l],l,i)}}var o=t(e,r,n);return o>-1?i[s?e[o]:o]:void 0}}var Aoe=Soe,Coe=XE;function Eoe(t){var e=Coe(t),r=e%1;return e===e?r?e-r:e:0}var Ooe=Eoe,Poe=Z6,koe=qs,Toe=Ooe,Ioe=Math.max;function Doe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Toe(r);return i<0&&(i=Ioe(n+i,0)),Poe(t,koe(e),i)}var Moe=Doe,Loe=Aoe,Roe=Moe,Foe=Loe(Roe),Boe=Foe;const $oe=lr(Boe);var zoe=LF(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),N5=k.createContext(void 0),_5=k.createContext(void 0),sO=k.createContext(void 0),oO=k.createContext({}),lO=k.createContext(void 0),cO=k.createContext(0),uO=k.createContext(0),U3=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=zoe(s);return ne.createElement(N5.Provider,{value:n},ne.createElement(_5.Provider,{value:i},ne.createElement(oO.Provider,{value:s},ne.createElement(sO.Provider,{value:d},ne.createElement(lO.Provider,{value:o},ne.createElement(cO.Provider,{value:u},ne.createElement(uO.Provider,{value:c},l)))))))},Uoe=function(){return k.useContext(lO)},dO=function(e){var r=k.useContext(N5);r==null&&Ac();var n=r[e];return n==null&&Ac(),n},qoe=function(){var e=k.useContext(N5);return ll(e)},Hoe=function(){var e=k.useContext(_5),r=$oe(e,function(n){return QE(n.domain,Number.isFinite)});return r||ll(e)},hO=function(e){var r=k.useContext(_5);r==null&&Ac();var n=r[e];return n==null&&Ac(),n},Woe=function(){var e=k.useContext(sO);return e},Voe=function(){return k.useContext(oO)},S5=function(){return k.useContext(uO)},A5=function(){return k.useContext(cO)};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function Goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pO(n.key),n)}}function Yoe(t,e,r){return e&&Xoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Koe(t,e,r){return e=zx(e),Joe(t,fO()?Reflect.construct(e,r||[],zx(t).constructor):e.apply(t,r))}function Joe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qoe(t)}function Qoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(t)}function Zoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u2(t,e)}function u2(t,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u2(t,e)}function q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(r),!0).forEach(function(n){C5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C5(t,e,r){return e=pO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pO(t){var e=ele(t,"string");return Sd(e)=="symbol"?e:e+""}function ele(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tle(t,e){return ale(t)||ile(t,e)||nle(t,e)||rle()}function rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nle(t,e){if(t){if(typeof t=="string")return W3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(t,e)}}function W3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ile(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ale(t){if(Array.isArray(t))return t}function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d2.apply(this,arguments)}var sle=function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):mt(e)?n=e(r):n=ne.createElement("line",d2({},r,{className:"recharts-reference-line-line"})),n},ole=function(e,r,n,i,s,o,l,c,u){var d=s.x,h=s.y,f=s.width,p=s.height;if(n){var m=u.y,x=e.y.apply(m,{position:o});if(Ds(u,"discard")&&!e.y.isInRange(x))return null;var g=[{x:d+f,y:x},{x:d,y:x}];return c==="left"?g.reverse():g}if(r){var b=u.x,y=e.x.apply(b,{position:o});if(Ds(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:h+p},{x:y,y:h}];return l==="top"?w.reverse():w}if(i){var j=u.segment,_=j.map(function(S){return e.apply(S,{position:o})});return Ds(u,"discard")&&kse(_,function(S){return!e.isInRange(S)})?null:_}return null};function lle(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Uoe(),d=dO(i),h=hO(s),f=Woe();if(!u||!f)return null;ns(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=j5({x:d.scale,y:h.scale}),m=Cn(e),x=Cn(r),g=n&&n.length===2,b=ole(p,m,x,g,f,t.position,d.orientation,h.orientation,t);if(!b)return null;var y=tle(b,2),w=y[0],j=w.x,_=w.y,S=y[1],A=S.x,O=S.y,M=Ds(t,"hidden")?"url(#".concat(u,")"):void 0,B=H3(H3({clipPath:M},ut(t,!0)),{},{x1:j,y1:_,x2:A,y2:O});return ne.createElement(Wt,{className:Ct("recharts-reference-line",l)},sle(o,B),Bn.renderCallByParent(t,boe({x1:j,y1:_,x2:A,y2:O})))}var E5=function(t){function e(){return Goe(this,e),Koe(this,e,arguments)}return Zoe(e,t),Yoe(e,[{key:"render",value:function(){return ne.createElement(lle,this.props)}}])}(ne.Component);C5(E5,"displayName","ReferenceLine");C5(E5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h2.apply(this,arguments)}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function V3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(r),!0).forEach(function(n){l1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ule(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xO(n.key),n)}}function dle(t,e,r){return e&&ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hle(t,e,r){return e=Ux(e),fle(t,mO()?Reflect.construct(e,r||[],Ux(t).constructor):e.apply(t,r))}function fle(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ple(t)}function ple(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!t})()}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ux(t)}function mle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f2(t,e)}function f2(t,e){return f2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f2(t,e)}function l1(t,e,r){return e=xO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xO(t){var e=xle(t,"string");return Ad(e)=="symbol"?e:e+""}function xle(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gle=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=j5({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ds(e,"discard")&&!o.isInRange(l)?null:l},c1=function(t){function e(){return cle(this,e),hle(this,e,arguments)}return mle(e,t),dle(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Cn(i),d=Cn(s);if(ns(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=gle(this.props);if(!h)return null;var f=h.x,p=h.y,m=this.props,x=m.shape,g=m.className,b=Ds(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=G3(G3({clipPath:b},ut(this.props,!0)),{},{cx:f,cy:p});return ne.createElement(Wt,{className:Ct("recharts-reference-dot",g)},e.renderDot(x,y),Bn.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(ne.Component);l1(c1,"displayName","ReferenceDot");l1(c1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});l1(c1,"renderDot",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):mt(t)?r=t(e):r=ne.createElement(e1,h2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function p2(){return p2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p2.apply(this,arguments)}function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function X3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(r),!0).forEach(function(n){u1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ble(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vO(n.key),n)}}function yle(t,e,r){return e&&ble(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wle(t,e,r){return e=qx(e),jle(t,gO()?Reflect.construct(e,r||[],qx(t).constructor):e.apply(t,r))}function jle(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nle(t)}function Nle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(t)}function _le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m2(t,e)}function m2(t,e){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m2(t,e)}function u1(t,e,r){return e=vO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vO(t){var e=Sle(t,"string");return Cd(e)=="symbol"?e:e+""}function Sle(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ale=function(e,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var f=j5({x:d.scale,y:h.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},m={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Ds(s,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:iO(p,m)},d1=function(t){function e(){return vle(this,e),wle(this,e,arguments)}return _le(e,t),yle(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ns(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Cn(i),f=Cn(s),p=Cn(o),m=Cn(l),x=this.props.shape;if(!h&&!f&&!p&&!m&&!x)return null;var g=Ale(h,f,p,m,this.props);if(!g&&!x)return null;var b=Ds(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ne.createElement(Wt,{className:Ct("recharts-reference-area",c)},e.renderRect(x,Y3(Y3({clipPath:b},ut(this.props,!0)),g)),Bn.renderCallByParent(this.props,g))}}])}(ne.Component);u1(d1,"displayName","ReferenceArea");u1(d1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});u1(d1,"renderRect",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):mt(t)?r=t(e):r=ne.createElement(w5,p2({},e,{className:"recharts-reference-area-rect"})),r});function bO(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Cle(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return woe(n,r)}function Ele(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function Hx(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Ole(t,e){return bO(t,e+1)}function Ple(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:bO(n,u)};var x=c,g,b=function(){return g===void 0&&(g=r(m,x)),g},y=m.coordinate,w=c===0||Hx(t,y,b,d,l);w||(c=0,d=o,u+=1),w&&(d=y+t*(b()/2+i),c+=u)},f;u<=s.length;)if(f=h(),f)return f.v;return[]}function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function K3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(r),!0).forEach(function(n){kle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kle(t,e,r){return e=Tle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tle(t){var e=Ile(t,"string");return h0(e)=="symbol"?e:e+""}function Ile(t,e){if(h0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(h0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dle(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(f){var p=s[f],m,x=function(){return m===void 0&&(m=r(p,f)),m};if(f===o-1){var g=t*(p.coordinate+t*x()/2-c);s[f]=p=di(di({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else s[f]=p=di(di({},p),{},{tickCoord:p.coordinate});var b=Hx(t,p.tickCoord,x,l,c);b&&(c=p.tickCoord-t*(x()/2+i),s[f]=di(di({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function Mle(t,e,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=n[l-1],h=r(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=di(di({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=Hx(t,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-t*(h/2+i),o[l-1]=di(di({},d),{},{isShow:!0}))}for(var m=s?l-1:l,x=function(y){var w=o[y],j,_=function(){return j===void 0&&(j=r(w,y)),j};if(y===0){var S=t*(w.coordinate-t*_()/2-c);o[y]=w=di(di({},w),{},{tickCoord:S<0?w.coordinate-S*t:w.coordinate})}else o[y]=w=di(di({},w),{},{tickCoord:w.coordinate});var A=Hx(t,w.tickCoord,_,c,u);A&&(c=w.tickCoord+t*(_()/2+i),o[y]=di(di({},w),{},{isShow:!0}))},g=0;g<m;g++)x(g);return o}function O5(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(We(c)||Ts.isSsr)return Ole(i,typeof c=="number"&&We(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?pf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(w,j){var _=mt(u)?u(w.value,j):w.value;return p==="width"?Cle(pf(_,{fontSize:e,letterSpacing:r}),m,h):pf(_,{fontSize:e,letterSpacing:r})[p]},g=i.length>=2?Ei(i[1].coordinate-i[0].coordinate):1,b=Ele(s,g,p);return c==="equidistantPreserveStart"?Ple(g,b,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=Mle(g,b,x,i,o,c==="preserveStartEnd"):f=Dle(g,b,x,i,o),f.filter(function(y){return y.isShow}))}var Lle=["viewBox"],Rle=["viewBox"],Fle=["ticks"];function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qu.apply(this,arguments)}function J3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(r),!0).forEach(function(n){P5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vv(t,e){if(t==null)return{};var r=Ble(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ble(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wO(n.key),n)}}function zle(t,e,r){return e&&Q3(t.prototype,e),r&&Q3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ule(t,e,r){return e=Wx(e),qle(t,yO()?Reflect.construct(e,r||[],Wx(t).constructor):e.apply(t,r))}function qle(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(t)}function Hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!t})()}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(t)}function Wle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x2(t,e)}function x2(t,e){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x2(t,e)}function P5(t,e,r){return e=wO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wO(t){var e=Vle(t,"string");return Ed(e)=="symbol"?e:e+""}function Vle(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zd=function(t){function e(r){var n;return $le(this,e),n=Ule(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Wle(e,t),zle(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Vv(n,Lle),l=this.props,c=l.viewBox,u=Vv(l,Rle);return!Zu(s,c)||!Zu(o,u)||!Zu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,p,m,x,g,b,y,w=h?-1:1,j=n.tickSize||d,_=We(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,g=o+ +!h*c,x=g-w*j,y=x-w*f,b=_;break;case"left":x=g=n.coordinate,m=s+ +!h*l,p=m-w*j,b=p-w*f,y=_;break;case"right":x=g=n.coordinate,m=s+ +h*l,p=m+w*j,b=p+w*f,y=_;break;default:p=m=n.coordinate,g=o+ +h*c,x=g+w*j,y=x+w*f,b=_;break}return{line:{x1:p,y1:x,x2:m,y2:g},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=wi(wi(wi({},ut(this.props,!1)),ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=wi(wi({},h),{},{x1:i,y1:s+f*l,x2:i+o,y2:s+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=wi(wi({},h),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+l})}return ne.createElement("line",qu({},h,{className:Ct("recharts-cartesian-axis-line",ua(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,p=O5(wi(wi({},this.props),{},{ticks:n}),i,s),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=ut(this.props,!1),b=ut(d,!1),y=wi(wi({},g),{},{fill:"none"},ut(c,!1)),w=p.map(function(j,_){var S=o.getTickLineCoord(j),A=S.line,O=S.tick,M=wi(wi(wi(wi({textAnchor:m,verticalAnchor:x},g),{},{stroke:"none",fill:u},b),O),{},{index:_,payload:j,visibleTicksCount:p.length,tickFormatter:h});return ne.createElement(Wt,qu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Nc(o.props,j,_)),c&&ne.createElement("line",qu({},y,A,{className:Ct("recharts-cartesian-axis-tick-line",ua(c,"className"))})),d&&e.renderTickItem(d,M,"".concat(mt(h)?h(j.value,_):j.value).concat(f||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,p=Vv(h,Fle),m=f;return mt(c)&&(m=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:ne.createElement(Wt,{className:Ct("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ne.isValidElement(n)?o=ne.cloneElement(n,i):mt(n)?o=n(i):o=ne.createElement(_c,qu({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(k.Component);P5(Zd,"displayName","CartesianAxis");P5(Zd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Gle=["x1","y1","x2","y2","key"],Xle=["offset"];function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(r),!0).forEach(function(n){Yle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yle(t,e,r){return e=Kle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kle(t){var e=Jle(t,"string");return Cc(e)=="symbol"?e:e+""}function Jle(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function eS(t,e){if(t==null)return{};var r=Qle(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zle=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return ne.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function jO(t,e){var r;if(ne.isValidElement(t))r=ne.cloneElement(t,e);else if(mt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=eS(e,Gle),u=ut(c,!1);u.offset;var d=eS(u,Xle);r=ne.createElement("line",uc({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function ece(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=hi(hi({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return jO(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function tce(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=hi(hi({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return jO(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function rce(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],x=m?i+o-f:d[p+1]-f;if(x<=0)return null;var g=p%e.length;return ne.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:x,width:s,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function nce(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],x=m?s+l-f:d[p+1]-f;if(x<=0)return null;var g=p%n.length;return ne.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:x,height:c,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ice=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return vE(O5(hi(hi(hi({},Zd.defaultProps),n),{},{ticks:po(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},ace=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return vE(O5(hi(hi(hi({},Zd.defaultProps),n),{},{ticks:po(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},ju={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function k5(t){var e,r,n,i,s,o,l=S5(),c=A5(),u=Voe(),d=hi(hi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ju.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ju.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ju.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ju.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:ju.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ju.verticalFill,x:We(t.x)?t.x:u.left,y:We(t.y)?t.y:u.top,width:We(t.width)?t.width:u.width,height:We(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,x=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,y=qoe(),w=Hoe();if(!We(p)||p<=0||!We(m)||m<=0||!We(h)||h!==+h||!We(f)||f!==+f)return null;var j=d.verticalCoordinatesGenerator||ice,_=d.horizontalCoordinatesGenerator||ace,S=d.horizontalPoints,A=d.verticalPoints;if((!S||!S.length)&&mt(_)){var O=g&&g.length,M=_({yAxis:w?hi(hi({},w),{},{ticks:O?g:w.ticks}):void 0,width:l,height:c,offset:u},O?!0:x);ns(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Cc(M),"]")),Array.isArray(M)&&(S=M)}if((!A||!A.length)&&mt(j)){var B=b&&b.length,T=j({xAxis:y?hi(hi({},y),{},{ticks:B?b:y.ticks}):void 0,width:l,height:c,offset:u},B?!0:x);ns(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Cc(T),"]")),Array.isArray(T)&&(A=T)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(Zle,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ne.createElement(ece,uc({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:w})),ne.createElement(tce,uc({},d,{offset:u,verticalPoints:A,xAxis:y,yAxis:w})),ne.createElement(rce,uc({},d,{horizontalPoints:S})),ne.createElement(nce,uc({},d,{verticalPoints:A})))}k5.displayName="CartesianGrid";var sce=["type","layout","connectNulls","ref"],oce=["key"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function tS(t,e){if(t==null)return{};var r=lce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(this,arguments)}function rS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(r),!0).forEach(function(n){Qa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nu(t){return hce(t)||dce(t)||uce(t)||cce()}function cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uce(t,e){if(t){if(typeof t=="string")return g2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g2(t,e)}}function dce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hce(t){if(Array.isArray(t))return g2(t)}function g2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_O(n.key),n)}}function pce(t,e,r){return e&&nS(t.prototype,e),r&&nS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mce(t,e,r){return e=Vx(e),xce(t,NO()?Reflect.construct(e,r||[],Vx(t).constructor):e.apply(t,r))}function xce(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gce(t)}function gce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(t)}function vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v2(t,e)}function v2(t,e){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v2(t,e)}function Qa(t,e,r){return e=_O(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _O(t){var e=bce(t,"string");return Od(e)=="symbol"?e:e+""}function bce(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L0=function(t){function e(){var r;fce(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=mce(this,e,[].concat(i)),Qa(r,"state",{isAnimationFinished:!0,totalLength:0}),Qa(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Qa(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,p=[],m=0,x=0;m<c.length;x+=c[m],++m)if(x+c[m]>h){p=[].concat(Nu(c.slice(0,m)),[h-x]);break}var g=p.length%2===0?[0,f]:[f];return[].concat(Nu(e.repeat(c,d)),Nu(p),g).map(function(b){return"".concat(b,"px")}).join(", ")}),Qa(r,"id",Vd("recharts-line-")),Qa(r,"pathRef",function(o){r.mainCurve=o}),Qa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Qa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return vce(e,t),pce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=da(d,M0);if(!h)return null;var f=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:_n(x.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Wt,p,h.map(function(m){return ne.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=ut(this.props,!1),f=ut(c,!0),p=u.map(function(x,g){var b=ta(ta(ta({key:"dot-".concat(g),r:3},h),f),{},{value:x.value,dataKey:d,cx:x.x,cy:x.y,index:g,payload:x.payload});return e.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ne.createElement(Wt,yf({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=tS(l,sce),f=ta(ta(ta({},ut(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ne.createElement(Ax,yf({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,m=o.animateNewValues,x=o.width,g=o.height,b=this.state,y=b.prevPoints,w=b.totalLength;return ne.createElement(Fs,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(y){var S=y.length/l.length,A=l.map(function(E,R){var F=Math.floor(R*S);if(y[F]){var W=y[F],$=aa(W.x,E.x),z=aa(W.y,E.y);return ta(ta({},E),{},{x:$(_),y:z(_)})}if(m){var X=aa(x*2,E.x),Y=aa(g/2,E.y);return ta(ta({},E),{},{x:X(_),y:Y(_)})}return ta(ta({},E),{},{x:E.x,y:E.y})});return s.renderCurveStatically(A,n,i)}var O=aa(0,w),M=O(_),B;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});B=s.getStrokeDasharray(M,w,T)}else B=s.generateSimpleStrokeDasharray(w,M);return s.renderCurveStatically(l,n,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!D0(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,p=i.width,m=i.height,x=i.isAnimationActive,g=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Ct("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,S=j||_,A=_t(g)?this.id:g,O=(n=ut(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=O.r,B=M===void 0?3:M,T=O.strokeWidth,E=T===void 0?2:T,R=UB(o)?o:{},F=R.clipDot,W=F===void 0?!0:F,$=B*2+E;return ne.createElement(Wt,{className:w},j||_?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(A)},ne.createElement("rect",{x:j?f:f-p/2,y:_?h:h-m/2,width:j?p:p*2,height:_?m:m*2})),!W&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ne.createElement("rect",{x:f-$/2,y:h-$/2,width:p+$,height:m+$}))):null,!y&&this.renderCurve(S,A),this.renderErrorBar(S,A),(y||o)&&this.renderDots(S,W,A),(!x||b)&&vo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Nu(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Nu(o),Nu(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(ne.isValidElement(n))s=ne.cloneElement(n,i);else if(mt(n))s=n(i);else{var o=i.key,l=tS(i,oce),c=Ct("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ne.createElement(e1,yf({key:o},l,{className:c}))}return s}}])}(k.PureComponent);Qa(L0,"displayName","Line");Qa(L0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ts.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qa(L0,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(f,p){var m=_n(f,o);return d==="horizontal"?{x:C4({axis:r,ticks:i,bandSize:l,entry:f,index:p}),y:_t(m)?null:n.scale(m),value:m,payload:f}:{x:_t(m)?null:r.scale(m),y:C4({axis:n,ticks:s,bandSize:l,entry:f,index:p}),value:m,payload:f}});return ta({points:h,layout:d},u)});function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CO(n.key),n)}}function jce(t,e,r){return e&&wce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nce(t,e,r){return e=Gx(e),_ce(t,SO()?Reflect.construct(e,r||[],Gx(t).constructor):e.apply(t,r))}function _ce(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sce(t)}function Sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SO=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(t)}function Ace(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b2(t,e)}function b2(t,e){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b2(t,e)}function AO(t,e,r){return e=CO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CO(t){var e=Cce(t,"string");return Pd(e)=="symbol"?e:e+""}function Cce(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y2(){return y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y2.apply(this,arguments)}function Ece(t){var e=t.xAxisId,r=S5(),n=A5(),i=dO(e);return i==null?null:ne.createElement(Zd,y2({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return po(o,!0)}}))}var eh=function(t){function e(){return yce(this,e),Nce(this,e,arguments)}return Ace(e,t),jce(e,[{key:"render",value:function(){return ne.createElement(Ece,this.props)}}])}(ne.Component);AO(eh,"displayName","XAxis");AO(eh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function Oce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PO(n.key),n)}}function kce(t,e,r){return e&&Pce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tce(t,e,r){return e=Xx(e),Ice(t,EO()?Reflect.construct(e,r||[],Xx(t).constructor):e.apply(t,r))}function Ice(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dce(t)}function Dce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(t)}function Mce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w2(t,e)}function w2(t,e){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w2(t,e)}function OO(t,e,r){return e=PO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PO(t){var e=Lce(t,"string");return kd(e)=="symbol"?e:e+""}function Lce(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j2.apply(this,arguments)}var Rce=function(e){var r=e.yAxisId,n=S5(),i=A5(),s=hO(r);return s==null?null:ne.createElement(Zd,j2({},s,{className:Ct("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return po(l,!0)}}))},th=function(t){function e(){return Oce(this,e),Tce(this,e,arguments)}return Mce(e,t),kce(e,[{key:"render",value:function(){return ne.createElement(Rce,this.props)}}])}(ne.Component);OO(th,"displayName","YAxis");OO(th,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iS(t){return zce(t)||$ce(t)||Bce(t)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return N2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N2(t,e)}}function $ce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zce(t){if(Array.isArray(t))return N2(t)}function N2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _2=function(e,r,n,i,s){var o=da(e,E5),l=da(e,c1),c=[].concat(iS(o),iS(l)),u=da(e,d1),d="".concat(i,"Id"),h=i[0],f=r;if(c.length&&(f=c.reduce(function(x,g){if(g.props[d]===n&&Ds(g.props,"extendDomain")&&We(g.props[h])){var b=g.props[h];return[Math.min(x[0],b),Math.max(x[1],b)]}return x},f)),u.length){var p="".concat(h,"1"),m="".concat(h,"2");f=u.reduce(function(x,g){if(g.props[d]===n&&Ds(g.props,"extendDomain")&&We(g.props[p])&&We(g.props[m])){var b=g.props[p],y=g.props[m];return[Math.min(x[0],b,y),Math.max(x[1],b,y)]}return x},f)}return s&&s.length&&(f=s.reduce(function(x,g){return We(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},f)),f},kO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,f),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,m){var x=r?r+u:u;if(!this._events[x])return!1;var g=this._events[x],b=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,f),!0;case 5:return g.fn.call(g.context,d,h,f,p),!0;case 6:return g.fn.call(g.context,d,h,f,p,m),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var j=g.length,_;for(w=0;w<j;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),b){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,h);break;case 4:g[w].fn.call(g[w].context,d,h,f);break;default:if(!y)for(_=1,y=new Array(b-1);_<b;_++)y[_-1]=arguments[_];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var x=0,g=[],b=m.length;x<b;x++)(m[x].fn!==d||f&&!m[x].once||h&&m[x].context!==h)&&g.push(m[x]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(kO);var Uce=kO.exports;const qce=lr(Uce);var Gv=new qce,Xv="recharts.syncMouseEvents";function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function Hce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TO(n.key),n)}}function Vce(t,e,r){return e&&Wce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yv(t,e,r){return e=TO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TO(t){var e=Gce(t,"string");return f0(e)=="symbol"?e:e+""}function Gce(t,e){if(f0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(f0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xce=function(){function t(){Hce(this,t),Yv(this,"activeIndex",0),Yv(this,"coordinateList",[]),Yv(this,"layout","horizontal")}return Vce(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Yce(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&We(n)&&We(i))return!0}return!1}function Kce(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function IO(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=_r(e,r,n,i),l=_r(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Jce(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=_r(l,c,u,h),p=_r(l,c,d,h);n=f.x,i=f.y,s=p.x,o=p.y}else return IO(e);return[{x:n,y:i},{x:s,y:o}]}function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function aS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function em(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(r),!0).forEach(function(n){Qce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qce(t,e,r){return e=Zce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zce(t){var e=eue(t,"string");return p0(e)=="symbol"?e:e+""}function eue(t,e){if(p0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tue(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var m,x=Ax;if(f==="ScatterChart")m=o,x=bie;else if(f==="BarChart")m=Kce(h,o,c,d),x=w5;else if(h==="radial"){var g=IO(o),b=g.cx,y=g.cy,w=g.radius,j=g.startAngle,_=g.endAngle;m={cx:b,cy:y,startAngle:j,endAngle:_,innerRadius:w,outerRadius:w},x=OE}else m={points:Jce(h,o,c)},x=Ax;var S=em(em(em(em({stroke:"#ccc",pointerEvents:"none"},c),m),ut(p,!1)),{},{payload:l,payloadIndex:u,className:Ct("recharts-tooltip-cursor",p.className)});return k.isValidElement(p)?k.cloneElement(p,S):k.createElement(x,S)}var rue=["item"],nue=["children","className","width","height","style","compact","title","desc"];function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hu.apply(this,arguments)}function sS(t,e){return sue(t)||aue(t,e)||MO(t,e)||iue()}function iue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sue(t){if(Array.isArray(t))return t}function oS(t,e){if(t==null)return{};var r=oue(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LO(n.key),n)}}function uue(t,e,r){return e&&cue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function due(t,e,r){return e=Yx(e),hue(t,DO()?Reflect.construct(e,r||[],Yx(t).constructor):e.apply(t,r))}function hue(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fue(t)}function fue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!t})()}function Yx(t){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(t)}function pue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S2(t,e)}function S2(t,e){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S2(t,e)}function Id(t){return gue(t)||xue(t)||MO(t)||mue()}function mue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MO(t,e){if(t){if(typeof t=="string")return A2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(t,e)}}function xue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gue(t){if(Array.isArray(t))return A2(t)}function A2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ft(t,e,r){return e=LO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LO(t){var e=vue(t,"string");return Td(e)=="symbol"?e:e+""}function vue(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bue={xAxis:["bottom","top"],yAxis:["left","right"]},yue={width:"100%",height:"100%"},RO={x:0,y:0};function tm(t){return t}var wue=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},jue=function(e,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return Me(Me(Me({},i),_r(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Me(Me(Me({},i),_r(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return RO},h1=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Id(l),Id(u)):l},[]);return o.length>0?o:e&&e.length&&We(i)&&We(s)?e.slice(i,s+1):[]};function FO(t){return t==="number"?[0,"auto"]:void 0}var C2=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,l=h1(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=Xm(p,o.dataKey,i)}else f=h&&h[n]||l[n];return f?[].concat(Id(c),[NE(u,f)]):c},[])},cS=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=wue(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=qee(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=C2(e,r,d,h),p=jue(n,l,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},Nue=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=gE(d,s);return n.reduce(function(m,x){var g,b=x.type.defaultProps!==void 0?Me(Me({},x.type.defaultProps),x.props):x.props,y=b.type,w=b.dataKey,j=b.allowDataOverflow,_=b.allowDuplicatedCategory,S=b.scale,A=b.ticks,O=b.includeHidden,M=b[o];if(m[M])return m;var B=h1(e.data,{graphicalItems:i.filter(function(D){var I,U=o in D.props?D.props[o]:(I=D.type.defaultProps)===null||I===void 0?void 0:I[o];return U===M}),dataStartIndex:c,dataEndIndex:u}),T=B.length,E,R,F;Yce(b.domain,j,y)&&(E=zy(b.domain,null,j),p&&(y==="number"||S!=="auto")&&(F=xf(B,w,"category")));var W=FO(y);if(!E||E.length===0){var $,z=($=b.domain)!==null&&$!==void 0?$:W;if(w){if(E=xf(B,w,y),y==="category"&&p){var X=IB(E);_&&X?(R=E,E=Lx(0,T)):_||(E=k4(z,E,x).reduce(function(D,I){return D.indexOf(I)>=0?D:[].concat(Id(D),[I])},[]))}else if(y==="category")_?E=E.filter(function(D){return D!==""&&!_t(D)}):E=k4(z,E,x).reduce(function(D,I){return D.indexOf(I)>=0||I===""||_t(I)?D:[].concat(Id(D),[I])},[]);else if(y==="number"){var Y=Xee(B,i.filter(function(D){var I,U,J=o in D.props?D.props[o]:(I=D.type.defaultProps)===null||I===void 0?void 0:I[o],Q="hide"in D.props?D.props.hide:(U=D.type.defaultProps)===null||U===void 0?void 0:U.hide;return J===M&&(O||!Q)}),w,s,d);Y&&(E=Y)}p&&(y==="number"||S!=="auto")&&(F=xf(B,w,"category"))}else p?E=Lx(0,T):l&&l[M]&&l[M].hasStack&&y==="number"?E=f==="expand"?[0,1]:jE(l[M].stackGroups,c,u):E=xE(B,i.filter(function(D){var I=o in D.props?D.props[o]:D.type.defaultProps[o],U="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return I===M&&(O||!U)}),y,d,!0);if(y==="number")E=_2(h,E,M,s,A),z&&(E=zy(z,E,j));else if(y==="category"&&z){var oe=z,fe=E.every(function(D){return oe.indexOf(D)>=0});fe&&(E=oe)}}return Me(Me({},m),{},ft({},M,Me(Me({},b),{},{axisType:s,domain:E,categoricalDomain:F,duplicateDomain:R,originalDomain:(g=b.domain)!==null&&g!==void 0?g:W,isCategorical:p,layout:d})))},{})},_ue=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=h1(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,m=gE(d,s),x=-1;return n.reduce(function(g,b){var y=b.type.defaultProps!==void 0?Me(Me({},b.type.defaultProps),b.props):b.props,w=y[o],j=FO("number");if(!g[w]){x++;var _;return m?_=Lx(0,p):l&&l[w]&&l[w].hasStack?(_=jE(l[w].stackGroups,c,u),_=_2(h,_,w,s)):(_=zy(j,xE(f,n.filter(function(S){var A,O,M=o in S.props?S.props[o]:(A=S.type.defaultProps)===null||A===void 0?void 0:A[o],B="hide"in S.props?S.props.hide:(O=S.type.defaultProps)===null||O===void 0?void 0:O.hide;return M===w&&!B}),"number",d),i.defaultProps.allowDataOverflow),_=_2(h,_,w,s)),Me(Me({},g),{},ft({},w,Me(Me({axisType:s},i.defaultProps),{},{hide:!0,orientation:ua(bue,"".concat(s,".").concat(x%2),null),domain:_,originalDomain:j,isCategorical:m,layout:d})))}return g},{})},Sue=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=da(d,s),p={};return f&&f.length?p=Nue(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=_ue(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Aue=function(e){var r=ll(e),n=po(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Xw(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Nx(r,n)}},uS=function(e){var r=e.children,n=e.defaultShowTooltip,i=ia(r,Nd),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Cue=function(e){return!e||!e.length?!1:e.some(function(r){var n=xo(r&&r.type);return n&&n.indexOf("Bar")>=0})},dS=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Eue=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},p=ia(h,Nd),m=ia(h,mc),x=Object.keys(c).reduce(function(_,S){var A=c[S],O=A.orientation;return!A.mirror&&!A.hide?Me(Me({},_),{},ft({},O,_[O]+A.width)):_},{left:f.left||0,right:f.right||0}),g=Object.keys(o).reduce(function(_,S){var A=o[S],O=A.orientation;return!A.mirror&&!A.hide?Me(Me({},_),{},ft({},O,ua(_,"".concat(O))+A.height)):_},{top:f.top||0,bottom:f.bottom||0}),b=Me(Me({},g),x),y=b.bottom;p&&(b.bottom+=p.props.height||Nd.defaultProps.height),m&&r&&(b=Vee(b,i,n,r));var w=u-b.left-b.right,j=d-b.top-b.bottom;return Me(Me({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(j,0)})},Oue=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},T5=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(b,y){var w=y.graphicalItems,j=y.stackGroups,_=y.offset,S=y.updateId,A=y.dataStartIndex,O=y.dataEndIndex,M=b.barSize,B=b.layout,T=b.barGap,E=b.barCategoryGap,R=b.maxBarSize,F=dS(B),W=F.numericAxisName,$=F.cateAxisName,z=Cue(w),X=[];return w.forEach(function(Y,oe){var fe=h1(b.data,{graphicalItems:[Y],dataStartIndex:A,dataEndIndex:O}),D=Y.type.defaultProps!==void 0?Me(Me({},Y.type.defaultProps),Y.props):Y.props,I=D.dataKey,U=D.maxBarSize,J=D["".concat(W,"Id")],Q=D["".concat($,"Id")],de={},xe=c.reduce(function(Se,je){var me=y["".concat(je.axisType,"Map")],Le=D["".concat(je.axisType,"Id")];me&&me[Le]||je.axisType==="zAxis"||Ac();var qe=me[Le];return Me(Me({},Se),{},ft(ft({},je.axisType,qe),"".concat(je.axisType,"Ticks"),po(qe)))},de),le=xe[$],_e=xe["".concat($,"Ticks")],Oe=j&&j[J]&&j[J].hasStack&&nte(Y,j[J].stackGroups),ae=xo(Y.type).indexOf("Bar")>=0,Pe=Nx(le,_e),De=[],he=z&&Hee({barSize:M,stackGroups:j,totalSize:Oue(xe,$)});if(ae){var te,Ue,ee=_t(U)?R:U,re=(te=(Ue=Nx(le,_e,!0))!==null&&Ue!==void 0?Ue:ee)!==null&&te!==void 0?te:0;De=Wee({barGap:T,barCategoryGap:E,bandSize:re!==Pe?re:Pe,sizeList:he[Q],maxBarSize:ee}),re!==Pe&&(De=De.map(function(Se){return Me(Me({},Se),{},{position:Me(Me({},Se.position),{},{offset:Se.position.offset-re/2})})}))}var ue=Y&&Y.type&&Y.type.getComposedData;ue&&X.push({props:Me(Me({},ue(Me(Me({},xe),{},{displayedData:fe,props:b,dataKey:I,item:Y,bandSize:Pe,barPosition:De,offset:_,stackedData:Oe,layout:B,dataStartIndex:A,dataEndIndex:O}))),{},ft(ft(ft({key:Y.key||"item-".concat(oe)},W,xe[W]),$,xe[$]),"animationId",S)),childIndex:WB(Y,b.children),item:Y})}),X},p=function(b,y){var w=b.props,j=b.dataStartIndex,_=b.dataEndIndex,S=b.updateId;if(!_N({props:w}))return null;var A=w.children,O=w.layout,M=w.stackOffset,B=w.data,T=w.reverseStackOrder,E=dS(O),R=E.numericAxisName,F=E.cateAxisName,W=da(A,n),$=tte(B,W,"".concat(R,"Id"),"".concat(F,"Id"),M,T),z=c.reduce(function(D,I){var U="".concat(I.axisType,"Map");return Me(Me({},D),{},ft({},U,Sue(w,Me(Me({},I),{},{graphicalItems:W,stackGroups:I.axisType===R&&$,dataStartIndex:j,dataEndIndex:_}))))},{}),X=Eue(Me(Me({},z),{},{props:w,graphicalItems:W}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(D){z[D]=d(w,z[D],X,D.replace("Map",""),r)});var Y=z["".concat(F,"Map")],oe=Aue(Y),fe=f(w,Me(Me({},z),{},{dataStartIndex:j,dataEndIndex:_,updateId:S,graphicalItems:W,stackGroups:$,offset:X}));return Me(Me({formattedGraphicalItems:fe,graphicalItems:W,offset:X,stackGroups:$},oe),z)},m=function(g){function b(y){var w,j,_;return lue(this,b),_=due(this,b,[y]),ft(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ft(_,"accessibilityManager",new Xce),ft(_,"handleLegendBBoxUpdate",function(S){if(S){var A=_.state,O=A.dataStartIndex,M=A.dataEndIndex,B=A.updateId;_.setState(Me({legendBBox:S},p({props:_.props,dataStartIndex:O,dataEndIndex:M,updateId:B},Me(Me({},_.state),{},{legendBBox:S}))))}}),ft(_,"handleReceiveSyncEvent",function(S,A,O){if(_.props.syncId===S){if(O===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(A)}}),ft(_,"handleBrushChange",function(S){var A=S.startIndex,O=S.endIndex;if(A!==_.state.dataStartIndex||O!==_.state.dataEndIndex){var M=_.state.updateId;_.setState(function(){return Me({dataStartIndex:A,dataEndIndex:O},p({props:_.props,dataStartIndex:A,dataEndIndex:O,updateId:M},_.state))}),_.triggerSyncEvent({dataStartIndex:A,dataEndIndex:O})}}),ft(_,"handleMouseEnter",function(S){var A=_.getMouseInfo(S);if(A){var O=Me(Me({},A),{},{isTooltipActive:!0});_.setState(O),_.triggerSyncEvent(O);var M=_.props.onMouseEnter;mt(M)&&M(O,S)}}),ft(_,"triggeredAfterMouseMove",function(S){var A=_.getMouseInfo(S),O=A?Me(Me({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(O),_.triggerSyncEvent(O);var M=_.props.onMouseMove;mt(M)&&M(O,S)}),ft(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ft(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ft(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),ft(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var O=_.props.onMouseLeave;mt(O)&&O(A,S)}),ft(_,"handleOuterEvent",function(S){var A=HB(S),O=ua(_.props,"".concat(A));if(A&&mt(O)){var M,B;/.*touch.*/i.test(A)?B=_.getMouseInfo(S.changedTouches[0]):B=_.getMouseInfo(S),O((M=B)!==null&&M!==void 0?M:{},S)}}),ft(_,"handleClick",function(S){var A=_.getMouseInfo(S);if(A){var O=Me(Me({},A),{},{isTooltipActive:!0});_.setState(O),_.triggerSyncEvent(O);var M=_.props.onClick;mt(M)&&M(O,S)}}),ft(_,"handleMouseDown",function(S){var A=_.props.onMouseDown;if(mt(A)){var O=_.getMouseInfo(S);A(O,S)}}),ft(_,"handleMouseUp",function(S){var A=_.props.onMouseUp;if(mt(A)){var O=_.getMouseInfo(S);A(O,S)}}),ft(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ft(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),ft(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),ft(_,"handleDoubleClick",function(S){var A=_.props.onDoubleClick;if(mt(A)){var O=_.getMouseInfo(S);A(O,S)}}),ft(_,"handleContextMenu",function(S){var A=_.props.onContextMenu;if(mt(A)){var O=_.getMouseInfo(S);A(O,S)}}),ft(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&Gv.emit(Xv,_.props.syncId,S,_.eventEmitterSymbol)}),ft(_,"applySyncEvent",function(S){var A=_.props,O=A.layout,M=A.syncMethod,B=_.state.updateId,T=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(Me({dataStartIndex:T,dataEndIndex:E},p({props:_.props,dataStartIndex:T,dataEndIndex:E,updateId:B},_.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,F=S.chartY,W=S.activeTooltipIndex,$=_.state,z=$.offset,X=$.tooltipTicks;if(!z)return;if(typeof M=="function")W=M(X,S);else if(M==="value"){W=-1;for(var Y=0;Y<X.length;Y++)if(X[Y].value===S.activeLabel){W=Y;break}}var oe=Me(Me({},z),{},{x:z.left,y:z.top}),fe=Math.min(R,oe.x+oe.width),D=Math.min(F,oe.y+oe.height),I=X[W]&&X[W].value,U=C2(_.state,_.props.data,W),J=X[W]?{x:O==="horizontal"?X[W].coordinate:fe,y:O==="horizontal"?D:X[W].coordinate}:RO;_.setState(Me(Me({},S),{},{activeLabel:I,activeCoordinate:J,activePayload:U,activeTooltipIndex:W}))}else _.setState(S)}),ft(_,"renderCursor",function(S){var A,O=_.state,M=O.isTooltipActive,B=O.activeCoordinate,T=O.activePayload,E=O.offset,R=O.activeTooltipIndex,F=O.tooltipAxisBandSize,W=_.getTooltipEventType(),$=(A=S.props.active)!==null&&A!==void 0?A:M,z=_.props.layout,X=S.key||"_recharts-cursor";return ne.createElement(tue,{key:X,activeCoordinate:B,activePayload:T,activeTooltipIndex:R,chartName:r,element:S,isActive:$,layout:z,offset:E,tooltipAxisBandSize:F,tooltipEventType:W})}),ft(_,"renderPolarAxis",function(S,A,O){var M=ua(S,"type.axisType"),B=ua(_.state,"".concat(M,"Map")),T=S.type.defaultProps,E=T!==void 0?Me(Me({},T),S.props):S.props,R=B&&B[E["".concat(M,"Id")]];return k.cloneElement(S,Me(Me({},R),{},{className:Ct(M,R.className),key:S.key||"".concat(A,"-").concat(O),ticks:po(R,!0)}))}),ft(_,"renderPolarGrid",function(S){var A=S.props,O=A.radialLines,M=A.polarAngles,B=A.polarRadius,T=_.state,E=T.radiusAxisMap,R=T.angleAxisMap,F=ll(E),W=ll(R),$=W.cx,z=W.cy,X=W.innerRadius,Y=W.outerRadius;return k.cloneElement(S,{polarAngles:Array.isArray(M)?M:po(W,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(B)?B:po(F,!0).map(function(oe){return oe.coordinate}),cx:$,cy:z,innerRadius:X,outerRadius:Y,key:S.key||"polar-grid",radialLines:O})}),ft(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,A=_.props,O=A.children,M=A.width,B=A.height,T=_.props.margin||{},E=M-(T.left||0)-(T.right||0),R=pE({children:O,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!R)return null;var F=R.item,W=oS(R,rue);return k.cloneElement(F,Me(Me({},W),{},{chartWidth:M,chartHeight:B,margin:T,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ft(_,"renderTooltip",function(){var S,A=_.props,O=A.children,M=A.accessibilityLayer,B=ia(O,Sa);if(!B)return null;var T=_.state,E=T.isTooltipActive,R=T.activeCoordinate,F=T.activePayload,W=T.activeLabel,$=T.offset,z=(S=B.props.active)!==null&&S!==void 0?S:E;return k.cloneElement(B,{viewBox:Me(Me({},$),{},{x:$.left,y:$.top}),active:z,label:W,payload:z?F:[],coordinate:R,accessibilityLayer:M})}),ft(_,"renderBrush",function(S){var A=_.props,O=A.margin,M=A.data,B=_.state,T=B.offset,E=B.dataStartIndex,R=B.dataEndIndex,F=B.updateId;return k.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Kp(_.handleBrushChange,S.props.onChange),data:M,x:We(S.props.x)?S.props.x:T.left,y:We(S.props.y)?S.props.y:T.top+T.height+T.brushBottom-(O.bottom||0),width:We(S.props.width)?S.props.width:T.width,startIndex:E,endIndex:R,updateId:"brush-".concat(F)})}),ft(_,"renderReferenceElement",function(S,A,O){if(!S)return null;var M=_,B=M.clipPathId,T=_.state,E=T.xAxisMap,R=T.yAxisMap,F=T.offset,W=S.type.defaultProps||{},$=S.props,z=$.xAxisId,X=z===void 0?W.xAxisId:z,Y=$.yAxisId,oe=Y===void 0?W.yAxisId:Y;return k.cloneElement(S,{key:S.key||"".concat(A,"-").concat(O),xAxis:E[X],yAxis:R[oe],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:B})}),ft(_,"renderActivePoints",function(S){var A=S.item,O=S.activePoint,M=S.basePoint,B=S.childIndex,T=S.isRange,E=[],R=A.props.key,F=A.item.type.defaultProps!==void 0?Me(Me({},A.item.type.defaultProps),A.item.props):A.item.props,W=F.activeDot,$=F.dataKey,z=Me(Me({index:B,dataKey:$,cx:O.x,cy:O.y,r:4,fill:y5(A.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ut(W,!1)),Ym(W));return E.push(b.renderActiveDot(W,z,"".concat(R,"-activePoint-").concat(B))),M?E.push(b.renderActiveDot(W,Me(Me({},z),{},{cx:M.x,cy:M.y}),"".concat(R,"-basePoint-").concat(B))):T&&E.push(null),E}),ft(_,"renderGraphicChild",function(S,A,O){var M=_.filterFormatItem(S,A,O);if(!M)return null;var B=_.getTooltipEventType(),T=_.state,E=T.isTooltipActive,R=T.tooltipAxis,F=T.activeTooltipIndex,W=T.activeLabel,$=_.props.children,z=ia($,Sa),X=M.props,Y=X.points,oe=X.isRange,fe=X.baseLine,D=M.item.type.defaultProps!==void 0?Me(Me({},M.item.type.defaultProps),M.item.props):M.item.props,I=D.activeDot,U=D.hide,J=D.activeBar,Q=D.activeShape,de=!!(!U&&E&&z&&(I||J||Q)),xe={};B!=="axis"&&z&&z.props.trigger==="click"?xe={onClick:Kp(_.handleItemMouseEnter,S.props.onClick)}:B!=="axis"&&(xe={onMouseLeave:Kp(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Kp(_.handleItemMouseEnter,S.props.onMouseEnter)});var le=k.cloneElement(S,Me(Me({},M.props),xe));function _e(je){return typeof R.dataKey=="function"?R.dataKey(je.payload):null}if(de)if(F>=0){var Oe,ae;if(R.dataKey&&!R.allowDuplicatedCategory){var Pe=typeof R.dataKey=="function"?_e:"payload.".concat(R.dataKey.toString());Oe=Xm(Y,Pe,W),ae=oe&&fe&&Xm(fe,Pe,W)}else Oe=Y==null?void 0:Y[F],ae=oe&&fe&&fe[F];if(Q||J){var De=S.props.activeIndex!==void 0?S.props.activeIndex:F;return[k.cloneElement(S,Me(Me(Me({},M.props),xe),{},{activeIndex:De})),null,null]}if(!_t(Oe))return[le].concat(Id(_.renderActivePoints({item:M,activePoint:Oe,basePoint:ae,childIndex:F,isRange:oe})))}else{var he,te=(he=_.getItemByXY(_.state.activeCoordinate))!==null&&he!==void 0?he:{graphicalItem:le},Ue=te.graphicalItem,ee=Ue.item,re=ee===void 0?S:ee,ue=Ue.childIndex,Se=Me(Me(Me({},M.props),xe),{},{activeIndex:ue});return[k.cloneElement(re,Se),null,null]}return oe?[le,null,null]:[le,null]}),ft(_,"renderCustomized",function(S,A,O){return k.cloneElement(S,Me(Me({key:"recharts-customized-".concat(O)},_.props),_.state))}),ft(_,"renderMap",{CartesianGrid:{handler:tm,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:tm},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:tm},YAxis:{handler:tm},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Vd("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=f8(_.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return pue(b,g),uue(b,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,_=w.data,S=w.height,A=w.layout,O=ia(j,Sa);if(O){var M=O.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,T=C2(this.state,_,M,B),E=this.state.tooltipTicks[M].coordinate,R=(this.state.offset.top+S)/2,F=A==="horizontal",W=F?{x:E,y:R}:{y:E,x:R},$=this.state.formattedGraphicalItems.find(function(X){var Y=X.item;return Y.type.name==="Scatter"});$&&(W=Me(Me({},W),$.props.points[M].tooltipPosition),T=$.props.points[M].tooltipPayload);var z={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:B,activePayload:T,activeCoordinate:W};this.setState(z),this.renderCursor(O),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){ry([ia(w.children,Sa)],[ia(this.props.children,Sa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ia(this.props.children,Sa);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),S=gK(_),A={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},O=_.width/j.offsetWidth||1,M=this.inRange(A.chartX,A.chartY,O);if(!M)return null;var B=this.state,T=B.xAxisMap,E=B.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&T&&E){var F=ll(T).scale,W=ll(E).scale,$=F&&F.invert?F.invert(A.chartX):null,z=W&&W.invert?W.invert(A.chartY):null;return Me(Me({},A),{},{xValue:$,yValue:z})}var X=cS(this.state,this.props.data,this.props.layout,M);return X?Me(Me({},A),X):null}},{key:"inRange",value:function(w,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,A=w/_,O=j/_;if(S==="horizontal"||S==="vertical"){var M=this.state.offset,B=A>=M.left&&A<=M.left+M.width&&O>=M.top&&O<=M.top+M.height;return B?{x:A,y:O}:null}var T=this.state,E=T.angleAxisMap,R=T.radiusAxisMap;if(E&&R){var F=ll(E);return D4({x:A,y:O},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),_=ia(w,Sa),S={};_&&j==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Ym(this.props,this.handleOuterEvent);return Me(Me({},A),S)}},{key:"addListener",value:function(){Gv.on(Xv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gv.removeListener(Xv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,_){for(var S=this.state.formattedGraphicalItems,A=0,O=S.length;A<O;A++){var M=S[A];if(M.item===w||M.props.key===w.key||j===xo(M.item.type)&&_===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,_=j.left,S=j.top,A=j.height,O=j.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:w},ne.createElement("rect",{x:_,y:S,height:A,width:O})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,_){var S=sS(_,2),A=S[0],O=S[1];return Me(Me({},j),{},ft({},A,O.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,_){var S=sS(_,2),A=S[0],O=S[1];return Me(Me({},j),{},ft({},A,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,_=j.formattedGraphicalItems,S=j.activeItem;if(_&&_.length)for(var A=0,O=_.length;A<O;A++){var M=_[A],B=M.props,T=M.item,E=T.type.defaultProps!==void 0?Me(Me({},T.type.defaultProps),T.props):T.props,R=xo(T.type);if(R==="Bar"){var F=(B.data||[]).find(function(X){return Zne(w,X)});if(F)return{graphicalItem:M,payload:F}}else if(R==="RadialBar"){var W=(B.data||[]).find(function(X){return D4(w,X)});if(W)return{graphicalItem:M,payload:W}}else if(a1(M,S)||s1(M,S)||l0(M,S)){var $=zae({graphicalItem:M,activeTooltipItem:S,itemData:E.data}),z=E.activeIndex===void 0?$:E.activeIndex;return{graphicalItem:Me(Me({},M),{},{childIndex:z}),payload:l0(M,S)?E.data[$]:M.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!_N(this))return null;var j=this.props,_=j.children,S=j.className,A=j.width,O=j.height,M=j.style,B=j.compact,T=j.title,E=j.desc,R=oS(j,nue),F=ut(R,!1);if(B)return ne.createElement(U3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(iy,Hu({},F,{width:A,height:O,title:T,desc:E}),this.renderClipPath(),AN(_,this.renderMap)));if(this.props.accessibilityLayer){var W,$;F.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,F.role=($=this.props.role)!==null&&$!==void 0?$:"application",F.onKeyDown=function(X){w.accessibilityManager.keyboardEvent(X)},F.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return ne.createElement(U3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Hu({className:Ct("recharts-wrapper",S),style:Me({position:"relative",cursor:"default",width:A,height:O},M)},z,{ref:function(Y){w.container=Y}}),ne.createElement(iy,Hu({},F,{width:A,height:O,title:T,desc:E,style:yue}),this.renderClipPath(),AN(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);ft(m,"displayName",r),ft(m,"defaultProps",Me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ft(m,"getDerivedStateFromProps",function(g,b){var y=g.dataKey,w=g.data,j=g.children,_=g.width,S=g.height,A=g.layout,O=g.stackOffset,M=g.margin,B=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var E=uS(g);return Me(Me(Me({},E),{},{updateId:0},p(Me(Me({props:g},E),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:_,prevHeight:S,prevLayout:A,prevStackOffset:O,prevMargin:M,prevChildren:j})}if(y!==b.prevDataKey||w!==b.prevData||_!==b.prevWidth||S!==b.prevHeight||A!==b.prevLayout||O!==b.prevStackOffset||!Zu(M,b.prevMargin)){var R=uS(g),F={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},W=Me(Me({},cS(b,w,A)),{},{updateId:b.updateId+1}),$=Me(Me(Me({},R),F),W);return Me(Me(Me({},$),p(Me({props:g},$),b)),{},{prevDataKey:y,prevData:w,prevWidth:_,prevHeight:S,prevLayout:A,prevStackOffset:O,prevMargin:M,prevChildren:j})}if(!ry(j,b.prevChildren)){var z,X,Y,oe,fe=ia(j,Nd),D=fe&&(z=(X=fe.props)===null||X===void 0?void 0:X.startIndex)!==null&&z!==void 0?z:B,I=fe&&(Y=(oe=fe.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&Y!==void 0?Y:T,U=D!==B||I!==T,J=!_t(w),Q=J&&!U?b.updateId:b.updateId+1;return Me(Me({updateId:Q},p(Me(Me({props:g},b),{},{updateId:Q,dataStartIndex:D,dataEndIndex:I}),b)),{},{prevChildren:j,dataStartIndex:D,dataEndIndex:I})}return null}),ft(m,"renderActiveDot",function(g,b,y){var w;return k.isValidElement(g)?w=k.cloneElement(g,b):mt(g)?w=g(b):w=ne.createElement(e1,b),ne.createElement(Wt,{className:"recharts-active-dot",key:y},w)});var x=k.forwardRef(function(b,y){return ne.createElement(m,Hu({},b,{ref:y}))});return x.displayName=m.displayName,x},Pue=T5({chartName:"LineChart",GraphicalChild:L0,axisComponents:[{axisType:"xAxis",AxisComp:eh},{axisType:"yAxis",AxisComp:th}],formatAxisMap:nO}),kue=T5({chartName:"BarChart",GraphicalChild:Bc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:eh},{axisType:"yAxis",AxisComp:th}],formatAxisMap:nO}),BO=T5({chartName:"PieChart",GraphicalChild:Hs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:i1},{axisType:"radiusAxis",AxisComp:r1}],formatAxisMap:fte,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Wu={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},item:{initial:{opacity:0,y:15},animate:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5,ease:[.19,1,.22,1]}})}},rm=({icon:t,label:e,value:r,unit:n="",subValue:i="",colorClass:s="text-white",index:o})=>a.jsxs(we.div,{custom:o,variants:Wu.item,initial:"initial",animate:"animate",whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"relative bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 shadow-lg",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center border border-white/5 shadow-inner",children:t}),a.jsx("div",{className:"text-white/70",children:e})]}),a.jsx("div",{className:`text-xl font-bold mt-2 ${s}`,children:typeof r=="number"||typeof r=="string"?a.jsxs(a.Fragment,{children:[r,n&&a.jsx("span",{className:"text-sm font-normal text-white/50 ml-1",children:n})]}):r}),i&&a.jsx("div",{className:"text-sm text-white/50 mt-1",children:i})]}),Tue=({name:t,weight:e,timeRemaining:r,index:n})=>a.jsxs(we.div,{custom:n+5,variants:Wu.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center mr-3 border border-white/10",children:a.jsx(wC,{size:18,className:"text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:t}),a.jsx("div",{className:"text-sm text-white/60",children:e})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-white font-medium",children:r}),a.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]});function $O({pool:t,onClose:e}){const r=_0(e);Math.round(t.oxygen/100*50+(1-Math.abs(t.temperature-15)/10)*25+(1-Math.abs(t.ph-8)/1)*25);const n=[{name:"LOT-2025-001",weight:"500 kg (Huîtres N°3)",timeRemaining:"12h"},{name:"LOT-2025-002",weight:"300 kg (Huîtres N°2)",timeRemaining:"24h"}];return a.jsx(we.div,{...Wu.overlay,className:"absolute inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:a.jsxs(we.div,{ref:r,...Wu.content,className:"w-full max-w-3xl rounded-xl bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-md p-0 shadow-2xl border border-white/10",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[a.jsx("div",{className:"p-6 border-b border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),a.jsx("p",{className:"text-white/60",children:"Bassin de purification"})]}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10","aria-label":"Fermer",children:a.jsx(yt,{size:20})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"space-y-6 mt-6",children:[a.jsxs(we.div,{variants:Wu.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Stock dans le bassin"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[a.jsx("div",{className:"col-span-1 flex flex-col items-center justify-center",children:a.jsxs("div",{className:"relative w-40 h-40",children:[a.jsx(lx,{width:"100%",height:"100%",children:a.jsx(BO,{children:a.jsx(Hs,{data:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,paddingAngle:2,dataKey:"value",startAngle:90,endAngle:-270,stroke:"none",children:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}].map((i,s)=>a.jsx(O0,{fill:i.color},`cell-${s}`))})})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:a.jsx("div",{className:"text-2xl font-bold text-white",children:"26.7%"})})]})}),a.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[a.jsx(rm,{icon:a.jsx(oa,{size:20,className:"text-brand-burgundy"}),label:"Température",value:12.5,unit:"°C",index:0}),a.jsx(rm,{icon:a.jsx(BI,{size:20,className:"text-brand-burgundy"}),label:"Oxygène dissous",value:87,unit:"%",index:1}),a.jsx(rm,{icon:a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0d9488] flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),label:"Huîtres N°3",value:500,unit:"kg",index:2}),a.jsx(rm,{icon:a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#3b82f6] flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),label:"Huîtres N°2",value:300,unit:"kg",index:3})]})]}),a.jsx("div",{className:"mt-5",children:a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:a.jsx(Qn,{size:20,className:"text-cyan-400"})}),a.jsx("div",{className:"text-white/70",children:"Dernier nettoyage"}),a.jsxs("div",{className:"text-white font-medium ml-auto",children:["12 mars 2025 ",a.jsx("span",{className:"text-sm text-white/50",children:"(il y a 1 jour)"})]})]})}),a.jsxs("div",{className:"h-48 w-full bg-gradient-to-br from-[#071a40]/95 to-[#0a2858]/95 rounded-xl overflow-hidden shadow-2xl border border-blue-900/20 relative mt-6",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[a.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-white/30 to-transparent z-10"}),a.jsxs("div",{className:"relative h-full w-full",children:[a.jsxs("div",{className:"absolute inset-0 flex",children:[a.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),a.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"0 0 20px rgba(37, 99, 235, 0.2)"}}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),a.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:a.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})]})]}),a.jsxs(we.div,{variants:Wu.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[a.jsx(wC,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Lots en purification"]}),a.jsx("div",{className:"space-y-3",children:n.map((i,s)=>a.jsx(Tue,{name:i.name,weight:i.weight,timeRemaining:i.timeRemaining,index:s},i.name))})]})]}),a.jsx("div",{className:"flex justify-end mt-6 space-x-3",children:a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}const Iue={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function R0({icon:t,title:e,className:r}){return a.jsxs(we.div,{variants:Iue,className:`flex items-center mb-8 mt-6 ${r}`,children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:t})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:e})]})}const E2=({table:t,isHovered:e=!1,onHoverStart:r=()=>{},onHoverEnd:n=()=>{},onClick:i=()=>{},compact:s=!1})=>{const o=t.alert||t.timeProgress>100;return s?a.jsxs("div",{className:"relative rounded-lg p-3 overflow-hidden bg-[rgba(0,40,80,0.2)] shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] cursor-pointer",onClick:i,"aria-label":`Table ${t.name}, taux d'occupation ${t.value}%`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.5)]",style:{backgroundColor:t.value===100?"#22c55e":"#eab308"}}),a.jsx("div",{className:"text-white font-medium text-sm",children:t.name})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-base font-semibold text-white",children:[t.value,"%"]})})]}),a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10 h-5 mb-2",children:[...Array(10)].map((l,c)=>a.jsx("div",{className:"h-full rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c<Math.floor(t.value/100*10)?1:.1},"aria-hidden":"true"},c))}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-xs text-white/70",children:t.type}),o&&a.jsxs("div",{className:"text-amber-400 flex items-center",children:[a.jsx(jn,{size:12,className:"mr-1"}),a.jsx("span",{className:"text-xs",children:"Attention"})]})]})]}):a.jsxs(we.div,{className:`
        relative rounded-lg p-4 overflow-hidden
        bg-[rgba(0,40,80,0.2)]
        shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
        cursor-pointer transition-all duration-200
      `,onHoverStart:r,onHoverEnd:n,onClick:i,style:{transform:e?"scale(1.02)":"none"},children:[a.jsx(we.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:e?1:0}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:t.value===100?"#22c55e":"#eab308"}}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:t.name}),a.jsx("div",{className:"text-xs text-white/70",children:t.plates})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-semibold text-white",children:[t.value,"%"]}),a.jsx("div",{className:"text-xs text-white/70",children:"occupée"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(t.value===100)return a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c);if(t.name==="Table A1"){const u=Math.floor(t.value/100*8),d=t.value/100*8%1,h=c-1;return c===0?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c):c===9?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):h>=8-u?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):h===7-u&&d>0?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:a.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},c):a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c)}return a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(t.value/100*8)?1:0}},c)})}),a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(t.value===100)return a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`);if(t.name==="Table A1"){const u=Math.floor(t.value/100*8),d=t.value/100*8%1,h=c-1;return c===0?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`):c===9?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):h>=8-u?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):h===7-u&&d>0?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:a.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},`second-${c}`):a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`)}return a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(t.value/100*8)?1:0}},`second-${c}`)})})]}),a.jsx("div",{className:"flex items-center justify-between mt-3",children:a.jsx("div",{className:"text-xs text-white/70",children:t.value>0&&t.mortality>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium",children:"Mortalité :"})," ",t.mortality,"%"]})})}),a.jsxs("div",{className:"flex items-center justify-between text-sm mt-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Dr,{size:14,className:"text-cyan-400 mr-1"}),a.jsx("span",{className:"text-xs text-white/70",children:t.type})]}),t.startDate&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{size:14,className:"text-cyan-400 mr-1"}),a.jsx("span",{className:"text-xs text-white/70",children:t.startDate})]})]}),o&&a.jsxs("div",{className:"text-amber-400 flex items-center",children:[a.jsx(jn,{size:16,className:"mr-1"}),a.jsx("span",{className:"text-xs",children:"Attention"})]})]})]})]})},Kr={temperature:18,feelsLike:16,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:15,sunrise:"06:45",sunset:"20:35",forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8,conditions:"partly-cloudy"},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9,conditions:"sunny"},{time:"18:00",temp:17,windSpeed:20,windDirection:300,waveHeight:1,conditions:"partly-cloudy"},{time:"21:00",temp:16,windSpeed:15,windDirection:280,waveHeight:.7,conditions:"cloudy"},{time:"00:00",temp:15,windSpeed:12,windDirection:270,waveHeight:.5,conditions:"cloudy"},{time:"03:00",temp:14,windSpeed:10,windDirection:260,waveHeight:.4,conditions:"partly-cloudy"},{time:"06:00",temp:15,windSpeed:12,windDirection:280,waveHeight:.6,conditions:"partly-cloudy"},{time:"09:00",temp:17,windSpeed:14,windDirection:290,waveHeight:.7,conditions:"sunny"}],dailyForecast:[{day:"Aujourd'hui",highTemp:19,lowTemp:14,conditions:"partly-cloudy",windSpeed:20,waveHeight:1,precipitation:10},{day:"Demain",highTemp:20,lowTemp:15,conditions:"sunny",windSpeed:15,waveHeight:.8,precipitation:0},{day:"Lundi",highTemp:22,lowTemp:16,conditions:"sunny",windSpeed:12,waveHeight:.6,precipitation:0},{day:"Mardi",highTemp:21,lowTemp:17,conditions:"partly-cloudy",windSpeed:14,waveHeight:.7,precipitation:5},{day:"Mercredi",highTemp:19,lowTemp:15,conditions:"cloudy",windSpeed:18,waveHeight:.9,precipitation:30},{day:"Jeudi",highTemp:18,lowTemp:14,conditions:"rainy",windSpeed:20,waveHeight:1.2,precipitation:80},{day:"Vendredi",highTemp:17,lowTemp:13,conditions:"cloudy",windSpeed:15,waveHeight:1,precipitation:40}]},Kv=t=>["N","NE","E","SE","S","SO","O","NO"][Math.round(t/45)%8],I5=({condition:t,size:e=32,className:r=""})=>{switch(t){case"sunny":return a.jsx(Hm,{size:e,className:`text-yellow-400 ${r}`});case"cloudy":return a.jsx(Xb,{size:e,className:`text-gray-300 ${r}`});case"rainy":return a.jsx(yC,{size:e,className:`text-blue-300 ${r}`});case"partly-cloudy":return a.jsx(qj,{size:e,className:`text-gray-200 ${r}`});default:return a.jsx(qj,{size:e,className:`text-gray-200 ${r}`})}},Due=({forecast:t})=>a.jsxs("div",{className:"forecast-card",children:[a.jsx("p",{className:"forecast-time",children:t.time}),a.jsx(I5,{condition:t.conditions,size:24,className:"my-2"}),a.jsxs("p",{className:"forecast-temp",children:[t.temp,"°"]}),a.jsxs("div",{className:"forecast-wind-indicator",children:[a.jsx(lo,{size:12,style:{transform:`rotate(${t.windDirection}deg)`}}),a.jsx("span",{children:t.windSpeed})]}),a.jsxs("p",{className:"forecast-waves",children:[t.waveHeight," m"]})]}),Mue=({forecast:t})=>a.jsxs("div",{className:"daily-forecast-row",children:[a.jsx("div",{className:"daily-forecast-day",children:t.day}),a.jsx("div",{className:"daily-forecast-icon",children:a.jsx(I5,{condition:t.conditions,size:20})}),a.jsxs("div",{className:"daily-forecast-precip",children:[a.jsx(Qn,{size:14,className:"text-blue-300"}),a.jsxs("span",{children:[t.precipitation,"%"]})]}),a.jsxs("div",{className:"daily-forecast-temp",children:[a.jsxs("span",{className:"high-temp",children:[t.highTemp,"°"]}),a.jsxs("span",{className:"low-temp",children:[t.lowTemp,"°"]})]})]}),Lue=()=>a.jsxs("div",{className:"mobile-weather-container",children:[a.jsxs("header",{className:"weather-header",children:[a.jsx("h1",{className:"weather-location-title",children:"Météo & Marée"}),a.jsxs("div",{className:"weather-update-time",children:[a.jsx(ei,{size:14,className:"text-cyan-300"}),a.jsxs("span",{children:["Mise à jour ",new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),a.jsxs("section",{className:"current-weather",children:[a.jsxs("div",{className:"primary-info",children:[a.jsxs("div",{className:"temp-display",children:[a.jsxs("span",{className:"current-temp",children:[Kr.temperature,"°"]}),a.jsxs("span",{className:"feels-like",children:["Ressenti ",Kr.feelsLike,"°"]})]}),a.jsx("div",{className:"weather-icon-large",children:a.jsx(I5,{condition:Kr.conditions,size:80})})]}),a.jsx("div",{className:"weather-condition-text",children:"Partiellement nuageux"})]}),a.jsxs("section",{className:"current-indicators",children:[a.jsxs("div",{className:"indicator-item",children:[a.jsx(el,{size:18,className:"indicator-icon"}),a.jsx("div",{className:"indicator-label",children:"Vent"}),a.jsxs("div",{className:"indicator-value",children:[Kr.windSpeed," km/h"]}),a.jsx("div",{className:"indicator-detail",children:Kv(Kr.windDirection)})]}),a.jsxs("div",{className:"indicator-item",children:[a.jsx(ui,{size:18,className:"indicator-icon"}),a.jsx("div",{className:"indicator-label",children:"Vagues"}),a.jsxs("div",{className:"indicator-value",children:[Kr.waveHeight," m"]}),a.jsx("div",{className:"indicator-detail",children:Kv(Kr.waveDirection)})]}),a.jsxs("div",{className:"indicator-item",children:[a.jsx(Qn,{size:18,className:"indicator-icon"}),a.jsx("div",{className:"indicator-label",children:"Humidité"}),a.jsxs("div",{className:"indicator-value",children:[Kr.humidity,"%"]})]}),a.jsx("div",{className:"indicator-item",children:a.jsxs(we.div,{className:"tide-indicator",animate:{height:`${Kr.tideLevel/10*100}%`},transition:{duration:1},children:[a.jsx("div",{className:"indicator-label",children:"Marée"}),a.jsxs("div",{className:"indicator-value",children:[Kr.tideLevel," m"]}),a.jsxs("div",{className:"tide-times",children:[a.jsxs("div",{children:[a.jsx(Pm,{size:12})," ",Kr.nextHighTide]}),a.jsxs("div",{children:[a.jsx(km,{size:12})," ",Kr.nextLowTide]})]})]})})]}),a.jsxs("section",{className:"hourly-forecast",children:[a.jsx("h2",{className:"section-title",children:"Prévisions horaires"}),a.jsx("div",{className:"forecast-scroll-container",children:Kr.forecast.map((t,e)=>a.jsx(Due,{forecast:t},e))})]}),a.jsxs("section",{className:"daily-forecast",children:[a.jsx("h2",{className:"section-title",children:"Prévisions 7 jours"}),a.jsx("div",{className:"daily-forecast-container",children:Kr.dailyForecast.map((t,e)=>a.jsx(Mue,{forecast:t},e))})]}),a.jsxs("section",{className:"wind-detail-section",children:[a.jsx("h2",{className:"section-title",children:"Détails du vent"}),a.jsxs("div",{className:"wind-detail-container",children:[a.jsxs("div",{className:"wind-compass",children:[a.jsx(Gb,{size:100,className:"wind-compass-base"}),a.jsx("div",{className:"wind-direction-indicator",style:{transform:`rotate(${Kr.windDirection}deg)`},children:a.jsx(lo,{size:40,className:"text-cyan-400"})})]}),a.jsxs("div",{className:"wind-stats",children:[a.jsxs("div",{className:"wind-stat-row",children:[a.jsx("span",{children:"Direction"}),a.jsxs("span",{children:[Kv(Kr.windDirection)," (",Kr.windDirection,"°)"]})]}),a.jsxs("div",{className:"wind-stat-row",children:[a.jsx("span",{children:"Vitesse"}),a.jsxs("span",{children:[Kr.windSpeed," km/h"]})]}),a.jsxs("div",{className:"wind-stat-row",children:[a.jsx("span",{children:"Rafales"}),a.jsxs("span",{children:[Kr.windGust," km/h"]})]})]})]})]}),a.jsx("section",{className:"sun-times",children:a.jsxs("div",{className:"sun-time-container",children:[a.jsxs("div",{className:"sunrise",children:[a.jsx(Hm,{size:18,className:"text-yellow-400"}),a.jsx("span",{className:"sun-time-label",children:"Lever"}),a.jsx("span",{className:"sun-time-value",children:Kr.sunrise})]}),a.jsx("div",{className:"sun-path",children:a.jsx("div",{className:"sun-path-line"})}),a.jsxs("div",{className:"sunset",children:[a.jsx($I,{size:18,className:"text-blue-300"}),a.jsx("span",{className:"sun-time-label",children:"Coucher"}),a.jsx("span",{className:"sun-time-value",children:Kr.sunset})]})]})})]}),Rue=({activeSection:t,onSectionChange:e,isLandscape:r=!1})=>{const[n,i]=k.useState(0),s=k.useRef(null),o=()=>{if(!window.visualViewport)return;const u=window.visualViewport.height,d=window.innerHeight,h=Math.max(0,d-u),f=h>0?h+25:15;console.log(`Viewport: ${u}, Full: ${d}, Diff: ${h}, Padding: ${f}`),f!==n&&i(f)};k.useEffect(()=>{if(!window.visualViewport){console.warn("VisualViewport API not available");return}o(),window.visualViewport.addEventListener("resize",o),window.addEventListener("resize",o),window.addEventListener("scroll",o);const u=[100,500].map(h=>setTimeout(o,h)),d=()=>{setTimeout(o,100)};return window.addEventListener("orientationchange",d),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",o),window.removeEventListener("resize",o),window.removeEventListener("scroll",o),window.removeEventListener("orientationchange",d),u.forEach(clearTimeout)}},[]);const l=["mobile-bottom-nav",r?"landscape":"portrait"].join(" "),c={paddingBottom:n?`${n}px`:void 0};return a.jsxs("div",{className:l,ref:s,style:c,children:[a.jsxs("button",{className:`mobile-nav-item ${t==="overview"?"active":""}`,onClick:()=>e("overview"),children:[a.jsx(zI,{size:r?18:22}),a.jsx("span",{children:"Accueil"})]}),a.jsxs("button",{className:`mobile-nav-item ${t==="tables"?"active":""}`,onClick:()=>e("tables"),children:[a.jsx(tn,{size:r?18:22}),a.jsx("span",{children:"Tables"})]}),a.jsxs("button",{className:`mobile-nav-item ${t==="pools"?"active":""}`,onClick:()=>e("pools"),children:[a.jsx(UI,{size:r?18:22}),a.jsx("span",{children:"Bassins"})]}),a.jsxs("button",{className:`mobile-nav-item ${t==="notifications"?"active":""}`,onClick:()=>e("notifications"),children:[a.jsx(qn,{size:r?18:22}),a.jsx("span",{children:"Alertes"})]}),a.jsxs("button",{className:`mobile-nav-item emergency ${t==="emergency"?"active":""}`,onClick:()=>e("emergency"),children:[a.jsx(bC,{size:r?18:22}),a.jsx("span",{children:"Urgence"})]})]})},Yh={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}}},Fue=()=>{const[t,e]=k.useState("overview"),[r,n]=k.useState(null),[i,s]=k.useState(null),[o,l]=k.useState(0);k.useState(0);const[c,u]=k.useState(!1),[d,h]=k.useState(!1),f=k.useRef(null);k.useEffect(()=>(h(!0),document.querySelectorAll(".animate-fade-in").forEach((b,y)=>{setTimeout(()=>{b.classList.add("visible")},y*100)}),()=>{h(!1)}),[]);const p=k.useCallback(g=>{e(g),f.current&&(f.current.scrollTop=0)},[f]);k.useEffect(()=>{const g=()=>{const b=window.innerWidth>window.innerHeight;u(b)};return g(),window.addEventListener("resize",g),window.addEventListener("orientationchange",()=>{setTimeout(g,100)}),()=>{window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g)}},[]);const m=[{id:"table1",name:"Table Nord-Est",value:78,color:"#38bdf8",type:"Spéciale de Claire",plates:"45/60",currentSize:"6.5 cm",targetSize:"9 cm",timeProgress:65,startDate:"10/01/2023",harvest:"30/06/2023",mortality:8.5,alert:null,status:"active",occupiedUnits:45,totalUnits:60,location:"Secteur Nord-Est",area:120,waterHeight:1.2,lastInspection:"15/05/2023",currentConditions:"Optimales",lastUpdate:"Il y a 2h",occupancyRate:78,lastUpdated:"Il y a 2h",oysterType:"Spéciale de Claire",lastHarvest:"12/05/2023",quality:4.2,avgSize:7.8},{id:"table2",name:"Table Centrale",value:45,color:"#22c55e",type:"Fine de Claire",plates:"30/60",currentSize:"5.8 cm",targetSize:"8 cm",timeProgress:50,startDate:"15/01/2023",harvest:"15/07/2023",mortality:6.2,status:"active",occupiedUnits:30,totalUnits:60,location:"Secteur Central",area:110,waterHeight:1.1,lastInspection:"12/05/2023",currentConditions:"Bonnes",lastUpdate:"Il y a 1h",occupancyRate:45,lastUpdated:"Il y a 1h",oysterType:"Fine de Claire",lastHarvest:"15/05/2023",quality:3.8,avgSize:6.5},{id:"table3",name:"Table Ouest",value:92,color:"#ef4444",type:"Spéciale de Claire",plates:"55/60",currentSize:"7.2 cm",targetSize:"9 cm",timeProgress:80,startDate:"05/01/2023",harvest:"20/06/2023",mortality:9.8,alert:"Forte densité",status:"active",occupiedUnits:55,totalUnits:60,location:"Secteur Ouest",area:130,waterHeight:1.3,lastInspection:"10/05/2023",currentConditions:"Densité élevée",lastUpdate:"Il y a 3h",occupancyRate:92,lastUpdated:"Il y a 3h",oysterType:"Spéciale de Claire",lastHarvest:"10/05/2023",quality:4.5,avgSize:8.2}],x=[{id:"pool1",name:"Bassin Principal",status:"Optimal",temperature:14.7,oxygen:95,salinity:33.5,ph:8.1,lastCheck:"Il y a 30 min",alert:!1,stock:{mussels:120,urchins:45},healthIndex:87,lastUpdated:"Il y a 30 min",waterLevel:1.45,waterChangeRate:12},{id:"pool2",name:"Bassin de Purification",status:"Optimal",temperature:15.2,oxygen:97,salinity:32.8,ph:8,lastCheck:"Il y a 1h",alert:!1,stock:{mussels:85,urchins:30},healthIndex:92,lastUpdated:"Il y a 1h",waterLevel:1.22,waterChangeRate:18},{id:"pool3",name:"Bassin d'Élevage",status:"Attention",temperature:14.3,oxygen:82,salinity:34.1,ph:7.8,lastCheck:"Il y a 2h",alert:!0,stock:{mussels:150,urchins:0},healthIndex:65,lastUpdated:"Il y a 2h",waterLevel:.87,waterChangeRate:8}];return a.jsx("div",{className:"mobile-dashboard",children:a.jsx("div",{className:"mobile-dashboard-wrapper",ref:f,children:a.jsxs("div",{className:"mobile-dashboard-content",children:[t==="overview"&&a.jsx(we.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Yh,children:a.jsxs("div",{className:"dashboard-sections space-y-5",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tableau de bord"}),a.jsx("div",{className:"animate-fade-in",children:a.jsx(Lue,{})}),a.jsxs("section",{className:"animate-fade-in mt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Tables ostréicoles"}),a.jsxs("button",{className:"text-cyan-400 text-sm flex items-center gap-1",onClick:()=>p("tables"),"aria-label":"Voir toutes les tables",children:["Tout voir ",a.jsx(Bd,{size:16})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"mobile-carousel",children:m.map((g,b)=>a.jsx("div",{className:`mobile-carousel-item ${b===o?"active":""}`,onClick:()=>n(g),children:a.jsx(E2,{table:g,compact:!0,onClick:()=>n(g)})},g.id))}),a.jsx("div",{className:"mobile-carousel-indicators mt-2",children:m.map((g,b)=>a.jsx("button",{className:`mobile-carousel-indicator ${b===o?"active":""}`,onClick:()=>l(b),"aria-label":`Voir table ${b+1}`},b))})]})]})]})}),t==="tables"&&a.jsxs(we.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Yh,children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Tables ostréicoles"}),m.map(g=>a.jsx(E2,{table:g},g.id))]}),t==="pools"&&a.jsxs(we.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Yh,children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Bassins"}),x.map(g=>a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:g.name}),a.jsxs("p",{children:["Status: ",g.status]}),a.jsxs("p",{children:["Température: ",g.temperature,"°C"]}),a.jsxs("p",{children:["Oxygène: ",g.oxygen,"%"]}),a.jsxs("p",{children:["Salinité: ",g.salinity,"‰"]}),a.jsxs("p",{children:["pH: ",g.ph]}),a.jsxs("p",{children:["Dernière vérification: ",g.lastCheck]}),a.jsxs("p",{children:["Alerte: ",g.alert?"Oui":"Non"]}),a.jsxs("p",{children:["Stock: ",g.stock.mussels," moules, ",g.stock.urchins," oursins"]})]},g.id))]}),t==="notifications"&&a.jsxs(we.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Yh,children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Alertes"}),a.jsxs("ul",{children:[m.map(g=>g.alert&&a.jsxs("li",{children:[g.name,": ",g.alert]},g.id)),x.map(g=>g.alert&&a.jsxs("li",{children:[g.name,": ",g.alert]},g.id))]})]}),t==="emergency"&&a.jsxs(we.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Yh,children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6 text-red-400",children:"Urgence"}),a.jsx("p",{children:"Contenu de la section urgence"})]}),a.jsx(Rue,{activeSection:t,onSectionChange:p,isLandscape:c}),a.jsxs(sr,{children:[r&&a.jsx(JC,{table:r,onClose:()=>n(null)}),i&&a.jsx($O,{pool:i,onClose:()=>s(null)})]})]})})})},hS=[{name:"Table A1",value:72,color:"#22c55e",type:"Huîtres creuses",plates:"N°3",harvest:"En cours",mortality:15,currentSize:"3.2cm",targetSize:"4.5cm",timeProgress:65,startDate:"10/01/24",status:"En cours"},{name:"Table A2",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°4",harvest:"01/01/2026",mortality:8,currentSize:"T15",targetSize:"4.2cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B1",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°2",harvest:"01/01/2026",mortality:12,currentSize:"T15",targetSize:"4.8cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B2",value:0,color:"#22c55e",type:"",plates:"",harvest:"",mortality:0,currentSize:"",targetSize:"",timeProgress:0,startDate:"",status:"Vide"}],fS=[{id:"pool-a1",name:"Bassin A1",status:"Optimal",temperature:12.5,oxygen:95,salinity:32.4,ph:8.1,lastCheck:"08:30",alert:!1},{id:"pool-a2",name:"Bassin A2",status:"Bon",temperature:13.2,oxygen:88,salinity:31.9,ph:8,lastCheck:"08:35",alert:!1,stock:{mussels:500,urchins:100}}],ao=[{name:"Bassin A1",value:80,color:"#22c55e",type:"Purification",capacity:1e3,currentLoad:800,products:[{name:"Plates",quantity:500,unit:"kg",color:"#22c55e"},{name:"Creuses",quantity:300,unit:"kg",color:"#eab308"}],waterQuality:{quality:98,oxygen:95,temperature:12.5}},{name:"Bassin A2",value:65,color:"#eab308",type:"Purification",capacity:1e3,currentLoad:650,products:[{name:"Moules",quantity:500,unit:"kg",color:"#22c55e"},{name:"Oursins",quantity:100,unit:"dz",color:"#eab308"}],waterQuality:{quality:92,oxygen:88,temperature:13.2}}],ln={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},Bue={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},nm={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function $ue(){const[t,e]=k.useState(null),[r,n]=k.useState(null),[i,s]=k.useState(null),[o,l]=k.useState(null),[c,u]=k.useState(!1);return k.useEffect(()=>{const d=()=>{u(window.innerWidth<=768)};d(),window.addEventListener("resize",d);const h=setTimeout(()=>{d()},500);return()=>{window.removeEventListener("resize",d),clearTimeout(h)}},[]),k.useEffect(()=>(c?document.body.classList.add("has-fixed-nav"):document.body.classList.remove("has-fixed-nav"),()=>{document.body.classList.remove("has-fixed-nav")}),[c]),c?a.jsx("div",{className:"dashboard-page",children:a.jsx(Fue,{tableOccupancyData:hS,poolData:fS,poolDisplayData:ao})}):a.jsxs(we.div,{initial:"hidden",animate:"visible",variants:Bue,className:"space-y-6",children:[a.jsx(R0,{icon:a.jsx(hg,{size:28,className:"text-white"}),title:"Tableau de bord"}),a.jsx(we.div,{variants:nm,className:`mb-6 w-full ${ln.container} ${ln.hoverEffect}`,children:a.jsx(KL,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full relative",children:[a.jsx("div",{className:"col-span-full",children:a.jsxs(sr,{children:[i&&a.jsx(JC,{table:i,onClose:()=>s(null)}),o&&a.jsx($O,{pool:o,onClose:()=>l(null)})]})}),a.jsxs(we.div,{variants:nm,className:`${ln.container} ${ln.hoverEffect} p-5 space-y-4`,children:[a.jsx("h2",{className:ln.heading,children:"Statistiques globales"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:ln.subheading,children:"Taux production"}),a.jsx("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:"+4.2%"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"97.8%"}),a.jsx("div",{className:ln.progressBar,children:a.jsx(we.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:"97.8%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:ln.subheading,children:"Santé moyenne"}),a.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"92.3%"}),a.jsx("div",{className:ln.progressBar,children:a.jsx(we.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"92.3%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:ln.subheading,children:"Taux mortalité"}),a.jsx("div",{className:"bg-yellow-500/20 text-yellow-300 text-xs px-2 py-1 rounded-full",children:"-0.5%"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"2.5%"}),a.jsx("div",{className:ln.progressBar,children:a.jsx(we.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-400",initial:{width:0},animate:{width:"25%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:ln.subheading,children:"Récolte prévue"}),a.jsx("div",{className:"bg-purple-500/20 text-purple-300 text-xs px-2 py-1 rounded-full",children:"15 jours"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"4.8t"}),a.jsx("div",{className:ln.progressBar,children:a.jsx(we.div,{className:"h-full bg-gradient-to-r from-purple-500 to-pink-400",initial:{width:0},animate:{width:"80%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),a.jsxs(we.div,{variants:nm,className:`${ln.container} ${ln.hoverEffect} p-5`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:ln.heading,children:"Occupation des tables"}),a.jsx("div",{className:"text-sm text-white/60",children:"3 tables actives"})]}),a.jsx("div",{className:"space-y-4",children:hS.map((d,h)=>a.jsx(E2,{table:d,isHovered:t===d.name,onHoverStart:()=>e(d.name),onHoverEnd:()=>e(null),onClick:()=>s(d)},h))})]}),a.jsxs(we.div,{variants:nm,className:`${ln.container} ${ln.hoverEffect} p-5`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:ln.heading,children:"Santé des bassins"}),a.jsx("div",{className:"text-sm text-white/60",children:"2 bassins actifs"})]}),a.jsx("div",{className:"space-y-4",children:fS.map((d,h)=>{var f,p,m,x,g,b,y,w;return a.jsxs(we.div,{className:`
                  relative rounded-lg p-4 overflow-hidden
                  bg-[rgba(0,40,80,0.2)]
                  shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
                  cursor-pointer transition-all duration-200
                  ${r===d.name?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
                `,onHoverStart:()=>n(d.name),onHoverEnd:()=>n(null),onClick:()=>l(d),whileHover:{y:-4,transition:{duration:.2}},children:[a.jsx(we.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===d.name?1:0},transition:{duration:.2}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:(f=ao.find(j=>j.name===d.name))==null?void 0:f.color}}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:d.name}),a.jsx("div",{className:"text-xs text-white/70",children:d.status})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-semibold text-white",children:[(p=ao.find(j=>j.name===d.name))==null?void 0:p.value,"%"]}),a.jsx("div",{className:"text-xs text-white/70",children:"qualité"})]})]}),a.jsx("div",{className:ln.progressBar,children:a.jsx(we.div,{className:"h-full rounded-full",style:{background:`linear-gradient(to right, ${(m=ao.find(j=>j.name===d.name))==null?void 0:m.color}, ${(x=ao.find(j=>j.name===d.name))==null?void 0:x.color}80)`,boxShadow:`0 0 10px ${(g=ao.find(j=>j.name===d.name))==null?void 0:g.color}40`},initial:{width:0},animate:{width:`${(b=ao.find(j=>j.name===d.name))==null?void 0:b.value}%`},transition:{duration:1,ease:"easeOut"}})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[a.jsxs("div",{className:"text-xs text-white/70",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(oa,{className:"w-3 h-3 mr-1 text-cyan-400"}),a.jsx("span",{children:"Température"})]}),a.jsxs("span",{className:"text-white",children:[d.temperature,"°C"]})]}),a.jsxs("div",{className:"text-xs text-white/70",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qn,{className:"w-3 h-3 mr-1 text-cyan-400"}),a.jsx("span",{children:"Oxygène"})]}),a.jsxs("span",{className:"text-white",children:[d.oxygen,"%"]})]}),a.jsxs("div",{className:"text-xs text-white/70",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ui,{className:"w-3 h-3 mr-1 text-cyan-400"}),a.jsx("span",{children:"Capacité"})]}),a.jsxs("span",{className:"text-white",children:[(((y=ao.find(j=>j.name===d.name))==null?void 0:y.currentLoad)/((w=ao.find(j=>j.name===d.name))==null?void 0:w.capacity)*100).toFixed(0),"%"]})]})]})]})]},h)})})]})]})]})}const zue=[{id:"1",name:"Table Nord #128",location:"Bouzigues",type:"Huîtres Triploïdes",status:"en_trempe",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:e<3?!1:e===3?.75:!0})),currentSize:"N°2",targetSize:"N°3",startDate:"15/11/2023",lastUpdate:"En cours",timeProgress:72,sizeProgress:85,layers:2,density:"Normale",alert:!1,value:85,history:[],oysterType:"Huîtres Triploïdes",tableNumber:"128"},{id:"2",name:"Table B-07",location:"Bouzigues",type:"Huîtres Triploïdes",status:"warning",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:!0})),currentSize:"N°3",targetSize:"N°3",startDate:"10/03/2024",lastUpdate:"30/03/2025",timeProgress:75,sizeProgress:60,layers:4,density:"Très élevée",alert:!0,value:100,history:[],oysterType:"Triploïdes",tableNumber:"B-07"},{id:"3",name:"Table C-04",location:"Marseillan",type:"Huîtres Diploïdes",status:"critical",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:!0})),currentSize:"T15",targetSize:"N°3",startDate:"11/01/2025",lastUpdate:"15/01/2026",timeProgress:30,sizeProgress:25,layers:2,density:"Moyenne",alert:!1,value:100,history:[],oysterType:"Triploïdes",tableNumber:"C-04"},{id:"4",name:"Table D-15",location:"Mèze",type:"Vide",status:"optimal",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:!1})),currentSize:"Vide",targetSize:"Vide",startDate:"Vide",lastUpdate:"Vide",timeProgress:15,sizeProgress:10,layers:2,density:"Faible",alert:!1,value:0,history:[],oysterType:"Triploïdes",tableNumber:"D-15"}],cl=["T15","T30","N°5","N°4","N°3","N°2","N°1"],Uue=t=>{const e=cl.indexOf(t);return e===-1?"bg-gray-500":e<=cl.indexOf("N°3")?"bg-gradient-to-r from-blue-500 to-[#22c55e]":e<=cl.indexOf("N°2")?"bg-gradient-to-r from-[#22c55e] to-orange-300":t==="N°1"?"bg-red-500":"bg-gradient-to-r from-blue-500 to-cyan-400"},que=t=>t==="N°2"?"bg-gradient-to-r from-blue-500 via-[#22c55e] to-orange-500":"bg-gradient-to-r from-blue-500 to-cyan-400",Hue=t=>"bg-blue-500",Wue=({currentSize:t,targetSize:e,tableName:r})=>{if(t==="Vide"||e==="Vide")return r==="Table D-15"?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative h-4 bg-white/5 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 flex",children:[a.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),a.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"rgba(37, 99, 235, 0.2) 0px 0px 20px"}}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",style:{opacity:0}})]}),a.jsx("div",{className:"flex justify-between px-1 text-sm font-medium",children:cl.map(s=>a.jsx("span",{className:"text-white/30",children:s},s))})]}):null;const i=(cl.indexOf(t)+1)/cl.length*100;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative h-4 bg-white/5 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 flex",children:cl.map(s=>a.jsx("div",{className:"flex-1 border-r border-white/10 last:border-r-0"},s))}),a.jsx("div",{className:`h-full ${r==="Table A-12"?que(t):r==="Table C-04"?Hue():Uue(t)} transition-all duration-300`,style:{width:`${i}%`}})]}),a.jsx("div",{className:"flex justify-between px-1 text-sm font-medium",children:cl.map(s=>a.jsx("span",{className:s==="N°3"?"text-cyan-400 border border-cyan-400/50 px-1 rounded":"text-white/60",children:s},s))})]})},Vue={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.19,1,.22,1]}},Gue=({table:t,onCellClick:e})=>a.jsx("div",{className:"space-y-1",children:[0,1].map(r=>a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-cyan-950/50",children:Array.from({length:10},(n,i)=>{const s=r*10+i,o=t.cells[s];return a.jsxs("div",{onClick:()=>e==null?void 0:e(s),className:"w-full h-7 rounded-[4px] border border-white/10 relative overflow-hidden cursor-pointer hover:border-cyan-400/30 transition-colors",children:[a.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:typeof(o==null?void 0:o.filled)=="number"?`${o.filled*100}%`:o!=null&&o.filled?"100%":"0%"}}),a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white/80 font-medium",children:s+1})]},i)})},r))}),Xue=({table:t,onEdit:e})=>{const[r,n]=k.useState(!1),[i,s]=k.useState(t.name),o=l=>{l.preventDefault(),e(t,i),n(!1)};return a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:a.jsx(HI,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),r?a.jsx("form",{onSubmit:o,className:"flex items-center",children:a.jsx("input",{type:"text",value:i,onChange:l=>s(l.target.value),className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white"})}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),a.jsx("span",{className:"text-white/60",children:"-"}),a.jsx("span",{className:"text-lg font-medium text-cyan-400",children:t.location})]})]})})};function Yue({onTableSelect:t,onTableHover:e,hoveredTable:r,selectedTable:n,onTableUpdate:i}){const[s,o]=k.useState(zue);k.useState(null);const l=(c,u)=>{const d=s.find(x=>x.id===c);if(!d||!i)return;const h=d.cells.findIndex(x=>x.id===u.id);if(h===-1)return;const f={...u,filled:!u.filled},p=[...d.cells];p[h]=f;const m={...d,cells:p,value:p.filter(x=>x.filled).length/p.length*100};o(s.map(x=>x.id===c?m:x)),i(m)};return a.jsx("div",{className:"grid grid-cols-1 gap-4 p-4",children:s.map(c=>a.jsxs(we.div,{className:`bg-gray-900/50 backdrop-blur-sm p-6 rounded-lg border border-white/10 hover:border-cyan-500/30 transition-colors ${(r==null?void 0:r.id)===c.id?"border-cyan-500/50":""}`,...Vue,onClick:()=>t(c),onMouseEnter:()=>e==null?void 0:e(c),onMouseLeave:()=>e==null?void 0:e(null),children:[a.jsx(Xue,{table:c,onEdit:(u,d)=>{const h={...u,name:d};o(s.map(f=>f.id===u.id?h:f)),i(h)}}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-white/60 font-medium",children:"Mise à l'eau"}),a.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md border border-cyan-500/20",children:c.startDate})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-white/60 font-medium",children:"Récolte"}),a.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md border border-cyan-500/20",children:c.name==="Table A-12"&&c.lastUpdate==="En cours"?a.jsx("span",{className:"animate-pulse text-cyan-400",children:"En cours"}):c.lastUpdate})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oa,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/60",children:"Type:"}),a.jsx("span",{className:"text-gray-300",children:c.type})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qI,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/60",children:"État:"}),a.jsxs("span",{className:"text-gray-300",children:[c.value,"%"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"État"}),a.jsx(Gue,{table:c,onCellClick:u=>l(c.id,c.cells[u])})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Calibre"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/60",children:"Actuel:"}),a.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md",children:c.currentSize})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wi,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/60",children:"Cible:"}),a.jsx("span",{className:"text-white font-semibold px-3 py-1 rounded-md border border-cyan-500/20",children:c.targetSize})]})]})]}),a.jsx(Wue,{currentSize:c.currentSize,targetSize:c.targetSize,tableName:c.name})]})]})]})]},c.id))})}function zO({isOpen:t,onClose:e,onConfirm:r,maintenanceType:n,lastMaintenance:i,uvLampHours:s}){const[o,l]=k.useState(""),[c,u]=k.useState(!1),d=()=>{r(n,o),u(!1),e()};return a.jsx(mi,{isOpen:t,onClose:e,title:n==="cleaning"?"Nettoyage du bassin":"Changement de la lampe UV",size:"md",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[a.jsx(qn,{size:24,className:"text-yellow-400 flex-shrink-0"}),a.jsx("p",{className:"text-yellow-400",children:n==="cleaning"?"Le bassin devra être vidé pour le nettoyage. Assurez-vous qu'aucun lot n'est en cours de purification.":"La lampe UV doit être changée après 8000 heures d'utilisation pour garantir son efficacité."})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ei,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Dernière maintenance"}),a.jsx("div",{className:"text-white font-medium",children:Bt(new Date(i),"PPP",{locale:gr})})]})]}),n==="uv_lamp"&&s&&a.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[a.jsx(ei,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Heures d'utilisation"}),a.jsxs("div",{className:`font-medium ${s>=8e3?"text-red-400":s>=7e3?"text-yellow-400":"text-white"}`,children:[s," heures"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de maintenance"}),a.jsx("textarea",{value:o,onChange:h=>l(h.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes sur la maintenance..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer la maintenance"})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer l'opération"}),a.jsxs("p",{className:"text-white/70 mb-6",children:["Êtes-vous sûr de vouloir procéder à ",n==="cleaning"?"ce nettoyage":"ce changement de lampe UV"," ? Cette action sera enregistrée dans l'historique de maintenance."]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer"})]})]})})]})})}function UO({isOpen:t,onClose:e,onConfirm:r,batch:n}){const[i,s]=k.useState(n.quantity),[o,l]=k.useState(""),[c,u]=k.useState(""),[d,h]=k.useState(n.remainingTime>0),f=p=>{p.preventDefault(),r({quantity:i,destination:o,notes:c})};return a.jsx(mi,{isOpen:t,onClose:e,title:"Sortie de lot",size:"md",children:a.jsxs("form",{onSubmit:f,className:"space-y-6",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Détails du lot"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Numéro de lot"}),a.jsx("div",{className:"text-white font-medium",children:n.number})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Type"}),a.jsx("div",{className:"text-white font-medium",children:n.type})]})]})]}),d&&a.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(qn,{size:20,className:"text-yellow-400 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-yellow-400 font-medium",children:"Attention"}),a.jsxs("p",{className:"text-yellow-400/80 mt-1",children:["Ce lot a encore ",n.remainingTime,"h de purification restantes. Êtes-vous sûr de vouloir le sortir maintenant ?"]})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité à sortir"}),a.jsx("input",{type:"number",value:i,onChange:p=>s(Number(p.target.value)),max:n.quantity,min:1,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",required:!0}),a.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Maximum disponible : ",n.quantity," unités"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Destination"}),a.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner une destination..."}),a.jsx("option",{value:"stock",children:"Stock"}),a.jsx("option",{value:"vente",children:"Vente directe"}),a.jsx("option",{value:"destruction",children:"Destruction"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes"}),a.jsx("textarea",{value:c,onChange:p=>u(p.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes ou observations..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(yw,{size:20,className:"mr-2"}),"Sortir le lot"]})]})]})})}function qO({isOpen:t,onClose:e,onConfirm:r,lastBatchNumber:n,pool:i}){const[s,o]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState("plates"),h=f=>{f.preventDefault(),!(!s||!l)&&(r({number:s,quantity:parseInt(l),type:u}),o(""),c(""),d("plates"))};return a.jsx(mi,{isOpen:t,onClose:e,title:"Ajouter un nouveau lot",size:"md",children:a.jsxs("form",{onSubmit:h,className:"space-y-6",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot"}),a.jsx("input",{type:"text",value:s,onChange:f=>o(f.target.value),placeholder:`${n} (Dernier lot sorti de la trempe 1)`,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité"}),a.jsx("input",{type:"number",value:l,onChange:f=>c(f.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type d'huîtres"}),a.jsxs("select",{value:u,onChange:f=>d(f.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"plates",children:"Plates"}),a.jsx("option",{value:"creuses",children:"Creuses"}),a.jsx("option",{value:"speciales",children:"Spéciales"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-white/5 text-white/60 hover:bg-white/10",children:"Annuler"}),a.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:[a.jsx(Mt,{size:16}),"Ajouter"]})]})]})})}const Kue=[{id:"1",name:"Bassin A1",capacity:3e3,currentOccupancy:0,filterType:"UV + Ozone",filterStatus:"active",waterQuality:98,lastMaintenance:"2025-02-15",temperature:12.5,uvLampHours:7500,lastUVChange:"2024-08-15",batches:[{id:"b1",number:"LOT-2025-001",quantity:500,entryTime:"2025-02-18T08:00:00",remainingTime:12,type:"creuses"},{id:"b2",number:"LOT-2025-002",quantity:300,entryTime:"2025-02-19T10:00:00",remainingTime:24,type:"creuses"}]},{id:"2",name:"Bassin A2",capacity:1e3,currentOccupancy:600,filterType:"UV",filterStatus:"maintenance",waterQuality:92,lastMaintenance:"2025-02-10",temperature:13,uvLampHours:8200,lastUVChange:"2024-07-01",batches:[{id:"b3",number:"LOT-2025-003",quantity:600,entryTime:"2025-02-17T14:00:00",remainingTime:4,type:"speciales"}]}],Jue=[{id:"1",number:"LOT-2025-001",quantity:250,entryTime:"2025-03-30T10:00:00",type:"Plates"},{id:"2",number:"LOT-2025-002",quantity:300,entryTime:"2025-03-30T14:30:00",type:"Creuses N°2"}];function Que({pool:t,onClose:e}){const[r,n]=k.useState("info"),i=_0(e),[s,o]=k.useState(!1),[l,c]=k.useState("maintenance"),[u,d]=k.useState("cleaning"),[h,f]=k.useState(null),[p,m]=k.useState(""),[x,g]=k.useState(""),[b,y]=k.useState(""),[w,j]=k.useState(!1),[_,S]=k.useState(!1),[A,O]=k.useState(Jue),M=(E,R)=>{E==="cleaning"&&(!w||!_)||(console.log(`Maintenance ${E} confirmée`,{notes:R}),o(!1),y(""),j(!1),S(!1))},B=E=>{console.log("Sortie du lot:",{batch:h,...E}),o(!1),f(null)},T=E=>{console.log("Nouveau lot ajouté:",E);const R={id:`batch-${Date.now()}`,number:E.number,quantity:E.quantity,type:E.type,entryTime:new Date().toISOString(),remainingTime:72};O([...A,R]),o(!1)};return a.jsxs(a.Fragment,{children:[a.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:a.jsx(we.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"modal-container bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg w-full max-w-2xl shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10",onClick:E=>E.stopPropagation(),ref:i,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1,transform:"translate3d(0px, 0px, 0px)"},children:a.jsxs("div",{className:"flex flex-col max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:t.name}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"flex space-x-4 mb-6",children:[a.jsx("button",{onClick:()=>n("info"),className:`px-4 py-2 rounded-lg transition-colors ${r==="info"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Informations"}),a.jsx("button",{onClick:()=>n("history"),className:`px-4 py-2 rounded-lg transition-colors ${r==="history"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Historique"}),a.jsx("button",{onClick:()=>n("config"),className:`px-4 py-2 rounded-lg transition-colors ${r==="config"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Configuration"})]}),a.jsxs(sr,{mode:"wait",children:[r==="info"&&a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(Dr,{size:20,className:"mr-2 text-brand-primary"}),"Occupation"]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"0%"}),a.jsx("div",{className:"text-sm text-white/60",children:"0 Kg/3000 Kg"})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(Qn,{size:20,className:"mr-2 text-brand-primary"}),"Filtration"]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:`text-2xl font-bold ${t.waterQuality>=95?"text-green-400":t.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[t.waterQuality,"%"]})})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(oa,{size:20,className:"mr-2 text-brand-primary"}),"Température"]}),a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Lots en cours"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{onClick:()=>{o(!0),c("newBatch"),m(""),g("")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",children:[a.jsx(Mt,{size:16}),"Nouveau lot"]})})]}),a.jsx("div",{className:"space-y-3",children:A.map(E=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:E.number}),a.jsxs("div",{className:"text-sm text-white/60",children:[E.quantity,"kg - ",E.type]}),a.jsxs("div",{className:"text-sm text-white/60",children:["Entrée le ",Bt(new Date(E.entryTime),"dd/MM/yyyy HH:mm",{locale:gr})]})]}),a.jsxs("button",{onClick:()=>{f(E),o(!0),c("exit")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 text-white/60 hover:bg-white/10 hover:text-white transition-all duration-300",title:"Sortir le lot",children:[a.jsx(yw,{size:16,"aria-hidden":"true"}),a.jsx("span",{children:"Sortir"})]})]},E.id))}),a.jsx("div",{className:"mt-4",children:a.jsxs("div",{className:"relative h-24 bg-white/5 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 flex",children:[a.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),a.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"rgba(37, 99, 235, 0.2) 0px 0px 20px"}}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]}),a.jsx("div",{className:"h-full relative flex-1",children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1e3a8a]/75 to-[#1e3a8a]/90 transition-all duration-500"})})]}),a.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:a.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(Yb,{size:20,className:"mr-2 text-brand-primary"}),"Lampe UV"]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:`text-lg font-medium ${t.uvLampHours>=8e3?"text-red-400":t.uvLampHours>=7e3?"text-yellow-400":"text-white"}`,children:"7500 heures d'utilisation"}),a.jsxs("div",{className:"text-sm text-white/60",children:["Dernier changement: ",Bt(new Date(t.lastUVChange),"PP",{locale:gr})]}),t.uvLampHours>=7e3&&a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(qn,{size:20,className:"mr-2 text-yellow-400"}),a.jsx("span",{className:"text-yellow-400",children:"Changement recommandé"})]})]}),a.jsxs("button",{onClick:()=>{o(!0),c("maintenance"),d("uv_lamp")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",children:[a.jsx(Yb,{size:20}),"Changer la lampe"]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(Hj,{size:20,className:"mr-2 text-brand-primary"}),"Nettoyage du bassin"]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-medium text-white",children:"Dernier nettoyage"}),a.jsx("div",{className:"text-sm text-white/60",children:Bt(new Date(t.lastMaintenance),"PP",{locale:gr})}),a.jsxs("div",{className:"text-sm text-white/60 mt-2",children:[a.jsx(jn,{size:16,className:"inline-block mr-1 text-cyan-400"}),"Le bassin doit être vidé avant le nettoyage"]})]}),a.jsxs("button",{onClick:()=>{o(!0),c("maintenance"),d("cleaning"),y(""),j(!1),S(!1)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",disabled:t.currentOccupancy>0,"aria-disabled":t.currentOccupancy>0,title:t.currentOccupancy>0?"Le bassin doit être vide pour le nettoyage":"Nettoyer le bassin",children:[a.jsx(Hj,{size:20,"aria-hidden":"true"}),"Nettoyer"]})]})]})]},"info"),r==="history"&&a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des opérations"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center text-white",children:[a.jsx(ei,{size:16,className:"mr-2"}),a.jsxs("span",{children:["Dernier nettoyage: ",Bt(new Date(t.lastMaintenance),"PP",{locale:gr})]})]})}),a.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center text-white",children:[a.jsx(pi,{size:16,className:"mr-2"}),a.jsxs("span",{children:["Changement filtre: ",Bt(new Date(t.lastMaintenance),"PP",{locale:gr})]})]})})]})]})},"history"),r==="config"&&a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Configuration du bassin"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de filtration"}),a.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"uv",children:"UV"}),a.jsx("option",{value:"uv_ozone",children:"UV + Ozone"}),a.jsx("option",{value:"mechanical",children:"Mécanique"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Durée de purification par défaut"}),a.jsx("input",{type:"number",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Heures"})]})]})]})},"config")]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),r==="config"&&a.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})},"modal")}),s&&l==="maintenance"&&a.jsx(zO,{isOpen:s&&l==="maintenance",onClose:()=>o(!1),onConfirm:M,maintenanceType:u,lastMaintenance:t.lastMaintenance,uvLampHours:t.uvLampHours}),s&&l==="exit"&&h&&a.jsx(UO,{isOpen:s&&l==="exit",onClose:()=>o(!1),onConfirm:B,batch:h}),s&&l==="newBatch"&&a.jsx(qO,{isOpen:s&&l==="newBatch",onClose:()=>o(!1),onConfirm:T,pool:t})]})}function Zue(){const[t,e]=k.useState(null),[r,n]=k.useState(null),[i,s]=k.useState(Kue),[o,l]=k.useState(!1),[c,u]=k.useState("maintenance"),[d,h]=k.useState(null),[f,p]=k.useState(null),[m,x]=k.useState(!1),g=j=>{console.log("Nouveau lot ajouté:",j);const _={id:`batch-${Date.now()}`,number:j.number,quantity:j.quantity,type:j.type,entryTime:new Date().toISOString(),remainingTime:72};p(_),l(!0),u("newBatch")},b=()=>{x(!1),p(null)},y=(j,_)=>{console.log(`Maintenance ${j} confirmée pour le bassin ${t==null?void 0:t.name}`,{notes:_}),l(!1)},w=j=>{console.log("Sortie du lot:",{batch:d,...j}),l(!1),h(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:i.map(j=>a.jsxs("div",{onClick:()=>e(j),className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg cursor-pointer hover:from-[rgba(15,23,42,0.4)] hover:to-[rgba(20,100,100,0.4)] transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:j.name}),a.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/60",children:[a.jsx(pi,{size:16,className:"mr-1"}),j.filterType]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${j.filterStatus==="active"?"bg-green-500/20 text-green-300":j.filterStatus==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:j.filterStatus==="active"?"Actif":j.filterStatus==="maintenance"?"Maintenance":"Erreur"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Occupation"}),a.jsxs("div",{className:"text-xl font-bold text-white",children:[Math.round(j.currentOccupancy/j.capacity*100),"%"]}),a.jsxs("div",{className:"text-sm text-white/60",children:[j.currentOccupancy,"/",j.capacity]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Qualité eau"}),a.jsxs("div",{className:`text-xl font-bold ${j.waterQuality>=95?"text-green-400":j.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[j.waterQuality,"%"]}),a.jsxs("div",{className:"text-sm text-white/60",children:[j.temperature,"°C"]})]})]}),a.jsx("div",{className:"space-y-3",children:j.batches.map(_=>a.jsx("div",{className:"bg-white/5 rounded-lg p-4 mb-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:_.number}),a.jsxs("div",{className:"text-sm text-white/60",children:[_.quantity," huîtres"]})]}),a.jsxs("button",{onClick:S=>{S.stopPropagation(),h(_),l(!0),u("exit")},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 text-white/60 hover:bg-white/10 hover:text-white",children:[a.jsx(yw,{size:16}),"Sortir"]})]})},_.id))}),a.jsx("div",{className:"mt-4",children:a.jsxs("div",{className:"relative h-24 bg-white/5 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 flex",children:[a.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),a.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"rgba(37, 99, 235, 0.2) 0px 0px 20px"}}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]}),a.jsx("div",{className:"h-full relative flex-1",children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1e3a8a]/75 to-[#1e3a8a]/90 transition-all duration-500"})})]}),a.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:a.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})}),a.jsx(we.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===j.id?1:0},transition:{duration:.2}})]},j.id))}),a.jsx(sr,{children:t&&a.jsx(Que,{pool:t,onClose:()=>e(null)})}),o&&c==="newBatch"&&a.jsx(qO,{isOpen:o&&c==="newBatch",onClose:()=>l(!1),onConfirm:g,pool:t}),o&&c==="maintenance"&&a.jsx(zO,{isOpen:o&&c==="maintenance",onClose:()=>l(!1),onConfirm:y,maintenanceType:"cleaning",lastMaintenance:t==null?void 0:t.lastMaintenance,uvLampHours:t==null?void 0:t.uvLampHours}),o&&c==="exit"&&d&&a.jsx(UO,{isOpen:o&&c==="exit",onClose:()=>l(!1),onConfirm:w,batch:d}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",onClick:b,children:a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg w-full max-w-md",onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lot ajouté avec succès"}),a.jsx("button",{onClick:b,className:"text-white/60 hover:text-white",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Fd,{size:20,className:"text-cyan-400 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white",children:"Les stocks ont été mis à jour avec succès."}),a.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Lot ",f.number," ajouté avec ",f.quantity," huîtres"]}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Cette opération a été enregistrée dans l'historique de traçabilité"})]})]})}),a.jsx("button",{onClick:b,className:"w-full px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:"Fermer"})]})]})})]})}const HO=({isOpen:t,onClose:e,onConfirm:r,pochonCount:n,action:i})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[300]",onClick:s=>s.target===s.currentTarget&&e(),children:a.jsx(we.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:s=>s.stopPropagation(),children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirmation"}),a.jsx("p",{className:"text-white/70",children:i==="fill"?`Les ${n} pochons seront inscrits dans les stocks de la trempe et leur traçabilité sera mise à jour.`:`Les ${n} pochons seront retirés des stocks de la trempe, mais seront disponible en référence pour le stockage dans les bassins et leur traçabilité sera mise à jour.`})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Non"}),a.jsx("button",{onClick:()=>{r(),e()},className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Oui"})]})]})})}):null,ede=({isOpen:t,onClose:e,onConfirm:r,cellIndex:n})=>{const[i,s]=k.useState("2503-042"),[o,l]=k.useState(!1);return t?a.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[200]",onClick:c=>c.target===c.currentTarget&&e(),children:[a.jsx(we.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:c=>c.stopPropagation(),children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"space-y-2",children:a.jsxs("h3",{className:"text-xl font-bold text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Remplir le carré ",n+1]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-white/70 block",children:"N° de lot :"}),a.jsxs("select",{value:i,onChange:c=>s(c.target.value),className:"w-full bg-black/20 border border-white/10 rounded px-3 py-2 text-white",children:[a.jsx("option",{value:"2503-042",children:"2503-042 (Dernier lot récolté - Table A-01)"}),a.jsx("option",{value:"2503-041",children:"2503-041"}),a.jsx("option",{value:"2503-040",children:"2503-040"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Annuler"}),a.jsx("button",{onClick:()=>l(!0),className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Confirmer"})]})]})}),a.jsx(HO,{isOpen:o,onClose:()=>l(!1),onConfirm:()=>{r(i),e()},pochonCount:50,action:"fill"})]}):null},pS=({isOpen:t,onClose:e,onConfirm:r,action:n,cellIndex:i,cell:s})=>{const[o,l]=k.useState(0),[c,u]=k.useState(!1),d=p=>p===5?17:p===6?19:50,h=n==="harvest"?d(i):0,f=n==="harvest"?h-o:o;return t?a.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[200]",onClick:p=>p.target===p.currentTarget&&e(),children:[a.jsx(we.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:p=>p.stopPropagation(),children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-bold text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:n==="fill"?"Ajouter des pochons":"Récolter les pochons"}),a.jsxs("div",{className:"text-center space-y-1",children:[a.jsxs("div",{className:"text-white/60",children:["Carré N°",i+1]}),a.jsxs("div",{className:"text-white/70",children:["Pochons ",n==="fill"?"ajoutés":"restants"," : ",f]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-white/70",children:"Nombre de pochons :"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>l(Math.max(0,o-1)),className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white flex items-center justify-center",children:"-"}),a.jsx("input",{type:"number",value:o,onChange:p=>{const m=parseInt(p.target.value)||0;l(Math.min(Math.max(0,m),d(i)))},className:"w-16 bg-black/20 border border-white/10 rounded px-3 py-1 text-white text-center"}),a.jsx("button",{onClick:()=>l(Math.min(o+1,d(i))),className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white flex items-center justify-center",children:"+"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Annuler"}),a.jsx("button",{onClick:()=>u(!0),className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Confirmer"})]})]})}),a.jsx(HO,{isOpen:c,onClose:()=>u(!1),onConfirm:()=>{r(o),e()},pochonCount:o,action:n})]}):null},tde=({isOpen:t,onClose:e,message:r})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[300]",onClick:n=>n.target===n.currentTarget&&e(),children:a.jsx(we.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:n=>n.stopPropagation(),children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-red-400 to-red-500 bg-clip-text text-transparent",children:"Erreur"}),a.jsx("p",{className:"text-white/70",children:r})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:e,className:"px-6 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-red-400/30",children:"Fermer"})})]})})}):null,rde=({cell:t,onUpdate:e,index:r})=>{const[n,i]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState(!1),u=!t.filled,d=r<=5&&r>=0,h=x=>x===9||x===10?"23/03/25":x===11||x===13?"24/03/25":x===14||x===18?"25/03/25":x===7||x===8?"26/03/25":"22/03/25",f=x=>x>=5&&x<=19?"2503-042 (Table A-01)":"-",p=x=>{e({filled:1,lotNumber:x})},m=x=>{e({pochonCount:x})};return u?a.jsxs("div",{className:"space-y-4 bg-black/20 p-4 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("button",{onClick:()=>d?i(!0):c(!0),className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:[a.jsx(tn,{size:20}),"Remplir le carré ",r+1]}),a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white",children:[a.jsx(tn,{size:20}),"Ajouter des pochons"]})]}),a.jsx(ede,{isOpen:n,onClose:()=>i(!1),onConfirm:p,cellIndex:r}),a.jsx(pS,{isOpen:s,onClose:()=>o(!1),onConfirm:m,action:"fill",cellIndex:r,cell:t}),a.jsx(tde,{isOpen:l,onClose:()=>c(!1),message:"Impossible, la table n'est pas vide."})]}):a.jsxs("div",{className:"space-y-4 bg-black/20 p-4 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"text-2xl font-bold text-center mb-4 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Carré N°",r+1]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-white/60 text-sm",children:"Date de mise à l'eau"}),a.jsx("div",{className:"text-white font-medium",children:h(r)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-white/60 text-sm",children:"Numéro de lot"}),a.jsx("div",{className:"text-white font-medium",children:f(r)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-white/60 text-sm",children:"Taille des huîtres"}),a.jsx("div",{className:"text-white font-medium",children:"N°3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-white/60 text-sm",children:"Nombre d'exondations"}),a.jsx("div",{className:"text-white font-medium",children:"12"})]}),r===5?a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),a.jsx("div",{className:"text-white font-medium",children:"17 / 50 - 170 Kg"})]}):r===6?a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),a.jsx("div",{className:"text-white font-medium",children:"19 / 50"})]}):r>=7&&r<=19&&a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),a.jsx("div",{className:"text-white font-medium",children:"50 / 50"})]})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("button",{onClick:()=>o(!0),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300 relative z-50",children:[a.jsx(tn,{size:20}),"Récolter les pochons",a.jsxs("span",{className:"text-sm text-white/60 ml-2",children:["(",r===5?"17":r===6?"19":"50"," max)"]})]})}),a.jsx(pS,{isOpen:s,onClose:()=>o(!1),onConfirm:m,action:"harvest",cellIndex:r,cell:t})]})},nde=({table:t,onClose:e,onTableUpdate:r})=>{const[n,i]=k.useState(null),s=t.cells.map((d,h)=>({...d,filled:h===8?1:d.filled}));k.useEffect(()=>{r({...t,cells:s})},[]);const o=d=>{i(n===d?null:d)},l=(d,h)=>{const f={...t,cells:t.cells.map((p,m)=>m===d?{...p,...h}:p)};r(f)},c=()=>{const d={...t,cells:t.cells.map(h=>({...h,filled:1}))};r(d)},u=d=>{d.target===d.currentTarget&&e()};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[100]",onClick:u,children:a.jsxs(we.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[800px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:d=>d.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion des cases"}),a.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/5 text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:20})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-10 gap-0.5 bg-black/20 p-4 rounded-lg border border-white/10",children:t.cells.map((d,h)=>a.jsxs("button",{onClick:()=>o(h),className:`
                  w-16 h-10 rounded border relative overflow-hidden cursor-pointer transition-all duration-300
                  ${d.filled>0?"bg-cyan-500/40 border-cyan-400/50 hover:bg-cyan-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}
                  ${n===h?"ring-2 ring-cyan-400":""}
                `,children:[a.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:`${d.filled*100}%`}}),a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-sm font-medium text-white/80",children:h+1})]},d.id))}),n!==null&&a.jsx(rde,{cell:t.cells[n],onUpdate:d=>l(n,d),index:n}),n!==null&&n<=5&&a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300 transition-all duration-300",children:[a.jsx(Qn,{size:20}),"Remplir Table"]})})]})]})})},ide=[{id:"1",name:"Trempe 1",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:e<6?0:e===6?.3:1,waterDate:"2024-03-01",batchNumber:"2503-042",oysterSize:"N°3",exondationCount:2,perchCount:5})),oysterType:"Huîtres N°3",startDate:new Date().toLocaleDateString(),lastUpdate:"Nouveau"},{id:"2",name:"Trempe 2",cells:Array(10).fill(null).map((t,e)=>({id:`${e}`,filled:e<2?0:1,waterDate:"2024-02-15",batchNumber:"2503-078",oysterSize:"N°2",exondationCount:1,perchCount:3})),oysterType:"Huîtres Spéciales",startDate:new Date().toLocaleDateString(),lastUpdate:"Nouveau"}],ade=({table:t,onCellClick:e})=>{const r=t.cells.length===20?2:1,n=(t.cells.length===20,10);return a.jsx("div",{className:"space-y-1",children:Array.from({length:r},(i,s)=>a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-cyan-950/50",children:Array.from({length:n},(o,l)=>{const c=s*10+l;if(c>=t.cells.length)return null;const u=t.cells[c];return a.jsxs("div",{onClick:()=>e==null?void 0:e(c),className:"w-full h-7 rounded-[4px] border border-white/10 relative overflow-hidden cursor-pointer hover:border-cyan-400/30 transition-colors",children:[a.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:`${u.filled*100}%`}}),a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white/80 font-medium",children:c+1})]},l)})},s))})},sde=({table:t,isHovered:e,isSelected:r,onClick:n,onHover:i})=>{const s=t.cells.filter(u=>u.filled>0).length,o=t.cells.length,l=Math.round(s/o*100);return a.jsxs(we.div,{layout:!0,onClick:n,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:`
        relative rounded-xl overflow-hidden transition-all duration-300
        ${r?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-400/50":e?"bg-white/5 border-cyan-400/30":"bg-white/5 border-white/10"}
        border backdrop-blur-sm p-6 space-y-6
        hover:shadow-[0_8px_16px_rgba(0,0,0,0.4),0_0_20px_rgba(0,210,200,0.3)]
        cursor-pointer
      `,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:t.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/70",children:"Huîtres N°3"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[a.jsx(tn,{size:20}),a.jsx("span",{className:"font-semibold",children:"Pochons"})]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"76 / 100"}),a.jsx("div",{className:"text-sm text-white/60",children:"10 Kg par pochon • 760 Kg"})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[a.jsx(fg,{size:20}),a.jsx("span",{className:"font-semibold",children:"Remplissage"})]}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:[l,"%"]}),a.jsx("div",{className:"text-sm text-white/60",children:"13,3 carrés pleins"})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[a.jsx(WI,{size:20}),a.jsx("span",{className:"font-semibold",children:"Mortalité"})]}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:[12.5,"%"]}),a.jsx("div",{className:"text-sm text-white/60",children:"Taux moyen"})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[a.jsx(ac,{size:20}),a.jsx("span",{className:"font-semibold",children:"Lots"})]}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[a.jsx("span",{children:"2503-042"}),a.jsx("span",{className:"text-xs text-white/60",children:"12 pochons"})]}),a.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[a.jsx("span",{children:"2503-078"}),a.jsx("span",{className:"text-xs text-white/60",children:"28 pochons"})]}),a.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[a.jsx("span",{children:"2503-156"}),a.jsx("span",{className:"text-xs text-white/60",children:"36 pochons"})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Wi,{size:16}),a.jsxs("span",{children:["Lot: ",t.cells[0].batchNumber]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(oa,{size:16}),a.jsxs("span",{children:["Taille: ",t.cells[0].oysterSize]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(oa,{size:16}),a.jsxs("span",{children:["Exondations: ",t.cells[0].exondationCount]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(oa,{size:16}),a.jsxs("span",{children:["Perches: ",t.cells[0].perchCount]})]})]})]}),a.jsx(ade,{table:t})]})},ode=({onTableSelect:t,onTableHover:e,hoveredTable:r,selectedTable:n,onTableUpdate:i})=>{const[s,o]=k.useState(ide),[l,c]=k.useState(null),u=d=>{const h=s.map(f=>f.id===d.id?d:f);o(h),i(d)};return a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:[a.jsx(Qn,{size:28,className:"text-cyan-400"}),a.jsx("h2",{children:"Tables de trempe"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.map(d=>a.jsx(sde,{table:d,isHovered:(r==null?void 0:r.id)===d.id,isSelected:(n==null?void 0:n.id)===d.id,onClick:()=>{t(d),c(d)},onHover:h=>{h?e==null||e(d):e==null||e(null)}},d.id))}),l&&a.jsx(nde,{table:l,onClose:()=>c(null),onTableUpdate:u})]})},Kx=()=>{const t=new Date,e=t.getFullYear().toString().slice(-2),r=(t.getMonth()+1).toString().padStart(2,"0"),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${e}${r}-${n}`},lde=({cell:t,onClose:e,onSave:r})=>{var d,h;const[n,i]=k.useState(t.ropeCount||0),[s,o]=k.useState(((d=t.spat)==null?void 0:d.name)||""),[l,c]=k.useState(((h=t.spat)==null?void 0:h.batchNumber)||Kx()),u=()=>{const p={date:new Date().toISOString(),action:"Ajout de cordes",details:`${n} cordes ajoutées`,naissain:s,lotNumber:l,mortalityRate:0,notes:""};r({...t,ropeCount:(t.ropeCount||0)+n,spat:{name:s,batchNumber:l,dateAdded:new Date().toISOString()},history:[...t.history||[],p]}),e()};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx(we.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg w-[480px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsxs("div",{className:"relative",children:[a.jsx("h3",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ajouter des cordes"}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Nombre de cordes"}),a.jsx("input",{type:"number",value:n,onChange:f=>i(Number(f.target.value)),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Naissain"}),a.jsx("input",{type:"text",value:s,onChange:f=>o(f.target.value),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",placeholder:"Nom du naissain"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Numéro de lot"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",placeholder:"Numéro de lot"}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(jC,{size:20})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[a.jsx("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/40 transition-all duration-300 transform hover:-translate-y-1 text-white/70 hover:text-white",children:"Annuler"}),a.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/30 hover:border-cyan-400/50 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(pg,{size:20}),"Enregistrer"]})]})]})]})]})})})},cde=({cell:t,onClose:e,onSave:r})=>{var h,f,p,m;const[n,i]=k.useState(1),l=10*5,c=150,u=()=>{var j,_;const x=new Date().toISOString(),g=t.ropeCount||l,b=Math.max(0,g-n),y=b===0,w={date:x,action:"Récolte",details:`${n} cordes récoltées`,naissain:((j=t.spat)==null?void 0:j.name)||"",lotNumber:((_=t.spat)==null?void 0:_.batchNumber)||"",mortalityRate:0,notes:""};r({...t,filled:!y,ropeCount:b,spat:y?void 0:t.spat,history:[...t.history||[],w]}),e()},d=x=>x*c;return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx(we.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg w-[480px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsxs("div",{className:"relative",children:[a.jsx("h3",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Récolter des cordes"}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Nombre de cordes à récolter"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:n,onChange:x=>i(Math.min(Math.max(1,Number(x.target.value)),t.ropeCount||l)),className:"flex-1 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",min:"1",max:t.ropeCount||l}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("button",{onClick:()=>i(x=>Math.min(x+1,t.ropeCount||l)),className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:a.jsx(ww,{size:16})}),a.jsx("button",{onClick:()=>i(x=>Math.max(1,x-1)),className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:a.jsx(kc,{size:16})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsx("span",{className:"font-medium",children:"Numéro de lot :"})," ",a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-2 rounded-lg border border-white/10",children:a.jsx("span",{className:"text-white",children:((h=t.spat)==null?void 0:h.batchNumber)||Kx()})}),a.jsx("button",{onClick:()=>{var b;const x=Kx(),g={date:new Date().toISOString(),action:"Mise à jour du numéro de lot",details:`Nouveau numéro de lot : ${x}`,naissain:((b=t.spat)==null?void 0:b.name)||"",lotNumber:x,mortalityRate:0,notes:""};r({...t,spat:{...t.spat,batchNumber:x},history:[...t.history||[],g]})},className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:a.jsx(Kb,{size:14})})]})]}),a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsx("span",{className:"font-medium",children:"Naissain à récolter :"})," ",a.jsx("span",{className:"text-white",children:"Marennes-Oléron"})]}),a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsx("span",{className:"font-medium",children:"Cordes restantes après récolte :"})," ",a.jsx("span",{className:"text-white",children:(t.ropeCount||l)-n})]}),a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsx("span",{className:"font-medium",children:"Huîtres restantes après récolte :"})," ",a.jsx("span",{className:"text-white",children:d((t.ropeCount||l)-n)})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{var y,w,j;const x=new Date().toISOString(),g=(((y=t.exondation)==null?void 0:y.exondationCount)||0)+1,b={date:x,action:"Exondation",details:`Exondation #${g}`,type:"exondation",naissain:((w=t.spat)==null?void 0:w.name)||"",lotNumber:((j=t.spat)==null?void 0:j.batchNumber)||"",mortalityRate:0,notes:""};r({...t,exondation:{startTime:x,isExonded:!0,exondationCount:g},history:[...t.history||[],b]}),setTimeout(()=>{var _;(_=t.exondation)!=null&&_.isExonded&&alert("⚠️ ATTENTION : Cette table est exondée depuis plus de 24 heures !")},24*60*60*1e3)},className:`px-4 py-2 rounded-lg ${(f=t.exondation)!=null&&f.isExonded?"bg-orange-500/20 text-orange-400 hover:bg-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10 text-white/70"} transition-colors`,"aria-label":(p=t.exondation)!=null&&p.isExonded?"Table exondée":"Exonder",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qn,{size:16}),(m=t.exondation)!=null&&m.isExonded?"Exondé":"Exonder"]})}),a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-white/70",children:"Annuler"}),a.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors",children:"Récolter"})]})]})]})]})})})},ude=({table:t,onClose:e,onTableUpdate:r})=>{var M,B,T;const[n,i]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[h,f]=k.useState(!1),[p,m]=k.useState(!1),[x,g]=k.useState("all"),[b,y]=k.useState([]);ne.useEffect(()=>{if(t.id==="1"&&r){const E=[...t.cells];E[3]&&(E[3]={...E[3],filled:!0,ropeCount:7}),E[8]&&(E[8]={...E[8],filled:!0}),E[16]&&(E[16]={...E[16],filled:!0}),r({...t,cells:E})}},[t.id,r]);const w=(E,R)=>{var X;const F=new Date().toISOString(),W=(((X=t.exondation)==null?void 0:X.exondationCount)||0)+1,$={date:F,action:"Exondation",details:`Exondation #${W} - ${E==="all"?"Table complète":E==="right"?"Colonne droite":E==="left"?"Colonne gauche":"Cellules spécifiques"}`,type:"exondation",naissain:"",lotNumber:"",mortalityRate:0,notes:""},z=[...t.cells];E==="all"?z.forEach(Y=>{Y.exondation={startTime:F,isExonded:!0,exondationCount:W}}):E==="right"?z.slice(50).forEach(Y=>{Y.exondation={startTime:F,isExonded:!0,exondationCount:W}}):E==="left"?z.slice(0,50).forEach(Y=>{Y.exondation={startTime:F,isExonded:!0,exondationCount:W}}):R&&R.forEach(Y=>{z[Y]&&(z[Y].exondation={startTime:F,isExonded:!0,exondationCount:W})}),r({...t,cells:z,history:[...t.history||[],$]}),setTimeout(()=>{z.filter(oe=>{var fe;return(fe=oe.exondation)==null?void 0:fe.isExonded}).length>0&&alert("⚠️ ATTENTION : Des huîtres sont exondées depuis plus de 24 heures !")},24*60*60*1e3),m(!1)},j=E=>{var W,$;const R=[...t.cells],F=R.findIndex(z=>z.id===E.id);if(F!==-1){R[F]=E;const z={date:new Date().toISOString(),action:"Mise à jour cellule",details:`Cellule ${F+1} mise à jour avec ${E.ropeCount} cordes`,naissain:((W=E.spat)==null?void 0:W.name)||"",lotNumber:(($=E.spat)==null?void 0:$.batchNumber)||"",mortalityRate:0,notes:""};r({...t,cells:R,history:[...t.history,z]})}o(!1)},_=E=>{var W,$;const R=[...t.cells],F=R.findIndex(z=>z.id===E.id);if(F!==-1){R[F]=E;const z={date:new Date().toISOString(),action:"Récolte de cordes",details:`Cellule ${F+1} récoltée`,naissain:((W=E.spat)==null?void 0:W.name)||"",lotNumber:(($=E.spat)==null?void 0:$.batchNumber)||"",mortalityRate:0,notes:""};r({...t,cells:R,history:[...t.history,z]})}f(!1)},S=E=>{const R=[...t.cells],F=new Date().toISOString();for(let W=E;W<E+10;W++)W<R.length&&(R[W]={...R[W],filled:!0,ropeCount:10,spat:{name:"Naissain standard",batchNumber:Kx(),dateAdded:F}});r({...t,cells:R,history:[...t.history,{date:F,action:"Remplissage colonne",details:`Colonne ${E===0?"gauche":"droite"} remplie`,naissain:"",lotNumber:"",mortalityRate:0,notes:""}]})},A=()=>{const E=[...t.history,{date:new Date().toISOString(),action:"Échantillonnage",details:"Contrôle de croissance effectué",naissain:"",lotNumber:"",mortalityRate:0,notes:""}];r({...t,sampling:{...t.sampling,lastCheckDate:new Date().toISOString(),nextCheckDate:new Date(Date.now()+7*24*60*60*1e3).toISOString(),mortalityRate:Math.round(Math.random()*5),currentSize:Math.round(70+Math.random()*30).toString()},history:E}),d(!1)},O=E=>{i(E),E.filled?f(!0):o(!0)};return a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-40",onClick:E=>{E.target===E.currentTarget&&e()},children:a.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-sm p-8 rounded-xl w-[1000px] max-h-[90vh] overflow-y-auto border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-8",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-cyan-400 to-cyan-200 bg-clip-text text-transparent",children:["Table ",t.name]}),a.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[a.jsxs("span",{className:"text-lg",children:["Table n° ",t.tableNumber]}),a.jsx("span",{className:"text-gray-500",children:"•"}),a.jsx("span",{className:"text-lg",children:t.oysterType})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-white/5",children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 text-cyan-300",children:"Informations générales"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(oa,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-gray-300",children:"Température"})]}),a.jsxs("span",{className:"text-white font-medium",children:[t.temperature,"°C"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Qn,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-gray-300",children:"Salinité"})]}),a.jsxs("span",{className:"text-white font-medium",children:[t.salinity,"g/L"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ei,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-gray-300",children:"Dernière mise à jour"})]}),a.jsx("span",{className:"text-white font-medium",children:new Date(t.lastUpdate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(xi,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-gray-300",children:"Provenance naissain"})]}),a.jsx("span",{className:"text-white font-medium",children:"Marennes-Oléron"})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-white/5",children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 text-cyan-300",children:"Actions"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>m(!0),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg border transition-all duration-200 ${(M=t.exondation)!=null&&M.isExonded?"bg-orange-500/20 border-orange-500/30 hover:bg-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(Qn,{className:(B=t.exondation)!=null&&B.isExonded?"text-orange-400":"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:(T=t.exondation)!=null&&T.isExonded?"Exondé":"Exonder"})]})}),a.jsx("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg border border-white/5 transition-colors",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(jC,{className:"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:"Échantillonnage"})]})}),a.jsx("button",{onClick:()=>S(10),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg border border-white/5 transition-colors",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(VI,{className:"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:"Remplir colonne droite"})]})}),a.jsx("button",{onClick:()=>S(0),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg border border-white/5 transition-colors",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(Tf,{className:"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:"Remplir colonne gauche"})]})}),a.jsx("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg border border-white/5 transition-colors",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(bl,{className:"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:"Voir l'historique"})]})})]})]})]}),a.jsx("div",{className:"grid grid-cols-10 gap-1",children:t.cells.map((E,R)=>a.jsxs("div",{onClick:()=>O(E),className:`h-8 rounded-sm border cursor-pointer transition-colors flex items-center justify-center relative backdrop-blur-sm ${E.filled?R===3?"bg-gradient-to-l from-cyan-500/40 to-transparent from-[87.5%] to-[87.5%] border-cyan-500/30":"bg-cyan-500/40 border-cyan-500/30 hover:bg-cyan-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[a.jsx("div",{className:"absolute bottom-1 right-1 text-[10px] text-white/40",children:R+1}),E.filled&&E.ropeCount&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-white/70",children:E.ropeCount})})]},E.id))}),s&&n&&a.jsx(lde,{cell:n,onClose:()=>o(!1),onSave:j}),h&&n&&a.jsx(cde,{cell:n,onClose:()=>f(!1),onSave:_}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-50 pt-8",onClick:E=>{E.target===E.currentTarget&&c(!1)},children:a.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-sm p-8 rounded-xl w-[600px] border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-cyan-200 bg-clip-text text-transparent",children:"Historique"}),a.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("div",{className:"relative",children:a.jsx("input",{type:"date",className:"min-w-[44px] min-h-[44px] bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] px-4 py-2 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white transition-all duration-300","aria-label":"Sélectionner une date"})})}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xl font-medium bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"31 Mars 2025"}),a.jsx("span",{className:"text-green-400 text-sm px-3 py-1 rounded-full bg-green-400/10 border border-green-400/20",children:"Mortalité: 2.8%"})]}),a.jsx("div",{className:"text-white text-lg mb-2",children:"Naissain T15"}),a.jsx("div",{className:"text-white/70 mb-2",children:"Lot: LOT-2025-001"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[a.jsxs("div",{className:"text-white/70",children:[a.jsx("span",{className:"text-white/40",children:"Taille moyenne:"})," 8.5cm"]}),a.jsxs("div",{className:"text-white/70",children:[a.jsx("span",{className:"text-white/40",children:"Densité:"})," 150/m²"]})]}),a.jsx("p",{className:"text-white/70",children:"Croissance excellente, calibrage homogène"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xl font-medium bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"15 Mars 2025"}),a.jsx("span",{className:"text-green-400 text-sm px-3 py-1 rounded-full bg-green-400/10 border border-green-400/20",children:"Mortalité: 2.5%"})]}),a.jsx("div",{className:"text-white text-lg mb-2",children:"Naissain T15"}),a.jsx("div",{className:"text-white/70 mb-2",children:"Lot: LOT-2025-001"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[a.jsxs("div",{className:"text-white/70",children:[a.jsx("span",{className:"text-white/40",children:"Taille moyenne:"})," 7.8cm"]}),a.jsxs("div",{className:"text-white/70",children:[a.jsx("span",{className:"text-white/40",children:"Densité:"})," 150/m²"]})]}),a.jsx("p",{className:"text-white/70",children:"Croissance normale, bonne adaptation aux conditions"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xl font-medium bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"28 Février 2025"}),a.jsx("span",{className:"text-yellow-400 text-sm px-3 py-1 rounded-full bg-yellow-400/10 border border-yellow-400/20",children:"Mortalité: 3.2%"})]}),a.jsx("div",{className:"text-white text-lg mb-2",children:"Naissain T15"}),a.jsx("div",{className:"text-white/70 mb-2",children:"Lot: LOT-2025-001"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[a.jsxs("div",{className:"text-white/70",children:[a.jsx("span",{className:"text-white/40",children:"Taille moyenne:"})," 7.2cm"]}),a.jsxs("div",{className:"text-white/70",children:[a.jsx("span",{className:"text-white/40",children:"Densité:"})," 150/m²"]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded bg-yellow-400/5 border border-yellow-400/10 mb-3",children:[a.jsx(qn,{className:"text-yellow-400 mt-0.5",size:16}),a.jsx("p",{className:"text-white/70 text-sm",children:"Légère hausse de la mortalité due aux conditions météorologiques"})]}),a.jsx("p",{className:"text-white/70",children:"Croissance stable malgré les conditions"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xl font-medium bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"15 Février 2025"}),a.jsx("span",{className:"text-green-400 text-sm px-3 py-1 rounded-full bg-green-400/10 border border-green-400/20",children:"Mortalité: 1.8%"})]}),a.jsx("div",{className:"text-white text-lg mb-2",children:"Naissain T15"}),a.jsx("div",{className:"text-white/70 mb-2",children:"Lot: LOT-2025-001"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[a.jsxs("div",{className:"text-white/70",children:[a.jsx("span",{className:"text-white/40",children:"Taille moyenne:"})," 6.5cm"]}),a.jsxs("div",{className:"text-white/70",children:[a.jsx("span",{className:"text-white/40",children:"Densité:"})," 150/m²"]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded bg-cyan-400/5 border border-cyan-400/10 mb-3",children:[a.jsx(Dr,{className:"text-cyan-400 mt-0.5",size:16}),a.jsx("p",{className:"text-white/70 text-sm",children:"Première mise en élevage sur la table"})]}),a.jsx("p",{className:"text-white/70",children:"Début de croissance, acclimatation en cours"})]})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:E=>{E.target===E.currentTarget&&d(!1)},children:a.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-sm p-8 rounded-xl w-[600px] border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-cyan-200 bg-clip-text text-transparent",children:"Échantillonnage"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-gray-300",children:"Voulez-vous effectuer un contrôle d'échantillonnage sur cette table ?"}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-700 text-gray-300 transition-colors",children:"Annuler"}),a.jsx("button",{onClick:A,className:"px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors",children:"Confirmer"})]})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:E=>{E.target===E.currentTarget&&m(!1)},children:a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] p-6 rounded-lg w-96 shadow-xl border border-white/10",onClick:E=>E.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-semibold text-cyan-500 mb-4",children:"Sélectionner la zone à exonder"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx("button",{onClick:()=>g("all"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${x==="all"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Table complète"}),a.jsx("button",{onClick:()=>g("right"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${x==="right"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Colonne droite"}),a.jsx("button",{onClick:()=>g("left"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${x==="left"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Colonne gauche"}),a.jsx("button",{onClick:()=>g("custom"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${x==="custom"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Sélection personnalisée"})]}),x==="custom"&&a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"grid grid-cols-10 gap-1 mb-4",children:t.cells.map((E,R)=>a.jsx("div",{onClick:()=>{y(F=>F.includes(R)?F.filter(W=>W!==R):[...F,R])},className:`w-8 h-8 rounded-sm border cursor-pointer transition-colors flex items-center justify-center relative ${b.includes(R)?"bg-cyan-500/50 border-cyan-400":R<3?"bg-white/5 border-white/10 hover:bg-white/10":R===3?"bg-cyan-500/20 border-cyan-500/30 hover:bg-cyan-500/30":"bg-cyan-500/40 border-cyan-500/30 hover:bg-cyan-500/50"}`,children:a.jsx("div",{className:"absolute bottom-1 right-1 text-[10px] text-white/40 flex items-center justify-center relative",children:R+1})},E.id))}),a.jsx("p",{className:"text-white/70 text-sm",children:"Sélectionnez les cellules à exonder"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-white/70",children:"Annuler"}),a.jsx("button",{onClick:()=>{x==="custom"?w("custom",b):w(x)},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:"Confirmer"})]})]})})]})})};var F0=t=>t.type==="checkbox",dc=t=>t instanceof Date,Ai=t=>t==null;const WO=t=>typeof t=="object";var rn=t=>!Ai(t)&&!Array.isArray(t)&&WO(t)&&!dc(t),dde=t=>rn(t)&&t.target?F0(t.target)?t.target.checked:t.target.value:t,hde=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,fde=(t,e)=>t.has(hde(e)),pde=t=>{const e=t.constructor&&t.constructor.prototype;return rn(e)&&e.hasOwnProperty("isPrototypeOf")},D5=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(D5&&(t instanceof Blob||n))&&(r||rn(t)))if(e=r?[]:{},!r&&!pde(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Jn(t[i]));else return t;return e}var B0=t=>Array.isArray(t)?t.filter(Boolean):[],Mr=t=>t===void 0,Qe=(t,e,r)=>{if(!e||!rn(t))return r;const n=B0(e.split(/[,[\].]+?/)).reduce((i,s)=>Ai(i)?i:i[s],t);return Mr(n)||n===t?Mr(t[e])?r:t[e]:n},ws=t=>typeof t=="boolean",M5=t=>/^\w*$/.test(t),VO=t=>B0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pr=(t,e,r)=>{let n=-1;const i=M5(e)?[e]:VO(e),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==o){const u=t[l];c=rn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const mS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ca={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},so={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mde=ne.createContext(null),xde=()=>ne.useContext(mde);var gde=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ca.all&&(e._proxyFormState[o]=!n||Ca.all),t[o]}});return i},Si=t=>rn(t)&&!Object.keys(t).length,vde=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Si(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Ca.all)},la=t=>Array.isArray(t)?t:[t];function GO(t){const e=ne.useRef(t);e.current=t,ne.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var Es=t=>typeof t=="string",bde=(t,e,r,n,i)=>Es(t)?(n&&e.watch.add(t),Qe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Qe(r,s))):(n&&(e.watchAll=!0),r),yde=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Wo=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},Jv=(t,e,r={})=>r.shouldFocus||Mr(r.shouldFocus)?r.focusName||`${t}.${Mr(r.focusIndex)?e:r.focusIndex}.`:"",wf=t=>({isOnSubmit:!t||t===Ca.onSubmit,isOnBlur:t===Ca.onBlur,isOnChange:t===Ca.onChange,isOnAll:t===Ca.all,isOnTouch:t===Ca.onTouched}),O2=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const rd=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Qe(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(rd(l,e))break}else if(rn(l)&&rd(l,e))break}}};var XO=(t,e,r)=>{const n=la(Qe(t,r));return pr(n,"root",e[r]),pr(t,r,n),t},L5=t=>t.type==="file",_s=t=>typeof t=="function",Jx=t=>{if(!D5)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rm=t=>Es(t),R5=t=>t.type==="radio",Qx=t=>t instanceof RegExp;const xS={value:!1,isValid:!1},gS={value:!0,isValid:!0};var YO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Mr(t[0].attributes.value)?Mr(t[0].value)||t[0].value===""?gS:{value:t[0].value,isValid:!0}:gS:xS}return xS};const vS={isValid:!1,value:null};var KO=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,vS):vS;function bS(t,e,r="validate"){if(Rm(t)||Array.isArray(t)&&t.every(Rm)||ws(t)&&!t)return{type:r,message:Rm(t)?t:"",ref:e}}var _u=t=>rn(t)&&!Qx(t)?t:{value:t,message:""},P2=async(t,e,r,n,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:x,valueAsNumber:g,mount:b}=t._f,y=Qe(r,x);if(!b||e.has(x))return{};const w=l?l[0]:o,j=E=>{i&&w.reportValidity&&(w.setCustomValidity(ws(E)?"":E||""),w.reportValidity())},_={},S=R5(o),A=F0(o),O=S||A,M=(g||L5(o))&&Mr(o.value)&&Mr(y)||Jx(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,B=yde.bind(null,x,n,_),T=(E,R,F,W=so.maxLength,$=so.minLength)=>{const z=E?R:F;_[x]={type:E?W:$,message:z,ref:o,...B(E?W:$,z)}};if(s?!Array.isArray(y)||!y.length:c&&(!O&&(M||Ai(y))||ws(y)&&!y||A&&!YO(l).isValid||S&&!KO(l).isValid)){const{value:E,message:R}=Rm(c)?{value:!!c,message:c}:_u(c);if(E&&(_[x]={type:so.required,message:R,ref:w,...B(so.required,R)},!n))return j(R),_}if(!M&&(!Ai(h)||!Ai(f))){let E,R;const F=_u(f),W=_u(h);if(!Ai(y)&&!isNaN(y)){const $=o.valueAsNumber||y&&+y;Ai(F.value)||(E=$>F.value),Ai(W.value)||(R=$<W.value)}else{const $=o.valueAsDate||new Date(y),z=oe=>new Date(new Date().toDateString()+" "+oe),X=o.type=="time",Y=o.type=="week";Es(F.value)&&y&&(E=X?z(y)>z(F.value):Y?y>F.value:$>new Date(F.value)),Es(W.value)&&y&&(R=X?z(y)<z(W.value):Y?y<W.value:$<new Date(W.value))}if((E||R)&&(T(!!E,F.message,W.message,so.max,so.min),!n))return j(_[x].message),_}if((u||d)&&!M&&(Es(y)||s&&Array.isArray(y))){const E=_u(u),R=_u(d),F=!Ai(E.value)&&y.length>+E.value,W=!Ai(R.value)&&y.length<+R.value;if((F||W)&&(T(F,E.message,R.message),!n))return j(_[x].message),_}if(p&&!M&&Es(y)){const{value:E,message:R}=_u(p);if(Qx(E)&&!y.match(E)&&(_[x]={type:so.pattern,message:R,ref:o,...B(so.pattern,R)},!n))return j(R),_}if(m){if(_s(m)){const E=await m(y,r),R=bS(E,w);if(R&&(_[x]={...R,...B(so.validate,R.message)},!n))return j(R.message),_}else if(rn(m)){let E={};for(const R in m){if(!Si(E)&&!n)break;const F=bS(await m[R](y,r),w,R);F&&(E={...F,...B(R,F.message)},j(F.message),n&&(_[x]=E))}if(!Si(E)&&(_[x]={ref:w,...E},!n))return _}}return j(!0),_},Qv=(t,e)=>[...t,...la(e)],Zv=t=>Array.isArray(t)?t.map(()=>{}):void 0;function eb(t,e,r){return[...t.slice(0,e),...la(r),...t.slice(e)]}var tb=(t,e,r)=>Array.isArray(t)?(Mr(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],rb=(t,e)=>[...la(e),...la(t)];function wde(t,e){let r=0;const n=[...t];for(const i of e)n.splice(i-r,1),r++;return B0(n).length?n:[]}var nb=(t,e)=>Mr(e)?[]:wde(t,la(e).sort((r,n)=>r-n)),ib=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]};function jde(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Mr(t)?n++:t[e[n++]];return t}function Nde(t){for(const e in t)if(t.hasOwnProperty(e)&&!Mr(t[e]))return!1;return!0}function cn(t,e){const r=Array.isArray(e)?e:M5(e)?[e]:VO(e),n=r.length===1?t:jde(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(rn(n)&&Si(n)||Array.isArray(n)&&Nde(n))&&cn(t,r.slice(0,-1)),t}var yS=(t,e,r)=>(t[e]=r,t);function _de(t){const e=xde(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:s,rules:o}=t,[l,c]=ne.useState(r._getFieldArray(n)),u=ne.useRef(r._getFieldArray(n).map(Wo)),d=ne.useRef(l),h=ne.useRef(n),f=ne.useRef(!1);h.current=n,d.current=l,r._names.array.add(n),o&&r.register(n,o),GO({next:({values:S,name:A})=>{if(A===h.current||!A){const O=Qe(S,h.current);Array.isArray(O)&&(c(O),u.current=O.map(Wo))}},subject:r._subjects.array});const p=ne.useCallback(S=>{f.current=!0,r._updateFieldArray(n,S)},[r,n]),m=(S,A)=>{const O=la(Jn(S)),M=Qv(r._getFieldArray(n),O);r._names.focus=Jv(n,M.length-1,A),u.current=Qv(u.current,O.map(Wo)),p(M),c(M),r._updateFieldArray(n,M,Qv,{argA:Zv(S)})},x=(S,A)=>{const O=la(Jn(S)),M=rb(r._getFieldArray(n),O);r._names.focus=Jv(n,0,A),u.current=rb(u.current,O.map(Wo)),p(M),c(M),r._updateFieldArray(n,M,rb,{argA:Zv(S)})},g=S=>{const A=nb(r._getFieldArray(n),S);u.current=nb(u.current,S),p(A),c(A),!Array.isArray(Qe(r._fields,n))&&pr(r._fields,n,void 0),r._updateFieldArray(n,A,nb,{argA:S})},b=(S,A,O)=>{const M=la(Jn(A)),B=eb(r._getFieldArray(n),S,M);r._names.focus=Jv(n,S,O),u.current=eb(u.current,S,M.map(Wo)),p(B),c(B),r._updateFieldArray(n,B,eb,{argA:S,argB:Zv(A)})},y=(S,A)=>{const O=r._getFieldArray(n);ib(O,S,A),ib(u.current,S,A),p(O),c(O),r._updateFieldArray(n,O,ib,{argA:S,argB:A},!1)},w=(S,A)=>{const O=r._getFieldArray(n);tb(O,S,A),tb(u.current,S,A),p(O),c(O),r._updateFieldArray(n,O,tb,{argA:S,argB:A},!1)},j=(S,A)=>{const O=Jn(A),M=yS(r._getFieldArray(n),S,O);u.current=[...M].map((B,T)=>!B||T===S?Wo():u.current[T]),p(M),c([...M]),r._updateFieldArray(n,M,yS,{argA:S,argB:O},!0,!1)},_=S=>{const A=la(Jn(S));u.current=A.map(Wo),p([...A]),c([...A]),r._updateFieldArray(n,[...A],O=>O,{},!0,!1)};return ne.useEffect(()=>{if(r._state.action=!1,O2(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!wf(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(S=>{const A=Qe(S.errors,n),O=Qe(r._formState.errors,n);(O?!A&&O.type||A&&(O.type!==A.type||O.message!==A.message):A&&A.type)&&(A?pr(r._formState.errors,n,A):cn(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const S=Qe(r._fields,n);S&&S._f&&!(wf(r._options.reValidateMode).isOnSubmit&&wf(r._options.mode).isOnSubmit)&&P2(S,r._names.disabled,r._formValues,r._options.criteriaMode===Ca.all,r._options.shouldUseNativeValidation,!0).then(A=>!Si(A)&&r._subjects.state.next({errors:XO(r._formState.errors,A,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&rd(r._fields,(S,A)=>{if(r._names.focus&&A.startsWith(r._names.focus)&&S.focus)return S.focus(),1}),r._names.focus="",r._updateValid(),f.current=!1},[l,n,r]),ne.useEffect(()=>(!Qe(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||s)&&r.unregister(n)}),[n,r,i,s]),{swap:ne.useCallback(y,[p,n,r]),move:ne.useCallback(w,[p,n,r]),prepend:ne.useCallback(x,[p,n,r]),append:ne.useCallback(m,[p,n,r]),remove:ne.useCallback(g,[p,n,r]),insert:ne.useCallback(b,[p,n,r]),update:ne.useCallback(j,[p,n,r]),replace:ne.useCallback(_,[p,n,r]),fields:ne.useMemo(()=>l.map((S,A)=>({...S,[i]:u.current[A]||Wo()})),[l,i])}}var ab=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},k2=t=>Ai(t)||!WO(t);function ul(t,e){if(k2(t)||k2(e))return t===e;if(dc(t)&&dc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(dc(s)&&dc(o)||rn(s)&&rn(o)||Array.isArray(s)&&Array.isArray(o)?!ul(s,o):s!==o)return!1}}return!0}var JO=t=>t.type==="select-multiple",Sde=t=>R5(t)||F0(t),sb=t=>Jx(t)&&t.isConnected,QO=t=>{for(const e in t)if(_s(t[e]))return!0;return!1};function Zx(t,e={}){const r=Array.isArray(t);if(rn(t)||r)for(const n in t)Array.isArray(t[n])||rn(t[n])&&!QO(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Zx(t[n],e[n])):Ai(t[n])||(e[n]=!0);return e}function ZO(t,e,r){const n=Array.isArray(t);if(rn(t)||n)for(const i in t)Array.isArray(t[i])||rn(t[i])&&!QO(t[i])?Mr(e)||k2(r[i])?r[i]=Array.isArray(t[i])?Zx(t[i],[]):{...Zx(t[i])}:ZO(t[i],Ai(e)?{}:e[i],r[i]):r[i]=!ul(t[i],e[i]);return r}var Kh=(t,e)=>ZO(t,e,Zx(e)),eP=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Mr(t)?t:e?t===""?NaN:t&&+t:r&&Es(t)?new Date(t):n?n(t):t;function ob(t){const e=t.ref;return L5(e)?e.files:R5(e)?KO(t.refs).value:JO(e)?[...e.selectedOptions].map(({value:r})=>r):F0(e)?YO(t.refs).value:eP(Mr(e.value)?t.ref.value:e.value,t)}var Ade=(t,e,r,n)=>{const i={};for(const s of t){const o=Qe(e,s);o&&pr(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Jh=t=>Mr(t)?t:Qx(t)?t.source:rn(t)?Qx(t.value)?t.value.source:t.value:t;const wS="AsyncFunction";var Cde=t=>!!t&&!!t.validate&&!!(_s(t.validate)&&t.validate.constructor.name===wS||rn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===wS)),Ede=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function jS(t,e,r){const n=Qe(t,r);if(n||M5(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=Qe(e,s),l=Qe(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:r}}var Ode=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Pde=(t,e)=>!B0(Qe(t,e)).length&&cn(t,e);const kde={mode:Ca.onSubmit,reValidateMode:Ca.onChange,shouldFocusError:!0};function Tde(t={}){let e={...kde,...t},r={submitCount:0,isDirty:!1,isLoading:_s(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=rn(e.defaultValues)||rn(e.values)?Jn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Jn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:ab(),array:ab(),state:ab()},f=wf(e.mode),p=wf(e.reValidateMode),m=e.criteriaMode===Ca.all,x=ee=>re=>{clearTimeout(u),u=setTimeout(ee,re)},g=async ee=>{if(!e.disabled&&(d.isValid||ee)){const re=e.resolver?Si((await O()).errors):await B(n,!0);re!==r.isValid&&h.state.next({isValid:re})}},b=(ee,re)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((ee||Array.from(l.mount)).forEach(ue=>{ue&&(re?pr(r.validatingFields,ue,re):cn(r.validatingFields,ue))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Si(r.validatingFields)}))},y=(ee,re=[],ue,Se,je=!0,me=!0)=>{if(Se&&ue&&!e.disabled){if(o.action=!0,me&&Array.isArray(Qe(n,ee))){const Le=ue(Qe(n,ee),Se.argA,Se.argB);je&&pr(n,ee,Le)}if(me&&Array.isArray(Qe(r.errors,ee))){const Le=ue(Qe(r.errors,ee),Se.argA,Se.argB);je&&pr(r.errors,ee,Le),Pde(r.errors,ee)}if(d.touchedFields&&me&&Array.isArray(Qe(r.touchedFields,ee))){const Le=ue(Qe(r.touchedFields,ee),Se.argA,Se.argB);je&&pr(r.touchedFields,ee,Le)}d.dirtyFields&&(r.dirtyFields=Kh(i,s)),h.state.next({name:ee,isDirty:E(ee,re),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pr(s,ee,re)},w=(ee,re)=>{pr(r.errors,ee,re),h.state.next({errors:r.errors})},j=ee=>{r.errors=ee,h.state.next({errors:r.errors,isValid:!1})},_=(ee,re,ue,Se)=>{const je=Qe(n,ee);if(je){const me=Qe(s,ee,Mr(ue)?Qe(i,ee):ue);Mr(me)||Se&&Se.defaultChecked||re?pr(s,ee,re?me:ob(je._f)):W(ee,me),o.mount&&g()}},S=(ee,re,ue,Se,je)=>{let me=!1,Le=!1;const qe={name:ee};if(!e.disabled){const Ke=!!(Qe(n,ee)&&Qe(n,ee)._f&&Qe(n,ee)._f.disabled);if(!ue||Se){d.isDirty&&(Le=r.isDirty,r.isDirty=qe.isDirty=E(),me=Le!==qe.isDirty);const it=Ke||ul(Qe(i,ee),re);Le=!!(!Ke&&Qe(r.dirtyFields,ee)),it||Ke?cn(r.dirtyFields,ee):pr(r.dirtyFields,ee,!0),qe.dirtyFields=r.dirtyFields,me=me||d.dirtyFields&&Le!==!it}if(ue){const it=Qe(r.touchedFields,ee);it||(pr(r.touchedFields,ee,ue),qe.touchedFields=r.touchedFields,me=me||d.touchedFields&&it!==ue)}me&&je&&h.state.next(qe)}return me?qe:{}},A=(ee,re,ue,Se)=>{const je=Qe(r.errors,ee),me=d.isValid&&ws(re)&&r.isValid!==re;if(e.delayError&&ue?(c=x(()=>w(ee,ue)),c(e.delayError)):(clearTimeout(u),c=null,ue?pr(r.errors,ee,ue):cn(r.errors,ee)),(ue?!ul(je,ue):je)||!Si(Se)||me){const Le={...Se,...me&&ws(re)?{isValid:re}:{},errors:r.errors,name:ee};r={...r,...Le},h.state.next(Le)}},O=async ee=>{b(ee,!0);const re=await e.resolver(s,e.context,Ade(ee||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(ee),re},M=async ee=>{const{errors:re}=await O(ee);if(ee)for(const ue of ee){const Se=Qe(re,ue);Se?pr(r.errors,ue,Se):cn(r.errors,ue)}else r.errors=re;return re},B=async(ee,re,ue={valid:!0})=>{for(const Se in ee){const je=ee[Se];if(je){const{_f:me,...Le}=je;if(me){const qe=l.array.has(me.name),Ke=je._f&&Cde(je._f);Ke&&d.validatingFields&&b([Se],!0);const it=await P2(je,l.disabled,s,m,e.shouldUseNativeValidation&&!re,qe);if(Ke&&d.validatingFields&&b([Se]),it[me.name]&&(ue.valid=!1,re))break;!re&&(Qe(it,me.name)?qe?XO(r.errors,it,me.name):pr(r.errors,me.name,it[me.name]):cn(r.errors,me.name))}!Si(Le)&&await B(Le,re,ue)}}return ue.valid},T=()=>{for(const ee of l.unMount){const re=Qe(n,ee);re&&(re._f.refs?re._f.refs.every(ue=>!sb(ue)):!sb(re._f.ref))&&Q(ee)}l.unMount=new Set},E=(ee,re)=>!e.disabled&&(ee&&re&&pr(s,ee,re),!ul(fe(),i)),R=(ee,re,ue)=>bde(ee,l,{...o.mount?s:Mr(re)?i:Es(ee)?{[ee]:re}:re},ue,re),F=ee=>B0(Qe(o.mount?s:i,ee,e.shouldUnregister?Qe(i,ee,[]):[])),W=(ee,re,ue={})=>{const Se=Qe(n,ee);let je=re;if(Se){const me=Se._f;me&&(!me.disabled&&pr(s,ee,eP(re,me)),je=Jx(me.ref)&&Ai(re)?"":re,JO(me.ref)?[...me.ref.options].forEach(Le=>Le.selected=je.includes(Le.value)):me.refs?F0(me.ref)?me.refs.length>1?me.refs.forEach(Le=>(!Le.defaultChecked||!Le.disabled)&&(Le.checked=Array.isArray(je)?!!je.find(qe=>qe===Le.value):je===Le.value)):me.refs[0]&&(me.refs[0].checked=!!je):me.refs.forEach(Le=>Le.checked=Le.value===je):L5(me.ref)?me.ref.value="":(me.ref.value=je,me.ref.type||h.values.next({name:ee,values:{...s}})))}(ue.shouldDirty||ue.shouldTouch)&&S(ee,je,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&oe(ee)},$=(ee,re,ue)=>{for(const Se in re){const je=re[Se],me=`${ee}.${Se}`,Le=Qe(n,me);(l.array.has(ee)||rn(je)||Le&&!Le._f)&&!dc(je)?$(me,je,ue):W(me,je,ue)}},z=(ee,re,ue={})=>{const Se=Qe(n,ee),je=l.array.has(ee),me=Jn(re);pr(s,ee,me),je?(h.array.next({name:ee,values:{...s}}),(d.isDirty||d.dirtyFields)&&ue.shouldDirty&&h.state.next({name:ee,dirtyFields:Kh(i,s),isDirty:E(ee,me)})):Se&&!Se._f&&!Ai(me)?$(ee,me,ue):W(ee,me,ue),O2(ee,l)&&h.state.next({...r}),h.values.next({name:o.mount?ee:void 0,values:{...s}})},X=async ee=>{o.mount=!0;const re=ee.target;let ue=re.name,Se=!0;const je=Qe(n,ue),me=()=>re.type?ob(je._f):dde(ee),Le=qe=>{Se=Number.isNaN(qe)||dc(qe)&&isNaN(qe.getTime())||ul(qe,Qe(s,ue,qe))};if(je){let qe,Ke;const it=me(),jt=ee.type===mS.BLUR||ee.type===mS.FOCUS_OUT,dt=!Ede(je._f)&&!e.resolver&&!Qe(r.errors,ue)&&!je._f.deps||Ode(jt,Qe(r.touchedFields,ue),r.isSubmitted,p,f),At=O2(ue,l,jt);pr(s,ue,it),jt?(je._f.onBlur&&je._f.onBlur(ee),c&&c(0)):je._f.onChange&&je._f.onChange(ee);const Ge=S(ue,it,jt,!1),Pn=!Si(Ge)||At;if(!jt&&h.values.next({name:ue,type:ee.type,values:{...s}}),dt)return d.isValid&&(e.mode==="onBlur"&&jt?g():jt||g()),Pn&&h.state.next({name:ue,...At?{}:Ge});if(!jt&&At&&h.state.next({...r}),e.resolver){const{errors:Lt}=await O([ue]);if(Le(it),Se){const Yi=jS(r.errors,n,ue),Kt=jS(Lt,n,Yi.name||ue);qe=Kt.error,ue=Kt.name,Ke=Si(Lt)}}else b([ue],!0),qe=(await P2(je,l.disabled,s,m,e.shouldUseNativeValidation))[ue],b([ue]),Le(it),Se&&(qe?Ke=!1:d.isValid&&(Ke=await B(n,!0)));Se&&(je._f.deps&&oe(je._f.deps),A(ue,Ke,qe,Ge))}},Y=(ee,re)=>{if(Qe(r.errors,re)&&ee.focus)return ee.focus(),1},oe=async(ee,re={})=>{let ue,Se;const je=la(ee);if(e.resolver){const me=await M(Mr(ee)?ee:je);ue=Si(me),Se=ee?!je.some(Le=>Qe(me,Le)):ue}else ee?(Se=(await Promise.all(je.map(async me=>{const Le=Qe(n,me);return await B(Le&&Le._f?{[me]:Le}:Le)}))).every(Boolean),!(!Se&&!r.isValid)&&g()):Se=ue=await B(n);return h.state.next({...!Es(ee)||d.isValid&&ue!==r.isValid?{}:{name:ee},...e.resolver||!ee?{isValid:ue}:{},errors:r.errors}),re.shouldFocus&&!Se&&rd(n,Y,ee?je:l.mount),Se},fe=ee=>{const re={...o.mount?s:i};return Mr(ee)?re:Es(ee)?Qe(re,ee):ee.map(ue=>Qe(re,ue))},D=(ee,re)=>({invalid:!!Qe((re||r).errors,ee),isDirty:!!Qe((re||r).dirtyFields,ee),error:Qe((re||r).errors,ee),isValidating:!!Qe(r.validatingFields,ee),isTouched:!!Qe((re||r).touchedFields,ee)}),I=ee=>{ee&&la(ee).forEach(re=>cn(r.errors,re)),h.state.next({errors:ee?r.errors:{}})},U=(ee,re,ue)=>{const Se=(Qe(n,ee,{_f:{}})._f||{}).ref,je=Qe(r.errors,ee)||{},{ref:me,message:Le,type:qe,...Ke}=je;pr(r.errors,ee,{...Ke,...re,ref:Se}),h.state.next({name:ee,errors:r.errors,isValid:!1}),ue&&ue.shouldFocus&&Se&&Se.focus&&Se.focus()},J=(ee,re)=>_s(ee)?h.values.subscribe({next:ue=>ee(R(void 0,re),ue)}):R(ee,re,!0),Q=(ee,re={})=>{for(const ue of ee?la(ee):l.mount)l.mount.delete(ue),l.array.delete(ue),re.keepValue||(cn(n,ue),cn(s,ue)),!re.keepError&&cn(r.errors,ue),!re.keepDirty&&cn(r.dirtyFields,ue),!re.keepTouched&&cn(r.touchedFields,ue),!re.keepIsValidating&&cn(r.validatingFields,ue),!e.shouldUnregister&&!re.keepDefaultValue&&cn(i,ue);h.values.next({values:{...s}}),h.state.next({...r,...re.keepDirty?{isDirty:E()}:{}}),!re.keepIsValid&&g()},de=({disabled:ee,name:re,field:ue,fields:Se})=>{(ws(ee)&&o.mount||ee||l.disabled.has(re))&&(ee?l.disabled.add(re):l.disabled.delete(re),S(re,ob(ue?ue._f:Qe(Se,re)._f),!1,!1,!0))},xe=(ee,re={})=>{let ue=Qe(n,ee);const Se=ws(re.disabled)||ws(e.disabled);return pr(n,ee,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:ee}},name:ee,mount:!0,...re}}),l.mount.add(ee),ue?de({field:ue,disabled:ws(re.disabled)?re.disabled:e.disabled,name:ee}):_(ee,!0,re.value),{...Se?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:Jh(re.min),max:Jh(re.max),minLength:Jh(re.minLength),maxLength:Jh(re.maxLength),pattern:Jh(re.pattern)}:{},name:ee,onChange:X,onBlur:X,ref:je=>{if(je){xe(ee,re),ue=Qe(n,ee);const me=Mr(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Le=Sde(me),qe=ue._f.refs||[];if(Le?qe.find(Ke=>Ke===me):me===ue._f.ref)return;pr(n,ee,{_f:{...ue._f,...Le?{refs:[...qe.filter(sb),me,...Array.isArray(Qe(i,ee))?[{}]:[]],ref:{type:me.type,name:ee}}:{ref:me}}}),_(ee,!1,void 0,me)}else ue=Qe(n,ee,{}),ue._f&&(ue._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(fde(l.array,ee)&&o.action)&&l.unMount.add(ee)}}},le=()=>e.shouldFocusError&&rd(n,Y,l.mount),_e=ee=>{ws(ee)&&(h.state.next({disabled:ee}),rd(n,(re,ue)=>{const Se=Qe(n,ue);Se&&(re.disabled=Se._f.disabled||ee,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(je=>{je.disabled=Se._f.disabled||ee}))},0,!1))},Oe=(ee,re)=>async ue=>{let Se;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let je=Jn(s);if(l.disabled.size)for(const me of l.disabled)pr(je,me,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:Le}=await O();r.errors=me,je=Le}else await B(n);if(cn(r.errors,"root"),Si(r.errors)){h.state.next({errors:{}});try{await ee(je,ue)}catch(me){Se=me}}else re&&await re({...r.errors},ue),le(),setTimeout(le);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Si(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},ae=(ee,re={})=>{Qe(n,ee)&&(Mr(re.defaultValue)?z(ee,Jn(Qe(i,ee))):(z(ee,re.defaultValue),pr(i,ee,Jn(re.defaultValue))),re.keepTouched||cn(r.touchedFields,ee),re.keepDirty||(cn(r.dirtyFields,ee),r.isDirty=re.defaultValue?E(ee,Jn(Qe(i,ee))):E()),re.keepError||(cn(r.errors,ee),d.isValid&&g()),h.state.next({...r}))},Pe=(ee,re={})=>{const ue=ee?Jn(ee):i,Se=Jn(ue),je=Si(ee),me=je?i:Se;if(re.keepDefaultValues||(i=ue),!re.keepValues){if(re.keepDirtyValues){const Le=new Set([...l.mount,...Object.keys(Kh(i,s))]);for(const qe of Array.from(Le))Qe(r.dirtyFields,qe)?pr(me,qe,Qe(s,qe)):z(qe,Qe(me,qe))}else{if(D5&&Mr(ee))for(const Le of l.mount){const qe=Qe(n,Le);if(qe&&qe._f){const Ke=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Jx(Ke)){const it=Ke.closest("form");if(it){it.reset();break}}}}n={}}s=e.shouldUnregister?re.keepDefaultValues?Jn(i):{}:Jn(me),h.array.next({values:{...me}}),h.values.next({values:{...me}})}l={mount:re.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!re.keepIsValid||!!re.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:re.keepSubmitCount?r.submitCount:0,isDirty:je?!1:re.keepDirty?r.isDirty:!!(re.keepDefaultValues&&!ul(ee,i)),isSubmitted:re.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:je?{}:re.keepDirtyValues?re.keepDefaultValues&&s?Kh(i,s):r.dirtyFields:re.keepDefaultValues&&ee?Kh(i,ee):re.keepDirty?r.dirtyFields:{},touchedFields:re.keepTouched?r.touchedFields:{},errors:re.keepErrors?r.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},De=(ee,re)=>Pe(_s(ee)?ee(s):ee,re);return{control:{register:xe,unregister:Q,getFieldState:D,handleSubmit:Oe,setError:U,_executeSchema:O,_getWatch:R,_getDirty:E,_updateValid:g,_removeUnmounted:T,_updateFieldArray:y,_updateDisabledField:de,_getFieldArray:F,_reset:Pe,_resetDefaultValues:()=>_s(e.defaultValues)&&e.defaultValues().then(ee=>{De(ee,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:ee=>{r={...r,...ee}},_disableForm:_e,_subjects:h,_proxyFormState:d,_setErrors:j,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ee){o=ee},get _defaultValues(){return i},get _names(){return l},set _names(ee){l=ee},get _formState(){return r},set _formState(ee){r=ee},get _options(){return e},set _options(ee){e={...e,...ee}}},trigger:oe,register:xe,handleSubmit:Oe,watch:J,setValue:z,getValues:fe,reset:De,resetField:ae,clearErrors:I,unregister:Q,setError:U,setFocus:(ee,re={})=>{const ue=Qe(n,ee),Se=ue&&ue._f;if(Se){const je=Se.refs?Se.refs[0]:Se.ref;je.focus&&(je.focus(),re.shouldSelect&&_s(je.select)&&je.select())}},getFieldState:D}}function rh(t={}){const e=ne.useRef(void 0),r=ne.useRef(void 0),[n,i]=ne.useState({isDirty:!1,isValidating:!1,isLoading:_s(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:_s(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Tde(t),formState:n});const s=e.current.control;return s._options=t,GO({subject:s._subjects.state,next:o=>{vde(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),ne.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ne.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ne.useEffect(()=>{t.values&&!ul(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ne.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ne.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ne.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=gde(n,s),e.current}function Ide({isOpen:t,onClose:e}){const{register:r,handleSubmit:n,formState:{errors:i}}=rh(),s=o=>{console.log(o),e()};return a.jsx(mi,{isOpen:t,onClose:e,title:"Nouvel Article",size:"xl",children:a.jsxs("form",{onSubmit:n(s),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'article"}),a.jsx("input",{...r("name",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.name&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"SKU"}),a.jsx("input",{...r("sku",{required:"Le SKU est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.sku&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.sku.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{...r("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),a.jsxs("select",{...r("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"huitres",children:"Huîtres"}),a.jsx("option",{value:"materiels",children:"Matériels"}),a.jsx("option",{value:"emballages",children:"Emballages"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),a.jsxs("select",{...r("unit"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"douzaines",children:"Douzaines"}),a.jsx("option",{value:"unites",children:"Unités"}),a.jsx("option",{value:"kg",children:"Kilogrammes"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock actuel"}),a.jsx("input",{type:"number",...r("currentStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock minimum"}),a.jsx("input",{type:"number",...r("minimumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock maximum"}),a.jsx("input",{type:"number",...r("maximumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix d'achat"}),a.jsx("input",{type:"number",step:"0.01",...r("costPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix de vente"}),a.jsx("input",{type:"number",step:"0.01",...r("sellingPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Emplacement"}),a.jsx("input",{...r("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Fournisseur"}),a.jsxs("select",{...r("supplier"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"",children:"Sélectionner un fournisseur"}),a.jsx("option",{value:"supplier1",children:"Fournisseur 1"}),a.jsx("option",{value:"supplier2",children:"Fournisseur 2"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Créer l'article"})]})]})})}const Dde=[{label:"Huîtres",value:"huitres"},{label:"Matériels",value:"materiels"},{label:"Emballages",value:"emballages"}],Mde=[{label:"Zone A",value:"zone_a"},{label:"Zone B",value:"zone_b"},{label:"Zone C",value:"zone_c"}],Lde=[{label:"En stock",value:"in_stock"},{label:"Stock faible",value:"low_stock"},{label:"Rupture",value:"out_of_stock"}];function Rde({isOpen:t,onClose:e,onApplyFilters:r}){const[n,i]=ne.useState([]),[s,o]=ne.useState([]),[l,c]=ne.useState([]),[u,d]=ne.useState({min:"",max:""}),h=()=>{r({categories:n,locations:s,status:l,priceRange:u}),e()},f=()=>{i([]),o([]),c([]),d({min:"",max:""})};return a.jsx(mi,{isOpen:t,onClose:e,title:"Filtres avancés",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Dde.map(p=>a.jsx("button",{onClick:()=>{i(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Emplacement"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Mde.map(p=>a.jsx("button",{onClick:()=>{o(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${s.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut du stock"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Lde.map(p=>a.jsx("button",{onClick:()=>{c(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${l.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Fourchette de prix"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix minimum"}),a.jsx("input",{type:"number",value:u.min,onChange:p=>d({...u,min:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix maximum"}),a.jsx("input",{type:"number",value:u.max,onChange:p=>d({...u,max:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"100"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[a.jsx("button",{onClick:f,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:h,className:"px-4 py-2 bg-brand-primary rounded-lg text-sm text-white hover:bg-brand-primary/90 transition-colors",children:"Appliquer les filtres"})]})]})]})})}const F5="-",Fde=t=>{const e=$de(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(F5);return l[0]===""&&l.length!==1&&l.shift(),tP(l,e)||Bde(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},tP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?tP(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(F5);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},NS=/^\[(.+)\]$/,Bde=t=>{if(NS.test(t)){const e=NS.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},$de=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)T2(r[i],n,i,e);return n},T2=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:_S(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(zde(i)){T2(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{T2(o,_S(e,s),r,n)})})},_S=(t,e)=>{let r=t;return e.split(F5).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zde=t=>t.isThemeGetter,Ude=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},I2="!",D2=":",qde=D2.length,Hde=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let o=0,l=0,c=0,u;for(let m=0;m<i.length;m++){let x=i[m];if(o===0&&l===0){if(x===D2){s.push(i.slice(c,m)),c=m+qde;continue}if(x==="/"){u=m;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const d=s.length===0?i:i.substring(c),h=Wde(d),f=h!==d,p=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}};if(e){const i=e+D2,s=n;n=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},Wde=t=>t.endsWith(I2)?t.substring(0,t.length-1):t.startsWith(I2)?t.substring(1):t,Vde=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},Gde=t=>({cache:Ude(t.cacheSize),parseClassName:Hde(t),sortModifiers:Vde(t),...Fde(t)}),Xde=/\s+/,Yde=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(Xde);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:x}=r(d);if(h){c=d+(c.length>0?" "+c:c);continue}let g=!!x,b=n(g?m.substring(0,x):m);if(!b){if(!g){c=d+(c.length>0?" "+c:c);continue}if(b=n(m),!b){c=d+(c.length>0?" "+c:c);continue}g=!1}const y=s(f).join(":"),w=p?y+I2:y,j=w+b;if(o.includes(j))continue;o.push(j);const _=i(b,g);for(let S=0;S<_.length;++S){const A=_[S];o.push(w+A)}c=d+(c.length>0?" "+c:c)}return c};function Kde(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=rP(e))&&(n&&(n+=" "),n+=r);return n}const rP=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=rP(t[n]))&&(r&&(r+=" "),r+=e);return r};function Jde(t,...e){let r,n,i,s=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=Gde(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Yde(c,r);return i(c,d),d}return function(){return s(Kde.apply(null,arguments))}}const Dn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},nP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qde=/^\d+\/\d+$/,Zde=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ehe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,the=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rhe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nhe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Su=t=>Qde.test(t),Dt=t=>!!t&&!Number.isNaN(Number(t)),Hl=t=>!!t&&Number.isInteger(Number(t)),SS=t=>t.endsWith("%")&&Dt(t.slice(0,-1)),Vo=t=>Zde.test(t),ihe=()=>!0,ahe=t=>ehe.test(t)&&!the.test(t),B5=()=>!1,she=t=>rhe.test(t),ohe=t=>nhe.test(t),lhe=t=>!tt(t)&&!rt(t),che=t=>nh(t,oP,B5),tt=t=>nP.test(t),Wl=t=>nh(t,lP,ahe),lb=t=>nh(t,yhe,Dt),uhe=t=>nh(t,aP,B5),dhe=t=>nh(t,sP,ohe),hhe=t=>nh(t,B5,she),rt=t=>iP.test(t),im=t=>ih(t,lP),fhe=t=>ih(t,whe),phe=t=>ih(t,aP),mhe=t=>ih(t,oP),xhe=t=>ih(t,sP),ghe=t=>ih(t,jhe,!0),nh=(t,e,r)=>{const n=nP.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},ih=(t,e,r=!1)=>{const n=iP.exec(t);return n?n[1]?e(n[1]):r:!1},aP=t=>t==="position",vhe=new Set(["image","url"]),sP=t=>vhe.has(t),bhe=new Set(["length","size","percentage"]),oP=t=>bhe.has(t),lP=t=>t==="length",yhe=t=>t==="number",whe=t=>t==="family-name",jhe=t=>t==="shadow",Nhe=()=>{const t=Dn("color"),e=Dn("font"),r=Dn("text"),n=Dn("font-weight"),i=Dn("tracking"),s=Dn("leading"),o=Dn("breakpoint"),l=Dn("container"),c=Dn("spacing"),u=Dn("radius"),d=Dn("shadow"),h=Dn("inset-shadow"),f=Dn("drop-shadow"),p=Dn("blur"),m=Dn("perspective"),x=Dn("aspect"),g=Dn("ease"),b=Dn("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],S=()=>[rt,tt,c],A=()=>[Su,"full","auto",...S()],O=()=>[Hl,"none","subgrid",rt,tt],M=()=>["auto",{span:["full",Hl,rt,tt]},rt,tt],B=()=>[Hl,"auto",rt,tt],T=()=>["auto","min","max","fr",rt,tt],E=()=>["start","end","center","between","around","evenly","stretch","baseline"],R=()=>["start","end","center","stretch"],F=()=>["auto",...S()],W=()=>[Su,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],$=()=>[t,rt,tt],z=()=>[SS,Wl],X=()=>["","none","full",u,rt,tt],Y=()=>["",Dt,im,Wl],oe=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["","none",p,rt,tt],I=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt,tt],U=()=>["none",Dt,rt,tt],J=()=>["none",Dt,rt,tt],Q=()=>[Dt,rt,tt],de=()=>[Su,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vo],breakpoint:[Vo],color:[ihe],container:[Vo],"drop-shadow":[Vo],ease:["in","out","in-out"],font:[lhe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vo],shadow:[Vo],spacing:["px",Dt],text:[Vo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Su,tt,rt,x]}],container:["container"],columns:[{columns:[Dt,tt,rt,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...w(),tt,rt]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Hl,"auto",rt,tt]}],basis:[{basis:[Su,"full","auto",l,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dt,Su,"auto","initial","none",tt]}],grow:[{grow:["",Dt,rt,tt]}],shrink:[{shrink:["",Dt,rt,tt]}],order:[{order:[Hl,"first","last","none",rt,tt]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...E(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...E()]}],"align-items":[{items:[...R(),"baseline"]}],"align-self":[{self:["auto",...R(),"baseline"]}],"place-content":[{"place-content":E()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen",...W()]}],"min-h":[{"min-h":["screen","none",...W()]}],"max-h":[{"max-h":["screen",...W()]}],"font-size":[{text:["base",r,im,Wl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,rt,lb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",SS,tt]}],"font-family":[{font:[fhe,tt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,rt,tt]}],"line-clamp":[{"line-clamp":[Dt,"none",rt,lb]}],leading:[{leading:[s,...S()]}],"list-image":[{"list-image":["none",rt,tt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rt,tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dt,"from-font","auto",rt,Wl]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Dt,"auto",rt,tt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt,tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt,tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...w(),phe,uhe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",mhe,che]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hl,rt,tt],radial:["",rt,tt],conic:[Hl,rt,tt]},xhe,dhe]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dt,rt,tt]}],"outline-w":[{outline:["",Dt,im,Wl]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",d,ghe,hhe]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",rt,tt,h]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Dt,Wl]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":$()}],opacity:[{opacity:[Dt,rt,tt]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none",rt,tt]}],blur:[{blur:D()}],brightness:[{brightness:[Dt,rt,tt]}],contrast:[{contrast:[Dt,rt,tt]}],"drop-shadow":[{"drop-shadow":["","none",f,rt,tt]}],grayscale:[{grayscale:["",Dt,rt,tt]}],"hue-rotate":[{"hue-rotate":[Dt,rt,tt]}],invert:[{invert:["",Dt,rt,tt]}],saturate:[{saturate:[Dt,rt,tt]}],sepia:[{sepia:["",Dt,rt,tt]}],"backdrop-filter":[{"backdrop-filter":["","none",rt,tt]}],"backdrop-blur":[{"backdrop-blur":D()}],"backdrop-brightness":[{"backdrop-brightness":[Dt,rt,tt]}],"backdrop-contrast":[{"backdrop-contrast":[Dt,rt,tt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dt,rt,tt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dt,rt,tt]}],"backdrop-invert":[{"backdrop-invert":["",Dt,rt,tt]}],"backdrop-opacity":[{"backdrop-opacity":[Dt,rt,tt]}],"backdrop-saturate":[{"backdrop-saturate":[Dt,rt,tt]}],"backdrop-sepia":[{"backdrop-sepia":["",Dt,rt,tt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rt,tt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dt,"initial",rt,tt]}],ease:[{ease:["linear","initial",g,rt,tt]}],delay:[{delay:[Dt,rt,tt]}],animate:[{animate:["none",b,rt,tt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,rt,tt]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:U()}],"rotate-x":[{"rotate-x":U()}],"rotate-y":[{"rotate-y":U()}],"rotate-z":[{"rotate-z":U()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:Q()}],"skew-x":[{"skew-x":Q()}],"skew-y":[{"skew-y":Q()}],transform:[{transform:[rt,tt,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt,tt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt,tt]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Dt,im,Wl,lb]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},_he=Jde(Nhe);function ti(...t){return _he(Ct(t))}function hc({children:t,className:e,...r}){return a.jsx("div",{className:ti("border border-white/10 rounded-lg overflow-hidden",e),style:{background:"linear-gradient(135deg, rgba(0, 20, 40, 0.98) 0%, rgba(0, 80, 80, 0.95) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px, rgba(0, 180, 180, 0.1) 0px 0px 10px inset"},...r,children:t})}const wt=k.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:`flex h-10 w-full rounded-md border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))] px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--color-brand-primary))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t||""}`,ref:n,...r}));wt.displayName="Input";function bo(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function AS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cP(...t){return e=>{let r=!1;const n=t.map(i=>{const s=AS(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():AS(t[i],null)}}}}function Co(...t){return k.useCallback(cP(...t),t)}function She(t,e){const r=k.createContext(e),n=s=>{const{children:o,...l}=s,c=k.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=k.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function uP(t,e=[]){let r=[];function n(s,o){const l=k.createContext(o),c=r.length;r=[...r,o];const u=h=>{var b;const{scope:f,children:p,...m}=h,x=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,g=k.useMemo(()=>m,Object.values(m));return a.jsx(x.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(h,f){var x;const p=((x=f==null?void 0:f[t])==null?void 0:x[c])||l,m=k.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>k.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return k.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,Ahe(i,...e)]}function Ahe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var eg=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},Che=GI.useId||(()=>{}),Ehe=0;function cb(t){const[e,r]=k.useState(Che());return eg(()=>{t||r(n=>n??String(Ehe++))},[t]),t||(e?`radix-${e}`:"")}function Ec(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Ohe({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=Phe({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,l=Ec(r),c=k.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else i(u)},[s,t,i,l]);return[o,c]}function Phe({defaultProp:t,onChange:e}){const r=k.useState(t),[n]=r,i=k.useRef(n),s=Ec(e);return k.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var $5=k.forwardRef((t,e)=>{const{children:r,...n}=t,i=k.Children.toArray(r),s=i.find(khe);if(s){const o=s.props.children,l=i.map(c=>c===s?k.Children.count(o)>1?k.Children.only(null):k.isValidElement(o)?o.props.children:null:c);return a.jsx(M2,{...n,ref:e,children:k.isValidElement(o)?k.cloneElement(o,void 0,l):null})}return a.jsx(M2,{...n,ref:e,children:r})});$5.displayName="Slot";var M2=k.forwardRef((t,e)=>{const{children:r,...n}=t;if(k.isValidElement(r)){const i=Ihe(r),s=The(n,r.props);return r.type!==k.Fragment&&(s.ref=e?cP(e,i):i),k.cloneElement(r,s)}return k.Children.count(r)>1?k.Children.only(null):null});M2.displayName="SlotClone";var dP=({children:t})=>a.jsx(a.Fragment,{children:t});function khe(t){return k.isValidElement(t)&&t.type===dP}function The(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{s(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Ihe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Dhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Eo=Dhe.reduce((t,e)=>{const r=k.forwardRef((n,i)=>{const{asChild:s,...o}=n,l=s?$5:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Mhe(t,e){t&&gC.flushSync(()=>t.dispatchEvent(e))}function Lhe(t,e=globalThis==null?void 0:globalThis.document){const r=Ec(t);k.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Rhe="DismissableLayer",L2="dismissableLayer.update",Fhe="dismissableLayer.pointerDownOutside",Bhe="dismissableLayer.focusOutside",CS,hP=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fP=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=k.useContext(hP),[d,h]=k.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=k.useState({}),m=Co(e,A=>h(A)),x=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(g),y=d?x.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=b,_=Uhe(A=>{const O=A.target,M=[...u.branches].some(B=>B.contains(O));!j||M||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},f),S=qhe(A=>{const O=A.target;[...u.branches].some(B=>B.contains(O))||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},f);return Lhe(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},f),k.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(CS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ES(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=CS)}},[d,f,r,u]),k.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ES())},[d,u]),k.useEffect(()=>{const A=()=>p({});return document.addEventListener(L2,A),()=>document.removeEventListener(L2,A)},[]),a.jsx(Eo.div,{...c,ref:m,style:{pointerEvents:w?j?"auto":"none":void 0,...t.style},onFocusCapture:bo(t.onFocusCapture,S.onFocusCapture),onBlurCapture:bo(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:bo(t.onPointerDownCapture,_.onPointerDownCapture)})});fP.displayName=Rhe;var $he="DismissableLayerBranch",zhe=k.forwardRef((t,e)=>{const r=k.useContext(hP),n=k.useRef(null),i=Co(e,n);return k.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Eo.div,{...t,ref:i})});zhe.displayName=$he;function Uhe(t,e=globalThis==null?void 0:globalThis.document){const r=Ec(t),n=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){pP(Fhe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function qhe(t,e=globalThis==null?void 0:globalThis.document){const r=Ec(t),n=k.useRef(!1);return k.useEffect(()=>{const i=s=>{s.target&&!n.current&&pP(Bhe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ES(){const t=new CustomEvent(L2);document.dispatchEvent(t)}function pP(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Mhe(i,s):i.dispatchEvent(s)}var ub="focusScope.autoFocusOnMount",db="focusScope.autoFocusOnUnmount",OS={bubbles:!1,cancelable:!0},Hhe="FocusScope",mP=k.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=k.useState(null),u=Ec(i),d=Ec(s),h=k.useRef(null),f=Co(e,x=>c(x)),p=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let x=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:tl(h.current,{select:!0})},g=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||tl(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&tl(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,p.paused]),k.useEffect(()=>{if(l){kS.add(p);const x=document.activeElement;if(!l.contains(x)){const b=new CustomEvent(ub,OS);l.addEventListener(ub,u),l.dispatchEvent(b),b.defaultPrevented||(Whe(Khe(xP(l)),{select:!0}),document.activeElement===x&&tl(l))}return()=>{l.removeEventListener(ub,u),setTimeout(()=>{const b=new CustomEvent(db,OS);l.addEventListener(db,d),l.dispatchEvent(b),b.defaultPrevented||tl(x??document.body,{select:!0}),l.removeEventListener(db,d),kS.remove(p)},0)}}},[l,u,d,p]);const m=k.useCallback(x=>{if(!r&&!n||p.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,b=document.activeElement;if(g&&b){const y=x.currentTarget,[w,j]=Vhe(y);w&&j?!x.shiftKey&&b===j?(x.preventDefault(),r&&tl(w,{select:!0})):x.shiftKey&&b===w&&(x.preventDefault(),r&&tl(j,{select:!0})):b===y&&x.preventDefault()}},[r,n,p.paused]);return a.jsx(Eo.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});mP.displayName=Hhe;function Whe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(tl(n,{select:e}),document.activeElement!==r)return}function Vhe(t){const e=xP(t),r=PS(e,t),n=PS(e.reverse(),t);return[r,n]}function xP(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function PS(t,e){for(const r of t)if(!Ghe(r,{upTo:e}))return r}function Ghe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xhe(t){return t instanceof HTMLInputElement&&"select"in t}function tl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Xhe(t)&&e&&t.select()}}var kS=Yhe();function Yhe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=TS(t,e),t.unshift(e)},remove(e){var r;t=TS(t,e),(r=t[0])==null||r.resume()}}}function TS(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Khe(t){return t.filter(e=>e.tagName!=="A")}var Jhe="Portal",gP=k.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,s]=k.useState(!1);eg(()=>s(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?XI.createPortal(a.jsx(Eo.div,{...n,ref:e}),o):null});gP.displayName=Jhe;function Qhe(t,e){return k.useReducer((r,n)=>e[r][n]??r,t)}var f1=t=>{const{present:e,children:r}=t,n=Zhe(e),i=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),s=Co(n.ref,efe(i));return typeof r=="function"||n.isPresent?k.cloneElement(i,{ref:s}):null};f1.displayName="Presence";function Zhe(t){const[e,r]=k.useState(),n=k.useRef({}),i=k.useRef(t),s=k.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Qhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const u=am(n.current);s.current=l==="mounted"?u:"none"},[l]),eg(()=>{const u=n.current,d=i.current;if(d!==t){const f=s.current,p=am(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),eg(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const x=am(n.current).includes(p.animationName);if(p.target===e&&x&&(c("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},f=p=>{p.target===e&&(s.current=am(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function am(t){return(t==null?void 0:t.animationName)||"none"}function efe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var hb=0;function tfe(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??IS()),document.body.insertAdjacentElement("beforeend",t[1]??IS()),hb++,()=>{hb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hb--}},[])}function IS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ss=function(){return Ss=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ss.apply(this,arguments)};function vP(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function rfe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Fm="right-scroll-bar-position",Bm="width-before-scroll-bar",nfe="with-scroll-bars-hidden",ife="--removed-body-scroll-bar-size";function fb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function afe(t,e){var r=k.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var sfe=typeof window<"u"?k.useLayoutEffect:k.useEffect,DS=new WeakMap;function ofe(t,e){var r=afe(null,function(n){return t.forEach(function(i){return fb(i,n)})});return sfe(function(){var n=DS.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||fb(l,null)}),s.forEach(function(l){i.has(l)||fb(l,o)})}DS.set(r,t)},[t]),r}function lfe(t){return t}function cfe(t,e){e===void 0&&(e=lfe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function ufe(t){t===void 0&&(t={});var e=cfe(null);return e.options=Ss({async:!0,ssr:!1},t),e}var bP=function(t){var e=t.sideCar,r=vP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,Ss({},r))};bP.isSideCarExport=!0;function dfe(t,e){return t.useMedium(e),bP}var yP=ufe(),pb=function(){},p1=k.forwardRef(function(t,e){var r=k.useRef(null),n=k.useState({onScrollCapture:pb,onWheelCapture:pb,onTouchMoveCapture:pb}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,x=t.allowPinchZoom,g=t.as,b=g===void 0?"div":g,y=t.gapMode,w=vP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,_=ofe([r,e]),S=Ss(Ss({},w),i);return k.createElement(k.Fragment,null,d&&k.createElement(j,{sideCar:yP,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:y}),o?k.cloneElement(k.Children.only(l),Ss(Ss({},S),{ref:_})):k.createElement(b,Ss({},S,{className:c,ref:_}),l))});p1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};p1.classNames={fullWidth:Bm,zeroRight:Fm};var hfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ffe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hfe();return e&&t.setAttribute("nonce",e),t}function pfe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mfe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xfe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=ffe())&&(pfe(e,r),mfe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gfe=function(){var t=xfe();return function(e,r){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},wP=function(){var t=gfe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},vfe={left:0,top:0,right:0,gap:0},mb=function(t){return parseInt(t||"",10)||0},bfe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[mb(r),mb(n),mb(i)]},yfe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vfe;var e=bfe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},wfe=wP(),nd="data-scroll-locked",jfe=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(nfe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(nd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Bm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fm," .").concat(Fm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Bm," .").concat(Bm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(nd,`] {
    `).concat(ife,": ").concat(l,`px;
  }
`)},MS=function(){var t=parseInt(document.body.getAttribute(nd)||"0",10);return isFinite(t)?t:0},Nfe=function(){k.useEffect(function(){return document.body.setAttribute(nd,(MS()+1).toString()),function(){var t=MS()-1;t<=0?document.body.removeAttribute(nd):document.body.setAttribute(nd,t.toString())}},[])},_fe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Nfe();var s=k.useMemo(function(){return yfe(i)},[i]);return k.createElement(wfe,{styles:jfe(s,!e,i,r?"":"!important")})},R2=!1;if(typeof window<"u")try{var sm=Object.defineProperty({},"passive",{get:function(){return R2=!0,!0}});window.addEventListener("test",sm,sm),window.removeEventListener("test",sm,sm)}catch{R2=!1}var Au=R2?{passive:!1}:!1,Sfe=function(t){return t.tagName==="TEXTAREA"},jP=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Sfe(t)&&r[e]==="visible")},Afe=function(t){return jP(t,"overflowY")},Cfe=function(t){return jP(t,"overflowX")},LS=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=NP(t,n);if(i){var s=_P(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Efe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Ofe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},NP=function(t,e){return t==="v"?Afe(e):Cfe(e)},_P=function(t,e){return t==="v"?Efe(e):Ofe(e)},Pfe=function(t,e){return t==="h"&&e==="rtl"?-1:1},kfe=function(t,e,r,n,i){var s=Pfe(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var p=_P(t,l),m=p[0],x=p[1],g=p[2],b=x-g-s*m;(m||b)&&NP(t,l)&&(h+=b,f+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},om=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RS=function(t){return[t.deltaX,t.deltaY]},FS=function(t){return t&&"current"in t?t.current:t},Tfe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ife=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Dfe=0,Cu=[];function Mfe(t){var e=k.useRef([]),r=k.useRef([0,0]),n=k.useRef(),i=k.useState(Dfe++)[0],s=k.useState(wP)[0],o=k.useRef(t);k.useEffect(function(){o.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=rfe([t.lockRef.current],(t.shards||[]).map(FS),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=k.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var b=om(x),y=r.current,w="deltaX"in x?x.deltaX:y[0]-b[0],j="deltaY"in x?x.deltaY:y[1]-b[1],_,S=x.target,A=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in x&&A==="h"&&S.type==="range")return!1;var O=LS(A,S);if(!O)return!0;if(O?_=A:(_=A==="v"?"h":"v",O=LS(A,S)),!O)return!1;if(!n.current&&"changedTouches"in x&&(w||j)&&(n.current=_),!_)return!0;var M=n.current||_;return kfe(M,g,x,M==="h"?w:j,!0)},[]),c=k.useCallback(function(x){var g=x;if(!(!Cu.length||Cu[Cu.length-1]!==s)){var b="deltaY"in g?RS(g):om(g),y=e.current.filter(function(_){return _.name===g.type&&(_.target===g.target||g.target===_.shadowParent)&&Tfe(_.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(FS).filter(Boolean).filter(function(_){return _.contains(g.target)}),j=w.length>0?l(g,w[0]):!o.current.noIsolation;j&&g.cancelable&&g.preventDefault()}}},[]),u=k.useCallback(function(x,g,b,y){var w={name:x,delta:g,target:b,should:y,shadowParent:Lfe(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(j){return j!==w})},1)},[]),d=k.useCallback(function(x){r.current=om(x),n.current=void 0},[]),h=k.useCallback(function(x){u(x.type,RS(x),x.target,l(x,t.lockRef.current))},[]),f=k.useCallback(function(x){u(x.type,om(x),x.target,l(x,t.lockRef.current))},[]);k.useEffect(function(){return Cu.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Au),document.addEventListener("touchmove",c,Au),document.addEventListener("touchstart",d,Au),function(){Cu=Cu.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Au),document.removeEventListener("touchmove",c,Au),document.removeEventListener("touchstart",d,Au)}},[]);var p=t.removeScrollBar,m=t.inert;return k.createElement(k.Fragment,null,m?k.createElement(s,{styles:Ife(i)}):null,p?k.createElement(_fe,{gapMode:t.gapMode}):null)}function Lfe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Rfe=dfe(yP,Mfe);var SP=k.forwardRef(function(t,e){return k.createElement(p1,Ss({},t,{ref:e,sideCar:Rfe}))});SP.classNames=p1.classNames;var Ffe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Eu=new WeakMap,lm=new WeakMap,cm={},xb=0,AP=function(t){return t&&(t.host||AP(t.parentNode))},Bfe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=AP(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},$fe=function(t,e,r,n){var i=Bfe(e,Array.isArray(t)?t:[t]);cm[r]||(cm[r]=new WeakMap);var s=cm[r],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(n),m=p!==null&&p!=="false",x=(Eu.get(f)||0)+1,g=(s.get(f)||0)+1;Eu.set(f,x),s.set(f,g),o.push(f),x===1&&m&&lm.set(f,!0),g===1&&f.setAttribute(r,"true"),m||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(e),l.clear(),xb++,function(){o.forEach(function(h){var f=Eu.get(h)-1,p=s.get(h)-1;Eu.set(h,f),s.set(h,p),f||(lm.has(h)||h.removeAttribute(n),lm.delete(h)),p||h.removeAttribute(r)}),xb--,xb||(Eu=new WeakMap,Eu=new WeakMap,lm=new WeakMap,cm={})}},zfe=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Ffe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),$fe(n,i,r,"aria-hidden")):function(){return null}},z5="Dialog",[CP,EP]=uP(z5),[Ufe,ss]=CP(z5),OP=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=k.useRef(null),c=k.useRef(null),[u=!1,d]=Ohe({prop:n,defaultProp:i,onChange:s});return a.jsx(Ufe,{scope:e,triggerRef:l,contentRef:c,contentId:cb(),titleId:cb(),descriptionId:cb(),open:u,onOpenChange:d,onOpenToggle:k.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};OP.displayName=z5;var PP="DialogTrigger",kP=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(PP,r),s=Co(e,i.triggerRef);return a.jsx(Eo.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":H5(i.open),...n,ref:s,onClick:bo(t.onClick,i.onOpenToggle)})});kP.displayName=PP;var U5="DialogPortal",[qfe,TP]=CP(U5,{forceMount:void 0}),IP=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=ss(U5,e);return a.jsx(qfe,{scope:e,forceMount:r,children:k.Children.map(n,o=>a.jsx(f1,{present:r||s.open,children:a.jsx(gP,{asChild:!0,container:i,children:o})}))})};IP.displayName=U5;var tg="DialogOverlay",DP=k.forwardRef((t,e)=>{const r=TP(tg,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=ss(tg,t.__scopeDialog);return s.modal?a.jsx(f1,{present:n||s.open,children:a.jsx(Hfe,{...i,ref:e})}):null});DP.displayName=tg;var Hfe=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(tg,r);return a.jsx(SP,{as:$5,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Eo.div,{"data-state":H5(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Oc="DialogContent",MP=k.forwardRef((t,e)=>{const r=TP(Oc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=ss(Oc,t.__scopeDialog);return a.jsx(f1,{present:n||s.open,children:s.modal?a.jsx(Wfe,{...i,ref:e}):a.jsx(Vfe,{...i,ref:e})})});MP.displayName=Oc;var Wfe=k.forwardRef((t,e)=>{const r=ss(Oc,t.__scopeDialog),n=k.useRef(null),i=Co(e,r.contentRef,n);return k.useEffect(()=>{const s=n.current;if(s)return zfe(s)},[]),a.jsx(LP,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bo(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:bo(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:bo(t.onFocusOutside,s=>s.preventDefault())})}),Vfe=k.forwardRef((t,e)=>{const r=ss(Oc,t.__scopeDialog),n=k.useRef(!1),i=k.useRef(!1);return a.jsx(LP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),LP=k.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=ss(Oc,r),c=k.useRef(null),u=Co(e,c);return tfe(),a.jsxs(a.Fragment,{children:[a.jsx(mP,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(fP,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":H5(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Xfe,{titleId:l.titleId}),a.jsx(Kfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),q5="DialogTitle",RP=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(q5,r);return a.jsx(Eo.h2,{id:i.titleId,...n,ref:e})});RP.displayName=q5;var FP="DialogDescription",BP=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(FP,r);return a.jsx(Eo.p,{id:i.descriptionId,...n,ref:e})});BP.displayName=FP;var $P="DialogClose",zP=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss($P,r);return a.jsx(Eo.button,{type:"button",...n,ref:e,onClick:bo(t.onClick,()=>i.onOpenChange(!1))})});zP.displayName=$P;function H5(t){return t?"open":"closed"}var UP="DialogTitleWarning",[Gfe,qP]=She(UP,{contentName:Oc,titleName:q5,docsSlug:"dialog"}),Xfe=({titleId:t})=>{const e=qP(UP),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Yfe="DialogDescriptionWarning",Kfe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qP(Yfe).contentName}}.`;return k.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},W5=OP,Jfe=kP,V5=IP,$0=DP,z0=MP,U0=RP,q0=BP,m1=zP;const HP=W5,Qfe=V5,WP=k.forwardRef(({className:t,...e},r)=>a.jsx($0,{ref:r,className:`fixed inset-0 z-50 bg-black/80 backdrop-blur-sm ${t||""}`,...e}));WP.displayName=$0.displayName;const G5=k.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Qfe,{children:[a.jsx(WP,{}),a.jsxs(z0,{ref:n,className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-background/95 p-6 shadow-lg duration-200 sm:rounded-lg md:w-full ${t||""}`,...r,children:[e,a.jsxs(m1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(yt,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));G5.displayName=z0.displayName;const X5=({className:t,...e})=>a.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${t||""}`,...e});X5.displayName="DialogHeader";const VP=({className:t,...e})=>a.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${t||""}`,...e});VP.displayName="DialogFooter";const Y5=k.forwardRef(({className:t,...e},r)=>a.jsx(U0,{ref:r,className:`text-lg font-semibold leading-none tracking-tight ${t||""}`,...e}));Y5.displayName=U0.displayName;const GP=k.forwardRef(({className:t,...e},r)=>a.jsx(q0,{ref:r,className:`text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] ${t||""}`,...e}));GP.displayName=q0.displayName;const BS=[{id:"M001",name:"Moules de Méditerranée",type:"moules",price:4.5,unit:"kg",minOrder:100,description:"Moules de Méditerranée, chair généreuse et iodée",origin:"Méditerranée",calibre:"40/50",conservation:"5 jours",certification:["Label Rouge","Pêche durable"]},{id:"P001",name:"Palourdes de l'étang de Thau",type:"palourdes",price:12.9,unit:"kg",minOrder:50,description:"Palourdes sauvages de l'étang de Thau, qualité exceptionnelle",origin:"Étang de Thau",calibre:"20/30",conservation:"7 jours",certification:["IGP Thau"]}],Zfe=[{id:"CDB",name:"CDB - Coquillages De Bretagne",address:"12 Quai des Marées, 56000 Vannes",contact:"02.97.54.32.10",preferredProducts:["Moules","Palourdes"],lastDelivery:"2025-02-24",reliability:97,status:"active"},{id:"1",name:"Fournisseur A",address:"123 Rue de la Mer",contact:"0123456789",preferredProducts:["Huîtres","Palourdes"],lastDelivery:"2025-02-20",reliability:98,status:"active"}];function e0e(){const[t,e]=k.useState(null),[r,n]=k.useState(0),[i,s]=k.useState(null),[o,l]=k.useState(null),[c,u]=k.useState(!1),[d,h]=k.useState(0),[f,p]=k.useState({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),m=j=>{const _=parseInt(j,10);!isNaN(_)&&_>=0&&n(_)},x=()=>t&&r?(t.price*r).toFixed(2):"0.00",g=j=>{switch(j){case"moules":return a.jsx(Dr,{className:"w-4 h-4"});case"palourdes":return a.jsx(NC,{className:"w-4 h-4"});default:return a.jsx(tn,{className:"w-4 h-4"})}},b=()=>{console.log("Commande confirmée:",{product:t==null?void 0:t.name,quantity:r,total:x()}),e(null),n(0)},y=j=>{var S;const _=(S=j.target.files)==null?void 0:S[0];_&&p(A=>({...A,invoice:_}))},w=j=>{j.preventDefault(),console.log("Nouveau achat:",{...f,rating:d}),u(!1),p({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),h(0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configuration des achats"}),a.jsxs(xr,{onClick:()=>u(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-brand-blue/90 text-white",children:[a.jsx(Mt,{className:"w-4 h-4"}),"Nouvel achat"]})]}),a.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:Zfe.map(j=>a.jsxs(hc,{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),a.jsx("div",{className:"relative p-4",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Of,{className:"w-5 h-5 text-brand-burgundy"}),a.jsx("h3",{className:"text-base font-medium text-white",children:j.name})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm text-white/60",children:j.address}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[a.jsx(Hi,{className:"w-4 h-4"}),j.contact]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-green-500/20 text-green-500 rounded-lg",children:["Fiabilité ",j.reliability,"%"]}),a.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-blue-500/20 text-blue-500 rounded-lg",children:["Dernière livraison : ",j.lastDelivery]})]})]})})})]},j.id))}),o==="CDB"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Catalogue CDB"}),a.jsx("p",{className:"text-sm text-white/60",children:"Sélectionnez vos produits et passez commande"})]}),a.jsxs(xr,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(Mt,{className:"w-4 h-4"}),"Nouveau produit"]})]}),a.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:BS.map(j=>a.jsxs(hc,{className:`relative overflow-hidden cursor-pointer transition-all duration-200 ${(t==null?void 0:t.id)===j.id?"ring-2 ring-brand-burgundy ring-offset-2 ring-offset-black":"hover:bg-white/5"}`,onClick:()=>e(j),children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),a.jsxs("div",{className:"relative p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-base font-medium text-white",children:j.name}),a.jsx("p",{className:"text-sm text-white/60",children:j.description})]}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-brand-burgundy/20 rounded-lg",children:[g(j.type),a.jsx("span",{className:"text-xs font-medium text-brand-burgundy",children:j.type})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sd,{className:"w-4 h-4 text-white/40"}),a.jsx("span",{className:"text-sm text-white",children:j.origin})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tm,{className:"w-4 h-4 text-white/40"}),a.jsxs("span",{className:"text-sm text-white",children:[j.price,"€/",j.unit]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fg,{className:"w-4 h-4 text-white/40"}),a.jsxs("span",{className:"text-sm text-white",children:["Min. ",j.minOrder,j.unit]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(YI,{className:"w-4 h-4 text-white/40"}),a.jsx("span",{className:"text-sm text-white",children:j.calibre})]})]}),j.certification&&a.jsx("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:j.certification.map((_,S)=>a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-lg",children:_},S))})]})]},j.id))})]}),t&&a.jsxs(hc,{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),a.jsx("div",{className:"relative p-4",children:a.jsx("div",{className:"flex items-start gap-4",children:a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-base font-medium text-white",children:["Commander ",t.name]}),a.jsx(xr,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",onClick:()=>s(t.id),children:a.jsx(kf,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm text-white/60",children:["Quantité (",t.unit,")"]}),a.jsx(wt,{type:"number",value:r,onChange:j=>m(j.target.value),min:0,className:"bg-white/5 border-white/10"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-white/60",children:"Total estimé"}),a.jsx("div",{className:"h-9 px-3 flex items-center bg-white/5 rounded-md border border-white/10",children:a.jsxs("span",{className:"text-white font-medium",children:[x(),"€"]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[a.jsxs("p",{className:"text-sm text-white/60",children:["Minimum de commande : ",t.minOrder,t.unit]}),a.jsx(xr,{variant:"default",size:"sm",disabled:r<t.minOrder,className:"bg-brand-burgundy hover:bg-brand-burgundy/90",onClick:b,children:"Confirmer la commande"})]})]})})})]}),i&&a.jsx(HP,{open:!!i,children:a.jsxs(G5,{children:[a.jsx(X5,{children:a.jsx(Y5,{children:"Détails du produit"})}),(()=>{var _;const j=BS.find(S=>S.id===i);return j?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white/5 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-brand-burgundy/20 rounded-lg",children:g(j.type)}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:j.name}),a.jsx("p",{className:"text-sm text-white/60",children:j.description})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-white mb-2",children:"Caractéristiques"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Calibre"}),a.jsx("span",{className:"text-sm text-white",children:j.calibre})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Conservation"}),a.jsx("span",{className:"text-sm text-white",children:j.conservation})]})]})]}),a.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-white mb-2",children:"Certifications"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(_=j.certification)==null?void 0:_.map((S,A)=>a.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 rounded-lg text-sm",children:S},A))})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(xr,{variant:"outline",onClick:()=>s(null),children:"Fermer"})})]}):null})()]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:a.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:a.jsx(yt,{className:"text-white/60",size:20})})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),a.jsx(wt,{type:"text",value:f.supplier,onChange:j=>p(_=>({..._,supplier:j.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du produit"}),a.jsx(wt,{type:"text",value:f.product,onChange:j=>p(_=>({..._,product:j.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),a.jsx(wt,{type:"date",value:f.expiryDate,onChange:j=>p(_=>({..._,expiryDate:j.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Lieu de stockage"}),a.jsxs("select",{value:f.storageLocation,onChange:j=>p(_=>({..._,storageLocation:j.target.value})),className:"w-full px-3 py-2 rounded-md bg-brand-dark/80 border border-brand-blue/30 text-white focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner un lieu de stockage"}),a.jsx("option",{value:"Frigo 1",children:"Frigo 1"}),a.jsx("option",{value:"Frigo 2",children:"Frigo 2"}),a.jsx("option",{value:"Congélateur 1",children:"Congélateur 1"}),a.jsx("option",{value:"Congélateur 2",children:"Congélateur 2"}),a.jsx("option",{value:"Remise",children:"Remise"}),a.jsx("option",{value:"Cave",children:"Cave"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation du produit"}),a.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(j=>a.jsx("button",{type:"button",onClick:()=>h(j),className:"focus:outline-none",children:a.jsx(Wi,{size:24,className:j<=d?"text-yellow-400 fill-yellow-400":"text-white/20"})},j))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[a.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:y,className:"hidden"}),a.jsx(Ls,{className:"w-5 h-5 text-white/60 mr-2"}),a.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),a.jsxs(xr,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[a.jsx(Rd,{className:"w-4 h-4"}),"Photo"]}),a.jsxs(xr,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[a.jsx(KI,{className:"w-4 h-4"}),"Scanner"]})]}),f.invoice&&a.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",f.invoice.name]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(xr,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Annuler"}),a.jsx(xr,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function t0e({isOpen:t,onClose:e}){const{register:r,handleSubmit:n,formState:{errors:i},setValue:s,watch:o}=rh({defaultValues:{rating:0,quantity:1,unitPrice:0}}),[l,c]=k.useState(null),u=o("rating"),d=p=>{console.log(p),e()},h=p=>{var x;const m=(x=p.target.files)==null?void 0:x[0];if(m){const g=new FileReader;g.onloadend=()=>{c(g.result)},g.readAsDataURL(m)}},f=p=>{s("rating",p)};return a.jsx(mi,{isOpen:t,onClose:e,title:"Nouvel achat",size:"lg",children:a.jsxs("form",{onSubmit:n(d),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),a.jsx("input",{...r("productName",{required:"Le nom du produit est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.productName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.productName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),a.jsx("input",{...r("supplierName",{required:"Le nom du fournisseur est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.supplierName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.supplierName.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"DLC"}),a.jsx("input",{type:"date",...r("expiryDate",{required:"La DLC est requise"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.expiryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.expiryDate.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),a.jsx("input",{...r("storageLocation",{required:"Le lieu de stockage est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.storageLocation&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.storageLocation.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Quantité"}),a.jsx("input",{type:"number",min:"1",...r("quantity",{required:"La quantité est requise",min:{value:1,message:"La quantité doit être supérieure à 0"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.quantity&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.quantity.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix unitaire (€)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",...r("unitPrice",{required:"Le prix unitaire est requis",min:{value:0,message:"Le prix doit être positif"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.unitPrice&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.unitPrice.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Note de qualité"}),a.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(p=>a.jsx("button",{type:"button",onClick:()=>f(p),className:"focus:outline-none",children:a.jsx(Wi,{size:24,className:`${p<=u?"text-yellow-400 fill-current":"text-white/20"} transition-colors`})},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes / Commentaires"}),a.jsx("textarea",{...r("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez des notes ou commentaires sur l'achat..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),a.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:l?a.jsxs("div",{className:"w-full space-y-3",children:[a.jsx("img",{src:l,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>c(null),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):a.jsxs("div",{className:"w-full space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[a.jsx(Ls,{size:20,className:"mr-2"}),a.jsx("span",{children:"Choisir un fichier"}),a.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:h})]})}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[a.jsx(Rd,{size:20,className:"mr-2"}),a.jsx("span",{children:"Prendre une photo"})]})})]})}),a.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Traçabilité et Comptabilité"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})})}const r0e=()=>{var ue,Se,je;const[t,e]=k.useState("tables"),[r,n]=k.useState(""),[i,s]=k.useState(null),[o,l]=k.useState(null),[c,u]=k.useState(!1),[d,h]=k.useState(!1),[f,p]=k.useState(!1),[m,x]=k.useState(null),[g,b]=k.useState(!1),[y,w]=k.useState(!1),[j,_]=k.useState(null),[S,A]=k.useState(""),[O,M]=k.useState({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),[B,T]=k.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]}),E=ne.useRef(null),R=me=>{const Le=Math.floor(Math.random()*1e4);return`${me}-${Le.toString().padStart(5,"0")}`},F=()=>{if(!m||!O.name||!O.quantity)return;let me="";m.includes("Frigo")?me="F":m.includes("Congélateur")?me="C":m==="Remise"?me="R":m==="Cave"&&(me="CA");const Le={id:R(me),name:O.name,quantity:`${O.quantity}${O.unit==="unités"?" unités":O.unit==="bouteilles"?" bouteilles":O.unit}`,arrivalDate:O.arrivalDate,expiryDate:O.expiryDate===""?"N/A":O.expiryDate};T({...B,[m]:[...B[m],Le]}),M({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),b(!1)},W=(me,Le)=>{_({id:Le.id,name:Le.name,quantity:Le.quantity});const qe=Le.quantity.match(/^(\d+(?:\.\d+)?)/);qe&&qe[1]?A(qe[1]):A(""),w(!0)},$=me=>{const Le=me.match(/[a-zA-Z]+|unités|bouteilles/);return Le?Le[0]:""},z=me=>{const Le=me.match(/^(\d+(?:\.\d+)?)/);return Le?parseFloat(Le[1]):0},X=()=>{if(!m||!j)return;const me=z(j.quantity),Le=parseFloat(S),qe=$(j.quantity),Ke=[...B[m]],it=Ke.findIndex(jt=>jt.id===j.id);if(it!==-1){if(Le>=me){const jt=Ke.filter(dt=>dt.id!==j.id);T({...B,[m]:jt}),console.log(`Produit ${j.id} entièrement retiré de ${m}`)}else{const jt={...Ke[it],quantity:`${(me-Le).toFixed(2).replace(/\.00$/,"")}${qe}`};Ke[it]=jt,T({...B,[m]:Ke}),console.log(`${S}${qe} de ${j.name} retiré de ${m}`)}w(!1),_(null),A("")}},{handlers:Y,isRefreshing:oe}=$L(async()=>{await new Promise(me=>setTimeout(me,1e3))}),fe=()=>{switch(t){case"tables":return"Tables";case"trempe":return"Tables de trempe";case"pools":return"Bassins";case"autres":return"Autres emplacements";case"achats":return"Achats";case"charges":return"Charges";default:return""}},[D,I]=k.useState(!1),{register:U,handleSubmit:J,formState:{errors:Q}}=rh({defaultValues:{chargeName:"",amount:0,description:"",invoice:null}}),[de,xe]=k.useState(null),le=me=>{console.log(me),I(!1)},_e=me=>{var qe;const Le=(qe=me.target.files)==null?void 0:qe[0];if(Le){const Ke=new FileReader;Ke.onloadend=()=>{xe(Ke.result)},Ke.readAsDataURL(Le)}},Oe=()=>{xe(null)};k.useState(!1);const ae=[{id:"CH-001",name:"Carburant voiture",amount:50,date:"2025-03-01"},{id:"CH-002",name:"Carburant bateau",amount:75,date:"2025-03-03"},{id:"CH-003",name:"Réparation équipement",amount:200,date:"2025-03-05"}],[Pe,De]=k.useState(!1),[he,te]=k.useState(null),[Ue,ee]=k.useState(!1),re=me=>{te(me),ee(!0)};return a.jsxs("div",{ref:E,className:"p-6 space-y-6",...Y,children:[a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:a.jsx(JI,{size:28,className:"text-white"})})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Inventaire"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:fe()}),a.jsx("div",{className:"flex items-center space-x-3"})]}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>e("tables"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="tables"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(tn,{size:16,className:"mr-2"}),"Tables"]})}),a.jsx("button",{onClick:()=>e("trempe"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="trempe"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qn,{size:16,className:"mr-2"}),"Tables de trempe"]})}),a.jsx("button",{onClick:()=>e("pools"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="pools"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qn,{size:16,className:"mr-2"}),"Bassins"]})}),a.jsx("button",{onClick:()=>e("autres"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="autres"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ju,{size:16,className:"mr-2"}),"Autres emplacements"]})}),a.jsx("button",{onClick:()=>e("achats"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="achats"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(y0,{size:16,className:"mr-2"}),"Achats"]})}),a.jsx("button",{onClick:()=>e("charges"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="charges"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pf,{size:16,className:"mr-2"}),"Charges"]})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(fn,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"24%"},"aria-label":"Search icon"}),a.jsx("input",{type:"text",value:r,onChange:me=>n(me.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(pi,{size:20,className:"mr-2"}),"Filtres"]})]}),t==="tables"&&a.jsx(Yue,{onTableSelect:s,onTableHover:l,hoveredTable:o,selectedTable:i}),t==="trempe"&&a.jsx(ode,{onTableSelect:me=>{},onTableHover:me=>{},onTableUpdate:me=>{}}),t==="pools"&&a.jsx(Zue,{}),t==="autres"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Lieux de stockage alternatifs"}),a.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Mt,{size:18,className:"mr-2"}),"Ajouter lieu de stockage"]})]}),a.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Frigo 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:a.jsx(Qn,{size:18,className:"text-blue-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),a.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"500 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"65%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Frigo 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:a.jsx(Qn,{size:18,className:"text-blue-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),a.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"300 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"30%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Congélateur 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:a.jsx(Im,{size:18,className:"text-cyan-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),a.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"200 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"85%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Congélateur 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:a.jsx(Im,{size:18,className:"text-cyan-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),a.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"150 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"40%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Remise"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:a.jsx(tn,{size:18,className:"text-amber-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),a.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"1000 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"55%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Cave"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:a.jsx(Ju,{size:18,className:"text-purple-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),a.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"800 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"25%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})})]}),t==="achats"&&a.jsx(e0e,{}),i&&a.jsx(ude,{table:i,onClose:()=>s(null)}),c&&t!=="achats"&&a.jsx(Ide,{isOpen:c,onClose:()=>u(!1)}),c&&t==="achats"&&a.jsx(t0e,{isOpen:c,onClose:()=>u(!1)}),d&&a.jsx(Rde,{isOpen:d,onClose:()=>h(!1)}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${m.includes("Frigo")?"bg-blue-500/20":m.includes("Congélateur")?"bg-cyan-500/20":m==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:m.includes("Frigo")?a.jsx(Qn,{size:20,className:"text-blue-400"}):m.includes("Congélateur")?a.jsx(Im,{size:20,className:"text-cyan-400"}):m==="Remise"?a.jsx(tn,{size:20,className:"text-amber-400"}):a.jsx(Ju,{size:20,className:"text-purple-400"})}),a.jsx("h3",{className:"text-xl font-bold text-white",children:m})]}),a.jsx("button",{onClick:()=>x(null),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-white/70",children:[(ue=B[m])==null?void 0:ue.length," produits stockés"]})}),a.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors flex items-center gap-2",children:[a.jsx(Mt,{size:16}),"Ajouter un produit"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[a.jsx("div",{children:"Produit"}),a.jsx("div",{children:"Quantité"}),a.jsx("div",{children:"Date d'arrivée"}),a.jsx("div",{children:"DLC"}),a.jsx("div",{className:"text-right",children:"Actions"})]}),((Se=B[m])==null?void 0:Se.length)>0?(je=B[m])==null?void 0:je.map(me=>a.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[a.jsx("div",{className:"font-medium",children:me.name}),a.jsx("div",{children:me.quantity}),a.jsx("div",{children:me.arrivalDate}),a.jsx("div",{children:me.expiryDate==="N/A"?a.jsx("span",{className:"text-white/50",children:"N/A"}):a.jsx("span",{className:`${new Date(me.expiryDate)<new Date?"text-red-400":new Date(me.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:me.expiryDate})}),a.jsx("div",{className:"flex items-center justify-end gap-2",children:a.jsx("button",{onClick:Le=>{Le.stopPropagation(),W(m,me)},className:"px-3 py-1 bg-brand-burgundy/80 hover:bg-brand-burgundy text-white text-xs rounded-lg transition-colors",children:"Sortir"})})]},me.id)):a.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})}),g&&m&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white",children:["Ajouter un produit - ",m]}),a.jsx("button",{onClick:()=>b(!1),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("form",{onSubmit:me=>{me.preventDefault(),F()},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Nom du produit"}),a.jsx("input",{type:"text",value:O.name,onChange:me=>M({...O,name:me.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: Huîtres Fines de Claire"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité"}),a.jsx("input",{type:"text",value:O.quantity,onChange:me=>M({...O,quantity:me.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: 50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Unité"}),a.jsxs("select",{value:O.unit,onChange:me=>M({...O,unit:me.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"g",children:"g"}),a.jsx("option",{value:"tonnes",children:"tonnes"}),a.jsx("option",{value:"unités",children:"unités"}),a.jsx("option",{value:"bouteilles",children:"bouteilles"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'arrivée"}),a.jsx("input",{type:"date",value:O.arrivalDate,onChange:me=>M({...O,arrivalDate:me.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'expiration (DLC)"}),a.jsx("input",{type:"date",value:O.expiryDate,onChange:me=>M({...O,expiryDate:me.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"}),a.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Laissez vide si non applicable"})]}),a.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[a.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter"})]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Nouveau lieu de stockage"}),a.jsx("button",{onClick:()=>p(!1),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),a.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Entrepôt principal"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type de stockage"}),a.jsxs("select",{className:"w-full p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[a.jsx("option",{value:"",children:"Sélectionner un type"}),a.jsx("option",{value:"frigo",children:"Frigo"}),a.jsx("option",{value:"congelateur",children:"Congélateur"}),a.jsx("option",{value:"remise",children:"Remise"}),a.jsx("option",{value:"other",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Capacité (estimée)"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: 1000"}),a.jsxs("select",{className:"p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"tonnes",children:"tonnes"}),a.jsx("option",{value:"units",children:"unités"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"w-full py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})]})}),y&&j&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Sortir un produit"}),a.jsx("button",{onClick:()=>{w(!1),_(null)},className:"text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-white text-lg mb-2",children:j.name}),a.jsxs("p",{className:"text-white/70",children:["Quantité disponible: ",j.quantity]})]}),a.jsxs("form",{onSubmit:me=>{me.preventDefault(),X()},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité à sortir"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"number",min:"0.01",step:"0.01",max:z(j.quantity),value:S,onChange:me=>A(me.target.value),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-l-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Quantité"}),a.jsx("span",{className:"bg-white/10 text-white px-4 py-3 rounded-r-lg border-t border-r border-b border-brand-blue/30",children:$(j.quantity)})]})]}),a.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[a.jsx("button",{type:"button",onClick:()=>{w(!1),_(null)},className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Confirmer"})]})]})]})}),t==="charges"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Charges"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Pf,{size:18,className:"mr-2"}),"Nouvelle Charge"]}),a.jsxs("button",{onClick:()=>De(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(bl,{size:18,className:"mr-2"}),"Calendrier"]})]})]}),a.jsxs("div",{className:"space-y-4 mt-6",children:[a.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:a.jsx(ks,{className:"text-brand-blue",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Carburant voiture"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-01"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("p",{className:"text-white font-medium",children:"50 €"}),a.jsx("button",{onClick:()=>re(ae[0]),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(mo,{size:20})})]})]}),a.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:a.jsx(ks,{className:"text-brand-blue",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Carburant bateau"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-03"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("p",{className:"text-white font-medium",children:"75 €"}),a.jsx("button",{onClick:()=>re(ae[1]),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(mo,{size:20})})]})]}),a.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:a.jsx(ks,{className:"text-brand-blue",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Réparation équipement"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-05"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("p",{className:"text-white font-medium",children:"200 €"}),a.jsx("button",{onClick:()=>re(ae[2]),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(mo,{size:20})})]})]})]}),D&&a.jsx(mi,{isOpen:D,onClose:()=>I(!1),title:"Nouvelle Charge",size:"lg",children:a.jsxs("form",{onSubmit:J(le),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la charge"}),a.jsx("input",{...U("chargeName",{required:"Le nom de la charge est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),Q.chargeName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:Q.chargeName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Montant (€)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",...U("amount",{required:"Le montant est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),Q.amount&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:Q.amount.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{...U("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez une description..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),a.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:de?a.jsxs("div",{className:"w-full space-y-3",children:[a.jsx("img",{src:de,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),a.jsx("button",{type:"button",onClick:Oe,className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):a.jsxs("div",{className:"w-full space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[a.jsx(Ls,{size:20,className:"mr-2"}),a.jsx("span",{children:"Choisir un fichier"}),a.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:_e})]})}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[a.jsx(Rd,{size:20,className:"mr-2"}),a.jsx("span",{children:"Prendre une photo"})]})})]})}),a.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Comptabilité"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})}),Pe&&a.jsx(mi,{isOpen:Pe,onClose:()=>De(!1),title:"Calendrier",size:"lg",children:a.jsx("div",{className:"p-4",children:a.jsx("p",{className:"text-white",children:"Ici, vous pouvez intégrer un composant de calendrier."})})})]}),Ue&&he&&a.jsx(mi,{isOpen:Ue,onClose:()=>ee(!1),title:"Détails de la facture",size:"lg",children:a.jsx("div",{className:"p-4",children:a.jsxs("p",{className:"text-white",children:["Détails de la facture pour ",he.name]})})}),oe&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white/5 rounded-full p-4",children:a.jsx("div",{className:"w-8 h-8 border-2 border-brand-primary border-t-transparent rounded-full animate-spin"})})})]})},n0e=[{id:"1",name:"Frigo 1",type:"frigo",capacity:500,occupation:65,icon:"droplets"},{id:"2",name:"Frigo 2",type:"frigo",capacity:300,occupation:30,icon:"droplets"},{id:"3",name:"Congélateur 1",type:"congélateur",capacity:200,occupation:85,icon:"thermometer"},{id:"4",name:"Congélateur 2",type:"congélateur",capacity:150,occupation:40,icon:"thermometer"},{id:"5",name:"Remise",type:"remise",capacity:1e3,occupation:55,icon:"package"},{id:"6",name:"Cave",type:"remise",capacity:800,occupation:25,icon:"map"}],i0e=(t,e)=>{switch(t){case"droplets":return a.jsx(Qn,{className:e});case"thermometer":return a.jsx(Im,{className:e});case"package":return a.jsx(tn,{className:e});case"map":return a.jsx(Ju,{className:e})}},a0e=t=>{switch(t){case"frigo":return"blue";case"congélateur":return"cyan";case"remise":return t==="remise"?"amber":"purple";default:return"blue"}},s0e=()=>{const[t,e]=k.useState(null);return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n0e.map(r=>{const n=a0e(r.type);return a.jsxs("div",{className:"relative p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors cursor-pointer group",onClick:()=>e(r.id),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-md bg-${n}-500/20 flex items-center justify-center mr-3`,children:i0e(r.icon,`text-${n}-400`)}),a.jsx("h3",{className:"text-white font-medium",children:r.name})]}),a.jsx("div",{className:`bg-${n}-500/20 text-${n}-400 text-xs px-2 py-1 rounded-full`,children:r.type.charAt(0).toUpperCase()+r.type.slice(1)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsxs("span",{className:"text-white",children:[r.capacity," kg"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsxs("span",{className:"text-white",children:[r.occupation,"%"]})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:`bg-${n}-400 h-full rounded-full`,style:{width:`${r.occupation}%`}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]},r.id)})})},o0e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},l0e={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},c0e=[{id:"1",name:"Huîtres N°3",quantity:1e3,unit:"pièces",location:"Bassin A",lastUpdate:new Date},{id:"2",name:"Huîtres N°2",quantity:500,unit:"pièces",location:"Bassin B",lastUpdate:new Date},{id:"3",name:"Huîtres N°1",quantity:300,unit:"pièces",location:"Bassin C",lastUpdate:new Date}],u0e=()=>{const[t,e]=ne.useState(c0e),[r,n]=ne.useState(""),[i,s]=k.useState("current"),o=ha(),l=d=>{o(`/tables/${d}`)},c=d=>{s(d)},u=[{id:"current",label:"Stock actuel",icon:a.jsx(tn,{size:20,className:"text-cyan-400"}),count:3},{id:"movements",label:"Mouvements",icon:a.jsx(Wj,{size:20,className:"text-cyan-400"})},{id:"history",label:"Historique",icon:a.jsx(bl,{size:20,className:"text-cyan-400"})},{id:"analytics",label:"Statistiques",icon:a.jsx(Vj,{size:20,className:"text-cyan-400"})}];return k.useEffect(()=>{},[i]),a.jsxs("div",{className:"w-full p-6 min-h-screen animate-fadeIn",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion des Stocks"}),a.jsx("p",{className:"text-white/70 mt-2",children:"Gestion centralisée des stocks pour tous vos produits."})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex items-center",children:[a.jsx(fn,{className:"absolute left-3 text-white/50",size:18,"aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Rechercher un stock...",value:r,onChange:d=>n(d.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-auto min-w-[280px] rounded-lg bg-white/5 border border-white/10 focus:border-cyan-400/30 text-white shadow-[0_4px_10px_rgba(0,0,0,0.25)] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher un stock"}),a.jsx(pi,{className:"absolute right-3 text-white/50",size:18,"aria-hidden":"true"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un nouveau stock",children:[a.jsx(Mt,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Nouveau stock"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les stocks",children:[a.jsx(pi,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Filtres"})]})]}),a.jsx("div",{className:"relative mb-6 mt-4",children:a.jsx("div",{id:"stock-page-tabs",className:"w-full overflow-x-auto hide-scrollbar",children:a.jsx("div",{className:"flex gap-4",role:"tablist",style:{padding:"4px",borderRadius:"12px"},children:u.map(d=>a.jsxs("button",{onClick:()=>c(d.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",transition:"all 0.3s ease",minWidth:"44px",minHeight:"44px",backgroundColor:i===d.id?"rgba(6, 182, 212, 0.2)":"transparent",color:i===d.id?"#22d3ee":"rgba(255, 255, 255, 0.6)",boxShadow:i===d.id?"0 4px 10px rgba(0, 0, 0, 0.25), 0 0 15px rgba(0, 210, 200, 0.2)":"none",border:i===d.id?"1px solid rgba(6, 182, 212, 0.3)":"1px solid rgba(255, 255, 255, 0.1)"},className:`stockpage-tab ${i===d.id?"stockpage-tab-active":"stockpage-tab-inactive"}`,role:"tab","aria-selected":i===d.id,children:[d.icon,a.jsx("span",{children:d.label}),d.count!==void 0&&a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:i===d.id?"rgba(6, 182, 212, 0.3)":"rgba(255, 255, 255, 0.1)",borderRadius:"9999px",padding:"2px 8px",fontSize:"0.75rem",fontWeight:"bold"},children:d.count})]},d.id))})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",role:"tabpanel",id:`tab-panel-${i}`,"aria-labelledby":`tab-${i}`,children:[i==="current"&&a.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(tn,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Inventaire actuel"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'inventaire",children:[a.jsx(pi,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Exporter"})]})})]}),a.jsx(we.div,{initial:"hidden",animate:"visible",variants:o0e,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>a.jsxs(we.div,{variants:l0e,className:"glass p-4 rounded-lg border border-white/10 hover:border-white/20 transition-duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),a.jsx("span",{className:"text-white/60 text-sm",children:d.lastUpdate.toLocaleDateString()})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Quantité"}),a.jsxs("span",{className:"font-medium text-white",children:[d.quantity," ",d.unit]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Emplacement"}),a.jsx("span",{className:"font-medium text-white",children:d.location})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1.5 text-sm rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":`Voir les détails de ${d.name}`,children:"Voir détails"})})]},d.id))})]}),i==="movements"&&a.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(Wj,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Mouvements de stock"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Nouveau mouvement",children:[a.jsx(Mt,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Nouveau mouvement"})]})})]}),a.jsx("div",{className:"text-center py-10 text-white/60",children:'Aucun mouvement récent. Utilisez le bouton "Nouveau mouvement" pour en créer un.'})]}),i==="history"&&a.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(bl,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Historique des stocks"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'historique",children:[a.jsx(pi,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Exporter"})]})})]}),a.jsx("div",{className:"text-center py-10 text-white/60",children:"L'historique des mouvements de stock sera affiché ici."})]}),i==="analytics"&&a.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(Vj,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Statistiques des stocks"]})}),a.jsx("div",{className:"text-center py-10 text-white/60",children:"Les statistiques et graphiques de performance des stocks seront affichés ici."})]})]}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white/90",children:"Autres emplacements"}),a.jsx(s0e,{})]})]})};class m0 extends k.PureComponent{render(){const{series:e,height:r,showGrid:n,showLegend:i}=this.props;if(!e||e.length===0||!e[0].data)return a.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-white/5 rounded-lg border border-white/10",children:a.jsx("p",{className:"text-white/60",children:"Aucune donnée disponible"})});const s=e[0].data.map((o,l)=>{const c={name:o.name};return e.forEach(u=>{u.data[l]&&(c[u.name]=u.data[l].value)}),c});return a.jsx(lx,{width:"100%",height:r,children:a.jsxs(Pue,{data:s,children:[n&&a.jsx(k5,{strokeDasharray:"3 3",stroke:"rgb(var(--color-border) / 0.5)"}),a.jsx(eh,{dataKey:"name",stroke:"rgb(var(--color-text-secondary))",fontSize:12}),a.jsx(th,{stroke:"rgb(var(--color-text-secondary))",fontSize:12}),a.jsx(Sa,{contentStyle:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),i&&a.jsx(mc,{verticalAlign:"top",height:36,iconType:"circle",formatter:o=>a.jsx("span",{style:{color:"rgb(var(--color-text))"},children:o})}),e.map(o=>a.jsx(L0,{type:"monotone",dataKey:o.name,stroke:o.color,strokeWidth:2,dot:{fill:o.color,strokeWidth:0},activeDot:{r:6,strokeWidth:0}},o.name))]})})}}$j(m0,"defaultProps",{height:300,showGrid:!0,showLegend:!0});const d0e=[{id:"1",name:"À réception",days:0},{id:"2",name:"30 jours",days:30},{id:"3",name:"60 jours",days:60}],h0e=[{id:"1",name:"TVA 20%",rate:20,isDefault:!0},{id:"2",name:"TVA 10%",rate:10,isDefault:!1},{id:"3",name:"TVA 5.5%",rate:5.5,isDefault:!1}];function XP({type:t,initialData:e,onSubmit:r,onCancel:n}){const{register:i,control:s,handleSubmit:o,watch:l,setValue:c,formState:{errors:u}}=rh({defaultValues:{type:t,status:"draft",date:Bt(new Date,"yyyy-MM-dd"),items:(e==null?void 0:e.items)||[{description:"",quantity:1,unit_price:0,tax_rate:20}],...e}}),{fields:d,append:h,remove:f}=_de({control:s,name:"items"}),p=l("items"),m=()=>p.reduce((b,y)=>b+y.quantity*y.unit_price,0),x=()=>p.reduce((b,y)=>{const w=y.tax_rate||20;return b+y.quantity*y.unit_price*(w/100)},0),g=()=>m()+x();return a.jsxs("form",{onSubmit:o(r),className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:t==="sale"?"Nouvelle Facture":"Nouvelle Facture Fournisseur"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[a.jsx(Tc,{size:20,className:"mr-2"}),"Enregistrer"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:t==="sale"?"Client":"Fournisseur"}),a.jsx("select",{...i("customer_id"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:a.jsx("option",{value:"",children:"Sélectionner..."})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),a.jsx("input",{type:"date",...i("date"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Conditions de paiement"}),a.jsx("select",{...i("payment_terms"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:d0e.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Articles"}),a.jsxs("button",{type:"button",onClick:()=>h({description:"",quantity:1,unit_price:0,tax_rate:20}),className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Ajouter un article"]})]}),a.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-white/10",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white",children:"Description"}),a.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Quantité"}),a.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Prix unitaire"}),a.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"TVA"}),a.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Total HT"}),a.jsx("th",{className:"px-4 py-3 w-16"})]})}),a.jsx("tbody",{children:d.map((b,y)=>{var w,j;return a.jsxs("tr",{className:"border-b border-white/10",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{...i(`items.${y}.description`),className:"w-full px-3 py-1 bg-white/5 border border-white/10 rounded text-white",placeholder:"Description de l'article"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"number",...i(`items.${y}.quantity`),className:"w-24 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"1"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"number",step:"0.01",...i(`items.${y}.unit_price`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"0"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("select",{...i(`items.${y}.tax_rate`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white",children:h0e.map(_=>a.jsx("option",{value:_.rate,children:_.name},_.id))})}),a.jsxs("td",{className:"px-4 py-3 text-right text-white",children:[(((w=p[y])==null?void 0:w.quantity)*((j=p[y])==null?void 0:j.unit_price)).toFixed(2),"€"]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{type:"button",onClick:()=>f(y),className:"p-1 text-white/60 hover:text-white transition-colors",children:a.jsx(ri,{size:16})})})]},b.id)})})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-64 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Sous-total HT"}),a.jsxs("span",{className:"text-white",children:[m().toFixed(2),"€"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"TVA"}),a.jsxs("span",{className:"text-white",children:[x().toFixed(2),"€"]})]}),a.jsxs("div",{className:"flex justify-between text-base font-medium pt-2 border-t border-white/10",children:[a.jsx("span",{className:"text-white",children:"Total TTC"}),a.jsxs("span",{className:"text-white",children:[g().toFixed(2),"€"]})]})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes"}),a.jsx("textarea",{...i("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Notes ou conditions particulières..."})]})]})}const $S=[{month:"Jan",revenue:45e3,expenses:32e3},{month:"Fév",revenue:52e3,expenses:35e3},{month:"Mar",revenue:48e3,expenses:33e3},{month:"Avr",revenue:51e3,expenses:36e3},{month:"Mai",revenue:58e3,expenses:38e3},{month:"Juin",revenue:53e3,expenses:34e3}],zS=[{month:"Jan",inflow:55e3,outflow:42e3},{month:"Fév",inflow:62e3,outflow:45e3},{month:"Mar",inflow:58e3,outflow:43e3},{month:"Avr",inflow:61e3,outflow:46e3},{month:"Mai",inflow:68e3,outflow:48e3},{month:"Juin",inflow:63e3,outflow:44e3}],rg=(t,e)=>({data:t.map(r=>({name:r.month,value:r[e]}))}),f0e=[{name:"Revenus",color:"#22d3ee",...rg($S,"revenue")},{name:"Dépenses",color:"#fb7185",...rg($S,"expenses")}],p0e=[{name:"Entrées",color:"#22d3ee",...rg(zS,"inflow")},{name:"Sorties",color:"#fb7185",...rg(zS,"outflow")}];function m0e(){const[t,e]=k.useState(!0),[r,n]=k.useState(""),[i,s]=k.useState(!1);k.useState("month");const o=l=>{console.log("Creating invoice:",l),s(!1)};return a.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:a.jsx(Gj,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Comptabilité"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Mt,{size:20,"aria-hidden":"true"}),"Nouvelle Facture"]}),a.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(_C,{size:20,"aria-hidden":"true"}),"Statistiques"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(SC,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Chiffre d'affaires"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"58,000 €"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(QI,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Bénéfice net"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"12,500 €"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(Gj,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Dépenses"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"45,500 €"}),a.jsx("p",{className:"text-sm text-rose-400",children:"+5% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(ZI,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Trésorerie"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"25,800 €"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+3% ce mois"})]})]})})]}),t&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Revenus et Dépenses"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),a.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),a.jsx(m0,{series:f0e,height:300})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Flux de Trésorerie"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),a.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),a.jsx(m0,{series:p0e,height:300})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transactions récentes"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:20,className:"absolute left-3 -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),a.jsx("input",{type:"text",placeholder:"Rechercher...",className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",value:r,onChange:l=>n(l.target.value)})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(pi,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-white/60",children:[a.jsx("th",{className:"pb-4",children:"Date"}),a.jsx("th",{className:"pb-4",children:"Description"}),a.jsx("th",{className:"pb-4",children:"Type"}),a.jsx("th",{className:"pb-4 text-right",children:"Montant"}),a.jsx("th",{className:"pb-4",children:"Statut"})]})}),a.jsxs("tbody",{className:"text-white",children:[a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-4",children:"15/06/2023"}),a.jsx("td",{children:"Facture #2023-156"}),a.jsx("td",{children:"Vente"}),a.jsx("td",{className:"text-right text-cyan-400",children:"+3,500€"}),a.jsx("td",{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Payée"})})]}),a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-4",children:"14/06/2023"}),a.jsx("td",{children:"Fournitures bureau"}),a.jsx("td",{children:"Dépense"}),a.jsx("td",{className:"text-right text-red-400",children:"-250€"}),a.jsx("td",{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"Traitée"})})]})]})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1,transform:"translate3d(0px, 0px, 0px)"},className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Facture"}),a.jsx("button",{onClick:()=>s(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:a.jsx(yt,{size:24})})]}),a.jsx(XP,{type:"sale",onSubmit:o,onCancel:()=>s(!1)})]})})]})}const x0e=[{id:"1",type:"sale",number:"FACT-2025-001",date:"2025-02-20",due_date:"2025-03-20",customer_id:"1",customer:{id:"1",name:"Restaurant La Marée",email:"contact@lamaree.fr",address:"123 Avenue de la Mer, 17000 La Rochelle"},status:"sent",subtotal:1250,tax:250,total:1500,notes:"",items:[{id:"1",invoice_id:"1",description:"Huîtres Plates N°3",quantity:50,unit_price:25,tax_rate:20,total:1500}]},{id:"2",type:"purchase",number:"FACT-2025-002",date:"2025-02-19",due_date:"2025-03-19",supplier_id:"1",supplier:{id:"1",name:"Naissain Express",email:"contact@naissain-express.fr",address:"456 Route des Parcs, 17560 Bourcefranc-le-Chapus"},status:"paid",subtotal:800,tax:160,total:960,notes:"",items:[{id:"2",invoice_id:"2",description:"Naissain d'huîtres",quantity:1e3,unit_price:.8,tax_rate:20,total:960}]}],g0e={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",paid:"bg-green-500/20 text-green-300",overdue:"bg-red-500/20 text-red-300",cancelled:"bg-yellow-500/20 text-yellow-300"},v0e={draft:ei,sent:mg,paid:Jb,overdue:qn,cancelled:AC};function b0e({type:t,onEdit:e,onDelete:r}){const[n,i]=k.useState(null),s=x0e.filter(c=>c.type===t),o=c=>{console.log("Downloading invoice:",c.number)},l=c=>{console.log("Sending invoice:",c.number)};return a.jsx("div",{className:"space-y-4",children:s.map(c=>{var d,h;const u=v0e[c.status];return a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:a.jsx(ks,{size:20,className:"text-brand-burgundy"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:c.number}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center ${g0e[c.status]}`,children:[a.jsx(u,{size:12,className:"mr-1"}),c.status]})]}),a.jsx("div",{className:"mt-1 text-sm text-white/60",children:t==="sale"?(d=c.customer)==null?void 0:d.name:(h=c.supplier)==null?void 0:h.name}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60",children:"Date"}),a.jsx("div",{className:"text-white",children:Bt(new Date(c.date),"PP",{locale:gr})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60",children:"Échéance"}),a.jsx("div",{className:"text-white",children:Bt(new Date(c.due_date),"PP",{locale:gr})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60",children:"Montant TTC"}),a.jsxs("div",{className:"text-white font-medium",children:[c.total.toFixed(2),"€"]})]})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>i(n===c.id?null:c.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(w0,{size:20,className:"text-white/60"})}),n===c.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[a.jsxs("button",{onClick:()=>o(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(is,{size:16,className:"mr-2"}),"Télécharger"]}),c.status==="draft"&&a.jsxs("button",{onClick:()=>l(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(mg,{size:16,className:"mr-2"}),"Envoyer"]}),a.jsxs("button",{onClick:()=>e(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(jw,{size:16,className:"mr-2"}),"Modifier"]}),a.jsxs("button",{onClick:()=>r(c),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[a.jsx(ri,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},c.id)})})}function y0e(){const[t,e]=k.useState("sales"),[r,n]=k.useState(!1),[i,s]=k.useState(""),[o,l]=k.useState(null),c=h=>{console.log("Creating invoice:",h),n(!1)},u=h=>{l(h)},d=h=>{confirm(`Êtes-vous sûr de vouloir supprimer la facture ${h.number} ?`)&&console.log("Deleting invoice:",h.number)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Factures"}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Nouvelle Facture"]})})]}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>e("sales"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="sales"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ks,{size:16,className:"mr-2"}),"Factures Clients"]})}),a.jsx("button",{onClick:()=>e("purchases"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="purchases"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(is,{size:16,className:"mr-2"}),"Factures Fournisseurs"]})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(fn,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),a.jsx("input",{type:"text",value:i,onChange:h=>s(h.target.value),placeholder:"Rechercher une facture...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(pi,{size:20,className:"mr-2"}),"Filtres"]})]}),a.jsx(b0e,{type:t==="sales"?"sale":"purchase",onEdit:u,onDelete:d}),(r||o)&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:a.jsx(XP,{type:t==="sales"?"sale":"purchase",initialData:o||void 0,onSubmit:c,onCancel:()=>{n(!1),l(null)}})})})]})}const w0e=[{id:"1",date:"2025-02-19",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"18:00"}},{id:"2",date:"2025-02-20",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"}},{id:"3",date:"2025-02-21",morning:{start:"07:30",end:"12:00"}}];function j0e({date:t,period:e,currentSchedule:r,onSave:n,onDelete:i}){const[s,o]=k.useState((r==null?void 0:r.start)||(e==="morning"?"08:00":"14:00")),[l,c]=k.useState((r==null?void 0:r.end)||(e==="morning"?"12:00":"18:00")),u=()=>{n({start:s,end:l})};return a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"text-white font-medium",children:[e==="morning"?"Matin":"Après-midi"," - ",Bt(t,"EEEE d MMMM",{locale:gr})]}),r&&i&&a.jsx("button",{onClick:i,className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5","aria-label":"Supprimer le créneau",children:a.jsx(ri,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:`start-${e}`,className:"block text-sm text-white/60 mb-1",children:"Début"}),a.jsx("input",{id:`start-${e}`,type:"time",value:s,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`end-${e}`,className:"block text-sm text-white/60 mb-1",children:"Fin"}),a.jsx("input",{id:`end-${e}`,type:"time",value:l,onChange:d=>c(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsx("button",{onClick:u,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})}function YP({employee:t,onClose:e}){var b,y,w;const[r,n]=k.useState(new Date),[i,s]=k.useState(w0e),[o,l]=k.useState(null),{session:c}=Ia();(b=c==null?void 0:c.user)==null||b.role;const u=ld(r,{weekStartsOn:1}),d=uM(r,{weekStartsOn:1}),h=lM({start:u,end:d}),f=()=>n(lL(r,1)),p=()=>n(GC(r,1)),m=j=>i.find(_=>rM(new Date(_.date),j)),x=(j,_,S)=>{s(A=>{const O=Bt(j,"yyyy-MM-dd"),M=A.findIndex(B=>B.date===O);if(M>=0){const B=[...A];return B[M]={...B[M],[_]:S},B}else return[...A,{id:crypto.randomUUID(),date:O,[_]:S}]}),l(null)},g=(j,_)=>{s(S=>{const A=Bt(j,"yyyy-MM-dd"),O=S.findIndex(M=>M.date===A);if(O>=0){const M=[...S],B=M[O];return _==="morning"?delete B.morning:delete B.afternoon,!B.morning&&!B.afternoon&&M.splice(O,1),M}return S}),l(null)};return a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-white/10",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:t.name}),a.jsx("p",{className:"text-white/60",children:"Planning hebdomadaire"})]})})}),a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsx("button",{onClick:f,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine précédente",children:a.jsx(CC,{size:20,className:"text-white/60"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zn,{size:20,className:"text-white/60"}),a.jsx("span",{className:"text-white font-medium",children:Bt(u,"MMMM yyyy",{locale:gr})})]}),a.jsx("button",{onClick:p,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine suivante",children:a.jsx(Bd,{size:20,className:"text-white/60"})})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-1 p-6",children:a.jsx("div",{className:"grid grid-cols-7 gap-4",children:h.map((j,_)=>{var S,A,O,M,B,T,E,R,F,W,$,z;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-white/60",children:Bt(j,"EEEE",{locale:gr})}),a.jsx("div",{className:"text-lg font-medium text-white",children:Bt(j,"d",{locale:gr})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(we.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(S=m(j))!=null&&S.morning?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:j,period:"morning"}),whileHover:{scale:1.02},children:[a.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Matin"}),a.jsx("div",{className:"text-sm text-white/60",children:(A=m(j))!=null&&A.morning?`${(M=(O=m(j))==null?void 0:O.morning)==null?void 0:M.start} - ${(T=(B=m(j))==null?void 0:B.morning)==null?void 0:T.end}`:"-"})]}),a.jsxs(we.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(E=m(j))!=null&&E.afternoon?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:j,period:"afternoon"}),whileHover:{scale:1.02},children:[a.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Après-midi"}),a.jsx("div",{className:"text-sm text-white/60",children:(R=m(j))!=null&&R.afternoon?`${(W=(F=m(j))==null?void 0:F.afternoon)==null?void 0:W.start} - ${(z=($=m(j))==null?void 0:$.afternoon)==null?void 0:z.end}`:"-"})]})]})]},_)})})}),a.jsx(sr,{children:o&&a.jsx(we.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 overflow-hidden",children:a.jsx("div",{className:"w-80 p-6",children:a.jsx(j0e,{date:o.date,period:o.period,currentSchedule:(y=m(o.date))==null?void 0:y[o.period],onSave:j=>x(o.date,o.period,j),onDelete:(w=m(o.date))!=null&&w[o.period]?()=>g(o.date,o.period):void 0})})})})]})]})}const N0e=[{id:"1",name:"Jean Dupont",position:"Responsable Production",department:"Production",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"Site A",status:"active",hireDate:"2024-01-15"},{id:"2",name:"Marie Martin",position:"Technicienne Maintenance",department:"Maintenance",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Site B",status:"active",hireDate:"2024-02-01"}];function _0e({searchQuery:t}){const[e,r]=k.useState(null),[n,i]=k.useState(!1),s=N0e.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.position.toLowerCase().includes(t.toLowerCase())||l.department.toLowerCase().includes(t.toLowerCase())),o=(l,c)=>{c.stopPropagation(),r(l),i(!0)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(l=>a.jsx("div",{className:"bg-white/5 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-200 group",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#00D1FF]/20 rounded-full flex items-center justify-center",children:l.avatar?a.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full rounded-full"}):a.jsx("span",{className:"text-white text-lg font-medium",children:l.name.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),a.jsx("p",{className:"text-sm text-white/60",children:l.position})]})]}),a.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:a.jsx(w0,{size:20})})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Ta,{size:16,className:"mr-2"}),l.email]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Hi,{size:16,className:"mr-2"}),l.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(xi,{size:16,className:"mr-2"}),l.location]})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-white/60",children:["Embauché le ",new Date(l.hireDate).toLocaleDateString("fr-FR")]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.status==="active"?"bg-[#00D1FF]/20 text-[#00D1FF]":"bg-yellow-500/20 text-yellow-300"}`,children:l.status==="active"?"Actif":"Inactif"})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:a.jsxs("button",{onClick:c=>o(l,c),className:"w-full flex items-center justify-center px-4 py-2 bg-[#00D1FF]/20 rounded-lg text-[#00D1FF] hover:bg-[#00D1FF]/30 transition-colors",children:[a.jsx(zn,{size:16,className:"mr-2"}),"Voir le planning"]})})]})},l.id))}),n&&e&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>i(!1),children:a.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:a.jsx(YP,{employee:e,onClose:()=>i(!1)})})})]})}function S0e({onClose:t}){const{register:e,handleSubmit:r,formState:{errors:n}}=rh(),i=s=>{console.log(s),t()};return a.jsxs("form",{onSubmit:r(i),className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Nouvel Employé"}),a.jsx("button",{type:"button",onClick:t,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),a.jsx("input",{...e("firstName",{required:"Le prénom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.firstName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.firstName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),a.jsx("input",{...e("lastName",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.lastName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.lastName.message})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),a.jsx("input",{type:"email",...e("email",{required:"L'email est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.email&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),a.jsx("input",{...e("phone"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Poste"}),a.jsx("input",{...e("position",{required:"Le poste est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.position&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.position.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),a.jsxs("select",{...e("department"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[a.jsx("option",{value:"production",children:"Production"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"quality",children:"Contrôle Qualité"}),a.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),a.jsx("input",{...e("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),a.jsx("input",{type:"date",...e("startDate"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Identifiant employé"}),a.jsx("input",{...e("employeeId"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),a.jsx("input",{...e("emergencyContact"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'employé"})]})]})}const A0e=[{id:"1",type:"Congés payés",startDate:"2025-03-15",endDate:"2025-03-22",status:"approved",reason:"Vacances"},{id:"2",type:"Maladie",startDate:"2025-02-10",endDate:"2025-02-12",status:"approved",reason:"Grippe"},{id:"3",type:"RTT",startDate:"2025-04-01",endDate:"2025-04-01",status:"pending",reason:"Personnel"}];function C0e({isOpen:t,onClose:e,onConfirm:r,action:n}){return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:n==="approve"?"Confirmer l'approbation":"Confirmer le refus"}),a.jsx("p",{className:"text-white/70 mb-6",children:n==="approve"?"Êtes-vous sûr de vouloir approuver cette demande de congé ?":"Êtes-vous sûr de vouloir refuser cette demande de congé ?"}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>r(n==="approve"),className:`px-4 py-2 rounded-lg text-white transition-colors ${n==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:n==="approve"?"Approuver":"Refuser"})]})]})}):null}function E0e({request:t,onClose:e,onValidate:r}){const[n,i]=k.useState(""),[s,o]=k.useState(null),l=c=>{r(t.id,c,n),o(null),e()};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Validation de congé"}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Type"}),a.jsx("div",{className:"text-white font-medium",children:t.type})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Période"}),a.jsxs("div",{className:"text-white font-medium",children:[Bt(new Date(t.startDate),"dd/MM/yyyy")," - ",Bt(new Date(t.endDate),"dd/MM/yyyy")]})]})]}),t.reason&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Motif"}),a.jsx("div",{className:"text-white",children:t.reason})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de validation"}),a.jsx("textarea",{value:n,onChange:c=>i(c.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes optionnelles..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>o("reject"),className:"px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Refuser"}),a.jsx("button",{onClick:()=>o("approve"),className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approuver"})]})]})]})}),a.jsx(C0e,{isOpen:s!==null,onClose:()=>o(null),onConfirm:c=>l(c),action:s||"approve"})]})}function O0e(){const[t,e]=k.useState(A0e),[r,n]=k.useState(null),[i,s]=k.useState({start:"",end:""}),o=(c,u,d)=>{e(t.map(h=>h.id===c?{...h,status:u?"approved":"rejected",notes:d}:h)),n(null)},l=t.filter(c=>{if(!i.start&&!i.end)return!0;const u=new Date(c.startDate),d=i.start?new Date(i.start):null,h=i.end?new Date(i.end):null;return d&&h?u>=d&&u<=h:d?u>=d:h?u<=h:!0});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Gestion des Congés"}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Nouvelle demande"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Solde congés payés"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"15 jours"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-white/60 text-sm",children:"RTT restants"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"5 jours"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Congés pris"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"12 jours"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Congés à venir"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"7 jours"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-1",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),a.jsx("input",{type:"date",value:i.start,onChange:c=>s(u=>({...u,start:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),a.jsx("input",{type:"date",value:i.end,onChange:c=>s(u=>({...u,end:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsx("button",{onClick:()=>s({start:"",end:""}),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Réinitialiser"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[a.jsx("div",{className:"p-4 border-b border-white/10",children:a.jsx("h3",{className:"text-lg font-medium text-white",children:"Demandes de congés"})}),a.jsx("div",{className:"divide-y divide-white/10",children:l.map(c=>a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:a.jsx(zn,{size:20,className:"text-white/60"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:c.type}),a.jsxs("div",{className:"text-sm text-white/60",children:["Du ",Bt(new Date(c.startDate),"dd/MM/yyyy",{locale:gr})," au"," ",Bt(new Date(c.endDate),"dd/MM/yyyy",{locale:gr})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.status==="approved"?"bg-green-500/20 text-green-300":c.status==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:c.status==="approved"?"Approuvé":c.status==="rejected"?"Refusé":"En attente"}),c.status==="pending"&&a.jsx("button",{onClick:()=>n(c.id),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Valider"})]})]}),c.reason&&a.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Motif : ",c.reason]}),c.notes&&a.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Notes : ",c.notes]})]},c.id))})]}),r&&a.jsx(E0e,{request:t.find(c=>c.id===r),onClose:()=>n(null),onValidate:o})]})}const P0e=[{id:"1",employeeName:"Jean Dupont",position:"Responsable Production",date:"2025-01-15",overallRating:4.5,status:"completed",strengths:["Leadership","Organisation","Communication"],improvements:["Délégation"],goals:["Formation équipe","Optimisation processus"],taskPerformance:{averageScore:92,tasksCompleted:45,onTimeCompletion:95,efficiencyRate:88}},{id:"2",employeeName:"Marie Martin",position:"Technicienne Maintenance",date:"2025-02-01",overallRating:4.2,status:"draft",strengths:["Expertise technique","Résolution problèmes"],improvements:["Documentation"],goals:["Certification avancée"],taskPerformance:{averageScore:87,tasksCompleted:38,onTimeCompletion:92,efficiencyRate:85}}];function k0e(){const[t,e]=k.useState(!1);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Évaluations de Performance"}),a.jsxs("button",{onClick:()=>e(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Nouvelle évaluation"]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-6",children:P0e.map(r=>a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:r.employeeName}),a.jsx("p",{className:"text-sm text-white/60",children:r.position})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.status==="completed"?"bg-green-500/20 text-green-300":r.status==="acknowledged"?"bg-blue-500/20 text-blue-300":"bg-yellow-500/20 text-yellow-300"}`,children:r.status==="completed"?"Terminé":r.status==="acknowledged"?"Validé":"Brouillon"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Performance des tâches"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Score moyen"}),a.jsxs("div",{className:`text-xl font-bold ${r.taskPerformance.averageScore>=90?"text-green-400":r.taskPerformance.averageScore>=80?"text-yellow-400":"text-red-400"}`,children:[r.taskPerformance.averageScore,"%"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Tâches complétées"}),a.jsx("div",{className:"text-xl font-bold text-white",children:r.taskPerformance.tasksCompleted})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Respect des délais"}),a.jsxs("div",{className:"text-xl font-bold text-green-400",children:[r.taskPerformance.onTimeCompletion,"%"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Taux d'efficacité"}),a.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[r.taskPerformance.efficiencyRate,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2,3,4,5].map(n=>a.jsx(Wi,{size:20,className:n<=r.overallRating?"text-yellow-400 fill-current":"text-white/20"},n)),a.jsxs("span",{className:"text-white/60 text-sm ml-2",children:[r.overallRating,"/5"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Points forts"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.strengths.map((n,i)=>a.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:n},i))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Axes d'amélioration"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.improvements.map((n,i)=>a.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm",children:n},i))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Objectifs"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.goals.map((n,i)=>a.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:n},i))})]})]})]},r.id))})]})}const T0e={id:"default",name:"Planning Global"};function I0e(){const[t,e]=eD(),[r,n]=k.useState(()=>t.get("tab")||"employees"),[i,s]=k.useState(!1),[o,l]=k.useState("");k.useEffect(()=>{const u=t.get("tab");u&&u!==r&&n(u)},[t]);const c=u=>{n(u),e({tab:u})};return a.jsxs(we.div,{initial:"hidden",animate:"visible",className:"space-y-6 mt-12",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:a.jsx(ki,{size:28,className:"text-white"})})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion RH"})]}),r==="employees"&&a.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Mt,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-cyan-400",children:"Nouvel Employé"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[a.jsxs("button",{onClick:()=>c("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="employees"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[a.jsx(ki,{size:16}),a.jsx("span",{children:"Employés"})]}),a.jsxs("button",{onClick:()=>c("schedule"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="schedule"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[a.jsx(zn,{size:16}),a.jsx("span",{children:"Planning"})]}),a.jsxs("button",{onClick:()=>c("leave"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="leave"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[a.jsx(zn,{size:16}),a.jsx("span",{children:"Congés"})]}),a.jsxs("button",{onClick:()=>c("performance"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="performance"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[a.jsx(Wi,{size:16}),a.jsx("span",{children:"Évaluations"})]})]}),r==="employees"&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(fn,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"26%"},"aria-label":"Search icon"}),a.jsx("input",{type:"text",value:o,onChange:u=>l(u.target.value),placeholder:"Rechercher un employé...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(pi,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-cyan-400",children:"Filtres"})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:a.jsx(S0e,{onClose:()=>s(!1)})})}),r==="employees"&&a.jsx(_0e,{searchQuery:o}),r==="leave"&&a.jsx(O0e,{}),r==="performance"&&a.jsx(k0e,{}),r==="schedule"&&a.jsx(YP,{employee:T0e,onClose:()=>c("employees")})]})}const D0e=[{id:"1",name:"Réparation Marine Pro",location:"Bouzigues, France",skills:["Réparateur de Bateau","Maintenance"],contact:{email:"contact@rmp.fr",phone:"05 46 12 34 56",website:"www.rmp.fr"},rating:4.8,certifications:["Certification Marine","Expert Agréé"],isVerified:!0,description:"Spécialiste de la réparation et maintenance de bateaux professionnels"},{id:"2",name:"Transport Maritime Express",location:"Marennes, France",skills:["Transport","Logistique"],contact:{email:"info@tme.fr",phone:"05 46 23 45 67"},rating:4.5,certifications:["Transport Maritime"],isVerified:!1,description:"Transport maritime professionnel"}];function M0e({searchQuery:t,selectedSkill:e}){const[r,n]=k.useState(null),i=D0e.filter(s=>s.name.toLowerCase().includes(t.toLowerCase())||s.location.toLowerCase().includes(t.toLowerCase())||s.skills.some(o=>o.toLowerCase().includes(t.toLowerCase()))).filter(s=>!e||s.skills.includes(e)).sort((s,o)=>s.isVerified!==o.isVerified?o.isVerified?1:-1:o.rating-s.rating);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-2",children:i.map(s=>a.jsx("div",{onClick:()=>n(s),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:s.name}),s.isVerified&&a.jsx("span",{className:"text-brand-primary",children:a.jsx(Jb,{size:20})})]}),a.jsxs("div",{className:"flex items-center mt-1 space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xi,{size:14,className:"mr-1"}),s.location]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wi,{size:14,className:"mr-1 text-brand-primary"}),s.rating]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.skills.map((o,l)=>a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:o},l))})]}),a.jsx(Bd,{size:20,className:"text-white/20 group-hover:text-white/60 transition-colors"})]})},s.id))}),r&&a.jsx(mi,{isOpen:!0,onClose:()=>n(null),title:r.name,size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(xi,{size:20,className:"mr-3"}),r.location]}),a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Ta,{size:20,className:"mr-3"}),r.contact.email]}),a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Hi,{size:20,className:"mr-3"}),r.contact.phone]}),r.contact.website&&a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Ld,{size:20,className:"mr-3"}),r.contact.website]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Certifications"}),a.jsx("div",{className:"space-y-2",children:r.certifications.map((s,o)=>a.jsxs("div",{className:"flex items-center px-3 py-2 bg-brand-primary/20 text-brand-primary rounded-lg",children:[a.jsx(Jb,{size:16,className:"mr-2"}),s]},o))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"À propos"}),a.jsx("p",{className:"text-white/70",children:r.description})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[a.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),a.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Contacter"})]})]})})]})}const L0e=[{id:"1",title:"Gestion de la mortalité hivernale",content:"Quelles sont vos techniques pour minimiser la mortalité pendant l'hiver ?",category:"Production",author:{name:"Jean Dupont"},postedAt:"2025-02-19T10:00:00",likes:15,views:234,replies:8,tags:["Mortalité","Hiver","Techniques"]},{id:"2",title:"Nouvelle réglementation sanitaire",content:"Discussion sur les impacts de la nouvelle réglementation sanitaire",category:"Réglementation",author:{name:"Marie Martin"},postedAt:"2025-02-19T09:00:00",likes:23,views:567,replies:12,tags:["Réglementation","Sanitaire"]}];function R0e({searchQuery:t}){const e=L0e.filter(r=>r.title.toLowerCase().includes(t.toLowerCase())||r.content.toLowerCase().includes(t.toLowerCase())||r.tags.some(n=>n.toLowerCase().includes(t.toLowerCase())));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"256"}),a.jsx("div",{className:"text-sm text-white/60",children:"Discussions"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"1,234"}),a.jsx("div",{className:"text-sm text-white/60",children:"Messages"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"89"}),a.jsx("div",{className:"text-sm text-white/60",children:"Membres actifs"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"15"}),a.jsx("div",{className:"text-sm text-white/60",children:"Nouveaux aujourd'hui"})]})]}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:e.map((r,n)=>a.jsx("div",{className:`p-6 ${n<e.length-1?"border-b border-white/10":""}`,children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center flex-shrink-0",children:r.author.avatar?a.jsx("img",{src:r.author.avatar,alt:r.author.name,className:"w-full h-full rounded-full"}):a.jsx(Ic,{size:20,className:"text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:r.title}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsx("span",{className:"text-sm text-white/60",children:r.author.name}),a.jsx("span",{className:"text-sm text-white/60",children:new Date(r.postedAt).toLocaleDateString("fr-FR")}),a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.category})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(EC,{size:16,className:"mr-1"}),r.likes]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(mo,{size:16,className:"mr-1"}),r.views]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zs,{size:16,className:"mr-1"}),r.replies]})]})]}),a.jsx("p",{className:"mt-4 text-white/70",children:r.content}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.tags.map((i,s)=>a.jsxs("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["#",i]},s))})]})]})},r.id))})]})}const F0e=[{id:"1",author:{name:"Jean Dupont",company:"Huîtres Dupont & Fils"},content:"Nouvelle livraison d'huîtres plates de qualité exceptionnelle disponible. N'hésitez pas à me contacter pour plus d'informations.",timestamp:"2025-02-19T10:30:00",likes:15,comments:3,shares:2,visibility:"public"},{id:"2",author:{name:"Marie Martin",company:"Ostréiculture Martin"},content:"Recherche fournisseur de poches d'élevage pour livraison urgente. Merci de me contacter en MP.",timestamp:"2025-02-19T09:15:00",likes:8,comments:5,shares:1,visibility:"network"}],B0e={public:Ld,network:ki,private:qm};function $0e(){const[t,e]=ne.useState(null);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:"M"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:"Partagez une actualité...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:a.jsx(Ld,{size:20})}),a.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm",children:[a.jsx("option",{value:"public",children:"Public"}),a.jsx("option",{value:"network",children:"Mon réseau"}),a.jsx("option",{value:"private",children:"Privé"})]})]}),a.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Publier"})]})]})]})}),a.jsx("div",{className:"space-y-6",children:F0e.map(r=>{const n=B0e[r.visibility];return a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:r.author.name.charAt(0)})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"text-white font-medium",children:r.author.name}),a.jsx("span",{className:"text-white/40",children:"•"}),a.jsx("span",{className:"text-white/60",children:r.author.company})]}),a.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/40",children:[a.jsx(n,{size:14,className:"mr-1"}),new Date(r.timestamp).toLocaleString()]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>e(t===r.id?null:r.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(w0,{size:20,className:"text-white/60"})}),t===r.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[a.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Signaler"}),a.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Masquer"})]})]})]}),a.jsx("p",{className:"mt-4 text-white/80",children:r.content}),a.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-white/10",children:[a.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[a.jsx(EC,{size:20,className:"mr-2"}),r.likes]}),a.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[a.jsx(zs,{size:20,className:"mr-2"}),r.comments]}),a.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[a.jsx(tD,{size:20,className:"mr-2"}),r.shares]})]})]})},r.id)})})]})}const z0e=[{id:"1",name:"Jean Dupont",company:"Huîtres Dupont & Fils",position:"Directeur Commercial",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"La Rochelle",status:"online",favorite:!0,tags:["Fournisseur","Huîtres"]},{id:"2",name:"Marie Martin",company:"Ostréiculture Martin",position:"Responsable Production",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Marennes",status:"offline",lastActive:"2025-02-19T09:15:00",favorite:!1,tags:["Client","Production"]}];function U0e({searchQuery:t,onSelectContact:e}){const[r,n]=ne.useState(null),i=z0e.filter(s=>s.name.toLowerCase().includes(t.toLowerCase())||s.company.toLowerCase().includes(t.toLowerCase())||s.tags.some(o=>o.toLowerCase().includes(t.toLowerCase())));return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-colors",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.avatar?a.jsx("img",{src:s.avatar,alt:s.name,className:"w-full h-full rounded-full"}):a.jsx(Ic,{size:24,className:"text-white"})}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-brand-dark ${s.status==="online"?"bg-green-500":s.status==="away"?"bg-yellow-500":"bg-gray-500"}`})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:s.name}),a.jsx("p",{className:"text-sm text-white/60",children:s.position}),a.jsx("p",{className:"text-sm text-white/40",children:s.company})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(r===s.id?null:s.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(w0,{size:20,className:"text-white/60"})}),r===s.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[a.jsxs("button",{onClick:()=>e(s.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(zs,{size:16,className:"mr-2"}),"Message"]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(Wi,{size:16,className:"mr-2"}),s.favorite?"Retirer des favoris":"Ajouter aux favoris"]})]})]})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Ta,{size:16,className:"mr-2"}),s.email]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Hi,{size:16,className:"mr-2"}),s.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(xi,{size:16,className:"mr-2"}),s.location]})]}),s.tags.length>0&&a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.tags.map((o,l)=>a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:o},l))}),a.jsxs("div",{className:"mt-6 flex space-x-3",children:[a.jsx("button",{onClick:()=>e(s.id),className:"flex-1 px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Message"}),a.jsx("button",{className:"px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Profil"})]})]})},s.id))})}const K5=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}],gb={1:[{id:"1",content:"Bonjour, comment allez-vous ?",sender:"Jean Dupont",timestamp:"10:00",isMe:!1},{id:"2",content:"Très bien, merci ! Et vous ?",sender:"Moi",timestamp:"10:15",isMe:!0},{id:"3",content:"Parfait, merci !",sender:"Jean Dupont",timestamp:"10:30",isMe:!1}],2:[{id:"1",content:"Hey, on se voit demain ?",sender:"Marie Martin",timestamp:"09:15",isMe:!1}],3:[{id:"1",content:"Bonjour, pouvez-vous me donner les prix pour vos services ?",sender:"Pierre Durand",timestamp:"Hier",isMe:!1}],4:[{id:"1",content:"Je vous envoie les documents demandés en pièce jointe.",sender:"Sophie Dubois",timestamp:"Lun",isMe:!1}],5:[{id:"1",content:"Merci pour votre réponse rapide !",sender:"Luc Moreau",timestamp:"23/02",isMe:!1}]},q0e=t=>K5.find(e=>e.id===t);function KP({contactId:t,onClose:e}){const[r,n]=k.useState("");k.useState("");const i=ne.useRef(null),[s,o]=k.useState(t),l=()=>{var h;(h=i.current)==null||h.scrollIntoView({behavior:"smooth"})};ne.useEffect(()=>{l()},[gb[s]]),ne.useEffect(()=>{o(t)},[t]);const c=h=>{h.preventDefault(),r.trim()&&(console.log("Message envoyé:",r),n(""))},u=h=>{o(h)},d=q0e(s);return a.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[a.jsx("div",{className:"hidden md:block w-80 border-r border-white/10",children:a.jsx("div",{className:"divide-y divide-white/10",children:K5.map(h=>a.jsx("div",{onClick:()=>u(h.id),className:`p-4 hover:bg-white/5 cursor-pointer transition-colors ${h.id===s?"bg-white/5":""}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:h.name.charAt(0)})}),h.online&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-brand-dark"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-white font-medium truncate",children:h.name}),h.lastMessageTime&&a.jsx("span",{className:"text-xs text-white/40",children:h.lastMessageTime})]}),h.lastMessage&&a.jsx("p",{className:"text-sm text-white/60 truncate",children:h.lastMessage})]}),h.unreadCount&&h.unreadCount>0&&a.jsx("div",{className:"w-5 h-5 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-white",children:h.unreadCount})})]})},h.id))})}),a.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[a.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[a.jsx("button",{onClick:e,className:"p-1.5 md:p-2 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors","aria-label":"Retour à la liste des contacts",children:a.jsx(Tf,{size:18,className:"md:w-5 md:h-5"})}),a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:(d==null?void 0:d.name.charAt(0))||"?"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium text-sm md:text-base",children:(d==null?void 0:d.name)||"Contact"}),a.jsx("p",{className:"text-xs md:text-sm text-green-400",children:d!=null&&d.online?"En ligne":"Hors ligne"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[gb[s]?gb[s].map(h=>a.jsx("div",{className:`flex ${h.isMe?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg p-2 md:p-3 ${h.isMe?"bg-brand-burgundy text-white":"bg-white/5 text-white"}`,children:[a.jsx("p",{className:"text-sm md:text-base",children:h.content}),a.jsx("div",{className:`text-[10px] md:text-xs mt-1 ${h.isMe?"text-white/60":"text-white/40"}`,children:h.timestamp})]})},h.id)):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[a.jsx(zs,{size:36,className:"mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Aucun message disponible"})]}),a.jsx("div",{ref:i})]}),a.jsx("form",{onSubmit:c,className:"p-3 md:p-4 border-t border-white/10",children:a.jsxs("div",{className:"flex space-x-2 md:space-x-4",children:[a.jsxs("div",{className:"flex-1 relative flex",children:[a.jsx("textarea",{value:r,onChange:h=>n(h.target.value),placeholder:"Écrivez votre message...",className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/5 border border-white/10 rounded-lg text-white text-sm md:text-base placeholder-white/40 resize-none h-full min-h-[40px] md:min-h-[46px]",rows:1}),a.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 md:right-3 flex items-center space-x-1 md:space-x-2",children:[a.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:a.jsx(rD,{size:16,className:"md:w-5 md:h-5"})}),a.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:a.jsx(OC,{size:16,className:"md:w-5 md:h-5"})}),a.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:a.jsx(nD,{size:16,className:"md:w-5 md:h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:!r.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center self-stretch min-h-[40px] md:min-h-[46px]",children:a.jsx(mg,{size:18,className:"md:w-5 md:h-5"})})]})})]})]})}function H0e({onClose:t,type:e}){const r=()=>{switch(e){case"directory":return"Mettre à jour mon profil";case"marketplace":return"Nouvelle annonce";case"forum":return"Nouvelle discussion";default:return""}};return a.jsx(mi,{isOpen:!0,onClose:t,title:r(),size:"xl",children:a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Titre"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Titre de votre publication..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Contenu de votre publication..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Tags"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des tags séparés par des virgules..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Publier"})]})]})})}function W0e({onClose:t}){const[e,r]=k.useState(""),[n,i]=k.useState(null),[s,o]=k.useState(!1),l=async c=>{c.preventDefault(),i(null),o(!0);try{if(!US(e))throw new Error("Format de code invalide");await new Promise(u=>setTimeout(u,1e3)),t()}catch(u){i(u instanceof Error?u.message:"Une erreur est survenue")}finally{o(!1)}};return a.jsx(mi,{isOpen:!0,onClose:t,title:"Ajouter un contact",size:"md",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/20 rounded-full flex items-center justify-center",children:a.jsx(ki,{size:32,className:"text-brand-burgundy"})})}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Code ami"}),a.jsx("input",{type:"text",value:e,onChange:c=>{const u=V0e(c.target.value);r(u),i(null)},placeholder:"XXXX-XXXX-XXXX",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-center font-mono text-xl tracking-wider",maxLength:14}),a.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Entrez le code ami de la personne que vous souhaitez ajouter"})]}),n&&a.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center text-red-400",children:[a.jsx(qn,{size:20,className:"mr-2"}),n]})}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:!US(e)||s,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Recherche...":"Ajouter"})]})]}),a.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[a.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment obtenir un code ami ?"}),a.jsx("p",{className:"text-sm text-white/60",children:"Chaque utilisateur dispose d'un code ami unique disponible dans son profil. Demandez à votre contact de partager son code avec vous pour l'ajouter à votre réseau."})]})]})})}function V0e(t){return(t.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-")}function US(t){return/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(t)}function G0e(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="";for(let n=0;n<8;n++){const i=Math.floor(Math.random()*t.length);r+=t[i]}return r}const Go=[{id:"1",name:"Huîtres Marennes Oléron",email:"contact@huitres-mo.fr",phone:"05 46 85 12 34",address:"12 Route des Claires, 17320 Marennes",friend_code:"HMO17320",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Les Parcs de l'Estuaire",email:"commandes@parcs-estuaire.fr",phone:"05 46 36 45 78",address:"8 Quai des Ostréiculteurs, 17390 La Tremblade",friend_code:"LPE17390",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"Atlantique Coquillages",email:"ventes@atlantique-coq.fr",phone:"02 51 68 23 45",address:"45 Avenue du Port, 85230 Bouin",friend_code:"ACQ85230",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",name:"Cancale Premium",email:"service@cancale-premium.fr",phone:"02 99 89 67 89",address:"23 Rue du Port, 35260 Cancale",friend_code:"CAN35260",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",name:"Arcachon Huîtres",email:"pro@arcachon-huitres.com",phone:"05 57 72 34 56",address:"56 Boulevard de la Plage, 33120 Arcachon",friend_code:"ARC33120",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],X0e={1:[{id:"1",supplier_id:"1",name:"Huîtres Spéciales N°3",description:"Huîtres charnues de qualité supérieure, affinées en claire pendant 2 mois minimum",price:8.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:450,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",supplier_id:"1",name:"Huîtres Fines de Claire N°2",description:"Huîtres raffinées, affinées en claire pendant 3 semaines minimum",price:9.5,unit:"douzaine",category:"Fines de Claire",image:"/placeholder.jpg",available:!0,stock:300,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],2:[{id:"3",supplier_id:"2",name:"Huîtres Spéciales N°2",description:"Huîtres de qualité supérieure",price:10.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:200,minOrder:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],3:[{id:"4",supplier_id:"3",name:"Huîtres Plates de Belon",description:"Huîtres plates de Belon, goût unique et iodé",price:14.5,unit:"douzaine",category:"Plates",image:"/placeholder.jpg",available:!0,stock:150,minOrder:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],4:[{id:"5",supplier_id:"4",name:"Huîtres Label Rouge",description:"Huîtres labellisées Label Rouge, qualité supérieure garantie",price:12,unit:"douzaine",category:"Label Rouge",image:"/placeholder.jpg",available:!0,stock:400,minOrder:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],5:[{id:"6",supplier_id:"5",name:"Huîtres Gillardeau",description:"Les célèbres huîtres Gillardeau, reconnues mondialement",price:24,unit:"douzaine",category:"Premium",image:"/placeholder.jpg",available:!0,stock:100,minOrder:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]};function x1(){const t=PC(),{data:e=Go,isLoading:r}=Nw({queryKey:["suppliers"],queryFn:async()=>Go}),n=hf({mutationFn:async o=>{const l=G0e(),c={...o,friend_code:l,is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return Go.push({...c,id:String(Go.length+1)}),c},onSuccess:()=>{t.invalidateQueries({queryKey:["suppliers"]})}}),i=hf({mutationFn:async o=>{const l=Go.findIndex(c=>c.id===o.id);return l!==-1&&o.deleted!==void 0&&(Go[l]={...Go[l],deleted:o.deleted,updated_at:new Date().toISOString()}),Go[l]},onSuccess:()=>{t.invalidateQueries({queryKey:["suppliers"]})}});return{suppliers:e,isLoading:r,createSupplier:n,updateSupplier:i,getSupplierProducts:async o=>X0e[o]||[]}}function F2({children:t,variant:e="default",className:r="",...n}){const i="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",s={default:"bg-[rgb(var(--color-brand-muted))] text-[rgb(var(--color-text-primary))]",success:"bg-green-500/10 text-green-500",warning:"bg-yellow-500/10 text-yellow-500",error:"bg-red-500/10 text-red-500"};return a.jsx("div",{className:`${i} ${s[e]} ${r}`,...n,children:t})}function Y0e(){const{suppliers:t}=x1(),e=t.filter(r=>r.is_friend);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Fournisseurs Partenaires"}),a.jsxs(F2,{variant:"outline",className:"text-[rgb(var(--color-brand-primary))]",children:[e.length," partenaires"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(r=>a.jsx("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:r.name}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[a.jsx(xg,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"text-sm font-mono",children:r.friend_code})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[a.jsx(Ta,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:r.email})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[a.jsx(Hi,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"text-sm",children:r.phone})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[a.jsx(xi,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:r.address})]})]})]})},r.id))})]})}function K0e({messageView:t=!1,activeTab:e}){const r=b0(),n=ha(),[i,s]=k.useState(e||t?"messages":"feed"),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,h]=k.useState("");k.useState(null);const[f,p]=k.useState(null),[m,x]=k.useState(window.innerWidth<=768),{unreadCount:g}=Ia();return k.useEffect(()=>{var b;(b=r.state)!=null&&b.activeTab&&s(r.state.activeTab)},[r.state]),k.useEffect(()=>{e?s(e):t&&s("messages")},[t,e]),k.useEffect(()=>{r.pathname==="/network/messages"&&i!=="messages"&&s("messages")},[r.pathname,i]),k.useEffect(()=>{const b=()=>{x(window.innerWidth<=768)};return window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[]),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:a.jsx(ki,{size:28,className:"text-cyan-400"})})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Entre Pro"})]}),a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(iD,{size:20}),"Ajouter un contact"]}),i==="feed"&&a.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Mt,{size:20}),"Nouvelle publication"]})]})}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10 mb-6",children:[a.jsxs("button",{onClick:()=>s("feed"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${i==="feed"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":i==="feed"?"page":void 0,children:[a.jsx(aD,{size:16}),"Fil d'actualités"]}),a.jsxs("button",{onClick:()=>s("contacts"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${i==="contacts"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":i==="contacts"?"page":void 0,children:[a.jsx(ki,{size:16}),"Contacts"]}),a.jsxs("button",{onClick:()=>s("directory"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${i==="directory"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":i==="directory"?"page":void 0,children:[a.jsx(Ld,{size:16}),"Annuaire Prestataires"]}),a.jsxs("button",{onClick:()=>s("forum"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${i==="forum"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":i==="forum"?"page":void 0,children:[a.jsx(zs,{size:16}),"Forum"]}),a.jsxs("button",{onClick:()=>{s("messages"),n("/network/messages",{replace:!0})},className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 relative ${i==="messages"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":i==="messages"?"page":void 0,children:[a.jsx(sD,{size:16}),"Messagerie",g>0&&a.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-cyan-400 to-blue-500 flex items-center justify-center text-xs font-medium text-white shadow-lg",children:g})]}),a.jsxs("button",{onClick:()=>s("suppliers"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${i==="suppliers"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":i==="suppliers"?"page":void 0,children:[a.jsx(ki,{size:16}),"Fournisseurs Amis"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(fn,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"30%",zIndex:1},"aria-label":"Search icon"}),a.jsx("input",{type:"text",value:d,onChange:b=>h(b.target.value),placeholder:"Rechercher...",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx(pi,{size:18}),"Filtres"]}),a.jsxs("button",{className:"relative p-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx($d,{size:18,className:"text-cyan-400"}),g>0&&a.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-cyan-500 rounded-full flex items-center justify-center text-xs font-bold shadow-[0_0_10px_rgba(0,210,200,0.5)]",children:g})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[i==="feed"&&a.jsx($0e,{}),i==="contacts"&&a.jsx(U0e,{searchQuery:d,onSelectContact:b=>{p(b),s("messages")}}),i==="messages"&&a.jsx(KP,{contactId:f,onClose:()=>p(null)}),i==="directory"&&a.jsx(M0e,{searchQuery:d,selectedSkill:null}),i==="forum"&&a.jsx(R0e,{searchQuery:d}),i==="suppliers"&&a.jsx(Y0e,{})]}),o&&a.jsx(H0e,{onClose:()=>l(!1),type:"forum"}),c&&a.jsx(W0e,{onClose:()=>u(!1)})]})}const J0e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Xo={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function Q0e(){const{companyInfo:t,setCompanyInfo:e}=Ia(),[r,n]=k.useState({name:(t==null?void 0:t.name)||"",siret:(t==null?void 0:t.siret)||"",logo:(t==null?void 0:t.logo)||"",description:(t==null?void 0:t.description)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",website:(t==null?void 0:t.website)||""});k.useEffect(()=>{t&&n({name:t.name,siret:t.siret,logo:t.logo||"",description:t.description||"",email:t.email,phone:t.phone,address:t.address,website:t.website||""})},[t]);const i=o=>{const{name:l,value:c}=o.target;n(u=>({...u,[l]:c}))},s=o=>{o.preventDefault(),e(r),Ru.success("Informations de l'entreprise enregistrées avec succès")};return a.jsxs(we.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:J0e,children:[a.jsxs(we.div,{variants:Xo,children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mb-2",children:"Informations de l'entreprise"}),a.jsx("p",{className:"text-white/60 mb-6",children:"Gérez les informations principales de votre entreprise"})]}),a.jsxs("form",{className:"space-y-6",onSubmit:s,children:[a.jsxs(we.div,{className:"grid grid-cols-2 gap-6",variants:Xo,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"name",children:"Nom de l'entreprise"}),a.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:i,className:"config-input",placeholder:"Oyster Cult Enterprise",required:!0,"aria-required":"true"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"siret",children:"Numéro SIRET"}),a.jsx("input",{type:"text",id:"siret",name:"siret",value:r.siret,onChange:i,className:"config-input",placeholder:"123 456 789 00012",required:!0,"aria-required":"true"})]})]}),a.jsxs(we.div,{variants:Xo,children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"logo",children:"Logo de l'entreprise"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-white/10 border-dashed rounded-xl transition-all duration-200 hover:border-white/30 group config-container",children:a.jsxs("div",{className:"space-y-2 text-center",children:[a.jsx(Ls,{className:"mx-auto h-12 w-12 text-white/40 group-hover:text-white/60 transition-colors duration-200"}),a.jsxs("div",{className:"flex text-sm text-white/60",children:[a.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-white hover:text-white/80 focus-within:outline-none focus-within:ring-2 focus-within:ring-white/20 transition-colors duration-200",children:[a.jsx("span",{children:"Télécharger un fichier"}),a.jsx("input",{id:"file-upload",name:"logo",type:"file",className:"sr-only",onChange:o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];l&&n(u=>({...u,logo:l.name}))},accept:"image/*"})]}),a.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),a.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG, GIF jusqu'à 10MB"})]})})]}),a.jsxs(we.div,{variants:Xo,children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:i,className:"config-input",placeholder:"Une brève description de votre entreprise...",rows:4})]}),a.jsxs(we.div,{className:"grid grid-cols-2 gap-6",variants:Xo,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ta,{className:"absolute left-3 top-[30%] transform -translate-y-1/2 text-white/40",size:20,"aria-label":"Email icon"}),a.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:i,className:"pl-10 config-input",placeholder:"contact@oystercult.com",required:!0,"aria-required":"true"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"phone",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hi,{"aria-label":"Phone icon",className:"absolute left-3 top-[30%] transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:i,className:"pl-10 config-input",placeholder:"+33 1 23 45 67 89",required:!0,"aria-required":"true"})]})]})]}),a.jsxs(we.div,{variants:Xo,children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"address",children:"Adresse"}),a.jsxs("div",{className:"relative",children:[a.jsx(xi,{"aria-label":"Map pin icon",className:"absolute left-3 top-[28%] transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:i,className:"pl-10 config-input",placeholder:"123 rue de la Mer, 75001 Paris",required:!0,"aria-required":"true"})]})]}),a.jsxs(we.div,{variants:Xo,children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"website",children:"Site web"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ld,{"aria-label":"Globe icon",className:"absolute left-3 top-[28%] transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"url",id:"website",name:"website",value:r.website,onChange:i,className:"pl-10 config-input",placeholder:"https://www.oystercult.com"})]})]}),a.jsx(we.div,{className:"flex justify-end",variants:Xo,children:a.jsx("button",{type:"submit",className:"config-button bg-white/10 text-white hover:bg-white/15",children:"Enregistrer les modifications"})})]})]})}const um={firstName:"",lastName:"",email:"",phone:"",position:"",department:"production",location:"",startDate:"",employeeId:"",emergencyContact:"",role:"1"},Z0e=[{id:"1",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:["all"],users:[]},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches",permissions:["read:all","write:tasks","manage:users"],users:[]},{id:"3",name:"Opérateur",description:"Exécution des tâches quotidiennes",permissions:["read:tasks","write:tasks"],users:[]},{id:"4",name:"Comptable",description:"Gestion de la comptabilité et des finances",permissions:["read:sales","write:sales","read:purchases","write:purchases","read:inventory","read:reports"],users:[]}];function epe(){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let r="";for(let n=0;n<12;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}const qS={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},HS={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}},WS={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.9,transition:{duration:.2}}};function tpe(){const{addUser:t,deleteUser:e,updateUser:r,users:n}=Ia(),[i,s]=k.useState(!1),[o,l]=k.useState(null);k.useState(null);const[c,u]=k.useState(null),[d,h]=k.useState(um),[f,p]=k.useState({}),m=S=>{l(S);const A={firstName:S.firstName,lastName:S.lastName,email:S.email,phone:S.phone,position:S.position,department:S.department,location:S.location,startDate:S.startDate,employeeId:S.employeeId,emergencyContact:S.emergencyContact,role:S.role};h(A),s(!0)},x=()=>{const S={};return d.firstName||(S.firstName="Le prénom est requis"),d.lastName||(S.lastName="Le nom est requis"),d.email||(S.email="L'email est requis"),d.phone||(S.phone="Le téléphone est requis"),d.position||(S.position="Le poste est requis"),d.employeeId||(S.employeeId="L'ID employé est requis"),p(S),Object.keys(S).length===0},g=async S=>{if(S.preventDefault(),!x())return;const A=epe();try{const O={...d,password:A};await t(O),Ru.success("Utilisateur ajouté avec succès"),h(um),s(!1)}catch{Ru.error("Erreur lors de l'ajout de l'utilisateur")}},b=async S=>{if(S.preventDefault(),!(!(o!=null&&o.id)||!x()))try{await r(o.id,d),Ru.success("Utilisateur modifié avec succès"),l(null),h(um),s(!1)}catch{Ru.error("Erreur lors de la modification de l'utilisateur")}},y=S=>{const{name:A,value:O}=S.target;if(h(M=>({...M,[A]:O})),f[A]){const M={...f};delete M[A],p(M)}},w=()=>{s(!1),l(null),h(um),p({})},j=S=>{S.preventDefault();const A={};d.firstName||(A.firstName="Le prénom est obligatoire"),d.lastName||(A.lastName="Le nom est obligatoire"),d.email||(A.email="L'email est obligatoire"),d.phone||(A.phone="Le téléphone est obligatoire"),d.position||(A.position="Le rôle est obligatoire"),d.startDate||(A.startDate="La date de début est obligatoire"),p(A),Object.keys(A).length===0&&g(S)},_=S=>{e(S),u(null),Ru.success("Utilisateur supprimé avec succès")};return a.jsxs(we.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:qS,children:[a.jsxs(we.div,{variants:HS,className:"flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),a.jsx(Dm,{size:24,className:"text-[#00D1FF] relative z-10"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Rôles & Permissions"}),a.jsx("p",{className:"text-white/60",children:"Gérez les rôles et les permissions des utilisateurs"})]})]}),a.jsxs(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:[a.jsx(Mt,{size:20,className:"inline-block mr-2"}),"Ajouter un utilisateur"]})]}),a.jsx(we.div,{className:"grid grid-cols-1 gap-6",variants:qS,children:Z0e.map(S=>a.jsx(we.div,{variants:HS,className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#00D1FF]/10 flex items-center justify-center",children:a.jsx(Dm,{size:24,className:"text-[#00D1FF]"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent mb-1",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:S.name}),a.jsx("p",{className:"text-white/60",children:S.description}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("h4",{className:"text-lg font-medium text-white/80",children:"Utilisateurs"}),a.jsx("div",{className:"space-y-3",children:n.filter(A=>A.role===S.id).map(A=>a.jsx(we.div,{className:"bg-white/5 rounded-xl p-4 group hover:bg-white/10 transition-all duration-200",whileHover:{scale:1.02},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-white font-medium",children:[A.firstName," ",A.lastName]}),a.jsx("div",{className:"text-sm text-white/60 mt-1",children:A.position})]}),a.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[a.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(A),className:"p-2 hover:bg-[#00D1FF]/10 rounded-lg transition-colors",children:a.jsx(qi,{size:16,className:"text-[#00D1FF]"})}),a.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(A.id),className:"p-2 hover:bg-red-500/10 rounded-lg transition-colors",children:a.jsx(ri,{size:16,className:"text-red-400"})})]})]})},A.id))})]})]})]})})},S.id))}),a.jsx(sr,{children:(i||o)&&a.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx(we.div,{variants:WS,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-xl rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-6",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:o?"Modifier l'utilisateur":"Nouvel utilisateur"}),a.jsxs("form",{className:"space-y-6",onSubmit:o?b:j,children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Prénom"}),a.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:y,className:`w-full px-4 py-3 bg-white/5 border ${f.firstName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),f.firstName&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(jn,{size:16,className:"mr-1"}),f.firstName]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom"}),a.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:y,className:`w-full px-4 py-3 bg-white/5 border ${f.lastName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),f.lastName&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(jn,{size:16,className:"mr-1"}),f.lastName]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"email",name:"email",value:d.email,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${f.email?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),f.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(jn,{size:16,className:"mr-1"}),f.email]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${f.phone?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),f.phone&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(jn,{size:16,className:"mr-1"}),f.phone]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Rôle"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsxs("select",{name:"position",value:d.position,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${f.position?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none appearance-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner un rôle"}),a.jsx("option",{value:"manageur",children:"Manageur"}),a.jsx("option",{value:"operateur",children:"Opérateur"}),a.jsx("option",{value:"comptable_full",children:"Comptable Tout accès"}),a.jsx("option",{value:"comptable",children:"Comptable"})]})]}),f.position&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(jn,{size:16,className:"mr-1"}),f.position]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Date de début"}),a.jsxs("div",{className:"relative",children:[a.jsx(zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"date",name:"startDate",value:d.startDate,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${f.startDate?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),f.startDate&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(jn,{size:16,className:"mr-1"}),f.startDate]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[a.jsx(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:w,className:"px-6 py-3 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),a.jsx(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:o?"Mettre à jour":"Ajouter"})]})]})]})})})}),a.jsx(sr,{children:c&&a.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx(we.div,{variants:WS,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer la suppression"}),a.jsx("p",{className:"text-white/70 mb-6",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),a.jsx(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c&&_(c),className:"px-4 py-2 bg-red-500/80 hover:bg-red-500 text-white rounded-xl transition-colors",children:"Supprimer"})]})]})})})})]})}const rpe=[{id:"1",name:"Huîtres Plates",category:"Huîtres",description:"Huîtres plates de qualité supérieure",sizes:["2","3","4"],unit:"douzaine",minStock:100,maxStock:1e3},{id:"2",name:"Huîtres Creuses",category:"Huîtres",description:"Huîtres creuses standard",sizes:["2","3","4","5"],unit:"douzaine",minStock:200,maxStock:2e3}];function npe(){const[t,e]=k.useState(!1),[r,n]=k.useState(null),[i,s]=k.useState(null),[o,l]=k.useState(rpe),c=h=>{n(h),e(!0)},u=h=>{l(o.filter(f=>f.id!==h)),s(null)},d=h=>{if(r)l(o.map(f=>f.id===r.id?{...f,...h}:f));else{const f={id:crypto.randomUUID(),...h};l([...o,f])}e(!1),n(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuration des Produits"}),a.jsxs("button",{onClick:()=>{n(null),e(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Nouveau produit"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(h=>a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:a.jsx(tn,{size:20,className:"text-brand-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:h.name}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:h.description})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c(h),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(qi,{size:20,className:"text-white/60"})}),a.jsx("button",{onClick:()=>s(h.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(ri,{size:20,className:"text-white/60"})})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Calibres disponibles"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.sizes.map(f=>a.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["N°",f]},f))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Gestion du stock"}),a.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[a.jsxs("div",{children:["Stock minimum: ",h.minStock," ",h.unit,"s"]}),a.jsxs("div",{children:["Stock maximum: ",h.maxStock," ",h.unit,"s"]})]})]})]})]},h.id))}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le produit":"Nouveau produit"}),a.jsxs("form",{onSubmit:h=>{h.preventDefault();const f=new FormData(h.currentTarget),p=Object.fromEntries(f.entries());d(p)},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),a.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Huîtres Plates",defaultValue:r==null?void 0:r.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),a.jsxs("select",{name:"category",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.category,required:!0,children:[a.jsx("option",{value:"huitres",children:"Huîtres"}),a.jsx("option",{value:"materiels",children:"Matériels"}),a.jsx("option",{value:"emballages",children:"Emballages"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description du produit...",defaultValue:r==null?void 0:r.description})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Calibres disponibles"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4","5"].map(h=>a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",name:"sizes",value:h,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.sizes.includes(h)}),a.jsxs("span",{className:"text-white",children:["N°",h]})]},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),a.jsxs("select",{name:"unit",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.unit,required:!0,children:[a.jsx("option",{value:"douzaine",children:"Douzaine"}),a.jsx("option",{value:"piece",children:"Pièce"}),a.jsx("option",{value:"kg",children:"Kilogramme"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>{e(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le produit"})]})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx(jn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible."}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const ipe=[{id:"1",name:"Naissain Express",type:"Naissain",contact:{name:"Jean Martin",email:"jean.martin@naissain-express.fr",phone:"01 23 45 67 89"},address:"123 Route de la Mer, 17000 La Rochelle",products:["Naissain d'huîtres plates","Naissain d'huîtres creuses"],status:"active"},{id:"2",name:"Emballages Océan",type:"Emballages",contact:{name:"Marie Dubois",email:"contact@emballages-ocean.fr",phone:"02 34 56 78 90"},address:"456 Avenue du Port, 44000 Nantes",products:["Bourriches","Cagettes","Étiquettes"],status:"active"}];function ape(){const[t,e]=k.useState(!1),[r,n]=k.useState(null),[i,s]=k.useState(null),[o,l]=k.useState(ipe),c=h=>{n(h),e(!0)},u=h=>{l(o.filter(f=>f.id!==h)),s(null)},d=h=>{if(r)l(o.map(f=>f.id===r.id?{...f,...h}:f));else{const f={id:crypto.randomUUID(),...h};l([...o,f])}e(!1),n(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Fournisseurs"}),a.jsxs("button",{onClick:()=>{n(null),e(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Nouveau fournisseur"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(h=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:a.jsx(sd,{size:20,className:"text-brand-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:h.name}),a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:h.type})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Ta,{size:16,className:"mr-2"}),h.contact.email]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Hi,{size:16,className:"mr-2"}),h.contact.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(xi,{size:16,className:"mr-2"}),h.address]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produits fournis"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.products.map((f,p)=>a.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:f},p))})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c(h),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(qi,{size:20,className:"text-white/60"})}),a.jsx("button",{onClick:()=>s(h.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(ri,{size:20,className:"text-white/60"})})]})]})},h.id))}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le fournisseur":"Nouveau fournisseur"}),a.jsxs("form",{onSubmit:h=>{h.preventDefault();const f=new FormData(h.currentTarget),p={name:f.get("name"),type:f.get("type"),contact:{name:f.get("contactName"),email:f.get("email"),phone:f.get("phone")},address:f.get("address"),products:f.getAll("products"),status:"active"};d(p)},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),a.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Naissain Express",defaultValue:r==null?void 0:r.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),a.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[a.jsx("option",{value:"naissain",children:"Naissain"}),a.jsx("option",{value:"emballages",children:"Emballages"}),a.jsx("option",{value:"materiels",children:"Matériels"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Contact"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nom du contact"}),a.jsx("input",{type:"text",name:"contactName",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.email,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Téléphone"}),a.jsx("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.phone,required:!0})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),a.jsx("textarea",{name:"address",rows:2,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",defaultValue:r==null?void 0:r.address,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Produits fournis"}),a.jsx("div",{className:"space-y-2",children:["Naissain","Bourriches","Matériel d'élevage"].map(h=>a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",name:"products",value:h,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.products.includes(h)}),a.jsx("span",{className:"text-white",children:h})]},h))})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>{e(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le fournisseur"})]})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx(jn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const spe=[{id:"1",name:"Prix Détail 2025",description:"Liste des prix pour la vente au détail",type:"retail",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:24.9},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:19.9}],validFrom:"2025-01-01",validTo:"2025-12-31"},{id:"2",name:"Prix Grossiste 2025",description:"Liste des prix pour la vente en gros",type:"wholesale",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:18.9,minQuantity:100},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:14.9,minQuantity:100}],validFrom:"2025-01-01",validTo:"2025-12-31"}];function ope(){const[t,e]=k.useState(!1),[r,n]=k.useState(null),[i,s]=k.useState(null),[o,l]=k.useState(spe),c=h=>{n(h),e(!0)},u=h=>{l(o.filter(f=>f.id!==h)),s(null)},d=h=>{if(r)l(o.map(f=>f.id===r.id?{...f,...h}:f));else{const f={id:crypto.randomUUID(),...h};l([...o,f])}e(!1),n(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Tarification"}),a.jsxs("button",{onClick:()=>{n(null),e(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Nouvelle liste de prix"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(h=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:a.jsx(Pf,{size:20,className:"text-brand-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:h.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${h.type==="retail"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:h.type==="retail"?"Détail":"Gros"})]}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:h.description}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"text-sm text-white/60",children:["Valide du ",new Date(h.validFrom).toLocaleDateString("fr-FR"),h.validTo&&` au ${new Date(h.validTo).toLocaleDateString("fr-FR")}`]}),a.jsx("div",{className:"mt-4",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-sm text-white/60",children:[a.jsx("th",{className:"text-left pb-2",children:"Produit"}),a.jsx("th",{className:"text-left pb-2",children:"Calibre"}),a.jsx("th",{className:"text-right pb-2",children:"Prix"}),h.type==="wholesale"&&a.jsx("th",{className:"text-right pb-2",children:"Qté min."})]})}),a.jsx("tbody",{className:"text-white",children:h.products.map((f,p)=>a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-2",children:f.name}),a.jsxs("td",{className:"py-2",children:["N°",f.size]}),a.jsxs("td",{className:"text-right py-2",children:[f.price.toFixed(2),"€/",f.unit]}),h.type==="wholesale"&&a.jsx("td",{className:"text-right py-2",children:f.minQuantity})]},p))})]})})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c(h),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(qi,{size:20,className:"text-white/60"})}),a.jsx("button",{onClick:()=>s(h.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(ri,{size:20,className:"text-white/60"})})]})]})},h.id))}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx(jn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cette liste de prix ? Cette action est irréversible."}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la liste de prix":"Nouvelle liste de prix"}),a.jsxs("form",{onSubmit:h=>{h.preventDefault();const f=new FormData(h.currentTarget),p={name:f.get("name"),description:f.get("description"),type:f.get("type"),validFrom:f.get("validFrom"),validTo:f.get("validTo"),products:[]};d(p)},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la liste"}),a.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Prix Détail 2025",defaultValue:r==null?void 0:r.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),a.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[a.jsx("option",{value:"retail",children:"Vente au détail"}),a.jsx("option",{value:"wholesale",children:"Vente en gros"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de la liste de prix...",defaultValue:r==null?void 0:r.description,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide à partir du"}),a.jsx("input",{type:"date",name:"validFrom",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validFrom,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide jusqu'au"}),a.jsx("input",{type:"date",name:"validTo",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validTo})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Produits"}),a.jsxs("div",{className:"space-y-4",children:[((r==null?void 0:r.products)||[]).map((h,f)=>a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Produit"}),a.jsxs("select",{name:`products[${f}].name`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:h.name,children:[a.jsx("option",{value:"plates",children:"Huîtres Plates"}),a.jsx("option",{value:"creuses",children:"Huîtres Creuses"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Calibre"}),a.jsxs("select",{name:`products[${f}].size`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:h.size,children:[a.jsx("option",{value:"2",children:"N°2"}),a.jsx("option",{value:"3",children:"N°3"}),a.jsx("option",{value:"4",children:"N°4"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix"}),a.jsx("input",{type:"number",step:"0.01",name:`products[${f}].price`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:h.price})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Qté min."}),a.jsx("input",{type:"number",name:`products[${f}].minQuantity`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:h.minQuantity})]})]},f)),a.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>{const h=[...(r==null?void 0:r.products)||[]];h.push({name:"plates",size:"3",price:0,minQuantity:1}),n({...r||{name:"",description:"",type:"retail",validFrom:"",validTo:"",products:[]},products:h})},children:"+ Ajouter un produit"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>{e(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer la liste"})]})]})]})})]})}const lpe=[{id:"1",name:"Zone Nord",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1558,longitude:-1.1532},status:"active"},{id:"2",name:"Zone Sud",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1498,longitude:-1.1502},status:"active"}];function cpe(){var h,f;const[t,e]=k.useState(!1),[r,n]=k.useState(null),[i,s]=k.useState(null),[o,l]=k.useState(lpe),c=p=>{n(p),e(!0)},u=p=>{l(o.filter(m=>m.id!==p)),s(null)},d=p=>{if(r)l(o.map(m=>m.id===r.id?{...m,...p}:m));else{const m={id:crypto.randomUUID(),...p};l([...o,m])}e(!1),n(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Emplacements des tables"}),a.jsxs("button",{onClick:()=>{n(null),e(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Configuration table"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(p=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:a.jsx(Ju,{size:20,className:"text-brand-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.status==="active"?"bg-green-500/20 text-green-300":p.status==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:p.status==="active"?"Actif":p.status==="maintenance"?"Maintenance":"Inactif"})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Type"}),a.jsx("div",{className:"text-white",children:p.type}),a.jsx("div",{className:"text-sm text-white/60 mt-4",children:"Nombre de perches"}),a.jsx("div",{className:"text-white",children:p.capacity})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Nombre de corde par perches"}),a.jsx("div",{className:"text-white",children:p.cordCount})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c(p),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(qi,{size:20,className:"text-white/60"})}),a.jsx("button",{onClick:()=>s(p.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(ri,{size:20,className:"text-white/60"})})]})]})},p.id))}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx(jn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cet emplacement ? Cette action est irréversible."}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la table":"Nouvelle table"}),a.jsxs("form",{onSubmit:p=>{p.preventDefault();const m=new FormData(p.currentTarget),x={name:m.get("name"),type:m.get("type"),capacity:Number(m.get("capacity")),cordCount:Number(m.get("cordCount")),cordLength:Number(m.get("cordLength")),oystersPerCord:Number(m.get("oystersPerCord")),coordinates:{latitude:Number(m.get("latitude")),longitude:Number(m.get("longitude"))}};d(x)},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'emplacement"}),a.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Table Nord",defaultValue:r==null?void 0:r.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),a.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.type)||"table",required:!0,children:[a.jsx("option",{value:"table",children:"Table"}),a.jsx("option",{value:"tableTrempe",children:"Table de trempe"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de perches"}),a.jsx("input",{type:"number",name:"capacity",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.capacity)||100,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de corde par perches"}),a.jsx("input",{type:"number",name:"cordCount",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.cordCount)||10,required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Longueur de corde"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"number",name:"cordLength",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-l-lg text-white",defaultValue:(r==null?void 0:r.cordLength)||3,required:!0}),a.jsx("span",{className:"bg-white/10 px-3 py-2 rounded-r-lg text-white/60",children:"mètres"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre d'huitres par cordes"}),a.jsx("input",{type:"number",name:"oystersPerCord",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.oystersPerCord)||130,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Coordonnées GPS"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Latitude"}),a.jsx("input",{type:"number",name:"latitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(h=r==null?void 0:r.coordinates)==null?void 0:h.latitude,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Longitude"}),a.jsx("input",{type:"number",name:"longitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(f=r==null?void 0:r.coordinates)==null?void 0:f.longitude,required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>{e(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer table"})]})]})]})})]})}const VS=[{id:"1",name:"Douzaine",symbol:"dz",type:"quantity",description:"Unité de base pour les huîtres"},{id:"2",name:"Kilogramme",symbol:"kg",type:"weight",description:"Unité de poids standard"},{id:"3",name:"Pochon",symbol:"pch",type:"quantity",baseUnit:"douzaine",conversionFactor:12,description:"Contenant standard pour l'élevage"},{id:"4",name:"Caisse de conditionnement",symbol:"ccon",type:"quantity",baseUnit:"douzaine",conversionFactor:24,description:"Caisse utilisée pour le conditionnement des huîtres"},{id:"5",name:"Caisse de stockage bassin",symbol:"cstk",type:"quantity",baseUnit:"douzaine",conversionFactor:36,description:"Caisse pour le stockage en bassin"}];function upe(){const[t,e]=k.useState(!1);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Unités & Mesures"}),a.jsxs("button",{onClick:()=>e(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[a.jsx(Mt,{size:20,className:"mr-2"}),"Nouvelle unité"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:VS.map(r=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:a.jsx(fg,{size:20,className:"text-brand-burgundy"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:r.name}),a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.symbol}),a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.type})]}),r.description&&a.jsx("p",{className:"text-sm text-white/60 mt-1",children:r.description}),r.baseUnit&&a.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["1 ",r.symbol," = ",r.conversionFactor," ",r.baseUnit]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(qi,{size:20,className:"text-white/60"})}),a.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(ri,{size:20,className:"text-white/60"})})]})]})},r.id))}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Nouvelle unité"}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'unité"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Douzaine"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Symbole"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: dz"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),a.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[a.jsx("option",{value:"weight",children:"Poids"}),a.jsx("option",{value:"volume",children:"Volume"}),a.jsx("option",{value:"quantity",children:"Quantité"}),a.jsx("option",{value:"dimension",children:"Dimension"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de l'unité..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité de base"}),a.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[a.jsx("option",{value:"",children:"Aucune"}),VS.map(r=>a.jsxs("option",{value:r.symbol,children:[r.name," (",r.symbol,")"]},r.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Facteur de conversion"}),a.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'unité"})]})]})]})})]})}const dpe=[{id:"company",label:"Entreprise",icon:a.jsx(xg,{size:20}),description:"Informations et paramètres de l'entreprise"},{id:"roles",label:"Rôles & Permissions",icon:a.jsx(ki,{size:20}),description:"Gestion des accès et des droits utilisateurs"},{id:"products",label:"Produits",icon:a.jsx(tn,{size:20}),description:"Configuration des produits et du catalogue"},{id:"pricing",label:"Tarification",icon:a.jsx(Pf,{size:20}),description:"Configuration des prix et remises"},{id:"locations",label:"Emplacements",icon:a.jsx(Ju,{size:20}),description:"Configuration des tables"},{id:"units",label:"Unités & Mesures",icon:a.jsx(fg,{size:20}),description:"Configuration des unités de mesure"}];function JP(){const[t,e]=k.useState("company"),r=()=>{switch(t){case"company":return a.jsx(Q0e,{});case"roles":return a.jsx(tpe,{});case"products":return a.jsx(npe,{});case"suppliers":return a.jsx(ape,{});case"pricing":return a.jsx(ope,{});case"locations":return a.jsx(cpe,{});case"units":return a.jsx(upe,{});default:return null}};return a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 p-6 animate-fadeIn",children:[a.jsx("div",{className:"config-container",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-lg"}),a.jsx(gg,{size:24,className:"text-cyan-400 relative z-10","aria-hidden":"true"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Configuration"})]})}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("nav",{className:"col-span-3",children:a.jsx("div",{className:"config-container space-y-2",children:dpe.map(n=>a.jsxs("button",{onClick:()=>e(n.id),className:`
                  flex items-center w-full gap-3 px-4 py-3 rounded-lg transition-all duration-300
                  ${t===n.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}
                  min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40
                `,"aria-selected":t===n.id,role:"tab",children:[a.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:n.icon}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium",children:n.label}),a.jsx("span",{className:"text-sm text-white/70",children:n.description})]})]},n.id))})}),a.jsx("main",{className:"col-span-9",children:a.jsx("div",{className:"config-container",children:a.jsx(sr,{mode:"wait",children:a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r()},t)})})})]})]})}const hpe=[{id:"1",type:"alert",title:"Alerte stock critique",message:"Le stock d'huîtres plates N°3 est en dessous du seuil minimum",timestamp:"2025-02-19T10:30:00",read:!1,important:!0,category:"inventory",link:"/inventory"},{id:"2",type:"success",title:"Tâche terminée",message:"Marie Martin a terminé l'inspection des tables",timestamp:"2025-02-19T09:15:00",read:!1,important:!1,category:"task",link:"/tasks"},{id:"3",type:"warning",title:"Contrôle qualité requis",message:"Le lot LOT-2025-001 nécessite un contrôle qualité",timestamp:"2025-02-19T08:45:00",read:!0,important:!0,category:"quality",link:"/quality"},{id:"4",type:"info",title:"Nouveau congé",message:"Jean Dupont a déposé une demande de congés",timestamp:"2025-02-19T08:30:00",read:!0,important:!1,category:"hr",link:"/hr"}],fpe={alert:qn,success:Fd,info:$d,warning:ei},ppe={system:$d,task:zn,inventory:tn,quality:ks,hr:ki},GS={alert:"bg-red-500/20 text-red-300",success:"bg-green-500/20 text-green-300",info:"bg-blue-500/20 text-blue-300",warning:"bg-yellow-500/20 text-yellow-300"};function mpe({searchQuery:t,filter:e}){const[r,n]=k.useState(null),[i,s]=k.useState(hpe),o=i.filter(d=>{const h=d.title.toLowerCase().includes(t.toLowerCase())||d.message.toLowerCase().includes(t.toLowerCase()),f=e==="all"||e==="unread"&&!d.read||e==="important"&&d.important;return h&&f}),l=d=>{s(i.map(h=>h.id===d?{...h,read:!0}:h))},c=d=>{s(i.map(h=>h.id===d?{...h,important:!h.important}:h))},u=d=>{s(i.filter(h=>h.id!==d))};return a.jsx("div",{className:"space-y-4",children:o.map(d=>{const h=fpe[d.type],f=ppe[d.category];return a.jsx("div",{className:`bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors ${d.read?"":"bg-white/10"}`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${GS[d.type].split(" ")[0]} flex items-center justify-center`,children:a.jsx(h,{size:20,className:GS[d.type].split(" ")[1]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:d.title}),d.important&&a.jsx("span",{className:"px-2 py-1 bg-brand-burgundy/20 text-brand-burgundy rounded-full text-xs",children:"Important"}),!d.read&&a.jsx("span",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),a.jsx("p",{className:"text-white/70 mt-1",children:d.message}),a.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ei,{size:16,className:"mr-1"}),Bt(new Date(d.timestamp),"PPp",{locale:gr})]}),a.jsx("div",{children:"•"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(f,{size:16,className:"mr-1"}),d.category]})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(r===d.id?null:d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(w0,{size:20,className:"text-white/60"})}),r===d.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[!d.read&&a.jsxs("button",{onClick:()=>l(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(Vb,{size:16,className:"mr-2"}),"Marquer comme lu"]}),a.jsxs("button",{onClick:()=>c(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(Wi,{size:16,className:"mr-2"}),d.important?"Retirer important":"Marquer important"]}),a.jsxs("button",{onClick:()=>u(d.id),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[a.jsx(ri,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},d.id)})})}const vb=[{name:"Alertes",value:15},{name:"Succès",value:25},{name:"Informations",value:40},{name:"Avertissements",value:20}],xpe=[{date:"Lun",count:12},{date:"Mar",count:15},{date:"Mer",count:8},{date:"Jeu",count:20},{date:"Ven",count:14}],bb=["#ef4444","#22c55e","#3b82f6","#eab308"];function gpe(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:a.jsx($d,{size:20,className:"text-brand-burgundy"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Total notifications"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"156"}),a.jsx("div",{className:"text-sm text-white/60",children:"Cette semaine"})]})]})}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:a.jsx(qn,{size:20,className:"text-red-300"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Non lues"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"8"}),a.jsx("div",{className:"text-sm text-red-300",children:"Nécessite attention"})]})]})}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:a.jsx(Fd,{size:20,className:"text-green-300"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Traitées"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),a.jsx("div",{className:"text-sm text-green-300",children:"91% de résolution"})]})]})}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:a.jsx(ei,{size:20,className:"text-yellow-300"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Temps moyen"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5h"}),a.jsx("div",{className:"text-sm text-white/60",children:"De résolution"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Notifications par type"}),a.jsx("div",{className:"h-80",children:a.jsx(lx,{width:"100%",height:"100%",children:a.jsxs(BO,{children:[a.jsx(Hs,{data:vb,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:vb.map((t,e)=>a.jsx(O0,{fill:bb[e%bb.length]},`cell-${e}`))}),a.jsx(Sa,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},formatter:t=>`${t}%`})]})})}),a.jsx("div",{className:"mt-6 space-y-4",children:vb.map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:bb[e]}}),a.jsx("span",{className:"text-white/70",children:t.name})]}),a.jsxs("span",{className:"text-white",children:[t.value,"%"]})]},t.name))})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Volume par jour"}),a.jsx("div",{className:"h-80",children:a.jsx(lx,{width:"100%",height:"100%",children:a.jsxs(kue,{data:xpe,children:[a.jsx(k5,{strokeDasharray:"3 3",stroke:"#ffffff10"}),a.jsx(eh,{dataKey:"date",stroke:"#ffffff60"}),a.jsx(th,{stroke:"#ffffff60"}),a.jsx(Sa,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},itemStyle:{color:"#fff"}}),a.jsx(Bc,{dataKey:"count",name:"Notifications",fill:"#8B0000"})]})})})]})]})]})}function vpe({onClose:t}){return a.jsx(mi,{isOpen:!0,onClose:t,title:"Paramètres des notifications",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Canaux de notification"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx($d,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Application"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications dans l'interface"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ta,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Email"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications par email"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(kC,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Mobile"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications push sur mobile"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Hi,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"SMS"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications par SMS"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Types de notifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Alertes système"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications critiques du système"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Tâches"}),a.jsx("div",{className:"text-sm text-white/60",children:"Mises à jour des tâches assignées"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Stock"}),a.jsx("div",{className:"text-sm text-white/60",children:"Alertes de niveau de stock"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Qualité"}),a.jsx("div",{className:"text-sm text-white/60",children:"Rapports de contrôle qualité"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"RH"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications RH et congés"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})})}function bpe(){const[t,e]=k.useState(!0),[r,n]=k.useState(!1),[i,s]=k.useState(""),[o,l]=k.useState("all");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notifications"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>e(!t),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(_C,{size:20,className:"mr-2"}),"Statistiques"]}),a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(gg,{size:20,className:"mr-2"}),"Paramètres"]})]})]}),t&&a.jsx(gpe,{}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(fn,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg transition-colors ${o==="all"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Toutes"}),a.jsx("button",{onClick:()=>l("unread"),className:`px-4 py-2 rounded-lg transition-colors ${o==="unread"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Non lues"}),a.jsx("button",{onClick:()=>l("important"),className:`px-4 py-2 rounded-lg transition-colors ${o==="important"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Importantes"})]})]}),a.jsx(mpe,{searchQuery:i,filter:o}),r&&a.jsx(vpe,{onClose:()=>n(!1)})]})}const B2=({onClose:t,task:e})=>{const n=(x=>!x||!Array.isArray(x)?"":x.map(g=>{if(typeof g=="object"&&g!==null){const b=typeof g.author=="string"?g.author:g.author&&typeof g.author=="object"&&g.author.name?g.author.name:"Utilisateur",y=typeof g.content=="string"?g.content:JSON.stringify(g.content);return`${b}: ${y}`}return typeof g=="string"?g:JSON.stringify(g)}).join(`

`))(e==null?void 0:e.comments),{register:i,handleSubmit:s,formState:{errors:o},watch:l}=rh({defaultValues:{...e||{},comments:n}}),[c,u]=k.useState("details"),[d,h]=k.useState(null),p=l("status")==="completed",m=async x=>{try{const g={...x,comments:(e==null?void 0:e.comments)||x.comments};console.log("Mise à jour de tâche:",g),t()}catch(g){console.error("Error updating task:",g)}};return a.jsx("div",{className:"modal-container",children:a.jsxs("form",{onSubmit:s(m),className:"space-y-6",children:[p&&a.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[a.jsx("button",{type:"button",className:`px-4 py-2 mr-2 transition-all ${c==="details"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>u("details"),"aria-label":"Afficher les détails de la tâche",children:a.jsx("div",{className:"flex items-center",children:"Détails"})}),a.jsx("button",{type:"button",className:`px-4 py-2 transition-all ${c==="performance"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>u("performance"),"aria-label":"Afficher la performance de la tâche",children:a.jsx("div",{className:"flex items-center",children:"Performance"})})]}),c==="details"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"title",children:"Titre de la tâche"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",...i("title",{required:"Le titre est requis"}),id:"title",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Entrez le titre de la tâche","aria-required":"true"})}),o.title&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.title.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"description",children:"Description"}),a.jsx("textarea",{...i("description"),id:"description",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[100px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Décrivez la tâche en détail"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"dueDate",children:"Date"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(zn,{size:16})}),a.jsx("input",{type:"date",...i("dueDate",{required:"La date est requise"}),id:"dueDate",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-required":"true"})]}),o.dueDate&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.dueDate.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"assignedTo",children:"Assigné à"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(Ic,{size:16})}),a.jsxs("select",{...i("assignedTo"),id:"assignedTo",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white appearance-none focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx("option",{value:"",children:"Sélectionner un utilisateur"}),a.jsx("option",{value:"John Doe",children:"John Doe"}),a.jsx("option",{value:"Jane Smith",children:"Jane Smith"}),a.jsx("option",{value:"Alex Johnson",children:"Alex Johnson"})]}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-4 h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"estimatedHours",children:"Heures estimées"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(ei,{size:16})}),a.jsx("input",{type:"number",step:"0.5",...i("estimatedHours",{required:"Ce champ est requis",min:{value:.5,message:"Minimum 0.5 heure"},max:{value:100,message:"Maximum 100 heures"}}),id:"estimatedHours",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Heures","aria-required":"true"})]}),o.estimatedHours&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.estimatedHours.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"comments",children:"Commentaires"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-4 text-white/40",children:a.jsx(zs,{size:16})}),a.jsx("textarea",{...i("comments"),id:"comments",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[80px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Ajoutez vos commentaires ici..."})]})]})]}),c==="performance"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-4 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Évaluation de la tâche"}),a.jsx("div",{className:"flex flex-wrap justify-center sm:justify-start space-x-1",children:[1,2,3,4,5].map(x=>a.jsx("button",{type:"button",onClick:()=>h(x),className:`p-1 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-md transition-colors ${d&&d>=x?"text-yellow-400":"text-white/30 hover:text-white/50"}`,"aria-label":`Évaluer ${x} sur 5`,children:a.jsx(Wi,{className:"w-5 h-5 sm:w-6 sm:h-6",fill:d&&d>=x?"currentColor":"none"})},x))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"delay",children:"Retard (en jours)"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(jn,{size:16})}),a.jsx("input",{type:"number",step:"1",...i("delay"),id:"delay",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"0"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/30 text-white/70 hover:text-white transition-all min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Enregistrer"})]})]})})},ype={low:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400",gradientClass:"from-green-500/10 to-transparent"},medium:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400",gradientClass:"from-amber-500/10 to-transparent"},high:{badgeClass:"text-red-300 bg-red-500/20 border-red-500/30",iconColor:"text-red-400",gradientClass:"from-red-500/10 to-transparent"}},wpe={pending:{badgeClass:"text-blue-300 bg-blue-500/20 border-blue-500/30",iconColor:"text-blue-400"},inProgress:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400"},completed:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400"},cancelled:{badgeClass:"text-gray-300 bg-gray-500/20 border-gray-500/30",iconColor:"text-gray-400"}},XS={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2}},exit:{opacity:0,y:20,transition:{duration:.2}}},jpe=[{id:"1",title:"Nettoyage des poches d'huîtres",description:"Nettoyer les poches d'huîtres dans la zone A pour éliminer les algues et sédiments. Vérifier l'état des attaches.",status:"completed",priority:"medium",dueDate:"2023-09-15",assignedTo:"Thomas Moreau",category:"Entretien",location:"Zone A - Parc 3",tags:["Nettoyage","Poches"],estimatedTime:6,actualTime:5,comments:[{author:"Jean Dupont",content:"J'ai remarqué que les attaches des poches 45 à 52 sont usées et devront être remplacées prochainement.",date:"2023-09-10T14:30:00",rating:4,attachments:[]},{author:"Thomas Moreau",content:"Nettoyage terminé avec efficacité. J'ai également remplacé quelques attaches qui étaient trop abîmées.",date:"2023-09-12T09:45:00",rating:5,attachments:["rapport-entretien.pdf"]}],delay:0,performance:{efficiency:100,quality:92,timeliness:100}},{id:"2",title:"Retournement des poches d'huîtres",description:"Retourner les poches dans les parcs 5 à 8 pour assurer une croissance uniforme des huîtres et réduire les déformations.",status:"in_progress",priority:"high",dueDate:"2023-09-25",assignedTo:"Marie Lefèvre",category:"Manipulation",location:"Zone B - Parcs 5-8",tags:["Retournement","Croissance"],estimatedTime:10,actualTime:8,comments:[{author:"Marie Lefèvre",content:"Les parcs 5 et 6 sont terminés. J'ai remarqué une forte présence de naissain naturel sur certaines poches.",date:"2023-09-18T10:15:00",rating:3,attachments:["observations.jpg"]}],delay:0,performance:{efficiency:70,quality:85,timeliness:90}},{id:"3",title:"Tri et calibrage des huîtres",description:"Trier et calibrer les huîtres du lot 2023-B pour séparer les différentes tailles et déterminer celles prêtes pour la vente.",status:"pending",priority:"medium",dueDate:"2023-09-30",assignedTo:"Pierre Dubois",category:"Tri",location:"Atelier principal",tags:["Calibrage","Tri","Vente"],estimatedTime:8,actualTime:0,comments:[{author:"Pierre Dubois",content:"J'ai préparé la zone de tri et vérifié l'état de la calibreuse automatique.",date:"2023-09-17T11:00:00",rating:0,attachments:["vérification-machine.pdf"]}],delay:0},{id:"4",title:"Mise en claire des huîtres spéciales",description:"Transférer les huîtres spéciales sélectionnées vers les claires pour l'affinage avant la période de fêtes. Vérifier la salinité et le phytoplancton.",status:"pending",priority:"low",dueDate:"2023-10-05",assignedTo:"Sophie Martin",category:"Affinage",location:"Claires - Marais Est",tags:["Affinage","Spéciales","Préparation fêtes"],estimatedTime:5,actualTime:0,comments:[]}];function Npe({searchQuery:t,onTaskSelect:e}){const[r,n]=k.useState(null),[i,s]=k.useState([]),[o,l]=k.useState(null),[c,u]=k.useState(!1),[d,h]=k.useState(!1),[f,p]=k.useState(""),[m,x]=k.useState(null),[g,b]=k.useState(!1),[y,w]=k.useState({}),[j,_]=k.useState(""),[S,A]=k.useState("");k.useState(!0),k.useState({top:0,left:0});const[O,M]=k.useState(!1),[B,T]=k.useState(null),[E,R]=k.useState(jpe),F=k.useMemo(()=>E.filter(ae=>ae.title.toLowerCase().includes(t.toLowerCase())||ae.description&&ae.description.toLowerCase().includes(t.toLowerCase())),[E,t]),W=ae=>{const Pe=F.find(Ue=>Ue.id===ae);if(!Pe)return 0;const De=Pe.estimatedTime||8,he=Pe.actualTime||Math.random()*De*1.5;let te=0;if(he<De)te=Math.round(De/he*100);else if(he===De)te=100;else{const Ue=he/De;Ue<=1.1?te=90:Ue<=1.25?te=75:Ue<=1.5?te=60:Ue<=2?te=40:te=20}return Math.round(te)},$=ae=>ae>=100||ae>=90?"text-green-500":ae>=75?"text-green-400":ae>=60?"text-yellow-400":ae>=40?"text-amber-500":"text-red-500",z=ae=>{s(Pe=>Pe.includes(ae)?Pe.filter(De=>De!==ae):[...Pe,ae])},X=(ae,Pe)=>{Pe&&Pe.stopPropagation(),x(ae.id),n(ae)},Y=ae=>{T(ae),M(!0)},oe=()=>{B&&(R(ae=>ae.filter(Pe=>Pe.id!==B)),o&&o.id===B&&l(null),r&&r.id===B&&n(null),console.log(`Task deleted: ${B}`),M(!1),T(null))},fe=()=>{M(!1),T(null)},D=ae=>{g&&x(ae.id)},I=ae=>new Date(ae).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),U=(ae,Pe)=>{Pe.stopPropagation(),x(ae),u(!0)},J=(ae,Pe)=>{Pe.stopPropagation(),x(ae),h(!0)},Q=(ae,Pe)=>{ae&&ae.stopPropagation(),typeof Pe=="function"&&Pe(Pe===l||Pe===n?null:!1)},de=ae=>{ae&&(ae.stopPropagation(),ae.preventDefault()),n(null)},xe=ae=>{ae.stopPropagation(),ae.preventDefault()},le=()=>{m&&f&&(console.log(`Commentaire ajouté pour la tâche ${m}:`,f),p(""),u(!1))},_e=()=>{m&&j&&(console.log(`Retard signalé pour la tâche ${m}:`,{raison:j,durée:S}),_(""),A(""),h(!1))};k.useEffect(()=>{const ae={};F.forEach(Pe=>{ae[Pe.id]=ne.createRef()}),w(ae)},[F]),k.useEffect(()=>{const ae=()=>{b(window.innerWidth<=768)};return ae(),window.addEventListener("resize",ae),()=>{window.removeEventListener("resize",ae)}},[]);const Oe=!g;return a.jsxs("div",{className:`task-list ${g?"isResponsive":""}`,children:[F.length===0?a.jsxs("div",{className:"empty-task-state",children:[a.jsx("div",{className:"empty-task-icon",children:a.jsx(oD,{size:40})}),a.jsx("h3",{className:"empty-task-title",children:"Aucune tâche trouvée"}),a.jsx("p",{className:"empty-task-text",children:"Commencez à ajouter de nouvelles tâches ou modifiez vos critères de recherche."})]}):a.jsx("div",{className:"task-grid",children:F.map(ae=>{var ee,re;const Pe=ae.priority,De=ae.status,he=i.includes(ae.id),te=De==="completed"?"Terminée":De==="in_progress"?"En cours":"En attente",Ue=De==="completed"?"completed":De==="in_progress"?"inProgress":"pending";return a.jsxs("div",{className:"task-card-wrapper",ref:y[ae.id],children:[g&&m===ae.id&&a.jsxs(a.Fragment,{children:[c&&a.jsx("div",{className:"modal-responsive-container",onClick:ue=>Q(ue,u),children:a.jsxs("div",{className:"modal-responsive-content",onClick:xe,children:[a.jsxs("div",{className:"modal-responsive-header",children:[a.jsx("h3",{children:"Ajouter un commentaire"}),a.jsx("button",{onClick:ue=>Q(ue,u),className:"modal-responsive-close",children:a.jsx(yt,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("textarea",{value:f,onChange:ue=>p(ue.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{onClick:ue=>Q(ue,u),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),a.jsx("button",{onClick:le,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!f.trim(),children:"Envoyer"})]})]})]})}),d&&a.jsx("div",{className:"modal-responsive-container",onClick:ue=>Q(ue,h),children:a.jsxs("div",{className:"modal-responsive-content",onClick:xe,children:[a.jsxs("div",{className:"modal-responsive-header",children:[a.jsx("h3",{children:"Signaler un retard"}),a.jsx("button",{onClick:ue=>Q(ue,h),className:"modal-responsive-close",children:a.jsx(yt,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),a.jsx("textarea",{value:j,onChange:ue=>_(ue.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),a.jsx("input",{type:"text",value:S,onChange:ue=>A(ue.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{onClick:ue=>Q(ue,h),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),a.jsx("button",{onClick:_e,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!j.trim(),children:"Signaler"})]})]})]})}),a.jsx(sr,{children:r&&r.id===ae.id&&a.jsx(we.div,{className:"modal-responsive-container edit-modal-responsive",onClick:de,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(we.div,{className:"modal-responsive-content edit-modal-responsive-content",onClick:xe,variants:XS,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsxs("div",{className:"modal-responsive-header",children:[a.jsx("h3",{children:"Modifier la tâche"}),a.jsx("button",{onClick:de,className:"modal-responsive-close",children:a.jsx(yt,{size:20})})]}),a.jsx("div",{className:"p-4",children:a.jsx(B2,{onClose:de,task:r})})]})})})]}),a.jsxs("div",{className:"task-card",onClick:()=>D(ae),children:[a.jsx("div",{className:`task-card-header ${ype[Pe].gradientClass}`,children:a.jsxs("div",{className:"task-header-content",children:[a.jsxs("div",{className:"task-header-left",children:[ae.status==="completed"&&a.jsx("div",{className:"ml-2 flex items-center",children:a.jsxs("div",{className:"efficiency-indicator flex items-center",title:"Pourcentage de rendement basé sur le temps",children:[a.jsx("span",{className:"text-xs text-white/60 mr-1",children:"Rendement:"}),a.jsxs("span",{className:`text-sm font-medium ${$(W(ae.id))}`,children:[W(ae.id),"%"]})]})}),a.jsx("div",{className:"status-container",children:a.jsx("div",{className:`status-badge ${wpe[Ue].badgeClass}`,children:a.jsx("span",{children:te})})})]}),a.jsx("div",{className:"task-header-right",children:a.jsx("button",{className:"expand-task-btn p-1.5 rounded-full hover:bg-white/10 transition-colors",onClick:ue=>{ue.stopPropagation(),z(ae.id)},"aria-label":he?"Réduire":"Développer",children:he?a.jsx(ww,{className:"transition-transform duration-200",size:16}):a.jsx(kc,{className:"transition-transform duration-200",size:16})})})]})}),a.jsxs("div",{className:`task-card-body ${he?"expanded":""}`,children:[a.jsx("h3",{className:"task-title",children:ae.title}),a.jsx("p",{className:"task-description",children:ae.description}),a.jsxs("div",{className:"task-metadata",children:[ae.dueDate&&a.jsxs("div",{className:"metadata-item",children:[a.jsx(zn,{size:14,className:"metadata-icon"}),a.jsx("span",{children:I(ae.dueDate)})]}),ae.assignedTo&&a.jsxs("div",{className:"metadata-item",children:[a.jsx(Ic,{size:14,className:"metadata-icon"}),a.jsx("span",{children:ae.assignedTo})]}),ae.location&&a.jsxs("div",{className:"metadata-item",children:[a.jsx(xi,{size:14,className:"metadata-icon"}),a.jsx("span",{children:ae.location})]})]}),a.jsxs("div",{className:`expanded-content ${he?"expanded":""}`,children:[a.jsxs("div",{className:"task-tags",children:[ae.category&&a.jsxs("div",{className:"task-tag",children:[a.jsx(ac,{size:12}),a.jsx("span",{children:ae.category})]}),ae.title.toLowerCase().includes("inspection")&&a.jsxs("div",{className:"task-tag",children:[a.jsx(ac,{size:12}),a.jsx("span",{children:"inspection"})]}),ae.title.toLowerCase().includes("qualité")||((ee=ae.description)==null?void 0:ee.toLowerCase().includes("qualité"))&&a.jsxs("div",{className:"task-tag",children:[a.jsx(ac,{size:12}),a.jsx("span",{children:"qualité"})]}),ae.title.toLowerCase().includes("huître")||((re=ae.description)==null?void 0:re.toLowerCase().includes("huître"))&&a.jsxs("div",{className:"task-tag",children:[a.jsx(ac,{size:12}),a.jsx("span",{children:"huîtres"})]})]}),a.jsxs("div",{className:"task-actions flex flex-col gap-2 w-full",children:[a.jsxs("div",{className:"flex justify-between w-full gap-2",children:[a.jsxs("button",{className:"delay-btn comment-btn p-1.5 rounded-md hover:bg-white/10 transition-colors flex items-center justify-center w-1/2",onClick:ue=>U(ae.id,ue),"aria-label":"Commenter",title:"Commenter",children:[a.jsx(zs,{size:16,className:"text-blue-400 mr-2"}),a.jsx("span",{className:"text-s",children:"Commenter"})]}),a.jsxs("button",{className:"delay-btn p-1.5 rounded-md hover:bg-white/10 transition-colors flex items-center justify-center w-1/2",onClick:ue=>J(ae.id,ue),"aria-label":"Signaler un retard",title:"Signaler un retard",children:[a.jsx(jn,{size:16,className:"text-amber-400 mr-2"}),a.jsx("span",{className:"text-s",children:"Signaler un retard"})]})]}),a.jsxs("div",{className:"flex justify-between w-full gap-2",children:[a.jsxs("button",{className:"task-action-btn edit w-1/2",onClick:ue=>X(ae,ue),"aria-label":"Modifier",title:"Modifier",children:[a.jsx(jw,{size:14}),a.jsx("span",{children:"Modifier"})]}),a.jsxs("button",{className:"task-action-btn delete w-1/2",onClick:ue=>{ue.stopPropagation(),Y(ae.id)},children:[a.jsx(ri,{size:14}),a.jsx("span",{children:"Supprimer"})]})]})]})]}),a.jsx("div",{className:"performance-details",children:he&&ae.status==="completed"&&a.jsxs("div",{className:"bg-white/5 mt-3 p-3 rounded-lg border border-white/10",children:[a.jsxs("h4",{className:"text-sm font-medium text-white mb-2 flex items-center",children:[a.jsx(ei,{size:14,className:"mr-1.5 text-yellow-400"}),"Évaluation du temps de réalisation"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps prévu"}),a.jsxs("div",{className:"text-sm text-white",children:[ae.estimatedTime||8," heures"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps réel"}),a.jsxs("div",{className:"text-sm text-white",children:[ae.actualTime||Math.round((Math.random()*.5+.75)*(ae.estimatedTime||8)*10)/10," heures"]})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Rendement"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full",children:a.jsx("div",{className:"h-full rounded-full bg-green-500",style:{width:`${Math.min(100,W(ae.id))}%`}})}),a.jsxs("span",{className:`ml-2 text-sm font-medium ${$(W(ae.id))}`,children:[W(ae.id),"%"]})]})]})]})]})})]})]}),O&&B===ae.id&&a.jsx("div",{className:"modal-responsive-container",onClick:fe,children:a.jsxs("div",{className:"modal-responsive-content",onClick:ue=>ue.stopPropagation(),children:[a.jsxs("div",{className:"modal-responsive-header",children:[a.jsx("h3",{className:"text-white text-lg font-medium",children:"Confirmer la suppression"}),a.jsx("button",{onClick:fe,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center",children:a.jsx(yt,{size:20})})]}),a.jsx("div",{className:"modal-responsive-body",children:a.jsx("p",{className:"text-white/90",children:"Êtes-vous sûr de vouloir supprimer cette tâche ? Cette action est irréversible."})}),a.jsxs("div",{className:"modal-responsive-footer",children:[a.jsx("button",{onClick:fe,className:"px-4 py-2 text-white/80 hover:text-white",children:"Annuler"}),a.jsx("button",{onClick:oe,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Supprimer"})]})]})})]},ae.id)})}),a.jsx(sr,{}),a.jsx(sr,{children:r&&Oe&&a.jsx(we.div,{className:"fixed inset-0 bg-black/70 z-50 motion-div-overlay task-list-container-modal edit-task-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ae=>Q(ae,n),children:a.jsxs(we.div,{className:"p-4 sm:p-6 rounded-lg max-w-2xl w-full mx-2 sm:mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20 edit-modal-content task-list-container-modal-content",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:xe,variants:XS,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white text-lg font-medium",children:"Modifier la tâche"}),a.jsx("button",{onClick:()=>Q(null,n),className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center",children:a.jsx(yt,{size:20})})]}),a.jsx(B2,{onClose:()=>Q(null,n),task:r})]})]})})}),c&&Oe&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",onClick:()=>Q(null,u),children:a.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:ae=>ae.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white text-lg font-medium",children:"Ajouter un commentaire"}),a.jsx("button",{onClick:()=>Q(null,u),className:"text-white/60 hover:text-white",children:a.jsx(yt,{size:20})})]}),a.jsx("textarea",{value:f,onChange:ae=>p(ae.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{onClick:()=>Q(null,u),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),a.jsx("button",{onClick:le,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!f.trim(),children:"Envoyer"})]})]})}),d&&Oe&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",onClick:()=>Q(null,h),children:a.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:ae=>ae.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white text-lg font-medium",children:"Signaler un retard"}),a.jsx("button",{onClick:()=>Q(null,h),className:"text-white/60 hover:text-white",children:a.jsx(yt,{size:20})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),a.jsx("textarea",{value:j,onChange:ae=>_(ae.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),a.jsx("input",{type:"text",value:S,onChange:ae=>A(ae.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{onClick:()=>Q(null,h),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),a.jsx("button",{onClick:_e,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!j.trim(),children:"Signaler"})]})]})})]})}const _pe=({value:t,maxValue:e=100,color:r})=>{const n=Math.min(100,Math.round(t/e*100));return a.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},Spe=({currentSize:t,targetSize:e,progress:r})=>{const n=["T15","N°5","N°4","N°3","N°2","N°1"],i=()=>r>100?"#ef4444":r>=85?"#22c55e":(r>=70,"#3b82f6");return a.jsxs("div",{className:"mt-4 mb-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("div",{className:"text-white/70 text-xs",children:"Début"}),a.jsx("div",{className:"text-white/70 text-xs",children:"Objectif"}),a.jsx("div",{className:"text-white/70 text-xs",children:"Final"})]}),a.jsxs("div",{className:"relative h-3 w-full rounded-full overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to right, #3b82f6, #3b82f6 30%, #3b82f6 50%, #3b82f6 75%, #22c55e 85%, #eab308 95%, #ef4444)"}}),a.jsx("div",{className:"absolute inset-y-0 right-0 bg-gray-900/70 rounded-r-full transition-all duration-1000 ease-out",style:{width:`${100-r}%`}}),a.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white/70",style:{left:"85%"}}),a.jsxs("div",{className:"absolute top-1/2 z-10 -translate-y-1/2 transition-all duration-1000",style:{left:`${r}%`},children:[a.jsx(we.div,{className:"absolute -inset-2 rounded-full opacity-30",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{backgroundColor:i()}}),a.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg border-2 border-white z-20",style:{backgroundColor:i()}})]})]}),a.jsx("div",{className:"flex justify-between mt-1",children:n.map((s,o)=>a.jsx("div",{className:`text-xs ${s===t?"text-white font-bold":s===e?"text-green-400 font-bold":"text-white/50"}`,children:s},o))})]})},Ape=({occupancy:t})=>{const e=Array.from({length:10},(i,s)=>s+1),r=t/100*10,n="w-full h-7 rounded-sm border border-white/10";return a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full mt-2",style:{backgroundColor:"rgb(7, 26, 64)"},children:e.map(i=>{const s=i===Math.ceil(r)&&!Number.isInteger(r),o=i<=Math.floor(r);return i===1?a.jsx("div",{className:`${n} bg-transparent`},i):o?a.jsx("div",{className:`${n} bg-[#a02648]`},i):s?a.jsx("div",{className:`${n} relative overflow-hidden`,children:a.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-[#a02648]",style:{width:"50%"}})},i):a.jsx("div",{className:`${n} bg-transparent`},i)})})},Cpe=()=>{const t=[{date:"13/01/2025",action:"Échantillonnage",user:"Sophie L."},{date:"12/01/2025",action:"Vider 15 cordes",user:"Marc D."},{date:"11/01/2025",action:"Vider 15 cordes",user:"Jean F."},{date:"10/01/2025",action:"Vider 15 cordes",user:"Pierre M."}];return a.jsx("div",{className:"space-y-3 mt-4",children:t.map((e,r)=>a.jsxs(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.1},className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/10",children:a.jsx(lD,{size:16,className:"text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.action}),a.jsx("div",{className:"text-sm text-white/60",children:e.date})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ic,{size:16,className:"text-white/40 mr-1"}),a.jsx("span",{className:"text-white/70",children:e.user})]})]},r))})};function Epe({table:t,onClose:e}){const r=_0(e),n=t.alert||t.timeProgress>100,[i,s]=k.useState("info");return a.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4 md:p-6",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:a.jsxs(we.div,{ref:r,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},className:"glass-effect shadow-glass w-full max-w-4xl rounded-xl overflow-hidden relative",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-900/80 to-brand-burgundy/80 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 blur-xl rounded-full"}),a.jsx(Dr,{size:24,className:"text-white relative z-10"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),a.jsx("p",{className:"text-white/70",children:t.type}),t.status&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 mt-2 rounded-full text-xs font-medium bg-white/10 text-white/80",children:t.status})]})]}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full","aria-label":"Fermer",children:a.jsx(yt,{size:24})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex border-b border-white/10",children:[a.jsx("button",{onClick:()=>s("info"),className:`px-4 py-2 font-medium transition-colors ${i==="info"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Informations"}),a.jsx("button",{onClick:()=>s("history"),className:`px-4 py-2 font-medium transition-colors ${i==="history"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Historique"})]}),i==="info"&&a.jsxs(a.Fragment,{children:[a.jsxs(we.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5},className:"glass-effect rounded-xl p-6 space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(ui,{size:18,className:"mr-2 text-blue-400"}),"Occupation de la table"]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.occupancy,"%"]}),a.jsxs("div",{className:"text-sm text-white/60",children:[Math.round(t.occupancy*.1),"/10 unités"]})]}),a.jsx(Ape,{occupancy:t.occupancy}),t.alert&&a.jsxs("div",{className:"flex items-center p-3 bg-red-500/20 rounded-lg mt-3",children:[a.jsx(jn,{size:16,className:"text-red-400 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-white",children:t.alert})]})]}),a.jsxs(we.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.1},className:"glass-effect rounded-xl p-6 space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(hg,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]}),n&&a.jsxs("div",{className:"flex items-center p-3 bg-amber-500/20 rounded-lg",children:[a.jsx(qn,{size:16,className:"text-amber-400 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-white",children:t.alert||"Calibre dépassé"})]}),a.jsx(Spe,{currentSize:t.currentSize,targetSize:t.targetSize,progress:t.timeProgress}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[a.jsx("div",{className:"text-white/60",children:"Calibre actuel"}),a.jsx("div",{className:"text-white font-semibold text-lg",children:t.currentSize})]}),a.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[a.jsx("div",{className:"text-white/60",children:"Calibre cible"}),a.jsx("div",{className:"text-white font-semibold text-lg",children:t.targetSize})]})]})]}),a.jsxs(we.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.2},className:"glass-effect rounded-xl p-6 space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(zn,{size:18,className:"mr-2 text-blue-400"}),"Informations de production"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 mb-1",children:"Date de démarrage"}),a.jsx("div",{className:"text-white font-medium",children:t.startDate})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 mb-1",children:"Date de récolte prévue"}),a.jsx("div",{className:"text-white font-medium",children:t.harvestDate})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("div",{className:"text-white/60",children:"Taux de mortalité"}),a.jsxs("div",{className:`text-sm ${t.mortality>20?"text-red-400":t.mortality>15?"text-amber-400":"text-green-400"}`,children:[t.mortality,"%"]})]}),a.jsx(_pe,{value:t.mortality,maxValue:30,color:t.mortality<=15?"#22c55e":t.mortality<=20?"#eab308":"#ef4444"})]})]})]}),i==="history"&&a.jsxs(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"glass-effect rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des manipulations"}),a.jsx(Cpe,{})]})]})]})})}const dm=[{id:"1",title:"Inspection des huîtres",description:"Vérification de la qualité et de la taille des huîtres dans le parc A.",priority:"high",status:"pending",dueDate:"2025-03-15",category:"Qualité",assignedTo:"Jean Dupont",estimatedTime:3,location:"Parc A - Zone Nord",tags:["inspection","qualité","huîtres"]},{id:"2",title:"Maintenance des poches",description:"Entretien et rotation des poches d'huîtres pour optimiser la croissance.",priority:"medium",status:"in_progress",dueDate:"2025-03-14",category:"Maintenance",assignedTo:"Marie Martin",estimatedTime:5,location:"Parc B - Filière 3",tags:["maintenance","poches","rotation"]},{id:"3",title:"Analyse de l'eau",description:"Prélèvement et analyse des échantillons d'eau pour surveiller la qualité du milieu.",priority:"medium",status:"completed",dueDate:"2025-03-10",category:"Environnement",assignedTo:"Sophie Bernard",estimatedTime:2,actualTime:1.5,location:"Laboratoire",tags:["analyse","eau","qualité"]},{id:"4",title:"Préparation commandes",description:"Préparation des commandes pour livraison aux restaurants locaux.",priority:"high",status:"in_progress",dueDate:"2025-03-13",category:"Logistique",assignedTo:"Thomas Leroy",estimatedTime:4,location:"Zone de conditionnement",tags:["commandes","livraison","restaurants"]},{id:"5",title:"Contrôle des naissains",description:"Vérification de la croissance des naissains et ajustement des conditions.",priority:"low",status:"pending",dueDate:"2025-03-18",category:"Production",assignedTo:"Julie Moreau",estimatedTime:3,location:"Écloserie",tags:["naissains","croissance","surveillance"]}];function hm({title:t,value:e,icon:r,color:n,onClick:i}){const s=()=>{switch(n){case"green":return"bg-emerald-500/20 text-emerald-400";case"blue":return"bg-blue-500/20 text-blue-400";case"yellow":return"bg-amber-500/20 text-amber-400";case"red":return"bg-red-500/20 text-red-400";default:return"bg-cyan-500/20 text-cyan-400"}};return a.jsx("div",{onClick:i,className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[120px] flex items-center stats-card to-block",children:a.jsxs("div",{className:"flex items-center gap-4 direction-column",children:[a.jsx("div",{className:`w-12 h-12 rounded-full ${s()} flex items-center justify-center`,children:r}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70 text-sm",children:t}),a.jsx("h3",{className:"text-2xl font-bold text-white",children:e})]})]})})}const YS={hidden:{opacity:0,transform:"translate3d(0, 20px, 0)"},visible:{opacity:1,transform:"translate3d(0, 0, 0)",transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transform:"translate3d(0, 20px, 0)",transition:{duration:.2,ease:"easeIn"}}};function Ope(){var g;ha();const[t,e]=k.useState(""),[r,n]=k.useState(null),[i,s]=k.useState(!1),{session:o}=Ia();(g=o==null?void 0:o.user)==null||g.role;const l=()=>{n(null)},c=()=>{s(!0)},u=()=>{s(!1)},d=b=>{console.log(`Filtering tasks by status: ${b}`)},h=b=>{console.log(`Filtering tasks by priority: ${b}`)},f=dm.filter(b=>b.status==="pending").length,p=dm.filter(b=>b.status==="in_progress").length,m=dm.filter(b=>b.status==="completed").length,x=dm.filter(b=>b.priority==="high").length;return a.jsxs("div",{className:"task-page-wrapper",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-4 sm:p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6 task-page-header",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 task-page-header",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white flex justify-start items-center gap-2 mb-4 header-content",children:[a.jsx("span",{className:"header-icon",children:a.jsx("span",{className:"icon-inner",children:a.jsx(cD,{size:28,className:"text-cyan-400","aria-hidden":"true"})})}),a.jsx("span",{className:"header-title",children:"Gestion des Tâches"})]}),a.jsxs("div",{className:"flex flex-wrap md:flex-nowrap gap-3 action-buttons items-center",children:[a.jsxs("div",{className:"relative search-container w-full md:w-1/2",children:[a.jsx(fn,{size:18,className:"search-icon absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60 pointer-events-none","aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Rechercher une tâche...",className:"pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] text-white w-full h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",value:t,onChange:b=>e(b.target.value)})]}),a.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] whitespace-nowrap h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 action-button w-full md:w-1/2","aria-label":"Ajouter une nouvelle tâche",children:[a.jsx(Mt,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Nouvelle tâche"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 stats-container",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-4 w-full lg:w-2/5 stats-grid",children:[a.jsx(hm,{title:"En attente",value:f,icon:a.jsx(ei,{size:20,className:"text-amber-500","aria-hidden":"true"}),color:"amber",onClick:()=>d("pending")}),a.jsx(hm,{title:"En cours",value:p,icon:a.jsx(Yb,{size:20,className:"text-blue-500","aria-hidden":"true"}),color:"blue",onClick:()=>d("in_progress")})]}),a.jsx("div",{className:"w-full lg:w-1/5 flex justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 flex items-center justify-center",children:a.jsx(Xj,{className:"h-10 w-10 text-cyan-400","aria-hidden":"true"})}),a.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mt-2",children:"Tâches en cours"}),a.jsx("p",{className:"text-sm text-white/60",children:Bt(new Date,"d MMMM yyyy",{locale:gr})})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-4 w-full lg:w-2/5 stats-grid",children:[a.jsx(hm,{title:"Terminées",value:m,icon:a.jsx(Fd,{size:20,className:"text-green-500","aria-hidden":"true"}),color:"green",onClick:()=>d("completed")}),a.jsx(hm,{title:"Prioritaires",value:x,icon:a.jsx(jn,{size:20,className:"text-red-500","aria-hidden":"true"}),color:"red",onClick:()=>h("high")})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6 task-list-container",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 task-list-header",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:a.jsx(Xj,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Liste des tâches"}),a.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",Bt(new Date,"d MMMM yyyy 'à' HH:mm",{locale:gr})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:-translate-y-1 filter-button","aria-label":"Filtrer les tâches",children:[a.jsx(pi,{size:16,className:"text-white/70","aria-hidden":"true"}),a.jsx("span",{className:"text-white/70 text-sm",children:"Filtrer"})]})})]}),a.jsx(Npe,{searchQuery:t})]}),a.jsx(sr,{children:i&&a.jsx(we.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,children:a.jsxs(we.div,{className:"p-6 rounded-lg max-w-2xl w-full mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20 new-task-modal",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:b=>b.stopPropagation(),variants:YS,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-white/10 pb-4 new-task-modal-header",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:a.jsx(Mt,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent new-task-modal-title",children:"Nouvelle tâche"})]}),a.jsx("button",{onClick:u,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:rotate-90 new-task-modal-close","aria-label":"Fermer",children:a.jsx(yt,{size:20,"aria-hidden":"true"})})]}),a.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar new-task-modal-body",children:a.jsx(B2,{onClose:u})})]})]})})}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 activity-report-container",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6 activity-report-header",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:a.jsx(uD,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Rapport d'activité"}),a.jsx("p",{className:"text-sm text-white/60",children:"Performances et analyses"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 stats-grid",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[a.jsx("h3",{className:"text-lg text-white mb-2",children:"Efficacité"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"87%"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"+2% depuis la semaine dernière"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[a.jsx("h3",{className:"text-lg text-white mb-2",children:"Temps moyen"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"3.2h"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Par tâche complétée"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[a.jsx("h3",{className:"text-lg text-white mb-2",children:"Priorité"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"12"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Tâches à traiter cette semaine"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[a.jsx("h3",{className:"text-lg text-white mb-2",children:"Score global"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"A+"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Excellent niveau de performance"})]})]}),a.jsx("div",{className:"flex justify-center md:justify-end mt-4",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 export-button",children:[a.jsx(is,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Exporter le rapport"})]})})]}),a.jsx(sr,{children:r&&a.jsx(we.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:a.jsx(we.div,{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 max-w-4xl w-full mx-4",variants:YS,initial:"hidden",animate:"visible",exit:"exit",onClick:b=>b.stopPropagation(),children:a.jsx(Epe,{table:r,onClose:l})})})})]})}function Ppe({table:t}){const e=ha();return a.jsx("div",{className:"flex-1 pt-24",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-white/5 rounded-lg transition-colors text-white/60 hover:text-white/90",children:a.jsx(CC,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Bouzigues"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("p",{className:"text-white/60",children:"T-1234"}),a.jsx("button",{className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:a.jsx(jw,{size:14,className:"text-white/60"})})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-thermometer mr-2 text-brand-burgundy",children:a.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),"Température"]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-droplets mr-2 text-brand-primary",children:[a.jsx("path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"}),a.jsx("path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"})]}),"Salinité"]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clock mr-2 text-brand-tertiary",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Échantillonnage"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),a.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),a.jsx("span",{className:"text-white",children:"26 févr. 2025"})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),a.jsx("span",{className:"text-lg font-medium text-yellow-400",children:"2.5%"})]})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shell mr-2 text-brand-burgundy",children:a.jsx("path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44"})}),"Lot en cours"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/60",children:"Calibre"}),a.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/60",children:"Quantité"}),a.jsx("span",{className:"text-white font-medium",children:"300 unités"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),a.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-spreadsheet mr-2 text-brand-tertiary",children:[a.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),a.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),a.jsx("path",{d:"M8 13h2"}),a.jsx("path",{d:"M14 13h2"}),a.jsx("path",{d:"M8 17h2"}),a.jsx("path",{d:"M14 17h2"})]}),"Importation de données"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),a.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-download mr-1",children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"7 10 12 15 17 10"}),a.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),"Télécharger un modèle de fichier"]}),a.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-upload",children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"17 8 12 3 7 8"}),a.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),"Importer des données"]})]})]})]})})}const Qh=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),a.jsxs("div",{className:"relative w-full max-w-lg rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.95) 0%, rgba(20, 100, 100, 0.85) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 24px -2px, rgba(0, 200, 200, 0.1) 0px 4px 12px -2px, rgba(255, 255, 255, 0.05) 0px -1px 2px 0px inset"},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-cyan-500/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),a.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-cyan-500/10 transition-colors",children:a.jsx(yt,{className:"w-5 h-5 text-cyan-400"})})]}),a.jsx("div",{className:"p-4",children:n})]})]}):null,kpe="modulepreload",Tpe=function(t){return"/"+t},KS={},Bs=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=Tpe(c),c in KS)return;KS[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":kpe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function or(t){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(t)}var fi=Uint8Array,ca=Uint16Array,J5=Int32Array,g1=new fi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v1=new fi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$2=new fi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QP=function(t,e){for(var r=new ca(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new J5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},ZP=QP(g1,2),ek=ZP.b,z2=ZP.r;ek[28]=258,z2[258]=28;var tk=QP(v1,0),Ipe=tk.b,JS=tk.r,U2=new ca(32768);for(var Tr=0;Tr<32768;++Tr){var Yo=(Tr&43690)>>1|(Tr&21845)<<1;Yo=(Yo&52428)>>2|(Yo&13107)<<2,Yo=(Yo&61680)>>4|(Yo&3855)<<4,U2[Tr]=((Yo&65280)>>8|(Yo&255)<<8)>>1}var Ms=function(t,e,r){for(var n=t.length,i=0,s=new ca(e);i<n;++i)t[i]&&++s[t[i]-1];var o=new ca(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(r){l=new ca(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],h=o[t[i]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)l[U2[h]>>c]=u}else for(l=new ca(n),i=0;i<n;++i)t[i]&&(l[i]=U2[o[t[i]-1]++]>>15-t[i]);return l},wl=new fi(288);for(var Tr=0;Tr<144;++Tr)wl[Tr]=8;for(var Tr=144;Tr<256;++Tr)wl[Tr]=9;for(var Tr=256;Tr<280;++Tr)wl[Tr]=7;for(var Tr=280;Tr<288;++Tr)wl[Tr]=8;var x0=new fi(32);for(var Tr=0;Tr<32;++Tr)x0[Tr]=5;var Dpe=Ms(wl,9,0),Mpe=Ms(wl,9,1),Lpe=Ms(x0,5,0),Rpe=Ms(x0,5,1),yb=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Ga=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},wb=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Q5=function(t){return(t+7)/8|0},rk=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new fi(t.subarray(e,r))},Fpe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ka=function(t,e,r){var n=new Error(e||Fpe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ka),!r)throw n;return n},Bpe=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new fi(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new fi(i*3));var u=function(Oe){var ae=r.length;if(Oe>ae){var Pe=new fi(Math.max(ae*2,Oe));Pe.set(r),r=Pe}},d=e.f||0,h=e.p||0,f=e.b||0,p=e.l,m=e.d,x=e.m,g=e.n,b=i*8;do{if(!p){d=Ga(t,h,1);var y=Ga(t,h+1,3);if(h+=3,y)if(y==1)p=Mpe,m=Rpe,x=9,g=5;else if(y==2){var S=Ga(t,h,31)+257,A=Ga(t,h+10,15)+4,O=S+Ga(t,h+5,31)+1;h+=14;for(var M=new fi(O),B=new fi(19),T=0;T<A;++T)B[$2[T]]=Ga(t,h+T*3,7);h+=A*3;for(var E=yb(B),R=(1<<E)-1,F=Ms(B,E,1),T=0;T<O;){var W=F[Ga(t,h,R)];h+=W&15;var w=W>>4;if(w<16)M[T++]=w;else{var $=0,z=0;for(w==16?(z=3+Ga(t,h,3),h+=2,$=M[T-1]):w==17?(z=3+Ga(t,h,7),h+=3):w==18&&(z=11+Ga(t,h,127),h+=7);z--;)M[T++]=$}}var X=M.subarray(0,S),Y=M.subarray(S);x=yb(X),g=yb(Y),p=Ms(X,x,1),m=Ms(Y,g,1)}else Ka(1);else{var w=Q5(h)+4,j=t[w-4]|t[w-3]<<8,_=w+j;if(_>i){c&&Ka(0);break}l&&u(f+j),r.set(t.subarray(w,_),f),e.b=f+=j,e.p=h=_*8,e.f=d;continue}if(h>b){c&&Ka(0);break}}l&&u(f+131072);for(var oe=(1<<x)-1,fe=(1<<g)-1,D=h;;D=h){var $=p[wb(t,h)&oe],I=$>>4;if(h+=$&15,h>b){c&&Ka(0);break}if($||Ka(2),I<256)r[f++]=I;else if(I==256){D=h,p=null;break}else{var U=I-254;if(I>264){var T=I-257,J=g1[T];U=Ga(t,h,(1<<J)-1)+ek[T],h+=J}var Q=m[wb(t,h)&fe],de=Q>>4;Q||Ka(3),h+=Q&15;var Y=Ipe[de];if(de>3){var J=v1[de];Y+=wb(t,h)&(1<<J)-1,h+=J}if(h>b){c&&Ka(0);break}l&&u(f+131072);var xe=f+U;if(f<Y){var le=s-Y,_e=Math.min(Y,xe);for(le+f<0&&Ka(3);f<_e;++f)r[f]=n[le+f]}for(;f<xe;++f)r[f]=r[f-Y]}}e.l=p,e.p=D,e.b=f,e.f=d,p&&(d=1,e.m=x,e.d=m,e.n=g)}while(!d);return f!=r.length&&o?rk(r,0,f):r.subarray(0,f)},oo=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Zh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},jb=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:ik,l:0};if(i==1){var o=new fi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,S){return _.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var p=new ca(f+1),m=q2(r[d-1],p,0);if(m>e){var n=0,x=0,g=m-e,b=1<<g;for(s.sort(function(S,A){return p[A.s]-p[S.s]||S.f-A.f});n<i;++n){var y=s[n].s;if(p[y]>e)x+=b-(1<<m-p[y]),p[y]=e;else break}for(x>>=g;x>0;){var w=s[n].s;p[w]<e?x-=1<<e-p[w]++-1:++n}for(;n>=0&&x;--n){var j=s[n].s;p[j]==e&&(--p[j],++x)}m=e}return{t:new fi(p),l:m}},q2=function(t,e,r){return t.s==-1?Math.max(q2(t.l,e,r+1),q2(t.r,e,r+1)):e[t.s]=r},QS=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ca(++e),n=0,i=t[0],s=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[l]}return{c:r.subarray(0,n),n:e}},ef=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},nk=function(t,e,r){var n=r.length,i=Q5(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},ZS=function(t,e,r,n,i,s,o,l,c,u,d){oo(e,d++,r),++i[256];for(var h=jb(i,15),f=h.t,p=h.l,m=jb(s,15),x=m.t,g=m.l,b=QS(f),y=b.c,w=b.n,j=QS(x),_=j.c,S=j.n,A=new ca(19),O=0;O<y.length;++O)++A[y[O]&31];for(var O=0;O<_.length;++O)++A[_[O]&31];for(var M=jb(A,7),B=M.t,T=M.l,E=19;E>4&&!B[$2[E-1]];--E);var R=u+5<<3,F=ef(i,wl)+ef(s,x0)+o,W=ef(i,f)+ef(s,x)+o+14+3*E+ef(A,B)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&R<=F&&R<=W)return nk(e,d,t.subarray(c,c+u));var $,z,X,Y;if(oo(e,d,1+(W<F)),d+=2,W<F){$=Ms(f,p,0),z=f,X=Ms(x,g,0),Y=x;var oe=Ms(B,T,0);oo(e,d,w-257),oo(e,d+5,S-1),oo(e,d+10,E-4),d+=14;for(var O=0;O<E;++O)oo(e,d+3*O,B[$2[O]]);d+=3*E;for(var fe=[y,_],D=0;D<2;++D)for(var I=fe[D],O=0;O<I.length;++O){var U=I[O]&31;oo(e,d,oe[U]),d+=B[U],U>15&&(oo(e,d,I[O]>>5&127),d+=I[O]>>12)}}else $=Dpe,z=wl,X=Lpe,Y=x0;for(var O=0;O<l;++O){var J=n[O];if(J>255){var U=J>>18&31;Zh(e,d,$[U+257]),d+=z[U+257],U>7&&(oo(e,d,J>>23&31),d+=g1[U]);var Q=J&31;Zh(e,d,X[Q]),d+=Y[Q],Q>3&&(Zh(e,d,J>>5&8191),d+=v1[Q])}else Zh(e,d,$[J]),d+=z[J]}return Zh(e,d,$[256]),d+z[256]},$pe=new J5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ik=new fi(0),zpe=function(t,e,r,n,i,s){var o=s.z||t.length,l=new fi(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var h=$pe[e-1],f=h>>13,p=h&8191,m=(1<<r)-1,x=s.p||new ca(32768),g=s.h||new ca(m+1),b=Math.ceil(r/3),y=2*b,w=function(De){return(t[De]^t[De+1]<<b^t[De+2]<<y)&m},j=new J5(25e3),_=new ca(288),S=new ca(32),A=0,O=0,M=s.i||0,B=0,T=s.w||0,E=0;M+2<o;++M){var R=w(M),F=M&32767,W=g[R];if(x[F]=W,g[R]=F,T<=M){var $=o-M;if((A>7e3||B>24576)&&($>423||!u)){d=ZS(t,c,0,j,_,S,O,B,E,M-E,d),B=A=O=0,E=M;for(var z=0;z<286;++z)_[z]=0;for(var z=0;z<30;++z)S[z]=0}var X=2,Y=0,oe=p,fe=F-W&32767;if($>2&&R==w(M-fe))for(var D=Math.min(f,$)-1,I=Math.min(32767,M),U=Math.min(258,$);fe<=I&&--oe&&F!=W;){if(t[M+X]==t[M+X-fe]){for(var J=0;J<U&&t[M+J]==t[M+J-fe];++J);if(J>X){if(X=J,Y=fe,J>D)break;for(var Q=Math.min(fe,J-2),de=0,z=0;z<Q;++z){var xe=M-fe+z&32767,le=x[xe],_e=xe-le&32767;_e>de&&(de=_e,W=xe)}}}F=W,W=x[F],fe+=F-W&32767}if(Y){j[B++]=268435456|z2[X]<<18|JS[Y];var Oe=z2[X]&31,ae=JS[Y]&31;O+=g1[Oe]+v1[ae],++_[257+Oe],++S[ae],T=M+X,++A}else j[B++]=t[M],++_[t[M]]}}for(M=Math.max(M,T);M<o;++M)j[B++]=t[M],++_[t[M]];d=ZS(t,c,u,j,_,S,O,B,E,M-E,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=g,s.p=x,s.i=M,s.w=T)}else{for(var M=s.w||0;M<o+u;M+=65535){var Pe=M+65535;Pe>=o&&(c[d/8|0]=u,Pe=o),d=nk(c,d+1,t.subarray(M,Pe))}s.i=o}return rk(l,0,n+Q5(d)+i)},ak=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Upe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new fi(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return zpe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},sk=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},qpe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=ak();i.p(e.dictionary),sk(t,2,i.d())}},Hpe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ka(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Ka(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function H2(t,e){e||(e={});var r=ak();r.p(t);var n=Upe(t,e,e.dictionary?6:2,4);return qpe(n,e),sk(n,n.length-4,r.d()),n}function Wpe(t,e){return Bpe(t.subarray(Hpe(t,e),-4),{i:2},e,e)}var Vpe=typeof TextDecoder<"u"&&new TextDecoder,Gpe=0;try{Vpe.decode(ik,{stream:!0}),Gpe=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Nb(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var mr={log:Nb,warn:function(t){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):Nb.call(null,arguments))},error:function(t){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):Nb(t))}};function _b(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ec(n.response,e,r)},n.onerror=function(){mr.error("could not download file")},n.send()}function eA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function fm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var jf,W2,ec=pt.saveAs||((typeof window>"u"?"undefined":or(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=pt.URL||pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?eA(i.href)?_b(t,e,r):fm(i,i.target="_blank"):fm(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){fm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(eA(t))_b(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){fm(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:or(s)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return _b(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(pt.HTMLElement)||pt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":or(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=pt.URL||pt.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ok(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sb(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=ai(r,n,i,s,e[0],7,-680876936),s=ai(s,r,n,i,e[1],12,-389564586),i=ai(i,s,r,n,e[2],17,606105819),n=ai(n,i,s,r,e[3],22,-1044525330),r=ai(r,n,i,s,e[4],7,-176418897),s=ai(s,r,n,i,e[5],12,1200080426),i=ai(i,s,r,n,e[6],17,-1473231341),n=ai(n,i,s,r,e[7],22,-45705983),r=ai(r,n,i,s,e[8],7,1770035416),s=ai(s,r,n,i,e[9],12,-1958414417),i=ai(i,s,r,n,e[10],17,-42063),n=ai(n,i,s,r,e[11],22,-1990404162),r=ai(r,n,i,s,e[12],7,1804603682),s=ai(s,r,n,i,e[13],12,-40341101),i=ai(i,s,r,n,e[14],17,-1502002290),r=si(r,n=ai(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=si(s,r,n,i,e[6],9,-1069501632),i=si(i,s,r,n,e[11],14,643717713),n=si(n,i,s,r,e[0],20,-373897302),r=si(r,n,i,s,e[5],5,-701558691),s=si(s,r,n,i,e[10],9,38016083),i=si(i,s,r,n,e[15],14,-660478335),n=si(n,i,s,r,e[4],20,-405537848),r=si(r,n,i,s,e[9],5,568446438),s=si(s,r,n,i,e[14],9,-1019803690),i=si(i,s,r,n,e[3],14,-187363961),n=si(n,i,s,r,e[8],20,1163531501),r=si(r,n,i,s,e[13],5,-1444681467),s=si(s,r,n,i,e[2],9,-51403784),i=si(i,s,r,n,e[7],14,1735328473),r=oi(r,n=si(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=oi(s,r,n,i,e[8],11,-2022574463),i=oi(i,s,r,n,e[11],16,1839030562),n=oi(n,i,s,r,e[14],23,-35309556),r=oi(r,n,i,s,e[1],4,-1530992060),s=oi(s,r,n,i,e[4],11,1272893353),i=oi(i,s,r,n,e[7],16,-155497632),n=oi(n,i,s,r,e[10],23,-1094730640),r=oi(r,n,i,s,e[13],4,681279174),s=oi(s,r,n,i,e[0],11,-358537222),i=oi(i,s,r,n,e[3],16,-722521979),n=oi(n,i,s,r,e[6],23,76029189),r=oi(r,n,i,s,e[9],4,-640364487),s=oi(s,r,n,i,e[12],11,-421815835),i=oi(i,s,r,n,e[15],16,530742520),r=li(r,n=oi(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=li(s,r,n,i,e[7],10,1126891415),i=li(i,s,r,n,e[14],15,-1416354905),n=li(n,i,s,r,e[5],21,-57434055),r=li(r,n,i,s,e[12],6,1700485571),s=li(s,r,n,i,e[3],10,-1894986606),i=li(i,s,r,n,e[10],15,-1051523),n=li(n,i,s,r,e[1],21,-2054922799),r=li(r,n,i,s,e[8],6,1873313359),s=li(s,r,n,i,e[15],10,-30611744),i=li(i,s,r,n,e[6],15,-1560198380),n=li(n,i,s,r,e[13],21,1309151649),r=li(r,n,i,s,e[4],6,-145523070),s=li(s,r,n,i,e[11],10,-1120210379),i=li(i,s,r,n,e[2],15,718787259),n=li(n,i,s,r,e[9],21,-343485551),t[0]=pl(r,t[0]),t[1]=pl(n,t[1]),t[2]=pl(i,t[2]),t[3]=pl(s,t[3])}function b1(t,e,r,n,i,s){return e=pl(pl(e,t),pl(n,s)),pl(e<<i|e>>>32-i,r)}function ai(t,e,r,n,i,s,o){return b1(e&r|~e&n,t,e,i,s,o)}function si(t,e,r,n,i,s,o){return b1(e&n|r&~n,t,e,i,s,o)}function oi(t,e,r,n,i,s,o){return b1(e^r^n,t,e,i,s,o)}function li(t,e,r,n,i,s,o){return b1(r^(e|~n),t,e,i,s,o)}function lk(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Sb(n,Xpe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Sb(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Sb(n,i),n}function Xpe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}jf=pt.atob.bind(pt),W2=pt.btoa.bind(pt);var tA="0123456789abcdef".split("");function Ype(t){for(var e="",r=0;r<4;r++)e+=tA[t>>8*r+4&15]+tA[t>>8*r&15];return e}function Kpe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function V2(t){return lk(t).map(Kpe).join("")}var Jpe=function(t){for(var e=0;e<t.length;e++)t[e]=Ype(t[e]);return t.join("")}(lk("hello"))!="5d41402abc4b2a76b9719d911017c592";function pl(t,e){if(Jpe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G2(t,e){var r,n,i,s;if(t!==r){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var h=e.length,f=0,p=0,m="";for(c=0;c<h;c++)p=(p+(d=l[f=(f+1)%256]))%256,l[f]=l[p],l[p]=d,o=l[(l[f]+l[p])%256],m+=String.fromCharCode(e.charCodeAt(c)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var rA={print:4,modify:8,copy:16,"annot-forms":32};function Fu(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(rA.perm!==void 0)throw new Error("Invalid permission: "+l);i+=rA[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=V2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=G2(this.encryptionKey,this.padding)}function Bu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function nA(t){if(or(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(l){pt.console&&mr.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function g0(t){if(!(this instanceof g0))return new g0(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function ck(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function dl(t,e,r,n,i){if(!(this instanceof dl))return new dl(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,ck.call(this,n,i)}function fc(t,e,r,n,i){if(!(this instanceof fc))return new fc(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,ck.call(this,n,i)}function st(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;or(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=nA;var m="1.3",x=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(C){m=C};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var b=p.__private__.getPageFormat=function(C){return g[C]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function j(){this.saveGraphicsState(),te(new ht(Ge,0,0,-Ge,0,To()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",w=y.ADVANCED}function _(){this.restoreGraphicsState(),u="S",w=y.COMPAT}var S=p.__private__.combineFontStyleAndFontWeight=function(C,H){if(C=="bold"&&H=="normal"||C=="bold"&&H==400||C=="normal"&&H=="italic"||C=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(C=H==400||H==="normal"?C==="italic"?"italic":"normal":H!=700&&H!=="bold"||C!=="normal"?(H==700?"bold":H)+""+C:"bold"),C};p.advancedAPI=function(C){var H=w===y.COMPAT;return H&&j.call(this),typeof C!="function"||(C(this),H&&_.call(this)),this},p.compatAPI=function(C){var H=w===y.ADVANCED;return H&&_.call(this),typeof C!="function"||(C(this),H&&j.call(this)),this},p.isAdvancedAPI=function(){return w===y.ADVANCED};var A,O=function(C){if(w!==y.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=p.roundToPrecision=p.__private__.roundToPrecision=function(C,H){var ce=e||H;if(isNaN(C)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(ce).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return M(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return M(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return M(C,16)};var B=p.f2=p.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return M(C,2)},T=p.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return M(C,3)},E=p.scale=p.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?C*Ge:w===y.ADVANCED?C:void 0},R=function(C){return w===y.COMPAT?To()-C:w===y.ADVANCED?C:void 0},F=function(C){return E(R(C))};p.__private__.setPrecision=p.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var W,$="00000000000000000000000000000000",z=p.__private__.getFileId=function(){return $},X=p.__private__.setFileId=function(C){return $=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ni=new Fu(d.userPermissions,d.userPassword,d.ownerPassword,$)),$};p.setFileId=function(C){return X(C),this},p.getFileId=function(){return z()};var Y=p.__private__.convertDateToPDFDate=function(C){var H=C.getTimezoneOffset(),ce=H<0?"+":"-",pe=Math.floor(Math.abs(H/60)),Ne=Math.abs(H%60),Te=[ce,U(pe),"'",U(Ne),"'"].join("");return["D:",C.getFullYear(),U(C.getMonth()+1),U(C.getDate()),U(C.getHours()),U(C.getMinutes()),U(C.getSeconds()),Te].join("")},oe=p.__private__.convertPDFDateToDate=function(C){var H=parseInt(C.substr(2,4),10),ce=parseInt(C.substr(6,2),10)-1,pe=parseInt(C.substr(8,2),10),Ne=parseInt(C.substr(10,2),10),Te=parseInt(C.substr(12,2),10),ze=parseInt(C.substr(14,2),10);return new Date(H,ce,pe,Ne,Te,ze,0)},fe=p.__private__.setCreationDate=function(C){var H;if(C===void 0&&(C=new Date),C instanceof Date)H=Y(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=C}return W=H},D=p.__private__.getCreationDate=function(C){var H=W;return C==="jsDate"&&(H=oe(W)),H};p.setCreationDate=function(C){return fe(C),this},p.getCreationDate=function(C){return D(C)};var I,U=p.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},J=p.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},Q=0,de=[],xe=[],le=0,_e=[],Oe=[],ae=!1,Pe=xe,De=function(){Q=0,le=0,xe=[],de=[],_e=[],Gs=nn(),Fa=nn()};p.__private__.setCustomOutputDestination=function(C){ae=!0,Pe=C};var he=function(C){ae||(Pe=C)};p.__private__.resetCustomOutputDestination=function(){ae=!1,Pe=xe};var te=p.__private__.out=function(C){return C=C.toString(),le+=C.length+1,Pe.push(C),Pe},Ue=p.__private__.write=function(C){return te(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},ee=p.__private__.getArrayBuffer=function(C){for(var H=C.length,ce=new ArrayBuffer(H),pe=new Uint8Array(ce);H--;)pe[H]=C.charCodeAt(H);return ce},re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return re};var ue=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(C){return ue=w===y.ADVANCED?C/Ge:C,this};var Se,je=p.__private__.getFontSize=p.getFontSize=function(){return w===y.COMPAT?ue:ue*Ge},me=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(C){return me=C,this},p.__private__.getR2L=p.getR2L=function(){return me};var Le,qe=p.__private__.setZoomMode=function(C){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Se=C;else if(isNaN(C)){if(H.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Se=C}else Se=parseInt(C,10)};p.__private__.getZoomMode=function(){return Se};var Ke,it=p.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Le=C};p.__private__.getPageMode=function(){return Le};var jt=p.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Ke=C};p.__private__.getLayoutMode=function(){return Ke},p.__private__.setDisplayMode=p.setDisplayMode=function(C,H,ce){return qe(C),jt(H),it(ce),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(C){if(Object.keys(dt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[C]},p.__private__.getDocumentProperties=function(){return dt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(C){for(var H in dt)dt.hasOwnProperty(H)&&C[H]&&(dt[H]=C[H]);return this},p.__private__.setDocumentProperty=function(C,H){if(Object.keys(dt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[C]=H};var At,Ge,Pn,Lt,Yi,Kt={},Ir={},cs=[],Jt={},El={},$r={},La={},Vs=null,zr=0,gt=[],Qt=new nA(p),Ol=t.hotfixes||[],Wn={},us={},ds=[],ht=function C(H,ce,pe,Ne,Te,ze){if(!(this instanceof C))return new C(H,ce,pe,Ne,Te,ze);isNaN(H)&&(H=1),isNaN(ce)&&(ce=0),isNaN(pe)&&(pe=0),isNaN(Ne)&&(Ne=1),isNaN(Te)&&(Te=0),isNaN(ze)&&(ze=0),this._matrix=[H,ce,pe,Ne,Te,ze]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(C)},ht.prototype.multiply=function(C){var H=C.sx*this.sx+C.shy*this.shx,ce=C.sx*this.shy+C.shy*this.sy,pe=C.shx*this.sx+C.sy*this.shx,Ne=C.shx*this.shy+C.sy*this.sy,Te=C.tx*this.sx+C.ty*this.shx+this.tx,ze=C.tx*this.shy+C.ty*this.sy+this.ty;return new ht(H,ce,pe,Ne,Te,ze)},ht.prototype.decompose=function(){var C=this.sx,H=this.shy,ce=this.shx,pe=this.sy,Ne=this.tx,Te=this.ty,ze=Math.sqrt(C*C+H*H),Ye=(C/=ze)*ce+(H/=ze)*pe;ce-=C*Ye,pe-=H*Ye;var at=Math.sqrt(ce*ce+pe*pe);return Ye/=at,C*(pe/=at)<H*(ce/=at)&&(C=-C,H=-H,Ye=-Ye,ze=-ze),{scale:new ht(ze,0,0,at,0,0),translate:new ht(1,0,0,1,Ne,Te),rotate:new ht(C,H,-H,C,0,0),skew:new ht(1,0,Ye,1,0,0)}},ht.prototype.toString=function(C){return this.join(" ")},ht.prototype.inversed=function(){var C=this.sx,H=this.shy,ce=this.shx,pe=this.sy,Ne=this.tx,Te=this.ty,ze=1/(C*pe-H*ce),Ye=pe*ze,at=-H*ze,Nt=-ce*ze,vt=C*ze;return new ht(Ye,at,Nt,vt,-Ye*Ne-Nt*Te,-at*Ne-vt*Te)},ht.prototype.applyToPoint=function(C){var H=C.x*this.sx+C.y*this.shx+this.tx,ce=C.x*this.shy+C.y*this.sy+this.ty;return new ru(H,ce)},ht.prototype.applyToRectangle=function(C){var H=this.applyToPoint(C),ce=this.applyToPoint(new ru(C.x+C.w,C.y+C.h));return new bh(H.x,H.y,ce.x-H.x,ce.y-H.y)},ht.prototype.clone=function(){var C=this.sx,H=this.shy,ce=this.shx,pe=this.sy,Ne=this.tx,Te=this.ty;return new ht(C,H,ce,pe,Ne,Te)},p.Matrix=ht;var Ra=p.matrixMult=function(C,H){return H.multiply(C)},hs=new ht(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=hs;var Ti=function(C,H){if(!El[C]){var ce=(H instanceof dl?"Sh":"P")+(Object.keys(Jt).length+1).toString(10);H.id=ce,El[C]=ce,Jt[ce]=H,Qt.publish("addPattern",H)}};p.ShadingPattern=dl,p.TilingPattern=fc,p.addShadingPattern=function(C,H){return O("addShadingPattern()"),Ti(C,H),this},p.beginTilingPattern=function(C){O("beginTilingPattern()"),fp(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},p.endTilingPattern=function(C,H){O("endTilingPattern()"),H.stream=Oe[I].join(`
`),Ti(C,H),Qt.publish("endTilingPattern",H),ds.pop().restore()};var pn=p.__private__.newObject=function(){var C=nn();return Ki(C,!0),C},nn=p.__private__.newObjectDeferred=function(){return Q++,de[Q]=function(){return le},Q},Ki=function(C,H){return H=typeof H=="boolean"&&H,de[C]=le,H&&te(C+" 0 obj"),C},qc=p.__private__.newAdditionalObject=function(){var C={objId:nn(),content:""};return _e.push(C),C},Gs=nn(),Fa=nn(),Ba=p.__private__.decodeColorString=function(C){var H=C.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ce=parseFloat(H[0]);H=[ce,ce,ce,"r"]}for(var pe="#",Ne=0;Ne<3;Ne++)pe+=("0"+Math.floor(255*parseFloat(H[Ne])).toString(16)).slice(-2);return pe},$a=p.__private__.encodeColorString=function(C){var H;typeof C=="string"&&(C={ch1:C});var ce=C.ch1,pe=C.ch2,Ne=C.ch3,Te=C.ch4,ze=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var Ye=new ok(ce);if(Ye.ok)ce=Ye.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var at=parseInt(ce.substr(1),16);ce=at>>16&255,pe=at>>8&255,Ne=255&at}if(pe===void 0||Te===void 0&&ce===pe&&pe===Ne)if(typeof ce=="string")H=ce+" "+ze[0];else switch(C.precision){case 2:H=B(ce/255)+" "+ze[0];break;case 3:default:H=T(ce/255)+" "+ze[0]}else if(Te===void 0||or(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return H=["1.","1.","1.",ze[1]].join(" ");if(typeof ce=="string")H=[ce,pe,Ne,ze[1]].join(" ");else switch(C.precision){case 2:H=[B(ce/255),B(pe/255),B(Ne/255),ze[1]].join(" ");break;default:case 3:H=[T(ce/255),T(pe/255),T(Ne/255),ze[1]].join(" ")}}else if(typeof ce=="string")H=[ce,pe,Ne,Te,ze[2]].join(" ");else switch(C.precision){case 2:H=[B(ce),B(pe),B(Ne),B(Te),ze[2]].join(" ");break;case 3:default:H=[T(ce),T(pe),T(Ne),T(Te),ze[2]].join(" ")}return H},fs=p.__private__.getFilters=function(){return o},fa=p.__private__.putStream=function(C){var H=(C=C||{}).data||"",ce=C.filters||fs(),pe=C.alreadyAppliedFilters||[],Ne=C.addLength1||!1,Te=H.length,ze=C.objectId,Ye=function(ii){return ii};if(d!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ye=ni.encryptor(ze,0));var at={};ce===!0&&(ce=["FlateEncode"]);var Nt=C.additionalKeyValues||[],vt=(at=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(H,ce):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(at.data.length!==0&&(Nt.push({key:"Length",value:at.data.length}),Ne===!0&&Nt.push({key:"Length1",value:Te})),vt.length!=0)if(vt.split("/").length-1==1)Nt.push({key:"Filter",value:vt});else{Nt.push({key:"Filter",value:"["+vt+"]"});for(var $t=0;$t<Nt.length;$t+=1)if(Nt[$t].key==="DecodeParms"){for(var Rr=[],Ur=0;Ur<at.reverseChain.split("/").length-1;Ur+=1)Rr.push("null");Rr.push(Nt[$t].value),Nt[$t].value="["+Rr.join(" ")+"]"}}te("<<");for(var an=0;an<Nt.length;an++)te("/"+Nt[an].key+" "+Nt[an].value);te(">>"),at.data.length!==0&&(te("stream"),te(Ye(at.data)),te("endstream"))},ps=p.__private__.putPage=function(C){var H=C.number,ce=C.data,pe=C.objId,Ne=C.contentsObjId;Ki(pe,!0),te("<</Type /Page"),te("/Parent "+C.rootDictionaryObjId+" 0 R"),te("/Resources "+C.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(A(C.mediaBox.bottomLeftX))+" "+parseFloat(A(C.mediaBox.bottomLeftY))+" "+A(C.mediaBox.topRightX)+" "+A(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&te("/CropBox ["+A(C.cropBox.bottomLeftX)+" "+A(C.cropBox.bottomLeftY)+" "+A(C.cropBox.topRightX)+" "+A(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&te("/BleedBox ["+A(C.bleedBox.bottomLeftX)+" "+A(C.bleedBox.bottomLeftY)+" "+A(C.bleedBox.topRightX)+" "+A(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&te("/TrimBox ["+A(C.trimBox.bottomLeftX)+" "+A(C.trimBox.bottomLeftY)+" "+A(C.trimBox.topRightX)+" "+A(C.trimBox.topRightY)+"]"),C.artBox!==null&&te("/ArtBox ["+A(C.artBox.bottomLeftX)+" "+A(C.artBox.bottomLeftY)+" "+A(C.artBox.topRightX)+" "+A(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&te("/UserUnit "+C.userUnit),Qt.publish("putPage",{objId:pe,pageContext:gt[H],pageNumber:H,page:ce}),te("/Contents "+Ne+" 0 R"),te(">>"),te("endobj");var Te=ce.join(`
`);return w===y.ADVANCED&&(Te+=`
Q`),Ki(Ne,!0),fa({data:Te,filters:fs(),objectId:Ne}),te("endobj"),pe},Pl=p.__private__.putPages=function(){var C,H,ce=[];for(C=1;C<=zr;C++)gt[C].objId=nn(),gt[C].contentsObjId=nn();for(C=1;C<=zr;C++)ce.push(ps({number:C,data:Oe[C],objId:gt[C].objId,contentsObjId:gt[C].contentsObjId,mediaBox:gt[C].mediaBox,cropBox:gt[C].cropBox,bleedBox:gt[C].bleedBox,trimBox:gt[C].trimBox,artBox:gt[C].artBox,userUnit:gt[C].userUnit,rootDictionaryObjId:Gs,resourceDictionaryObjId:Fa}));Ki(Gs,!0),te("<</Type /Pages");var pe="/Kids [";for(H=0;H<zr;H++)pe+=ce[H]+" 0 R ";te(pe+"]"),te("/Count "+zr),te(">>"),te("endobj"),Qt.publish("postPutPages")},Hc=function(C){Qt.publish("putFont",{font:C,out:te,newObject:pn,putStream:fa}),C.isAlreadyPutted!==!0&&(C.objectNumber=pn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Bu(C.postScriptName)),te("/Subtype /Type1"),typeof C.encoding=="string"&&te("/Encoding /"+C.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Wc=function(){for(var C in Kt)Kt.hasOwnProperty(C)&&(h===!1||h===!0&&f.hasOwnProperty(C))&&Hc(Kt[C])},Vc=function(C){C.objectNumber=pn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[A(C.x),A(C.y),A(C.x+C.width),A(C.y+C.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var ce=C.pages[1].join(`
`);fa({data:ce,additionalKeyValues:H,objectId:C.objectNumber}),te("endobj")},Gc=function(){for(var C in Wn)Wn.hasOwnProperty(C)&&Vc(Wn[C])},Y0=function(C,H){var ce,pe=[],Ne=1/(H-1);for(ce=0;ce<1;ce+=Ne)pe.push(ce);if(pe.push(1),C[0].offset!=0){var Te={offset:0,color:C[0].color};C.unshift(Te)}if(C[C.length-1].offset!=1){var ze={offset:1,color:C[C.length-1].color};C.push(ze)}for(var Ye="",at=0,Nt=0;Nt<pe.length;Nt++){for(ce=pe[Nt];ce>C[at+1].offset;)at++;var vt=C[at].offset,$t=(ce-vt)/(C[at+1].offset-vt),Rr=C[at].color,Ur=C[at+1].color;Ye+=J(Math.round((1-$t)*Rr[0]+$t*Ur[0]).toString(16))+J(Math.round((1-$t)*Rr[1]+$t*Ur[1]).toString(16))+J(Math.round((1-$t)*Rr[2]+$t*Ur[2]).toString(16))}return Ye.trim()},P1=function(C,H){H||(H=21);var ce=pn(),pe=Y0(C.colors,H),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+H+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fa({data:pe,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),te("endobj"),C.objectNumber=pn(),te("<< /ShadingType "+C.type),te("/ColorSpace /DeviceRGB");var Te="/Coords ["+A(parseFloat(C.coords[0]))+" "+A(parseFloat(C.coords[1]))+" ";C.type===2?Te+=A(parseFloat(C.coords[2]))+" "+A(parseFloat(C.coords[3])):Te+=A(parseFloat(C.coords[2]))+" "+A(parseFloat(C.coords[3]))+" "+A(parseFloat(C.coords[4]))+" "+A(parseFloat(C.coords[5])),te(Te+="]"),C.matrix&&te("/Matrix ["+C.matrix.toString()+"]"),te("/Function "+ce+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},k1=function(C,H){var ce=nn(),pe=pn();H.push({resourcesOid:ce,objectOid:pe}),C.objectNumber=pe;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+C.boundingBox.map(A).join(" ")+"]"}),Ne.push({key:"XStep",value:A(C.xStep)}),Ne.push({key:"YStep",value:A(C.yStep)}),Ne.push({key:"Resources",value:ce+" 0 R"}),C.matrix&&Ne.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),fa({data:C.stream,additionalKeyValues:Ne,objectId:C.objectNumber}),te("endobj")},Xc=function(C){var H;for(H in Jt)Jt.hasOwnProperty(H)&&(Jt[H]instanceof dl?P1(Jt[H]):Jt[H]instanceof fc&&k1(Jt[H],C))},K0=function(C){for(var H in C.objectNumber=pn(),te("<<"),C)switch(H){case"opacity":te("/ca "+B(C[H]));break;case"stroke-opacity":te("/CA "+B(C[H]))}te(">>"),te("endobj")},T1=function(){var C;for(C in $r)$r.hasOwnProperty(C)&&K0($r[C])},ch=function(){for(var C in te("/XObject <<"),Wn)Wn.hasOwnProperty(C)&&Wn[C].objectNumber>=0&&te("/"+C+" "+Wn[C].objectNumber+" 0 R");Qt.publish("putXobjectDict"),te(">>")},I1=function(){ni.oid=pn(),te("<<"),te("/Filter /Standard"),te("/V "+ni.v),te("/R "+ni.r),te("/U <"+ni.toHexString(ni.U)+">"),te("/O <"+ni.toHexString(ni.O)+">"),te("/P "+ni.P),te(">>"),te("endobj")},J0=function(){for(var C in te("/Font <<"),Kt)Kt.hasOwnProperty(C)&&(h===!1||h===!0&&f.hasOwnProperty(C))&&te("/"+C+" "+Kt[C].objectNumber+" 0 R");te(">>")},D1=function(){if(Object.keys(Jt).length>0){for(var C in te("/Shading <<"),Jt)Jt.hasOwnProperty(C)&&Jt[C]instanceof dl&&Jt[C].objectNumber>=0&&te("/"+C+" "+Jt[C].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),te(">>")}},Yc=function(C){if(Object.keys(Jt).length>0){for(var H in te("/Pattern <<"),Jt)Jt.hasOwnProperty(H)&&Jt[H]instanceof p.TilingPattern&&Jt[H].objectNumber>=0&&Jt[H].objectNumber<C&&te("/"+H+" "+Jt[H].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),te(">>")}},M1=function(){if(Object.keys($r).length>0){var C;for(C in te("/ExtGState <<"),$r)$r.hasOwnProperty(C)&&$r[C].objectNumber>=0&&te("/"+C+" "+$r[C].objectNumber+" 0 R");Qt.publish("putGStateDict"),te(">>")}},Gr=function(C){Ki(C.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),J0(),D1(),Yc(C.objectOid),M1(),ch(),te(">>"),te("endobj")},Q0=function(){var C=[];Wc(),T1(),Gc(),Xc(C),Qt.publish("putResources"),C.forEach(Gr),Gr({resourcesOid:Fa,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},Z0=function(){Qt.publish("putAdditionalObjects");for(var C=0;C<_e.length;C++){var H=_e[C];Ki(H.objId,!0),te(H.content),te("endobj")}Qt.publish("postPutAdditionalObjects")},ep=function(C){Ir[C.fontName]=Ir[C.fontName]||{},Ir[C.fontName][C.fontStyle]=C.id},uh=function(C,H,ce,pe,Ne){var Te={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:C,fontName:H,fontStyle:ce,encoding:pe,isStandardFont:Ne||!1,metadata:{}};return Qt.publish("addFont",{font:Te,instance:this}),Kt[Te.id]=Te,ep(Te),Te.id},L1=function(C){for(var H=0,ce=re.length;H<ce;H++){var pe=uh.call(this,C[H][0],C[H][1],C[H][2],re[H][3],!0);h===!1&&(f[pe]=!0);var Ne=C[H][0].split("-");ep({id:pe,fontName:Ne[0],fontStyle:Ne[1]||""})}Qt.publish("addFonts",{fonts:Kt,dictionary:Ir})},za=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(pe){var H=pe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var ce="Error in function "+H.split(`
`)[0].split("<")[0]+": "+pe.message;if(!pt.console)throw new Error(ce);pt.console.error(ce,pe),pt.alert&&alert(ce)}},C.foo.bar=C,C.foo},Kc=function(C,H){var ce,pe,Ne,Te,ze,Ye,at,Nt,vt;if(Ne=(H=H||{}).sourceEncoding||"Unicode",ze=H.outputEncoding,(H.autoencode||ze)&&Kt[At].metadata&&Kt[At].metadata[Ne]&&Kt[At].metadata[Ne].encoding&&(Te=Kt[At].metadata[Ne].encoding,!ze&&Kt[At].encoding&&(ze=Kt[At].encoding),!ze&&Te.codePages&&(ze=Te.codePages[0]),typeof ze=="string"&&(ze=Te[ze]),ze)){for(at=!1,Ye=[],ce=0,pe=C.length;ce<pe;ce++)(Nt=ze[C.charCodeAt(ce)])?Ye.push(String.fromCharCode(Nt)):Ye.push(C[ce]),Ye[ce].charCodeAt(0)>>8&&(at=!0);C=Ye.join("")}for(ce=C.length;at===void 0&&ce!==0;)C.charCodeAt(ce-1)>>8&&(at=!0),ce--;if(!at)return C;for(Ye=H.noBOM?[]:[254,255],ce=0,pe=C.length;ce<pe;ce++){if((vt=(Nt=C.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(vt),Ye.push(Nt-(vt<<8))}return String.fromCharCode.apply(void 0,Ye)},Ii=p.__private__.pdfEscape=p.pdfEscape=function(C,H){return Kc(C,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dh=p.__private__.beginPage=function(C){Oe[++zr]=[],gt[zr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},rp(zr),he(Oe[I])},tp=function(C,H){var ce,pe,Ne;switch(r=H||r,typeof C=="string"&&(ce=b(C.toLowerCase()),Array.isArray(ce)&&(pe=ce[0],Ne=ce[1])),Array.isArray(C)&&(pe=C[0]*Ge,Ne=C[1]*Ge),isNaN(pe)&&(pe=i[0],Ne=i[1]),(pe>14400||Ne>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Ne=Math.min(14400,Ne)),i=[pe,Ne],r.substr(0,1)){case"l":Ne>pe&&(i=[Ne,pe]);break;case"p":pe>Ne&&(i=[Ne,pe])}dh(i),lp(mh),te(Ua),gh!==0&&te(gh+" J"),vh!==0&&te(vh+" j"),Qt.publish("addPage",{pageNumber:zr})},R1=function(C){C>0&&C<=zr&&(Oe.splice(C,1),gt.splice(C,1),zr--,I>zr&&(I=zr),this.setPage(I))},rp=function(C){C>0&&C<=zr&&(I=C)},F1=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Oe.length-1},np=function(C,H,ce){var pe,Ne=void 0;return ce=ce||{},C=C!==void 0?C:Kt[At].fontName,H=H!==void 0?H:Kt[At].fontStyle,pe=C.toLowerCase(),Ir[pe]!==void 0&&Ir[pe][H]!==void 0?Ne=Ir[pe][H]:Ir[C]!==void 0&&Ir[C][H]!==void 0?Ne=Ir[C][H]:ce.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+C+"', '"+H+"'. Refer to getFontList() for available fonts."),Ne||ce.noFallback||(Ne=Ir.times[H])==null&&(Ne=Ir.times.normal),Ne},B1=p.__private__.putInfo=function(){var C=pn(),H=function(pe){return pe};for(var ce in d!==null&&(H=ni.encryptor(C,0)),te("<<"),te("/Producer ("+Ii(H("jsPDF "+st.version))+")"),dt)dt.hasOwnProperty(ce)&&dt[ce]&&te("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+Ii(H(dt[ce]))+")");te("/CreationDate ("+Ii(H(W))+")"),te(">>"),te("endobj")},hh=p.__private__.putCatalog=function(C){var H=(C=C||{}).rootDictionaryObjId||Gs;switch(pn(),te("<<"),te("/Type /Catalog"),te("/Pages "+H+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+Se;ce.substr(ce.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&te("/OpenAction [3 0 R /XYZ null null "+B(Se)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Le&&te("/PageMode /"+Le),Qt.publish("putCatalog"),te(">>"),te("endobj")},$1=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(Q+1)),te("/Root "+Q+" 0 R"),te("/Info "+(Q-1)+" 0 R"),d!==null&&te("/Encrypt "+ni.oid+" 0 R"),te("/ID [ <"+$+"> <"+$+"> ]"),te(">>")},z1=p.__private__.putHeader=function(){te("%PDF-"+m),te("%ºß¬à")},U1=p.__private__.putXRef=function(){var C="0000000000";te("xref"),te("0 "+(Q+1)),te("0000000000 65535 f ");for(var H=1;H<=Q;H++)typeof de[H]=="function"?te((C+de[H]()).slice(-10)+" 00000 n "):de[H]!==void 0?te((C+de[H]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Xs=p.__private__.buildDocument=function(){De(),he(xe),Qt.publish("buildDocument"),z1(),Pl(),Z0(),Q0(),d!==null&&I1(),B1(),hh();var C=le;return U1(),$1(),te("startxref"),te(""+C),te("%%EOF"),he(Oe[I]),xe.join(`
`)},Jc=p.__private__.getBlob=function(C){return new Blob([ee(C)],{type:"application/pdf"})},Qc=p.output=p.__private__.output=za(function(C,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",C){case void 0:return Xs();case"save":p.save(H.filename);break;case"arraybuffer":return ee(Xs());case"blob":return Jc(Xs());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(Jc(Xs()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",pe=Xs();try{ce=W2(pe)}catch{ce=W2(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+H.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Ne=H.pdfObjectUrl,Te="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",Ye=pt.open();return Ye!==null&&Ye.document.write(ze),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Nt=pt.open();if(Nt!==null){Nt.document.write(at);var vt=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=H.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vt.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Rr=pt.open();if(Rr!==null&&(Rr.document.write($t),Rr.document.title=H.filename),Rr||typeof safari>"u")return Rr;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",H);default:return null}}),ip=function(C){return Array.isArray(Ol)===!0&&Ol.indexOf(C)>-1};switch(n){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=ip("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ge=n}var ni=null;fe(),X();var q1=function(C){return d!==null?ni.encryptor(C,0):function(H){return H}},ap=p.__private__.getPageInfo=p.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[C].objId,pageNumber:C,pageContext:gt[C]}},xt=p.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in gt)if(gt[H].objId===C)break;return ap(H)},H1=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:gt[I].objId,pageNumber:I,pageContext:gt[I]}};p.addPage=function(){return tp.apply(this,arguments),this},p.setPage=function(){return rp.apply(this,arguments),he.call(this,Oe[I]),this},p.insertPage=function(C){return this.addPage(),this.movePage(I,C),this},p.movePage=function(C,H){var ce,pe;if(C>H){ce=Oe[C],pe=gt[C];for(var Ne=C;Ne>H;Ne--)Oe[Ne]=Oe[Ne-1],gt[Ne]=gt[Ne-1];Oe[H]=ce,gt[H]=pe,this.setPage(H)}else if(C<H){ce=Oe[C],pe=gt[C];for(var Te=C;Te<H;Te++)Oe[Te]=Oe[Te+1],gt[Te]=gt[Te+1];Oe[H]=ce,gt[H]=pe,this.setPage(H)}return this},p.deletePage=function(){return R1.apply(this,arguments),this},p.__private__.text=p.text=function(C,H,ce,pe,Ne){var Te,ze,Ye,at,Nt,vt,$t,Rr,Ur,an=(pe=pe||{}).scope||this;if(typeof C=="number"&&typeof H=="number"&&(typeof ce=="string"||Array.isArray(ce))){var ii=ce;ce=H,H=C,C=ii}if(arguments[3]instanceof ht?(O("The transform parameter of text() with a Matrix value"),Ur=Ne):(Ye=arguments[4],at=arguments[5],or($t=arguments[3])==="object"&&$t!==null||(typeof Ye=="string"&&(at=Ye,Ye=null),typeof $t=="string"&&(at=$t,$t=null),typeof $t=="number"&&(Ye=$t,$t=null),pe={flags:$t,angle:Ye,align:at})),isNaN(H)||isNaN(ce)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return an;var kn="",qa=!1,Ji=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:Tl,gs=an.internal.scaleFactor;function pp(br){return br=br.split("	").join(Array(pe.TabLen||9).join(" ")),Ii(br,$t)}function Nh(br){for(var yr,Yr=br.concat(),mn=[],Zs=Yr.length;Zs--;)typeof(yr=Yr.shift())=="string"?mn.push(yr):Array.isArray(br)&&(yr.length===1||yr[1]===void 0&&yr[2]===void 0)?mn.push(yr[0]):mn.push([yr[0],yr[1],yr[2]]);return mn}function _h(br,yr){var Yr;if(typeof br=="string")Yr=yr(br)[0];else if(Array.isArray(br)){for(var mn,Zs,Th=br.concat(),fu=[],bp=Th.length;bp--;)typeof(mn=Th.shift())=="string"?fu.push(yr(mn)[0]):Array.isArray(mn)&&typeof mn[0]=="string"&&(Zs=yr(mn[0],mn[1],mn[2]),fu.push([Zs[0],Zs[1],Zs[2]]));Yr=fu}return Yr}var iu=!1,Sh=!0;if(typeof C=="string")iu=!0;else if(Array.isArray(C)){var Ah=C.concat();ze=[];for(var au,Vn=Ah.length;Vn--;)(typeof(au=Ah.shift())!="string"||Array.isArray(au)&&typeof au[0]!="string")&&(Sh=!1);iu=Sh}if(iu===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var su=ue/an.internal.scaleFactor,ou=su*(Ji-1);switch(pe.baseline){case"bottom":ce-=ou;break;case"top":ce+=su-ou;break;case"hanging":ce+=su-2*ou;break;case"middle":ce+=su/2-ou}if((vt=pe.maxWidth||0)>0&&(typeof C=="string"?C=an.splitTextToSize(C,vt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(br,yr){return br.concat(an.splitTextToSize(yr,vt))},[]))),Te={text:C,x:H,y:ce,options:pe,mutex:{pdfEscape:Ii,activeFontKey:At,fonts:Kt,activeFontSize:ue}},Qt.publish("preProcessText",Te),C=Te.text,Ye=(pe=Te.options).angle,!(Ur instanceof ht)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,pe.rotationDirection===0&&(Ye=-Ye),w===y.ADVANCED&&(Ye=-Ye);var lu=Math.cos(Ye),Ch=Math.sin(Ye);Ur=new ht(lu,Ch,-Ch,lu,0,0)}else Ye&&Ye instanceof ht&&(Ur=Ye);w!==y.ADVANCED||Ur||(Ur=hs),(Nt=pe.charSpace||tu)!==void 0&&(kn+=A(E(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Rr=pe.horizontalScale)!==void 0&&(kn+=A(100*Rr)+` Tz
`),pe.lang;var Di=-1,ev=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,Eh=an.internal.getCurrentPageInfo().pageContext;switch(ev){case 0:case!1:case"fill":Di=0;break;case 1:case!0:case"stroke":Di=1;break;case 2:case"fillThenStroke":Di=2;break;case 3:case"invisible":Di=3;break;case 4:case"fillAndAddForClipping":Di=4;break;case 5:case"strokeAndAddPathForClipping":Di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Di=6;break;case 7:case"addToPathForClipping":Di=7}var mp=Eh.usedRenderingMode!==void 0?Eh.usedRenderingMode:-1;Di!==-1?kn+=Di+` Tr
`:mp!==-1&&(kn+=`0 Tr
`),Di!==-1&&(Eh.usedRenderingMode=Di),at=pe.align||"left";var pa,cu=ue*Ji,xp=an.internal.pageSize.getWidth(),gp=Kt[At];Nt=pe.charSpace||tu,vt=pe.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var Io=[],Ml=function(br){return an.getStringUnitWidth(br,{font:gp,charSpace:Nt,fontSize:ue,doKerning:!1})*ue/gs};if(Object.prototype.toString.call(C)==="[object Array]"){var Mi;ze=Nh(C),at!=="left"&&(pa=ze.map(Ml));var vi,Do=0;if(at==="right"){H-=pa[0],C=[],Vn=ze.length;for(var Ks=0;Ks<Vn;Ks++)Ks===0?(vi=xs(H),Mi=Ys(ce)):(vi=E(Do-pa[Ks]),Mi=-cu),C.push([ze[Ks],vi,Mi]),Do=pa[Ks]}else if(at==="center"){H-=pa[0]/2,C=[],Vn=ze.length;for(var Js=0;Js<Vn;Js++)Js===0?(vi=xs(H),Mi=Ys(ce)):(vi=E((Do-pa[Js])/2),Mi=-cu),C.push([ze[Js],vi,Mi]),Do=pa[Js]}else if(at==="left"){C=[],Vn=ze.length;for(var uu=0;uu<Vn;uu++)C.push(ze[uu])}else if(at==="justify"&&gp.encoding==="Identity-H"){C=[],Vn=ze.length,vt=vt!==0?vt:xp;for(var Qs=0,Xr=0;Xr<Vn;Xr++)if(Mi=Xr===0?Ys(ce):-cu,vi=Xr===0?xs(H):Qs,Xr<Vn-1){var Oh=E((vt-pa[Xr])/(ze[Xr].split(" ").length-1)),bi=ze[Xr].split(" ");C.push([bi[0]+" ",vi,Mi]),Qs=0;for(var ma=1;ma<bi.length;ma++){var du=(Ml(bi[ma-1]+" "+bi[ma])-Ml(bi[ma]))*gs+Oh;ma==bi.length-1?C.push([bi[ma],du,0]):C.push([bi[ma]+" ",du,0]),Qs-=du}}else C.push([ze[Xr],vi,Mi]);C.push(["",Qs,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Vn=ze.length,vt=vt!==0?vt:xp,Xr=0;Xr<Vn;Xr++)Mi=Xr===0?Ys(ce):-cu,vi=Xr===0?xs(H):0,Xr<Vn-1?Io.push(A(E((vt-pa[Xr])/(ze[Xr].split(" ").length-1)))):Io.push(0),C.push([ze[Xr],vi,Mi])}}var vp=typeof pe.R2L=="boolean"?pe.R2L:me;vp===!0&&(C=_h(C,function(br,yr,Yr){return[br.split("").reverse().join(""),yr,Yr]})),Te={text:C,x:H,y:ce,options:pe,mutex:{pdfEscape:Ii,activeFontKey:At,fonts:Kt,activeFontSize:ue}},Qt.publish("postProcessText",Te),C=Te.text,qa=Te.mutex.isHex||!1;var Ph=Kt[At].encoding;Ph!=="WinAnsiEncoding"&&Ph!=="StandardEncoding"||(C=_h(C,function(br,yr,Yr){return[pp(br),yr,Yr]})),ze=Nh(C),C=[];for(var Ll,Rl,Mo,Fl=0,hu=1,Bl=Array.isArray(ze[0])?hu:Fl,Lo="",kh=function(br,yr,Yr){var mn="";return Yr instanceof ht?(Yr=typeof pe.angle=="number"?Ra(Yr,new ht(1,0,0,1,br,yr)):Ra(new ht(1,0,0,1,br,yr),Yr),w===y.ADVANCED&&(Yr=Ra(new ht(1,0,0,-1,0,0),Yr)),mn=Yr.join(" ")+` Tm
`):mn=A(br)+" "+A(yr)+` Td
`,mn},xa=0;xa<ze.length;xa++){switch(Lo="",Bl){case hu:Mo=(qa?"<":"(")+ze[xa][0]+(qa?">":")"),Ll=parseFloat(ze[xa][1]),Rl=parseFloat(ze[xa][2]);break;case Fl:Mo=(qa?"<":"(")+ze[xa]+(qa?">":")"),Ll=xs(H),Rl=Ys(ce)}Io!==void 0&&Io[xa]!==void 0&&(Lo=Io[xa]+` Tw
`),xa===0?C.push(Lo+kh(Ll,Rl,Ur)+Mo):Bl===Fl?C.push(Lo+Mo):Bl===hu&&C.push(Lo+kh(Ll,Rl,Ur)+Mo)}C=Bl===Fl?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var ga=`BT
/`;return ga+=At+" "+ue+` Tf
`,ga+=A(ue*Ji)+` TL
`,ga+=Il+`
`,ga+=kn,ga+=C,te(ga+="ET"),f[At]=!0,an};var W1=p.__private__.clip=p.clip=function(C){return te(C==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return W1("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var ms=p.__private__.isValidStyle=function(C){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(C){return ms(C)&&(u=C),this};var sp=p.__private__.getStyle=p.getStyle=function(C){var H=u;switch(C){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=C}return H},op=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(C){return Zc("f",C),this},p.fillEvenOdd=function(C){return Zc("f*",C),this},p.fillStroke=function(C){return Zc("B",C),this},p.fillStrokeEvenOdd=function(C){return Zc("B*",C),this};var Zc=function(C,H){or(H)==="object"?G1(H,C):te(C)},fh=function(C){C===null||w===y.ADVANCED&&C===void 0||(C=sp(C),te(C))};function V1(C,H,ce,pe,Ne){var Te=new fc(H||this.boundingBox,ce||this.xStep,pe||this.yStep,this.gState,Ne||this.matrix);Te.stream=this.stream;var ze=C+"$$"+this.cloneIndex+++"$$";return Ti(ze,Te),Te}var G1=function(C,H){var ce=El[C.key],pe=Jt[ce];if(pe instanceof dl)te("q"),te(X1(H)),pe.gState&&p.setGState(pe.gState),te(C.matrix.toString()+" cm"),te("/"+ce+" sh"),te("Q");else if(pe instanceof fc){var Ne=new ht(1,0,0,-1,0,To());C.matrix&&(Ne=Ne.multiply(C.matrix||hs),ce=V1.call(pe,C.key,C.boundingBox,C.xStep,C.yStep,Ne).id),te("q"),te("/Pattern cs"),te("/"+ce+" scn"),pe.gState&&p.setGState(pe.gState),te(H),te("Q")}},X1=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ph=p.moveTo=function(C,H){return te(A(E(C))+" "+A(F(H))+" m"),this},kl=p.lineTo=function(C,H){return te(A(E(C))+" "+A(F(H))+" l"),this},Po=p.curveTo=function(C,H,ce,pe,Ne,Te){return te([A(E(C)),A(F(H)),A(E(ce)),A(F(pe)),A(E(Ne)),A(F(Te)),"c"].join(" ")),this};p.__private__.line=p.line=function(C,H,ce,pe,Ne){if(isNaN(C)||isNaN(H)||isNaN(ce)||isNaN(pe)||!ms(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[ce-C,pe-H]],C,H,[1,1],Ne||"S"):this.lines([[ce-C,pe-H]],C,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(C,H,ce,pe,Ne,Te){var ze,Ye,at,Nt,vt,$t,Rr,Ur,an,ii,kn,qa;if(typeof C=="number"&&(qa=ce,ce=H,H=C,C=qa),pe=pe||[1,1],Te=Te||!1,isNaN(H)||isNaN(ce)||!Array.isArray(C)||!Array.isArray(pe)||!ms(Ne)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ph(H,ce),ze=pe[0],Ye=pe[1],Nt=C.length,ii=H,kn=ce,at=0;at<Nt;at++)(vt=C[at]).length===2?(ii=vt[0]*ze+ii,kn=vt[1]*Ye+kn,kl(ii,kn)):($t=vt[0]*ze+ii,Rr=vt[1]*Ye+kn,Ur=vt[2]*ze+ii,an=vt[3]*Ye+kn,ii=vt[4]*ze+ii,kn=vt[5]*Ye+kn,Po($t,Rr,Ur,an,ii,kn));return Te&&op(),fh(Ne),this},p.path=function(C){for(var H=0;H<C.length;H++){var ce=C[H],pe=ce.c;switch(ce.op){case"m":ph(pe[0],pe[1]);break;case"l":kl(pe[0],pe[1]);break;case"c":Po.apply(this,pe);break;case"h":op()}}return this},p.__private__.rect=p.rect=function(C,H,ce,pe,Ne){if(isNaN(C)||isNaN(H)||isNaN(ce)||isNaN(pe)||!ms(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(pe=-pe),te([A(E(C)),A(F(H)),A(E(ce)),A(E(pe)),"re"].join(" ")),fh(Ne),this},p.__private__.triangle=p.triangle=function(C,H,ce,pe,Ne,Te,ze){if(isNaN(C)||isNaN(H)||isNaN(ce)||isNaN(pe)||isNaN(Ne)||isNaN(Te)||!ms(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-C,pe-H],[Ne-ce,Te-pe],[C-Ne,H-Te]],C,H,[1,1],ze,!0),this},p.__private__.roundedRect=p.roundedRect=function(C,H,ce,pe,Ne,Te,ze){if(isNaN(C)||isNaN(H)||isNaN(ce)||isNaN(pe)||isNaN(Ne)||isNaN(Te)||!ms(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*ce),Te=Math.min(Te,.5*pe),this.lines([[ce-2*Ne,0],[Ne*Ye,0,Ne,Te-Te*Ye,Ne,Te],[0,pe-2*Te],[0,Te*Ye,-Ne*Ye,Te,-Ne,Te],[2*Ne-ce,0],[-Ne*Ye,0,-Ne,-Te*Ye,-Ne,-Te],[0,2*Te-pe],[0,-Te*Ye,Ne*Ye,-Te,Ne,-Te]],C+Ne,H,[1,1],ze,!0),this},p.__private__.ellipse=p.ellipse=function(C,H,ce,pe,Ne){if(isNaN(C)||isNaN(H)||isNaN(ce)||isNaN(pe)||!ms(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*ce,ze=4/3*(Math.SQRT2-1)*pe;return ph(C+ce,H),Po(C+ce,H-ze,C+Te,H-pe,C,H-pe),Po(C-Te,H-pe,C-ce,H-ze,C-ce,H),Po(C-ce,H+ze,C-Te,H+pe,C,H+pe),Po(C+Te,H+pe,C+ce,H+ze,C+ce,H),fh(Ne),this},p.__private__.circle=p.circle=function(C,H,ce,pe){if(isNaN(C)||isNaN(H)||isNaN(ce)||!ms(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,H,ce,ce,pe)},p.setFont=function(C,H,ce){return ce&&(H=S(H,ce)),At=np(C,H,{disableWarning:!1}),this};var Y1=p.__private__.getFont=p.getFont=function(){return Kt[np.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var C,H,ce={};for(C in Ir)if(Ir.hasOwnProperty(C))for(H in ce[C]=[],Ir[C])Ir[C].hasOwnProperty(H)&&ce[C].push(H);return ce},p.addFont=function(C,H,ce,pe,Ne){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(ce=S(ce,pe)),Ne=Ne||"Identity-H",uh.call(this,C,H,ce,Ne)};var Tl,mh=t.lineWidth||.200025,eu=p.__private__.getLineWidth=p.getLineWidth=function(){return mh},lp=p.__private__.setLineWidth=p.setLineWidth=function(C){return mh=C,te(A(E(C))+" w"),this};p.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(C,H){if(C=C||[],H=H||0,isNaN(H)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(ce){return A(E(ce))}).join(" "),H=A(E(H)),te("["+C+"] "+H+" d"),this};var cp=p.__private__.getLineHeight=p.getLineHeight=function(){return ue*Tl};p.__private__.getLineHeight=p.getLineHeight=function(){return ue*Tl};var up=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Tl=C),this},dp=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Tl};up(t.lineHeight);var xs=p.__private__.getHorizontalCoordinate=function(C){return E(C)},Ys=p.__private__.getVerticalCoordinate=function(C){return w===y.ADVANCED?C:gt[I].mediaBox.topRightY-gt[I].mediaBox.bottomLeftY-E(C)},K1=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(C){return A(xs(C))},ko=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(C){return A(Ys(C))},Ua=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ba(Ua)},p.__private__.setStrokeColor=p.setDrawColor=function(C,H,ce,pe){return Ua=$a({ch1:C,ch2:H,ch3:ce,ch4:pe,pdfColorType:"draw",precision:2}),te(Ua),this};var xh=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ba(xh)},p.__private__.setFillColor=p.setFillColor=function(C,H,ce,pe){return xh=$a({ch1:C,ch2:H,ch3:ce,ch4:pe,pdfColorType:"fill",precision:2}),te(xh),this};var Il=t.textColor||"0 g",J1=p.__private__.getTextColor=p.getTextColor=function(){return Ba(Il)};p.__private__.setTextColor=p.setTextColor=function(C,H,ce,pe){return Il=$a({ch1:C,ch2:H,ch3:ce,ch4:pe,pdfColorType:"text",precision:3}),this};var tu=t.charSpace,Q1=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(tu||0)};p.__private__.setCharSpace=p.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tu=C,this};var gh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(C){var H=p.CapJoinStyles[C];if(H===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gh=H,te(H+" J"),this};var vh=0;p.__private__.setLineJoin=p.setLineJoin=function(C){var H=p.CapJoinStyles[C];if(H===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vh=H,te(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(A(E(C))+" M"),this},p.GState=g0,p.setGState=function(C){(C=typeof C=="string"?$r[La[C]]:hp(null,C)).equals(Vs)||(te("/"+C.id+" gs"),Vs=C)};var hp=function(C,H){if(!C||!La[C]){var ce=!1;for(var pe in $r)if($r.hasOwnProperty(pe)&&$r[pe].equals(H)){ce=!0;break}if(ce)H=$r[pe];else{var Ne="GS"+(Object.keys($r).length+1).toString(10);$r[Ne]=H,H.id=Ne}return C&&(La[C]=H.id),Qt.publish("addGState",H),H}};p.addGState=function(C,H){return hp(C,H),this},p.saveGraphicsState=function(){return te("q"),cs.push({key:At,size:ue,color:Il}),this},p.restoreGraphicsState=function(){te("Q");var C=cs.pop();return At=C.key,ue=C.size,Il=C.color,Vs=null,this},p.setCurrentTransformationMatrix=function(C){return te(C.toString()+" cm"),this},p.comment=function(C){return te("#"+C),this};var ru=function(C,H){var ce=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Te){isNaN(Te)||(ce=parseFloat(Te))}});var pe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Te){isNaN(Te)||(pe=parseFloat(Te))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Te){Ne=Te.toString()}}),this},bh=function(C,H,ce,pe){ru.call(this,C,H),this.type="rect";var Ne=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(ze){isNaN(ze)||(Ne=parseFloat(ze))}});var Te=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(ze){isNaN(ze)||(Te=parseFloat(ze))}}),this},yh=function(){this.page=zr,this.currentPage=I,this.pages=Oe.slice(0),this.pagesContext=gt.slice(0),this.x=Pn,this.y=Lt,this.matrix=Yi,this.width=Dl(I),this.height=To(I),this.outputDestination=Pe,this.id="",this.objectNumber=-1};yh.prototype.restore=function(){zr=this.page,I=this.currentPage,gt=this.pagesContext,Oe=this.pages,Pn=this.x,Lt=this.y,Yi=this.matrix,wh(I,this.width),jh(I,this.height),Pe=this.outputDestination};var fp=function(C,H,ce,pe,Ne){ds.push(new yh),zr=I=0,Oe=[],Pn=C,Lt=H,Yi=Ne,dh([ce,pe])},Z1=function(C){if(us[C])ds.pop().restore();else{var H=new yh,ce="Xo"+(Object.keys(Wn).length+1).toString(10);H.id=ce,us[C]=ce,Wn[ce]=H,Qt.publish("addFormObject",H),ds.pop().restore()}};for(var nu in p.beginFormObject=function(C,H,ce,pe,Ne){return fp(C,H,ce,pe,Ne),this},p.endFormObject=function(C){return Z1(C),this},p.doFormObject=function(C,H){var ce=Wn[us[C]];return te("q"),te(H.toString()+" cm"),te("/"+ce.id+" Do"),te("Q"),this},p.getFormObject=function(C){var H=Wn[us[C]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(C,H){return C=C||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(ec(Jc(Xs()),C),typeof ec.unload=="function"&&pt.setTimeout&&setTimeout(ec.unload,911),this):new Promise(function(ce,pe){try{var Ne=ec(Jc(Xs()),C);typeof ec.unload=="function"&&pt.setTimeout&&setTimeout(ec.unload,911),ce(Ne)}catch(Te){pe(Te.message)}})},st.API)st.API.hasOwnProperty(nu)&&(nu==="events"&&st.API.events.length?function(C,H){var ce,pe,Ne;for(Ne=H.length-1;Ne!==-1;Ne--)ce=H[Ne][0],pe=H[Ne][1],C.subscribe.apply(C,[ce].concat(typeof pe=="function"?[pe]:pe))}(Qt,st.API.events):p[nu]=st.API[nu]);var Dl=p.getPageWidth=function(C){return(gt[C=C||I].mediaBox.topRightX-gt[C].mediaBox.bottomLeftX)/Ge},wh=p.setPageWidth=function(C,H){gt[C].mediaBox.topRightX=H*Ge+gt[C].mediaBox.bottomLeftX},To=p.getPageHeight=function(C){return(gt[C=C||I].mediaBox.topRightY-gt[C].mediaBox.bottomLeftY)/Ge},jh=p.setPageHeight=function(C,H){gt[C].mediaBox.topRightY=H*Ge+gt[C].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ii,getStyle:sp,getFont:Y1,getFontSize:je,getCharSpace:Q1,getTextColor:J1,getLineHeight:cp,getLineHeightFactor:dp,getLineWidth:eu,write:Ue,getHorizontalCoordinate:xs,getVerticalCoordinate:Ys,getCoordinateString:K1,getVerticalCoordinateString:ko,collections:{},newObject:pn,newAdditionalObject:qc,newObjectDeferred:nn,newObjectDeferredBegin:Ki,getFilters:fs,putStream:fa,events:Qt,scaleFactor:Ge,pageSize:{getWidth:function(){return Dl(I)},setWidth:function(C){wh(I,C)},getHeight:function(){return To(I)},setHeight:function(C){jh(I,C)}},encryptionOptions:d,encryption:ni,getEncryptor:q1,output:Qc,getNumberOfPages:F1,pages:Oe,out:te,f2:B,f3:T,getPageInfo:ap,getPageInfoByObjId:xt,getCurrentPageInfo:H1,getPDFVersion:x,Point:ru,Rectangle:bh,Matrix:ht,hasHotfix:ip},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Dl(I)},set:function(C){wh(I,C)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return To(I)},set:function(C){jh(I,C)},enumerable:!0,configurable:!0}),L1.call(p,re),At="F1",tp(i,r),Qt.publish("initialized"),p}Fu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Fu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Fu.prototype.processOwnerPassword=function(t,e){return G2(V2(e).substr(0,5),t)},Fu.prototype.encryptor=function(t,e){var r=V2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return G2(r,n)}},g0.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||or(t)!==or(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},st.API={events:[]},st.version="2.5.2";var Wr=st.API,Z5=1,$c=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ou=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bt=function(t){return t.toFixed(2)},Ko=function(t){return t.toFixed(5)};Wr.__acroform__={};var Gi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},iA=function(t){return t*Z5},bs=function(t){var e=new dk,r=et.internal.getHeight(t)||0,n=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(bt(n)),Number(bt(r))],e},Qpe=Wr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Zpe=Wr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},eme=Wr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Qr=Wr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eme(t,e-1)},Zr=Wr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Qpe(t,e-1)},en=Wr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Zpe(t,e-1)},tme=Wr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(s)||0,[Number(bt(c.lowerLeft_X)),Number(bt(c.lowerLeft_Y)),Number(bt(c.upperRight_X)),Number(bt(c.upperRight_Y))]},rme=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=X2(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+bt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=bs(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},X2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=r,o=et.internal.getHeight(t)||0;o=o<0?-o:o;var l=et.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(T,E,R){if(T+1<i.length){var F=E+" "+i[T+1][0];return pm(F,t,R).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,h=pm("3",t,s).height,f=t.multiline?o-s:(o-h)/2,p=f+=2,m=0,x=0,g=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+pm(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var b="",y=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var j=!1;if(i[w].length!==1&&g!==i[w].length-1){if((h+2)*(y+2)+2>o)continue e;b+=i[w][g],j=!0,x=w,w--}else{b=(b+=i[w][g]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var _=parseInt(w),S=c(_,b,s),A=w>=i.length-1;if(S&&!A){b+=" ",g=0;continue}if(S||A){if(A)x=_;else if(t.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>o)continue e;x=_}}for(var O="",M=m;M<=x;M++){var B=i[M];if(t.multiline){if(M===x){O+=B[g]+" ",g=(g+1)%B.length;continue}if(M===m){O+=B[B.length-1]+" ";continue}}O+=B[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=pm(O,t,s).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}e+=bt(u)+" "+bt(p)+` Td
`,e+="("+$c(O)+`) Tj
`,e+=-bt(u)+` 0 Td
`,p=-(s+2),d=0,m=j?x:x+1,y++,b=""}break}return n.text=e,n.fontSize=s,n},pm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},nme={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ime=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},ame=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),or(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},sme=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(os.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(nme)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new hk,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&ime(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=tme(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=et.createDefaultAppearanceStream(l),or(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=rme(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var p=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var m=p[o];typeof m=="function"&&(m=m.call(i,l)),h+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(i,l)),h+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&ame(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},uk=Wr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),or(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+$c(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ab=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+$c(n(t))+")"},Os=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Os.prototype.toString=function(){return this.objId+" 0 R"},Os.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Os.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:uk(i,this.objId,this.scope)}):i instanceof Os?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var dk=function(){Os.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Gi(dk,Os);var hk=function(){Os.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+$c(r(t))+")"}},set:function(r){t=r}})};Gi(hk,Os);var os=function t(){Os.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qr(e,3)},set:function(b){b?this.F=Zr(e,3):this.F=en(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ng)return;s="FieldObject"+t.FieldNum++}var b=function(y){return y};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+$c(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Z5:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ng||this instanceof xl))return Ab(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof yn?f:Ab(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof yn?b:b.substr(0,1)==="("?Ou(b.substr(1,b.length-2)):Ou(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yn?Ou(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof yn?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof yn?p:Ab(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof yn?b:b.substr(0,1)==="("?Ou(b.substr(1,b.length-2)):Ou(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yn?Ou(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof yn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(b){m=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,1)},set:function(b){b?this.Ff=Zr(this.Ff,1):this.Ff=en(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,2)},set:function(b){b?this.Ff=Zr(this.Ff,2):this.Ff=en(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,3)},set:function(b){b?this.Ff=Zr(this.Ff,3):this.Ff=en(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');g=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(g){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Gi(os,Os);var vc=function(){os.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uk(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,18)},set:function(r){r?this.Ff=Zr(this.Ff,18):this.Ff=en(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Zr(this.Ff,19):this.Ff=en(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,20)},set:function(r){r?(this.Ff=Zr(this.Ff,20),e.sort()):this.Ff=en(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,22)},set:function(r){r?this.Ff=Zr(this.Ff,22):this.Ff=en(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(r){r?this.Ff=Zr(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,27)},set:function(r){r?this.Ff=Zr(this.Ff,27):this.Ff=en(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(vc,os);var bc=function(){vc.call(this),this.fontName="helvetica",this.combo=!1};Gi(bc,vc);var yc=function(){bc.call(this),this.combo=!0};Gi(yc,bc);var Nf=function(){yc.call(this),this.edit=!0};Gi(Nf,yc);var yn=function(){os.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,15)},set:function(r){r?this.Ff=Zr(this.Ff,15):this.Ff=en(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,16)},set:function(r){r?this.Ff=Zr(this.Ff,16):this.Ff=en(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,17)},set:function(r){r?this.Ff=Zr(this.Ff,17):this.Ff=en(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(r){r?this.Ff=Zr(this.Ff,26):this.Ff=en(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+$c(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){or(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Gi(yn,os);var _f=function(){yn.call(this),this.pushButton=!0};Gi(_f,yn);var wc=function(){yn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Gi(wc,yn);var ng=function(){var t,e;os.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+$c(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){or(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(ng,os),wc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},wc.prototype.createOption=function(t){var e=new ng;return e.Parent=this,e.optionName=t,this.Kids.push(e),ome.call(this.scope,e),e};var Sf=function(){yn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Gi(Sf,yn);var xl=function(){os.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,13)},set:function(e){e?this.Ff=Zr(this.Ff,13):this.Ff=en(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,21)},set:function(e){e?this.Ff=Zr(this.Ff,21):this.Ff=en(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(e){e?this.Ff=Zr(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,24)},set:function(e){e?this.Ff=Zr(this.Ff,24):this.Ff=en(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,25)},set:function(e){e?this.Ff=Zr(this.Ff,25):this.Ff=en(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(e){e?this.Ff=Zr(this.Ff,26):this.Ff=en(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(xl,os);var Af=function(){xl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,14)},set:function(t){t?this.Ff=Zr(this.Ff,14):this.Ff=en(this.Ff,14)}}),this.password=!0};Gi(Af,xl);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=X2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+bt(et.internal.getWidth(t))+" "+bt(et.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+bt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=bs(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=et.internal.getHeight(t),o=et.internal.getWidth(t),l=X2(t,t.caption);return i.push("1 g"),i.push("0 0 "+bt(o)+" "+bt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+bt(o-1)+" "+bt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+bt(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(et.internal.getWidth(t))+" "+bt(et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=et.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ko(et.internal.getWidth(t)/2)+" "+Ko(et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5)),o=Number((n*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ko(et.internal.getWidth(t)/2)+" "+Ko(et.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ko(et.internal.getWidth(t)/2)+" "+Ko(et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ko(et.internal.getWidth(t)/2)+" "+Ko(et.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=et.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+bt(et.internal.getWidth(t)-2)+" "+bt(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(bt(n.x1.x)+" "+bt(n.x1.y)+" m"),r.push(bt(n.x2.x)+" "+bt(n.x2.y)+" l"),r.push(bt(n.x4.x)+" "+bt(n.x4.y)+" m"),r.push(bt(n.x3.x)+" "+bt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=et.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+bt(et.internal.getWidth(t))+" "+bt(et.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+bt(et.internal.getWidth(t)-2)+" "+bt(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(bt(r.x1.x)+" "+bt(r.x1.y)+" m"),n.push(bt(r.x2.x)+" "+bt(r.x2.y)+" l"),n.push(bt(r.x4.x)+" "+bt(r.x4.y)+" m"),n.push(bt(r.x3.x)+" "+bt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(et.internal.getWidth(t))+" "+bt(et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),r=et.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},et.internal.getWidth=function(t){var e=0;return or(t)==="object"&&(e=iA(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return or(t)==="object"&&(e=iA(t.Rect[3])),e};var ome=Wr.addField=function(t){if(sme(this,t),!(t instanceof os))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Wr.AcroFormChoiceField=vc,Wr.AcroFormListBox=bc,Wr.AcroFormComboBox=yc,Wr.AcroFormEditBox=Nf,Wr.AcroFormButton=yn,Wr.AcroFormPushButton=_f,Wr.AcroFormRadioButton=wc,Wr.AcroFormCheckBox=Sf,Wr.AcroFormTextField=xl,Wr.AcroFormPasswordField=Af,Wr.AcroFormAppearance=et,Wr.AcroForm={ChoiceField:vc,ListBox:bc,ComboBox:yc,EditBox:Nf,Button:yn,PushButton:_f,RadioButton:wc,CheckBox:Sf,TextField:xl,PasswordField:Af,Appearance:et},st.AcroForm={ChoiceField:vc,ListBox:bc,ComboBox:yc,EditBox:Nf,Button:yn,PushButton:_f,RadioButton:wc,CheckBox:Sf,TextField:xl,PasswordField:Af,Appearance:et};var lme=st.AcroForm;function fk(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(T,E){var R,F,W,$,z,X=e;if((E=E||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(S(T))for(z in r)for(W=r[z],R=0;R<W.length;R+=1){for($=!0,F=0;F<W[R].length;F+=1)if(W[R][F]!==void 0&&W[R][F]!==T[F]){$=!1;break}if($===!0){X=z;break}}else for(z in r)for(W=r[z],R=0;R<W.length;R+=1){for($=!0,F=0;F<W[R].length;F+=1)if(W[R][F]!==void 0&&W[R][F]!==T.charCodeAt(F)){$=!1;break}if($===!0){X=z;break}}return X===e&&E!==e&&(X=E),X},i=function T(E){for(var R=this.internal.write,F=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:E.width}),$.push({key:"Height",value:E.height}),E.colorSpace===g.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===g.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var z="",X=0,Y=E.transparency.length;X<Y;X++)z+=E.transparency[X]+" "+E.transparency[X]+" ";$.push({key:"Mask",value:"["+z+"]"})}E.sMask!==void 0&&$.push({key:"SMask",value:E.objectId+1+" 0 R"});var oe=E.filter!==void 0?["/"+E.filter]:void 0;if(F({data:E.data,additionalKeyValues:$,alreadyAppliedFilters:oe,objectId:E.objectId}),R("endobj"),"sMask"in E&&E.sMask!==void 0){var fe="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,D={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:fe,data:E.sMask};"filter"in E&&(D.filter=E.filter),T.call(this,D)}if(E.colorSpace===g.INDEXED){var I=this.internal.newObject();F({data:O(new Uint8Array(E.palette)),objectId:I}),R("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var E in T)i.call(this,T[E])},o=function(){var T,E=this.internal.collections.addImage_images,R=this.internal.write;for(var F in E)R("/I"+(T=E[F]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(T){return typeof t["process"+T.toUpperCase()]=="function"},h=function(T){return or(T)==="object"&&T.nodeType===1},f=function(T,E){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var R=""+T.getAttribute("src");if(R.indexOf("data:image/")===0)return jf(unescape(R).split("base64,").pop());var F=t.loadFile(R,!0);if(F!==void 0)return F}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var W;switch(E){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;case"JPEG":case"JPG":default:W="image/jpeg"}return jf(T.toDataURL(W,1).split("base64,").pop())}},p=function(T){var E=this.internal.collections.addImage_images;if(E){for(var R in E)if(T===E[R].alias)return E[R]}},m=function(T,E,R){return T||E||(T=-96,E=-96),T<0&&(T=-1*R.width*72/T/this.internal.scaleFactor),E<0&&(E=-1*R.height*72/E/this.internal.scaleFactor),T===0&&(T=E*R.width/R.height),E===0&&(E=T*R.height/R.width),[T,E]},x=function(T,E,R,F,W,$){var z=m.call(this,R,F,W),X=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,oe=c.call(this);if(R=z[0],F=z[1],oe[W.index]=W,$){$*=Math.PI/180;var fe=Math.cos($),D=Math.sin($),I=function(J){return J.toFixed(4)},U=[I(fe),I(D),I(-1*D),I(fe),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,X(T),Y(E+F),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([X(R),"0","0",X(F),"0","0","cm"].join(" "))):this.internal.write([X(R),"0","0",X(F),X(T),Y(E+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(T){var E,R,F=0;if(typeof T=="string")for(R=T.length,E=0;E<R;E++)F=(F<<5)-F+T.charCodeAt(E),F|=0;else if(S(T))for(R=T.byteLength/2,E=0;E<R;E++)F=(F<<5)-F+T[E],F|=0;return F},w=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var E=!0;return T.length===0&&(E=!1),T.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(E=!1),E},j=t.__addimage__.extractImageFromDataUrl=function(T){var E=(T=T||"").split("base64,"),R=null;if(E.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(F)&&(R={mimeType:F[1],charset:F[2],data:E[1]})}return R},_=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(T){return _()&&T instanceof ArrayBuffer};var S=t.__addimage__.isArrayBufferView=function(T){return _()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},A=t.__addimage__.binaryStringToUint8Array=function(T){for(var E=T.length,R=new Uint8Array(E),F=0;F<E;F++)R[F]=T.charCodeAt(F);return R},O=t.__addimage__.arrayBufferToBinaryString=function(T){for(var E="",R=S(T)?T:new Uint8Array(T),F=0;F<R.length;F+=8192)E+=String.fromCharCode.apply(null,R.subarray(F,F+8192));return E};t.addImage=function(){var T,E,R,F,W,$,z,X,Y;if(typeof arguments[1]=="number"?(E=e,R=arguments[1],F=arguments[2],W=arguments[3],$=arguments[4],z=arguments[5],X=arguments[6],Y=arguments[7]):(E=arguments[1],R=arguments[2],F=arguments[3],W=arguments[4],$=arguments[5],z=arguments[6],X=arguments[7],Y=arguments[8]),or(T=arguments[0])==="object"&&!h(T)&&"imageData"in T){var oe=T;T=oe.imageData,E=oe.format||E||e,R=oe.x||R||0,F=oe.y||F||0,W=oe.w||oe.width||W,$=oe.h||oe.height||$,z=oe.alias||z,X=oe.compression||X,Y=oe.rotation||oe.angle||Y}var fe=this.internal.getFilters();if(X===void 0&&fe.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(R)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=M.call(this,T,E,z,X);return x.call(this,R,F,W,$,D,Y),this};var M=function(T,E,R,F){var W,$,z;if(typeof T=="string"&&n(T)===e){T=unescape(T);var X=B(T,!1);(X!==""||(X=t.loadFile(T,!0))!==void 0)&&(T=X)}if(h(T)&&(T=f(T,E)),E=n(T,E),!d(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((z=R)==null||z.length===0)&&(R=function(Y){return typeof Y=="string"||S(Y)?y(Y):S(Y.data)?y(Y.data):null}(T)),(W=p.call(this,R))||(_()&&(T instanceof Uint8Array||E==="RGBA"||($=T,T=A(T))),W=this["process"+E.toUpperCase()](T,u.call(this),R,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:b.NONE}(F),$)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},B=t.__addimage__.convertBase64ToBinaryString=function(T,E){var R;E=typeof E!="boolean"||E;var F,W="";if(typeof T=="string"){F=(R=j(T))!==null?R.data:T;try{W=jf(F)}catch($){if(E)throw w(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(T){var E,R,F="";if(h(T)&&(T=f(T)),typeof T=="string"&&n(T)===e&&((F=B(T,!1))===""&&(F=t.loadFile(T)||""),T=F),R=n(T),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!_()||T instanceof Uint8Array||(T=A(T)),!(E=this["process"+R.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=R,E}})(st.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};st.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){n=u[f];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(b(n.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(b(y))+") >>",x.content=s;var w=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",g.content=s,this.internal.write(x.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(m(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var S=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,i,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-u,l,o,s),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(st.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(x){var g=0,b=r,y="",w=0;for(g=0;g<x.length;g+=1)b[x.charCodeAt(g)]!==void 0?(w++,typeof(b=b[x.charCodeAt(g)])=="number"&&(y+=String.fromCharCode(b),b=r,w=0),g===x.length-1&&(b=r,y+=x.charAt(g-(w-1)),g-=w-1,w=0)):(b=r,y+=x.charAt(g-w),g-=w,w=0);return y};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(x,g,b){return o(x)?s(x)===!1?-1:!u(x)||!o(g)&&!o(b)||!o(b)&&l(g)||l(x)&&!o(g)||l(x)&&c(g)||l(x)&&l(g)?0:d(x)&&o(g)&&!l(g)&&o(b)&&u(b)?3:l(x)||!o(b)?1:2:-1},p=function(x){var g=0,b=0,y=0,w="",j="",_="",S=(x=x||"").split("\\s+"),A=[];for(g=0;g<S.length;g+=1){for(A.push(""),b=0;b<S[g].length;b+=1)w=S[g][b],j=S[g][b-1],_=S[g][b+1],o(w)?(y=f(w,j,_),A[g]+=y!==-1?String.fromCharCode(e[w.charCodeAt(0)][y]):w):A[g]+=w;A[g]=h(A[g])}return A.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var x,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(g)){var y=0;for(b=[],y=0;y<g.length;y+=1)Array.isArray(g[y])?b.push([p(g[y][0]),g[y][1],g[y][2]]):b.push([p(g[y])]);x=b}else x=p(g);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",m])}(st.API),st.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(st.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(x){m=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,p=0,m=0,x=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,j){return w.concat(g.splitTextToSize(j,b))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(x=this.getStringUnitWidth(c[y],{font:h})*d)&&(p=x);return p!==0&&(m=c.length),{w:p/=f,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,f){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,m,x,g,b=[],y=[],w=[],j={},_={},S=[],A=[],O=(f=f||{}).autoSize||!1,M=f.printHeaders!==!1,B=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,T=f.margins||Object.assign({width:this.getPageWidth()},e),E=typeof f.padding=="number"?f.padding:3,R=f.headerBackgroundColor||"#c8c8c8",F=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=F,this.setFontSize(B),h==null)y=b=Object.keys(d[0]),w=b.map(function(){return"left"});else if(Array.isArray(h)&&or(h[0])==="object")for(b=h.map(function(oe){return oe.name}),y=h.map(function(oe){return oe.prompt||oe.name||""}),w=h.map(function(oe){return oe.align||"left"}),p=0;p<h.length;p+=1)_[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=b=h,w=b.map(function(){return"left"}));if(O||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<b.length;p+=1){for(j[g=b[p]]=d.map(function(oe){return oe[g]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=j[g],this.setFont(void 0,"normal"),x=0;x<m.length;x+=1)S.push(this.getTextDimensions(m[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[g]=Math.max.apply(null,S)+E+E,S=[]}if(M){var W={};for(p=0;p<b.length;p+=1)W[b[p]]={},W[b[p]].text=y[p],W[b[p]].align=w[p];var $=l.call(this,W,_);A=b.map(function(oe){return new s(c,u,_[oe],$,W[oe].text,void 0,W[oe].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var z=h.reduce(function(oe,fe){return oe[fe.name]=fe.align,oe},{});for(p=0;p<d.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:d[p]},this);var X=l.call(this,d[p],_);for(x=0;x<b.length;x+=1){var Y=d[p][b[x]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:x,data:Y},this),o.call(this,new s(c,u,_[b[x]],X,Y,p+2,z[b[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(p){var m=c[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+d+d},this).reduce(function(p,m){return Math.max(p,m)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(st.API);var pk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y2=fk(mk),xk=[100,200,300,400,500,600,700,800,900],cme=fk(xk);function K2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return pk[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Y2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function aA(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var ume={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function dme(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},ume,r.genericFontFamilies||{}),s=null,o=null,l=0;l<e.length;++l)if(i[(s=K2(e[l])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+oA(s)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=Y2[c],h=d<=Y2.normal?-1:1,f=aA(u,mk,d,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(s.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=pk[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=cme[c],h=aA(u,xk,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+oA(s)+"'.");return o}function lA(t){return t.trimLeft()}function hme(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function fme(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var mm,cA,uA,Cb=["times"];(function(t){var e,r,n,i,s,o,l,c,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=D;Object.defineProperty(this,"pdf",{get:function(){return I}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(he){U=!!he}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(he){J=!!he}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(he){isNaN(he)||(Q=he)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(he){isNaN(he)||(de=he)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(he){var te;typeof he=="number"?te=[he,he,he,he]:((te=new Array(4))[0]=he[0],te[1]=he.length>=2?he[1]:te[0],te[2]=he.length>=3?he[2]:te[0],te[3]=he.length>=4?he[3]:te[1]),u.margin=te}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(he){xe=he}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(he){le=he}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(he){_e=he}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(he){he instanceof d&&(u=he)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(he){u.path=he}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(he){Oe=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var te;te=f(he),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var te=f(he);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var ae=null;function Pe(he,te){if(ae===null){var Ue=function(ee){var re=[];return Object.keys(ee).forEach(function(ue){ee[ue].forEach(function(Se){var je=null;switch(Se){case"bold":je={family:ue,weight:"bold"};break;case"italic":je={family:ue,style:"italic"};break;case"bolditalic":je={family:ue,weight:"bold",style:"italic"};break;case"":case"normal":je={family:ue}}je!==null&&(je.ref={name:ue,style:Se},re.push(je))})}),re}(he.getFontList());ae=function(ee){for(var re={},ue=0;ue<ee.length;++ue){var Se=K2(ee[ue]),je=Se.family,me=Se.stretch,Le=Se.style,qe=Se.weight;re[je]=re[je]||{},re[je][me]=re[je][me]||{},re[je][me][Le]=re[je][me][Le]||{},re[je][me][Le][qe]=Se}return re}(Ue.concat(te))}return ae}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(he){ae=null,De=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var te;if(this.ctx.font=he,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Ue=te[1],ee=(te[2],te[3]),re=te[4],ue=(te[5],te[6]),Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(re)[2];re=Math.floor(Se==="px"?parseFloat(re)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(re)*this.pdf.getFontSize():parseFloat(re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(re);var je=function(dt){var At,Ge,Pn=[],Lt=dt.trim();if(Lt==="")return Cb;if(Lt in sA)return[sA[Lt]];for(;Lt!=="";){switch(Ge=null,At=(Lt=lA(Lt)).charAt(0)){case'"':case"'":Ge=hme(Lt.substring(1),At);break;default:Ge=fme(Lt)}if(Ge===null||(Pn.push(Ge[0]),(Lt=lA(Ge[1]))!==""&&Lt.charAt(0)!==","))return Cb;Lt=Lt.replace(/^,/,"")}return Pn}(ue);if(this.fontFaces){var me=dme(Pe(this.pdf,this.fontFaces),je.map(function(dt){return{family:dt,stretch:"normal",weight:ee,style:Ue}}));this.pdf.setFont(me.ref.name,me.ref.style)}else{var Le="";(ee==="bold"||parseInt(ee,10)>=700||Ue==="bold")&&(Le="bold"),Ue==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var qe="",Ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<je.length;it++){if(this.pdf.internal.getFont(je[it],Le,{noFallback:!0,disableWarning:!0})!==void 0){qe=je[it];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(je[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=je[it],Le="bold";else if(this.pdf.internal.getFont(je[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=je[it],Le="normal";break}}if(qe===""){for(var jt=0;jt<je.length;jt++)if(Ke[je[jt]]){qe=Ke[je[jt]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){j.call(this,"fill",!1)},h.prototype.stroke=function(){j.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,I){if(isNaN(D)||isNaN(I))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new o(D,I));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(D,I)},h.prototype.closePath=function(){var D=new o(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&or(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){D=new o(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},h.prototype.lineTo=function(D,I){if(isNaN(D)||isNaN(I))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new o(D,I));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(U.x,U.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,I,U,J){if(isNaN(U)||isNaN(J)||isNaN(D)||isNaN(I))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new o(U,J)),de=this.ctx.transform.applyToPoint(new o(D,I));this.path.push({type:"qct",x1:de.x,y1:de.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.bezierCurveTo=function(D,I,U,J,Q,de){if(isNaN(Q)||isNaN(de)||isNaN(D)||isNaN(I)||isNaN(U)||isNaN(J))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(Q,de)),le=this.ctx.transform.applyToPoint(new o(D,I)),_e=this.ctx.transform.applyToPoint(new o(U,J));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:_e.x,y2:_e.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},h.prototype.arc=function(D,I,U,J,Q,de){if(isNaN(D)||isNaN(I)||isNaN(U)||isNaN(J)||isNaN(Q))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(D,I));D=xe.x,I=xe.y;var le=this.ctx.transform.applyToPoint(new o(0,U)),_e=this.ctx.transform.applyToPoint(new o(0,0));U=Math.sqrt(Math.pow(le.x-_e.x,2)+Math.pow(le.y-_e.y,2))}Math.abs(Q-J)>=2*Math.PI&&(J=0,Q=2*Math.PI),this.path.push({type:"arc",x:D,y:I,radius:U,startAngle:J,endAngle:Q,counterclockwise:de})},h.prototype.arcTo=function(D,I,U,J,Q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,I,U,J){if(isNaN(D)||isNaN(I)||isNaN(U)||isNaN(J))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,I),this.lineTo(D+U,I),this.lineTo(D+U,I+J),this.lineTo(D,I+J),this.lineTo(D,I),this.lineTo(D+U,I),this.lineTo(D,I)},h.prototype.fillRect=function(D,I,U,J){if(isNaN(D)||isNaN(I)||isNaN(U)||isNaN(J))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,I,U,J),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},h.prototype.strokeRect=function(D,I,U,J){if(isNaN(D)||isNaN(I)||isNaN(U)||isNaN(J))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(D,I,U,J),this.stroke())},h.prototype.clearRect=function(D,I,U,J){if(isNaN(D)||isNaN(I)||isNaN(U)||isNaN(J))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,I,U,J))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(I),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(D){var I,U,J,Q;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))I=0,U=0,J=0,Q=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(de!==null)I=parseInt(de[1]),U=parseInt(de[2]),J=parseInt(de[3]),Q=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)I=parseInt(de[1]),U=parseInt(de[2]),J=parseInt(de[3]),Q=parseFloat(de[4]);else{if(Q=1,typeof D=="string"&&D.charAt(0)!=="#"){var xe=new ok(D);D=xe.ok?xe.toHex():"#000000"}D.length===4?(I=D.substring(1,2),I+=I,U=D.substring(2,3),U+=U,J=D.substring(3,4),J+=J):(I=D.substring(1,3),U=D.substring(3,5),J=D.substring(5,7)),I=parseInt(I,16),U=parseInt(U,16),J=parseInt(J,16)}}return{r:I,g:U,b:J,a:Q,style:D}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,I,U,J){if(isNaN(I)||isNaN(U)||typeof D!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var Q=X(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;E.call(this,{text:D,x:I,y:U,scale:de,angle:Q,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function(D,I,U,J){if(isNaN(I)||isNaN(U)||typeof D!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){J=isNaN(J)?void 0:J;var Q=X(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;E.call(this,{text:D,x:I,y:U,scale:de,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function(D){if(typeof D!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,U=this.pdf.internal.scaleFactor,J=I.internal.getFontSize(),Q=I.getStringUnitWidth(D)*J/I.internal.scaleFactor,de=function(xe){var le=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new de({width:Q*=Math.round(96*U/72*1e4)/1e4})},h.prototype.scale=function(D,I){if(isNaN(D)||isNaN(I))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new c(D,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.rotate=function(D){if(isNaN(D))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.translate=function(D,I){if(isNaN(D)||isNaN(I))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new c(1,0,0,1,D,I);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.transform=function(D,I,U,J,Q,de){if(isNaN(D)||isNaN(I)||isNaN(U)||isNaN(J)||isNaN(Q)||isNaN(de))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new c(D,I,U,J,Q,de);this.ctx.transform=this.ctx.transform.multiply(xe)},h.prototype.setTransform=function(D,I,U,J,Q,de){D=isNaN(D)?1:D,I=isNaN(I)?0:I,U=isNaN(U)?0:U,J=isNaN(J)?1:J,Q=isNaN(Q)?0:Q,de=isNaN(de)?0:de,this.ctx.transform=new c(D,I,U,J,Q,de)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,I,U,J,Q,de,xe,le,_e){var Oe=this.pdf.getImageProperties(D),ae=1,Pe=1,De=1,he=1;J!==void 0&&le!==void 0&&(De=le/J,he=_e/Q,ae=Oe.width/J*le/J,Pe=Oe.height/Q*_e/Q),de===void 0&&(de=I,xe=U,I=0,U=0),J!==void 0&&le===void 0&&(le=J,_e=Q),J===void 0&&le===void 0&&(le=Oe.width,_e=Oe.height);for(var te,Ue=this.ctx.transform.decompose(),ee=X(Ue.rotate.shx),re=new c,ue=(re=(re=(re=re.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new l(de-I*De,xe-U*he,J*ae,Q*Pe)),Se=g.call(this,ue),je=[],me=0;me<Se.length;me+=1)je.indexOf(Se[me])===-1&&je.push(Se[me]);if(w(je),this.autoPaging)for(var Le=je[0],qe=je[je.length-1],Ke=Le;Ke<qe+1;Ke++){this.pdf.setPage(Ke);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=Ke===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Ke===1?0:dt+(Ke-2)*At;if(this.ctx.clip_path.length!==0){var Pn=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(te,this.posX+this.margin[3],-Ge+jt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=Pn}var Lt=JSON.parse(JSON.stringify(ue));Lt=y([Lt],this.posX+this.margin[3],-Ge+jt+this.ctx.prevPageLastElemOffset)[0];var Yi=(Ke>Le||Ke<qe)&&x.call(this);Yi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,At,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,ee),Yi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",ue.x,ue.y,ue.w,ue.h,null,null,ee)};var g=function(D,I,U){var J=[];I=I||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":J.push(Math.floor((D.y+Q)/U)+1);break;case"arc":J.push(Math.floor((D.y+Q-D.radius)/U)+1),J.push(Math.floor((D.y+Q+D.radius)/U)+1);break;case"qct":var de=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);J.push(Math.floor((de.y+Q)/U)+1),J.push(Math.floor((de.y+de.h+Q)/U)+1);break;case"bct":var xe=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);J.push(Math.floor((xe.y+Q)/U)+1),J.push(Math.floor((xe.y+xe.h+Q)/U)+1);break;case"rect":J.push(Math.floor((D.y+Q)/U)+1),J.push(Math.floor((D.y+D.h+Q)/U)+1)}for(var le=0;le<J.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<J[le];)b.call(this);return J},b=function(){var D=this.fillStyle,I=this.strokeStyle,U=this.font,J=this.lineCap,Q=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=I,this.font=U,this.lineCap=J,this.lineWidth=Q,this.lineJoin=de},y=function(D,I,U){for(var J=0;J<D.length;J++)switch(D[J].type){case"bct":D[J].x2+=I,D[J].y2+=U;case"qct":D[J].x1+=I,D[J].y1+=U;case"mt":case"lt":case"arc":default:D[J].x+=I,D[J].y+=U}return D},w=function(D){return D.sort(function(I,U){return I-U})},j=function(D,I){for(var U,J,Q=this.fillStyle,de=this.strokeStyle,xe=this.lineCap,le=this.lineWidth,_e=Math.abs(le*this.ctx.transform.scaleX),Oe=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),De=[],he=0;he<Pe.length;he++)if(Pe[he].x!==void 0)for(var te=g.call(this,Pe[he]),Ue=0;Ue<te.length;Ue+=1)De.indexOf(te[Ue])===-1&&De.push(te[Ue]);for(var ee=0;ee<De.length;ee++)for(;this.pdf.internal.getNumberOfPages()<De[ee];)b.call(this);if(w(De),this.autoPaging)for(var re=De[0],ue=De[De.length-1],Se=re;Se<ue+1;Se++){this.pdf.setPage(Se),this.fillStyle=Q,this.strokeStyle=de,this.lineCap=xe,this.lineWidth=_e,this.lineJoin=Oe;var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=Se===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=Se===1?0:Le+(Se-2)*qe;if(this.ctx.clip_path.length!==0){var it=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(U,this.posX+this.margin[3],-Ke+me+this.ctx.prevPageLastElemOffset),_.call(this,D,!0),this.path=it}if(J=JSON.parse(JSON.stringify(ae)),this.path=y(J,this.posX+this.margin[3],-Ke+me+this.ctx.prevPageLastElemOffset),I===!1||Se===0){var jt=(Se>re||Se<ue)&&x.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,qe,null).clip().discardPath()),_.call(this,D,I),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=_e,_.call(this,D,I),this.lineWidth=le;this.path=ae},_=function(D,I){if((D!=="stroke"||I||!m.call(this))&&(D==="stroke"||I||!p.call(this))){for(var U,J,Q=[],de=this.path,xe=0;xe<de.length;xe++){var le=de[xe];switch(le.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:le,deltas:[],abs:[]});break;case"lt":var _e=Q.length;if(de[xe-1]&&!isNaN(de[xe-1].x)&&(U=[le.x-de[xe-1].x,le.y-de[xe-1].y],_e>0)){for(;_e>=0;_e--)if(Q[_e-1].close!==!0&&Q[_e-1].begin!==!0){Q[_e-1].deltas.push(U),Q[_e-1].abs.push(le);break}}break;case"bct":U=[le.x1-de[xe-1].x,le.y1-de[xe-1].y,le.x2-de[xe-1].x,le.y2-de[xe-1].y,le.x-de[xe-1].x,le.y-de[xe-1].y],Q[Q.length-1].deltas.push(U);break;case"qct":var Oe=de[xe-1].x+2/3*(le.x1-de[xe-1].x),ae=de[xe-1].y+2/3*(le.y1-de[xe-1].y),Pe=le.x+2/3*(le.x1-le.x),De=le.y+2/3*(le.y1-le.y),he=le.x,te=le.y;U=[Oe-de[xe-1].x,ae-de[xe-1].y,Pe-de[xe-1].x,De-de[xe-1].y,he-de[xe-1].x,te-de[xe-1].y],Q[Q.length-1].deltas.push(U);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(le)}}J=I?null:D==="stroke"?"stroke":"fill";for(var Ue=!1,ee=0;ee<Q.length;ee++)if(Q[ee].arc)for(var re=Q[ee].abs,ue=0;ue<re.length;ue++){var Se=re[ue];Se.type==="arc"?O.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,I,!Ue):R.call(this,Se.x,Se.y),Ue=!0}else if(Q[ee].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(Q[ee].begin!==!0){var je=Q[ee].start.x,me=Q[ee].start.y;F.call(this,Q[ee].deltas,je,me),Ue=!0}J&&M.call(this,J),I&&B.call(this)}},S=function(D){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-U;case"top":return D+I-U;case"hanging":return D+I-2*U;case"middle":return D+I/2-U;case"ideographic":return D;case"alphabetic":default:return D}},A=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(I,U){this.colorStops.push([I,U])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(D,I,U,J,Q,de,xe,le,_e){for(var Oe=$.call(this,U,J,Q,de),ae=0;ae<Oe.length;ae++){var Pe=Oe[ae];ae===0&&(_e?T.call(this,Pe.x1+D,Pe.y1+I):R.call(this,Pe.x1+D,Pe.y1+I)),W.call(this,D,I,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}le?B.call(this):M.call(this,xe)},M=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,I){this.pdf.internal.out(r(D)+" "+n(I)+" m")},E=function(D){var I;switch(D.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var U=this.pdf.getTextDimensions(D.text),J=S.call(this,D.y),Q=A.call(this,J)-U.h,de=this.ctx.transform.applyToPoint(new o(D.x,J)),xe=this.ctx.transform.decompose(),le=new c;le=(le=(le=le.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var _e,Oe,ae,Pe=this.ctx.transform.applyToRectangle(new l(D.x,J,U.w,U.h)),De=le.applyToRectangle(new l(D.x,Q,U.w,U.h)),he=g.call(this,De),te=[],Ue=0;Ue<he.length;Ue+=1)te.indexOf(he[Ue])===-1&&te.push(he[Ue]);if(w(te),this.autoPaging)for(var ee=te[0],re=te[te.length-1],ue=ee;ue<re+1;ue++){this.pdf.setPage(ue);var Se=ue===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],Le=me-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],Ke=qe-this.margin[3],it=ue===1?0:je+(ue-2)*Le;if(this.ctx.clip_path.length!==0){var jt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(_e,this.posX+this.margin[3],-1*it+Se),_.call(this,"fill",!0),this.path=jt}var dt=y([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-it+Se+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*D.scale),ae=this.lineWidth,this.lineWidth=ae*D.scale);var At=this.autoPaging!=="text";if(At||dt.y+dt.h<=me){if(At||dt.y>=Se&&dt.x<=qe){var Ge=At?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||qe-dt.x)[0],Pn=y([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-it+Se+this.ctx.prevPageLastElemOffset)[0],Lt=At&&(ue>ee||ue<re)&&x.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Le,null).clip().discardPath()),this.pdf.text(Ge,Pn.x,Pn.y,{angle:D.angle,align:I,renderingMode:D.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else dt.y<me&&(this.ctx.prevPageLastElemOffset+=me-dt.y);D.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=ae)}else D.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*D.scale),ae=this.lineWidth,this.lineWidth=ae*D.scale),this.pdf.text(D.text,de.x+this.posX,de.y+this.posY,{angle:D.angle,align:I,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=ae)},R=function(D,I,U,J){U=U||0,J=J||0,this.pdf.internal.out(r(D+U)+" "+n(I+J)+" l")},F=function(D,I,U){return this.pdf.lines(D,I,U,null,null)},W=function(D,I,U,J,Q,de,xe,le){this.pdf.internal.out([e(i(U+D)),e(s(J+I)),e(i(Q+D)),e(s(de+I)),e(i(xe+D)),e(s(le+I)),"c"].join(" "))},$=function(D,I,U,J){for(var Q=2*Math.PI,de=Math.PI/2;I>U;)I-=Q;var xe=Math.abs(U-I);xe<Q&&J&&(xe=Q-xe);for(var le=[],_e=J?-1:1,Oe=I;xe>1e-5;){var ae=Oe+_e*Math.min(xe,de);le.push(z.call(this,D,Oe,ae)),xe-=Math.abs(ae-Oe),Oe=ae}return le},z=function(D,I,U){var J=(U-I)/2,Q=D*Math.cos(J),de=D*Math.sin(J),xe=Q,le=-de,_e=xe*xe+le*le,Oe=_e+xe*Q+le*de,ae=4/3*(Math.sqrt(2*_e*Oe)-Oe)/(xe*de-le*Q),Pe=xe-ae*le,De=le+ae*xe,he=Pe,te=-De,Ue=J+I,ee=Math.cos(Ue),re=Math.sin(Ue);return{x1:D*Math.cos(I),y1:D*Math.sin(I),x2:Pe*ee-De*re,y2:Pe*re+De*ee,x3:he*ee-te*re,y3:he*re+te*ee,x4:D*Math.cos(U),y4:D*Math.sin(U)}},X=function(D){return 180*D/Math.PI},Y=function(D,I,U,J,Q,de){var xe=D+.5*(U-D),le=I+.5*(J-I),_e=Q+.5*(U-Q),Oe=de+.5*(J-de),ae=Math.min(D,Q,xe,_e),Pe=Math.max(D,Q,xe,_e),De=Math.min(I,de,le,Oe),he=Math.max(I,de,le,Oe);return new l(ae,De,Pe-ae,he-De)},oe=function(D,I,U,J,Q,de,xe,le){var _e,Oe,ae,Pe,De,he,te,Ue,ee,re,ue,Se,je,me,Le=U-D,qe=J-I,Ke=Q-U,it=de-J,jt=xe-Q,dt=le-de;for(Oe=0;Oe<41;Oe++)ee=(te=(ae=D+(_e=Oe/40)*Le)+_e*((De=U+_e*Ke)-ae))+_e*(De+_e*(Q+_e*jt-De)-te),re=(Ue=(Pe=I+_e*qe)+_e*((he=J+_e*it)-Pe))+_e*(he+_e*(de+_e*dt-he)-Ue),Oe==0?(ue=ee,Se=re,je=ee,me=re):(ue=Math.min(ue,ee),Se=Math.min(Se,re),je=Math.max(je,ee),me=Math.max(me,re));return new l(Math.round(ue),Math.round(Se),Math.round(je-ue),Math.round(me-Se))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,I,U=(D=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:I}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(st.API),function(t){var e=function(s){var o,l,c,u,d,h,f,p,m,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(x=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,p+33,m+33,x+33)):l.push(122);return function(g,b){for(var y=b;y>0;y--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,d,h=String,f="length",p=255,m="charCodeAt",x="slice",g="replace";for(s[x](-2),s=s[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(s+=o="uuuuu"[x](s[f]%5||5))[f];d>u;u+=5)l=52200625*(s[m](u)-33)+614125*(s[m](u+1)-33)+7225*(s[m](u+2)-33)+85*(s[m](u+3)-33)+(s[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(b,y){for(var w=y;w>0;w--)b.pop()}(c,o[f]),h.fromCharCode.apply(h,c)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=H2(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(st.API),function(t){t.loadFile=function(e,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,f=0,p=function(m){var x=m.length,g=[],b=String.fromCharCode;for(f=0;f<x;f+=1)g.push(b(255&m.charCodeAt(f)));return g.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(i,s,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(st.API),function(t){function e(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):Bs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):Bs(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=or(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],m=p.src.find(function(x){return x.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,st.getPageSize=function(o,l,c){if(or(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,x=0;if(f.hasOwnProperty(h))m=f[h][1]/d,x=f[h][0]/d;else try{m=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>m&&(p=x,x=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>x&&(p=x,x=m,m=p)}return{width:x,height:m,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(K2):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(st.API),st.API.addJS=function(t){return uA=t,this.internal.events.subscribe("postPutResources",function(){mm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mm!==void 0&&cA!==void 0&&this.internal.out("/Names <</JavaScript "+mm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var h=r.internal.newObject();d.push(h);var f=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(st.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,x={width:0,height:0,numcomponents:1},g=4;g<m;g+=2){if(g+=p,e.indexOf(h.charCodeAt(g+1))!==-1){f=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),x={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:f,numcomponents:h.charCodeAt(g+9)};break}p=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(st.API);var Pu,xm,dA,hA,fA,pme=function(){var t,e,r;function n(s){var o,l,c,u,d,h,f,p,m,x,g,b,y,w;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),m=(function(){var j,_;for(_=[],j=0;j<4;++j)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(y=0;0<=x?y<x:y>x;0<=x?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(g=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,g.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,g.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(h,f,p,m){var x,g,b,y,w,j,_,S,A,O,M,B,T,E,R,F,W,$,z,X,Y,oe=Math.ceil((u.width-h)/p),fe=Math.ceil((u.height-f)/m),D=u.width==oe&&u.height==fe;for(E=o*oe,B=D?l:new Uint8Array(E*fe),j=s.length,T=0,g=0;T<fe&&c<j;){switch(s[c++]){case 0:for(y=W=0;W<E;y=W+=1)B[g++]=s[c++];break;case 1:for(y=$=0;$<E;y=$+=1)x=s[c++],w=y<o?0:B[g-o],B[g++]=(x+w)%256;break;case 2:for(y=z=0;z<E;y=z+=1)x=s[c++],b=(y-y%o)/o,R=T&&B[(T-1)*E+b*o+y%o],B[g++]=(R+x)%256;break;case 3:for(y=X=0;X<E;y=X+=1)x=s[c++],b=(y-y%o)/o,w=y<o?0:B[g-o],R=T&&B[(T-1)*E+b*o+y%o],B[g++]=(x+Math.floor((w+R)/2))%256;break;case 4:for(y=Y=0;Y<E;y=Y+=1)x=s[c++],b=(y-y%o)/o,w=y<o?0:B[g-o],T===0?R=F=0:(R=B[(T-1)*E+b*o+y%o],F=b&&B[(T-1)*E+(b-1)*o+y%o]),_=w+R-F,S=Math.abs(_-w),O=Math.abs(_-R),M=Math.abs(_-F),A=S<=O&&S<=M?w:O<=M?R:F,B[g++]=(x+A)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!D){var I=((f+T*m)*u.width+h)*o,U=T*E;for(y=0;y<oe;y+=1){for(var J=0;J<o;J+=1)l[I++]=B[U++];I+=(p-1)*o}}T++}}return s=Wpe(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var s,o,l,c,u,d,h,f,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,s=0,o=h=0,f=l.length;h<f;o=h+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[s++])!=null?p:255;return u},n.prototype.copyToImageData=function(s,o){var l,c,u,d,h,f,p,m,x,g,b;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,l=!0),m=(u=s.data||s).length,h=x||o,d=f=0,c===1)for(;d<m;)p=x?4*o[d/4]:f,g=h[p++],u[d++]=g,u[d++]=g,u[d++]=g,u[d++]=l?h[p++]:255,f=p;else for(;d<m;)p=x?4*o[d/4]:f,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=l?h[p++]:255,f=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{e=pt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,l,c,u,d,h,f,p;if(this.animation){for(p=[],l=d=0,h=(f=this.animation.frames).length;d<h;l=++d)o=f[l],c=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=t(c));return p}},n.prototype.renderFrame=function(s,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var o,l,c,u,d,h,f=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(o=function(){var p,m;if(p=l++%u,m=c[p],f.renderFrame(s,p),u>1&&l/u<d)return f.animation._timeout=setTimeout(o,m.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function mme(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var l=null,c=null;s&&(l=e,c=o,e+=3*o);var u=!0,d=[],h=0,f=null,p=0,m=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],!(1&x)&&(f=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,j=t[e++],_=j>>6&1,S=1<<(7&j)+1,A=l,O=c,M=!1;j>>7&&(M=!0,A=e,O=S,e+=3*S);var B=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}d.push({x:g,y:b,width:y,height:w,has_local_palette:M,palette_offset:A,palette_size:O,data_offset:B,data_length:e-B,transparent_index:f,interlaced:!!_,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,R){var F=this.frameInfo(E),W=F.width*F.height,$=new Uint8Array(W);pA(t,F.data_offset,$,W);var z=F.palette_offset,X=F.transparent_index;X===null&&(X=256);var Y=F.width,oe=r-Y,fe=Y,D=4*(F.y*r+F.x),I=4*((F.y+F.height)*r+F.x),U=D,J=4*oe;F.interlaced===!0&&(J+=4*r*7);for(var Q=8,de=0,xe=$.length;de<xe;++de){var le=$[de];if(fe===0&&(fe=Y,(U+=J)>=I&&(J=4*oe+4*r*(Q-1),U=D+(Y+oe)*(Q<<1),Q>>=1)),le===X)U+=4;else{var _e=t[z+3*le],Oe=t[z+3*le+1],ae=t[z+3*le+2];R[U++]=ae,R[U++]=Oe,R[U++]=_e,R[U++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(E,R){var F=this.frameInfo(E),W=F.width*F.height,$=new Uint8Array(W);pA(t,F.data_offset,$,W);var z=F.palette_offset,X=F.transparent_index;X===null&&(X=256);var Y=F.width,oe=r-Y,fe=Y,D=4*(F.y*r+F.x),I=4*((F.y+F.height)*r+F.x),U=D,J=4*oe;F.interlaced===!0&&(J+=4*r*7);for(var Q=8,de=0,xe=$.length;de<xe;++de){var le=$[de];if(fe===0&&(fe=Y,(U+=J)>=I&&(J=4*oe+4*r*(Q-1),U=D+(Y+oe)*(Q<<1),Q>>=1)),le===X)U+=4;else{var _e=t[z+3*le],Oe=t[z+3*le+1],ae=t[z+3*le+2];R[U++]=_e,R[U++]=Oe,R[U++]=ae,R[U++]=255}--fe}}}function pA(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,h=0,f=0,p=t[e++],m=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)h|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<c)break;var g=h&u;if(h>>=c,d-=c,g!==s){if(g===o)break;for(var b=g<l?g:x,y=0,w=b;w>s;)w=m[w]>>8,++y;var j=w;if(f+y+(b!==g?1:0)>n)return void mr.log("Warning, gif stream longer than expected.");r[f++]=j;var _=f+=y;for(b!==g&&(r[f++]=j),w=b;y--;)w=m[w],r[--_]=255&w,w>>=8;x!==null&&l<4096&&(m[l++]=x<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=g}else l=o+1,u=(1<<(c=i+1))-1,x=null}return f!==n&&mr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Eb(t){var e,r,n,i,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),m=new Array(64),x=[],g=0,b=7,y=new Array(64),w=new Array(64),j=new Array(64),_=new Array(256),S=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(D,I){for(var U=0,J=0,Q=new Array,de=1;de<=16;de++){for(var xe=1;xe<=D[de];xe++)Q[I[J]]=[],Q[I[J]][0]=U,Q[I[J]][1]=de,J++,U++;U*=2}return Q}function z(D){for(var I=D[0],U=D[1]-1;U>=0;)I&1<<U&&(g|=1<<b),U--,--b<0&&(g==255?(X(255),X(0)):X(g),b=7,g=0)}function X(D){x.push(D)}function Y(D){X(D>>8&255),X(255&D)}function oe(D,I,U,J,Q){for(var de,xe=Q[0],le=Q[240],_e=function(re,ue){var Se,je,me,Le,qe,Ke,it,jt,dt,At,Ge=0;for(dt=0;dt<8;++dt){Se=re[Ge],je=re[Ge+1],me=re[Ge+2],Le=re[Ge+3],qe=re[Ge+4],Ke=re[Ge+5],it=re[Ge+6];var Pn=Se+(jt=re[Ge+7]),Lt=Se-jt,Yi=je+it,Kt=je-it,Ir=me+Ke,cs=me-Ke,Jt=Le+qe,El=Le-qe,$r=Pn+Jt,La=Pn-Jt,Vs=Yi+Ir,zr=Yi-Ir;re[Ge]=$r+Vs,re[Ge+4]=$r-Vs;var gt=.707106781*(zr+La);re[Ge+2]=La+gt,re[Ge+6]=La-gt;var Qt=.382683433*(($r=El+cs)-(zr=Kt+Lt)),Ol=.5411961*$r+Qt,Wn=1.306562965*zr+Qt,us=.707106781*(Vs=cs+Kt),ds=Lt+us,ht=Lt-us;re[Ge+5]=ht+Ol,re[Ge+3]=ht-Ol,re[Ge+1]=ds+Wn,re[Ge+7]=ds-Wn,Ge+=8}for(Ge=0,dt=0;dt<8;++dt){Se=re[Ge],je=re[Ge+8],me=re[Ge+16],Le=re[Ge+24],qe=re[Ge+32],Ke=re[Ge+40],it=re[Ge+48];var Ra=Se+(jt=re[Ge+56]),hs=Se-jt,Ti=je+it,pn=je-it,nn=me+Ke,Ki=me-Ke,qc=Le+qe,Gs=Le-qe,Fa=Ra+qc,Ba=Ra-qc,$a=Ti+nn,fs=Ti-nn;re[Ge]=Fa+$a,re[Ge+32]=Fa-$a;var fa=.707106781*(fs+Ba);re[Ge+16]=Ba+fa,re[Ge+48]=Ba-fa;var ps=.382683433*((Fa=Gs+Ki)-(fs=pn+hs)),Pl=.5411961*Fa+ps,Hc=1.306562965*fs+ps,Wc=.707106781*($a=Ki+pn),Vc=hs+Wc,Gc=hs-Wc;re[Ge+40]=Gc+Pl,re[Ge+24]=Gc-Pl,re[Ge+8]=Vc+Hc,re[Ge+56]=Vc-Hc,Ge++}for(dt=0;dt<64;++dt)At=re[dt]*ue[dt],p[dt]=At>0?At+.5|0:At-.5|0;return p}(D,I),Oe=0;Oe<64;++Oe)m[A[Oe]]=_e[Oe];var ae=m[0]-U;U=m[0],ae==0?z(J[0]):(z(J[f[de=32767+ae]]),z(h[de]));for(var Pe=63;Pe>0&&m[Pe]==0;)Pe--;if(Pe==0)return z(xe),U;for(var De,he=1;he<=Pe;){for(var te=he;m[he]==0&&he<=Pe;)++he;var Ue=he-te;if(Ue>=16){De=Ue>>4;for(var ee=1;ee<=De;++ee)z(le);Ue&=15}de=32767+m[he],z(Q[(Ue<<4)+f[de]]),z(h[de]),he++}return Pe!=63&&z(xe),U}function fe(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(I){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var Q=o((U[J]*I+50)/100);Q=Math.min(Math.max(Q,1),255),l[A[J]]=Q}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var le=o((de[xe]*I+50)/100);le=Math.min(Math.max(le,1),255),c[A[xe]]=le}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,ae=0;ae<8;ae++)for(var Pe=0;Pe<8;Pe++)u[Oe]=1/(l[A[Oe]]*_e[ae]*_e[Pe]*8),d[Oe]=1/(c[A[Oe]]*_e[ae]*_e[Pe]*8),Oe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,I){I&&fe(I),x=new Array,g=0,b=7,Y(65496),Y(65504),Y(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),Y(1),Y(1),X(0),X(0),function(){Y(65499),Y(132),X(0);for(var je=0;je<64;je++)X(l[je]);X(1);for(var me=0;me<64;me++)X(c[me])}(),function(je,me){Y(65472),Y(17),X(8),Y(me),Y(je),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(D.width,D.height),function(){Y(65476),Y(418),X(0);for(var je=0;je<16;je++)X(O[je+1]);for(var me=0;me<=11;me++)X(M[me]);X(16);for(var Le=0;Le<16;Le++)X(B[Le+1]);for(var qe=0;qe<=161;qe++)X(T[qe]);X(1);for(var Ke=0;Ke<16;Ke++)X(E[Ke+1]);for(var it=0;it<=11;it++)X(R[it]);X(17);for(var jt=0;jt<16;jt++)X(F[jt+1]);for(var dt=0;dt<=161;dt++)X(W[dt])}(),Y(65498),Y(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var U=0,J=0,Q=0;g=0,b=7,this.encode.displayName="_encode_";for(var de,xe,le,_e,Oe,ae,Pe,De,he,te=D.data,Ue=D.width,ee=D.height,re=4*Ue,ue=0;ue<ee;){for(de=0;de<re;){for(Oe=re*ue+de,Pe=-1,De=0,he=0;he<64;he++)ae=Oe+(De=he>>3)*re+(Pe=4*(7&he)),ue+De>=ee&&(ae-=re*(ue+1+De-ee)),de+Pe>=re&&(ae-=de+Pe-re+4),xe=te[ae++],le=te[ae++],_e=te[ae++],y[he]=(S[xe]+S[le+256>>0]+S[_e+512>>0]>>16)-128,w[he]=(S[xe+768>>0]+S[le+1024>>0]+S[_e+1280>>0]>>16)-128,j[he]=(S[xe+1280>>0]+S[le+1536>>0]+S[_e+1792>>0]>>16)-128;U=oe(y,u,U,e,n),J=oe(w,d,J,r,i),Q=oe(j,d,Q,r,i),de+=32}ue+=8}if(b>=0){var Se=[];Se[1]=b+1,Se[0]=(1<<b+1)-1,z(Se)}return Y(65497),new Uint8Array(x)},t=t||50,function(){for(var D=String.fromCharCode,I=0;I<256;I++)_[I]=D(I)}(),e=$(O,M),r=$(E,R),n=$(B,T),i=$(F,W),function(){for(var D=1,I=2,U=1;U<=15;U++){for(var J=D;J<I;J++)f[32767+J]=U,h[32767+J]=[],h[32767+J][1]=U,h[32767+J][0]=J;for(var Q=-(I-1);Q<=-D;Q++)f[32767+Q]=U,h[32767+Q]=[],h[32767+Q][1]=U,h[32767+Q][0]=I-1+Q;D<<=1,I<<=1}}(),function(){for(var D=0;D<256;D++)S[D]=19595*D,S[D+256>>0]=38470*D,S[D+512>>0]=7471*D+32768,S[D+768>>0]=-11059*D,S[D+1024>>0]=-21709*D,S[D+1280>>0]=32768*D+8421375,S[D+1536>>0]=-27439*D,S[D+1792>>0]=-5329*D}(),fe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mA(t){function e(O){if(!O)throw Error("assert :P")}function r(O,M,B){for(var T=0;4>T;T++)if(O[M+T]!=B.charCodeAt(T))return!0;return!1}function n(O,M,B,T,E){for(var R=0;R<E;R++)O[M+R]=B[T+R]}function i(O,M,B,T){for(var E=0;E<T;E++)O[M+E]=B}function s(O){return new Int32Array(O)}function o(O,M){for(var B=[],T=0;T<O;T++)B.push(new M);return B}function l(O,M){var B=[];return function T(E,R,F){for(var W=F[R],$=0;$<W&&(E.push(F.length>R+1?[]:new M),!(F.length<R+1));$++)T(E[$],R+1,F)}(B,0,O),B}var c=function(){var O=this;function M(v,N){for(var P=1<<N-1>>>0;v&P;)P>>>=1;return P?(v&P-1)+P:v}function B(v,N,P,L,q){e(!(L%P));do v[N+(L-=P)]=q;while(0<L)}function T(v,N,P,L,q){if(e(2328>=q),512>=q)var V=s(512);else if((V=s(q))==null)return 0;return function(G,K,Z,se,ge,Ae){var Ce,ye,Be=K,ke=1<<Z,ve=s(16),be=s(16);for(e(ge!=0),e(se!=null),e(G!=null),e(0<Z),ye=0;ye<ge;++ye){if(15<se[ye])return 0;++ve[se[ye]]}if(ve[0]==ge)return 0;for(be[1]=0,Ce=1;15>Ce;++Ce){if(ve[Ce]>1<<Ce)return 0;be[Ce+1]=be[Ce]+ve[Ce]}for(ye=0;ye<ge;++ye)Ce=se[ye],0<se[ye]&&(Ae[be[Ce]++]=ye);if(be[15]==1)return(se=new E).g=0,se.value=Ae[0],B(G,Be,1,ke,se),ke;var Re,$e=-1,Fe=ke-1,Je=0,Ve=1,ct=1,Xe=1<<Z;for(ye=0,Ce=1,ge=2;Ce<=Z;++Ce,ge<<=1){if(Ve+=ct<<=1,0>(ct-=ve[Ce]))return 0;for(;0<ve[Ce];--ve[Ce])(se=new E).g=Ce,se.value=Ae[ye++],B(G,Be+Je,ge,Xe,se),Je=M(Je,Ce)}for(Ce=Z+1,ge=2;15>=Ce;++Ce,ge<<=1){if(Ve+=ct<<=1,0>(ct-=ve[Ce]))return 0;for(;0<ve[Ce];--ve[Ce]){if(se=new E,(Je&Fe)!=$e){for(Be+=Xe,Re=1<<($e=Ce)-Z;15>$e&&!(0>=(Re-=ve[$e]));)++$e,Re<<=1;ke+=Xe=1<<(Re=$e-Z),G[K+($e=Je&Fe)].g=Re+Z,G[K+$e].value=Be-K-$e}se.g=Ce-Z,se.value=Ae[ye++],B(G,Be+(Je>>Z),ge,Xe,se),Je=M(Je,Ce)}}return Ve!=2*be[15]-1?0:ke}(v,N,P,L,q,V)}function E(){this.value=this.g=0}function R(){this.value=this.g=0}function F(){this.G=o(5,E),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vn,R)}function W(v,N,P,L){e(v!=null),e(N!=null),e(2147483648>L),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=N,v.pa=P,v.Jd=N,v.Yc=P+L,v.Zc=4<=L?P+L-4+1:P,de(v)}function $(v,N){for(var P=0;0<N--;)P|=le(v,128)<<N;return P}function z(v,N){var P=$(v,N);return xe(v)?-P:P}function X(v,N,P,L){var q,V=0;for(e(v!=null),e(N!=null),e(4294967288>L),v.Sb=L,v.Ra=0,v.u=0,v.h=0,4<L&&(L=4),q=0;q<L;++q)V+=N[P+q]<<8*q;v.Ra=V,v.bb=L,v.oa=N,v.pa=P}function Y(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<lu-8>>>0,++v.bb,v.u-=8;U(v)&&(v.h=1,v.u=0)}function oe(v,N){if(e(0<=N),!v.h&&N<=ou){var P=I(v)&su[N];return v.u+=N,Y(v),P}return v.h=1,v.u=0}function fe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(v){return v.Ra>>>(v.u&lu-1)>>>0}function U(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>lu}function J(v,N){v.u=N,v.h=U(v)}function Q(v){v.u>=Ch&&(e(v.u>=Ch),Y(v))}function de(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function xe(v){return $(v,1)}function le(v,N){var P=v.Ca;0>v.b&&de(v);var L=v.b,q=P*N>>>8,V=(v.I>>>L>q)+0;for(V?(P-=q,v.I-=q+1<<L>>>0):P=q+1,L=P,q=0;256<=L;)q+=8,L>>=8;return L=7^q+Di[L],v.b-=L,v.Ca=(P<<L)-1,V}function _e(v,N,P){v[N+0]=P>>24&255,v[N+1]=P>>16&255,v[N+2]=P>>8&255,v[N+3]=P>>0&255}function Oe(v,N){return v[N+0]<<0|v[N+1]<<8}function ae(v,N){return Oe(v,N)|v[N+2]<<16}function Pe(v,N){return Oe(v,N)|Oe(v,N+2)<<16}function De(v,N){var P=1<<N;return e(v!=null),e(0<N),v.X=s(P),v.X==null?0:(v.Mb=32-N,v.Xa=N,1)}function he(v,N){e(v!=null),e(N!=null),e(v.Xa==N.Xa),n(N.X,0,v.X,0,1<<N.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Ue(v,N,P,L){e(P!=null),e(L!=null);var q=P[0],V=L[0];return q==0&&(q=(v*V+N/2)/N),V==0&&(V=(N*q+v/2)/v),0>=q||0>=V?0:(P[0]=q,L[0]=V,1)}function ee(v,N){return v+(1<<N)-1>>>N}function re(v,N){return((4278255360&v)+(4278255360&N)>>>0&4278255360)+((16711935&v)+(16711935&N)>>>0&16711935)>>>0}function ue(v,N){O[N]=function(P,L,q,V,G,K,Z){var se;for(se=0;se<G;++se){var ge=O[v](K[Z+se-1],q,V+se);K[Z+se]=re(P[L+se],ge)}}}function Se(){this.ud=this.hd=this.jd=0}function je(v,N){return((4278124286&(v^N))>>>1)+(v&N)>>>0}function me(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Le(v,N){return me(v+(v-N+.5>>1))}function qe(v,N,P){return Math.abs(N-P)-Math.abs(v-P)}function Ke(v,N,P,L,q,V,G){for(L=V[G-1],P=0;P<q;++P)V[G+P]=L=re(v[N+P],L)}function it(v,N,P,L,q){var V;for(V=0;V<P;++V){var G=v[N+V],K=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((K<<16)+K));L[q+V]=(4278255360&G)+Z>>>0}}function jt(v,N){N.jd=v>>0&255,N.hd=v>>8&255,N.ud=v>>16&255}function dt(v,N,P,L,q,V){var G;for(G=0;G<L;++G){var K=N[P+G],Z=K>>>8,se=K,ge=255&(ge=(ge=K>>>16)+((v.jd<<24>>24)*(Z<<24>>24)>>>5));se=255&(se=(se=se+((v.hd<<24>>24)*(Z<<24>>24)>>>5))+((v.ud<<24>>24)*(ge<<24>>24)>>>5)),q[V+G]=(4278255360&K)+(ge<<16)+se}}function At(v,N,P,L,q){O[N]=function(V,G,K,Z,se,ge,Ae,Ce,ye){for(Z=Ae;Z<Ce;++Z)for(Ae=0;Ae<ye;++Ae)se[ge++]=q(K[L(V[G++])])},O[v]=function(V,G,K,Z,se,ge,Ae){var Ce=8>>V.b,ye=V.Ea,Be=V.K[0],ke=V.w;if(8>Ce)for(V=(1<<V.b)-1,ke=(1<<Ce)-1;G<K;++G){var ve,be=0;for(ve=0;ve<ye;++ve)ve&V||(be=L(Z[se++])),ge[Ae++]=q(Be[be&ke]),be>>=Ce}else O["VP8LMapColor"+P](Z,se,Be,ke,ge,Ae,G,K,ye)}}function Ge(v,N,P,L,q){for(P=N+P;N<P;){var V=v[N++];L[q++]=V>>16&255,L[q++]=V>>8&255,L[q++]=V>>0&255}}function Pn(v,N,P,L,q){for(P=N+P;N<P;){var V=v[N++];L[q++]=V>>16&255,L[q++]=V>>8&255,L[q++]=V>>0&255,L[q++]=V>>24&255}}function Lt(v,N,P,L,q){for(P=N+P;N<P;){var V=(G=v[N++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;L[q++]=V,L[q++]=G}}function Yi(v,N,P,L,q){for(P=N+P;N<P;){var V=(G=v[N++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;L[q++]=V,L[q++]=G}}function Kt(v,N,P,L,q){for(P=N+P;N<P;){var V=v[N++];L[q++]=V>>0&255,L[q++]=V>>8&255,L[q++]=V>>16&255}}function Ir(v,N,P,L,q,V){if(V==0)for(P=N+P;N<P;)_e(L,((V=v[N++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),q+=32;else n(L,q,v,N,P)}function cs(v,N){O[N][0]=O[v+"0"],O[N][1]=O[v+"1"],O[N][2]=O[v+"2"],O[N][3]=O[v+"3"],O[N][4]=O[v+"4"],O[N][5]=O[v+"5"],O[N][6]=O[v+"6"],O[N][7]=O[v+"7"],O[N][8]=O[v+"8"],O[N][9]=O[v+"9"],O[N][10]=O[v+"10"],O[N][11]=O[v+"11"],O[N][12]=O[v+"12"],O[N][13]=O[v+"13"],O[N][14]=O[v+"0"],O[N][15]=O[v+"0"]}function Jt(v){return v==nv||v==iv||v==Sp||v==av}function El(){this.eb=[],this.size=this.A=this.fb=0}function $r(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function La(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new El,this.f.kb=new $r,this.sd=null}function Vs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Qt(v,N){var P=v.T,L=N.ba.f.RGBA,q=L.eb,V=L.fb+v.ka*L.A,G=ba[N.ba.S],K=v.y,Z=v.O,se=v.f,ge=v.N,Ae=v.ea,Ce=v.W,ye=N.cc,Be=N.dc,ke=N.Mc,ve=N.Nc,be=v.ka,Re=v.ka+v.T,$e=v.U,Fe=$e+1>>1;for(be==0?G(K,Z,null,null,se,ge,Ae,Ce,se,ge,Ae,Ce,q,V,null,null,$e):(G(N.ec,N.fc,K,Z,ye,Be,ke,ve,se,ge,Ae,Ce,q,V-L.A,q,V,$e),++P);be+2<Re;be+=2)ye=se,Be=ge,ke=Ae,ve=Ce,ge+=v.Rc,Ce+=v.Rc,V+=2*L.A,G(K,(Z+=2*v.fa)-v.fa,K,Z,ye,Be,ke,ve,se,ge,Ae,Ce,q,V-L.A,q,V,$e);return Z+=v.fa,v.j+Re<v.o?(n(N.ec,N.fc,K,Z,$e),n(N.cc,N.dc,se,ge,Fe),n(N.Mc,N.Nc,Ae,Ce,Fe),P--):1&Re||G(K,Z,null,null,se,ge,Ae,Ce,se,ge,Ae,Ce,q,V+L.A,null,null,$e),P}function Ol(v,N,P){var L=v.F,q=[v.J];if(L!=null){var V=v.U,G=N.ba.S,K=G==_p||G==Sp;N=N.ba.f.RGBA;var Z=[0],se=v.ka;Z[0]=v.T,v.Kb&&(se==0?--Z[0]:(--se,q[0]-=v.width),v.j+v.ka+v.T==v.o&&(Z[0]=v.o-v.j-se));var ge=N.eb;se=N.fb+se*N.A,v=yr(L,q[0],v.width,V,Z,ge,se+(K?0:3),N.A),e(P==Z),v&&Jt(G)&&ga(ge,se,K,V,Z,N.A)}return 0}function Wn(v){var N=v.ma,P=N.ba.S,L=11>P,q=P==jp||P==Np||P==_p||P==rv||P==12||Jt(P);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Sh(N.Oa,v,q?11:12))return 0;if(q&&Jt(P)&&ze(),v.da)alert("todo:use_scaling");else{if(L){if(N.Ib=gt,v.Kb){if(P=v.U+1>>1,N.memory=s(v.U+2*P),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+v.U,N.Mc=N.cc,N.Nc=N.dc+P,N.Ib=Qt,ze()}}else alert("todo:EmitYUV");q&&(N.Jb=Ol,L&&Ne())}if(L&&!jj){for(v=0;256>v;++v)pI[v]=89858*(v-128)+Cp>>Ap,gI[v]=-22014*(v-128)+Cp,xI[v]=-45773*(v-128),mI[v]=113618*(v-128)+Cp>>Ap;for(v=Dh;v<lv;++v)N=76283*(v-16)+Cp>>Ap,vI[v-Dh]=Ji(N,255),bI[v-Dh]=Ji(N+8>>4,15);jj=1}return 1}function us(v){var N=v.ma,P=v.U,L=v.T;return e(!(1&v.ka)),0>=P||0>=L?0:(P=N.Ib(v,N),N.Jb!=null&&N.Jb(v,N,P),N.Dc+=P,1)}function ds(v){v.ma.memory=null}function ht(v,N,P,L){return oe(v,8)!=47?0:(N[0]=oe(v,14)+1,P[0]=oe(v,14)+1,L[0]=oe(v,1),oe(v,3)!=0?0:!v.h)}function Ra(v,N){if(4>v)return v+1;var P=v-2>>1;return(2+(1&v)<<P)+oe(N,P)+1}function hs(v,N){return 120<N?N-120:1<=(P=((P=eI[N-1])>>4)*v+(8-(15&P)))?P:1;var P}function Ti(v,N,P){var L=I(P),q=v[N+=255&L].g-8;return 0<q&&(J(P,P.u+8),L=I(P),N+=v[N].value,N+=L&(1<<q)-1),J(P,P.u+v[N].g),v[N].value}function pn(v,N,P){return P.g+=v.g,P.value+=v.value<<N>>>0,e(8>=P.g),v.g}function nn(v,N,P){var L=v.xc;return e((N=L==0?0:v.vc[v.md*(P>>L)+(N>>L)])<v.Wb),v.Ya[N]}function Ki(v,N,P,L){var q=v.ab,V=v.c*N,G=v.C;N=G+N;var K=P,Z=L;for(L=v.Ta,P=v.Ua;0<q--;){var se=v.gc[q],ge=G,Ae=N,Ce=K,ye=Z,Be=(Z=L,K=P,se.Ea);switch(e(ge<Ae),e(Ae<=se.nc),se.hc){case 2:mp(Ce,ye,(Ae-ge)*Be,Z,K);break;case 0:var ke=ge,ve=Ae,be=Z,Re=K,$e=(Xe=se).Ea;ke==0&&(ev(Ce,ye,null,null,1,be,Re),Ke(Ce,ye+1,0,0,$e-1,be,Re+1),ye+=$e,Re+=$e,++ke);for(var Fe=1<<Xe.b,Je=Fe-1,Ve=ee($e,Xe.b),ct=Xe.K,Xe=Xe.w+(ke>>Xe.b)*Ve;ke<ve;){var Gt=ct,tr=Xe,Ut=1;for(Eh(Ce,ye,be,Re-$e,1,be,Re);Ut<$e;){var It=(Ut&~Je)+Fe;It>$e&&(It=$e),(0,Io[Gt[tr++]>>8&15])(Ce,ye+ +Ut,be,Re+Ut-$e,It-Ut,be,Re+Ut),Ut=It}ye+=$e,Re+=$e,++ke&Je||(Xe+=Ve)}Ae!=se.nc&&n(Z,K-Be,Z,K+(Ae-ge-1)*Be,Be);break;case 1:for(Be=Ce,ve=ye,$e=(Ce=se.Ea)-(Re=Ce&~(be=(ye=1<<se.b)-1)),ke=ee(Ce,se.b),Fe=se.K,se=se.w+(ge>>se.b)*ke;ge<Ae;){for(Je=Fe,Ve=se,ct=new Se,Xe=ve+Re,Gt=ve+Ce;ve<Xe;)jt(Je[Ve++],ct),Ml(ct,Be,ve,ye,Z,K),ve+=ye,K+=ye;ve<Gt&&(jt(Je[Ve++],ct),Ml(ct,Be,ve,$e,Z,K),ve+=$e,K+=$e),++ge&be||(se+=ke)}break;case 3:if(Ce==Z&&ye==K&&0<se.b){for(ve=Z,Ce=Be=K+(Ae-ge)*Be-(Re=(Ae-ge)*ee(se.Ea,se.b)),ye=Z,be=K,ke=[],Re=($e=Re)-1;0<=Re;--Re)ke[Re]=ye[be+Re];for(Re=$e-1;0<=Re;--Re)ve[Ce+Re]=ke[Re];pa(se,ge,Ae,Z,Be,Z,K)}else pa(se,ge,Ae,Ce,ye,Z,K)}K=L,Z=P}Z!=P&&n(L,P,K,Z,V)}function qc(v,N){var P=v.V,L=v.Ba+v.c*v.C,q=N-v.C;if(e(N<=v.l.o),e(16>=q),0<q){var V=v.l,G=v.Ta,K=v.Ua,Z=V.width;if(Ki(v,q,P,L),q=K=[K],e((P=v.C)<(L=N)),e(V.v<V.va),L>V.o&&(L=V.o),P<V.j){var se=V.j-P;P=V.j,q[0]+=se*Z}if(P>=L?P=0:(q[0]+=4*V.v,V.ka=P-V.j,V.U=V.va-V.v,V.T=L-P,P=1),P){if(K=K[0],11>(P=v.ca).S){var ge=P.f.RGBA,Ae=(L=P.S,q=V.U,V=V.T,se=ge.eb,ge.A),Ce=V;for(ge=ge.fb+v.Ma*ge.A;0<Ce--;){var ye=G,Be=K,ke=q,ve=se,be=ge;switch(L){case wp:Mi(ye,Be,ke,ve,be);break;case jp:vi(ye,Be,ke,ve,be);break;case nv:vi(ye,Be,ke,ve,be),ga(ve,be,0,ke,1,0);break;case hj:Js(ye,Be,ke,ve,be);break;case Np:Ir(ye,Be,ke,ve,be,1);break;case iv:Ir(ye,Be,ke,ve,be,1),ga(ve,be,0,ke,1,0);break;case _p:Ir(ye,Be,ke,ve,be,0);break;case Sp:Ir(ye,Be,ke,ve,be,0),ga(ve,be,1,ke,1,0);break;case rv:Do(ye,Be,ke,ve,be);break;case av:Do(ye,Be,ke,ve,be),br(ve,be,ke,1,0);break;case fj:Ks(ye,Be,ke,ve,be);break;default:e(0)}K+=Z,ge+=Ae}v.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=P.height)}}v.C=N,e(v.C<=v.i)}function Gs(v){var N;if(0<v.ua)return 0;for(N=0;N<v.Wb;++N){var P=v.Ya[N].G,L=v.Ya[N].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function Fa(v,N,P,L,q,V){if(v.Z!=0){var G=v.qd,K=v.rd;for(e(Fo[v.Z]!=null);N<P;++N)Fo[v.Z](G,K,L,q,L,q,V),G=L,K=q,q+=V;v.qd=G,v.rd=K}}function Ba(v,N){var P=v.l.ma,L=P.Z==0||P.Z==1?v.l.j:v.C;if(L=v.C<L?L:v.C,e(N<=v.l.o),N>L){var q=v.l.width,V=P.ca,G=P.tb+q*L,K=v.V,Z=v.Ba+v.c*L,se=v.gc;e(v.ab==1),e(se[0].hc==3),xp(se[0],L,N,K,Z,V,G),Fa(P,L,N,V,G,q)}v.C=v.Ma=N}function $a(v,N,P,L,q,V,G){var K=v.$/L,Z=v.$%L,se=v.m,ge=v.s,Ae=P+v.$,Ce=Ae;q=P+L*q;var ye=P+L*V,Be=280+ge.ua,ke=v.Pb?K:16777216,ve=0<ge.ua?ge.Wa:null,be=ge.wc,Re=Ae<ye?nn(ge,Z,K):null;e(v.C<V),e(ye<=q);var $e=!1;e:for(;;){for(;$e||Ae<ye;){var Fe=0;if(K>=ke){var Je=Ae-P;e((ke=v).Pb),ke.wd=ke.m,ke.xd=Je,0<ke.s.ua&&he(ke.s.Wa,ke.s.vb),ke=K+rI}if(Z&be||(Re=nn(ge,Z,K)),e(Re!=null),Re.Qb&&(N[Ae]=Re.qb,$e=!0),!$e)if(Q(se),Re.jc){Fe=se,Je=N;var Ve=Ae,ct=Re.pd[I(Fe)&Vn-1];e(Re.jc),256>ct.g?(J(Fe,Fe.u+ct.g),Je[Ve]=ct.value,Fe=0):(J(Fe,Fe.u+ct.g-256),e(256<=ct.value),Fe=ct.value),Fe==0&&($e=!0)}else Fe=Ti(Re.G[0],Re.H[0],se);if(se.h)break;if($e||256>Fe){if(!$e)if(Re.nd)N[Ae]=(Re.qb|Fe<<8)>>>0;else{if(Q(se),$e=Ti(Re.G[1],Re.H[1],se),Q(se),Je=Ti(Re.G[2],Re.H[2],se),Ve=Ti(Re.G[3],Re.H[3],se),se.h)break;N[Ae]=(Ve<<24|$e<<16|Fe<<8|Je)>>>0}if($e=!1,++Ae,++Z>=L&&(Z=0,++K,G!=null&&K<=V&&!(K%16)&&G(v,K),ve!=null))for(;Ce<Ae;)Fe=N[Ce++],ve.X[(506832829*Fe&4294967295)>>>ve.Mb]=Fe}else if(280>Fe){if(Fe=Ra(Fe-256,se),Je=Ti(Re.G[4],Re.H[4],se),Q(se),Je=hs(L,Je=Ra(Je,se)),se.h)break;if(Ae-P<Je||q-Ae<Fe)break e;for(Ve=0;Ve<Fe;++Ve)N[Ae+Ve]=N[Ae+Ve-Je];for(Ae+=Fe,Z+=Fe;Z>=L;)Z-=L,++K,G!=null&&K<=V&&!(K%16)&&G(v,K);if(e(Ae<=q),Z&be&&(Re=nn(ge,Z,K)),ve!=null)for(;Ce<Ae;)Fe=N[Ce++],ve.X[(506832829*Fe&4294967295)>>>ve.Mb]=Fe}else{if(!(Fe<Be))break e;for($e=Fe-280,e(ve!=null);Ce<Ae;)Fe=N[Ce++],ve.X[(506832829*Fe&4294967295)>>>ve.Mb]=Fe;Fe=Ae,e(!($e>>>(Je=ve).Xa)),N[Fe]=Je.X[$e],$e=!0}$e||e(se.h==U(se))}if(v.Pb&&se.h&&Ae<q)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&he(v.s.vb,v.s.Wa);else{if(se.h)break e;G!=null&&G(v,K>V?V:K),v.a=0,v.$=Ae-P}return 1}return v.a=3,0}function fs(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var N=v.Wa;N!=null&&(N.X=null),v.vb=null,e(v!=null)}function fa(){var v=new Z1;return v==null?null:(v.a=0,v.xb=xj,cs("Predictor","VP8LPredictors"),cs("Predictor","VP8LPredictors_C"),cs("PredictorAdd","VP8LPredictorsAdd"),cs("PredictorAdd","VP8LPredictorsAdd_C"),mp=it,Ml=dt,Mi=Ge,vi=Pn,Do=Lt,Ks=Yi,Js=Kt,O.VP8LMapColor32b=cu,O.VP8LMapColor8b=gp,v)}function ps(v,N,P,L,q){var V=1,G=[v],K=[N],Z=L.m,se=L.s,ge=null,Ae=0;e:for(;;){if(P)for(;V&&oe(Z,1);){var Ce=G,ye=K,Be=L,ke=1,ve=Be.m,be=Be.gc[Be.ab],Re=oe(ve,2);if(Be.Oc&1<<Re)V=0;else{switch(Be.Oc|=1<<Re,be.hc=Re,be.Ea=Ce[0],be.nc=ye[0],be.K=[null],++Be.ab,e(4>=Be.ab),Re){case 0:case 1:be.b=oe(ve,3)+2,ke=ps(ee(be.Ea,be.b),ee(be.nc,be.b),0,Be,be.K),be.K=be.K[0];break;case 3:var $e,Fe=oe(ve,8)+1,Je=16<Fe?0:4<Fe?1:2<Fe?2:3;if(Ce[0]=ee(be.Ea,Je),be.b=Je,$e=ke=ps(Fe,1,0,Be,be.K)){var Ve,ct=Fe,Xe=be,Gt=1<<(8>>Xe.b),tr=s(Gt);if(tr==null)$e=0;else{var Ut=Xe.K[0],It=Xe.w;for(tr[0]=Xe.K[0][0],Ve=1;Ve<1*ct;++Ve)tr[Ve]=re(Ut[It+Ve],tr[Ve-1]);for(;Ve<4*Gt;++Ve)tr[Ve]=0;Xe.K[0]=null,Xe.K[0]=tr,$e=1}}ke=$e;break;case 2:break;default:e(0)}V=ke}}if(G=G[0],K=K[0],V&&oe(Z,1)&&!(V=1<=(Ae=oe(Z,4))&&11>=Ae)){L.a=3;break e}var fr;if(fr=V)t:{var ur,St,sn,Li=L,on=G,Ri=K,rr=Ae,Zi=P,ea=Li.m,Tn=Li.s,Gn=[null],yi=1,ya=0,vs=tI[rr];r:for(;;){if(Zi&&oe(ea,1)){var In=oe(ea,3)+2,to=ee(on,In),$l=ee(Ri,In),pu=to*$l;if(!ps(to,$l,0,Li,Gn))break r;for(Gn=Gn[0],Tn.xc=In,ur=0;ur<pu;++ur){var Bo=Gn[ur]>>8&65535;Gn[ur]=Bo,Bo>=yi&&(yi=Bo+1)}}if(ea.h)break r;for(St=0;5>St;++St){var qr=pj[St];!St&&0<rr&&(qr+=1<<rr),ya<qr&&(ya=qr)}var cv=o(yi*vs,E),Sj=yi,Aj=o(Sj,F);if(Aj==null)var Op=null;else e(65536>=Sj),Op=Aj;var Mh=s(ya);if(Op==null||Mh==null||cv==null){Li.a=1;break r}var Pp=cv;for(ur=sn=0;ur<yi;++ur){var Wa=Op[ur],mu=Wa.G,xu=Wa.H,Cj=0,kp=1,Ej=0;for(St=0;5>St;++St){qr=pj[St],mu[St]=Pp,xu[St]=sn,!St&&0<rr&&(qr+=1<<rr);i:{var Tp,uv=qr,Ip=Li,Lh=Mh,jI=Pp,NI=sn,dv=0,$o=Ip.m,_I=oe($o,1);if(i(Lh,0,0,uv),_I){var SI=oe($o,1)+1,AI=oe($o,1),Oj=oe($o,AI==0?1:8);Lh[Oj]=1,SI==2&&(Lh[Oj=oe($o,8)]=1);var Dp=1}else{var Pj=s(19),kj=oe($o,4)+4;if(19<kj){Ip.a=3;var Mp=0;break i}for(Tp=0;Tp<kj;++Tp)Pj[ZT[Tp]]=oe($o,3);var hv=void 0,Rh=void 0,Tj=Ip,CI=Pj,Lp=uv,Ij=Lh,fv=0,zo=Tj.m,Dj=8,Mj=o(128,E);n:for(;T(Mj,0,7,CI,19);){if(oe(zo,1)){var EI=2+2*oe(zo,3);if((hv=2+oe(zo,EI))>Lp)break n}else hv=Lp;for(Rh=0;Rh<Lp&&hv--;){Q(zo);var Lj=Mj[0+(127&I(zo))];J(zo,zo.u+Lj.g);var gu=Lj.value;if(16>gu)Ij[Rh++]=gu,gu!=0&&(Dj=gu);else{var OI=gu==16,Rj=gu-16,PI=JT[Rj],Fj=oe(zo,KT[Rj])+PI;if(Rh+Fj>Lp)break n;for(var kI=OI?Dj:0;0<Fj--;)Ij[Rh++]=kI}}fv=1;break n}fv||(Tj.a=3),Dp=fv}(Dp=Dp&&!$o.h)&&(dv=T(jI,NI,8,Lh,uv)),Dp&&dv!=0?Mp=dv:(Ip.a=3,Mp=0)}if(Mp==0)break r;if(kp&&QT[St]==1&&(kp=Pp[sn].g==0),Cj+=Pp[sn].g,sn+=Mp,3>=St){var Fh,pv=Mh[0];for(Fh=1;Fh<qr;++Fh)Mh[Fh]>pv&&(pv=Mh[Fh]);Ej+=pv}}if(Wa.nd=kp,Wa.Qb=0,kp&&(Wa.qb=(mu[3][xu[3]+0].value<<24|mu[1][xu[1]+0].value<<16|mu[2][xu[2]+0].value)>>>0,Cj==0&&256>mu[0][xu[0]+0].value&&(Wa.Qb=1,Wa.qb+=mu[0][xu[0]+0].value<<8)),Wa.jc=!Wa.Qb&&6>Ej,Wa.jc){var Rp,ro=Wa;for(Rp=0;Rp<Vn;++Rp){var Uo=Rp,qo=ro.pd[Uo],Fp=ro.G[0][ro.H[0]+Uo];256<=Fp.value?(qo.g=Fp.g+256,qo.value=Fp.value):(qo.g=0,qo.value=0,Uo>>=pn(Fp,8,qo),Uo>>=pn(ro.G[1][ro.H[1]+Uo],16,qo),Uo>>=pn(ro.G[2][ro.H[2]+Uo],0,qo),pn(ro.G[3][ro.H[3]+Uo],24,qo))}}}Tn.vc=Gn,Tn.Wb=yi,Tn.Ya=Op,Tn.yc=cv,fr=1;break t}fr=0}if(!(V=fr)){L.a=3;break e}if(0<Ae){if(se.ua=1<<Ae,!De(se.Wa,Ae)){L.a=1,V=0;break e}}else se.ua=0;var mv=L,Bj=G,TI=K,xv=mv.s,gv=xv.xc;if(mv.c=Bj,mv.i=TI,xv.md=ee(Bj,gv),xv.wc=gv==0?-1:(1<<gv)-1,P){L.xb=cI;break e}if((ge=s(G*K))==null){L.a=1,V=0;break e}V=(V=$a(L,ge,0,G,K,K,null))&&!Z.h;break e}return V?(q!=null?q[0]=ge:(e(ge==null),e(P)),L.$=0,P||fs(se)):fs(se),V}function Pl(v,N){var P=v.c*v.i,L=P+N+16*N;return e(v.c<=N),v.V=s(L),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+P+N,1)}function Hc(v,N){var P=v.C,L=N-P,q=v.V,V=v.Ba+v.c*P;for(e(N<=v.l.o);0<L;){var G=16<L?16:L,K=v.l.ma,Z=v.l.width,se=Z*G,ge=K.ca,Ae=K.tb+Z*P,Ce=v.Ta,ye=v.Ua;Ki(v,G,q,V),Yr(Ce,ye,ge,Ae,se),Fa(K,P,P+G,ge,Ae,Z),L-=G,q+=G*v.c,P+=G}e(P==N),v.C=v.Ma=N}function Wc(){this.ub=this.yd=this.td=this.Rb=0}function Vc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Y0(){this.Yb=function(){var v=[];return function N(P,L,q){for(var V=q[L],G=0;G<V&&(P.push(q.length>L+1?[]:0),!(q.length<L+1));G++)N(P[G],L+1,q)}(v,0,[3,11]),v}()}function P1(){this.jb=s(3),this.Wc=l([4,8],Y0),this.Xc=l([4,17],Y0)}function k1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Xc(){this.ld=this.La=this.dd=this.tc=0}function K0(){this.Na=this.la=0}function T1(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ch(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function I1(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xc),this.Y=0,this.ya=Array(new ch),this.aa=0,this.l=new Yc}function J0(){this.y=s(16),this.f=s(8),this.ea=s(8)}function D1(){this.cb=this.a=0,this.sc="",this.m=new fe,this.Od=new Wc,this.Kc=new Vc,this.ed=new k1,this.Qa=new Gc,this.Ic=this.$c=this.Aa=0,this.D=new I1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,fe),this.ia=0,this.pb=o(4,T1),this.Pa=new P1,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new J0),this.Hd=0,this.rb=Array(new K0),this.sb=0,this.wa=Array(new Xc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ch),this.L=this.aa=0,this.gd=l([4,2],Xc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function M1(){var v=new D1;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Ih||(Ih=ep)),v}function Gr(v,N,P){return v.a==0&&(v.a=N,v.sc=P,v.cb=0),0}function Q0(v,N,P){return 3<=P&&v[N+0]==157&&v[N+1]==1&&v[N+2]==42}function Z0(v,N){if(v==null)return 0;if(v.a=0,v.sc="OK",N==null)return Gr(v,2,"null VP8Io passed to VP8GetHeaders()");var P=N.data,L=N.w,q=N.ha;if(4>q)return Gr(v,7,"Truncated header.");var V=P[L+0]|P[L+1]<<8|P[L+2]<<16,G=v.Od;if(G.Rb=!(1&V),G.td=V>>1&7,G.yd=V>>4&1,G.ub=V>>5,3<G.td)return Gr(v,3,"Incorrect keyframe parameters.");if(!G.yd)return Gr(v,4,"Frame not displayable.");L+=3,q-=3;var K=v.Kc;if(G.Rb){if(7>q)return Gr(v,7,"cannot parse picture header");if(!Q0(P,L,q))return Gr(v,3,"Bad code word");K.c=16383&(P[L+4]<<8|P[L+3]),K.Td=P[L+4]>>6,K.i=16383&(P[L+6]<<8|P[L+5]),K.Ud=P[L+6]>>6,L+=7,q-=7,v.za=K.c+15>>4,v.Ub=K.i+15>>4,N.width=K.c,N.height=K.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((V=v.Pa).jb,0,255,V.jb.length),e((V=v.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(G.ub>q)return Gr(v,7,"bad partition length");W(V=v.m,P,L,G.ub),L+=G.ub,q-=G.ub,G.Rb&&(K.Ld=xe(V),K.Kd=xe(V)),K=v.Qa;var Z,se=v.Pa;if(e(V!=null),e(K!=null),K.Cb=xe(V),K.Cb){if(K.Bb=xe(V),xe(V)){for(K.Fb=xe(V),Z=0;4>Z;++Z)K.Zb[Z]=xe(V)?z(V,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=xe(V)?z(V,6):0}if(K.Bb)for(Z=0;3>Z;++Z)se.jb[Z]=xe(V)?$(V,8):255}else K.Bb=0;if(V.Ka)return Gr(v,3,"cannot parse segment header");if((K=v.ed).zd=xe(V),K.Tb=$(V,6),K.wb=$(V,3),K.Pc=xe(V),K.Pc&&xe(V)){for(se=0;4>se;++se)xe(V)&&(K.vd[se]=z(V,6));for(se=0;4>se;++se)xe(V)&&(K.od[se]=z(V,6))}if(v.L=K.Tb==0?0:K.zd?1:2,V.Ka)return Gr(v,3,"cannot parse filter header");var ge=q;if(q=Z=L,L=Z+ge,K=ge,v.Xb=(1<<$(v.m,2))-1,ge<3*(se=v.Xb))P=7;else{for(Z+=3*se,K-=3*se,ge=0;ge<se;++ge){var Ae=P[q+0]|P[q+1]<<8|P[q+2]<<16;Ae>K&&(Ae=K),W(v.Jc[+ge],P,Z,Ae),Z+=Ae,K-=Ae,q+=3}W(v.Jc[+se],P,Z,K),P=Z<L?0:5}if(P!=0)return Gr(v,P,"cannot parse partitions");for(P=$(Z=v.m,7),q=xe(Z)?z(Z,4):0,L=xe(Z)?z(Z,4):0,K=xe(Z)?z(Z,4):0,se=xe(Z)?z(Z,4):0,Z=xe(Z)?z(Z,4):0,ge=v.Qa,Ae=0;4>Ae;++Ae){if(ge.Cb){var Ce=ge.Zb[Ae];ge.Fb||(Ce+=P)}else{if(0<Ae){v.pb[Ae]=v.pb[0];continue}Ce=P}var ye=v.pb[Ae];ye.Sc[0]=sv[Ji(Ce+q,127)],ye.Sc[1]=ov[Ji(Ce+0,127)],ye.Eb[0]=2*sv[Ji(Ce+L,127)],ye.Eb[1]=101581*ov[Ji(Ce+K,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=sv[Ji(Ce+se,117)],ye.Qc[1]=ov[Ji(Ce+Z,127)],ye.lc=Ce+Z}if(!G.Rb)return Gr(v,4,"Not a key frame.");for(xe(V),G=v.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(L=0;3>L;++L)for(K=0;11>K;++K)se=le(V,oI[P][q][L][K])?$(V,8):aI[P][q][L][K],G.Wc[P][q].Yb[L][K]=se;for(q=0;17>q;++q)G.Xc[P][q]=G.Wc[P][lI[q]]}return v.kc=xe(V),v.kc&&(v.Bd=$(V,8)),v.cb=1}function ep(v,N,P,L,q,V,G){var K=N[q].Yb[P];for(P=0;16>q;++q){if(!le(v,K[P+0]))return q;for(;!le(v,K[P+1]);)if(K=N[++q].Yb[0],P=0,q==16)return 16;var Z=N[q+1].Yb;if(le(v,K[P+2])){var se=v,ge=0;if(le(se,(Ce=K)[(Ae=P)+3]))if(le(se,Ce[Ae+6])){for(K=0,Ae=2*(ge=le(se,Ce[Ae+8]))+(Ce=le(se,Ce[Ae+9+ge])),ge=0,Ce=nI[Ae];Ce[K];++K)ge+=ge+le(se,Ce[K]);ge+=3+(8<<Ae)}else le(se,Ce[Ae+7])?(ge=7+2*le(se,165),ge+=le(se,145)):ge=5+le(se,159);else ge=le(se,Ce[Ae+4])?3+le(se,Ce[Ae+5]):2;K=Z[2]}else ge=1,K=Z[1];Z=G+iI[q],0>(se=v).b&&de(se);var Ae,Ce=se.b,ye=(Ae=se.Ca>>1)-(se.I>>Ce)>>31;--se.b,se.Ca+=ye,se.Ca|=1,se.I-=(Ae+1&ye)<<Ce,V[Z]=((ge^ye)-ye)*L[(0<q)+0]}return 16}function uh(v){var N=v.rb[v.sb-1];N.la=0,N.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function L1(v,N){if(v==null)return 0;if(N==null)return Gr(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Z0(v,N))return 0;if(e(v.cb),N.ac==null||N.ac(N)){N.ob&&(v.L=0);var P=Ep[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=N.v-P>>4,v.zb=N.j-P>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=N.o+15+P>>4,v.Hb=N.va+15+P>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var L=v.ed;for(P=0;4>P;++P){var q;if(v.Qa.Cb){var V=v.Qa.Lb[P];v.Qa.Fb||(V+=L.Tb)}else V=L.Tb;for(q=0;1>=q;++q){var G=v.gd[P][q],K=V;if(L.Pc&&(K+=L.vd[0],q&&(K+=L.od[0])),0<(K=0>K?0:63<K?63:K)){var Z=K;0<L.wb&&(Z=4<L.wb?Z>>2:Z>>1)>9-L.wb&&(Z=9-L.wb),1>Z&&(Z=1),G.dd=Z,G.tc=2*K+Z,G.ld=40<=K?2:15<=K?1:0}else G.tc=0;G.La=q}}}P=0}else Gr(v,6,"Frame setup failed"),P=v.a;if(P=P==0){if(P){v.$c=0,0<v.Aa||(v.Ic=wI);e:{P=v.Ic,L=4*(Z=v.za);var se=32*Z,ge=Z+1,Ae=0<v.L?Z*(0<v.Aa?2:1):0,Ce=(v.Aa==2?2:1)*Z;if((G=L+832+(q=3*(16*P+Ep[v.L])/2*se)+(V=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=G)P=0;else{if(G>v.Vb){if(v.Vb=0,v.Ec=s(G),v.Fc=0,v.Ec==null){P=Gr(v,1,"no memory during frame initialization.");break e}v.Vb=G}G=v.Ec,K=v.Fc,v.Ac=G,v.Bc=K,K+=L,v.Gd=o(se,J0),v.Hd=0,v.rb=o(ge+1,K0),v.sb=1,v.wa=Ae?o(Ae,Xc):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=Z),e(!0),v.oc=G,v.pc=K,K+=832,v.ya=o(Ce,ch),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=Z),v.R=16*Z,v.B=8*Z,Z=(se=Ep[v.L])*v.R,se=se/2*v.B,v.sa=G,v.ta=K+Z,v.qa=v.sa,v.ra=v.ta+16*P*v.R+se,v.Ha=v.qa,v.Ia=v.ra+8*P*v.B+se,v.$c=0,K+=q,v.mb=V?G:null,v.nb=V?K:null,e(K+V<=v.Fc+v.Vb),uh(v),i(v.Ac,v.Bc,0,L),P=1}}if(P){if(N.ka=0,N.y=v.sa,N.O=v.ta,N.f=v.qa,N.N=v.ra,N.ea=v.Ha,N.Vd=v.Ia,N.fa=v.R,N.Rc=v.B,N.F=null,N.J=0,!bp){for(P=-255;255>=P;++P)mn[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Zs[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Th[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)fu[255+P]=0>P?0:255<P?255:P;bp=1}uu=B1,Qs=R1,Oh=rp,bi=F1,ma=np,Xr=tp,du=xh,vp=Il,Ph=Q1,Ll=gh,Rl=J1,Mo=tu,Fl=vh,hu=hp,Bl=dp,Lo=xs,kh=Ys,xa=K1,Ha[0]=ms,Ha[1]=$1,Ha[2]=H1,Ha[3]=W1,Ha[4]=sp,Ha[5]=Zc,Ha[6]=op,Ha[7]=fh,Ha[8]=G1,Ha[9]=V1,Ro[0]=ip,Ro[1]=U1,Ro[2]=Xs,Ro[3]=Jc,Ro[4]=ni,Ro[5]=q1,Ro[6]=ap,eo[0]=Po,eo[1]=z1,eo[2]=X1,eo[3]=ph,eo[4]=Tl,eo[5]=Y1,eo[6]=mh,P=1}else P=0}P&&(P=function(ye,Be){for(ye.M=0;ye.M<ye.Va;++ye.M){var ke,ve=ye.Jc[ye.M&ye.Xb],be=ye.m,Re=ye;for(ke=0;ke<Re.za;++ke){var $e=be,Fe=Re,Je=Fe.Ac,Ve=Fe.Bc+4*ke,ct=Fe.zc,Xe=Fe.ya[Fe.aa+ke];if(Fe.Qa.Bb?Xe.$b=le($e,Fe.Pa.jb[0])?2+le($e,Fe.Pa.jb[2]):le($e,Fe.Pa.jb[1]):Xe.$b=0,Fe.kc&&(Xe.Ad=le($e,Fe.Bd)),Xe.Za=!le($e,145)+0,Xe.Za){var Gt=Xe.Ob,tr=0;for(Fe=0;4>Fe;++Fe){var Ut,It=ct[0+Fe];for(Ut=0;4>Ut;++Ut){It=sI[Je[Ve+Ut]][It];for(var fr=mj[le($e,It[0])];0<fr;)fr=mj[2*fr+le($e,It[fr])];It=-fr,Je[Ve+Ut]=It}n(Gt,tr,Je,Ve,4),tr+=4,ct[0+Fe]=It}}else It=le($e,156)?le($e,128)?1:3:le($e,163)?2:0,Xe.Ob[0]=It,i(Je,Ve,It,4),i(ct,0,It,4);Xe.Dd=le($e,142)?le($e,114)?le($e,183)?1:3:2:0}if(Re.m.Ka)return Gr(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(Re=ve,$e=(be=ye).rb[be.sb-1],Je=be.rb[be.sb+be.ja],ke=be.ya[be.aa+be.ja],Ve=be.kc?ke.Ad:0)$e.la=Je.la=0,ke.Za||($e.Na=Je.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var ur,St;if($e=Je,Je=Re,Ve=be.Pa.Xc,ct=be.ya[be.aa+be.ja],Xe=be.pb[ct.$b],Fe=ct.ad,Gt=0,tr=be.rb[be.sb-1],It=Ut=0,i(Fe,Gt,0,384),ct.Za)var sn=0,Li=Ve[3];else{fr=s(16);var on=$e.Na+tr.Na;if(on=Ih(Je,Ve[1],on,Xe.Eb,0,fr,0),$e.Na=tr.Na=(0<on)+0,1<on)uu(fr,0,Fe,Gt);else{var Ri=fr[0]+3>>3;for(fr=0;256>fr;fr+=16)Fe[Gt+fr]=Ri}sn=1,Li=Ve[0]}var rr=15&$e.la,Zi=15&tr.la;for(fr=0;4>fr;++fr){var ea=1&Zi;for(Ri=St=0;4>Ri;++Ri)rr=rr>>1|(ea=(on=Ih(Je,Li,on=ea+(1&rr),Xe.Sc,sn,Fe,Gt))>sn)<<7,St=St<<2|(3<on?3:1<on?2:Fe[Gt+0]!=0),Gt+=16;rr>>=4,Zi=Zi>>1|ea<<7,Ut=(Ut<<8|St)>>>0}for(Li=rr,sn=Zi>>4,ur=0;4>ur;ur+=2){for(St=0,rr=$e.la>>4+ur,Zi=tr.la>>4+ur,fr=0;2>fr;++fr){for(ea=1&Zi,Ri=0;2>Ri;++Ri)on=ea+(1&rr),rr=rr>>1|(ea=0<(on=Ih(Je,Ve[2],on,Xe.Qc,0,Fe,Gt)))<<3,St=St<<2|(3<on?3:1<on?2:Fe[Gt+0]!=0),Gt+=16;rr>>=2,Zi=Zi>>1|ea<<5}It|=St<<4*ur,Li|=rr<<4<<ur,sn|=(240&Zi)<<ur}$e.la=Li,tr.la=sn,ct.Hc=Ut,ct.Gc=It,ct.ia=43690&It?0:Xe.ia,Ve=!(Ut|It)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[ke.$b][ke.Za],be.wa[be.Y+be.ja].La|=!Ve),Re.Ka)return Gr(ye,7,"Premature end-of-file encountered.")}if(uh(ye),be=Be,Re=1,ke=(ve=ye).D,$e=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(ke.M=ve.M,ke.uc=$e,_h(ve,ke),Re=1,ke=(St=ve.D).Nb,$e=(It=Ep[ve.L])*ve.R,Je=It/2*ve.B,fr=16*ke*ve.R,Ri=8*ke*ve.B,Ve=ve.sa,ct=ve.ta-$e+fr,Xe=ve.qa,Fe=ve.ra-Je+Ri,Gt=ve.Ha,tr=ve.Ia-Je+Ri,Zi=(rr=St.M)==0,Ut=rr>=ve.Va-1,ve.Aa==2&&_h(ve,St),St.uc)for(ea=(on=ve).D.M,e(on.D.uc),St=on.yb;St<on.Hb;++St){sn=St,Li=ea;var Tn=(Gn=(qr=on).D).Nb;ur=qr.R;var Gn=Gn.wa[Gn.Y+sn],yi=qr.sa,ya=qr.ta+16*Tn*ur+16*sn,vs=Gn.dd,In=Gn.tc;if(In!=0)if(e(3<=In),qr.L==1)0<sn&&Lo(yi,ya,ur,In+4),Gn.La&&xa(yi,ya,ur,In),0<Li&&Bl(yi,ya,ur,In+4),Gn.La&&kh(yi,ya,ur,In);else{var to=qr.B,$l=qr.qa,pu=qr.ra+8*Tn*to+8*sn,Bo=qr.Ha,qr=qr.Ia+8*Tn*to+8*sn;Tn=Gn.ld,0<sn&&(vp(yi,ya,ur,In+4,vs,Tn),Ll($l,pu,Bo,qr,to,In+4,vs,Tn)),Gn.La&&(Mo(yi,ya,ur,In,vs,Tn),hu($l,pu,Bo,qr,to,In,vs,Tn)),0<Li&&(du(yi,ya,ur,In+4,vs,Tn),Ph($l,pu,Bo,qr,to,In+4,vs,Tn)),Gn.La&&(Rl(yi,ya,ur,In,vs,Tn),Fl($l,pu,Bo,qr,to,In,vs,Tn))}}if(ve.ia&&alert("todo:DitherRow"),be.put!=null){if(St=16*rr,rr=16*(rr+1),Zi?(be.y=ve.sa,be.O=ve.ta+fr,be.f=ve.qa,be.N=ve.ra+Ri,be.ea=ve.Ha,be.W=ve.Ia+Ri):(St-=It,be.y=Ve,be.O=ct,be.f=Xe,be.N=Fe,be.ea=Gt,be.W=tr),Ut||(rr-=It),rr>be.o&&(rr=be.o),be.F=null,be.J=null,ve.Fa!=null&&0<ve.Fa.length&&St<rr&&(be.J=jh(ve,be,St,rr-St),be.F=ve.mb,be.F==null&&be.F.length==0)){Re=Gr(ve,3,"Could not decode alpha data.");break e}St<be.j&&(It=be.j-St,St=be.j,e(!(1&It)),be.O+=ve.R*It,be.N+=ve.B*(It>>1),be.W+=ve.B*(It>>1),be.F!=null&&(be.J+=be.width*It)),St<rr&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=St-be.j,be.U=be.va-be.v,be.T=rr-St,Re=be.put(be))}ke+1!=ve.Ic||Ut||(n(ve.sa,ve.ta-$e,Ve,ct+16*ve.R,$e),n(ve.qa,ve.ra-Je,Xe,Fe+8*ve.B,Je),n(ve.Ha,ve.Ia-Je,Gt,tr+8*ve.B,Je))}if(!Re)return Gr(ye,6,"Output aborted.")}return 1}(v,N)),N.bc!=null&&N.bc(N),P&=1}return P?(v.cb=0,P):0}function za(v,N,P,L,q){q=v[N+P+32*L]+(q>>3),v[N+P+32*L]=-256&q?0>q?0:255:q}function Kc(v,N,P,L,q,V){za(v,N,0,P,L+q),za(v,N,1,P,L+V),za(v,N,2,P,L-V),za(v,N,3,P,L-q)}function Ii(v){return(20091*v>>16)+v}function dh(v,N,P,L){var q,V=0,G=s(16);for(q=0;4>q;++q){var K=v[N+0]+v[N+8],Z=v[N+0]-v[N+8],se=(35468*v[N+4]>>16)-Ii(v[N+12]),ge=Ii(v[N+4])+(35468*v[N+12]>>16);G[V+0]=K+ge,G[V+1]=Z+se,G[V+2]=Z-se,G[V+3]=K-ge,V+=4,N++}for(q=V=0;4>q;++q)K=(v=G[V+0]+4)+G[V+8],Z=v-G[V+8],se=(35468*G[V+4]>>16)-Ii(G[V+12]),za(P,L,0,0,K+(ge=Ii(G[V+4])+(35468*G[V+12]>>16))),za(P,L,1,0,Z+se),za(P,L,2,0,Z-se),za(P,L,3,0,K-ge),V++,L+=32}function tp(v,N,P,L){var q=v[N+0]+4,V=35468*v[N+4]>>16,G=Ii(v[N+4]),K=35468*v[N+1]>>16;Kc(P,L,0,q+G,v=Ii(v[N+1]),K),Kc(P,L,1,q+V,v,K),Kc(P,L,2,q-V,v,K),Kc(P,L,3,q-G,v,K)}function R1(v,N,P,L,q){dh(v,N,P,L),q&&dh(v,N+16,P,L+4)}function rp(v,N,P,L){Qs(v,N+0,P,L,1),Qs(v,N+32,P,L+128,1)}function F1(v,N,P,L){var q;for(v=v[N+0]+4,q=0;4>q;++q)for(N=0;4>N;++N)za(P,L,N,q,v)}function np(v,N,P,L){v[N+0]&&bi(v,N+0,P,L),v[N+16]&&bi(v,N+16,P,L+4),v[N+32]&&bi(v,N+32,P,L+128),v[N+48]&&bi(v,N+48,P,L+128+4)}function B1(v,N,P,L){var q,V=s(16);for(q=0;4>q;++q){var G=v[N+0+q]+v[N+12+q],K=v[N+4+q]+v[N+8+q],Z=v[N+4+q]-v[N+8+q],se=v[N+0+q]-v[N+12+q];V[0+q]=G+K,V[8+q]=G-K,V[4+q]=se+Z,V[12+q]=se-Z}for(q=0;4>q;++q)G=(v=V[0+4*q]+3)+V[3+4*q],K=V[1+4*q]+V[2+4*q],Z=V[1+4*q]-V[2+4*q],se=v-V[3+4*q],P[L+0]=G+K>>3,P[L+16]=se+Z>>3,P[L+32]=G-K>>3,P[L+48]=se-Z>>3,L+=64}function hh(v,N,P){var L,q=N-32,V=Qi,G=255-v[q-1];for(L=0;L<P;++L){var K,Z=V,se=G+v[N-1];for(K=0;K<P;++K)v[N+K]=Z[se+v[q+K]];N+=32}}function $1(v,N){hh(v,N,4)}function z1(v,N){hh(v,N,8)}function U1(v,N){hh(v,N,16)}function Xs(v,N){var P;for(P=0;16>P;++P)n(v,N+32*P,v,N-32,16)}function Jc(v,N){var P;for(P=16;0<P;--P)i(v,N,v[N-1],16),N+=32}function Qc(v,N,P){var L;for(L=0;16>L;++L)i(N,P+32*L,v,16)}function ip(v,N){var P,L=16;for(P=0;16>P;++P)L+=v[N-1+32*P]+v[N+P-32];Qc(L>>5,v,N)}function ni(v,N){var P,L=8;for(P=0;16>P;++P)L+=v[N-1+32*P];Qc(L>>4,v,N)}function q1(v,N){var P,L=8;for(P=0;16>P;++P)L+=v[N+P-32];Qc(L>>4,v,N)}function ap(v,N){Qc(128,v,N)}function xt(v,N,P){return v+2*N+P+2>>2}function H1(v,N){var P,L=N-32;for(L=new Uint8Array([xt(v[L-1],v[L+0],v[L+1]),xt(v[L+0],v[L+1],v[L+2]),xt(v[L+1],v[L+2],v[L+3]),xt(v[L+2],v[L+3],v[L+4])]),P=0;4>P;++P)n(v,N+32*P,L,0,L.length)}function W1(v,N){var P=v[N-1],L=v[N-1+32],q=v[N-1+64],V=v[N-1+96];_e(v,N+0,16843009*xt(v[N-1-32],P,L)),_e(v,N+32,16843009*xt(P,L,q)),_e(v,N+64,16843009*xt(L,q,V)),_e(v,N+96,16843009*xt(q,V,V))}function ms(v,N){var P,L=4;for(P=0;4>P;++P)L+=v[N+P-32]+v[N-1+32*P];for(L>>=3,P=0;4>P;++P)i(v,N+32*P,L,4)}function sp(v,N){var P=v[N-1+0],L=v[N-1+32],q=v[N-1+64],V=v[N-1-32],G=v[N+0-32],K=v[N+1-32],Z=v[N+2-32],se=v[N+3-32];v[N+0+96]=xt(L,q,v[N-1+96]),v[N+1+96]=v[N+0+64]=xt(P,L,q),v[N+2+96]=v[N+1+64]=v[N+0+32]=xt(V,P,L),v[N+3+96]=v[N+2+64]=v[N+1+32]=v[N+0+0]=xt(G,V,P),v[N+3+64]=v[N+2+32]=v[N+1+0]=xt(K,G,V),v[N+3+32]=v[N+2+0]=xt(Z,K,G),v[N+3+0]=xt(se,Z,K)}function op(v,N){var P=v[N+1-32],L=v[N+2-32],q=v[N+3-32],V=v[N+4-32],G=v[N+5-32],K=v[N+6-32],Z=v[N+7-32];v[N+0+0]=xt(v[N+0-32],P,L),v[N+1+0]=v[N+0+32]=xt(P,L,q),v[N+2+0]=v[N+1+32]=v[N+0+64]=xt(L,q,V),v[N+3+0]=v[N+2+32]=v[N+1+64]=v[N+0+96]=xt(q,V,G),v[N+3+32]=v[N+2+64]=v[N+1+96]=xt(V,G,K),v[N+3+64]=v[N+2+96]=xt(G,K,Z),v[N+3+96]=xt(K,Z,Z)}function Zc(v,N){var P=v[N-1+0],L=v[N-1+32],q=v[N-1+64],V=v[N-1-32],G=v[N+0-32],K=v[N+1-32],Z=v[N+2-32],se=v[N+3-32];v[N+0+0]=v[N+1+64]=V+G+1>>1,v[N+1+0]=v[N+2+64]=G+K+1>>1,v[N+2+0]=v[N+3+64]=K+Z+1>>1,v[N+3+0]=Z+se+1>>1,v[N+0+96]=xt(q,L,P),v[N+0+64]=xt(L,P,V),v[N+0+32]=v[N+1+96]=xt(P,V,G),v[N+1+32]=v[N+2+96]=xt(V,G,K),v[N+2+32]=v[N+3+96]=xt(G,K,Z),v[N+3+32]=xt(K,Z,se)}function fh(v,N){var P=v[N+0-32],L=v[N+1-32],q=v[N+2-32],V=v[N+3-32],G=v[N+4-32],K=v[N+5-32],Z=v[N+6-32],se=v[N+7-32];v[N+0+0]=P+L+1>>1,v[N+1+0]=v[N+0+64]=L+q+1>>1,v[N+2+0]=v[N+1+64]=q+V+1>>1,v[N+3+0]=v[N+2+64]=V+G+1>>1,v[N+0+32]=xt(P,L,q),v[N+1+32]=v[N+0+96]=xt(L,q,V),v[N+2+32]=v[N+1+96]=xt(q,V,G),v[N+3+32]=v[N+2+96]=xt(V,G,K),v[N+3+64]=xt(G,K,Z),v[N+3+96]=xt(K,Z,se)}function V1(v,N){var P=v[N-1+0],L=v[N-1+32],q=v[N-1+64],V=v[N-1+96];v[N+0+0]=P+L+1>>1,v[N+2+0]=v[N+0+32]=L+q+1>>1,v[N+2+32]=v[N+0+64]=q+V+1>>1,v[N+1+0]=xt(P,L,q),v[N+3+0]=v[N+1+32]=xt(L,q,V),v[N+3+32]=v[N+1+64]=xt(q,V,V),v[N+3+64]=v[N+2+64]=v[N+0+96]=v[N+1+96]=v[N+2+96]=v[N+3+96]=V}function G1(v,N){var P=v[N-1+0],L=v[N-1+32],q=v[N-1+64],V=v[N-1+96],G=v[N-1-32],K=v[N+0-32],Z=v[N+1-32],se=v[N+2-32];v[N+0+0]=v[N+2+32]=P+G+1>>1,v[N+0+32]=v[N+2+64]=L+P+1>>1,v[N+0+64]=v[N+2+96]=q+L+1>>1,v[N+0+96]=V+q+1>>1,v[N+3+0]=xt(K,Z,se),v[N+2+0]=xt(G,K,Z),v[N+1+0]=v[N+3+32]=xt(P,G,K),v[N+1+32]=v[N+3+64]=xt(L,P,G),v[N+1+64]=v[N+3+96]=xt(q,L,P),v[N+1+96]=xt(V,q,L)}function X1(v,N){var P;for(P=0;8>P;++P)n(v,N+32*P,v,N-32,8)}function ph(v,N){var P;for(P=0;8>P;++P)i(v,N,v[N-1],8),N+=32}function kl(v,N,P){var L;for(L=0;8>L;++L)i(N,P+32*L,v,8)}function Po(v,N){var P,L=8;for(P=0;8>P;++P)L+=v[N+P-32]+v[N-1+32*P];kl(L>>4,v,N)}function Y1(v,N){var P,L=4;for(P=0;8>P;++P)L+=v[N+P-32];kl(L>>3,v,N)}function Tl(v,N){var P,L=4;for(P=0;8>P;++P)L+=v[N-1+32*P];kl(L>>3,v,N)}function mh(v,N){kl(128,v,N)}function eu(v,N,P){var L=v[N-P],q=v[N+0],V=3*(q-L)+tv[1020+v[N-2*P]-v[N+P]],G=yp[112+(V+4>>3)];v[N-P]=Qi[255+L+yp[112+(V+3>>3)]],v[N+0]=Qi[255+q-G]}function lp(v,N,P,L){var q=v[N+0],V=v[N+P];return va[255+v[N-2*P]-v[N-P]]>L||va[255+V-q]>L}function cp(v,N,P,L){return 4*va[255+v[N-P]-v[N+0]]+va[255+v[N-2*P]-v[N+P]]<=L}function up(v,N,P,L,q){var V=v[N-3*P],G=v[N-2*P],K=v[N-P],Z=v[N+0],se=v[N+P],ge=v[N+2*P],Ae=v[N+3*P];return 4*va[255+K-Z]+va[255+G-se]>L?0:va[255+v[N-4*P]-V]<=q&&va[255+V-G]<=q&&va[255+G-K]<=q&&va[255+Ae-ge]<=q&&va[255+ge-se]<=q&&va[255+se-Z]<=q}function dp(v,N,P,L){var q=2*L+1;for(L=0;16>L;++L)cp(v,N+L,P,q)&&eu(v,N+L,P)}function xs(v,N,P,L){var q=2*L+1;for(L=0;16>L;++L)cp(v,N+L*P,1,q)&&eu(v,N+L*P,1)}function Ys(v,N,P,L){var q;for(q=3;0<q;--q)dp(v,N+=4*P,P,L)}function K1(v,N,P,L){var q;for(q=3;0<q;--q)xs(v,N+=4,P,L)}function ko(v,N,P,L,q,V,G,K){for(V=2*V+1;0<q--;){if(up(v,N,P,V,G))if(lp(v,N,P,K))eu(v,N,P);else{var Z=v,se=N,ge=P,Ae=Z[se-2*ge],Ce=Z[se-ge],ye=Z[se+0],Be=Z[se+ge],ke=Z[se+2*ge],ve=27*(Re=tv[1020+3*(ye-Ce)+tv[1020+Ae-Be]])+63>>7,be=18*Re+63>>7,Re=9*Re+63>>7;Z[se-3*ge]=Qi[255+Z[se-3*ge]+Re],Z[se-2*ge]=Qi[255+Ae+be],Z[se-ge]=Qi[255+Ce+ve],Z[se+0]=Qi[255+ye-ve],Z[se+ge]=Qi[255+Be-be],Z[se+2*ge]=Qi[255+ke-Re]}N+=L}}function Ua(v,N,P,L,q,V,G,K){for(V=2*V+1;0<q--;){if(up(v,N,P,V,G))if(lp(v,N,P,K))eu(v,N,P);else{var Z=v,se=N,ge=P,Ae=Z[se-ge],Ce=Z[se+0],ye=Z[se+ge],Be=yp[112+((ke=3*(Ce-Ae))+4>>3)],ke=yp[112+(ke+3>>3)],ve=Be+1>>1;Z[se-2*ge]=Qi[255+Z[se-2*ge]+ve],Z[se-ge]=Qi[255+Ae+ke],Z[se+0]=Qi[255+Ce-Be],Z[se+ge]=Qi[255+ye-ve]}N+=L}}function xh(v,N,P,L,q,V){ko(v,N,P,1,16,L,q,V)}function Il(v,N,P,L,q,V){ko(v,N,1,P,16,L,q,V)}function J1(v,N,P,L,q,V){var G;for(G=3;0<G;--G)Ua(v,N+=4*P,P,1,16,L,q,V)}function tu(v,N,P,L,q,V){var G;for(G=3;0<G;--G)Ua(v,N+=4,1,P,16,L,q,V)}function Q1(v,N,P,L,q,V,G,K){ko(v,N,q,1,8,V,G,K),ko(P,L,q,1,8,V,G,K)}function gh(v,N,P,L,q,V,G,K){ko(v,N,1,q,8,V,G,K),ko(P,L,1,q,8,V,G,K)}function vh(v,N,P,L,q,V,G,K){Ua(v,N+4*q,q,1,8,V,G,K),Ua(P,L+4*q,q,1,8,V,G,K)}function hp(v,N,P,L,q,V,G,K){Ua(v,N+4,1,q,8,V,G,K),Ua(P,L+4,1,q,8,V,G,K)}function ru(){this.ba=new La,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fp(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new E}function Z1(){this.xb=this.a=0,this.l=new Yc,this.ca=new La,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fp,this.ab=0,this.gc=o(4,yh),this.Oc=0}function nu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Dl(v,N,P,L,q,V,G){for(v=v==null?0:v[N+0],N=0;N<G;++N)q[V+N]=v+P[L+N]&255,v=q[V+N]}function wh(v,N,P,L,q,V,G){var K;if(v==null)Dl(null,null,P,L,q,V,G);else for(K=0;K<G;++K)q[V+K]=v[N+K]+P[L+K]&255}function To(v,N,P,L,q,V,G){if(v==null)Dl(null,null,P,L,q,V,G);else{var K,Z=v[N+0],se=Z,ge=Z;for(K=0;K<G;++K)se=ge+(Z=v[N+K])-se,ge=P[L+K]+(-256&se?0>se?0:255:se)&255,se=Z,q[V+K]=ge}}function jh(v,N,P,L){var q=N.width,V=N.o;if(e(v!=null&&N!=null),0>P||0>=L||P+L>V)return null;if(!v.Cc){if(v.ga==null){var G;if(v.ga=new nu,(G=v.ga==null)||(G=N.width*N.o,e(v.Gb.length==0),v.Gb=s(G),v.Uc=0,v.Gb==null?G=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,G=1),G=!G),!G){G=v.ga;var K=v.Fa,Z=v.P,se=v.qc,ge=v.mb,Ae=v.nb,Ce=Z+1,ye=se-1,Be=G.l;if(e(K!=null&&ge!=null&&N!=null),Fo[0]=null,Fo[1]=Dl,Fo[2]=wh,Fo[3]=To,G.ca=ge,G.tb=Ae,G.c=N.width,G.i=N.height,e(0<G.c&&0<G.i),1>=se)N=0;else if(G.$a=K[Z+0]>>0&3,G.Z=K[Z+0]>>2&3,G.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)N=0;else if(Be.put=us,Be.ac=Wn,Be.bc=ds,Be.ma=G,Be.width=N.width,Be.height=N.height,Be.Da=N.Da,Be.v=N.v,Be.va=N.va,Be.j=N.j,Be.o=N.o,G.$a)e:{e(G.$a==1),N=fa();t:for(;;){if(N==null){N=0;break e}if(e(G!=null),G.mc=N,N.c=G.c,N.i=G.i,N.l=G.l,N.l.ma=G,N.l.width=G.c,N.l.height=G.i,N.a=0,X(N.m,K,Ce,ye),!ps(G.c,G.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&Gs(N.s)?(G.ic=1,K=N.c*N.i,N.Ta=null,N.Ua=0,N.V=s(K),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(G.ic=0,N=Pl(N,G.c)),!N))break t;N=1;break e}G.mc=null,N=0}else N=ye>=G.c*G.i;G=!N}if(G)return null;v.ga.Lc!=1?v.Ga=0:L=V-P}e(v.ga!=null),e(P+L<=V);e:{if(N=(K=v.ga).c,V=K.l.o,K.$a==0){if(Ce=v.rc,ye=v.Vc,Be=v.Fa,Z=v.P+1+P*N,se=v.mb,ge=v.nb+P*N,e(Z<=v.P+v.qc),K.Z!=0)for(e(Fo[K.Z]!=null),G=0;G<L;++G)Fo[K.Z](Ce,ye,Be,Z,se,ge,N),Ce=se,ye=ge,ge+=N,Z+=N;else for(G=0;G<L;++G)n(se,ge,Be,Z,N),Ce=se,ye=ge,ge+=N,Z+=N;v.rc=Ce,v.Vc=ye}else{if(e(K.mc!=null),N=P+L,e((G=K.mc)!=null),e(N<=G.i),G.C>=N)N=1;else if(K.ic||Ne(),K.ic){K=G.V,Ce=G.Ba,ye=G.c;var ke=G.i,ve=(Be=1,Z=G.$/ye,se=G.$%ye,ge=G.m,Ae=G.s,G.$),be=ye*ke,Re=ye*N,$e=Ae.wc,Fe=ve<Re?nn(Ae,se,Z):null;e(ve<=be),e(N<=ke),e(Gs(Ae));t:for(;;){for(;!ge.h&&ve<Re;){if(se&$e||(Fe=nn(Ae,se,Z)),e(Fe!=null),Q(ge),256>(ke=Ti(Fe.G[0],Fe.H[0],ge)))K[Ce+ve]=ke,++ve,++se>=ye&&(se=0,++Z<=N&&!(Z%16)&&Ba(G,Z));else{if(!(280>ke)){Be=0;break t}ke=Ra(ke-256,ge);var Je,Ve=Ti(Fe.G[4],Fe.H[4],ge);if(Q(ge),!(ve>=(Ve=hs(ye,Ve=Ra(Ve,ge)))&&be-ve>=ke)){Be=0;break t}for(Je=0;Je<ke;++Je)K[Ce+ve+Je]=K[Ce+ve+Je-Ve];for(ve+=ke,se+=ke;se>=ye;)se-=ye,++Z<=N&&!(Z%16)&&Ba(G,Z);ve<Re&&se&$e&&(Fe=nn(Ae,se,Z))}e(ge.h==U(ge))}Ba(G,Z>N?N:Z);break t}!Be||ge.h&&ve<be?(Be=0,G.a=ge.h?5:3):G.$=ve,N=Be}else N=$a(G,G.V,G.Ba,G.c,G.i,N,Hc);if(!N){L=0;break e}}P+L>=V&&(v.Cc=1),L=1}if(!L)return null;if(v.Cc&&((L=v.ga)!=null&&(L.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+P*q}function C(v,N,P,L,q,V){for(;0<q--;){var G,K=v,Z=N+(P?1:0),se=v,ge=N+(P?0:3);for(G=0;G<L;++G){var Ae=se[ge+4*G];Ae!=255&&(Ae*=32897,K[Z+4*G+0]=K[Z+4*G+0]*Ae>>23,K[Z+4*G+1]=K[Z+4*G+1]*Ae>>23,K[Z+4*G+2]=K[Z+4*G+2]*Ae>>23)}N+=V}}function H(v,N,P,L,q){for(;0<L--;){var V;for(V=0;V<P;++V){var G=v[N+2*V+0],K=15&(se=v[N+2*V+1]),Z=4369*K,se=(240&se|se>>4)*Z>>16;v[N+2*V+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,v[N+2*V+1]=240&se|K}N+=q}}function ce(v,N,P,L,q,V,G,K){var Z,se,ge=255;for(se=0;se<q;++se){for(Z=0;Z<L;++Z){var Ae=v[N+Z];V[G+4*Z]=Ae,ge&=Ae}N+=P,G+=K}return ge!=255}function pe(v,N,P,L,q){var V;for(V=0;V<q;++V)P[L+V]=v[N+V]>>8}function Ne(){ga=C,br=H,yr=ce,Yr=pe}function Te(v,N,P){O[v]=function(L,q,V,G,K,Z,se,ge,Ae,Ce,ye,Be,ke,ve,be,Re,$e){var Fe,Je=$e-1>>1,Ve=K[Z+0]|se[ge+0]<<16,ct=Ae[Ce+0]|ye[Be+0]<<16;e(L!=null);var Xe=3*Ve+ct+131074>>2;for(N(L[q+0],255&Xe,Xe>>16,ke,ve),V!=null&&(Xe=3*ct+Ve+131074>>2,N(V[G+0],255&Xe,Xe>>16,be,Re)),Fe=1;Fe<=Je;++Fe){var Gt=K[Z+Fe]|se[ge+Fe]<<16,tr=Ae[Ce+Fe]|ye[Be+Fe]<<16,Ut=Ve+Gt+ct+tr+524296,It=Ut+2*(Gt+ct)>>3;Xe=It+Ve>>1,Ve=(Ut=Ut+2*(Ve+tr)>>3)+Gt>>1,N(L[q+2*Fe-1],255&Xe,Xe>>16,ke,ve+(2*Fe-1)*P),N(L[q+2*Fe-0],255&Ve,Ve>>16,ke,ve+(2*Fe-0)*P),V!=null&&(Xe=Ut+ct>>1,Ve=It+tr>>1,N(V[G+2*Fe-1],255&Xe,Xe>>16,be,Re+(2*Fe-1)*P),N(V[G+2*Fe+0],255&Ve,Ve>>16,be,Re+(2*Fe+0)*P)),Ve=Gt,ct=tr}1&$e||(Xe=3*Ve+ct+131074>>2,N(L[q+$e-1],255&Xe,Xe>>16,ke,ve+($e-1)*P),V!=null&&(Xe=3*ct+Ve+131074>>2,N(V[G+$e-1],255&Xe,Xe>>16,be,Re+($e-1)*P)))}}function ze(){ba[wp]=uI,ba[jp]=gj,ba[hj]=dI,ba[Np]=vj,ba[_p]=bj,ba[rv]=yj,ba[fj]=hI,ba[nv]=gj,ba[iv]=vj,ba[Sp]=bj,ba[av]=yj}function Ye(v){return v&~fI?0>v?0:255:v>>wj}function at(v,N){return Ye((19077*v>>8)+(26149*N>>8)-14234)}function Nt(v,N,P){return Ye((19077*v>>8)-(6419*N>>8)-(13320*P>>8)+8708)}function vt(v,N){return Ye((19077*v>>8)+(33050*N>>8)-17685)}function $t(v,N,P,L,q){L[q+0]=at(v,P),L[q+1]=Nt(v,N,P),L[q+2]=vt(v,N)}function Rr(v,N,P,L,q){L[q+0]=vt(v,N),L[q+1]=Nt(v,N,P),L[q+2]=at(v,P)}function Ur(v,N,P,L,q){var V=Nt(v,N,P);N=V<<3&224|vt(v,N)>>3,L[q+0]=248&at(v,P)|V>>5,L[q+1]=N}function an(v,N,P,L,q){var V=240&vt(v,N)|15;L[q+0]=240&at(v,P)|Nt(v,N,P)>>4,L[q+1]=V}function ii(v,N,P,L,q){L[q+0]=255,$t(v,N,P,L,q+1)}function kn(v,N,P,L,q){Rr(v,N,P,L,q),L[q+3]=255}function qa(v,N,P,L,q){$t(v,N,P,L,q),L[q+3]=255}function Ji(v,N){return 0>v?0:v>N?N:v}function gs(v,N,P){O[v]=function(L,q,V,G,K,Z,se,ge,Ae){for(var Ce=ge+(-2&Ae)*P;ge!=Ce;)N(L[q+0],V[G+0],K[Z+0],se,ge),N(L[q+1],V[G+0],K[Z+0],se,ge+P),q+=2,++G,++Z,ge+=2*P;1&Ae&&N(L[q+0],V[G+0],K[Z+0],se,ge)}}function pp(v,N,P){return P==0?v==0?N==0?6:5:N==0?4:0:P}function Nh(v,N,P,L,q){switch(v>>>30){case 3:Qs(N,P,L,q,0);break;case 2:Xr(N,P,L,q);break;case 1:bi(N,P,L,q)}}function _h(v,N){var P,L,q=N.M,V=N.Nb,G=v.oc,K=v.pc+40,Z=v.oc,se=v.pc+584,ge=v.oc,Ae=v.pc+600;for(P=0;16>P;++P)G[K+32*P-1]=129;for(P=0;8>P;++P)Z[se+32*P-1]=129,ge[Ae+32*P-1]=129;for(0<q?G[K-1-32]=Z[se-1-32]=ge[Ae-1-32]=129:(i(G,K-32-1,127,21),i(Z,se-32-1,127,9),i(ge,Ae-32-1,127,9)),L=0;L<v.za;++L){var Ce=N.ya[N.aa+L];if(0<L){for(P=-1;16>P;++P)n(G,K+32*P-4,G,K+32*P+12,4);for(P=-1;8>P;++P)n(Z,se+32*P-4,Z,se+32*P+4,4),n(ge,Ae+32*P-4,ge,Ae+32*P+4,4)}var ye=v.Gd,Be=v.Hd+L,ke=Ce.ad,ve=Ce.Hc;if(0<q&&(n(G,K-32,ye[Be].y,0,16),n(Z,se-32,ye[Be].f,0,8),n(ge,Ae-32,ye[Be].ea,0,8)),Ce.Za){var be=G,Re=K-32+16;for(0<q&&(L>=v.za-1?i(be,Re,ye[Be].y[15],4):n(be,Re,ye[Be+1].y,0,4)),P=0;4>P;P++)be[Re+128+P]=be[Re+256+P]=be[Re+384+P]=be[Re+0+P];for(P=0;16>P;++P,ve<<=2)be=G,Re=K+Nj[P],Ha[Ce.Ob[P]](be,Re),Nh(ve,ke,16*+P,be,Re)}else if(be=pp(L,q,Ce.Ob[0]),Ro[be](G,K),ve!=0)for(P=0;16>P;++P,ve<<=2)Nh(ve,ke,16*+P,G,K+Nj[P]);for(P=Ce.Gc,be=pp(L,q,Ce.Dd),eo[be](Z,se),eo[be](ge,Ae),ve=ke,be=Z,Re=se,255&(Ce=P>>0)&&(170&Ce?Oh(ve,256,be,Re):ma(ve,256,be,Re)),Ce=ge,ve=Ae,255&(P>>=8)&&(170&P?Oh(ke,320,Ce,ve):ma(ke,320,Ce,ve)),q<v.Ub-1&&(n(ye[Be].y,0,G,K+480,16),n(ye[Be].f,0,Z,se+224,8),n(ye[Be].ea,0,ge,Ae+224,8)),P=8*V*v.B,ye=v.sa,Be=v.ta+16*L+16*V*v.R,ke=v.qa,Ce=v.ra+8*L+P,ve=v.Ha,be=v.Ia+8*L+P,P=0;16>P;++P)n(ye,Be+P*v.R,G,K+32*P,16);for(P=0;8>P;++P)n(ke,Ce+P*v.B,Z,se+32*P,8),n(ve,be+P*v.B,ge,Ae+32*P,8)}}function iu(v,N,P,L,q,V,G,K,Z){var se=[0],ge=[0],Ae=0,Ce=Z!=null?Z.kd:0,ye=Z??new bh;if(v==null||12>P)return 7;ye.data=v,ye.w=N,ye.ha=P,N=[N],P=[P],ye.gb=[ye.gb];e:{var Be=N,ke=P,ve=ye.gb;if(e(v!=null),e(ke!=null),e(ve!=null),ve[0]=0,12<=ke[0]&&!r(v,Be[0],"RIFF")){if(r(v,Be[0]+8,"WEBP")){ve=3;break e}var be=Pe(v,Be[0]+4);if(12>be||4294967286<be){ve=3;break e}if(Ce&&be>ke[0]-8){ve=7;break e}ve[0]=be,Be[0]+=12,ke[0]-=12}ve=0}if(ve!=0)return ve;for(be=0<ye.gb[0],P=P[0];;){e:{var Re=v;ke=N,ve=P;var $e=se,Fe=ge,Je=Be=[0];if((Xe=Ae=[Ae])[0]=0,8>ve[0])ve=7;else{if(!r(Re,ke[0],"VP8X")){if(Pe(Re,ke[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var Ve=Pe(Re,ke[0]+8),ct=1+ae(Re,ke[0]+12);if(2147483648<=ct*(Re=1+ae(Re,ke[0]+15))){ve=3;break e}Je!=null&&(Je[0]=Ve),$e!=null&&($e[0]=ct),Fe!=null&&(Fe[0]=Re),ke[0]+=18,ve[0]-=18,Xe[0]=1}ve=0}}if(Ae=Ae[0],Be=Be[0],ve!=0)return ve;if(ke=!!(2&Be),!be&&Ae)return 3;if(V!=null&&(V[0]=!!(16&Be)),G!=null&&(G[0]=ke),K!=null&&(K[0]=0),G=se[0],Be=ge[0],Ae&&ke&&Z==null){ve=0;break}if(4>P){ve=7;break}if(be&&Ae||!be&&!Ae&&!r(v,N[0],"ALPH")){P=[P],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Ve=v,ve=N,be=P;var Xe=ye.gb;$e=ye.na,Fe=ye.P,Je=ye.Sa,ct=22,e(Ve!=null),e(be!=null),Re=ve[0];var Gt=be[0];for(e($e!=null),e(Je!=null),$e[0]=null,Fe[0]=null,Je[0]=0;;){if(ve[0]=Re,be[0]=Gt,8>Gt){ve=7;break e}var tr=Pe(Ve,Re+4);if(4294967286<tr){ve=3;break e}var Ut=8+tr+1&-2;if(ct+=Ut,0<Xe&&ct>Xe){ve=3;break e}if(!r(Ve,Re,"VP8 ")||!r(Ve,Re,"VP8L")){ve=0;break e}if(Gt[0]<Ut){ve=7;break e}r(Ve,Re,"ALPH")||($e[0]=Ve,Fe[0]=Re+8,Je[0]=tr),Re+=Ut,Gt-=Ut}}if(P=P[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],ve!=0)break}P=[P],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(Xe=v,ve=N,be=P,$e=ye.gb[0],Fe=ye.Ja,Je=ye.xa,Ve=ve[0],Re=!r(Xe,Ve,"VP8 "),ct=!r(Xe,Ve,"VP8L"),e(Xe!=null),e(be!=null),e(Fe!=null),e(Je!=null),8>be[0])ve=7;else{if(Re||ct){if(Xe=Pe(Xe,Ve+4),12<=$e&&Xe>$e-12){ve=3;break e}if(Ce&&Xe>be[0]-8){ve=7;break e}Fe[0]=Xe,ve[0]+=8,be[0]-=8,Je[0]=ct}else Je[0]=5<=be[0]&&Xe[Ve+0]==47&&!(Xe[Ve+4]>>5),Fe[0]=be[0];ve=0}if(P=P[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],N=N[0],ve!=0)break;if(4294967286<ye.Ja)return 3;if(K==null||ke||(K[0]=ye.xa?2:1),G=[G],Be=[Be],ye.xa){if(5>P){ve=7;break}K=G,Ce=Be,ke=V,v==null||5>P?v=0:5<=P&&v[N+0]==47&&!(v[N+4]>>5)?(be=[0],Xe=[0],$e=[0],X(Fe=new D,v,N,P),ht(Fe,be,Xe,$e)?(K!=null&&(K[0]=be[0]),Ce!=null&&(Ce[0]=Xe[0]),ke!=null&&(ke[0]=$e[0]),v=1):v=0):v=0}else{if(10>P){ve=7;break}K=Be,v==null||10>P||!Q0(v,N+3,P-3)?v=0:(Ce=v[N+0]|v[N+1]<<8|v[N+2]<<16,ke=16383&(v[N+7]<<8|v[N+6]),v=16383&(v[N+9]<<8|v[N+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=ye.Ja||!ke||!v?v=0:(G&&(G[0]=ke),K&&(K[0]=v),v=1))}if(!v||(G=G[0],Be=Be[0],Ae&&(se[0]!=G||ge[0]!=Be)))return 3;Z!=null&&(Z[0]=ye,Z.offset=N-Z.w,e(4294967286>N-Z.w),e(Z.offset==Z.ha-P));break}return ve==0||ve==7&&Ae&&Z==null?(V!=null&&(V[0]|=ye.na!=null&&0<ye.na.length),L!=null&&(L[0]=G),q!=null&&(q[0]=Be),0):ve}function Sh(v,N,P){var L=N.width,q=N.height,V=0,G=0,K=L,Z=q;if(N.Da=v!=null&&0<v.Da,N.Da&&(K=v.cd,Z=v.bd,V=v.v,G=v.j,11>P||(V&=-2,G&=-2),0>V||0>G||0>=K||0>=Z||V+K>L||G+Z>q))return 0;if(N.v=V,N.j=G,N.va=V+K,N.o=G+Z,N.U=K,N.T=Z,N.da=v!=null&&0<v.da,N.da){if(!Ue(K,Z,P=[v.ib],V=[v.hb]))return 0;N.ib=P[0],N.hb=V[0]}return N.ob=v!=null&&v.ob,N.Kb=v==null||!v.Sd,N.da&&(N.ob=N.ib<3*L/4&&N.hb<3*q/4,N.Kb=0),1}function Ah(v){if(v==null)return 2;if(11>v.S){var N=v.f.RGBA;N.fb+=(v.height-1)*N.A,N.A=-N.A}else N=v.f.kb,v=v.height,N.O+=(v-1)*N.fa,N.fa=-N.fa,N.N+=(v-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(v-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(v-1)*N.lb,N.lb=-N.lb);return 0}function au(v,N,P,L){if(L==null||0>=v||0>=N)return 2;if(P!=null){if(P.Da){var q=P.cd,V=P.bd,G=-2&P.v,K=-2&P.j;if(0>G||0>K||0>=q||0>=V||G+q>v||K+V>N)return 2;v=q,N=V}if(P.da){if(!Ue(v,N,q=[P.ib],V=[P.hb]))return 2;v=q[0],N=V[0]}}L.width=v,L.height=N;e:{var Z=L.width,se=L.height;if(v=L.S,0>=Z||0>=se||!(v>=wp&&13>v))v=2;else{if(0>=L.Rd&&L.sd==null){G=V=q=N=0;var ge=(K=Z*_j[v])*se;if(11>v||(V=(se+1)/2*(N=(Z+1)/2),v==12&&(G=(q=Z)*se)),(se=s(ge+2*V+G))==null){v=1;break e}L.sd=se,11>v?((Z=L.f.RGBA).eb=se,Z.fb=0,Z.A=K,Z.size=ge):((Z=L.f.kb).y=se,Z.O=0,Z.fa=K,Z.Fd=ge,Z.f=se,Z.N=0+ge,Z.Ab=N,Z.Cd=V,Z.ea=se,Z.W=0+ge+V,Z.Db=N,Z.Ed=V,v==12&&(Z.F=se,Z.J=0+ge+2*V),Z.Tc=G,Z.lb=q)}if(N=1,q=L.S,V=L.width,G=L.height,q>=wp&&13>q)if(11>q)v=L.f.RGBA,N&=(K=Math.abs(v.A))*(G-1)+V<=v.size,N&=K>=V*_j[q],N&=v.eb!=null;else{v=L.f.kb,K=(V+1)/2,ge=(G+1)/2,Z=Math.abs(v.fa),se=Math.abs(v.Ab);var Ae=Math.abs(v.Db),Ce=Math.abs(v.lb),ye=Ce*(G-1)+V;N&=Z*(G-1)+V<=v.Fd,N&=se*(ge-1)+K<=v.Cd,N=(N&=Ae*(ge-1)+K<=v.Ed)&Z>=V&se>=K&Ae>=K,N&=v.y!=null,N&=v.f!=null,N&=v.ea!=null,q==12&&(N&=Ce>=V,N&=ye<=v.Tc,N&=v.F!=null)}else N=0;v=N?0:2}}return v!=0||P!=null&&P.fd&&(v=Ah(L)),v}var Vn=64,su=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ou=24,lu=32,Ch=8,Di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ue("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(v){return v},O.Predictor2=function(v,N,P){return N[P+0]},O.Predictor3=function(v,N,P){return N[P+1]},O.Predictor4=function(v,N,P){return N[P-1]},O.Predictor5=function(v,N,P){return je(je(v,N[P+1]),N[P+0])},O.Predictor6=function(v,N,P){return je(v,N[P-1])},O.Predictor7=function(v,N,P){return je(v,N[P+0])},O.Predictor8=function(v,N,P){return je(N[P-1],N[P+0])},O.Predictor9=function(v,N,P){return je(N[P+0],N[P+1])},O.Predictor10=function(v,N,P){return je(je(v,N[P-1]),je(N[P+0],N[P+1]))},O.Predictor11=function(v,N,P){var L=N[P+0];return 0>=qe(L>>24&255,v>>24&255,(N=N[P-1])>>24&255)+qe(L>>16&255,v>>16&255,N>>16&255)+qe(L>>8&255,v>>8&255,N>>8&255)+qe(255&L,255&v,255&N)?L:v},O.Predictor12=function(v,N,P){var L=N[P+0];return(me((v>>24&255)+(L>>24&255)-((N=N[P-1])>>24&255))<<24|me((v>>16&255)+(L>>16&255)-(N>>16&255))<<16|me((v>>8&255)+(L>>8&255)-(N>>8&255))<<8|me((255&v)+(255&L)-(255&N)))>>>0},O.Predictor13=function(v,N,P){var L=N[P-1];return(Le((v=je(v,N[P+0]))>>24&255,L>>24&255)<<24|Le(v>>16&255,L>>16&255)<<16|Le(v>>8&255,L>>8&255)<<8|Le(v>>0&255,L>>0&255))>>>0};var ev=O.PredictorAdd0;O.PredictorAdd1=Ke,ue("Predictor2","PredictorAdd2"),ue("Predictor3","PredictorAdd3"),ue("Predictor4","PredictorAdd4"),ue("Predictor5","PredictorAdd5"),ue("Predictor6","PredictorAdd6"),ue("Predictor7","PredictorAdd7"),ue("Predictor8","PredictorAdd8"),ue("Predictor9","PredictorAdd9"),ue("Predictor10","PredictorAdd10"),ue("Predictor11","PredictorAdd11"),ue("Predictor12","PredictorAdd12"),ue("Predictor13","PredictorAdd13");var Eh=O.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var mp,pa=O.ColorIndexInverseTransform,cu=O.MapARGB,xp=O.VP8LColorIndexInverseTransformAlpha,gp=O.MapAlpha,Io=O.VP8LPredictorsAdd=[];Io.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Ml,Mi,vi,Do,Ks,Js,uu,Qs,Xr,Oh,bi,ma,du,vp,Ph,Ll,Rl,Mo,Fl,hu,Bl,Lo,kh,xa,ga,br,yr,Yr,mn=s(511),Zs=s(2041),Th=s(225),fu=s(767),bp=0,tv=Zs,yp=Th,Qi=fu,va=mn,wp=0,jp=1,hj=2,Np=3,_p=4,rv=5,fj=6,nv=7,iv=8,Sp=9,av=10,KT=[2,3,7],JT=[3,3,11],pj=[280,256,256,256,40],QT=[0,1,1,1,0],ZT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eI=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rI=8,sv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ov=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ih=null,nI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],iI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],aI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],oI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ro=[],Ha=[],eo=[],cI=1,xj=2,Fo=[],ba=[];Te("UpsampleRgbLinePair",$t,3),Te("UpsampleBgrLinePair",Rr,3),Te("UpsampleRgbaLinePair",qa,4),Te("UpsampleBgraLinePair",kn,4),Te("UpsampleArgbLinePair",ii,4),Te("UpsampleRgba4444LinePair",an,2),Te("UpsampleRgb565LinePair",Ur,2);var uI=O.UpsampleRgbLinePair,dI=O.UpsampleBgrLinePair,gj=O.UpsampleRgbaLinePair,vj=O.UpsampleBgraLinePair,bj=O.UpsampleArgbLinePair,yj=O.UpsampleRgba4444LinePair,hI=O.UpsampleRgb565LinePair,Ap=16,Cp=1<<Ap-1,Dh=-227,lv=482,wj=6,fI=(256<<wj)-1,jj=0,pI=s(256),mI=s(256),xI=s(256),gI=s(256),vI=s(lv-Dh),bI=s(lv-Dh);gs("YuvToRgbRow",$t,3),gs("YuvToBgrRow",Rr,3),gs("YuvToRgbaRow",qa,4),gs("YuvToBgraRow",kn,4),gs("YuvToArgbRow",ii,4),gs("YuvToRgba4444Row",an,2),gs("YuvToRgb565Row",Ur,2);var Nj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ep=[0,2,8],yI=[8,7,6,4,4,2,2,2,1,1,1,1],wI=1;this.WebPDecodeRGBA=function(v,N,P,L,q){var V=jp,G=new ru,K=new La;G.ba=K,K.S=V,K.width=[K.width],K.height=[K.height];var Z=K.width,se=K.height,ge=new Vs;if(ge==null||v==null)var Ae=2;else e(ge!=null),Ae=iu(v,N,P,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ae!=0?Z=0:(Z!=null&&(Z[0]=ge.width[0]),se!=null&&(se[0]=ge.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),q!=null&&(q[0]=K.height);e:{if(L=new Yc,(q=new bh).data=v,q.w=N,q.ha=P,q.kd=1,N=[0],e(q!=null),((v=iu(q.data,q.w,q.ha,null,null,null,N,null,q))==0||v==7)&&N[0]&&(v=4),(N=v)==0){if(e(G!=null),L.data=q.data,L.w=q.w+q.offset,L.ha=q.ha-q.offset,L.put=us,L.ac=Wn,L.bc=ds,L.ma=G,q.xa){if((v=fa())==null){G=1;break e}if(function(Ce,ye){var Be=[0],ke=[0],ve=[0];t:for(;;){if(Ce==null)return 0;if(ye==null)return Ce.a=2,0;if(Ce.l=ye,Ce.a=0,X(Ce.m,ye.data,ye.w,ye.ha),!ht(Ce.m,Be,ke,ve)){Ce.a=3;break t}if(Ce.xb=xj,ye.width=Be[0],ye.height=ke[0],!ps(Be[0],ke[0],1,Ce,null))break t;return 1}return e(Ce.a!=0),0}(v,L)){if(L=(N=au(L.width,L.height,G.Oa,G.ba))==0){t:{L=v;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((P=L.l)!=null),e((q=P.ma)!=null),L.xb!=0){if(L.ca=q.ba,L.tb=q.tb,e(L.ca!=null),!Sh(q.Oa,P,Np)){L.a=2;break r}if(!Pl(L,P.width)||P.da)break r;if((P.da||Jt(L.ca.S))&&Ne(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Ne()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!De(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!$a(L,L.V,L.Ba,L.c,L.i,P.o,qc))break r;q.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(N=v.a)}else N=v.a}else{if((v=new M1)==null){G=1;break e}if(v.Fa=q.na,v.P=q.P,v.qc=q.Sa,Z0(v,L)){if((N=au(L.width,L.height,G.Oa,G.ba))==0){if(v.Aa=0,P=G.Oa,e((q=v)!=null),P!=null){if(0<(Z=0>(Z=P.Md)?0:100<Z?255:255*Z/100)){for(se=ge=0;4>se;++se)12>(Ae=q.pb[se]).lc&&(Ae.ia=Z*yI[0>Ae.lc?0:Ae.lc]>>3),ge|=Ae.ia;ge&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}L1(v,L)||(N=v.a)}}else N=v.a}N==0&&G.Oa!=null&&G.Oa.fd&&(N=Ah(G.ba))}G=N}V=G!=0?null:11>V?K.f.RGBA.eb:K.f.kb.y}else V=null;return V};var _j=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,M){for(var B="",T=0;T<4;T++)B+=String.fromCharCode(O[M++]);return B}function d(O,M){return(O[M+0]<<0|O[M+1]<<8|O[M+2]<<16)>>>0}function h(O,M){return(O[M+0]<<0|O[M+1]<<8|O[M+2]<<16|O[M+3]<<24)>>>0}new c;var f=[0],p=[0],m=[],x=new c,g=t,b=function(O,M){var B={},T=0,E=!1,R=0,F=0;if(B.frames=[],!function(I,U,J,Q){for(var de=0;de<Q;de++)if(I[U+de]!=J.charCodeAt(de))return!0;return!1}(O,M,"RIFF",4)){var W,$;for(h(O,M+=4),M+=8;M<O.length;){var z=u(O,M),X=h(O,M+=4);M+=4;var Y=X+(1&X);switch(z){case"VP8 ":case"VP8L":B.frames[T]===void 0&&(B.frames[T]={}),(D=B.frames[T]).src_off=E?F:M-8,D.src_size=R+X+8,T++,E&&(E=!1,R=0,F=0);break;case"VP8X":(D=B.header={}).feature_flags=O[M];var oe=M+4;D.canvas_width=1+d(O,oe),oe+=3,D.canvas_height=1+d(O,oe),oe+=3;break;case"ALPH":E=!0,R=Y+8,F=M-8;break;case"ANIM":(D=B.header).bgcolor=h(O,M),oe=M+4,D.loop_count=(W=O)[($=oe)+0]<<0|W[$+1]<<8,oe+=2;break;case"ANMF":var fe,D;(D=B.frames[T]={}).offset_x=2*d(O,M),M+=3,D.offset_y=2*d(O,M),M+=3,D.width=1+d(O,M),M+=3,D.height=1+d(O,M),M+=3,D.duration=d(O,M),M+=3,fe=O[M++],D.dispose=1&fe,D.blend=fe>>1&1}z!="ANMF"&&(M+=Y)}return B}}(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,w=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],p=[y.canvas_width];for(var j=0;j<w.length&&w[j].blend!=0;j++);}var _=w[0],S=x.WebPDecodeRGBA(g,_.src_off,_.src_size,p,f);_.rgba=S,_.imgwidth=p[0],_.imgheight=f[0];for(var A=0;A<p[0]*f[0]*4;A++)m[A]=S[A];return this.width=p,this.height=f,this.data=m,this}(function(t){var e=function(){return typeof H2=="function"},r=function(f,p,m,x){var g=4,b=o;switch(x){case t.image_compression.FAST:g=1,b=s;break;case t.image_compression.MEDIUM:g=6,b=l;break;case t.image_compression.SLOW:g=9,b=c}f=n(f,p,m,b);var y=H2(f,{level:g});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(f,p,m,x){for(var g,b,y,w=f.length/p,j=new Uint8Array(f.length+w),_=d(),S=0;S<w;S+=1){if(y=S*p,g=f.subarray(y,y+p),x)j.set(x(g,m,b),y+S);else{for(var A,O=_.length,M=[];A<O;A+=1)M[A]=_[A](g,m,b);var B=h(M.concat());j.set(M[B],y+S)}b=g}return j},i=function(f){var p=Array.apply([],f);return p.unshift(0),p},s=function(f,p){var m,x=[],g=f.length;x[0]=1;for(var b=0;b<g;b+=1)m=f[b-p]||0,x[b+1]=f[b]-m+256&255;return x},o=function(f,p,m){var x,g=[],b=f.length;g[0]=2;for(var y=0;y<b;y+=1)x=m&&m[y]||0,g[y+1]=f[y]-x+256&255;return g},l=function(f,p,m){var x,g,b=[],y=f.length;b[0]=3;for(var w=0;w<y;w+=1)x=f[w-p]||0,g=m&&m[w]||0,b[w+1]=f[w]+256-(x+g>>>1)&255;return b},c=function(f,p,m){var x,g,b,y,w=[],j=f.length;w[0]=4;for(var _=0;_<j;_+=1)x=f[_-p]||0,g=m&&m[_]||0,b=m&&m[_-p]||0,y=u(x,g,b),w[_+1]=f[_]-y+256&255;return w},u=function(f,p,m){if(f===p&&p===m)return f;var x=Math.abs(p-m),g=Math.abs(f-m),b=Math.abs(f+p-m-m);return x<=g&&x<=b?f:g<=b?p:m},d=function(){return[i,s,o,l,c]},h=function(f){var p=f.map(function(m){return m.reduce(function(x,g){return x+Math.abs(g)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(f,p,m,x){var g,b,y,w,j,_,S,A,O,M,B,T,E,R,F,W=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new pme(f)).imgData,b=y.bits,g=y.colorSpace,j=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){O=(A=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,B=new Uint8Array(O*y.colors),M=new Uint8Array(O);var z,X=y.pixelBitlength-y.bits;for(R=0,F=0;R<O;R++){for(E=A[R],z=0;z<X;)B[F++]=E>>>z&255,z+=y.bits;M[R]=E>>>z&255}}if(y.bits===16){O=(A=new Uint32Array(y.decodePixels().buffer)).length,B=new Uint8Array(O*(32/y.pixelBitlength)*y.colors),M=new Uint8Array(O*(32/y.pixelBitlength)),T=y.colors>1,R=0,F=0;for(var Y=0;R<O;)E=A[R++],B[F++]=E>>>0&255,T&&(B[F++]=E>>>16&255,E=A[R++],B[F++]=E>>>0&255),M[Y++]=E>>>16&255;b=8}x!==t.image_compression.NONE&&e()?(f=r(B,y.width*y.colors,y.colors,x),S=r(M,y.width,1,x)):(f=B,S=M,W=void 0)}if(y.colorType===3&&(g=this.color_spaces.INDEXED,_=y.palette,y.transparency.indexed)){var oe=y.transparency.indexed,fe=0;for(R=0,O=oe.length;R<O;++R)fe+=oe[R];if((fe/=255)===O-1&&oe.indexOf(0)!==-1)w=[oe.indexOf(0)];else if(fe!==O){for(A=y.decodePixels(),M=new Uint8Array(A.length),R=0,O=A.length;R<O;R++)M[R]=oe[A[R]];S=r(M,y.width,1)}}var D=function(I){var U;switch(I){case t.image_compression.FAST:U=11;break;case t.image_compression.MEDIUM:U=13;break;case t.image_compression.SLOW:U=14;break;default:U=12}return U}(x);return W===this.decode.FLATE_DECODE&&($="/Predictor "+D+" "),$+="/Colors "+j+" /BitsPerComponent "+b+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:m,data:f,index:p,filter:W,decodeParameters:$,transparency:w,palette:_,sMask:S,predictor:D,width:y.width,height:y.height,bitsPerComponent:b,colorSpace:g}}}})(st.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new mme(e),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Eb(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(st.API),Xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){mr.log("bit decode error:"+r)}},Xa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Xa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Xa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Xa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},Xa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},Xa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Xa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Xa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Xa(e,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new Eb(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(st.API),mA.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new mA(e),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new Eb(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(st.API),st.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=n[u],h=n[u+1],f=n[u+2],p=n[u+3];s[l++]=d,s[l++]=h,s[l++]=f,o[c++]=p}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},st.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pu=st.API,xm=Pu.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,f=0,p=t.length,m=0,x=l[0]||c,g=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(f=h&&or(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,g.push((l[n]||x)/c+f)),m=n;return g},dA=Pu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Pu.processArabic&&(t=Pu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:xm.apply(this,arguments).reduce(function(s,o){return s+o},0)},hA=function(t,e,r,n){for(var i=[],s=0,o=t.length,l=0;s!==o&&l+e[s]<r;)l+=e[s],s++;i.push(t.slice(0,s));var c=s;for(l=0;s!==o;)l+e[s]>n&&(i.push(t.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},fA=function(t,e,r){r||(r={});var n,i,s,o,l,c,u,d=[],h=[d],f=r.textIndent||0,p=0,m=0,x=t.split(" "),g=xm.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),y=[];x.map(function(j){(j=j.split(/\s*\n/)).length>1?y=y.concat(j.map(function(_,S){return(S&&_.length?`
`:"")+_})):y.push(j[0])}),x=y,c=dA.apply(this,[b,r])}for(s=0,o=x.length;s<o;s++){var w=0;if(n=x[s],c&&n[0]==`
`&&(n=n.substr(1),w=1),f+p+(m=(i=xm.apply(this,[n,r])).reduce(function(j,_){return j+_},0))>e||w){if(m>e){for(l=hA.apply(this,[n,i,e-(f+p),e]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);m=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,_){return j+_},0)}else d=[n];h.push(d),f=m+c,p=g}else d.push(n),f+=p+m,p=g}return u=c?function(j,_){return(_?b:"")+j.join(" ")}:function(j){return j.join(" ")},h.map(u)},Pu.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(fA.apply(this,[n[l],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var f,p,m,x,g=["{"];for(var b in h){if(f=h[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=s(b).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof f=="number")f<0?(m=s(f).slice(3),x="-"):(m=s(f).slice(2),x=""),m=x+m.slice(0,-1)+n[m.slice(-1)];else{if(or(f)!=="object")throw new Error("Don't know what to do with value type "+or(f)+".");m=o(f)}g.push(p+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,m,x,g={},b=1,y=g,w=[],j="",_="",S=h.length-1,A=1;A<S;A+=1)(x=h[A])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(w.push([y,m]),y={},m=void 0):x=="}"?((p=w.pop())[0][p[1]]=y,m=void 0,y=p[0]):x=="-"?b=-1:m===void 0?r.hasOwnProperty(x)?(j+=r[x],m=parseInt(j,16)*b,b=1,j=""):j+=x:r.hasOwnProperty(x)?(_+=r[x],y[m]=parseInt(_,16)*b,b=1,m=void 0,_=""):_+=x;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(st.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(jf(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(st),function(t){function e(){return(pt.canvg?Promise.resolve(pt.canvg):Bs(()=>import("./index.es-DfhAZ7Cg.js"),__vite__mapDeps([0,1]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}st.API.addSvgAsImage=function(r,n,i,s,o,l,c,u){if(isNaN(n)||isNaN(i))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(m){return m.fromString(h,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,i,s,o,c,u)})}}(),st.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},st.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function f(m,x){var g,b=!1;for(g=0;g<m.length;g+=1)m[g]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(or(t)==="object"){for(i in t)if(s=t[i],f(l,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&f(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,x=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?x.push("/"+m+" /"+r[m].value):x.push("/"+m+" "+r[m].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(st.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=s.length;h<f;++h){if(l=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(s).sort(function(p,m){return p-m})).length;h<f;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var x=u();d({data:p,addLength1:!0,objectId:x}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Bu(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Bu(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+Bu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var m=u();d({data:f,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Bu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Bu(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},h=s.mutex||{},f=h.pdfEscape,p=h.activeFontKey,m=h.fonts,x=p,g="",b=0,y="",w=m[x].encoding;if(m[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(y=l,x=p,Array.isArray(l)&&(y=l[0]),b=0;b<y.length;b+=1)m[x].metadata.hasOwnProperty("cmap")&&(o=m[x].metadata.cmap.unicode.codeMap[y[b].charCodeAt(0)]),o||y[b].charCodeAt(0)<256&&m[x].metadata.hasOwnProperty("Unicode")?g+=y[b]:g+="";var j="";return parseInt(x.slice(1))<14||w==="WinAnsiEncoding"?j=f(g,x).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(j=r(g,m[x])),h.isHex=!0,{text:j,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])}(st),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(st.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,o,l,c,u,d,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var j=function(T){var E=T.charCodeAt(),R=E>>8,F=x[R];return F!==void 0?h[256*F+(255&E)]:R===252||R===253?"AL":b.test(R)?"L":R===8?"R":"N"},_=function(T){for(var E,R=0;R<T.length;R++){if((E=j(T.charAt(R)))==="L")return!1;if(E==="R")return!0}return!1},S=function(T,E,R,F){var W,$,z,X,Y=E[F];switch(Y){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(Y="AN");break;case"AL":y=!0,Y="R";break;case"WS":Y="N";break;case"CS":F<1||F+1>=E.length||(W=R[F-1])!=="EN"&&W!=="AN"||($=E[F+1])!=="EN"&&$!=="AN"?Y="N":y&&($="AN"),Y=$===W?$:"N";break;case"ES":Y=(W=F>0?R[F-1]:"B")==="EN"&&F+1<E.length&&E[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&R[F-1]==="EN"){Y="EN";break}if(y){Y="N";break}for(z=F+1,X=E.length;z<X&&E[z]==="ET";)z++;Y=z<X&&E[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(X=E.length,z=F+1;z<X&&E[z]==="NSM";)z++;if(z<X){var oe=T[F],fe=oe>=1425&&oe<=2303||oe===64286;if(W=E[z],fe&&(W==="R"||W==="AL")){Y="R";break}}}Y=F<1||(W=E[F-1])==="B"?"N":R[F-1];break;case"B":y=!1,i=!0,Y=w;break;case"S":s=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":Y="N"}return Y},A=function(T,E,R){var F=T.split("");return R&&O(F,R,{hiLevel:w}),F.reverse(),E&&E.reverse(),F.join("")},O=function(T,E,R){var F,W,$,z,X,Y=-1,oe=T.length,fe=0,D=[],I=w?p:f,U=[];for(y=!1,i=!1,s=!1,W=0;W<oe;W++)U[W]=j(T[W]);for($=0;$<oe;$++){if(X=fe,D[$]=S(T,U,D,$),F=240&(fe=I[X][m[D[$]]]),fe&=15,E[$]=z=I[fe][5],F>0)if(F===16){for(W=Y;W<$;W++)E[W]=1;Y=-1}else Y=-1;if(I[fe][6])Y===-1&&(Y=$);else if(Y>-1){for(W=Y;W<$;W++)E[W]=z;Y=-1}U[$]==="B"&&(E[$]=0),R.hiLevel|=z}s&&function(J,Q,de){for(var xe=0;xe<de;xe++)if(J[xe]==="S"){Q[xe]=w;for(var le=xe-1;le>=0&&J[le]==="WS";le--)Q[le]=w}}(U,E,oe)},M=function(T,E,R,F,W){if(!(W.hiLevel<T)){if(T===1&&w===1&&!i)return E.reverse(),void(R&&R.reverse());for(var $,z,X,Y,oe=E.length,fe=0;fe<oe;){if(F[fe]>=T){for(X=fe+1;X<oe&&F[X]>=T;)X++;for(Y=fe,z=X-1;Y<z;Y++,z--)$=E[Y],E[Y]=E[z],E[z]=$,R&&($=R[Y],R[Y]=R[z],R[z]=$);fe=X}fe++}}},B=function(T,E,R){var F=T.split(""),W={hiLevel:w};return R||(R=[]),O(F,R,W),function($,z,X){if(X.hiLevel!==0&&d)for(var Y,oe=0;oe<$.length;oe++)z[oe]===1&&(Y=g.indexOf($[oe]))>=0&&($[oe]=g[Y+1])}(F,R,W),M(2,F,E,R,W),M(1,F,E,R,W),F.join("")};return this.__bidiEngine__.doBidiReorder=function(T,E,R){if(function(W,$){if($)for(var z=0;z<W.length;z++)$[z]=z;l===void 0&&(l=_(W)),u===void 0&&(u=_(W))}(T,E),o||!c||u)if(o&&c&&l^u)w=l?1:0,T=A(T,E,R);else if(!o&&c&&u)w=l?1:0,T=B(T,E,R),T=A(T,E);else if(!o||l||c||u){if(o&&!c&&l^u)T=A(T,E),l?(w=0,T=B(T,E,R)):(w=1,T=B(T,E,R),T=A(T,E));else if(o&&l&&!c&&u)w=1,T=B(T,E,R),T=A(T,E);else if(!o&&!c&&l^u){var F=d;l?(w=1,T=B(T,E,R),w=0,d=!1,T=B(T,E,R),d=F):(w=0,T=B(T,E,R),T=A(T,E),w=1,d=!1,T=B(T,E,R),d=F,T=A(T,E))}}else w=0,T=B(T,E,R);else w=l?1:0,T=B(T,E,R);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(st),st.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new jl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Pme(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new xme(this.contents),this.head=new vme(this),this.name=new Nme(this),this.cmap=new gk(this),this.toUnicode={},this.hhea=new bme(this),this.maxp=new _me(this),this.hmtx=new Sme(this),this.post=new wme(this),this.os2=new yme(this),this.loca=new Ome(this),this.glyf=new Ame(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ls,jl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),xme=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,o,l,c,u,d,h,f,p,m,x;for(x in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),d=16*p-h,(i=new jl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(o),i.writeShort(d),s=16*p,u=i.pos+s,l=null,m=[],r)for(f=r[x],i.writeString(x),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),m=m.concat(f),x==="head"&&(l=u),u+=f.length;u%4;)m.push(0),u++;return i.write(m),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,o;for(r=vk.call(r);r.length%4;)r.push(0);for(s=new jl(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),gme={}.hasOwnProperty,Ws=function(t,e){for(var r in e)gme.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ls=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new jl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),xA=function(){function t(e,r){var n,i,s,o,l,c,u,d,h,f,p,m,x,g,b,y,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,s=function(){var j,_;for(_=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)_.push(e.readUInt16());return _}(),e.pos+=2,x=function(){var j,_;for(_=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)_.push(e.readUInt16());return _}(),u=function(){var j,_;for(_=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)_.push(e.readUInt16());return _}(),d=function(){var j,_;for(_=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)_.push(e.readUInt16());return _}(),i=(this.length-e.pos+this.offset)/2,l=function(){var j,_;for(_=[],c=j=0;0<=i?j<i:j>i;c=0<=i?++j:--j)_.push(e.readUInt16());return _}(),c=b=0,w=s.length;b<w;c=++b)for(g=s[c],n=y=m=x[c];m<=g?y<=g:y>=g;n=m<=g?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-m)-(f-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,i,s,o,l,c,u,d,h,f,p,m,x,g,b,y,w,j,_,S,A,O,M,B,T,E,R,F,W,$,z,X,Y,oe,fe,D,I,U,J,Q,de,xe,le,_e,Oe,ae;switch(F=new jl,o=Object.keys(e).sort(function(Pe,De){return Pe-De}),r){case"macroman":for(x=0,g=function(){var Pe=[];for(m=0;m<256;++m)Pe.push(0);return Pe}(),y={0:0},s={},W=0,Y=o.length;W<Y;W++)y[le=e[i=o[W]]]==null&&(y[le]=++x),s[i]={old:e[i],new:y[e[i]]},g[i]=y[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(g),{charMap:s,subtable:F.data,maxGlyphID:x+1};case"unicode":for(E=[],h=[],w=0,y={},n={},b=u=null,$=0,oe=o.length;$<oe;$++)y[_=e[i=o[$]]]==null&&(y[_]=++w),n[i]={old:_,new:y[_]},l=y[_]-i,b!=null&&l===u||(b&&h.push(b),E.push(i),u=l),b=i;for(b&&h.push(b),h.push(65535),E.push(65535),B=2*(M=E.length),O=2*Math.pow(Math.log(M)/Math.LN2,2),f=Math.log(O/2)/Math.LN2,A=2*M-O,c=[],S=[],p=[],m=z=0,fe=E.length;z<fe;m=++z){if(T=E[m],d=h[m],T===65535){c.push(0),S.push(0);break}if(T-(R=n[T].new)>=32768)for(c.push(0),S.push(2*(p.length+M-m)),i=X=T;T<=d?X<=d:X>=d;i=T<=d?++X:--X)p.push(n[i].new);else c.push(R-T),S.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*M+2*p.length),F.writeUInt16(0),F.writeUInt16(B),F.writeUInt16(O),F.writeUInt16(f),F.writeUInt16(A),de=0,D=h.length;de<D;de++)i=h[de],F.writeUInt16(i);for(F.writeUInt16(0),xe=0,I=E.length;xe<I;xe++)i=E[xe],F.writeUInt16(i);for(_e=0,U=c.length;_e<U;_e++)l=c[_e],F.writeUInt16(l);for(Oe=0,J=S.length;Oe<J;Oe++)j=S[Oe],F.writeUInt16(j);for(ae=0,Q=p.length;ae<Q;ae++)x=p[ae],F.writeUInt16(x);return{charMap:n,subtable:F.data,maxGlyphID:w+1}}},t}(),gk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new xA(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=xA.encode(r,n),(s=new jl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),bme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),yme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),wme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},e}(),jme=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Nme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,o,l,c,u,d,h,f,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=h=0,f=i.length;h<f;o=++h)s=i[o],r.pos=s.offset,d=r.readString(s.length),l=new jme(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),_me=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),Sme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)h.push(r.readInt16());return h}(),this.widths=(function(){var d,h,f,p;for(p=[],d=0,h=(f=this.metrics).length;d<h;d++)o=f[d],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),vk=[].slice,Ame=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,o,l,c,u,d,h,f;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,l=(c=new jl(n.read(s))).readShort(),d=c.readShort(),f=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new Eme(c,d,f,u,h):new Cme(c,l,d,f,u,h),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)s=r[n[c]],o.push(l.length),s&&(l=l.concat(s.encode(i)));return o.push(l.length),{table:l,offsets:o}},e}(),Cme=function(){function t(e,r,n,i,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Eme=function(){function t(e,r,n,i,s){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new jl(vk.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Ome=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ws(e,ls),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<i.length;++l)if(i[l]=s,o<n.length&&n[o]==l){++o,i[l]=s;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(s+=u)}for(var d=new Array(4*i.length),h=0;h<i.length;++h)d[4*h+3]=255&i[h],d[4*h+2]=(65280&i[h])>>8,d[4*h+1]=(16711680&i[h])>>16,d[4*h]=(4278190080&i[h])>>24;return d},e}(),Pme=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,o,l,c,u,d,h,f,p,m,x,g,b;for(i in n=gk.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},b=n.charMap)p[(c=b[i]).old]=c.new;for(m in f=n.maxGlyphID,o)m in p||(p[m]=f++);return d=function(y){var w,j;for(w in j={},y)j[y[w]]=w;return j}(p),h=Object.keys(d).sort(function(y,w){return y-w}),x=function(){var y,w,j;for(j=[],y=0,w=h.length;y<w;y++)l=h[y],j.push(d[l]);return j}(),s=this.font.glyf.encode(o,x,p),u=this.font.loca.encode(s.offsets,x),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();st.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();const kme=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:lme,AcroFormAppearance:et,AcroFormButton:yn,AcroFormCheckBox:Sf,AcroFormChoiceField:vc,AcroFormComboBox:yc,AcroFormEditBox:Nf,AcroFormListBox:bc,AcroFormPasswordField:Af,AcroFormPushButton:_f,AcroFormRadioButton:wc,AcroFormTextField:xl,GState:g0,ShadingPattern:dl,TilingPattern:fc,default:st,jsPDF:st},Symbol.toStringTag,{value:"Module"}));function Tme(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function Ime(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Dme=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mme=function(t){Dme(e,t);function e(r,n){var i=this.constructor,s=t.call(this,r,n)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),Tme(s,i.prototype),Ime(s),s}return e}(Error),Lme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xi=function(t){Lme(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(Mme),Rme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jr=function(t){Rme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Xi),Fme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(t){Fme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Xi),bk=function(){function t(e){if(this.binarizer=e,e===null)throw new lt("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var s=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(s))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),Bme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dn=function(t){Bme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Xi),$me=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Sr=function(){function t(){}return t.arraycopy=function(e,r,n,i,s){for(;s--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),zme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ej=function(t){zme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Xi),Ume=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gA=function(t){Ume(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(ej),qme=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sn=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var s=r;s<n;s++)e[s]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new lt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new gA(r);if(n>e)throw new gA(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var s=qme(e),o=s.next();!o.done;o=s.next()){var l=o.value;i=31*i+l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,s=new Int32Array(i);return Sr.arraycopy(e,r,s,0,i),s},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,s=e.length-1;i<=s;){var o=s+i>>1,l=n(r,e[o]);if(l>0)i=o+1;else if(l<0)s=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),kt=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),$n=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Sr.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=n[i];s&=~((1<<(e&31))-1);for(var o=n.length;s===0;){if(++i===o)return r;s=n[i]}var l=i*32+kt.numberOfTrailingZeros(s);return l>r?r:l},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=~n[i];s&=~((1<<(e&31))-1);for(var o=n.length;s===0;){if(++i===o)return r;s=~n[i]}var l=i*32+kt.numberOfTrailingZeros(s);return l>r?r:l},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new lt;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,o=n;o<=i;o++){var l=o>n?0:e&31,c=o<i?31:r&31,u=(2<<c)-(1<<l);s[o]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new lt;if(r===e)return!0;r--;for(var i=Math.floor(e/32),s=Math.floor(r/32),o=this.bits,l=i;l<=s;l++){var c=l>i?0:e&31,u=l<s?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((o[l]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new lt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new lt("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var s=0;s<i;s++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;r[n+s]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,s=0;s<n;s++){var o=i[s];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-s]=o}if(this.size!==n*32){for(var l=n*32-this.size,c=e[0]>>>l,s=1;s<n;s++){var u=e[s];c|=u<<32-l,e[s-1]=c,c=u>>>l}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Sn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Sn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),J2;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(J2||(J2={}));const Ar=J2;var Hme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),He=function(t){Hme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Xi),Wme=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nr;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(nr||(nr={}));var Nn=function(){function t(e,r,n){for(var i,s,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var h=c[u];t.VALUES_TO_ECI.set(h,this)}try{for(var f=Wme(o),p=f.next();!p.done;p=f.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(x){i={error:x}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new He("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new He("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new He("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(nr.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(nr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(nr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(nr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(nr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(nr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(nr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(nr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(nr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(nr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(nr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(nr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(nr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(nr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(nr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(nr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(nr.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(nr.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(nr.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(nr.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(nr.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(nr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(nr.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(nr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(nr.Big5,28,"Big5"),t.GB18030=new t(nr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(nr.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),Vme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$m=function(t){Vme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Xi),Pa=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Nn?e:Nn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",s=0,o=e.length;s<o;s++){var l=e[s].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(n.equals(Nn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new $m("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Nn.UTF8)||e.equals(Nn.ISO8859_1)||e.equals(Nn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],s=0;s<n.length;s++)i.push(n[s].charCodeAt(0));return new Uint8Array(i)},t}(),zt=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Pa.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Ar.CHARACTER_SET)!==void 0)return r.get(Ar.CHARACTER_SET).toString();for(var n=e.length,i=!0,s=!0,o=!0,l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0,x=0,g=0,b=0,y=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(i||s||o);w++){var j=e[w]&255;o&&(l>0?j&128?l--:o=!1:j&128&&(j&64?(l++,j&32?(l++,j&16?(l++,j&8?o=!1:d++):u++):c++):o=!1)),i&&(j>127&&j<160?i=!1:j>159&&(j<192||j===215||j===247)&&b++),s&&(h>0?j<64||j===127||j>252?s=!1:h--:j===128||j===160||j>239?s=!1:j>160&&j<224?(f++,m=0,p++,p>x&&(x=p)):j>127?(h++,p=0,m++,m>g&&(g=m)):(p=0,m=0))}return o&&l>0&&(o=!1),s&&h>0&&(s=!1),o&&(y||c+u+d>0)?t.UTF8:s&&(t.ASSUME_SHIFT_JIS||x>=3||g>=3)?t.SHIFT_JIS:i&&s?x===2&&f===2||b*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:s?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function s(l,c,u,d,h,f){if(l==="%%")return"%";if(r[++i]!==void 0){l=d?parseInt(d.substr(1)):void 0;var p=h?parseInt(h.substr(1)):void 0,m;switch(f){case"s":m=r[i];break;case"c":m=r[i][0];break;case"f":m=parseFloat(r[i]).toFixed(l);break;case"p":m=parseFloat(r[i]).toPrecision(l);break;case"e":m=parseFloat(r[i]).toExponential(l);break;case"x":m=parseInt(r[i]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[i],p||10).toPrecision(l)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var x=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";m.length<x;)m=c!==void 0?m+g:g+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)},t.getBytes=function(e,r){return Pa.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Nn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Nn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Nn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Ot=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=zt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),$s=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new lt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),s=0;s<r;s++)for(var o=e[s],l=0;l<n;l++)o[l]&&i.set(l,s);return i},t.parseFromString=function(e,r,n){if(e===null)throw new lt("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,o=0,l=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(s>o){if(l===-1)l=s-o;else if(s-o!==l)throw new lt("row lengths do not match");o=s,c++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[s]=!0,s++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[s]=!1,s++;else throw new lt("illegal character encountered: "+e.substring(u));if(s>o){if(l===-1)l=s-o;else if(s-o!==l)throw new lt("row lengths do not match");c++}for(var d=new t(l,c),h=0;h<s;h++)i[h]&&d.set(Math.floor(h%l),Math.floor(h/l));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new lt("input matrix dimensions do not match");for(var r=new $n(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,s=0,o=this.height;s<o;s++)for(var l=s*n,c=e.getRow(s,r).getBitArray(),u=0;u<n;u++)i[l+u]^=c[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new lt("Left and top must be nonnegative");if(i<1||n<1)throw new lt("Height and width must be at least 1");var s=e+n,o=r+i;if(o>this.height||s>this.width)throw new lt("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,u=r;u<o;u++)for(var d=u*l,h=e;h<s;h++)c[d+Math.floor(h/32)]|=1<<(h&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new $n(this.width):r.clear();for(var n=this.rowSize,i=this.bits,s=e*n,o=0;o<n;o++)r.setBulk(o*32,i[s+o]);return r},t.prototype.setRow=function(e,r){Sr.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new $n(e),i=new $n(e),s=0,o=Math.floor((r+1)/2);s<o;s++)n=this.getRow(s,n),i=this.getRow(r-1-s,i),n.reverse(),i.reverse(),this.setRow(s,i),this.setRow(r-1-s,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,s=e,o=r,l=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var h=i[u*n+d];if(h!==0){if(u<o&&(o=u),u>c&&(c=u),d*32<s){for(var f=0;!(h<<31-f&4294967295);)f++;d*32+f<s&&(s=d*32+f)}if(d*32+31>l){for(var f=31;!(h>>>f);)f--;d*32+f>l&&(l=d*32+f)}}}return l<s||c<o?null:Int32Array.from([s,o,l-s+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,s=n%e*32,o=r[n],l=0;!(o<<31-l&4294967295);)l++;return s+=l,Int32Array.from([s,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),s=Math.floor(n%e)*32,o=r[n],l=31;!(o>>>l);)l--;return s+=l,Int32Array.from([s,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Sn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Sn.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Ot,s=0,o=this.height;s<o;s++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,s)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Gme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie=function(t){Gme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Xi),Xme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yme=function(t){Xme(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),s=i.getWidth();n==null||n.getSize()<s?n=new $n(s):n.clear(),this.initArrays(s);for(var o=i.getRow(r,this.luminances),l=this.buckets,c=0;c<s;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(l);if(s<3)for(var c=0;c<s;c++)(o[c]&255)<u&&n.set(c);else for(var d=o[0]&255,h=o[1]&255,c=1;c<s-1;c++){var f=o[c+1]&255;(h*4-d-f)/2<u&&n.set(c),d=h,h=f}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),s=new $s(n,i);this.initArrays(n);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),h=Math.floor(n/5);h<d;h++){var f=u[h]&255;o[f>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),m=r.getMatrix(),l=0;l<i;l++)for(var x=l*n,h=0;h<n;h++){var f=m[x+h]&255;f<p&&s.set(h,l)}return s},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,s=0,o=0,l=0;l<n;l++)r[l]>o&&(s=l,o=r[l]),r[l]>i&&(i=r[l]);for(var c=0,u=0,l=0;l<n;l++){var d=l-s,h=r[l]*d*d;h>u&&(c=l,u=h)}if(s>c){var f=s;s=c,c=f}if(c-s<=n/16)throw new Ie;for(var p=c-1,m=-1,l=c-1;l>s;l--){var x=l-s,h=x*x*(c-l)*(i-r[l]);h>m&&(p=l,m=h)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}($me),Kme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yk=function(t){Kme(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var l=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&l++;var c=e.calculateBlackPoints(s,o,l,n,i),u=new $s(n,i);e.calculateThresholdForBlock(s,o,l,n,i,c,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,s,o,l,c){for(var u=o-e.BLOCK_SIZE,d=s-e.BLOCK_SIZE,h=0;h<i;h++){var f=h<<e.BLOCK_SIZE_POWER;f>u&&(f=u);for(var p=e.cap(h,2,i-3),m=0;m<n;m++){var x=m<<e.BLOCK_SIZE_POWER;x>d&&(x=d);for(var g=e.cap(m,2,n-3),b=0,y=-2;y<=2;y++){var w=l[p+y];b+=w[g-2]+w[g-1]+w[g]+w[g+1]+w[g+2]}var j=b/25;e.thresholdBlock(r,x,f,j,s,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,s,o,l){for(var c=0,u=i*o+n;c<e.BLOCK_SIZE;c++,u+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=s&&l.set(n+d,i+c)},e.calculateBlackPoints=function(r,n,i,s,o){for(var l=o-e.BLOCK_SIZE,c=s-e.BLOCK_SIZE,u=new Array(i),d=0;d<i;d++){u[d]=new Int32Array(n);var h=d<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var f=0;f<n;f++){var p=f<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,x=255,g=0,b=0,y=h*s+p;b<e.BLOCK_SIZE;b++,y+=s){for(var w=0;w<e.BLOCK_SIZE;w++){var j=r[y+w]&255;m+=j,j<x&&(x=j),j>g&&(g=j)}if(g-x>e.MIN_DYNAMIC_RANGE)for(b++,y+=s;b<e.BLOCK_SIZE;b++,y+=s)for(var w=0;w<e.BLOCK_SIZE;w++)m+=r[y+w]&255}var _=m>>e.BLOCK_SIZE_POWER*2;if(g-x<=e.MIN_DYNAMIC_RANGE&&(_=x/2,d>0&&f>0)){var S=(u[d-1][f]+2*u[d][f-1]+u[d-1][f-1])/4;x<S&&(_=S)}u[d][f]=_}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Yme),H0=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new $m("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new $m("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new $m("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Ot,n=0;n<this.height;n++){for(var i=this.getRow(n,e),s=0;s<this.width;s++){var o=i[s]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},t}(),Jme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y1=function(t){Jme(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),s=this.getWidth(),o=0;o<s;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),s=0;s<n;s++)i[s]=255-(r[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,s){return new e(this.delegate.crop(r,n,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(H0),Qme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zme=function(t){Qme(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,s){s===void 0&&(s=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var l=0,c=0,u=r.length;l<u;l+=4,c++){var d=void 0,h=r[l+3];if(h===0)d=255;else{var f=r[l],p=r[l+1],m=r[l+2];d=306*f+601*p+117*m+512>>10}o[c]=d}else for(var l=0,c=0,x=r.length;l<x;l+=4,c++){var d=void 0,h=r[l+3];if(h===0)d=255;else{var f=r[l],p=r[l+1],m=r[l+2];d=306*f+601*p+117*m+512>>10}o[c]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth(),s=r*i;return n===null?n=this.buffer.slice(s,s+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(s,s+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return t.prototype.crop.call(this,r,n,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),s=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*l),u=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*l);return n.width=c,n.height=u,i.translate(c/2,u/2),i.rotate(s),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new y1(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(H0),exe=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),ji=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},Ni=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},txe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ah=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ji(this,void 0,void 0,function(){var e,r,n,i,s,o,l,c,u,d,h,f;return Ni(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=txe(e),i=n.next();!i.done;i=n.next())s=i.value,o=s.kind==="video"?"videoinput":s.kind,o==="videoinput"&&(l=s.deviceId||s.id,c=s.label||"Video device "+(r.length+1),u=s.groupId,d={deviceId:l,label:c,kind:o,groupId:u},r.push(d))}catch(m){h={error:m}}finally{try{i&&!i.done&&(f=n.return)&&f.call(n)}finally{if(h)throw h.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return ji(this,void 0,void 0,function(){var e;return Ni(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new exe(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return ji(this,void 0,void 0,function(){var r;return Ni(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return ji(this,void 0,void 0,function(){return Ni(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return ji(this,void 0,void 0,function(){var n,i;return Ni(this,function(s){switch(s.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return ji(this,void 0,void 0,function(){var n;return Ni(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return ji(this,void 0,void 0,function(){var n,i;return Ni(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=s.sent(),[4,this.decodeOnce(n)];case 2:return i=s.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return ji(this,void 0,void 0,function(){return Ni(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return ji(this,void 0,void 0,function(){var i,s;return Ni(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return ji(this,void 0,void 0,function(){var i;return Ni(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,s.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return ji(this,void 0,void 0,function(){var i;return Ni(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,s.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return ji(this,void 0,void 0,function(){var n;return Ni(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return ji(this,void 0,void 0,function(){return Ni(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Jr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Jr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Jr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Jr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Jr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Jr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Jr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Jr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Jr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Jr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return ji(this,void 0,void 0,function(){return Ni(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return ji(this,void 0,void 0,function(){return Ni(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var s=function(o,l){if(i._stopAsyncDecode){l(new Ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(f){var u=r&&f instanceof Ie,d=f instanceof dn||f instanceof He,h=d&&n;if(u||h)return setTimeout(s,i._timeBetweenDecodingAttempts,o,l);l(f)}};return new Promise(function(o,l){return s(o,l)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var s=n.decode(e);r(s,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof dn||c instanceof He,l=c instanceof Ie;(o||l)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new Zme(n,r),s=new yk(i);return new bk(s)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),gi=function(){function t(e,r,n,i,s,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Sr.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=s,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=s,this.resultMetadata=null,o==null?this.timestamp=Sr.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Sr.arraycopy(r,0,n,0,r.length),Sr.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Q2;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Q2||(Q2={}));const ot=Q2;var Z2;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Z2||(Z2={}));const Zn=Z2;var w1=function(){function t(e,r,n,i,s,o){s===void 0&&(s=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),lf=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new lt;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),gl=function(){function t(e,r){if(r.length===0)throw new lt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Sr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,s=r.length;i!==s;i++){var o=r[i];n=lf.addOrSubtract(n,o)}return n}n=r[0];for(var l=r.length,c=this.field,i=1;i<l;i++)n=lf.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),o=n.length-r.length;Sr.arraycopy(n,0,s,0,o);for(var l=o;l<n.length;l++)s[l]=lf.addOrSubtract(r[l-o],n[l]);return new t(this.field,s)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,o=new Int32Array(n+s-1),l=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<s;d++)o[c+d]=lf.addOrSubtract(o[c+d],l.multiply(u,i[d]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),s=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(s[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new lt;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,s=new Int32Array(i+e),o=this.field,l=0;l<i;l++)s[l]=o.multiply(n[l],r);return new t(o,s)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new lt("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,s=e.getCoefficient(e.getDegree()),o=r.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),o),u=e.multiplyByMonomial(l,c),d=r.buildMonomial(l,c);n=n.addOrSubtract(d),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),rxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wk=function(t){rxe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Xi),nxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zi=function(t){nxe(e,t);function e(r,n,i){var s=t.call(this)||this;s.primitive=r,s.size=n,s.generatorBase=i;for(var o=new Int32Array(n),l=1,c=0;c<n;c++)o[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);s.expTable=o;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[o[c]]=c;return s.logTable=u,s.zero=new gl(s,Int32Array.from([0])),s.one=new gl(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new lt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new gl(this,i)},e.prototype.inverse=function(r){if(r===0)throw new wk;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+kt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(lf),ixe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gm=function(t){ixe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Xi),axe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W0=function(t){axe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Xi),j1=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new gl(n,e),s=new Int32Array(r),o=!0,l=0;l<r;l++){var c=i.evaluateAt(n.exp(l+n.getGeneratorBase()));s[s.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var u=new gl(n,s),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),h=d[0],f=d[1],p=this.findErrorLocations(h),m=this.findErrorMagnitudes(f,p),l=0;l<p.length;l++){var x=e.length-1-n.log(p[l]);if(x<0)throw new gm("Bad error location");e[x]=zi.addOrSubtract(e[x],m[l])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=this.field,o=e,l=r,c=s.getZero(),u=s.getOne();l.getDegree()>=(n/2|0);){var d=o,h=c;if(o=l,c=u,o.isZero())throw new gm("r_{i-1} was zero");l=d;for(var f=s.getZero(),p=o.getCoefficient(o.getDegree()),m=s.inverse(p);l.getDegree()>=o.getDegree()&&!l.isZero();){var x=l.getDegree()-o.getDegree(),g=s.multiply(l.getCoefficient(l.getDegree()),m);f=f.addOrSubtract(s.buildMonomial(x,g)),l=l.addOrSubtract(o.multiplyByMonomial(x,g))}if(u=f.multiply(c).addOrSubtract(h),l.getDegree()>=o.getDegree())throw new W0("Division algorithm failed to reduce polynomial?")}var b=u.getCoefficient(0);if(b===0)throw new gm("sigmaTilde(0) was zero");var y=s.inverse(b),w=u.multiplyScalar(y),j=l.multiplyScalar(y);return[w,j]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,s=this.field,o=1;o<s.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=s.inverse(o),i++);if(i!==r)throw new gm("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),s=this.field,o=0;o<n;o++){for(var l=s.inverse(r[o]),c=1,u=0;u<n;u++)if(o!==u){var d=s.multiply(r[u],l),h=d&1?d&-2:d|1;c=s.multiply(c,h)}i[o]=s.multiply(e.evaluateAt(l),s.inverse(c)),s.getGeneratorBase()!==0&&(i[o]=s.multiply(i[o],l))}return i},t}(),Xn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Xn||(Xn={}));var vA=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),s=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new w1(s,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Xn.UPPER,i=Xn.UPPER,s="",o=0;o<r;)if(i===Xn.BINARY){if(r-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(r-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(r-o<8){o=r;break}var u=t.readCode(e,o,8);s+=zt.castAsNonUtf8Char(u),o+=8}i=n}else{var d=i===Xn.DIGIT?4:5;if(r-o<d)break;var u=t.readCode(e,o,d);o+=d;var h=t.getCharacter(i,u);h.startsWith("CTRL_")?(n=i,i=t.getTable(h.charAt(5)),h.charAt(6)==="L"&&(n=i)):(s+=h,i=n)}return s},t.getTable=function(e){switch(e){case"L":return Xn.LOWER;case"P":return Xn.PUNCT;case"M":return Xn.MIXED;case"D":return Xn.DIGIT;case"B":return Xn.BINARY;case"U":default:return Xn.UPPER}},t.getCharacter=function(e,r){switch(e){case Xn.UPPER:return t.UPPER_TABLE[r];case Xn.LOWER:return t.LOWER_TABLE[r];case Xn.MIXED:return t.MIXED_TABLE[r];case Xn.PUNCT:return t.PUNCT_TABLE[r];case Xn.DIGIT:return t.DIGIT_TABLE[r];default:throw new W0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=zi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=zi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=zi.AZTEC_DATA_10):(n=12,r=zi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/n;if(s<i)throw new He;for(var o=e.length%n,l=new Int32Array(s),c=0;c<s;c++,o+=n)l[c]=t.readCode(e,o,n);try{var u=new j1(r);u.decode(l,s-i)}catch(g){throw new He(g)}for(var d=(1<<n)-1,h=0,c=0;c<i;c++){var f=l[c];if(f===0||f===d)throw new He;(f===1||f===d-1)&&h++}for(var p=new Array(i*n-h),m=0,c=0;c<i;c++){var f=l[c];if(f===1||f===d-1)p.fill(f>1,m,m+n-1),m+=n-1;else for(var x=n-1;x>=0;--x)p[m++]=(f&1<<x)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,s=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<s.length;l++)s[l]=l;else for(var c=i+1+2*kt.truncDivision(kt.truncDivision(i,2)-1,15),u=i/2,d=kt.truncDivision(c,2),l=0;l<u;l++){var h=l+kt.truncDivision(l,15);s[u-l-1]=d-h-1,s[u+l]=d+h+1}for(var l=0,f=0;l<n;l++){for(var p=(n-l)*4+(r?9:12),m=l*2,x=i-1-m,g=0;g<p;g++)for(var b=g*2,y=0;y<2;y++)o[f+b+y]=e.get(s[m+y],s[m+g]),o[f+2*p+b+y]=e.get(s[m+g],s[x-y]),o[f+4*p+b+y]=e.get(s[x-y],s[x-g]),o[f+6*p+b+y]=e.get(s[x-g],s[m+y]);f+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,s=r;s<r+n;s++)i<<=1,e[s]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Ht=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var s=e-n,o=r-i;return Math.sqrt(s*s+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var s=e[n];r+=s}return r},t}(),ew=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),nt=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*ew.floatToIntBits(this.x)+ew.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,o,l;if(n>=r&&n>=i?(o=e[0],s=e[1],l=e[2]):i>=n&&i>=r?(o=e[1],s=e[0],l=e[2]):(o=e[2],s=e[0],l=e[1]),this.crossProductZ(s,o,l)<0){var c=s;s=l,l=c}e[0]=s,e[1]=o,e[2]=l},t.distance=function(e,r){return Ht.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,s=r.y;return(n.x-i)*(e.y-s)-(n.y-s)*(e.x-i)},t}(),tj=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),sxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oxe=function(t){sxe(e,t);function e(r,n,i,s,o){var l=t.call(this,r,n)||this;return l.compact=i,l.nbDatablocks=s,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(tj),tw=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=r/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ie}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,s=!1,o=!0,l=!1,c=!1,u=!1,d=!1,h=!1,f=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!c)&&r<f;)m=this.containsBlackPoint(n,i,r,!1),m?(r++,o=!0,c=!0):c||r++;if(r>=f){s=!0;break}for(var x=!0;(x||!u)&&i<p;)x=this.containsBlackPoint(e,r,i,!0),x?(i++,o=!0,u=!0):u||i++;if(i>=p){s=!0;break}for(var g=!0;(g||!d)&&e>=0;)g=this.containsBlackPoint(n,i,e,!1),g?(e--,o=!0,d=!0):d||e--;if(e<0){s=!0;break}for(var b=!0;(b||!h)&&n>=0;)b=this.containsBlackPoint(e,r,n,!0),b?(n--,o=!0,h=!0):h||n--;if(n<0){s=!0;break}o&&(l=!0)}if(!s&&l){for(var y=r-e,w=null,j=1;w===null&&j<y;j++)w=this.getBlackPointOnSegment(e,i-j,e+j,i);if(w==null)throw new Ie;for(var _=null,j=1;_===null&&j<y;j++)_=this.getBlackPointOnSegment(e,n+j,e+j,n);if(_==null)throw new Ie;for(var S=null,j=1;S===null&&j<y;j++)S=this.getBlackPointOnSegment(r,n+j,r-j,n);if(S==null)throw new Ie;for(var A=null,j=1;A===null&&j<y;j++)A=this.getBlackPointOnSegment(r,i-j,r-j,i);if(A==null)throw new Ie;return this.centerEdges(A,w,S,_)}else throw new Ie},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var s=Ht.round(Ht.distance(e,r,n,i)),o=(n-e)/s,l=(i-r)/s,c=this.image,u=0;u<s;u++){var d=Ht.round(e+u*o),h=Ht.round(r+u*l);if(c.get(d,h))return new nt(d,h)}return null},t.prototype.centerEdges=function(e,r,n,i){var s=e.getX(),o=e.getY(),l=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),h=i.getX(),f=i.getY(),p=t.CORR;return s<this.width/2?[new nt(h-p,f+p),new nt(l+p,c+p),new nt(u-p,d-p),new nt(s+p,o-p)]:[new nt(h+p,f+p),new nt(l+p,c-p),new nt(u-p,d+p),new nt(s-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var s=this.image;if(i){for(var o=e;o<=r;o++)if(s.get(o,n))return!0}else for(var l=e;l<=r;l++)if(s.get(n,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),bA=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),s=!0,o=0;o<r.length&&s;o+=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new Ie;s=!1,l===-1?(r[o]=0,s=!0):l===n&&(r[o]=n-1,s=!0),c===-1?(r[o+1]=0,s=!0):c===i&&(r[o+1]=i-1,s=!0)}s=!0;for(var o=r.length-2;o>=0&&s;o-=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new Ie;s=!1,l===-1?(r[o]=0,s=!0):l===n&&(r[o]=n-1,s=!0),c===-1?(r[o+1]=0,s=!0):c===i&&(r[o+1]=i-1,s=!0)}},t}(),jk=function(){function t(e,r,n,i,s,o,l,c,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=s,this.a32=o,this.a13=l,this.a23=c,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,s,o,l,c,u,d,h,f,p,m,x,g){var b=t.quadrilateralToSquare(e,r,n,i,s,o,l,c),y=t.squareToQuadrilateral(u,d,h,f,p,m,x,g);return y.times(b)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,s=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,h=this.a33,f=0;f<r;f+=2){var p=e[f],m=e[f+1],x=s*p+c*m+h;e[f]=(n*p+o*m+u)/x,e[f+1]=(i*p+l*m+d)/x}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,s=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,h=this.a33,f=e.length,p=0;p<f;p++){var m=e[p],x=r[p],g=s*m+c*x+h;e[p]=(n*m+o*x+u)/g,r[p]=(i*m+l*x+d)/g}},t.squareToQuadrilateral=function(e,r,n,i,s,o,l,c){var u=e-n+s-l,d=r-i+o-c;if(u===0&&d===0)return new t(n-e,s-n,e,i-r,o-i,r,0,0,1);var h=n-s,f=l-s,p=i-o,m=c-o,x=h*m-f*p,g=(u*m-f*d)/x,b=(h*d-u*p)/x;return new t(n-e+g*n,l-e+b*l,e,i-r+g*i,c-r+b*c,r,g,b,1)},t.quadrilateralToSquare=function(e,r,n,i,s,o,l,c){return t.squareToQuadrilateral(e,r,n,i,s,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),lxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cxe=function(t){lxe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,s,o,l,c,u,d,h,f,p,m,x,g,b,y,w,j){var _=jk.quadrilateralToQuadrilateral(s,o,l,c,u,d,h,f,p,m,x,g,b,y,w,j);return this.sampleGridWithTransform(r,n,i,_)},e.prototype.sampleGridWithTransform=function(r,n,i,s){if(n<=0||i<=0)throw new Ie;for(var o=new $s(n,i),l=new Float32Array(2*n),c=0;c<i;c++){for(var u=l.length,d=c+.5,h=0;h<u;h+=2)l[h]=h/2+.5,l[h+1]=d;s.transformPoints(l),bA.checkAndNudgePoints(r,l);try{for(var h=0;h<u;h+=2)r.get(Math.floor(l[h]),Math.floor(l[h+1]))&&o.set(h/2,c)}catch{throw new Ie}}return o},e}(bA),rj=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new cxe,t}(),Fi=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new nt(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),uxe=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var s=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new oxe(s,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Ie;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,s=0;s<4;s++){var o=n[(this.shift+s)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(s,o,l){var c=(s>>r-2<<1)+(s&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(kt.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Ie},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var s=n-i,o=new Int32Array(n),l=n-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new j1(zi.AZTEC_PARAM);c.decode(o,s)}catch{throw new Ie}for(var u=0,l=0;l<i;l++)u=(u<<4)+o[l];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,s=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(s,o,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(l,c,u,d))break}r=l,n=c,i=u,s=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ie;this.compact=this.nbCenterLayers===5;var f=new nt(r.getX()+.5,r.getY()-.5),p=new nt(n.getX()+.5,n.getY()+.5),m=new nt(i.getX()-.5,i.getY()+.5),x=new nt(s.getX()-.5,s.getY()-.5);return this.expandSquare([f,p,m,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var s=new tw(this.image).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new Fi(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Fi(o+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Fi(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Fi(o-7,l-7),!1,-1,-1).toResultPoint()}var c=Ht.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=Ht.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var s=new tw(this.image,15,c,u).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{e=this.getFirstDifferent(new Fi(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Fi(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Fi(c-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Fi(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Ht.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=Ht.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Fi(c,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,s){var o=rj.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,u=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,s=this.distanceResultPoint(e,r),o=s/n,l=e.getX(),c=e.getY(),u=o*(r.getX()-e.getX())/s,d=o*(r.getY()-e.getY())/s,h=0;h<n;h++)this.image.get(Ht.round(l+h*u),Ht.round(c+h*d))&&(i|=1<<n-h-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var s=3;e=new Fi(e.getX()-s,e.getY()+s),r=new Fi(r.getX()-s,r.getY()-s),n=new Fi(n.getX()+s,n.getY()-s),i=new Fi(i.getX()+s,i.getY()+s);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,r);return l!==o||(l=this.getColor(r,n),l!==o)?!1:(l=this.getColor(n,i),l===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,s=(r.getY()-e.getY())/n,o=0,l=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),h=0;h<d;h++)l+=i,c+=s,this.image.get(Ht.round(l),Ht.round(c))!==u&&o++;var f=o/n;return f>.1&&f<.9?0:f<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var s=e.getX()+n,o=e.getY()+i;this.isValid(s,o)&&this.image.get(s,o)===r;)s+=n,o+=i;for(s-=n,o-=i;this.isValid(s,o)&&this.image.get(s,o)===r;)s+=n;for(s-=n;this.isValid(s,o)&&this.image.get(s,o)===r;)o+=i;return o-=i,new Fi(s,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),s=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new nt(l+i*s,c+i*o),d=new nt(l-i*s,c-i*o);s=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var h=new nt(l+i*s,c+i*o),f=new nt(l-i*s,c-i*o),p=[u,h,d,f];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Ht.round(e.getX()),n=Ht.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Ht.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Ht.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(kt.truncDivision(this.nbLayers-4,8)+1)+15},t}(),ig=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new uxe(e.getBlackMatrix()),s=null,o=null;try{var l=i.detectMirror(!1);s=l.getPoints(),this.reportFoundResultPoints(r,s),o=new vA().decode(l)}catch(h){n=h}if(o==null)try{var l=i.detectMirror(!0);s=l.getPoints(),this.reportFoundResultPoints(r,s),o=new vA().decode(l)}catch(h){throw n??h}var c=new gi(o.getText(),o.getRawBytes(),o.getNumBits(),s,ot.AZTEC,Sr.currentTimeMillis()),u=o.getByteSegments();u!=null&&c.putMetadata(Zn.BYTE_SEGMENTS,u);var d=o.getECLevel();return d!=null&&c.putMetadata(Zn.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Ar.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,s,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),dxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){dxe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ig,r)||this}return e})(ah);var En=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Ar.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,r),o=s.getResultMetadata(),l=270;o!==null&&o.get(Zn.ORIENTATION)===!0&&(l=l+o.get(Zn.ORIENTATION)%360),s.putMetadata(Zn.ORIENTATION,l);var c=s.getResultPoints();if(c!==null)for(var u=i.getHeight(),d=0;d<c.length;d++)c[d]=new nt(u-c[d].getY()-1,c[d].getX());return s}else throw new Ie}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),s=new $n(n),o=r&&r.get(Ar.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var u=Math.trunc(i/2),d=0;d<c;d++){var h=Math.trunc((d+1)/2),f=(d&1)===0,p=u+l*(f?h:-h);if(p<0||p>=i)break;try{s=e.getBlackRow(p,s)}catch{continue}for(var m=function(y){if(y===1&&(s.reverse(),r&&r.get(Ar.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(S,A){return w.set(A,S)}),w.delete(Ar.NEED_RESULT_POINT_CALLBACK),r=w}try{var j=x.decodeRow(p,s,r);if(y===1){j.putMetadata(Zn.ORIENTATION,180);var _=j.getResultPoints();_!==null&&(_[0]=new nt(n-_[0].getX()-1,_[0].getY()),_[1]=new nt(n-_[1].getX()-1,_[1].getY()))}return{value:j}}catch{}},x=this,g=0;g<2;g++){var b=m(g);if(typeof b=="object")return b.value}}throw new Ie},t.recordPattern=function(e,r,n){for(var i=n.length,s=0;s<i;s++)n[s]=0;var o=e.getSize();if(r>=o)throw new Ie;for(var l=!e.get(r),c=0,u=r;u<o;){if(e.get(u)!==l)n[c]++;else{if(++c===i)break;n[c]=1,l=!l}u++}if(!(c===i||c===i-1&&u===o))throw new Ie},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,s=e.get(r);r>0&&i>=0;)e.get(--r)!==s&&(i--,s=!s);if(i>=0)throw new Ie;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,o=0,l=0;l<i;l++)s+=e[l],o+=r[l];if(s<o)return Number.POSITIVE_INFINITY;var c=s/o;n*=c;for(var u=0,d=0;d<i;d++){var h=e[d],f=r[d]*c,p=h>f?h-f:f-h;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/s},t}(),hxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yA=function(t){hxe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),s=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,u=6,d=i;d<n;d++)if(r.get(d)!==c)o[s]++;else{if(s===u-1){for(var h=e.MAX_AVG_VARIANCE,f=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=En.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<h&&(h=m,f=p)}if(f>=0&&r.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,f]);l+=o[0]+o[1],o=o.slice(2,o.length),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,c=!c}throw new Ie},e.decodeCode=function(r,n,i){En.recordPattern(r,i,n);for(var s=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<s&&(s=u,o=l)}if(o>=0)return o;throw new Ie},e.prototype.decodeRow=function(r,n,i){var s=i&&i.get(Ar.ASSUME_GS1)===!0,o=e.findStartPattern(n),l=o[2],c=0,u=new Uint8Array(20);u[c++]=l;var d;switch(l){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new He}for(var h=!1,f=!1,p="",m=o[0],x=o[1],g=Int32Array.from([0,0,0,0,0,0]),b=0,y=0,w=l,j=0,_=!0,S=!1,A=!1;!h;){var O=f;switch(f=!1,b=y,y=e.decodeCode(n,g,x),u[c++]=y,y!==e.CODE_STOP&&(_=!0),y!==e.CODE_STOP&&(j++,w+=j*y),m=x,x+=g.reduce(function(z,X){return z+X},0),y){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new He}switch(d){case e.CODE_CODE_A:if(y<64)A===S?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),A=!1;else if(y<96)A===S?p+=String.fromCharCode(y-64):p+=String.fromCharCode(y+64),A=!1;else switch(y!==e.CODE_STOP&&(_=!1),y){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!S&&A?(S=!0,A=!1):S&&A?(S=!1,A=!1):A=!0;break;case e.CODE_SHIFT:f=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(y<96)A===S?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),A=!1;else switch(y!==e.CODE_STOP&&(_=!1),y){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!S&&A?(S=!0,A=!1):S&&A?(S=!1,A=!1):A=!0;break;case e.CODE_SHIFT:f=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(y<100)y<10&&(p+="0"),p+=y;else switch(y!==e.CODE_STOP&&(_=!1),y){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}O&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var M=x-m;if(x=n.getNextUnset(x),!n.isRange(x,Math.min(n.getSize(),x+(x-m)/2),!1))throw new Ie;if(w-=j*b,w%103!==b)throw new dn;var B=p.length;if(B===0)throw new Ie;B>0&&_&&(d===e.CODE_CODE_C?p=p.substring(0,B-2):p=p.substring(0,B-1));for(var T=(o[1]+o[0])/2,E=m+M/2,R=u.length,F=new Uint8Array(R),W=0;W<R;W++)F[W]=u[W];var $=[new nt(T,r),new nt(E,r)];return new gi(p,F,0,$,ot.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(En),fxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ob=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wA=function(t){fxe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var s,o,l,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),h=n.getNextSet(d[1]),f=n.getSize(),p,m;do{e.recordPattern(n,h,u);var x=e.toNarrowWidePattern(u);if(x<0)throw new Ie;p=e.patternToChar(x),this.decodeRowResult+=p,m=h;try{for(var g=(s=void 0,Ob(u)),b=g.next();!b.done;b=g.next()){var y=b.value;h+=y}}catch(R){s={error:R}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}h=n.getNextSet(h)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var j=Ob(u),_=j.next();!_.done;_=j.next()){var y=_.value;w+=y}}catch(R){l={error:R}}finally{try{_&&!_.done&&(c=j.return)&&c.call(j)}finally{if(l)throw l.error}}var S=h-m-w;if(h!==f&&S*2<w)throw new Ie;if(this.usingCheckDigit){for(var A=this.decodeRowResult.length-1,O=0,M=0;M<A;M++)O+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(M));if(this.decodeRowResult.charAt(A)!==e.ALPHABET_STRING.charAt(O%43))throw new dn;this.decodeRowResult=this.decodeRowResult.substring(0,A)}if(this.decodeRowResult.length===0)throw new Ie;var B;this.extendedMode?B=e.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;var T=(d[1]+d[0])/2,E=m+w/2;return new gi(B,null,0,[new nt(T,r),new nt(E,r)],ot.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),s=r.getNextSet(0),o=0,l=s,c=!1,u=n.length,d=s;d<i;d++)if(r.get(d)!==c)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new Ie},e.toNarrowWidePattern=function(r){var n,i,s=r.length,o=0,l;do{var c=2147483647;try{for(var u=(n=void 0,Ob(r)),d=u.next();!d.done;d=u.next()){var h=d.value;h<c&&h>o&&(c=h)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o=c,l=0;for(var f=0,p=0,m=0;m<s;m++){var h=r[m];h>o&&(p|=1<<s-1-m,l++,f+=h)}if(l===3){for(var m=0;m<s&&l>0;m++){var h=r[m];if(h>o&&(l--,h*2>=f))return-1}return p}}while(l>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Ie},e.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var o=r.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(s+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new He;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new He;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new He;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new He;break}i+=c,s++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(En),pxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jA=function(t){pxe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var s,o,l,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),h=n.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,d,f);var x=this.toPattern(f);if(x<0)throw new Ie;p=this.patternToChar(x),this.decodeRowResult+=p,m=d;try{for(var g=(s=void 0,Pb(f)),b=g.next();!b.done;b=g.next()){var y=b.value;d+=y}}catch(M){s={error:M}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var j=Pb(f),_=j.next();!_.done;_=j.next()){var y=_.value;w+=y}}catch(M){l={error:M}}finally{try{_&&!_.done&&(c=j.return)&&c.call(j)}finally{if(l)throw l.error}}if(d===h||!n.get(d))throw new Ie;if(this.decodeRowResult.length<2)throw new Ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var S=this.decodeExtended(this.decodeRowResult),A=(u[1]+u[0])/2,O=m+w/2;return new gi(S,null,0,[new nt(A,r),new nt(O,r)],ot.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var s=this.counters,o=i,l=!1,c=s.length,u=0,d=i;d<n;d++)if(r.get(d)!==l)s[u]++;else{if(u===c-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,l=!l}throw new Ie},e.prototype.toPattern=function(r){var n,i,s=0;try{for(var o=Pb(r),l=o.next();!l.done;l=o.next()){var c=l.value;s+=c}}catch(m){n={error:m}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var u=0,d=r.length,h=0;h<d;h++){var f=Math.round(r[h]*9/s);if(f<1||f>4)return-1;if(h&1)u<<=f;else for(var p=0;p<f;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new Ie},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var o=r.charAt(s);if(o>="a"&&o<="d"){if(s>=n-1)throw new He;var l=r.charAt(s+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new He;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new He;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new He;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new He;break}i+=c,s++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var s=1,o=0,l=n-1;l>=0;l--)o+=s*e.ALPHABET_STRING.indexOf(r.charAt(l)),++s>i&&(s=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new dn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(En),mxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NA=function(t){mxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var s,o,l=this.decodeStart(n),c=this.decodeEnd(n),u=new Ot;e.decodeMiddle(n,l[1],c[0],u);var d=u.toString(),h=null;i!=null&&(h=i.get(Ar.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var f=d.length,p=!1,m=0;try{for(var x=xxe(h),g=x.next();!g.done;g=x.next()){var b=g.value;if(f===b){p=!0;break}b>m&&(m=b)}}catch(j){s={error:j}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}if(!p&&f>m&&(p=!0),!p)throw new He;var y=[new nt(l[1],r),new nt(c[0],r)],w=new gi(d,null,0,y,ot.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,i,s){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);n<i;){En.recordPattern(r,n,o);for(var u=0;u<5;u++){var d=2*u;l[u]=o[d],c[u]=o[d+1]}var h=e.decodeDigit(l);s.append(h.toString()),h=this.decodeDigit(c),s.append(h.toString()),o.forEach(function(f){n+=f})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var s=n-1;i>0&&s>=0&&!r.get(s);s--)i--;if(i!==0)throw new Ie},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new Ie;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof Ie&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var s=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-s,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var s=i.length,o=new Int32Array(s),l=r.getSize(),c=!1,u=0,d=n;o.fill(0);for(var h=n;h<l;h++)if(r.get(h)!==c)o[u]++;else{if(u===s-1){if(En.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,h];d+=o[0]+o[1],Sr.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,c=!c}throw new Ie},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,o=0;o<s;o++){var l=e.PATTERNS[o],c=En.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=o):c===n&&(i=-1)}if(i>=0)return i%10;throw new Ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(En),gxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dd=function(t){gxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,s=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,s,!1,this.START_END_PATTERN,o);var l=i[0];s=i[1];var c=l-(s-l);c>=0&&(n=r.isRange(c,l,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new He;i+=o}i*=3;for(var s=n-2;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new He;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,s){return this.findGuardPattern(r,n,i,s,new Int32Array(s.length))},e.findGuardPattern=function(r,n,i,s,o){var l=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=s.length,h=i,f=n;f<l;f++)if(r.get(f)!==h)o[c]++;else{if(c===d-1){if(En.patternMatchVariance(o,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,f]);u+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<c-1;m++)o[m]=p[m];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,h=!h}throw new Ie},e.decodeDigit=function(r,n,i,s){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=s.length,u=0;u<c;u++){var d=s[u],h=En.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new Ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(En),vxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bxe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new nt((n[0]+n[1])/2,e),new nt(s,e)],u=new gi(o,null,0,c,ot.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},t.prototype.decodeMiddle=function(e,r,n){var i,s,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],u=0,d=0;d<5&&c<l;d++){var h=Dd.decodeDigit(e,o,c,Dd.L_AND_G_PATTERNS);n+=String.fromCharCode(48+h%10);try{for(var f=(i=void 0,vxe(o)),p=f.next();!p.done;p=f.next()){var m=p.value;c+=m}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}h>=10&&(u|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new Ie;var x=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==x)throw new Ie;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Ie},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Zn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),s=n%100,o=s<10?"0"+s:s.toString();return r+i+"."+o},t}(),yxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wxe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new nt((n[0]+n[1])/2,e),new nt(s,e)],u=new gi(o,null,0,c,ot.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},t.prototype.decodeMiddle=function(e,r,n){var i,s,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],u=0,d=0;d<2&&c<l;d++){var h=Dd.decodeDigit(e,o,c,Dd.L_AND_G_PATTERNS);n+=String.fromCharCode(48+h%10);try{for(var f=(i=void 0,yxe(o)),p=f.next();!p.done;p=f.next()){var m=p.value;c+=m}}catch(x){i={error:x}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}h>=10&&(u|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new Ie;if(parseInt(n.toString())%4!==u)throw new Ie;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Zn.ISSUE_NUMBER,parseInt(e)]])},t}(),jxe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=Dd.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new bxe;return s.decodeRow(e,r,i)}catch{var o=new wxe;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),Nxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wn=function(t){Nxe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],s=new Int32Array(i.length),o=0;o<i.length;o++)s[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=s}return r}return e.prototype.decodeRow=function(r,n,i){var s=e.findStartGuardPattern(n),o=i==null?null:i.get(Ar.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new nt((s[0]+s[1])/2,r);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,s,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(o!=null){var h=new nt(u,r);o.foundPossibleResultPoint(h)}var f=e.decodeEnd(n,u);if(o!=null){var p=new nt((f[0]+f[1])/2,r);o.foundPossibleResultPoint(p)}var m=f[1],x=m+(m-f[0]);if(x>=n.getSize()||!n.isRange(m,x,!1))throw new Ie;var g=d.toString();if(g.length<8)throw new He;if(!e.checkChecksum(g))throw new dn;var b=(s[1]+s[0])/2,y=(f[1]+f[0])/2,w=this.getBarcodeFormat(),j=[new nt(b,r),new nt(y,r)],_=new gi(g,null,0,j,w,new Date().getTime()),S=0;try{var A=jxe.decodeRow(r,n,f[1]);_.putMetadata(Zn.UPC_EAN_EXTENSION,A.getText()),_.putAllMetadata(A.getResultMetadata()),_.addResultPoints(A.getResultPoints()),S=A.getText().length}catch{}var O=i==null?null:i.get(Ar.ALLOWED_EAN_EXTENSIONS);if(O!=null){var M=!1;for(var B in O)if(S.toString()===B){M=!0;break}if(!M)throw new Ie}return w===ot.EAN_13||ot.UPC_A,_},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new He;i+=o}i*=3;for(var s=n-2;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new He;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Dd),_xe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_A=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rw=function(t){_xe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),h=n[1],f=0,p=0;p<6&&h<d;p++){var m=wn.decodeDigit(r,u,h,wn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var x=(s=void 0,_A(u)),g=x.next();!g.done;g=x.next()){var b=g.value;h+=b}}catch(_){s={error:_}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}m>=10&&(f|=1<<5-p)}i=e.determineFirstDigit(i,f);var y=wn.findGuardPattern(r,h,!0,wn.MIDDLE_PATTERN,new Int32Array(wn.MIDDLE_PATTERN.length).fill(0));h=y[1];for(var p=0;p<6&&h<d;p++){var m=wn.decodeDigit(r,u,h,wn.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var w=(l=void 0,_A(u)),j=w.next();!j.done;j=w.next()){var b=j.value;h+=b}}catch(A){l={error:A}}finally{try{j&&!j.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return ot.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new Ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(wn),Sxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AA=function(t){Sxe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),h=n[1],f=0;f<4&&h<d;f++){var p=wn.decodeDigit(r,u,h,wn.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var m=(s=void 0,SA(u)),x=m.next();!x.done;x=m.next()){var g=x.value;h+=g}}catch(j){s={error:j}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}}var b=wn.findGuardPattern(r,h,!0,wn.MIDDLE_PATTERN,new Int32Array(wn.MIDDLE_PATTERN.length).fill(0));h=b[1];for(var f=0;f<4&&h<d;f++){var p=wn.decodeDigit(r,u,h,wn.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var y=(l=void 0,SA(u)),w=y.next();!w.done;w=y.next()){var g=w.value;h+=g}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return ot.EAN_8},e}(wn),Axe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CA=function(t){Axe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new rw,r}return e.prototype.getBarcodeFormat=function(){return ot.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new gi(n.substring(1),null,null,r.getResultPoints(),ot.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new Ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(wn),Cxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Exe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EA=function(t){Cxe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,l=this.decodeMiddleCounters.map(function(g){return g});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],d=0,h=0;h<6&&u<c;h++){var f=e.decodeDigit(r,l,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+f%10);try{for(var p=(s=void 0,Exe(l)),m=p.next();!m.done;m=p.next()){var x=m.value;u+=x}}catch(g){s={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(s)throw s.error}}f>=10&&(d|=1<<5-h)}return e.determineNumSysAndCheckDigit(new Ot(i),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return wn.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){r.insert(0,"0"+i),r.append("0"+s);return}throw Ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ot.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Ot;i.append(r.charAt(0));var s=n[5];switch(s){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(s),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(s);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(wn),Oxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kb=function(t){Oxe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Ar.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(ot.EAN_13)>-1&&s.push(new rw),i.indexOf(ot.UPC_A)>-1&&s.push(new CA),i.indexOf(ot.EAN_8)>-1&&s.push(new AA),i.indexOf(ot.UPC_E)>-1&&s.push(new EA)),s.length===0&&(s.push(new rw),s.push(new CA),s.push(new AA),s.push(new EA)),n.readers=s,n}return e.prototype.decodeRow=function(r,n,i){var s,o;try{for(var l=OA(this.readers),c=l.next();!c.done;c=l.next()){var u=c.value;try{var d=u.decodeRow(r,n,i),h=d.getBarcodeFormat()===ot.EAN_13&&d.getText().charAt(0)==="0",f=i==null?null:i.get(Ar.POSSIBLE_FORMATS),p=f==null||f.includes(ot.UPC_A);if(h&&p){var m=d.getRawBytes(),x=new gi(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),ot.UPC_A);return x.putAllMetadata(d.getResultMetadata()),x}return d}catch{}}}catch(g){s={error:g}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(s)throw s.error}}throw new Ie},e.prototype.reset=function(){var r,n;try{for(var i=OA(this.readers),s=i.next();!s.done;s=i.next()){var o=s.value;o.reset()}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(En),Pxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kxe=function(t){Pxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var s=this.getValidRowData(n);if(!s)throw new Ie;var o=this.codaBarDecodeRow(s.row);if(!o)throw new Ie;return new gi(o,null,0,[new nt(s.left,r),new nt(s.right,r)],ot.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var s=n.lastIndexOf(!0);if(s<=i)return null;n=n.slice(i,s+1);for(var o=[],l=n[0],c=1,u=1;u<n.length;u++)n[u]===l?c++:(l=n[u],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:s}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var s=r.splice(0,8).splice(0,7),o=s.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var l=n.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(En),Txe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ixe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tc=function(t){Txe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(En.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Ie},e.count=function(r){return Ht.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,s=n[0],o=1;o<r.length;o++)n[o]>s&&(s=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,s=n[0],o=1;o<r.length;o++)n[o]<s&&(s=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,s=r[0]+r[1],o=s+r[2]+r[3],l=s/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=Ixe(r),h=d.next();!h.done;h=d.next()){var f=h.value;f>u&&(u=f),f<c&&(c=f)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(En),ag=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),Nk=function(){function t(e,r,n,i,s){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new nt(n,s)),this.resultPoints.push(new nt(i,s))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),Dxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vu=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,s,o=0;try{for(var l=Dxe(e),c=l.next();!c.done;c=l.next()){var u=c.value;o+=u}}catch(y){i={error:y}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}for(var d=0,h=0,f=e.length,p=0;p<f-1;p++){var m=void 0;for(m=1,h|=1<<p;m<e[p];m++,h&=~(1<<p)){var x=t.combins(o-m-1,f-p-2);if(n&&h===0&&o-m-(f-p-1)>=f-p-1&&(x-=t.combins(o-m-(f-p),f-p-2)),f-p-1>1){for(var g=0,b=o-m-(f-p-2);b>r;b--)g+=t.combins(o-m-b-1,f-p-3);x-=g*(f-1-p)}else o-m>r&&x--;d+=x}o-=m}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var s=1,o=1,l=e;l>n;l--)s*=l,o<=i&&(s/=o,o++);for(;o<=i;)s/=o,o++;return s},t}(),Mxe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new $n(n),s=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)l&1<<c&&i.set(s),s++;for(var c=1;c<e.length;++c){for(var u=e[c],d=u.getLeftChar().getValue(),h=11;h>=0;--h)d&1<<h&&i.set(s),s++;if(u.getRightChar()!==null)for(var f=u.getRightChar().getValue(),h=11;h>=0;--h)f&1<<h&&i.set(s),s++}return i},t}(),Vl=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),nj=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),Lxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ya=function(t){Lxe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(nj),Rxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gl=function(t){Rxe(e,t);function e(r,n,i){var s=t.call(this,r)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=n,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(nj),Fxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ku=function(t){Fxe(e,t);function e(r,n,i){var s=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new He;return s.firstDigit=n,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(nj),vm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bxe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,s,o,l,c,u;if(!e)return null;if(e.length<2)throw new Ie;var d=e.substring(0,2);try{for(var h=vm(t.TWO_DIGIT_DATA_LENGTH),f=h.next();!f.done;f=h.next()){var p=f.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(S){r={error:S}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(e.length<3)throw new Ie;var m=e.substring(0,3);try{for(var x=vm(t.THREE_DIGIT_DATA_LENGTH),g=x.next();!g.done;g=x.next()){var p=g.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(S){i={error:S}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}try{for(var b=vm(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=b.next();!y.done;y=b.next()){var p=y.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(S){o={error:S}}finally{try{y&&!y.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}if(e.length<4)throw new Ie;var w=e.substring(0,4);try{for(var j=vm(t.FOUR_DIGIT_DATA_LENGTH),_=j.next();!_.done;_=j.next()){var p=_.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(S){c={error:S}}finally{try{_&&!_.done&&(u=j.return)&&u.call(j)}finally{if(c)throw c.error}}throw new Ie},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Ie;var i=n.substring(0,e);if(n.length<e+r)throw new Ie;var s=n.substring(e,e+r),o=n.substring(e+r),l="("+i+")"+s,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),s;n.length<e+r?s=n.length:s=e+r;var o=n.substring(e,s),l=n.substring(s),c="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(l);return u==null?c:c+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),zm=function(){function t(e){this.buffer=new Ot,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var s=this.decodeGeneralPurposeField(n,i),o=Bxe.parseFieldsInGeneralPurpose(s.getNewString());if(o!=null&&e.append(o),s.isRemaining()?i=""+s.getRemainingValue():i=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new ku(this.information.getSize(),ku.FNC1,ku.FNC1):new ku(this.information.getSize(),r-1,ku.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,s=(n-8)%11;return new ku(e+7,i,s)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,s=0;s<n;++s)e.get(r+s)&&(i|=1<<n-s-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Gl(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Gl(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Gl(this.current.getPosition(),this.buffer.toString()):r=new Gl(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Vl(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Gl(this.current.getPosition(),this.buffer.toString());return new Vl(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vl(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Gl(this.current.getPosition(),this.buffer.toString());return new Vl(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vl(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Gl(this.current.getPosition(),this.buffer.toString());return new Vl(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vl(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ya(e+5,Ya.FNC1);if(r>=5&&r<15)return new Ya(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ya(e+7,""+(n+1));if(n>=90&&n<116)return new Ya(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new He}return new Ya(e+8,s)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ya(e+5,Ya.FNC1);if(r>=5&&r<15)return new Ya(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ya(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new W0("Decoding invalid alphanumeric value: "+n)}return new Ya(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),_k=function(){function t(e){this.information=e,this.generalDecoder=new zm(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),$xe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ts=function(t){$xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var s=0;s<4;++s){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,s=0;s<13;s++){var o=r.charAt(s+n).charCodeAt(0)-48;i+=s&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(_k),zxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uxe=function(t){zxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ot;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(ts),qxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hxe=function(t){qxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ot;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(_k),Wxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Um=function(t){Wxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,s);for(var o=this.checkWeight(s),l=1e5,c=0;c<5;++c)o/l===0&&r.append("0"),l/=10;r.append(o)},e}(ts),Vxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sk=function(t){Vxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Um.GTIN_SIZE+e.WEIGHT_SIZE)throw new Ie;var r=new Ot;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Um.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Um),Gxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xxe=function(t){Gxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(Sk),Yxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kxe=function(t){Yxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(Sk),Jxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qxe=function(t){Jxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ts.GTIN_SIZE)throw new Ie;var r=new Ot;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ts.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ts.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(ts),Zxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ege=function(t){Zxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ts.GTIN_SIZE)throw new Ie;var r=new Ot;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ts.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ts.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ts.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(s.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ts),tge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jo=function(t){tge(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dateCode=i,s.firstAIdigits=n,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Ie;var r=new Ot;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var s=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Um);function rge(t){try{if(t.get(1))return new Uxe(t);if(!t.get(2))return new Hxe(t);var e=zm.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Xxe(t);case 5:return new Kxe(t)}var r=zm.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new Qxe(t);case 13:return new ege(t)}var n=zm.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Jo(t,"310","11");case 57:return new Jo(t,"320","11");case 58:return new Jo(t,"310","13");case 59:return new Jo(t,"320","13");case 60:return new Jo(t,"310","15");case 61:return new Jo(t,"320","15");case 62:return new Jo(t,"310","17");case 63:return new Jo(t,"320","17")}}catch(i){throw console.log(i),new W0("unknown decoder: "+t)}}var PA=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),nge=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,s){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),ige=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qo=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},age=function(t){ige(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof Ie){if(!this.pairs.length)throw new Ie;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(r,!1),s){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Ie},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,s,o=n;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,Qo(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(f){i={error:f}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(r);h.push(l);try{return this.checkRows(h,o+1)}catch(f){console.log(f)}}}throw new Ie},e.isValidSequence=function(r){var n,i;try{for(var s=Qo(e.FINDER_PATTERN_SEQUENCES),o=s.next();!o.done;o=s.next()){var l=o.value;if(!(r.length>l.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==l[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,s=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),i++}o||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new nge(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,s,o,l,c,u;try{for(var d=Qo(n),h=d.next();!h.done;h=d.next()){var f=h.value;if(f.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,Qo(f.getPairs())),x=m.next();!x.done;x=m.next()){var g=x.value,b=!1;try{for(var y=(c=void 0,Qo(r)),w=y.next();!w.done;w=y.next()){var j=w.value;if(PA.equals(g,j)){b=!0;break}}}catch(_){c={error:_}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}b||(p=!1)}}catch(_){o={error:_}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}}}}catch(_){i={error:_}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,s,o,l,c,u;try{for(var d=Qo(n),h=d.next();!h.done;h=d.next()){var f=h.value,p=!0;try{for(var m=(o=void 0,Qo(r)),x=m.next();!x.done;x=m.next()){var g=x.value,b=!1;try{for(var y=(c=void 0,Qo(f.getPairs())),w=y.next();!w.done;w=y.next()){var j=w.value;if(g.equals(j)){b=!0;break}}}catch(_){c={error:_}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}if(!b){p=!1;break}}}catch(_){o={error:_}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(_){i={error:_}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=Mxe.buildBitArray(r),i=rge(n),s=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new gi(s,null,null,c,ot.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);s+=c.getLeftChar().getChecksumPortion(),o++;var u=c.getRightChar();u!=null&&(s+=u.getChecksumPortion(),o++)}s%=211;var d=211*(o-4)+s;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var s=n.length%2===0;this.startFromEven&&(s=!s);var o,l=!0,c=-1;do this.findNextPair(r,n,c),o=this.parseFoundFinderPattern(r,i,s),o===null?c=e.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var u=this.decodeDataCharacter(r,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Ie;var d;try{d=this.decodeDataCharacter(r,o,s,!1)}catch(h){d=null,console.log(h)}return new PA(u,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var o=r.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;l<o&&(d=!r.get(l),!!d);)l++;for(var h=0,f=l,p=l;p<o;p++)if(r.get(p)!==d)s[h]++;else{if(h===3){if(u&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=f,this.startEnd[1]=p;return}u&&e.reverseCounters(s),f+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,h--}else h++;s[h]=1,d=!d}throw new Ie},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var s=r[i];r[i]=r[n-i-1],r[n-i-1]=s}},e.prototype.parseFoundFinderPattern=function(r,n,i){var s,o,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,s=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];var u=this.getDecodeFinderCounters();Sr.arraycopy(u,0,u,1,u.length-1),u[0]=s;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new Nk(d,[o,l],o,l,n)},e.prototype.decodeDataCharacter=function(r,n,i,s){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(s)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var c=0,u=o.length-1;c<u;c++,u--){var d=o[c];o[c]=o[u],o[u]=d}}var h=17,f=Ht.sum(new Int32Array(o))/h,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new Ie;for(var m=this.getOddCounts(),x=this.getEvenCounts(),g=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var y=1*o[c]/f,w=y+.5;if(w<1){if(y<.3)throw new Ie;w=1}else if(w>8){if(y>8.7)throw new Ie;w=8}var j=c/2;c&1?(x[j]=w,b[j]=y-w):(m[j]=w,g[j]=y-w)}this.adjustOddEvenCounts(h);for(var _=4*n.getValue()+(i?0:2)+(s?0:1)-1,S=0,A=0,c=m.length-1;c>=0;c--){if(e.isNotA1left(n,i,s)){var O=e.WEIGHTS[_][2*c];A+=m[c]*O}S+=m[c]}for(var M=0,c=x.length-1;c>=0;c--)if(e.isNotA1left(n,i,s)){var O=e.WEIGHTS[_][2*c+1];M+=x[c]*O}var B=A+M;if(S&1||S>13||S<4)throw new Ie;var T=(13-S)/2,E=e.SYMBOL_WIDEST[T],R=9-E,F=Vu.getRSSvalue(m,E,!0),W=Vu.getRSSvalue(x,R,!1),$=e.EVEN_TOTAL_SUBSET[T],z=e.GSUM[T],X=F*$+W+z;return new ag(X,B)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=Ht.sum(new Int32Array(this.getOddCounts())),i=Ht.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var u=n+i-r,d=(n&1)===1,h=(i&1)===0;if(u===1)if(d){if(h)throw new Ie;o=!0}else{if(!h)throw new Ie;c=!0}else if(u===-1)if(d){if(h)throw new Ie;s=!0}else{if(!h)throw new Ie;l=!0}else if(u===0){if(d){if(!h)throw new Ie;n<i?(s=!0,c=!0):(o=!0,l=!0)}else if(h)throw new Ie}else throw new Ie;if(s){if(o)throw new Ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(tc),sge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oge=function(t){sge(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(ag),lge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kA=function(t){lge(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var s,o,l,c,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var h=Tb(this.possibleLeftPairs),f=h.next();!f.done;f=h.next()){var p=f.value;if(p.getCount()>1)try{for(var m=(l=void 0,Tb(this.possibleRightPairs)),x=m.next();!x.done;x=m.next()){var g=x.value;if(g.getCount()>1&&e.checkChecksum(p,g))return e.constructResult(p,g)}}catch(b){l={error:b}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}}}catch(b){s={error:b}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}throw new Ie},e.addOrTally=function(r,n){var i,s;if(n!=null){var o=!1;try{for(var l=Tb(r),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),s=new String(i).toString(),o=new Ot,l=13-s.length;l>0;l--)o.append("0");o.append(s);for(var c=0,l=0;l<13;l++){var u=o.charAt(l).charCodeAt(0)-48;c+=l&1?u:3*u}c=10-c%10,c===10&&(c=0),o.append(c.toString());var d=r.getFinderPattern().getResultPoints(),h=n.getFinderPattern().getResultPoints();return new gi(o.toString(),null,0,[d[0],d[1],h[0],h[1]],ot.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(r,n,i,s){try{var o=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,i,n,o),c=s==null?null:s.get(Ar.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new nt(u,i))}var d=this.decodeDataCharacter(r,l,!0),h=this.decodeDataCharacter(r,l,!1);return new oge(1597*d.getValue()+h.getValue(),d.getChecksumPortion()+4*h.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)En.recordPatternInReverse(r,n.getStartEnd()[0],s);else{En.recordPattern(r,n.getStartEnd()[1]+1,s);for(var l=0,c=s.length-1;l<c;l++,c--){var u=s[l];s[l]=s[c],s[c]=u}}for(var d=i?16:15,h=Ht.sum(new Int32Array(s))/d,f=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var g=s[l]/h,b=Math.floor(g+.5);b<1?b=1:b>8&&(b=8);var y=Math.floor(l/2);l&1?(p[y]=b,x[y]=g-b):(f[y]=b,m[y]=g-b)}this.adjustOddEvenCounts(i,d);for(var w=0,j=0,l=f.length-1;l>=0;l--)j*=9,j+=f[l],w+=f[l];for(var _=0,S=0,l=p.length-1;l>=0;l--)_*=9,_+=p[l],S+=p[l];var A=j+3*_;if(i){if(w&1||w>12||w<4)throw new Ie;var O=(12-w)/2,M=e.OUTSIDE_ODD_WIDEST[O],B=9-M,T=Vu.getRSSvalue(f,M,!1),E=Vu.getRSSvalue(p,B,!0),R=e.OUTSIDE_EVEN_TOTAL_SUBSET[O],F=e.OUTSIDE_GSUM[O];return new ag(T*R+E+F,A)}else{if(S&1||S>10||S<4)throw new Ie;var O=(10-S)/2,M=e.INSIDE_ODD_WIDEST[O],B=9-M,T=Vu.getRSSvalue(f,M,!0),E=Vu.getRSSvalue(p,B,!1),W=e.INSIDE_ODD_TOTAL_SUBSET[O],F=e.INSIDE_GSUM[O];return new ag(E*W+T+F,A)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=r.getSize(),o=!1,l=0;l<s&&(o=!r.get(l),n!==o);)l++;for(var c=0,u=l,d=l;d<s;d++)if(r.get(d)!==o)i[c]++;else{if(c===3){if(tc.isFinderPattern(i))return[u,d];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new Ie},e.prototype.parseFoundFinderPattern=function(r,n,i,s){for(var o=r.get(s[0]),l=s[0]-1;l>=0&&o!==r.get(l);)l--;l++;var c=s[0]-l,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Sr.arraycopy(u,0,d,1,u.length-1),d[0]=c;var h=this.parseFinderValue(d,e.FINDER_PATTERNS),f=l,p=s[1];return i&&(f=r.getSize()-1-f,p=r.getSize()-1-p),new Nk(h,[l,s[1]],f,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=Ht.sum(new Int32Array(this.getOddCounts())),s=Ht.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,u=!1;r?(i>12?l=!0:i<4&&(o=!0),s>12?u=!0:s<4&&(c=!0)):(i>11?l=!0:i<5&&(o=!0),s>10?u=!0:s<4&&(c=!0));var d=i+s-n,h=(i&1)===(r?1:0),f=(s&1)===1;if(d===1)if(h){if(f)throw new Ie;l=!0}else{if(!f)throw new Ie;u=!0}else if(d===-1)if(h){if(f)throw new Ie;o=!0}else{if(!f)throw new Ie;c=!0}else if(d===0){if(h){if(!f)throw new Ie;i<s?(o=!0,u=!0):(l=!0,c=!0)}else if(f)throw new Ie}else throw new Ie;if(o){if(l)throw new Ie;tc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&tc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Ie;tc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&tc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(tc),cge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gu=function(t){cge(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Ar.POSSIBLE_FORMATS):null,s=r&&r.get(Ar.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(Ar.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(ot.EAN_13)||i.includes(ot.UPC_A)||i.includes(ot.EAN_8)||i.includes(ot.UPC_E))&&n.readers.push(new kb(r)),i.includes(ot.CODE_39)&&n.readers.push(new wA(s,o)),i.includes(ot.CODE_93)&&n.readers.push(new jA),i.includes(ot.CODE_128)&&n.readers.push(new yA),i.includes(ot.ITF)&&n.readers.push(new NA),i.includes(ot.CODABAR)&&n.readers.push(new kxe),i.includes(ot.RSS_14)&&n.readers.push(new kA),i.includes(ot.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new age))),n.readers.length===0&&(n.readers.push(new kb(r)),n.readers.push(new wA),n.readers.push(new jA),n.readers.push(new kb(r)),n.readers.push(new yA),n.readers.push(new NA),n.readers.push(new kA)),n}return e.prototype.decodeRow=function(r,n,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(r,n,i)}catch{}throw new Ie},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(En),uge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){uge(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Gu(n),r,n)||this}return e})(ah);var TA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},er=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Xt=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),dge=function(){function t(e,r,n,i,s,o){var l,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=o;var u=0,d=o.getECCodewords(),h=o.getECBlocks();try{for(var f=TA(h),p=f.next();!p.done;p=f.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(x){l={error:x}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new He;try{for(var s=TA(t.VERSIONS),o=s.next();!o.done;o=s.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}throw new He},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new er(5,new Xt(1,3))),new t(2,12,12,10,10,new er(7,new Xt(1,5))),new t(3,14,14,12,12,new er(10,new Xt(1,8))),new t(4,16,16,14,14,new er(12,new Xt(1,12))),new t(5,18,18,16,16,new er(14,new Xt(1,18))),new t(6,20,20,18,18,new er(18,new Xt(1,22))),new t(7,22,22,20,20,new er(20,new Xt(1,30))),new t(8,24,24,22,22,new er(24,new Xt(1,36))),new t(9,26,26,24,24,new er(28,new Xt(1,44))),new t(10,32,32,14,14,new er(36,new Xt(1,62))),new t(11,36,36,16,16,new er(42,new Xt(1,86))),new t(12,40,40,18,18,new er(48,new Xt(1,114))),new t(13,44,44,20,20,new er(56,new Xt(1,144))),new t(14,48,48,22,22,new er(68,new Xt(1,174))),new t(15,52,52,24,24,new er(42,new Xt(2,102))),new t(16,64,64,14,14,new er(56,new Xt(2,140))),new t(17,72,72,16,16,new er(36,new Xt(4,92))),new t(18,80,80,18,18,new er(48,new Xt(4,114))),new t(19,88,88,20,20,new er(56,new Xt(4,144))),new t(20,96,96,22,22,new er(68,new Xt(4,174))),new t(21,104,104,24,24,new er(56,new Xt(6,136))),new t(22,120,120,18,18,new er(68,new Xt(6,175))),new t(23,132,132,20,20,new er(62,new Xt(8,163))),new t(24,144,144,22,22,new er(62,new Xt(8,156),new Xt(2,155))),new t(25,8,18,6,16,new er(7,new Xt(1,5))),new t(26,8,32,6,14,new er(11,new Xt(1,10))),new t(27,12,26,10,24,new er(14,new Xt(1,16))),new t(28,12,36,10,16,new er(18,new Xt(1,22))),new t(29,16,36,14,16,new er(24,new Xt(1,32))),new t(30,16,48,14,22,new er(28,new Xt(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),hge=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new He;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new $s(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return dge.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,s=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,u=!1,d=!1;do if(n===s&&i===0&&!l)e[r++]=this.readCorner1(s,o)&255,n-=2,i+=2,l=!0;else if(n===s-2&&i===0&&o&3&&!c)e[r++]=this.readCorner2(s,o)&255,n-=2,i+=2,c=!0;else if(n===s+4&&i===2&&!(o&7)&&!u)e[r++]=this.readCorner3(s,o)&255,n-=2,i+=2,u=!0;else if(n===s-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(s,o)&255,n-=2,i+=2,d=!0;else{do n<s&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,o)&255),n+=2,i-=2;while(n<s&&i>=0);n+=3,i+=1}while(n<s||i<o);if(r!==this.version.getTotalCodewords())throw new He;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var s=0;return this.readModule(e-2,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-2,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r,n,i)&&(s|=1),s<<=1,this.readModule(e,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e,r,n,i)&&(s|=1),s},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new lt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),o=r/i|0,l=n/s|0,c=o*i,u=l*s,d=new $s(u,c),h=0;h<o;++h)for(var f=h*i,p=0;p<l;++p)for(var m=p*s,x=0;x<i;++x)for(var g=h*(i+2)+1+x,b=f+x,y=0;y<s;++y){var w=p*(s+2)+1+y;if(e.get(w,g)){var j=m+y;d.set(j,b)}}return d},t}(),IA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fge=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,s,o,l=r.getECBlocks(),c=0,u=l.getECBlocks();try{for(var d=IA(u),h=d.next();!h.done;h=d.next()){var f=h.value;c+=f.getCount()}}catch(F){n={error:F}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(c),m=0;try{for(var x=IA(u),g=x.next();!g.done;g=x.next())for(var f=g.value,b=0;b<f.getCount();b++){var y=f.getDataCodewords(),w=l.getECCodewords()+y;p[m++]=new t(y,new Uint8Array(w))}}catch(F){s={error:F}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}for(var j=p[0].codewords.length,_=j-l.getECCodewords(),S=_-1,A=0,b=0;b<S;b++)for(var O=0;O<m;O++)p[O].codewords[b]=e[A++];for(var M=r.getVersionNumber()===24,B=M?8:m,O=0;O<B;O++)p[O].codewords[_-1]=e[A++];for(var T=p[0].codewords.length,b=_;b<T;b++)for(var O=0;O<m;O++){var E=M?(O+8)%m:O,R=M&&E>7?b-1:b;p[E].codewords[R]=e[A++]}if(A!==e.length)throw new lt;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Ak=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new lt(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,s=this.bytes;if(n>0){var o=8-n,l=e<o?e:o,c=o-l,u=255>>8-l<<c;r=(s[i]&u)>>c,e-=l,n+=l,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|s[i]&255,i++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;r=r<<e|(s[i]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),vn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(vn||(vn={}));var pge=function(){function t(){}return t.decode=function(e){var r=new Ak(e),n=new Ot,i=new Ot,s=new Array,o=vn.ASCII_ENCODE;do if(o===vn.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case vn.C40_ENCODE:this.decodeC40Segment(r,n);break;case vn.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case vn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case vn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case vn.BASE256_ENCODE:this.decodeBase256Segment(r,n,s);break;default:throw new He}o=vn.ASCII_ENCODE}while(o!==vn.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new w1(e,n.toString(),s.length===0?null:s,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var s=e.readBits(8);if(s===0)throw new He;if(s<=128)return i&&(s+=128),r.append(String.fromCharCode(s-1)),vn.ASCII_ENCODE;if(s===129)return vn.PAD_ENCODE;if(s<=229){var o=s-130;o<10&&r.append("0"),r.append(""+o)}else switch(s){case 230:return vn.C40_ENCODE;case 231:return vn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return vn.ANSIX12_ENCODE;case 239:return vn.TEXT_ENCODE;case 240:return vn.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new He;break}}while(e.available()>0);return vn.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(s){case 0:if(c<3)s=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new He;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),s=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new He}s=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),s=0;break;default:throw new He}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(s){case 0:if(c<3)s=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new He;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),s=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new He}s=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),s=0}else throw new He;break;default:throw new He}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var s=0;s<3;s++){var o=n[s];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new He;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,s=Math.floor(i/1600);n[0]=s,i-=s*1600,s=Math.floor(i/40),n[1]=s,n[2]=i-s*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),o;if(s===0?o=e.available()/8|0:s<250?o=s:o=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new He;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new He;l[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(l);try{r.append(Pa.decode(l,zt.ISO88591))}catch(u){throw new W0("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),mge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xge=function(){function t(){this.rsDecoder=new j1(zi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new hge(e),s=i.getVersion(),o=i.readCodewords(),l=fge.getDataBlocks(o,s),c=0;try{for(var u=mge(l),d=u.next();!d.done;d=u.next()){var h=d.value;c+=h.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var f=new Uint8Array(c),p=l.length,m=0;m<p;m++){var x=l[m],g=x.getCodewords(),b=x.getNumDataCodewords();this.correctErrors(g,b);for(var y=0;y<b;y++)f[y*p+m]=g[y]}return pge.decode(f)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new dn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),gge=function(){function t(e){this.image=e,this.rectangleDetector=new tw(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Ie;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],s=r[2],o=r[3],l=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(s,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var u=t.sampleGrid(this.image,n,i,s,o,l,c);return new tj(u,[n,i,s,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),s=(r.getY()-e.getY())/(n+1);return new nt(e.getX()+i,e.getY()+s)},t.moveAway=function(e,r,n){var i=e.getX(),s=e.getY();return i<r?i-=1:i+=1,s<n?s-=1:s+=1,new nt(i,s)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],s=e[2],o=this.transitionsBetween(r,n),l=this.transitionsBetween(n,i),c=this.transitionsBetween(i,s),u=this.transitionsBetween(s,r),d=o,h=[s,r,n,i];return d>l&&(d=l,h[0]=r,h[1]=n,h[2]=i,h[3]=s),d>c&&(d=c,h[0]=n,h[1]=i,h[2]=s,h[3]=r),d>u&&(h[0]=i,h[1]=s,h[2]=r,h[3]=n),h},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s),l=t.shiftPoint(n,i,(o+1)*4),c=t.shiftPoint(i,n,(o+1)*4),u=this.transitionsBetween(l,r),d=this.transitionsBetween(c,s);return u<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=s):(e[0]=n,e[1]=i,e[2]=s,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s),l=this.transitionsBetween(n,s),c=t.shiftPoint(r,n,(l+1)*4),u=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(c,s),l=this.transitionsBetween(u,s);var d=new nt(s.getX()+(i.getX()-n.getX())/(o+1),s.getY()+(i.getY()-n.getY())/(o+1)),h=new nt(s.getX()+(r.getX()-n.getX())/(l+1),s.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(d))return this.isValid(h)?h:null;if(!this.isValid(h))return d;var f=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,h)+this.transitionsBetween(u,h);return f>p?d:h},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s)+1,l=this.transitionsBetween(i,s)+1,c=t.shiftPoint(r,n,l*4),u=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(c,s)+1,l=this.transitionsBetween(u,s)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var d=(r.getX()+n.getX()+i.getX()+s.getX())/4,h=(r.getY()+n.getY()+i.getY()+s.getY())/4;r=t.moveAway(r,d,h),n=t.moveAway(n,d,h),i=t.moveAway(i,d,h),s=t.moveAway(s,d,h);var f,p;return c=t.shiftPoint(r,n,l*4),c=t.shiftPoint(c,s,o*4),f=t.shiftPoint(n,r,l*4),f=t.shiftPoint(f,i,o*4),u=t.shiftPoint(i,s,l*4),u=t.shiftPoint(u,n,o*4),p=t.shiftPoint(s,i,l*4),p=t.shiftPoint(p,r,o*4),[c,f,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,s,o,l){var c=rj.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),s.getX(),s.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-i)>Math.abs(s-n);if(l){var c=n;n=i,i=c,c=s,s=o,o=c}for(var u=Math.abs(s-n),d=Math.abs(o-i),h=-u/2,f=i<o?1:-1,p=n<s?1:-1,m=0,x=this.image.get(l?i:n,l?n:i),g=n,b=i;g!==s;g+=p){var y=this.image.get(l?b:g,l?g:b);if(y!==x&&(m++,x=y),h+=d,h>0){if(b===o)break;b+=f,h-=u}}return m},t}(),sg=function(){function t(){this.decoder=new xge}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Ar.PURE_BARCODE)){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(s),i=t.NO_POINTS}else{var o=new gge(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=n.getRawBytes(),c=new gi(n.getText(),l,8*l.length,i,ot.DATA_MATRIX,Sr.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Zn.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(Zn.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Ie;var i=this.moduleSize(r,e),s=r[1],o=n[1],l=r[0],c=n[0],u=(c-l+1)/i,d=(o-s+1)/i;if(u<=0||d<=0)throw new Ie;var h=i/2;s+=h,l+=h;for(var f=new $s(u,d),p=0;p<d;p++)for(var m=s+p*i,x=0;x<u;x++)e.get(l+x*i,m)&&f.set(x,p);return f},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],s=e[1];i<n&&r.get(i,s);)i++;if(i===n)throw new Ie;var o=i-e[0];if(o===0)throw new Ie;return o},t.NO_POINTS=[],t}(),vge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){vge(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new sg,r)||this}return e})(ah);var Xu;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Xu||(Xu={}));var bge=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Jr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new lt;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Xu.L,"L",1),t.M=new t(Xu.M,"M",0),t.Q=new t(Xu.Q,"Q",3),t.H=new t(Xu.H,"H",2),t}(),yge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ck=function(){function t(e){this.errorCorrectionLevel=bge.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return kt.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,s=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=yge(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var u=c.value,d=u[0];if(d===e||d===r)return new t(u[1]);var h=t.numBitsDiffering(e,d);h<s&&(o=u[1],s=h),e!==r&&(h=t.numBitsDiffering(r,d),h<s&&(o=u[1],s=h))}}catch(f){n={error:f}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return s<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),wge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ee=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var s=wge(i),o=s.next();!o.done;o=s.next()){var l=o.value;n+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),ie=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),jge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jc=function(){function t(e,r){for(var n,i,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=s;var l=0,c=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();try{for(var d=jge(u),h=d.next();!h.done;h=d.next()){var f=h.value;l+=f.getCount()*(f.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new He;try{return this.getVersionForNumber((e-17)/4)}catch{throw new He}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new lt;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var s=t.VERSION_DECODE_INFO[i];if(s===e)return t.getVersionForNumber(i+7);var o=Ck.numBitsDiffering(e,s);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new $s(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var s=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,s,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Ee(7,new ie(1,19)),new Ee(10,new ie(1,16)),new Ee(13,new ie(1,13)),new Ee(17,new ie(1,9))),new t(2,Int32Array.from([6,18]),new Ee(10,new ie(1,34)),new Ee(16,new ie(1,28)),new Ee(22,new ie(1,22)),new Ee(28,new ie(1,16))),new t(3,Int32Array.from([6,22]),new Ee(15,new ie(1,55)),new Ee(26,new ie(1,44)),new Ee(18,new ie(2,17)),new Ee(22,new ie(2,13))),new t(4,Int32Array.from([6,26]),new Ee(20,new ie(1,80)),new Ee(18,new ie(2,32)),new Ee(26,new ie(2,24)),new Ee(16,new ie(4,9))),new t(5,Int32Array.from([6,30]),new Ee(26,new ie(1,108)),new Ee(24,new ie(2,43)),new Ee(18,new ie(2,15),new ie(2,16)),new Ee(22,new ie(2,11),new ie(2,12))),new t(6,Int32Array.from([6,34]),new Ee(18,new ie(2,68)),new Ee(16,new ie(4,27)),new Ee(24,new ie(4,19)),new Ee(28,new ie(4,15))),new t(7,Int32Array.from([6,22,38]),new Ee(20,new ie(2,78)),new Ee(18,new ie(4,31)),new Ee(18,new ie(2,14),new ie(4,15)),new Ee(26,new ie(4,13),new ie(1,14))),new t(8,Int32Array.from([6,24,42]),new Ee(24,new ie(2,97)),new Ee(22,new ie(2,38),new ie(2,39)),new Ee(22,new ie(4,18),new ie(2,19)),new Ee(26,new ie(4,14),new ie(2,15))),new t(9,Int32Array.from([6,26,46]),new Ee(30,new ie(2,116)),new Ee(22,new ie(3,36),new ie(2,37)),new Ee(20,new ie(4,16),new ie(4,17)),new Ee(24,new ie(4,12),new ie(4,13))),new t(10,Int32Array.from([6,28,50]),new Ee(18,new ie(2,68),new ie(2,69)),new Ee(26,new ie(4,43),new ie(1,44)),new Ee(24,new ie(6,19),new ie(2,20)),new Ee(28,new ie(6,15),new ie(2,16))),new t(11,Int32Array.from([6,30,54]),new Ee(20,new ie(4,81)),new Ee(30,new ie(1,50),new ie(4,51)),new Ee(28,new ie(4,22),new ie(4,23)),new Ee(24,new ie(3,12),new ie(8,13))),new t(12,Int32Array.from([6,32,58]),new Ee(24,new ie(2,92),new ie(2,93)),new Ee(22,new ie(6,36),new ie(2,37)),new Ee(26,new ie(4,20),new ie(6,21)),new Ee(28,new ie(7,14),new ie(4,15))),new t(13,Int32Array.from([6,34,62]),new Ee(26,new ie(4,107)),new Ee(22,new ie(8,37),new ie(1,38)),new Ee(24,new ie(8,20),new ie(4,21)),new Ee(22,new ie(12,11),new ie(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Ee(30,new ie(3,115),new ie(1,116)),new Ee(24,new ie(4,40),new ie(5,41)),new Ee(20,new ie(11,16),new ie(5,17)),new Ee(24,new ie(11,12),new ie(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Ee(22,new ie(5,87),new ie(1,88)),new Ee(24,new ie(5,41),new ie(5,42)),new Ee(30,new ie(5,24),new ie(7,25)),new Ee(24,new ie(11,12),new ie(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Ee(24,new ie(5,98),new ie(1,99)),new Ee(28,new ie(7,45),new ie(3,46)),new Ee(24,new ie(15,19),new ie(2,20)),new Ee(30,new ie(3,15),new ie(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Ee(28,new ie(1,107),new ie(5,108)),new Ee(28,new ie(10,46),new ie(1,47)),new Ee(28,new ie(1,22),new ie(15,23)),new Ee(28,new ie(2,14),new ie(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Ee(30,new ie(5,120),new ie(1,121)),new Ee(26,new ie(9,43),new ie(4,44)),new Ee(28,new ie(17,22),new ie(1,23)),new Ee(28,new ie(2,14),new ie(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Ee(28,new ie(3,113),new ie(4,114)),new Ee(26,new ie(3,44),new ie(11,45)),new Ee(26,new ie(17,21),new ie(4,22)),new Ee(26,new ie(9,13),new ie(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Ee(28,new ie(3,107),new ie(5,108)),new Ee(26,new ie(3,41),new ie(13,42)),new Ee(30,new ie(15,24),new ie(5,25)),new Ee(28,new ie(15,15),new ie(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Ee(28,new ie(4,116),new ie(4,117)),new Ee(26,new ie(17,42)),new Ee(28,new ie(17,22),new ie(6,23)),new Ee(30,new ie(19,16),new ie(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Ee(28,new ie(2,111),new ie(7,112)),new Ee(28,new ie(17,46)),new Ee(30,new ie(7,24),new ie(16,25)),new Ee(24,new ie(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Ee(30,new ie(4,121),new ie(5,122)),new Ee(28,new ie(4,47),new ie(14,48)),new Ee(30,new ie(11,24),new ie(14,25)),new Ee(30,new ie(16,15),new ie(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Ee(30,new ie(6,117),new ie(4,118)),new Ee(28,new ie(6,45),new ie(14,46)),new Ee(30,new ie(11,24),new ie(16,25)),new Ee(30,new ie(30,16),new ie(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Ee(26,new ie(8,106),new ie(4,107)),new Ee(28,new ie(8,47),new ie(13,48)),new Ee(30,new ie(7,24),new ie(22,25)),new Ee(30,new ie(22,15),new ie(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Ee(28,new ie(10,114),new ie(2,115)),new Ee(28,new ie(19,46),new ie(4,47)),new Ee(28,new ie(28,22),new ie(6,23)),new Ee(30,new ie(33,16),new ie(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Ee(30,new ie(8,122),new ie(4,123)),new Ee(28,new ie(22,45),new ie(3,46)),new Ee(30,new ie(8,23),new ie(26,24)),new Ee(30,new ie(12,15),new ie(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Ee(30,new ie(3,117),new ie(10,118)),new Ee(28,new ie(3,45),new ie(23,46)),new Ee(30,new ie(4,24),new ie(31,25)),new Ee(30,new ie(11,15),new ie(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Ee(30,new ie(7,116),new ie(7,117)),new Ee(28,new ie(21,45),new ie(7,46)),new Ee(30,new ie(1,23),new ie(37,24)),new Ee(30,new ie(19,15),new ie(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Ee(30,new ie(5,115),new ie(10,116)),new Ee(28,new ie(19,47),new ie(10,48)),new Ee(30,new ie(15,24),new ie(25,25)),new Ee(30,new ie(23,15),new ie(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Ee(30,new ie(13,115),new ie(3,116)),new Ee(28,new ie(2,46),new ie(29,47)),new Ee(30,new ie(42,24),new ie(1,25)),new Ee(30,new ie(23,15),new ie(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Ee(30,new ie(17,115)),new Ee(28,new ie(10,46),new ie(23,47)),new Ee(30,new ie(10,24),new ie(35,25)),new Ee(30,new ie(19,15),new ie(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Ee(30,new ie(17,115),new ie(1,116)),new Ee(28,new ie(14,46),new ie(21,47)),new Ee(30,new ie(29,24),new ie(19,25)),new Ee(30,new ie(11,15),new ie(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Ee(30,new ie(13,115),new ie(6,116)),new Ee(28,new ie(14,46),new ie(23,47)),new Ee(30,new ie(44,24),new ie(7,25)),new Ee(30,new ie(59,16),new ie(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Ee(30,new ie(12,121),new ie(7,122)),new Ee(28,new ie(12,47),new ie(26,48)),new Ee(30,new ie(39,24),new ie(14,25)),new Ee(30,new ie(22,15),new ie(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Ee(30,new ie(6,121),new ie(14,122)),new Ee(28,new ie(6,47),new ie(34,48)),new Ee(30,new ie(46,24),new ie(10,25)),new Ee(30,new ie(2,15),new ie(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Ee(30,new ie(17,122),new ie(4,123)),new Ee(28,new ie(29,46),new ie(14,47)),new Ee(30,new ie(49,24),new ie(10,25)),new Ee(30,new ie(24,15),new ie(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Ee(30,new ie(4,122),new ie(18,123)),new Ee(28,new ie(13,46),new ie(32,47)),new Ee(30,new ie(48,24),new ie(14,25)),new Ee(30,new ie(42,15),new ie(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Ee(30,new ie(20,117),new ie(4,118)),new Ee(28,new ie(40,47),new ie(7,48)),new Ee(30,new ie(43,24),new ie(22,25)),new Ee(30,new ie(10,15),new ie(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Ee(30,new ie(19,118),new ie(6,119)),new Ee(28,new ie(18,47),new ie(31,48)),new Ee(30,new ie(34,24),new ie(34,25)),new Ee(30,new ie(20,15),new ie(61,16)))],t}(),Mn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Mn||(Mn={}));var DA=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Mn.DATA_MASK_000,new t(Mn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Mn.DATA_MASK_001,new t(Mn.DATA_MASK_001,function(e,r){return(e&1)===0})],[Mn.DATA_MASK_010,new t(Mn.DATA_MASK_010,function(e,r){return r%3===0})],[Mn.DATA_MASK_011,new t(Mn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Mn.DATA_MASK_100,new t(Mn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Mn.DATA_MASK_101,new t(Mn.DATA_MASK_101,function(e,r){return e*r%6===0})],[Mn.DATA_MASK_110,new t(Mn.DATA_MASK_110,function(e,r){return e*r%6<3})],[Mn.DATA_MASK_111,new t(Mn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),Nge=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new He;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),s=0,o=i-7,n=i-1;n>=o;n--)s=this.copyBit(8,n,s);for(var r=i-8;r<i;r++)s=this.copyBit(r,8,s);if(this.parsedFormatInfo=Ck.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new He},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return jc.getVersionForNumber(r);for(var n=0,i=e-11,s=5;s>=0;s--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,s,n);var l=jc.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;n=0;for(var o=5;o>=0;o--)for(var s=e-9;s>=i;s--)n=this.copyBit(o,s,n);if(l=jc.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new He},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=DA.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var s=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,h=i-1;h>0;h-=2){h===6&&h--;for(var f=0;f<i;f++)for(var p=o?i-1-f:f,m=0;m<2;m++)s.get(h-m,p)||(d++,u<<=1,this.bitMatrix.get(h-m,p)&&(u|=1),d===8&&(l[c++]=u,d=0,u=0));o=!o}if(c!==r.getTotalCodewords())throw new He;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=DA.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,s=e.getHeight();i<s;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),MA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_ge=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,s,o,l;if(e.length!==r.getTotalCodewords())throw new lt;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var h=MA(d),f=h.next();!f.done;f=h.next()){var p=f.value;u+=p.getCount()}}catch(R){i={error:R}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var m=new Array(u),x=0;try{for(var g=MA(d),b=g.next();!b.done;b=g.next())for(var p=b.value,y=0;y<p.getCount();y++){var w=p.getDataCodewords(),j=c.getECCodewordsPerBlock()+w;m[x++]=new t(w,new Uint8Array(j))}}catch(R){o={error:R}}finally{try{b&&!b.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}for(var _=m[0].codewords.length,S=m.length-1;S>=0;){var A=m[S].codewords.length;if(A===_)break;S--}S++;for(var O=_-c.getECCodewordsPerBlock(),M=0,y=0;y<O;y++)for(var B=0;B<x;B++)m[B].codewords[y]=e[M++];for(var B=S;B<x;B++)m[B].codewords[O]=e[M++];for(var T=m[0].codewords.length,y=O;y<T;y++)for(var B=0;B<x;B++){var E=B<S?y:y+1;m[B].codewords[E]=e[M++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),_a;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(_a||(_a={}));var Pr=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new lt;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(_a.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(_a.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(_a.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(_a.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(_a.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(_a.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(_a.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(_a.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(_a.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(_a.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),Sge=function(){function t(){}return t.decode=function(e,r,n,i){var s=new Ak(e),o=new Ot,l=new Array,c=-1,u=-1;try{var d=null,h=!1,f=void 0;do{if(s.available()<4)f=Pr.TERMINATOR;else{var p=s.readBits(4);f=Pr.forBits(p)}switch(f){case Pr.TERMINATOR:break;case Pr.FNC1_FIRST_POSITION:case Pr.FNC1_SECOND_POSITION:h=!0;break;case Pr.STRUCTURED_APPEND:if(s.available()<16)throw new He;c=s.readBits(8),u=s.readBits(8);break;case Pr.ECI:var m=t.parseECIValue(s);if(d=Nn.getCharacterSetECIByValue(m),d===null)throw new He;break;case Pr.HANZI:var x=s.readBits(4),g=s.readBits(f.getCharacterCountBits(r));x===t.GB2312_SUBSET&&t.decodeHanziSegment(s,o,g);break;default:var b=s.readBits(f.getCharacterCountBits(r));switch(f){case Pr.NUMERIC:t.decodeNumericSegment(s,o,b);break;case Pr.ALPHANUMERIC:t.decodeAlphanumericSegment(s,o,b,h);break;case Pr.BYTE:t.decodeByteSegment(s,o,b,d,l,i);break;case Pr.KANJI:t.decodeKanjiSegment(s,o,b);break;default:throw new He}break}}while(f!==Pr.TERMINATOR)}catch{throw new He}return new w1(e,o.toString(),l.length===0?null:l,n===null?null:n.toString(),c,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new He;for(var i=new Uint8Array(2*n),s=0;n>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[s]=l>>8&255,i[s+1]=l&255,s+=2,n--}try{r.append(Pa.decode(i,zt.GB2312))}catch(c){throw new He(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new He;for(var i=new Uint8Array(2*n),s=0;n>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[s]=l>>8,i[s+1]=l,s+=2,n--}try{r.append(Pa.decode(i,zt.SHIFT_JIS))}catch(c){throw new He(c)}},t.decodeByteSegment=function(e,r,n,i,s,o){if(8*n>e.available())throw new He;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=e.readBits(8);var u;i===null?u=zt.guessEncoding(l,o):u=i.getName();try{r.append(Pa.decode(l,u))}catch(d){throw new He(d)}s.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new He;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var s=r.length();n>1;){if(e.available()<11)throw new He;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new He;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=s;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new He;var i=e.readBits(10);if(i>=1e3)throw new He;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new He;var s=e.readBits(7);if(s>=100)throw new He;r.append(t.toAlphaNumericChar(Math.floor(s/10))),r.append(t.toAlphaNumericChar(s%10))}else if(n===1){if(e.available()<4)throw new He;var o=e.readBits(4);if(o>=10)throw new He;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new He},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),Ek=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),LA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Age=function(){function t(){this.rsDecoder=new j1(zi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix($s.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new Nge(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var s=this.decodeBitMatrixParser(n,r);return s.setOther(new Ek(!0)),s}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,s,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=_ge.getDataBlocks(u,l,c),h=0;try{for(var f=LA(d),p=f.next();!p.done;p=f.next()){var m=p.value;h+=m.getNumDataCodewords()}}catch(S){n={error:S}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var x=new Uint8Array(h),g=0;try{for(var b=LA(d),y=b.next();!y.done;y=b.next()){var m=y.value,w=m.getCodewords(),j=m.getNumDataCodewords();this.correctErrors(w,j);for(var _=0;_<j;_++)x[g++]=w[_]}}catch(S){s={error:S}}finally{try{y&&!y.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}return Sge.decode(x,l,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new dn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),Cge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ege=function(t){Cge(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=(this.getX()+n)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+i)/2;return new e(s,o,l)},e}(nt),Oge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pge=function(){function t(e,r,n,i,s,o,l){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=s,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,s=this.startY+r/2,o=new Int32Array(3),l=this.image,c=0;c<r;c++){var u=s+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!l.get(d,u);)d++;for(var h=0;d<i;){if(l.get(d,u))if(h===1)o[1]++;else if(h===2){if(this.foundPatternCross(o)){var f=this.handlePossibleCenter(o,u,d);if(f!==null)return f}o[0]=o[2],o[1]=1,o[2]=0,h=1}else o[++h]++;else h===1&&h++,o[h]++;d++}if(this.foundPatternCross(o)){var f=this.handlePossibleCenter(o,u,i);if(f!==null)return f}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ie},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var s=this.image,o=s.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&s.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!s.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&s.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===o||l[1]>n)return NaN;for(;c<o&&!s.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var u=l[0]+l[1]+l[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,s,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=Oge(this.possibleCenters),h=d.next();!h.done;h=d.next()){var f=h.value;if(f.aboutEquals(u,c,l))return f.combineEstimate(c,l,u)}}catch(m){i={error:m}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}var p=new Ege(l,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),kge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tge=function(t){kge(e,t);function e(r,n,i,s){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=s,s===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=this.count+1,o=(this.count*this.getX()+n)/s,l=(this.count*this.getY()+r)/s,c=(this.count*this.estimatedModuleSize+i)/s;return new e(o,l,c,s)},e}(nt),Ige=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),tf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dge=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Ar.TRY_HARDER)!==void 0,n=e!=null&&e.get(Ar.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),o=i.getWidth(),l=Math.floor(3*s/(4*t.MAX_MODULES));(l<t.MIN_SKIP||r)&&(l=t.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=l-1;d<s&&!c;d+=l){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var h=0,f=0;f<o;f++)if(i.get(f,d))(h&1)===1&&h++,u[h]++;else if(h&1)u[h]++;else if(h===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,f,n);if(p===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-l,f=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,h=3;continue}h=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,h=3;else u[++h]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,o,n);p===!0&&(l=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var x=this.selectBestPatterns();return nt.orderBestPatterns(x),new Ige(x)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var s=r/7,o=s/2;return Math.abs(s-e[0])<o&&Math.abs(s-e[1])<o&&Math.abs(3*s-e[2])<3*o&&Math.abs(s-e[3])<o&&Math.abs(s-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var s=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&r>=o&&l.get(r-o,e-o);)s[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!l.get(r-o,e-o)&&s[1]<=n;)s[1]++,o++;if(e<o||r<o||s[1]>n)return!1;for(;e>=o&&r>=o&&l.get(r-o,e-o)&&s[0]<=n;)s[0]++,o++;if(s[0]>n)return!1;var c=l.getHeight(),u=l.getWidth();for(o=1;e+o<c&&r+o<u&&l.get(r+o,e+o);)s[2]++,o++;if(e+o>=c||r+o>=u)return!1;for(;e+o<c&&r+o<u&&!l.get(r+o,e+o)&&s[3]<n;)s[3]++,o++;if(e+o>=c||r+o>=u||s[3]>=n)return!1;for(;e+o<c&&r+o<u&&l.get(r+o,e+o)&&s[4]<n;)s[4]++,o++;if(s[4]>=n)return!1;var d=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(s)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var s=this.image,o=s.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&s.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!s.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&s.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&s.get(r,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!s.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&s.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var s=this.image,o=s.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&s.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!s.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&s.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&s.get(c,r);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!s.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&s.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,Math.floor(o),e[2],s);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],s),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],s)))){for(var c=s/7,u=!1,d=this.possibleCenters,h=0,f=d.length;h<f;h++){var p=d[h];if(p.aboutEquals(c,l,o)){d[h]=p.combineEstimate(l,o,c),u=!0;break}}if(!u){var m=new Tge(o,l,c);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var s=tf(this.possibleCenters),o=s.next();!o.done;o=s.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,s=0,o=0,l=this.possibleCenters.length;try{for(var c=tf(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(s++,o+=d.getEstimatedModuleSize())}}catch(x){e={error:x}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(s<3)return!1;var h=o/l,f=0;try{for(var p=tf(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;f+=Math.abs(d.getEstimatedModuleSize()-h)}}catch(x){n={error:x}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return f<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,s=this.possibleCenters.length;if(s<3)throw new Ie;var o=this.possibleCenters,l;if(s>3){var c=0,u=0;try{for(var d=tf(this.possibleCenters),h=d.next();!h.done;h=d.next()){var f=h.value,p=f.getEstimatedModuleSize();c+=p,u+=p*p}}catch(_){e={error:_}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}l=c/s;var m=Math.sqrt(u/s-l*l);o.sort(function(_,S){var A=Math.abs(S.getEstimatedModuleSize()-l),O=Math.abs(_.getEstimatedModuleSize()-l);return A<O?-1:A>O?1:0});for(var x=Math.max(.2*l,m),g=0;g<o.length&&o.length>3;g++){var b=o[g];Math.abs(b.getEstimatedModuleSize()-l)>x&&(o.splice(g,1),g--)}}if(o.length>3){var c=0;try{for(var y=tf(o),w=y.next();!w.done;w=y.next()){var j=w.value;c+=j.getEstimatedModuleSize()}}catch(S){n={error:S}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}l=c/o.length,o.sort(function(S,A){if(A.getCount()===S.getCount()){var O=Math.abs(A.getEstimatedModuleSize()-l),M=Math.abs(S.getEstimatedModuleSize()-l);return O<M?1:O>M?-1:0}else return A.getCount()-S.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Mge=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ar.NEED_RESULT_POINT_CALLBACK);var r=new Dge(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(r,n,i);if(s<1)throw new Ie("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,s),l=jc.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,u=null;if(l.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),h=n.getY()-r.getY()+i.getY(),f=1-3/c,p=Math.floor(r.getX()+f*(d-r.getX())),m=Math.floor(r.getY()+f*(h-r.getY())),x=4;x<=16;x<<=1)try{u=this.findAlignmentInRegion(s,p,m,x);break}catch(w){if(!(w instanceof Ie))throw w}var g=t.createTransform(r,n,i,u,o),b=t.sampleGrid(this.image,g,o),y;return u===null?y=[i,r,n]:y=[i,r,n,u],new tj(b,y)},t.createTransform=function(e,r,n,i,s){var o=s-3.5,l,c,u,d;return i!==null?(l=i.getX(),c=i.getY(),u=o-3,d=u):(l=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),u=o,d=o),jk.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=rj.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var s=Ht.round(nt.distance(e,r)/i),o=Ht.round(nt.distance(e,n)/i),l=Math.floor((s+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Ie("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var s=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,l=e-(n-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),s+=this.sizeOfBlackWhiteBlackRun(e,r,l,c),s-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var s=Math.abs(i-r)>Math.abs(n-e);if(s){var o=e;e=r,r=o,o=n,n=i,i=o}for(var l=Math.abs(n-e),c=Math.abs(i-r),u=-l/2,d=e<n?1:-1,h=r<i?1:-1,f=0,p=n+d,m=e,x=r;m!==p;m+=d){var g=s?x:m,b=s?m:x;if(f===1===this.image.get(g,b)){if(f===2)return Ht.distance(m,x,e,r);f++}if(u+=c,u>0){if(x===i)break;x+=h,u-=l}}return f===2?Ht.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var s=Math.floor(i*e),o=Math.max(0,r-s),l=Math.min(this.image.getWidth()-1,r+s);if(l-o<e*3)throw new Ie("Alignment top exceeds estimated module size.");var c=Math.max(0,n-s),u=Math.min(this.image.getHeight()-1,n+s);if(u-c<e*3)throw new Ie("Alignment bottom exceeds estimated module size.");var d=new Pge(this.image,o,c,l-o,u-c,e,this.resultPointCallback);return d.find()},t}(),og=function(){function t(){this.decoder=new Age}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Ar.PURE_BARCODE)!==void 0){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(s,r),i=t.NO_POINTS}else{var o=new Mge(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof Ek&&n.getOther().applyMirroredCorrection(i);var l=new gi(n.getText(),n.getRawBytes(),void 0,i,ot.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(Zn.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&l.putMetadata(Zn.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(l.putMetadata(Zn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(Zn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Ie;var i=this.moduleSize(r,e),s=r[1],o=n[1],l=r[0],c=n[0];if(l>=c||s>=o)throw new Ie;if(o-s!==c-l&&(c=l+(o-s),c>=e.getWidth()))throw new Ie;var u=Math.round((c-l+1)/i),d=Math.round((o-s+1)/i);if(u<=0||d<=0)throw new Ie;if(d!==u)throw new Ie;var h=Math.floor(i/2);s+=h,l+=h;var f=l+Math.floor((u-1)*i)-c;if(f>0){if(f>h)throw new Ie;l-=f}var p=s+Math.floor((d-1)*i)-o;if(p>0){if(p>h)throw new Ie;s-=p}for(var m=new $s(u,d),x=0;x<d;x++)for(var g=s+Math.floor(x*i),b=0;b<u;b++)e.get(l+Math.floor(b*i),g)&&m.set(b,x);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),s=e[0],o=e[1],l=!0,c=0;s<i&&o<n;){if(l!==r.get(s,o)){if(++c===5)break;l=!l}s++,o++}if(s===i||o===n)throw new Ie;return(s-e[0])/7},t.NO_POINTS=new Array,t}(),Lge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Ht.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var o=Lge(e),l=o.next();!l.done;l=o.next()){var c=l.value;i[s++]=c}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Sn.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),Rge=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Fge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bge=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),s=t.detect(n,i);return s.length||(i=i.clone(),i.rotate180(),s=t.detect(n,i)),new Rge(i,s)},t.detect=function(e,r){for(var n,i,s=new Array,o=0,l=0,c=!1;o<r.getHeight();){var u=t.findVertices(r,o,l);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,l=0;try{for(var d=(n=void 0,Fge(s)),h=d.next();!h.done;h=d.next()){var f=h.value;f[1]!=null&&(o=Math.trunc(Math.max(o,f[1].getY()))),f[3]!=null&&(o=Math.max(o,Math.trunc(f[3].getY())))}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(c=!0,s.push(u),!e)break;u[2]!=null?(l=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return s},t.findVertices=function(e,r,n){var i=e.getHeight(),s=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,s,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,s,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,s,o){for(var l=new Array(4),c=!1,u=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,s,i,n,!1,o,u);if(d!=null){for(;i>0;){var h=t.findGuardPattern(e,s,--i,n,!1,o,u);if(h!=null)d=h;else{i++;break}}l[0]=new nt(d[0],i),l[1]=new nt(d[1],i),c=!0;break}}var f=i+1;if(c){for(var p=0,h=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);f<r;f++){var d=t.findGuardPattern(e,h[0],f,n,!1,o,u);if(d!=null&&Math.abs(h[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(h[1]-d[1])<t.MAX_PATTERN_DRIFT)h=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}f-=p+1,l[2]=new nt(h[0],f),l[3]=new nt(h[1],f)}return f-i<t.BARCODE_MIN_HEIGHT&&Sn.fill(l,null),l},t.findGuardPattern=function(e,r,n,i,s,o,l){Sn.fillWithin(l,0,l.length,0);for(var c=r,u=0;e.get(c,n)&&c>0&&u++<t.MAX_PIXEL_DRIFT;)c--;for(var d=c,h=0,f=o.length,p=s;d<i;d++){var m=e.get(d,n);if(m!==p)l[h]++;else{if(h===f-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=l[0]+l[1],Sr.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,p=!p}}return h===f-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,o=0,l=0;l<i;l++)s+=e[l],o+=r[l];if(s<o)return 1/0;var c=s/o;n*=c;for(var u=0,d=0;d<i;d++){var h=e[d],f=r[d]*c,p=h>f?h-f:f-h;if(p>n)return 1/0;u+=p}return u/s},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),$ge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pc=function(){function t(e,r){if(r.length===0)throw new lt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Sr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=$ge(this.coefficients),o=s.next();!o.done;o=s.next()){var l=o.value;i=this.field.add(i,l)}}catch(h){r={error:h}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),o=n.length-r.length;Sr.arraycopy(n,0,s,0,o);for(var l=o;l<n.length;l++)s[l]=this.field.add(r[l-o],n[l]);return new t(this.field,s)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,o=new Int32Array(n+s-1),l=0;l<n;l++)for(var c=r[l],u=0;u<s;u++)o[l+u]=this.field.add(o[l+u],this.field.multiply(c,i[u]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new lt;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),s=0;s<n;s++)i[s]=this.field.multiply(this.coefficients[s],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Ot,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),zge=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new lt;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new wk;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),Uge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qge=function(t){Uge(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var s=1,o=0;o<r;o++)i.expTable[o]=s,s=s*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new pc(i,new Int32Array([0])),i.one=new pc(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new lt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new pc(this,i)},e.PDF417_GF=new e(qt.NUMBER_OF_CODEWORDS,3),e}(zge),Hge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wge=function(){function t(){this.field=qge.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,s,o=new pc(this.field,e),l=new Int32Array(r),c=!1,u=r;u>0;u--){var d=o.evaluateAt(this.field.exp(u));l[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var h=this.field.getOne();if(n!=null)try{for(var f=Hge(n),p=f.next();!p.done;p=f.next()){var m=p.value,x=this.field.exp(e.length-1-m),g=new pc(this.field,new Int32Array([this.field.subtract(0,x),1]));h=h.multiply(g)}}catch(O){i={error:O}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}for(var b=new pc(this.field,l),y=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),b,r),w=y[0],j=y[1],_=this.findErrorLocations(w),S=this.findErrorMagnitudes(j,w,_),u=0;u<_.length;u++){var A=e.length-1-this.field.log(_[u]);if(A<0)throw dn.getChecksumInstance();e[A]=this.field.subtract(e[A],S[u])}return _.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=e,o=r,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=s,d=l;if(s=o,l=c,s.isZero())throw dn.getChecksumInstance();o=u;for(var h=this.field.getZero(),f=s.getCoefficient(s.getDegree()),p=this.field.inverse(f);o.getDegree()>=s.getDegree()&&!o.isZero();){var m=o.getDegree()-s.getDegree(),x=this.field.multiply(o.getCoefficient(o.getDegree()),p);h=h.add(this.field.buildMonomial(m,x)),o=o.subtract(s.multiplyByMonomial(m,x))}c=h.multiply(l).subtract(d).negative()}var g=c.getCoefficient(0);if(g===0)throw dn.getChecksumInstance();var b=this.field.inverse(g),y=c.multiply(b),w=o.multiply(b);return[y,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,s=1;s<this.field.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=this.field.inverse(s),i++);if(i!==r)throw dn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),s=new Int32Array(i),o=1;o<=i;o++)s[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new pc(this.field,s),c=n.length,u=new Int32Array(c),o=0;o<c;o++){var d=this.field.inverse(n[o]),h=this.field.subtract(0,e.evaluateAt(d)),f=this.field.inverse(l.evaluateAt(d));u[o]=this.field.multiply(h,f)}return u},t}(),nw=function(){function t(e,r,n,i,s){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,s)}return t.prototype.constructor_1=function(e,r,n,i,s){var o=r==null||n==null,l=i==null||s==null;if(o&&l)throw new Ie;o?(r=new nt(0,i.getY()),n=new nt(0,s.getY())):l&&(i=new nt(e.getWidth()-1,r.getY()),s=new nt(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,s=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var d=new nt(c.getX(),u);n?i=d:o=d}if(r>0){var h=n?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+r);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var p=new nt(h.getX(),f);n?s=p:l=p}return new t(this.image,i,s,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Vge=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),ij=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,l,c,u,d,h){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var f=d?parseInt(d.substr(1)):void 0,p;switch(h){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(f||16);break;case"d":p=parseFloat(parseInt(r[n],f||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(f);for(var m=parseInt(c),x=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=l!==void 0?p+x:x+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Gge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ok=function(){function t(e){this.boundingBox=new nw(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new ij,i=0;try{for(var s=Gge(this.codewords),o=s.next();!o.done;o=s.next()){var l=o.value;if(l==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Xge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yge=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},cf=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,s=function(h,f){var p={getKey:function(){return h},getValue:function(){return f}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=Xge(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=Yge(l.value,2),u=c[0],d=c[1];s(u,d)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return qt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),Kge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ib=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RA=function(t){Kge(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=Ib(this.getCodewords()),s=i.next();!s.done;s=i.next()){var o=s.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,d=1,h=0,f=l;f<c;f++)if(n[f]!=null){var p=n[f],m=p.getRowNumber()-u;if(m===0)h++;else if(m===1)d=Math.max(d,h),h=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>f)n[f]=null;else{var x=void 0;d>2?x=(d-2)*m:x=m;for(var g=x>=f,b=1;b<=x&&!g;b++)g=n[f-b]!=null;g?n[f]=null:(u=p.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var o=Ib(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var u=c.getRowNumber();if(u>=s.length)continue;s[u]++}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.getCodewords(),u=-1,d=o;d<l;d++)if(c[d]!=null){var h=c[d];h.setRowNumberAsRowIndicatorColumn();var f=h.getRowNumber()-u;f===0||(f===1?u=h.getRowNumber():h.getRowNumber()>=r.getRowCount()?c[d]=null:u=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),s=new cf,o=new cf,l=new cf,c=new cf;try{for(var u=Ib(i),d=u.next();!d.done;d=u.next()){var h=d.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var f=h.getValue()%30,p=h.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(f*3+1);break;case 1:c.setValue(f/3),l.setValue(f%3);break;case 2:s.setValue(f+1);break}}}}catch(x){r={error:x}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<qt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>qt.MAX_ROWS_IN_BARCODE)return null;var m=new Vge(s.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var s=r[i];if(r[i]!=null){var o=s.getValue()%30,l=s.getRowNumber();if(l>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(Ok),Jge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qge=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=qt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,o=this.barcodeColumnCount+1;o>0&&s<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(s=t.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,o=1;o<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(s=t.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,s;if(this.detectionResultColumns[e-1]!=null){var o=n[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=l[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=l[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=l[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=l[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=l[r+2],u[13]=c[r+2]);try{for(var d=Jge(u),h=d.next();!h.done;h=d.next()){var f=h.value;if(t.adjustRowNumber(o,f))return}}catch(p){i={error:p}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new ij,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[n];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()},t}(),Zge=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),e1e=function(){function t(){}return t.initialize=function(){for(var e=0;e<qt.SYMBOL_TABLE.length;e++)for(var r=qt.SYMBOL_TABLE[e],n=r&1,i=0;i<qt.BARS_IN_MODULE;i++){for(var s=0;(r&1)===n;)s+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(qt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][qt.BARS_IN_MODULE-i-1]=Math.fround(s/qt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Ht.sum(e),n=new Int32Array(qt.BARS_IN_MODULE),i=0,s=0,o=0;o<qt.MODULES_IN_CODEWORD;o++){var l=r/(2*qt.MODULES_IN_CODEWORD)+o*r/qt.MODULES_IN_CODEWORD;s+e[i]<=l&&(s+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return qt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Ht.sum(e),n=new Array(qt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var s=ew.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,u=t.RATIOS_TABLE[l],d=0;d<qt.BARS_IN_MODULE;d++){var h=Math.fround(u[d]-n[d]);if(c+=Math.fround(h*h),c>=s)break}c<s&&(s=c,o=qt.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(qt.SYMBOL_TABLE.length).map(function(e){return new Array(qt.BARS_IN_MODULE)}),t}(),t1e=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),FA=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),r1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n1e=function(t){r1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Xi),i1e=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new n1e;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new ej;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),a1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s1e=function(t){a1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Xi),o1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l1e=function(t){o1e(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new lt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new s1e;i=kt.MAX_VALUE}this.buf=Sn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new ej;this.ensureCapacity(this.count+i),Sr.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Sn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(i1e),dr;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(dr||(dr={}));function Pk(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var bm;function al(t){if(typeof bm>"u"&&(bm=Pk()),bm===null)throw new Error("BigInt is not supported!");return bm(t)}function c1e(){var t=[];t[0]=al(1);var e=al(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var u1e=function(){function t(){}return t.decode=function(e,r){var n=new Ot(""),i=Nn.ISO8859_1;n.enableDecoding(i);for(var s=1,o=e[s++],l=new t1e;s<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:s=t.textCompaction(e,s,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:s=t.byteCompaction(o,e,i,s,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:s=t.numericCompaction(e,s,n);break;case t.ECI_CHARSET:Nn.getCharacterSetECIByValue(e[s++]);break;case t.ECI_GENERAL_PURPOSE:s+=2;break;case t.ECI_USER_DEFINED:s++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=t.decodeMacroBlock(e,s,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new He;default:s--,s=t.textCompaction(e,s,n);break}if(s<e.length)o=e[s++];else throw He.getFormatInstance()}if(n.length()===0)throw He.getFormatInstance();var c=new w1(null,n.toString(),null,r);return c.setOther(l),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw He.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<t.NUMBER_OF_SEQUENCE_CODEWORDS;s++,r++)i[s]=e[r];n.setSegmentIndex(kt.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Ot;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var l=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Ot;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Ot;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Ot;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new Ot;r=t.numericCompaction(e,r+1,h),n.setSegmentCount(kt.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new Ot;r=t.numericCompaction(e,r+1,f),n.setTimestamp(FA.parseLong(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Ot;r=t.numericCompaction(e,r+1,p),n.setChecksum(kt.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new Ot;r=t.numericCompaction(e,r+1,m),n.setFileSize(FA.parseLong(m.toString()));break;default:throw He.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw He.getFormatInstance()}if(l!==-1){var x=r-l;n.isLastSegment()&&x--,n.setOptionalData(Sn.copyOfRange(e,l,l+x))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),s=new Int32Array((e[0]-r)*2),o=0,l=!1;r<e[0]&&!l;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],s[o]=c,o++;break}}return t.decodeTextCompaction(i,s,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var s=dr.ALPHA,o=dr.ALPHA,l=0;l<n;){var c=e[l],u="";switch(s){case dr.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.LL:s=dr.LOWER;break;case t.ML:s=dr.MIXED;break;case t.PS:o=s,s=dr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case t.AS:o=s,s=dr.ALPHA_SHIFT;break;case t.ML:s=dr.MIXED;break;case t.PS:o=s,s=dr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.MIXED:if(c<t.PL)u=t.MIXED_CHARS[c];else switch(c){case t.PL:s=dr.PUNCT;break;case 26:u=" ";break;case t.LL:s=dr.LOWER;break;case t.AL:s=dr.ALPHA;break;case t.PS:o=s,s=dr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.PUNCT:if(c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:s=dr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.ALPHA_SHIFT:if(s=o,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.PUNCT_SHIFT:if(s=o,c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:s=dr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break}u!==""&&i.append(u),l++}},t.byteCompaction=function(e,r,n,i,s){var o=new l1e,l=0,c=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),h=r[i++];i<r[0]&&!u;)switch(d[l++]=h,c=900*c+h,h=r[i++],h){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(l%5===0&&l>0){for(var f=0;f<6;++f)o.write(Number(al(c)>>al(8*(5-f))));c=0,l=0}break}i===r[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=h);for(var p=0;p<l;p++)o.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var m=r[i++];if(m<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(l%5===0&&l>0){for(var f=0;f<6;++f)o.write(Number(al(c)>>al(8*(5-f))));c=0,l=0}}break}return s.append(Pa.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,s=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!s;){var l=e[r++];if(r===e[0]&&(s=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=al(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*al(e[i]);var s=n.toString();if(s.charAt(0)!=="1")throw new He;return s.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=Pk()?c1e():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),rf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d1e=function(){function t(){}return t.decode=function(e,r,n,i,s,o,l){for(var c=new nw(e,r,n,i,s),u=null,d=null,h,f=!0;;f=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,c,r,!0,o,l)),i!=null&&(d=t.getRowIndicatorColumn(e,c,i,!1,o,l)),h=t.merge(u,d),h==null)throw Ie.getNotFoundInstance();var p=h.getBoundingBox();if(f&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}h.setBoundingBox(c);var m=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,u),h.setDetectionResultColumn(m,d);for(var x=u!=null,g=1;g<=m;g++){var b=x?g:m-g;if(h.getDetectionResultColumn(b)===void 0){var y=void 0;b===0||b===m?y=new RA(c,b===0):y=new Ok(c),h.setDetectionResultColumn(b,y);for(var w=-1,j=w,_=c.getMinY();_<=c.getMaxY();_++){if(w=t.getStartColumn(h,b,_,x),w<0||w>c.getMaxX()){if(j===-1)continue;w=j}var S=t.detectCodeword(e,c.getMinX(),c.getMaxX(),x,w,_,o,l);S!=null&&(y.setCodeword(_,S),j=w,o=Math.min(o,S.getWidth()),l=Math.max(l,S.getWidth()))}}}return t.createDecoderResult(h)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=nw.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Qge(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=t.getMax(i),o=0;try{for(var l=rf(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(o+=s-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),h=0;o>0&&d[h]==null;h++)o--;for(var f=0,h=i.length-1;h>=0&&(f+=s-i[h],!(i[h]>0));h--);for(var h=d.length-1;f>0&&d[h]==null;h--)f--;return e.getBoundingBox().addMissingRows(o,f,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var s=rf(e),o=s.next();!o.done;o=s.next()){var l=o.value;i=Math.max(i,l)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,s,o){for(var l=new RA(r,i),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),h=Math.trunc(Math.trunc(n.getY()));h<=r.getMaxY()&&h>=r.getMinY();h+=u){var f=t.detectCodeword(e,0,e.getWidth(),i,d,h,s,o);f!=null&&(l.setCodeword(h,f),i?d=f.getStartX():d=f.getEndX())}return l},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>qt.MAX_CODEWORDS_IN_BARCODE)throw Ie.getNotFoundInstance();n.setValue(s)}else i[0]!==s&&n.setValue(s)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=r[l][c+1].getValue(),d=l*e.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?i[d]=u[0]:(o.push(d),s.push(u))}for(var h=new Array(s.length),f=0;f<h.length;f++)h[f]=s[f];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,qt.toIntArray(n),qt.toIntArray(o),h)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,s){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)r[i[c]]=s[c][o[c]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof dn;if(!u)throw d}if(o.length===0)throw dn.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<s[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw dn.getChecksumInstance()}throw dn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,s,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new cf;var u=0;try{for(var d=rf(e.getDetectionResultColumns()),h=d.next();!h.done;h=d.next()){var f=h.value;if(f!=null)try{for(var p=(i=void 0,rf(f.getCodewords())),m=p.next();!m.done;m=p.next()){var x=m.value;if(x!=null){var g=x.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][u].setValue(x.getValue())}}}}catch(b){i={error:b}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}u++}}catch(b){r={error:b}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var s,o,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-l);){r-=l;try{for(var d=(s=void 0,rf(e.getDetectionResultColumn(r).getCodewords())),h=d.next();!h.done;h=d.next()){var f=h.value;if(f!=null)return(i?f.getEndX():f.getStartX())+l*u*(f.getEndX()-f.getStartX())}}catch(p){s={error:p}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(s)throw s.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,s,o,l,c){s=t.adjustCodewordStartColumn(e,r,n,i,s,o);var u=t.getModuleBitCount(e,r,n,i,s,o);if(u==null)return null;var d,h=Ht.sum(u);if(i)d=s+h;else{for(var f=0;f<u.length/2;f++){var p=u[f];u[f]=u[u.length-1-f],u[u.length-1-f]=p}d=s,s=d-h}if(!t.checkCodewordSkew(h,l,c))return null;var m=e1e.getDecodedValue(u),x=qt.getCodeword(m);return x===-1?null:new Zge(s,d,t.getCodewordBucketNumber(m),x)},t.getModuleBitCount=function(e,r,n,i,s,o){for(var l=s,c=new Int32Array(8),u=0,d=i?1:-1,h=i;(i?l<n:l>=r)&&u<c.length;)e.get(l,o)===h?(c[u]++,l+=d):(u++,h=!h);return u===c.length||l===(i?n:r)&&u===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,s,o){for(var l=s,c=i?-1:1,u=0;u<2;u++){for(;(i?l>=r:l<n)&&i===e.get(l,o);){if(Math.abs(s-l)>t.CODEWORD_SKEW_SIZE)return s;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw He.getFormatInstance();var i=1<<r+1,s=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=u1e.decode(e,""+r);return o.setErrorsCorrected(s),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw dn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw He.getFormatInstance();var n=e[0];if(n>e.length)throw He.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw He.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new ij,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var s=e[n][i];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Wge,t}(),h1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lg=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Ie.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof He||n instanceof dn?Ie.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,s,o=new Array,l=Bge.detectMultiple(e,r,n);try{for(var c=h1e(l.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,h=d1e.decode(l.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),f=new gi(h.getText(),h.getRawBytes(),void 0,d,ot.PDF_417);f.putMetadata(Zn.ERROR_CORRECTION_LEVEL,h.getECLevel());var p=h.getOther();p!=null&&f.putMetadata(Zn.PDF417_EXTRA_METADATA,p),o.push(f)}}catch(m){i={error:m}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return o.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?kt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),f1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BA=function(t){f1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Xi),$A=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kk=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Ar.TRY_HARDER)!==void 0,n=e==null?null:e.get(Ar.POSSIBLE_FORMATS),i=new Array;if(n!=null){var s=n.some(function(o){return o===ot.UPC_A||o===ot.UPC_E||o===ot.EAN_13||o===ot.EAN_8||o===ot.CODABAR||o===ot.CODE_39||o===ot.CODE_93||o===ot.CODE_128||o===ot.ITF||o===ot.RSS_14||o===ot.RSS_EXPANDED});s&&!r&&i.push(new Gu(e)),n.includes(ot.QR_CODE)&&i.push(new og),n.includes(ot.DATA_MATRIX)&&i.push(new sg),n.includes(ot.AZTEC)&&i.push(new ig),n.includes(ot.PDF_417)&&i.push(new lg),s&&r&&i.push(new Gu(e))}i.length===0&&(r||i.push(new Gu(e)),i.push(new og),i.push(new sg),i.push(new ig),i.push(new lg),r&&i.push(new Gu(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=$A(this.readers),i=n.next();!i.done;i=n.next()){var s=i.value;s.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new BA("No readers where selected, nothing can be read.");try{for(var i=$A(this.readers),s=i.next();!s.done;s=i.next()){var o=s.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof BA)continue}}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new Ie("No MultiFormat Readers were able to detect the code.")},t}(),p1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){p1e(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,s=new kk;return s.setHints(r),i=t.call(this,s,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(ah);var m1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){m1e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new lg,r)||this}return e})(ah);var x1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){x1e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new og,r)||this}return e})(ah);var iw;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(iw||(iw={}));const ym=iw;var Tk=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new gl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,s=r.length;s<=e;s++){var o=n.multiply(new gl(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new lt("No error correction bytes");var n=e.length-r;if(n<=0)throw new lt("No data bytes provided");var i=this.buildGenerator(r),s=new Int32Array(n);Sr.arraycopy(e,0,s,0,n);var o=new gl(this.field,s);o=o.multiplyByMonomial(r,1);for(var l=o.divide(i)[1],c=l.getCoefficients(),u=r-c.length,d=0;d<u;d++)e[n+d]=0;Sr.arraycopy(c,0,e,n+u,c.length)},t}(),uf=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s-1;o++)for(var l=n[o],c=0;c<i-1;c++){var u=l[c];u===l[c+1]&&u===n[o+1][c]&&u===n[o+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s;o++)for(var l=0;l<i;l++){var c=n[o];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&r++,o+6<s&&n[o][l]===1&&n[o+1][l]===0&&n[o+2][l]===1&&n[o+3][l]===1&&n[o+4][l]===1&&n[o+5][l]===0&&n[o+6][l]===1&&(t.isWhiteVertical(n,l,o-4,o)||t.isWhiteVertical(n,l,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var s=n;s<i;s++)if(e[s][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s;o++)for(var l=n[o],c=0;c<i;c++)l[c]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,s;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:s=n*r,i=(s&1)+s%3;break;case 6:s=n*r,i=(s&1)+s%3&1;break;case 7:s=n*r,i=s%3+(n+r&1)&1;break;default:throw new lt("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),s=r?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var c=0,u=-1,d=0;d<s;d++){var h=r?o[l][d]:o[d][l];h===u?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,u=h)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),g1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v1e=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=g1e(this.bytes),s=i.next();!s.done;s=i.next()){var o=s.value;Sn.fill(o,e)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var s=this.bytes[n],o=r.bytes[n],l=0,c=this.width;l<c;++l)if(s[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Ot,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],s=0,o=this.width;s<o;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),aw=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Ot;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),b1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Er=function(t){b1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Xi),zA=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,s){t.clearMatrix(s),t.embedBasicPatterns(n,s),t.embedTypeInfo(r,i,s),t.maybeEmbedVersionInfo(n,s),t.embedDataBits(e,i,s)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new $n;t.makeTypeInfoBits(e,r,i);for(var s=0,o=i.getSize();s<o;++s){var l=i.get(i.getSize()-1-s),c=t.TYPE_INFO_COORDINATES[s],u=c[0],d=c[1];if(n.setBoolean(u,d,l),s<8){var h=n.getWidth()-s-1,f=8;n.setBoolean(h,f,l)}else{var h=8,f=n.getHeight()-7+(s-8);n.setBoolean(h,f,l)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new $n;t.makeVersionInfoBits(e,n);for(var i=6*3-1,s=0;s<6;++s)for(var o=0;o<3;++o){var l=n.get(i);i--,r.setBoolean(s,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,s,l)}}},t.embedDataBits=function(e,r,n){for(var i=0,s=-1,o=n.getWidth()-1,l=n.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var u=o-c;if(t.isEmpty(n.get(u,l))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&uf.getDataMaskBit(r,u,l)&&(d=!d),n.setBoolean(u,l,d)}}l+=s}s=-s,l+=s,o-=2}if(i!==e.getSize())throw new Er("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-kt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new lt("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!aw.isValidMaskPattern(r))throw new Er("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var s=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(s,10);var o=new $n;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Er("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Er("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Er;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Er;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Er;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var s=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,s[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var s=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,s[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],s=0,o=i.length;s!==o;s++){var l=i[s];if(l>=0)for(var c=0;c!==o;c++){var u=i[c];u>=0&&t.isEmpty(r.get(u,l))&&t.embedPositionAdjustmentPattern(u-2,l-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),y1e=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),UA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return uf.applyMaskPenaltyRule1(e)+uf.applyMaskPenaltyRule2(e)+uf.applyMaskPenaltyRule3(e)+uf.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,s=n!==null&&n.get(ym.CHARACTER_SET)!==void 0;s&&(i=n.get(ym.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new $n;if(o===Pr.BYTE&&(s||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=Nn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var u=new $n;this.appendBytes(e,o,u,i);var d;if(n!==null&&n.get(ym.QR_VERSION)!==void 0){var h=Number.parseInt(n.get(ym.QR_VERSION).toString(),10);d=jc.getVersionForNumber(h);var f=this.calculateBitsNeeded(o,l,u,d);if(!this.willFit(f,d,r))throw new Er("Data too big for requested version")}else d=this.recommendVersion(r,o,l,u);var p=new $n;p.appendBitArray(l);var m=o===Pr.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(m,d,o,p),p.appendBitArray(u);var x=d.getECBlocksForLevel(r),g=d.getTotalCodewords()-x.getTotalECCodewords();this.terminateBits(g,p);var b=this.interleaveWithECBytes(p,d.getTotalCodewords(),g,x.getNumBlocks()),y=new aw;y.setECLevel(r),y.setMode(o),y.setVersion(d);var w=d.getDimensionForVersion(),j=new v1e(w,w),_=this.chooseMaskPattern(b,r,d,j);return y.setMaskPattern(_),zA.buildMatrix(b,r,d,_,j),y.setMatrix(j),y},t.recommendVersion=function(e,r,n,i){var s=this.calculateBitsNeeded(r,n,i,jc.getVersionForNumber(1)),o=this.chooseVersion(s,e),l=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Nn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Pr.KANJI;for(var n=!1,i=!1,s=0,o=e.length;s<o;++s){var l=e.charAt(s);if(t.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Pr.BYTE}return i?Pr.ALPHANUMERIC:n?Pr.NUMERIC:Pr.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Pa.encode(e,Nn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var s=r[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var s=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<aw.NUM_MASK_PATTERNS;l++){zA.buildMatrix(e,r,n,l,i);var c=this.calculateMaskPenalty(i);c<s&&(s=c,o=l)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=jc.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Er("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),s=r.getECBlocksForLevel(n),o=s.getTotalECCodewords(),l=i-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Er("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var s=r.getSize()&7;if(s>0)for(var i=s;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Er("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,s,o){if(i>=n)throw new Er("Block ID too large");var l=e%n,c=n-l,u=Math.floor(e/n),d=u+1,h=Math.floor(r/n),f=h+1,p=u-h,m=d-f;if(p!==m)throw new Er("EC bytes mismatch");if(n!==c+l)throw new Er("RS blocks mismatch");if(e!==(h+p)*c+(f+m)*l)throw new Er("Total bytes mismatch");i<c?(s[0]=h,o[0]=p):(s[0]=f,o[0]=m)},t.interleaveWithECBytes=function(e,r,n,i){var s,o,l,c;if(e.getSizeInBytes()!==n)throw new Er("Number of bits and data bytes does not match");for(var u=0,d=0,h=0,f=new Array,p=0;p<i;++p){var m=new Int32Array(1),x=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,m,x);var g=m[0],b=new Uint8Array(g);e.toBytes(8*u,b,0,g);var y=t.generateECBytes(b,x[0]);f.push(new y1e(b,y)),d=Math.max(d,g),h=Math.max(h,y.length),u+=m[0]}if(n!==u)throw new Er("Data bytes does not match offset");for(var w=new $n,p=0;p<d;++p)try{for(var j=(s=void 0,UA(f)),_=j.next();!_.done;_=j.next()){var S=_.value,b=S.getDataBytes();p<b.length&&w.appendBits(b[p],8)}}catch(B){s={error:B}}finally{try{_&&!_.done&&(o=j.return)&&o.call(j)}finally{if(s)throw s.error}}for(var p=0;p<h;++p)try{for(var A=(l=void 0,UA(f)),O=A.next();!O.done;O=A.next()){var S=O.value,y=S.getErrorCorrectionBytes();p<y.length&&w.appendBits(y[p],8)}}catch(B){l={error:B}}finally{try{O&&!O.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}if(r!==w.getSizeInBytes())throw new Er("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),s=0;s<n;s++)i[s]=e[s]&255;new Tk(zi.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),s=0;s<r;s++)o[s]=i[n+s];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var s=n.getCharacterCountBits(r);if(e>=1<<s)throw new Er(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},t.appendBytes=function(e,r,n,i){switch(r){case Pr.NUMERIC:t.appendNumericBytes(e,n);break;case Pr.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Pr.BYTE:t.append8BitBytes(e,n,i);break;case Pr.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Er("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));r.appendBits(s*100+o*10+l,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(s*10+o,7),i+=2}else r.appendBits(s,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new Er;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Er;r.appendBits(s*45+o,11),i+=2}else r.appendBits(s,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Pa.encode(e,n)}catch(c){throw new Er(c)}for(var s=0,o=i.length;s!==o;s++){var l=i[s];r.appendBits(l,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Pa.encode(e,Nn.SJIS)}catch(h){throw new Er(h)}for(var i=n.length,s=0;s<i;s+=2){var o=n[s]&255,l=n[s+1]&255,c=o<<8&4294967295|l,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new Er("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(Pr.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Nn.UTF8.getName(),t})();var w1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){w1e(e,t);function e(r,n,i,s,o,l,c,u){var d=t.call(this,l,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=s,d.top=o,s+l>n||o+c>i)throw new lt("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(l,c),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return Sr.arraycopy(this.yuvData,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,s=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Sr.arraycopy(this.yuvData,o,s,0,i),s;for(var l=0;l<n;l++){var c=l*r;Sr.arraycopy(this.yuvData,o,s,c,r),o+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,s,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),s=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,u=0;u<r;u++){var d=s[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+u]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth)for(var l=o+r/2,c=o,u=o+r-1;c<l;c++,u--){var d=i[c];i[c]=i[u],i[u]=d}},e.prototype.invert=function(){return new y1(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(H0);var j1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){j1e(e,t);function e(r,n,i,s,o,l,c){var u=t.call(this,n,i)||this;if(u.dataWidth=s,u.dataHeight=o,u.left=l,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*i,h=new Uint8ClampedArray(d),f=0;f<d;f++){var p=r[f],m=p>>16&255,x=p>>7&510,g=p&255;h[f]=(m+x+g)/4&255}u.luminances=h}else u.luminances=r;if(s===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=i),l===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new lt("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return Sr.arraycopy(this.luminances,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,s=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Sr.arraycopy(this.luminances,o,s,0,i),s;for(var l=0;l<n;l++){var c=l*r;Sr.arraycopy(this.luminances,o,s,c,r),o+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new y1(this)},e})(H0);var N1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_1e=function(t){N1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Nn),S1e=function(){function t(){}return t.ISO_8859_1=Nn.ISO8859_1,t}(),sw,A1e=301,C1e=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=A1e);return{LOG:t,ALOG:e}};sw=C1e([],[]),sw.LOG;sw.ALOG;var qA;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(qA||(qA={}));var HA=129,Ik=230,E1e=231,O1e=235,P1e=236,k1e=237,T1e=238,I1e=239,D1e=240,Db=254,M1e=254,WA="[)>05",VA="[)>06",GA="",ir=0,Yn=1,_i=2,bn=3,Ln=4,ci=5,L1e=function(){function t(){}return t.prototype.getEncodingMode=function(){return ir},t.prototype.encode=function(e){var r=rs.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=rs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case ci:e.writeCodeword(E1e),e.signalEncoderChange(ci);return;case Yn:e.writeCodeword(Ik),e.signalEncoderChange(Yn);return;case bn:e.writeCodeword(T1e),e.signalEncoderChange(bn);break;case _i:e.writeCodeword(I1e),e.signalEncoderChange(_i);break;case Ln:e.writeCodeword(D1e),e.signalEncoderChange(Ln);break;default:throw new Error("Illegal mode: "+i)}else rs.isExtendedASCII(n)?(e.writeCodeword(O1e),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(rs.isDigit(e)&&rs.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),R1e=function(){function t(){}return t.prototype.getEncodingMode=function(){return ci},t.prototype.encode=function(e){var r=new Ot;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=rs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}var s=r.length()-1,o=1,l=e.getCodewordCount()+s+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(s<=249)r.setCharAt(0,zt.getCharAt(s));else if(s<=1555)r.setCharAt(0,zt.getCharAt(Math.floor(s/250)+249)),r.insert(1,zt.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),aj=function(){function t(){}return t.prototype.getEncodingMode=function(){return Yn},t.prototype.encodeMaximal=function(e){for(var r=new Ot,n=0,i=e.pos,s=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,s=r.length())}if(s!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var u=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(Ik),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Ot;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),s=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+s;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new Ot;for(r.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,r,c,i));r.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,r,c,i);break}var u=r.length();if(u%3===0){var d=rs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var s=r.length(),o=r.toString().substring(0,s-i);r.setLengthToZero(),r.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,s=e.getCodewordCount()+n;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Db)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Db),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(Db)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ir)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,s=new Ot;return s.append(n),s.append(i),s.toString()},t}(),F1e=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ln},t.prototype.encode=function(e){for(var r=new Ot;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var s=r.toString().substring(4);r.setLengthToZero(),r.append(s);var o=rs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ir);break}}}r.append(zt.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,l=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),u=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}u?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(ir)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(zt.getCharAt(e-64)):rs.illegalCharacter(zt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,s=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,l=(n<<18)+(i<<12)+(s<<6)+o,c=l>>16&255,u=l>>8&255,d=l&255,h=new Ot;return h.append(c),r>=2&&h.append(u),r>=3&&h.append(d),h.toString()},t}(),B1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yt=function(){function t(e,r,n,i,s,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,r,n,i,s){var o,l;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var c=$1e(U1e),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(h){o={error:h}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),z1e=function(t){B1e(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Yt),U1e=[new Yt(!1,3,5,8,8,1),new Yt(!1,5,7,10,10,1),new Yt(!0,5,7,16,6,1),new Yt(!1,8,10,12,12,1),new Yt(!0,10,11,14,6,2),new Yt(!1,12,12,14,14,1),new Yt(!0,16,14,24,10,1),new Yt(!1,18,14,16,16,1),new Yt(!1,22,18,18,18,1),new Yt(!0,22,18,16,10,2),new Yt(!1,30,20,20,20,1),new Yt(!0,32,24,16,14,2),new Yt(!1,36,24,22,22,1),new Yt(!1,44,28,24,24,1),new Yt(!0,49,28,22,14,2),new Yt(!1,62,36,14,14,4),new Yt(!1,86,42,16,16,4),new Yt(!1,114,48,18,18,4),new Yt(!1,144,56,20,20,4),new Yt(!1,174,68,22,22,4),new Yt(!1,204,84,24,24,4,102,42),new Yt(!1,280,112,14,14,16,140,56),new Yt(!1,368,144,16,16,16,92,36),new Yt(!1,456,192,18,18,16,114,48),new Yt(!1,576,224,20,20,16,144,56),new Yt(!1,696,272,22,22,16,174,68),new Yt(!1,816,336,24,24,16,136,56),new Yt(!1,1050,408,18,18,36,175,68),new Yt(!1,1304,496,20,20,36,163,62),new z1e],q1e=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(l){return l.charCodeAt(0)}),n=new Ot,i=0,s=r.length;i<s;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Ot,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Yt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),H1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W1e=function(t){H1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return bn},e.prototype.encode=function(r){for(var n=new Ot;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var s=n.length();if(s%3===0){this.writeNextTriplet(r,n);var o=rs.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(ir);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):rs.illegalCharacter(zt.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),s=n.length();r.pos-=s,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(M1e),r.getNewEncoding()<0&&r.signalEncoderChange(ir)},e}(aj),V1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G1e=function(t){V1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return _i},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(aj),rs=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=HA+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,s){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!1);var o=new aj,l=[new L1e,o,new G1e,new W1e,new F1e,new R1e],c=new q1e(e);c.setSymbolShape(r),c.setSizeConstraints(n,i),e.startsWith(WA)&&e.endsWith(GA)?(c.writeCodeword(P1e),c.setSkipAtEnd(2),c.pos+=WA.length):e.startsWith(VA)&&e.endsWith(GA)&&(c.writeCodeword(k1e),c.setSkipAtEnd(2),c.pos+=VA.length);var u=ir;for(s&&(o.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var h=c.getSymbolInfo().getDataCapacity();d<h&&u!==ir&&u!==ci&&u!==Ln&&c.writeCodeword("þ");var f=c.getCodewords();for(f.length()<h&&f.append(HA);f.length()<h;)f.append(this.randomize253State(f.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===bn&&i===bn){for(var s=Math.min(r+3,e.length),o=r;o<s;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ir}else if(n===Ln&&i===Ln){for(var s=Math.min(r+4,e.length),o=r;o<s;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ir}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===ir?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var s=0,o=new Uint8Array(6),l=[];;){if(r+s===e.length){Sn.fill(o,0),Sn.fill(l,0);var c=this.findMinimums(i,l,kt.MAX_VALUE,o),u=this.getMinimumCount(o);if(l[ir]===c)return ir;if(u===1){if(o[ci]>0)return ci;if(o[Ln]>0)return Ln;if(o[_i]>0)return _i;if(o[bn]>0)return bn}return Yn}var d=e.charCodeAt(r+s);if(s++,this.isDigit(d)?i[ir]+=.5:this.isExtendedASCII(d)?(i[ir]=Math.ceil(i[ir]),i[ir]+=2):(i[ir]=Math.ceil(i[ir]),i[ir]++),this.isNativeC40(d)?i[Yn]+=2/3:this.isExtendedASCII(d)?i[Yn]+=8/3:i[Yn]+=4/3,this.isNativeText(d)?i[_i]+=2/3:this.isExtendedASCII(d)?i[_i]+=8/3:i[_i]+=4/3,this.isNativeX12(d)?i[bn]+=2/3:this.isExtendedASCII(d)?i[bn]+=13/3:i[bn]+=10/3,this.isNativeEDIFACT(d)?i[Ln]+=3/4:this.isExtendedASCII(d)?i[Ln]+=17/4:i[Ln]+=13/4,this.isSpecialB256(d)?i[ci]+=4:i[ci]++,s>=4){if(Sn.fill(o,0),Sn.fill(l,0),this.findMinimums(i,l,kt.MAX_VALUE,o),l[ir]<this.min(l[ci],l[Yn],l[_i],l[bn],l[Ln]))return ir;if(l[ci]<l[ir]||l[ci]+1<this.min(l[Yn],l[_i],l[bn],l[Ln]))return ci;if(l[Ln]+1<this.min(l[ci],l[Yn],l[_i],l[bn],l[ir]))return Ln;if(l[_i]+1<this.min(l[ci],l[Yn],l[Ln],l[bn],l[ir]))return _i;if(l[bn]+1<this.min(l[ci],l[Yn],l[Ln],l[_i],l[ir]))return bn;if(l[Yn]+1<this.min(l[ir],l[ci],l[Ln],l[_i])){if(l[Yn]<l[bn])return Yn;if(l[Yn]===l[bn]){for(var h=r+s+1;h<e.length;){var f=e.charCodeAt(h);if(this.isX12TermSep(f))return bn;if(!this.isNativeX12(f))break;h++}return Yn}}}}},t.min=function(e,r,n,i,s){var o=Math.min(e,Math.min(r,Math.min(n,i)));return s===void 0?o:Math.min(o,s)},t.findMinimums=function(e,r,n,i){for(var s=0;s<6;s++){var o=r[s]=Math.ceil(e[s]);n>o&&(n=o,Sn.fill(i,0)),n===o&&(i[s]=i[s]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=kt.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),Mb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XA=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Pa.encode(e,this.charset)!=null}catch{return!1}},t}(),X1e=function(){function t(e,r,n){var i,s,o,l,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(M){return new XA(_1e.forName(M))}),this.encoders=[];var d=[];d.push(new XA(S1e.ISO_8859_1));for(var h=r!=null&&r.name.startsWith("UTF"),f=0;f<e.length;f++){var p=!1;try{for(var m=(i=void 0,Mb(d)),x=m.next();!x.done;x=m.next()){var g=x.value,b=e.charAt(f),y=b.charCodeAt(0);if(y===n||g.canEncode(b)){p=!0;break}}}catch(M){i={error:M}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}if(!p)try{for(var w=(o=void 0,Mb(this.ENCODERS)),j=w.next();!j.done;j=w.next()){var g=j.value;if(g.canEncode(e.charAt(f))){d.push(g),p=!0;break}}}catch(M){o={error:M}}finally{try{j&&!j.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}p||(h=!0)}if(d.length===1&&!h)this.encoders=[d[0]];else{this.encoders=[];var _=0;try{for(var S=Mb(d),A=S.next();!A.done;A=S.next()){var g=A.value;this.encoders[_++]=g}}catch(M){c={error:M}}finally{try{A&&!A.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}}var O=-1;if(r!=null){for(var f=0;f<this.encoders.length;f++)if(this.encoders[f]!=null&&r.name===this.encoders[f].name){O=f;break}}this.priorityEncoderIndex=O}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Pa.encode(zt.getCharAt(e),this.encoders[r].name)},t}(),Y1e=3,K1e=function(){function t(e,r,n){this.fnc1=n;var i=new X1e(e,r,n);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var o=e.charAt(s).charCodeAt(0);this.bytes[s]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Ot,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,s,o){var l=e.charAt(i).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(l===o||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(l===o||r.canEncode(l,d))&&this.addEdge(n,i+1,new YA(l,r,d,s,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,s=new YA[i+1][r.length()];this.addEdges(e,r,s,0,null,n);for(var o=1;o<=i;o++){for(var l=0;l<r.length();l++)s[o][l]!=null&&o<i&&this.addEdges(e,r,s,o,s[o][l],n);for(var l=0;l<r.length();l++)s[o-1][l]=null}for(var c=-1,u=kt.MAX_VALUE,l=0;l<r.length();l++)if(s[i][l]!=null){var d=s[i][l];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],f=s[i][c];f!=null;){if(f.isFNC1())h.unshift(1e3);else for(var p=r.encode(f.c,f.encoderIndex),o=p.length-1;o>=0;o--)h.unshift(p[o]&255);var m=f.previous===null?0:f.previous.encoderIndex;m!==f.encoderIndex&&h.unshift(256+r.getECIValue(f.encoderIndex)),f=f.previous}for(var x=[],o=0;o<x.length;o++)x[o]=h[o];return x},t}(),YA=function(){function t(e,r,n,i,s){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,l=i===null?0:i.encoderIndex;l!==n&&(o+=Y1e),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),J1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var KA;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(KA||(KA={}));(function(t){J1e(e,t);function e(r,n,i,s,o){var l=t.call(this,r,n,i)||this;return l.shape=s,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(K1e);var Q1e=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),JA=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),Z1e=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),eve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sj=function(t){eve(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.value=n,s.bitCount=i,s}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+kt.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(Z1e),tve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rve=function(t){tve(e,t);function e(r,n,i){var s=t.call(this,r,0,0)||this;return s.binaryShiftStart=n,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(sj);function nve(t,e,r){return new rve(t,e,r)}function nf(t,e,r){return new sj(t,e,r)}var ive=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],vl=0,cg=1,Oa=2,Dk=3,Ps=4,ave=new sj(null,0,0),Lb=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],sve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ove(t){var e,r;try{for(var n=sve(t),i=n.next();!i.done;i=n.next()){var s=i.value;Sn.fill(s,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[vl][Ps]=0,t[cg][Ps]=0,t[cg][vl]=28,t[Dk][Ps]=0,t[Oa][Ps]=0,t[Oa][vl]=15,t}var Mk=ove(Sn.createInt32Array(6,6)),lve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cve=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var s=Lb[this.mode][e];i=nf(i,s&65535,s>>16),n+=s>>16}var o=e===Oa?4:5;return i=nf(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Oa?4:5;return n=nf(n,Mk[this.mode][e],i),n=nf(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Ps||this.mode===Oa){var s=Lb[n][vl];r=nf(r,s&65535,s>>16),i+=s>>16,n=vl}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(r,n,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=nve(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Lb[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var o=new $n;try{for(var l=lve(i),c=l.next();!c.done;c=l.next()){var u=c.value;u.appendTo(o,e)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return zt.format("%s bits=%d bytes=%d",ive[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(ave,vl,0,0),t}();function uve(t){var e=zt.getCharCode(" "),r=zt.getCharCode("."),n=zt.getCharCode(",");t[vl][e]=1;for(var i=zt.getCharCode("Z"),s=zt.getCharCode("A"),o=s;o<=i;o++)t[vl][o]=o-s+2;t[cg][e]=1;for(var l=zt.getCharCode("z"),c=zt.getCharCode("a"),o=c;o<=l;o++)t[cg][o]=o-c+2;t[Oa][e]=1;for(var u=zt.getCharCode("9"),d=zt.getCharCode("0"),o=d;o<=u;o++)t[Oa][o]=o-d+2;t[Oa][n]=12,t[Oa][r]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],f=0;f<h.length;f++)t[Dk][zt.getCharCode(h[f])]=f;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],f=0;f<p.length;f++)zt.getCharCode(p[f])>0&&(t[Ps][zt.getCharCode(p[f])]=f);return t}var Rb=uve(Sn.createInt32Array(5,256)),wm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dve=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=zt.getCharCode(" "),r=zt.getCharCode(`
`),n=JA.singletonList(cve.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case zt.getCharCode("\r"):s=o===r?2:0;break;case zt.getCharCode("."):s=o===e?3:0;break;case zt.getCharCode(","):s=o===e?4:0;break;case zt.getCharCode(":"):s=o===e?5:0;break;default:s=0}s>0?(n=t.updateStateListForPair(n,i,s),i++):n=this.updateStateListForChar(n,i)}var l=JA.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,s=[];try{for(var o=wm(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,r,s)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(s)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,s=Rb[e.getMode()][i]>0,o=null,l=0;l<=Ps;l++){var c=Rb[l][i];if(c>0){if(o==null&&(o=e.endBinaryShift(r)),!s||l===e.getMode()||l===Oa){var u=o.latchAndAppend(l,c);n.push(u)}if(!s&&Mk[e.getMode()][l]>=0){var d=o.shiftAndAppend(l,c);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||Rb[e.getMode()][i]===0){var h=e.addBinaryShiftChar(r);n.push(h)}},t.updateStateListForPair=function(e,r,n){var i,s,o=[];try{for(var l=wm(e),c=l.next();!c.done;c=l.next()){var u=c.value;this.updateStateForPair(u,r,n,o)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var s=e.endBinaryShift(r);if(i.push(s.latchAndAppend(Ps,n)),e.getMode()!==Ps&&i.push(s.shiftAndAppend(Ps,n)),n===3||n===4){var o=s.latchAndAppend(Oa,16-n).latchAndAppend(Oa,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(l)}},t.simplifyStates=function(e){var r,n,i,s,o=[];try{for(var l=wm(e),c=l.next();!c.done;c=l.next()){var u=c.value,d=!0,h=function(g){if(g.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(g)&&(o=o.filter(function(b){return b!==g}))};try{for(var f=(i=void 0,wm(o)),p=f.next();!p.done;p=f.next()){var m=p.value,x=h(m);if(x==="break")break}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}d&&o.push(u)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t}(),hve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new dve(e).encode(),s=kt.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+s,l,c,u,d,h;if(n!==t.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new lt(zt.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(c,l),d=t.WORD_SIZE[c];var f=u-u%d;if(h=t.stuffBits(i,d),h.getSize()+s>f)throw new lt("Data to large for user specified layer");if(l&&h.getSize()>d*64)throw new lt("Data to large for user specified layer")}else{d=0,h=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new lt("Data too large for an Aztec code");if(l=p<=3,c=l?p+1:p,u=t.totalBitsInLayer(c,l),!(o>u)){(h==null||d!==t.WORD_SIZE[c])&&(d=t.WORD_SIZE[c],h=t.stuffBits(i,d));var f=u-u%d;if(!(l&&h.getSize()>d*64)&&h.getSize()+s<=f)break}}}var m=t.generateCheckWords(h,u,d),x=h.getSize()/d,g=t.generateModeMessage(l,c,x),b=(l?11:14)+c*4,y=new Int32Array(b),w;if(l){w=b;for(var p=0;p<y.length;p++)y[p]=p}else{w=b+1+2*kt.truncDivision(kt.truncDivision(b,2)-1,15);for(var j=kt.truncDivision(b,2),_=kt.truncDivision(w,2),p=0;p<j;p++){var S=p+kt.truncDivision(p,15);y[j-p-1]=_-S-1,y[j+p]=_+S+1}}for(var A=new $s(w),p=0,O=0;p<c;p++){for(var M=(c-p)*4+(l?9:12),B=0;B<M;B++)for(var T=B*2,E=0;E<2;E++)m.get(O+T+E)&&A.set(y[p*2+E],y[p*2+B]),m.get(O+M*2+T+E)&&A.set(y[p*2+B],y[b-1-p*2-E]),m.get(O+M*4+T+E)&&A.set(y[b-1-p*2-E],y[b-1-p*2-B]),m.get(O+M*6+T+E)&&A.set(y[b-1-p*2-B],y[p*2+E]);O+=M*8}if(t.drawModeMessage(A,l,w,g),l)t.drawBullsEye(A,kt.truncDivision(w,2),5);else{t.drawBullsEye(A,kt.truncDivision(w,2),7);for(var p=0,B=0;p<kt.truncDivision(b,2)-1;p+=15,B+=16)for(var E=kt.truncDivision(w,2)&1;E<w;E+=2)A.set(kt.truncDivision(w,2)-B,E),A.set(kt.truncDivision(w,2)+B,E),A.set(E,kt.truncDivision(w,2)-B),A.set(E,kt.truncDivision(w,2)+B)}var R=new Q1e;return R.setCompact(l),R.setSize(w),R.setLayers(c),R.setCodeWords(x),R.setMatrix(A),R},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var s=r-i;s<=r+i;s++)e.set(s,r-i),e.set(s,r+i),e.set(r-i,s),e.set(r+i,s);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new $n;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var s=kt.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var l=s-3+o;i.get(o)&&e.set(l,s-5),i.get(o+7)&&e.set(s+5,l),i.get(20-o)&&e.set(l,s+5),i.get(27-o)&&e.set(s-5,l)}else for(var o=0;o<10;o++){var l=s-5+o+kt.truncDivision(o,5);i.get(o)&&e.set(l,s-7),i.get(o+10)&&e.set(s+7,l),i.get(29-o)&&e.set(l,s+7),i.get(39-o)&&e.set(s-7,l)}},t.generateCheckWords=function(e,r,n){var i,s,o=e.getSize()/n,l=new Tk(t.getGF(n)),c=kt.truncDivision(r,n),u=t.bitsToWords(e,n,c);l.encode(u,c-o);var d=r%n,h=new $n;h.appendBits(0,d);try{for(var f=hve(Array.from(u)),p=f.next();!p.done;p=f.next()){var m=p.value;h.appendBits(m,n)}}catch(x){i={error:x}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return h},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),s,o;for(s=0,o=e.getSize()/r;s<o;s++){for(var l=0,c=0;c<r;c++)l|=e.get(s*r+c)?1<<r-c-1:0;i[s]=l}return i},t.getGF=function(e){switch(e){case 4:return zi.AZTEC_PARAM;case 6:return zi.AZTEC_DATA_6;case 8:return zi.AZTEC_DATA_8;case 10:return zi.AZTEC_DATA_10;case 12:return zi.AZTEC_DATA_12;default:throw new lt("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new $n,i=e.getSize(),s=(1<<r)-2,o=0;o<i;o+=r){for(var l=0,c=0;c<r;c++)(o+c>=i||e.get(o+c))&&(l|=1<<r-1-c);(l&s)===s?(n.appendBits(l&s,r),o--):l&s?n.appendBits(l,r):(n.appendBits(l|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var fve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pve=function(t){fve(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var s=new Uint8ClampedArray(n*i),o=0,l=0,c=r.length;o<c;o+=4,l++){var u=void 0,d=r[o+3];if(d===0)u=255;else{var h=r[o],f=r[o+1],p=r[o+2];u=306*h+601*f+117*p+512>>10}s[l]=u}return s},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth(),s=r*i;return n===null?n=this.buffer.slice(s,s+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(s,s+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return t.prototype.crop.call(this,r,n,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new y1(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*o),c=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*o);n.width=l,n.height=c;var u=n.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(l/2,c/2),u.rotate(i),u.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(H0);function Lk(){return typeof navigator<"u"}function mve(){return Lk()&&!!navigator.mediaDevices}function xve(){return!!(mve()&&navigator.mediaDevices.enumerateDevices)}var Yu=function(){return Yu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yu.apply(this,arguments)},Fr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},Br=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Fb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gve={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},sh=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=Yu(Yu({},gve),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Ar.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return Fr(this,void 0,void 0,function(){return Br(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var s=Fb(i),o=s.next();!o.done;o=s.next()){var l=o.value;if(t.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Jr("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Jr("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new pve(e),n=new yk(r);return new bk(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new Jr("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,s=n.height;return r.style.width=i+"px",r.style.height=s+"px",r.width=i,r.height=s,r},t.tryPlayVideo=function(e){return Fr(this,void 0,void 0,function(){var r;return Br(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return Fr(this,void 0,void 0,function(){var e,r,n,i,s,o,l,c,u,d,h,f;return Br(this,function(p){switch(p.label){case 0:if(!Lk())throw new Error("Can't enumerate devices, navigator is not present.");if(!xve())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Fb(e),i=n.next();!i.done;i=n.next())s=i.value,o=s.kind==="video"?"videoinput":s.kind,o==="videoinput"&&(l=s.deviceId||s.id,c=s.label||"Video device ".concat(r.length+1),u=s.groupId,d={deviceId:l,label:c,kind:o,groupId:u},r.push(d))}catch(m){h={error:m}}finally{try{i&&!i.done&&(f=n.return)&&f.call(n)}finally{if(h)throw h.error}}return[2,r]}})})},t.findDeviceById=function(e){return Fr(this,void 0,void 0,function(){var r;return Br(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return Fr(this,void 0,void 0,function(){var n;return Br(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(s,o){var l=setTimeout(function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",c))},r),c=function(){t.tryPlayVideo(e).then(function(u){clearTimeout(l),e.removeEventListener("canplay",c),s(u)})};e.addEventListener("canplay",c)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),Fr(this,void 0,void 0,function(){var i;return Br(this,function(s){switch(s.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return s.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,s=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),n())},i),o=function(){clearTimeout(s),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new Jr("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return Fr(this,void 0,void 0,function(){var r;return Br(this,function(n){switch(n.label){case 0:if(!e)throw new Jr("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return Fr(this,void 0,void 0,function(){var r;return Br(this,function(n){switch(n.label){case 0:if(!e)throw new Jr("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Fr(this,void 0,void 0,function(){var i,s;return Br(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,o.sent()];case 4:throw s=o.sent(),t.disposeMediaStream(i),s;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return Fr(this,void 0,void 0,function(){var i,s,o,l,c,u,d,h,f,p=this;return Br(this,function(m){switch(m.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return s=m.sent(),o=function(){t.disposeMediaStream(e),t.cleanVideoSource(s)},l=this.scan(s,n,o),c=e.getVideoTracks(),u=Yu(Yu({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(x,g){return Fr(this,void 0,void 0,function(){var b,y,w,j,_,S,A;return Br(this,function(O){switch(O.label){case 0:b=g?c.filter(g):c,O.label=1;case 1:O.trys.push([1,6,7,8]),y=Fb(b),w=y.next(),O.label=2;case 2:return w.done?[3,5]:(j=w.value,[4,j.applyConstraints(x)]);case 3:O.sent(),O.label=4;case 4:return w=y.next(),[3,2];case 5:return[3,8];case 6:return _=O.sent(),S={error:_},[3,8];case 7:try{w&&!w.done&&(A=y.return)&&A.call(y)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(x){return c.find(x).getConstraints()},streamVideoSettingsGet:function(x){return c.find(x).getSettings()},streamVideoCapabilitiesGet:function(x){return c.find(x).getCapabilities()}}),d=t.mediaStreamIsTorchCompatible(e),d&&(h=c==null?void 0:c.find(function(x){return t.mediaStreamIsTorchCompatibleTrack(x)}),f=function(x){return Fr(p,void 0,void 0,function(){return Br(this,function(g){switch(g.label){case 0:return[4,t.mediaStreamSetTorch(h,x)];case 1:return g.sent(),[2]}})})},u.switchTorch=f,u.stop=function(){return Fr(p,void 0,void 0,function(){return Br(this,function(x){switch(x.label){case 0:return l.stop(),[4,f(!1)];case 1:return x.sent(),[2]}})})}),[2,u]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Fr(this,void 0,void 0,function(){var i,s;return Br(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return Fr(this,void 0,void 0,function(){var n,i;return Br(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Jr("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return s.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return Fr(this,void 0,void 0,function(){var n,i,s,o;return Br(this,function(l){switch(l.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Jr("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},s=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,s)];case 1:return l.sent(),o=this.scan(n,r,i),[2,o]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Fr(this,void 0,void 0,function(){var n;return Br(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Fr(this,void 0,void 0,function(){var n,i,s;return Br(this,function(o){switch(o.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return s=o.sent(),[2,s];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Fr(this,void 0,void 0,function(){var n,i;return Br(this,function(s){switch(s.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return Fr(this,void 0,void 0,function(){var r,n;return Br(this,function(i){switch(i.label){case 0:if(!e)throw new Jr("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return Fr(this,void 0,void 0,function(){var r,n;return Br(this,function(i){switch(i.label){case 0:if(!e)throw new Jr("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var s=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(o,l){s.scan(e,function(c,u,d){if(c){o(c),d.stop();return}if(u){if(u instanceof Ie&&r||u instanceof dn&&n||u instanceof He&&i)return;d.stop(),l(u)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var s=t.createCaptureCanvas(e),o;try{o=s.getContext("2d",{willReadFrequently:!0})}catch{o=s.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){o=void 0,s=void 0},c=!1,u,d=function(){c=!0,clearTimeout(u),l(),n&&n()},h={stop:d},f=function(){if(!c)try{t.drawImageOnCanvas(o,e);var p=i.decodeFromCanvas(s);r(p,void 0,h),u=setTimeout(f,i.options.delayBetweenScanSuccess)}catch(b){r(void 0,b,h);var m=b instanceof dn,x=b instanceof He,g=b instanceof Ie;if(m||x||g){u=setTimeout(f,i.options.delayBetweenScanAttempts);return}l(),n&&n(b)}};return f(),h},t.prototype._decodeOnLoadImage=function(e){return Fr(this,void 0,void 0,function(){var r;return Br(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return Fr(this,void 0,void 0,function(){var r;return Br(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),vve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){vve(e,t);function e(r,n){return t.call(this,new ig,r,n)||this}return e})(sh);var bve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){bve(e,t);function e(r,n){return t.call(this,new Gu(r),r,n)||this}return e})(sh);var yve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){yve(e,t);function e(r,n){return t.call(this,new sg,r,n)||this}return e})(sh);var wve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){wve(e,t);function e(r,n){var i=this,s=new kk;return s.setHints(r),i=t.call(this,s,r,n)||this,i.reader=s,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(Ar.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e})(sh);var jve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){jve(e,t);function e(r,n){return t.call(this,new lg,r,n)||this}return e})(sh);var Nve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_ve=function(t){Nve(e,t);function e(r,n){return t.call(this,new og,r,n)||this}return e}(sh);const jm=[{id:"lot001",name:"Lot Huîtres A",date:"2023-05-12",type:"lot",location:"Bassin 3",status:"Optimal",stock:{quantity:"500",unit:"kg"}},{id:"lot002",name:"Lot Huîtres B",date:"2023-05-15",type:"lot",location:"Bassin 2",status:"Attention",stock:{quantity:"350",unit:"kg"}},{id:"lot003",name:"Lot Huîtres C",date:"2023-06-01",type:"lot",location:"Stockage 1",status:"Optimal",stock:{quantity:"200",unit:"kg"}}],Nm=[{id:"bassin001",name:"Bassin 1",date:"2023-04-01",type:"bassin",location:"Zone production nord",status:"Optimal",occupation:"75%",nextMaintenance:"2023-07-15",stock:{quantity:"850",unit:"kg"},stats:[{label:"Température",value:"12.3°C"},{label:"Oxygène",value:"7.8 mg/L"},{label:"Produit",value:"Huîtres N°2"}]},{id:"bassin002",name:"Bassin 2",date:"2023-04-05",type:"bassin",location:"Zone production est",status:"Attention",occupation:"45%",nextMaintenance:"2023-07-10",stock:{quantity:"420",unit:"kg"},stats:[{label:"Température",value:"11.9°C"},{label:"Oxygène",value:"6.5 mg/L"},{label:"Produit",value:"Moules de mer"}]},{id:"bassin003",name:"Bassin 3",date:"2023-04-10",type:"bassin",location:"Zone production sud",status:"Optimal",occupation:"90%",nextMaintenance:"2023-07-20",stock:{quantity:"950",unit:"kg"},stats:[{label:"Température",value:"12.1°C"},{label:"Oxygène",value:"7.2 mg/L"},{label:"Produit",value:"Huîtres N°3"}]}],Tu=[{id:"storage-0001",name:"Frigo 1",type:"storage",date:"2023-04-20",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"500 kg"},{label:"Occupation",value:"65%"},{label:"Température",value:"4.5°C"},{label:"Humidité",value:"85%"}],products:[{name:"Huîtres Fines de Claire N°3",quantity:"180 kg",dlc:"05/04/2025"},{name:"Huîtres Spéciales N°2",quantity:"145 kg",dlc:"08/04/2025"}]},{id:"storage-0002",name:"Frigo 2",type:"storage",date:"2023-04-25",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"300 kg"},{label:"Occupation",value:"30%"},{label:"Température",value:"5.2°C"},{label:"Humidité",value:"80%"}],products:[{name:"Huîtres Plates",quantity:"60 kg",dlc:"10/04/2025"},{name:"Moules de Bouchot",quantity:"30 kg",dlc:"02/04/2025"}]},{id:"storage-0003",name:"Congélateur 1",type:"storage",date:"2023-04-30",location:"Zone de stockage secondaire",status:"Attention",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"200 kg"},{label:"Occupation",value:"85%"},{label:"Température",value:"-18.2°C"},{label:"Humidité",value:"40%"}],products:[{name:"Fruits de mer congelés",quantity:"95 kg",dlc:"20/10/2025"},{name:"Poissons congelés",quantity:"75 kg",dlc:"15/09/2025"}]},{id:"storage-0004",name:"Congélateur 2",type:"storage",date:"2023-05-05",location:"Zone de stockage secondaire",status:"Optimal",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"150 kg"},{label:"Occupation",value:"40%"},{label:"Température",value:"-20.5°C"},{label:"Humidité",value:"35%"}],products:[{name:"Crustacés congelés",quantity:"35 kg",dlc:"25/11/2025"},{name:"Préparations maison",quantity:"25 kg",dlc:"30/08/2025"}]},{id:"storage-0005",name:"Remise",type:"storage",date:"2023-05-10",location:"Arrière bâtiment",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"1000 kg"},{label:"Occupation",value:"55%"},{label:"Température",value:"15.0°C"},{label:"Humidité",value:"60%"}],products:[{name:"Matériel d'emballage",quantity:"300 kg",dlc:"N/A"},{name:"Équipement de manutention",quantity:"250 kg",dlc:"N/A"}]},{id:"storage-0006",name:"Cave",type:"storage",date:"2023-05-15",location:"Sous-sol",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"800 kg"},{label:"Occupation",value:"25%"},{label:"Température",value:"12.5°C"},{label:"Humidité",value:"75%"}],products:[{name:"Conserves",quantity:"120 kg",dlc:"31/12/2026"},{name:"Fournitures diverses",quantity:"80 kg",dlc:"N/A"}]}],_m=[{id:"bl001",reference:"BL-2023-001",date:"2023-06-05",type:"bl",client:"Restaurant La Marée",status:"Livré",products:[{name:"Huîtres calibre 3",quantity:"20kg"},{name:"Huîtres calibre 2",quantity:"15kg"}],notes:"Livraison effectuée le matin, client satisfait."},{id:"bl002",reference:"BL-2023-002",date:"2023-06-10",type:"bl",client:"Poissonnerie du Port",status:"En cours",products:[{name:"Huîtres calibre 1",quantity:"25kg"},{name:"Huîtres calibre 4",quantity:"10kg"}],notes:"Livraison prévue pour demain matin."}],Sm=[{id:"hist001",date:"2023-06-01 09:30",type:"history",action:"Contrôle qualité",user:"Jean Dupont",details:"Contrôle effectué sur Bassin 1, paramètres normaux."},{id:"hist002",date:"2023-06-02 11:15",type:"history",action:"Maintenance",user:"Marie Martin",details:"Maintenance du système de filtration Bassin 2."},{id:"hist003",date:"2023-06-03 14:45",type:"history",action:"Récolte",user:"Pierre Leblanc",details:"Récolte de 100kg depuis Bassin 3 vers Stockage 1."},{id:"hist004",date:"2023-06-04 16:30",type:"history",action:"Préparation commande",user:"Sophie Leroy",details:"Préparation BL-2023-001 pour Restaurant La Marée."}];function Sve(){const[t,e]=k.useState("lots"),[r,n]=k.useState(null),[i,s]=k.useState({}),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,h]=k.useState(!1),[f,p]=k.useState(!1),[m,x]=k.useState(null),[g,b]=k.useState({}),[y,w]=k.useState(""),[j,_]=k.useState([]),S=k.useRef(null),[A,O]=k.useState(null);k.useEffect(()=>{if(c&&!A){const I=new _ve;O(I)}return()=>{O(null)}},[c]),k.useEffect(()=>{c&&A&&S.current&&A.decodeFromVideoDevice(void 0,S.current,(I,U)=>{I&&(w(I.getText()),console.log("QR Code scanné:",I.getText()))}).catch(I=>console.error("Erreur lors du scan:",I))},[c,A]);const M=I=>{n(I),s(JSON.parse(JSON.stringify(I)))},B=()=>{console.log("Saving:",i),n(null)},T=I=>{x(I),p(!0)},E=()=>{const I=new st("l","mm","a4"),U=I.internal.pageSize.getWidth(),J=I.internal.pageSize.getHeight();let Q=60;I.setFillColor(10,42,64),I.rect(0,0,U,25,"F"),I.setTextColor(255,255,255),I.setFontSize(16),I.text("Rapport de Traçabilité OYSTER CULT",U/2,15,{align:"center"}),I.setTextColor(10,42,64),I.setFontSize(10),I.text(`Date d'export: ${new Date().toLocaleDateString("fr-FR")}`,14,35),I.text("Exporté par: Utilisateur",14,42),I.text(`Période: ${new Date().toLocaleDateString("fr-FR")} - ${new Date().toLocaleDateString("fr-FR")}`,14,49);const de=(he,te)=>{I.setFillColor(10,42,64),I.rect(10,Q,U-20,10,"F"),I.setTextColor(255,255,255),I.setFontSize(10);let Ue=10;he.forEach((ee,re)=>{const ue=te[re];I.text(ee,Ue+ue/2,Q+7,{align:"center"}),Ue+=ue}),Q+=10},xe=(he,te=10)=>{const Ue=he*te;return Q+Ue>J-20?(I.addPage(),Q=30,I.setFillColor(10,42,64),I.rect(0,0,U,20,"F"),I.setTextColor(255,255,255),I.setFontSize(12),I.text("Rapport de Traçabilité OYSTER CULT (suite)",U/2,13,{align:"center"}),!0):!1},le=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Lots en cours",U/2,Q,{align:"center"}),Q+=10;const he=[(U-20)*.25,(U-20)*.25,(U-20)*.2,(U-20)*.15,(U-20)*.15];de(["Nom","Emplacement","Stock","Status","Date"],he),xe(jm.length),jm.forEach((te,Ue)=>{const ee=Q+Ue*10;Ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,ee,U-20,10,"F")),I.setTextColor(60,60,60);let re=10;I.text(te.name,re+he[0]/2,ee+7,{align:"center"}),re+=he[0],I.text(te.location,re+he[1]/2,ee+7,{align:"center"}),re+=he[1],I.text(`${te.stock.quantity} ${te.stock.unit}`,re+he[2]/2,ee+7,{align:"center"}),re+=he[2],I.text(te.status,re+he[3]/2,ee+7,{align:"center"}),re+=he[3],I.text(te.date,re+he[4]/2,ee+7,{align:"center"})}),Q+=jm.length*10+15},_e=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Bassins",U/2,Q,{align:"center"}),Q+=10;const he=[(U-20)*.2,(U-20)*.2,(U-20)*.15,(U-20)*.15,(U-20)*.15,(U-20)*.15];de(["Nom","Emplacement","Stock","Occupation","Statut","Proch. Maintenance"],he),xe(Nm.length),Nm.forEach((te,Ue)=>{const ee=Q+Ue*10;Ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,ee,U-20,10,"F")),I.setTextColor(60,60,60);let re=10;I.text(te.name,re+he[0]/2,ee+7,{align:"center"}),re+=he[0],I.text(te.location,re+he[1]/2,ee+7,{align:"center"}),re+=he[1],I.text(`${te.stock.quantity} ${te.stock.unit}`,re+he[2]/2,ee+7,{align:"center"}),re+=he[2],I.text(te.occupation,re+he[3]/2,ee+7,{align:"center"}),re+=he[3],I.text(te.status,re+he[4]/2,ee+7,{align:"center"}),re+=he[4],I.text(te.nextMaintenance,re+he[5]/2,ee+7,{align:"center"})}),Q+=Nm.length*10+15},Oe=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Emplacements de stockage",U/2,Q,{align:"center"}),Q+=10;const he=[(U-20)*.25,(U-20)*.25,(U-20)*.2,(U-20)*.15,(U-20)*.15];de(["Nom","Emplacement","Température","Humidité","Statut"],he),xe(Tu.length),Tu.forEach((re,ue)=>{var qe,Ke;const Se=Q+ue*10;ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,Se,U-20,10,"F")),I.setTextColor(60,60,60);let je=10;I.text(re.name,je+he[0]/2,Se+7,{align:"center"}),je+=he[0],I.text(re.location,je+he[1]/2,Se+7,{align:"center"}),je+=he[1];const me=((qe=re.stats.find(it=>it.label==="Température"))==null?void 0:qe.value)||"N/A";I.text(me,je+he[2]/2,Se+7,{align:"center"}),je+=he[2];const Le=((Ke=re.stats.find(it=>it.label==="Humidité"))==null?void 0:Ke.value)||"N/A";I.text(Le,je+he[3]/2,Se+7,{align:"center"}),je+=he[3],I.text(re.status,je+he[4]/2,Se+7,{align:"center"})}),Q+=Tu.length*10+15,I.addPage(),Q=30,I.setFontSize(14),I.setTextColor(10,42,64),I.text("Produits stockés",U/2,Q,{align:"center"}),Q+=10;const te=[(U-20)*.25,(U-20)*.35,(U-20)*.2,(U-20)*.2];de(["Emplacement","Produit","Quantité","DLC"],te);let Ue=0;Tu.forEach(re=>{Ue+=re.products.length}),xe(Ue);let ee=0;Tu.forEach(re=>{re.products.forEach((ue,Se)=>{ee>0&&ee%25===0&&(I.addPage(),Q=30,de(["Emplacement","Produit","Quantité","DLC"],te));const je=Q+ee%25*10;ee%2===0&&(I.setFillColor(240,240,240),I.rect(10,je,U-20,10,"F")),I.setTextColor(60,60,60);let me=10;I.text(re.name,me+te[0]/2,je+7,{align:"center"}),me+=te[0],I.text(ue.name,me+te[1]/2,je+7,{align:"center"}),me+=te[1],I.text(ue.quantity,me+te[2]/2,je+7,{align:"center"}),me+=te[2],I.text(ue.dlc,me+te[3]/2,je+7,{align:"center"}),ee++})}),Q+=ee%25*10+15},ae=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Bons de livraison",U/2,Q,{align:"center"}),Q+=10;const he=[(U-20)*.2,(U-20)*.3,(U-20)*.25,(U-20)*.25];de(["Référence","Client","Date","Statut"],he),xe(_m.length),_m.forEach((te,Ue)=>{const ee=Q+Ue*10;Ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,ee,U-20,10,"F")),I.setTextColor(60,60,60);let re=10;I.text(te.reference,re+he[0]/2,ee+7,{align:"center"}),re+=he[0],I.text(te.client,re+he[1]/2,ee+7,{align:"center"}),re+=he[1],I.text(te.date,re+he[2]/2,ee+7,{align:"center"}),re+=he[2],I.text(te.status,re+he[3]/2,ee+7,{align:"center"})}),Q+=_m.length*10+15},Pe=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Historique des activités",U/2,Q,{align:"center"}),Q+=10;const he=[(U-20)*.2,(U-20)*.2,(U-20)*.2,(U-20)*.4];de(["Date","Utilisateur","Action","Détails"],he),xe(Sm.length),Sm.forEach((te,Ue)=>{const ee=Q+Ue*10;Ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,ee,U-20,10,"F")),I.setTextColor(60,60,60);let re=10;I.text(te.date,re+he[0]/2,ee+7,{align:"center"}),re+=he[0],I.text(te.user,re+he[1]/2,ee+7,{align:"center"}),re+=he[1],I.text(te.action,re+he[2]/2,ee+7,{align:"center"}),re+=he[2],I.text(te.details,re+he[3]/2,ee+7,{align:"center"})}),Q+=Sm.length*10+15};le(),I.addPage(),Q=30,_e(),I.addPage(),Q=30,Oe(),I.addPage(),Q=30,ae(),I.addPage(),Q=30,Pe();const De=I.internal.getNumberOfPages();for(let he=1;he<=De;he++){I.setPage(he),I.setFontSize(10),I.setTextColor(100,100,100);const te=`Page ${he}/${De}`;I.text(`OYSTER CULT - Traçabilité - ${te}`,U/2,J-10,{align:"center"})}I.save("traceabilite-oyster-cult.pdf"),h(!1)},R=()=>{if(!r)return null;const I=()=>{switch(r.type){case"lot":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-name",className:"block text-sm text-cyan-400 mb-1",children:"Nom"}),a.jsx("input",{id:"edit-name",type:"text",value:i.name,onChange:U=>s({...i,name:U.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-location",className:"block text-sm text-cyan-400 mb-1",children:"Emplacement"}),a.jsx("input",{id:"edit-location",type:"text",value:i.location,onChange:U=>s({...i,location:U.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-quantity",className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),a.jsx("input",{id:"edit-quantity",type:"text",value:i.stock.quantity,onChange:U=>s({...i,stock:{...i.stock,quantity:U.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"bassin":return a.jsxs("div",{className:"space-y-4",children:[r.stats.map((U,J)=>a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-stat-${J}`,className:"block text-sm text-cyan-400 mb-1",children:U.label}),a.jsx("input",{id:`edit-stat-${J}`,type:"text",value:i.stats[J].value,onChange:Q=>{const de=[...i.stats];de[J]={...de[J],value:Q.target.value},s({...i,stats:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},J)),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-occupation",className:"block text-sm text-cyan-400 mb-1",children:"Occupation"}),a.jsx("input",{id:"edit-occupation",type:"text",value:i.occupation,onChange:U=>s({...i,occupation:U.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-maintenance",className:"block text-sm text-cyan-400 mb-1",children:"Prochaine maintenance"}),a.jsx("input",{id:"edit-maintenance",type:"text",value:i.nextMaintenance,onChange:U=>s({...i,nextMaintenance:U.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-stock",className:"block text-sm text-cyan-400 mb-1",children:"Stock"}),a.jsx("input",{id:"edit-stock",type:"text",value:i.stock.quantity,onChange:U=>s({...i,stock:{...i.stock,quantity:U.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"storage":return a.jsxs("div",{className:"space-y-4",children:[r.stats.map((U,J)=>a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-storage-stat-${J}`,className:"block text-sm text-cyan-400 mb-1",children:U.label}),a.jsx("input",{id:`edit-storage-stat-${J}`,type:"text",value:i.stats[J].value,onChange:Q=>{const de=[...i.stats];de[J]={...de[J],value:Q.target.value},s({...i,stats:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},J)),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Produits"}),i.products.map((U,J)=>a.jsxs("div",{className:"space-y-2 mb-4 p-3 rounded-lg bg-cyan-500/5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-product-name-${J}`,className:"block text-sm text-cyan-400 mb-1",children:"Nom du produit"}),a.jsx("input",{id:`edit-product-name-${J}`,type:"text",value:U.name,onChange:Q=>{const de=[...i.products];de[J]={...de[J],name:Q.target.value},s({...i,products:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-product-quantity-${J}`,className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),a.jsx("input",{id:`edit-product-quantity-${J}`,type:"text",value:U.quantity,onChange:Q=>{const de=[...i.products];de[J]={...de[J],quantity:Q.target.value},s({...i,products:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-product-dlc-${J}`,className:"block text-sm text-cyan-400 mb-1",children:"DLC"}),a.jsx("input",{id:`edit-product-dlc-${J}`,type:"text",value:U.dlc,onChange:Q=>{const de=[...i.products];de[J]={...de[J],dlc:Q.target.value},s({...i,products:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]},J))]})]});default:return null}};return a.jsxs(Qh,{isOpen:!0,onClose:()=>n(null),title:`Modifier ${r.name}`,children:[I(),a.jsxs("div",{className:"flex justify-end mt-6 gap-3",children:[a.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler la modification",children:"Annuler"}),a.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Enregistrer les modifications",children:[a.jsx(Tc,{className:"w-4 h-4"}),"Enregistrer"]})]})]})},F=()=>!f||!m?null:a.jsx(Qh,{isOpen:!0,onClose:()=>p(!1),title:`Bon de livraison - ${m.reference}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Date"}),a.jsx("p",{className:"text-white",children:m.date})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-cyan-400 mb-1",children:"Client"}),a.jsx("p",{className:"text-white",children:m.client})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-cyan-400 mb-2",id:"products-heading",children:"Produits"}),a.jsx("div",{className:"space-y-2","aria-labelledby":"products-heading",children:m.products.map((I,U)=>a.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-white",children:I.name}),a.jsx("p",{className:"text-cyan-400",children:I.quantity})]})},U))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Notes"}),a.jsx("p",{className:"text-white",children:m.notes})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le bon de livraison",children:"Fermer"})})]})}),W=()=>o?a.jsx(Qh,{isOpen:!0,onClose:()=>l(!1),title:"Filtrer les éléments",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filter-search",className:"block text-sm text-cyan-400 mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"filter-search",type:"text",value:g.search||"",onChange:I=>b({...g,search:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg pl-10 pr-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher..."}),a.jsx(fn,{className:"absolute left-3 top-2.5 w-4 h-4 text-cyan-400","aria-hidden":"true"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filter-date",className:"block text-sm text-cyan-400 mb-1",children:"Date"}),a.jsx("input",{id:"filter-date",type:"date",value:g.date||"",onChange:I=>b({...g,date:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filter-status",className:"block text-sm text-cyan-400 mb-1",children:"Statut"}),a.jsxs("select",{id:"filter-status",value:g.status||"",onChange:I=>b({...g,status:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx("option",{value:"",children:"Tous"}),a.jsx("option",{value:"Optimal",children:"Optimal"}),a.jsx("option",{value:"Attention",children:"Attention"}),a.jsx("option",{value:"Livré",children:"Livré"}),a.jsx("option",{value:"En cours",children:"En cours"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filter-type",className:"block text-sm text-cyan-400 mb-1",children:"Type"}),a.jsxs("select",{id:"filter-type",value:g.type||"",onChange:I=>b({...g,type:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx("option",{value:"",children:"Tous"}),a.jsx("option",{value:"lot",children:"Lots"}),a.jsx("option",{value:"bassin",children:"Bassins"}),a.jsx("option",{value:"storage",children:"Stockage"}),a.jsx("option",{value:"bl",children:"Bons de livraison"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[a.jsx("button",{onClick:()=>{b({}),l(!1)},className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Réinitialiser les filtres",children:"Réinitialiser"}),a.jsxs("button",{onClick:()=>l(!1),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Appliquer les filtres",children:[a.jsx(pi,{className:"w-4 h-4","aria-hidden":"true"}),"Appliquer"]})]})]})}):null,$=()=>c?a.jsx(Qh,{isOpen:!0,onClose:()=>{u(!1),w("")},title:"Scanner un QR Code",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative overflow-hidden rounded-lg bg-black aspect-video",children:a.jsx("video",{ref:S,className:"w-full h-full object-cover rounded-lg","aria-label":"Flux vidéo pour le scan de QR code"})}),y&&a.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[a.jsx("p",{className:"text-sm text-cyan-400",id:"qr-result-label",children:"Résultat du scan"}),a.jsx("p",{className:"text-white break-all","aria-labelledby":"qr-result-label",children:y})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>{u(!1),w("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le scanner QR",children:"Fermer"})})]})}):null,z=()=>d?a.jsx(Qh,{isOpen:!0,onClose:()=>h(!1),title:"Exporter les données",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-white",id:"export-description",children:"Voulez-vous exporter toutes les données de traçabilité en PDF ? Le document contiendra toutes les informations de chaque onglet (Lots, Bassins, Stockage, Bons de livraison et Historique)."}),a.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10 mb-4",children:[a.jsxs("h3",{className:"text-cyan-400 font-medium mb-2 flex items-center gap-2",children:[a.jsx(kf,{className:"w-4 h-4"}),"Informations importantes"]}),a.jsxs("ul",{className:"list-disc pl-5 text-sm text-white/80 space-y-2",children:[a.jsxs("li",{children:["Le PDF généré contiendra ",a.jsx("strong",{children:"toutes les données"})," de tous les onglets, quelle que soit la page actuellement affichée."]}),a.jsx("li",{children:"Les données seront organisées par sections avec une mise en page optimisée."}),a.jsx("li",{children:"Pour les sections contenant beaucoup de données, plusieurs pages seront créées automatiquement."})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler l'export",children:"Annuler"}),a.jsxs("button",{onClick:E,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-labelledby":"export-description",children:[a.jsx(is,{className:"w-4 h-4","aria-hidden":"true"}),"Exporter en PDF"]})]})]})}):null,X=({tabs:I,activeTab:U,onChange:J,className:Q})=>a.jsx("div",{className:`flex gap-4 ${Q}`,role:"tablist",children:I.map(de=>a.jsxs("button",{onClick:()=>J(de.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap min-w-[44px] min-h-[44px] ${U===de.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] focus:ring-2 focus:ring-cyan-500/40 transform hover:-translate-y-1 hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300":"text-white/60 hover:text-white hover:bg-white/5 shadow-[0_4px_8px_rgba(0,0,0,0.2)] hover:shadow-[0_5px_12px_rgba(0,0,0,0.3)] focus:ring-2 focus:ring-white/30 transform hover:-translate-y-1 transition-all duration-300"}`,role:"tab","aria-selected":U===de.id,"aria-controls":`tab-panel-${de.id}`,id:`tab-${de.id}`,children:[a.jsx("span",{className:"w-4 h-4","aria-hidden":"true",children:de.icon}),a.jsx("span",{children:de.label})]},de.id))}),Y=I=>{e(I)},oe=[{id:"lots",label:"Lots en cours",icon:a.jsx(tn,{size:20}),count:28},{id:"bassins",label:"Bassins",icon:a.jsx(ui,{size:20}),count:15},{id:"autre_emplacement",label:"Autre emplacement",icon:a.jsx(xi,{size:20}),count:8},{id:"bl",label:"Bons de livraison",icon:a.jsx(sd,{size:20}),count:36},{id:"historique",label:"Historique",icon:a.jsx(bl,{size:20})}],fe=I=>{console.log("Visualisation du document:",I)},D=I=>{_(U=>U.includes(I)?U.filter(J=>J!==I):[...U,I])};return a.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2 mb-4",children:[a.jsx(Dr,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Traçabilité"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les lots",children:[a.jsx(pi,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Filtrer"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[a.jsx(Mt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter les données",children:[a.jsx(is,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Exporter"})]})]})]}),a.jsx("div",{className:"relative mb-6 mt-4",children:a.jsx(X,{tabs:oe,activeTab:t,onChange:Y,className:"overflow-x-auto pb-2 hide-scrollbar"})})]}),a.jsxs("div",{id:"traceability-content",className:"space-y-6",children:[t==="lots"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(tn,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Lots de production"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[a.jsx(Mt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:jm.map(I=>a.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:I.name}),a.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",I.location]})]}),a.jsx("div",{className:"flex gap-1",children:a.jsx("button",{onClick:()=>M(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:a.jsx(qi,{className:"w-4 h-4","aria-hidden":"true"})})})]}),a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${I.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),a.jsx("p",{className:"text-xs text-white/70",children:I.status})]})]}),a.jsxs("p",{className:"text-white",children:[I.stock.quantity," ",I.stock.unit]})]}),a.jsx("div",{className:"text-sm text-white/70",children:a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("p",{children:"Date de création"}),a.jsx("p",{children:I.date})]})})]})]})},I.id))})]})}),t==="bassins"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(ui,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Occupation des bassins"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bassin",children:[a.jsx(Mt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:Nm.map(I=>{var U;return a.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:I.name}),a.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",I.location]})]}),a.jsx("div",{className:"flex gap-1",children:a.jsx("button",{onClick:()=>M(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:a.jsx(qi,{className:"w-4 h-4","aria-hidden":"true"})})})]}),a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${I.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),a.jsx("p",{className:"text-xs text-white/70",children:I.status})]})]}),a.jsxs("p",{className:"text-white",children:[I.stock.quantity," ",I.stock.unit]}),a.jsx("p",{className:"text-sm text-white/70 mt-1",children:((U=I.stats.find(J=>J.label==="Produit"))==null?void 0:U.value)||"Non spécifié"})]}),a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("p",{children:"Statut"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="Optimal"?"bg-green-500/10 text-green-400":"bg-yellow-500/10 text-yellow-400"}`,children:I.status})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{children:"Prochaine maintenance"}),a.jsx("p",{children:I.nextMaintenance})]})]})]})]})},I.id)})})]})}),t==="bl"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(sd,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Bons de livraison"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bon de livraison",children:[a.jsx(Mt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6",children:_m.map(I=>a.jsxs("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors cursor-pointer",onClick:()=>T(I),children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-2 md:gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:I.reference}),a.jsxs("p",{className:"text-sm text-white/60",children:["Client: ",I.client]})]}),a.jsx("div",{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="Livré"?"bg-green-500/10 text-green-400":"bg-blue-500/10 text-blue-400"}`,children:I.status})})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Produits"}),a.jsx("ul",{className:"mt-1 space-y-1",children:I.products.map((U,J)=>a.jsxs("li",{className:"text-sm text-white flex justify-between",children:[a.jsx("span",{children:U.name}),a.jsx("span",{children:U.quantity})]},J))})]}),a.jsxs("div",{className:"mt-3 flex justify-between text-sm",children:[a.jsxs("span",{className:"text-white/60",children:["Date: ",I.date]}),a.jsx("button",{onClick:U=>{U.stopPropagation(),T(I)},className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Voir les détails du bon de livraison ${I.reference}`,children:a.jsx(mo,{className:"w-4 h-4","aria-hidden":"true"})})]})]},I.id))})]})}),t==="historique"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(bl,{className:"text-cyan-400","aria-hidden":"true"}),"Historique des activités"]})}),a.jsx("div",{className:"space-y-4 mt-6",children:Sm.map(I=>a.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 mt-2"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[a.jsx("h3",{className:"font-medium text-white mb-1",children:I.action}),a.jsx("span",{className:"text-sm text-white/60",children:I.date})]}),a.jsxs("p",{className:"text-sm text-white/60 mb-2",children:["Par: ",I.user]}),a.jsx("p",{className:"text-sm text-white",children:I.details})]})]})},I.id))})]})}),t==="autre_emplacement"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(xi,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Emplacements de stockage"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un emplacement de stockage",children:[a.jsx(Mt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:Tu.map(I=>{var Oe,ae,Pe;const U=((Oe=I.stats.find(De=>De.label==="Type"))==null?void 0:Oe.value)||"Stockage",J=((ae=I.stats.find(De=>De.label==="Occupation"))==null?void 0:ae.value)||"0%",Q=((Pe=I.stats.find(De=>De.label==="Capacité"))==null?void 0:Pe.value)||"N/A",de=parseInt(J)||0;let xe="bg-emerald-500",le="text-emerald-400";de<20?(xe="bg-red-500",le="text-red-400"):de<40&&(xe="bg-amber-500",le="text-amber-400");let _e="bg-emerald-500/10 text-emerald-400";return I.status==="Attention"?_e="bg-amber-500/10 text-amber-400":I.status==="Critique"&&(_e="bg-red-500/10 text-red-400"),a.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors","aria-label":`Emplacement de stockage ${I.name}, ${U}, occupation ${J}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:I.name}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/60 mt-1",children:[a.jsx("span",{className:"inline-block px-2 py-0.5 bg-cyan-500/10 rounded text-cyan-400 text-xs",children:U}),a.jsx("span",{"aria-hidden":"true",children:"•"}),a.jsx("span",{children:I.location})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>M(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:a.jsx(qi,{className:"w-4 h-4","aria-hidden":"true"})}),a.jsx("button",{onClick:()=>fe(I.id),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`QR Code pour ${I.name}`,children:a.jsx(j0,{className:"w-4 h-4","aria-hidden":"true"})})]})]}),a.jsxs("div",{className:"mt-2 space-y-4",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-cyan-400",children:"Capacité"}),a.jsx("span",{className:"text-white font-medium",children:Q})]})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-cyan-400",children:"Occupation"}),a.jsx("span",{className:`text-sm font-medium ${le}`,children:J})]}),a.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:`h-full ${xe} rounded-full transition-all duration-500 ease-in-out`,style:{width:`${de}%`},role:"progressbar","aria-valuenow":de,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Occupation: ${J}`})})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:I.stats.filter(De=>["Température","Humidité"].includes(De.label)).map((De,he)=>a.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-2",children:[a.jsx("p",{className:"text-xs text-cyan-400",children:De.label}),a.jsx("p",{className:"text-white font-medium",children:De.value})]},he))}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_e}`,children:I.status})]}),I.products&&I.products.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("button",{onClick:De=>{De.stopPropagation(),D(I.id)},className:"w-full flex justify-between items-center py-2 px-3 rounded-lg bg-cyan-500/10 text-white hover:bg-cyan-500/20 transition-colors min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-expanded":j.includes(I.id),"aria-controls":`products-${I.id}`,children:[a.jsxs("span",{className:"flex items-center text-sm font-medium",children:[a.jsx(tn,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Produits (",I.products.length,")"]}),a.jsx(kc,{className:`w-4 h-4 transition-transform duration-300 ${j.includes(I.id)?"rotate-180":""}`,"aria-hidden":"true"})]}),j.includes(I.id)&&a.jsxs("div",{id:`products-${I.id}`,className:"mt-2 space-y-2 p-3 bg-cyan-500/5 rounded-lg border border-cyan-500/10 animate-fadeIn",children:[a.jsx("h4",{className:"text-sm font-medium text-cyan-400 mb-2",children:"Produits stockés"}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-white/60",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Produit"}),a.jsx("th",{className:"pb-2 font-medium",children:"Quantité"}),a.jsx("th",{className:"pb-2 font-medium",children:"DLC"})]})}),a.jsx("tbody",{children:I.products.map((De,he)=>{const te=De.dlc!=="N/A";let Ue="";if(te){const ee=new Date,ue=new Date(De.dlc.split("/").reverse().join("-")).getTime()-ee.getTime(),Se=Math.ceil(ue/(1e3*60*60*24));Se<0?Ue="text-red-400 font-medium":Se<=7&&(Ue="text-amber-400 font-medium")}return a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-2 text-white",children:De.name}),a.jsx("td",{className:"py-2 text-white",children:De.quantity}),a.jsx("td",{className:"py-2",children:a.jsxs("span",{className:De.dlc==="N/A"?"text-white/60":`text-white ${Ue}`,children:[De.dlc,Ue==="text-red-400 font-medium"&&a.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-red-500/20",children:"Dépassée"}),Ue==="text-amber-400 font-medium"&&a.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-amber-500/20",children:"Bientôt"})]})})]},he)})})]})]})]}),a.jsx("div",{className:"mt-auto pt-4",children:a.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-xs text-white/60",children:[a.jsx("span",{className:"w-20",children:"Date:"}),a.jsx("span",{className:"text-white/80",children:I.date})]})})]})},I.id)})})]})})]}),R(),F(),W(),$(),z()]})}function Ave({onSubmit:t,onCancel:e}){const r=n=>{n.preventDefault(),t({})};return a.jsxs("form",{onSubmit:r,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-white/70 mb-2",children:"Client"}),a.jsx("input",{type:"text",id:"client",name:"client",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nom du client"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"products",className:"block text-sm font-medium text-white/70 mb-2",children:"Produits"}),a.jsxs("select",{id:"products",name:"products",multiple:!0,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",children:[a.jsx("option",{value:"huitres-speciales",children:"Huîtres Spéciales N°2"}),a.jsx("option",{value:"huitres-fines",children:"Huîtres Fines N°3"}),a.jsx("option",{value:"huitres-plates",children:"Huîtres Plates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-white/70 mb-2",children:"Quantité"}),a.jsx("input",{type:"number",id:"quantity",name:"quantity",min:"1",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nombre de douzaines"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-white/70 mb-2",children:"Prix unitaire (€)"}),a.jsx("input",{type:"number",id:"price",name:"price",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"29.90"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-white/70 mb-2",children:"Notes"}),a.jsx("textarea",{id:"notes",name:"notes",rows:3,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Informations complémentaires..."})]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Créer la vente"})]})]})}const Rk=[{month:"Jan",sales:42e3,orders:156},{month:"Fév",sales:48e3,orders:172},{month:"Mar",sales:45e3,orders:168},{month:"Avr",sales:52e3,orders:189},{month:"Mai",sales:49e3,orders:175},{month:"Juin",sales:55e3,orders:198}],Fk=(t,e)=>({data:t.map(r=>({name:r.month,value:r[e]}))}),Cve=[{name:"Ventes",color:"#22d3ee",...Fk(Rk,"sales")}],Eve=[{name:"Commandes",color:"#22d3ee",...Fk(Rk,"orders")}];function Ove(){const[t,e]=k.useState(!1),[r,n]=k.useState("");k.useState("month");const i=s=>{console.log("Creating sale:",s),e(!1)};return a.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:a.jsx(y0,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ventes"})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Mt,{size:20,"aria-hidden":"true"}),"Nouvelle Vente"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(SC,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Ventes totales"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"55,000 €"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(ki,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Nouveaux clients"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"24"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(_w,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Commandes"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"198"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+15% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(tn,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Produits vendus"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"856"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+5% ce mois"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Évolution des ventes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),a.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),a.jsx(m0,{series:Cve,height:300})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nombre de commandes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),a.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),a.jsx(m0,{series:Eve,height:300})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Dernières ventes"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:20,className:"absolute left-3 -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),a.jsx("input",{type:"text",placeholder:"Rechercher...",value:r,onChange:s=>n(s.target.value),className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(pi,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-white/60",children:[a.jsx("th",{className:"pb-4",children:"Date"}),a.jsx("th",{className:"pb-4",children:"Client"}),a.jsx("th",{className:"pb-4",children:"Produits"}),a.jsx("th",{className:"pb-4 text-right",children:"Montant"}),a.jsx("th",{className:"pb-4",children:"Statut"})]})}),a.jsxs("tbody",{className:"text-white",children:[a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-4",children:"26/03/2025"}),a.jsx("td",{children:"Martin Dubois"}),a.jsx("td",{children:"Huîtres Spéciales N°2 (3 dz)"}),a.jsx("td",{className:"text-right text-cyan-400",children:"89.70 €"}),a.jsx("td",{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Livrée"})})]}),a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-4",children:"26/03/2025"}),a.jsx("td",{children:"Sophie Martin"}),a.jsx("td",{children:"Huîtres Fines N°3 (4 dz)"}),a.jsx("td",{className:"text-right text-cyan-400",children:"95.60 €"}),a.jsx("td",{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"En cours"})})]})]})]})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Vente"}),a.jsx("button",{onClick:()=>e(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:a.jsx(yt,{size:24})})]}),a.jsx(Ave,{onSubmit:i,onCancel:()=>e(!1)})]})})]})}const QA=W5,Pve=V5,ZA=m1,Bk=k.forwardRef(({className:t,...e},r)=>a.jsx($0,{ref:r,className:ti("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Bk.displayName=$0.displayName;const ow=k.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Pve,{children:[a.jsx(Bk,{}),a.jsx(z0,{ref:n,className:ti("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:e})]}));ow.displayName=z0.displayName;const lw=({className:t,...e})=>a.jsx("div",{className:ti("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});lw.displayName="DialogHeader";const cw=k.forwardRef(({className:t,...e},r)=>a.jsx(U0,{ref:r,className:ti("text-lg font-semibold leading-none tracking-tight",t),...e}));cw.displayName=U0.displayName;const kve=k.forwardRef(({className:t,...e},r)=>a.jsx(q0,{ref:r,className:ti("text-sm text-muted-foreground",t),...e}));kve.displayName=q0.displayName;const Tve=[{id:"1",content:"Produits reçus en excellent état.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Évaluation du lot reçu",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:30:00",type:"rating",rating:{overall:4.5,details:{quality:5,delivery:4,communication:4.5}}}];function Ive({orderId:t}){const[e,r]=k.useState(""),[n,i]=k.useState(Tve),[s,o]=k.useState(!1),[l,c]=k.useState({overall:0,quality:0,delivery:0,communication:0}),u=h=>{if(h.preventDefault(),!e.trim())return;const f={id:Date.now().toString(),content:e,author:{name:"Utilisateur",avatar:"https://i.pravatar.cc/40?img=3"},timestamp:new Date().toISOString(),type:"comment"};i([...n,f]),r("")},d=()=>{const h={id:Date.now().toString(),content:"Note ajoutée",author:{name:"Utilisateur",avatar:"https://i.pravatar.cc/40?img=3"},timestamp:new Date().toISOString(),type:"rating",rating:{overall:l.overall,details:{quality:l.quality,delivery:l.delivery,communication:l.communication}}};i([...n,h]),o(!1)};return a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Commentaires"}),a.jsxs("button",{onClick:()=>o(!s),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 transition-colors","aria-label":"Ajouter une note",children:[a.jsx(Wi,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Noter"})]})]}),s&&a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mb-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60 block mb-2",children:"Note globale"}),a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(h=>a.jsx("button",{onClick:()=>c({...l,overall:h}),className:`text-xl ${h<=l.overall?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de ${h} étoiles`,children:"★"},h))})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Qualité"}),a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(h=>a.jsx("button",{onClick:()=>c({...l,quality:h}),className:`text-sm ${h<=l.quality?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de qualité: ${h} étoiles`,children:"★"},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Livraison"}),a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(h=>a.jsx("button",{onClick:()=>c({...l,delivery:h}),className:`text-sm ${h<=l.delivery?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de livraison: ${h} étoiles`,children:"★"},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Communication"}),a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(h=>a.jsx("button",{onClick:()=>c({...l,communication:h}),className:`text-sm ${h<=l.communication?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de communication: ${h} étoiles`,children:"★"},h))})]})]}),a.jsx("button",{onClick:d,className:"w-full px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors text-sm",disabled:l.overall===0,children:"Enregistrer la note"})]}),a.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:n.map(h=>a.jsx("div",{className:"bg-white/5 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:h.author.avatar?a.jsx("img",{src:h.author.avatar,alt:h.author.name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:a.jsx(Ic,{className:"w-5 h-5 text-white/60"})})}),a.jsxs("div",{className:"flex-grow min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-white text-sm",children:h.author.name}),a.jsx("span",{className:"text-xs text-white/60",children:Bt(new Date(h.timestamp),"d MMM yyyy 'à' HH:mm",{locale:gr})})]}),h.type==="rating"&&h.rating&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(f=>a.jsx("span",{className:`text-sm ${f<=h.rating.overall?"text-yellow-400":"text-gray-400"}`,children:"★"},f))}),h.rating.details&&a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1 text-xs text-white/60",children:[a.jsxs("div",{children:["Qualité: ",h.rating.details.quality,"/5"]}),a.jsxs("div",{children:["Livraison: ",h.rating.details.delivery,"/5"]}),a.jsxs("div",{children:["Communication: ",h.rating.details.communication,"/5"]})]})]}),a.jsx("p",{className:"text-white/90 text-sm break-words",children:h.content}),h.attachments&&h.attachments.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.attachments.map((f,p)=>a.jsxs("div",{className:"flex items-center gap-1 bg-white/10 rounded px-2 py-0.5 text-xs",children:[a.jsx(OC,{className:"w-3 h-3"}),a.jsx("span",{children:f.name})]},p))})]})]})},h.id))}),a.jsxs("form",{onSubmit:u,className:"mt-4 flex gap-2",children:[a.jsx("div",{className:"flex-grow",children:a.jsx("input",{type:"text",value:e,onChange:h=>r(h.target.value),placeholder:"Ajouter un commentaire...",className:"w-full px-3 py-1.5 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-1 focus:ring-cyan-500/40 text-white text-sm placeholder-white/40","aria-label":"Nouveau commentaire"})}),a.jsxs("button",{type:"submit",disabled:!e.trim(),className:"flex items-center gap-1 px-3 py-1.5 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm","aria-label":"Envoyer le commentaire",children:[a.jsx(mg,{className:"w-4 h-4"}),a.jsx("span",{children:"Envoyer"})]})]})]})}function Dve({order:t,onClose:e}){return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-end z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 h-full w-[600px] border-l border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:t.product}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white/5 rounded-full transition-colors","aria-label":"Fermer les détails",children:a.jsx(yt,{className:"w-6 h-6 text-white/60"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Fournisseur"}),a.jsx("p",{className:"text-white",children:t.supplier})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Statut"}),a.jsx("p",{className:"text-white",children:t.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Quantité"}),a.jsxs("p",{className:"text-white",children:[t.quantity," kg"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Prix"}),a.jsxs("p",{className:"text-white",children:[t.price," €"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Emplacement"}),a.jsx("p",{className:"text-white",children:t.stockLocation})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Dernière mise à jour"}),a.jsx("p",{className:"text-white",children:t.lastUpdate})]})]}),t.rating>0&&a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("label",{className:"text-sm text-white/60 block mb-2",children:"Évaluation"}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(r=>a.jsx("span",{className:`text-xl ${r<=t.rating?"text-yellow-400":"text-gray-400"}`,children:"★"},r))})]}),a.jsx("div",{className:"bg-white/5 rounded-lg",children:a.jsx(Ive,{orderId:t.id})})]})]})}):null}function Mve(){var R,F,W,$,z,X,Y,oe,fe;ha();const[t,e]=k.useState(""),[r,n]=k.useState(null),[i,s]=k.useState("date"),[o,l]=k.useState("asc"),[c,u]=k.useState(!1),[d,h]=k.useState(""),[f,p]=k.useState("");k.useState(0);const[m,x]=k.useState({}),[g,b]=k.useState(""),[y,w]=k.useState([{id:"1",product:"Huîtres spéciales n°2 Bouzigues",supplier:"Bassin de Thau SARL",deliveryDate:"15/03",price:1420,quantity:180,status:"pending",icon:Dr,stockLocation:"En attente",lastUpdate:"2024-03-15",rating:0},{id:"2",product:"Palourdes vénérirupis",supplier:"Conchyliculteurs Normands",deliveryDate:"14/03",price:850,quantity:65,status:"confirmed",icon:Dr,stockLocation:"En attente",lastUpdate:"2024-03-14",rating:0},{id:"3",product:"Coquilles Saint-Jacques Normandie",supplier:"Pêcherie Atlantique",deliveryDate:"12/03",price:1680,quantity:90,status:"dispatched",icon:Dr,stockLocation:"En transit",lastUpdate:"2024-03-12",rating:0},{id:"4",product:"Coques fraîches Baie de Somme",supplier:"Marée du Nord",deliveryDate:"11/03",price:720,quantity:40,status:"in_transit",icon:Dr,stockLocation:"En transit",lastUpdate:"2024-03-11",rating:0},{id:"5",product:"Huîtres creuses Marennes-Oléron",supplier:"Maison Gillardeau",deliveryDate:"10/03",price:1250,quantity:200,status:"pending",icon:Dr,stockLocation:"En attente",lastUpdate:"2024-03-10",rating:0},{id:"6",product:"Moules bouchot AOP Mont Saint-Michel",supplier:"Mytiliculteurs Bretons",deliveryDate:"08/03",price:680,quantity:150,status:"confirmed",icon:Dr,stockLocation:"En attente",lastUpdate:"2024-03-08",rating:0},{id:"7",product:"Crevettes grises de l'Atlantique",supplier:"Pêcheurs de la Manche",deliveryDate:"05/03",price:950,quantity:50,status:"dispatched",icon:Dr,stockLocation:"En transit",lastUpdate:"2024-03-05",rating:0},{id:"8",product:"Crabes dormeurs de Bretagne",supplier:"Criée de Roscoff",deliveryDate:"03/03",price:1100,quantity:60,status:"in_transit",icon:Dr,stockLocation:"En transit",lastUpdate:"2024-03-03",rating:0},{id:"9",product:"Moules de Méditerranée",supplier:"CDB",deliveryDate:"28/02",price:450,quantity:100,status:"pending",icon:Dr,stockLocation:"Bassin A3",lastUpdate:"2024-02-28",rating:0},{id:"10",product:"Huîtres Spéciales",supplier:"Cancale Huîtres",deliveryDate:"27/02",price:780,quantity:150,status:"confirmed",icon:Dr,stockLocation:"Bassin B1",lastUpdate:"2024-02-27",rating:0},{id:"11",product:"Bar de ligne",supplier:"Pêcheurs Bretons",deliveryDate:"26/02",price:890,quantity:45,status:"delivered",icon:NC,stockLocation:"Trempage T2",lastUpdate:"2024-02-26",rating:0},{id:"12",product:"Huîtres plates Belon",supplier:"Ostréiculteurs du Morbihan",deliveryDate:"24/02",price:1350,quantity:80,status:"completed",icon:Dr,stockLocation:"Bassin C2",lastUpdate:"2024-02-24",rating:0},{id:"13",product:"Palourdes de Thau",supplier:"Étang de Thau",deliveryDate:"22/02",price:580,quantity:40,status:"completed",icon:Dr,stockLocation:"Zone D3",lastUpdate:"2024-02-22",rating:0}]),j=D=>{switch(D){case"pending":return{label:"En attente",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case"confirmed":return{label:"Confirmée",bgColor:"bg-blue-500/20",textColor:"text-blue-400",borderColor:"border-blue-500/30"};case"dispatched":return{label:"Expédiée",bgColor:"bg-indigo-500/20",textColor:"text-indigo-400",borderColor:"border-indigo-500/30"};case"in_transit":return{label:"En transit",bgColor:"bg-purple-500/20",textColor:"text-purple-400",borderColor:"border-purple-500/30"};case"delivered":return{label:"Livrée",bgColor:"bg-green-500/20",textColor:"text-green-400",borderColor:"border-green-500/30"};case"completed":return{label:"Traitée",bgColor:"bg-teal-500/20",textColor:"text-teal-400",borderColor:"border-teal-500/30"};default:return{label:"Inconnue",bgColor:"bg-gray-500/20",textColor:"text-gray-400",borderColor:"border-gray-500/30"}}},_=D=>{D.preventDefault(),console.log("Nouveau achat:")},S=D=>`${D} kg`,A=[{value:"status",label:"Statut",icon:a.jsx(jn,{className:"w-4 h-4"})},{value:"date",label:"Date",icon:a.jsx(zn,{className:"w-4 h-4"})},{value:"price",label:"Prix",icon:a.jsx(Tm,{className:"w-4 h-4"})},{value:"quantity",label:"Quantité",icon:a.jsx(Dr,{className:"w-4 h-4"})}],O=D=>[...D].sort((I,U)=>{let J=0;switch(i){case"status":const Q={pending:1,processing:2,shipped:3,delivered:4,cancelled:5};J=(Q[I.status]||999)-(Q[U.status]||999);break;case"date":const de=new Date(I.deliveryDate).getTime(),xe=new Date(U.deliveryDate).getTime();J=de-xe;break;case"price":const le=I.price,_e=U.price;J=le-_e;break;case"quantity":const Oe=I.quantity,ae=U.quantity;J=Oe-ae;break}return o==="asc"?J:-J}),M=()=>{const D=new Date,I=D.getMonth(),U=D.getFullYear(),J=y.filter(le=>{const _e=new Date(le.deliveryDate);return _e.getMonth()===I&&_e.getFullYear()===U}),Q=J.reduce((le,_e)=>le+_e.price,0),de=J.reduce((le,_e)=>le+_e.quantity,0),xe=y.length>0?y.reduce((le,_e)=>le+_e.price,0)/y.length:0;return{pending:y.filter(le=>le.status==="pending").length,processing:y.filter(le=>le.status==="processing").length,delivered:y.filter(le=>le.status==="delivered").length,totalMonth:Q.toFixed(2),totalQuantityMonth:de.toFixed(2),averageOrderValue:xe.toFixed(2),dailyAverage:(de/D.getDate()).toFixed(1)}},B=O(y),T=D=>{i===D?l(o==="asc"?"desc":"asc"):(s(D),l("asc"))};M();const E=()=>{const D=new Date,I=D.getMonth(),U=D.getFullYear(),J=y.filter(le=>{const _e=new Date(le.deliveryDate);return _e.getMonth()===I&&_e.getFullYear()===U}),Q=J.reduce((le,_e)=>le+_e.price,0),de=J.reduce((le,_e)=>le+_e.quantity,0),xe=y.length>0?y.reduce((le,_e)=>le+_e.price,0)/y.length:0;return{totalMonthValue:Q,totalMonthQuantity:de,averageValue:xe}};return a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(R0,{title:"Achats",icon:a.jsx(_w,{className:"w-6 h-6"}),className:"mb-6"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 p-6",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[a.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:a.jsxs("div",{className:"flex-1 min-w-[280px] relative",children:[a.jsx(wt,{type:"text",placeholder:"Rechercher une commande...",value:t,onChange:D=>e(D.target.value),className:"w-full pl-10 bg-gray-800/50 border-gray-700 text-white placeholder-gray-400"}),a.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:a.jsx(fn,{className:"w-4 h-4 text-white/40","aria-hidden":"true"})})]})}),a.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(D=>a.jsxs(xr,{variant:"outline",size:"sm",onClick:()=>T(D.value),className:ti("flex items-center gap-2 min-w-[44px] min-h-[44px]",i===D.value&&"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"),children:[D.icon,a.jsx("span",{children:D.label}),i===D.value&&a.jsx(ww,{className:ti("w-4 h-4 transition-transform",o==="desc"&&"transform rotate-180")})]},D.value))}),a.jsx("div",{className:"space-y-4",children:B.map(D=>{var I;return a.jsx(hc,{className:"border border-white/10 rounded-lg overflow-hidden transform transition-all duration-200 hover:scale-[1.02] cursor-pointer",style:{background:"rgba(15,23,42,0.3)",backdropFilter:"blur(10px)",boxShadow:"rgba(0,0,0,0.2) 0px 10px 20px -5px, rgba(0,150,255,0.1) 0px 8px 16px -8px, rgba(255,255,255,0.07) 0px -1px 2px 0px inset, rgba(0,65,255,0.05) 0px 0px 8px inset, rgba(0,0,0,0.05) 0px 0px 1px inset"},children:a.jsx("div",{className:"p-4 flex justify-between",children:a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"text-lg font-semibold text-white truncate",children:D.product}),a.jsx(F2,{variant:"default",className:`${j(D.status).bgColor} ${j(D.status).textColor} ${j(D.status).borderColor}`,children:j(D.status).label})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{children:D.supplier})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{children:D.deliveryDate})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{children:S(D.quantity)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tm,{className:"w-4 h-4 text-cyan-400"}),a.jsxs("span",{children:[D.price," €"]})]})]}),D.status==="completed"&&a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(U=>a.jsx("button",{onClick:()=>{const J=y.map(Q=>Q.id===D.id?{...Q,rating:U}:Q);w(J)},className:"focus:outline-none",children:a.jsx(Wi,{className:`w-5 h-5 ${U<=D.rating?"text-yellow-400 fill-yellow-400":"text-gray-400"}`})},U))})}),a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm text-white/60",children:"Commentaires"})]}),(I=m[D.id])==null?void 0:I.map((U,J)=>a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-cyan-400",children:U.author}),a.jsx("span",{className:"text-xs text-gray-400",children:U.date})]}),a.jsx("p",{className:"text-sm text-white/80",children:U.text})]},J)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(wt,{value:g,onChange:U=>b(U.target.value),placeholder:"Ajouter un commentaire...",className:"flex-1 bg-white/5 border-white/10"}),a.jsx(xr,{onClick:()=>{if(g.trim()){const U={text:g,date:new Date().toLocaleString(),author:"Vous"};x(J=>({...J,[D.id]:[...J[D.id]||[],U]})),b("")}},className:"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:"Envoyer"})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsxs("span",{className:"text-xl font-bold text-white",children:[D.price,"€"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[D.status==="delivered"&&a.jsx(xr,{variant:"ghost",size:"sm",className:"p-2",onClick:U=>{U.stopPropagation()},children:a.jsx(mo,{className:"w-4 h-4"})}),a.jsx(xr,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>n(D.id),"aria-label":"Voir les détails",children:a.jsx(Bd,{className:"w-5 h-5 text-gray-400"})})]})]})]})})})},D.id)})})]}),a.jsx("div",{className:"lg:col-span-4 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(hc,{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsxs("div",{className:"relative p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/20",children:a.jsx(Tm,{className:"w-6 h-6 text-cyan-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Total des achats du mois"})]}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:[E().totalMonthValue.toLocaleString(),"€"]}),a.jsx("span",{className:"text-sm text-white/60",children:"ce mois"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[a.jsx("span",{children:"Moyenne par commande :"}),a.jsxs("span",{className:"text-cyan-400",children:[E().averageValue.toLocaleString(),"€"]})]})]})]}),a.jsxs(hc,{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsxs("div",{className:"relative p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/20",children:a.jsx(Dr,{className:"w-6 h-6 text-cyan-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Volume total"})]}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:[E().totalMonthQuantity.toLocaleString()," kg"]}),a.jsx("span",{className:"text-sm text-white/60",children:"ce mois"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[a.jsx("span",{children:"Commandes en cours :"}),a.jsx("span",{className:"text-cyan-400",children:y.filter(D=>D.status==="pending"||D.status==="processing").length})]})]})]}),a.jsxs(hc,{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsxs("div",{className:"relative p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/20",children:a.jsx(Wi,{className:"w-6 h-6 text-cyan-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Satisfaction fournisseurs"})]}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:(y.filter(D=>D.rating>0).reduce((D,I)=>D+I.rating,0)/y.filter(D=>D.rating>0).length||0).toFixed(1)}),a.jsx("span",{className:"text-sm text-white/60",children:"/ 5"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[a.jsx("span",{children:"Commandes évaluées :"}),a.jsx("span",{className:"text-cyan-400",children:y.filter(D=>D.rating>0).length})]})]})]})]})})]}),a.jsx(QA,{open:!1,onOpenChange:D=>{},children:a.jsxs(ow,{className:"bg-[rgba(15,23,42,0.3)] backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] max-w-2xl",children:[a.jsx(lw,{children:a.jsx(cw,{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Nouvelle commande"})}),a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"supplier",className:"text-sm text-white/60 mb-1 block",children:"Fournisseur"}),a.jsx(wt,{id:"supplier",name:"supplier",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Nom du fournisseur"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"product",className:"text-sm text-white/60 mb-1 block",children:"Produit"}),a.jsx(wt,{id:"product",name:"product",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Nom du produit"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"quantity",className:"text-sm text-white/60 mb-1 block",children:"Quantité (kg)"}),a.jsx(wt,{id:"quantity",name:"quantity",type:"number",min:"1",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Quantité en kg"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price",className:"text-sm text-white/60 mb-1 block",children:"Prix (€)"}),a.jsx(wt,{id:"price",name:"price",type:"number",min:"0",step:"0.01",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Prix en euros"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"deliveryDate",className:"text-sm text-white/60 mb-1 block",children:"Date de livraison"}),a.jsx(wt,{id:"deliveryDate",name:"deliveryDate",type:"date",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",min:new Date().toISOString().split("T")[0]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(ZA,{asChild:!0,children:a.jsx(xr,{type:"button",variant:"outline",className:"border-cyan-500/20 text-cyan-400 hover:bg-cyan-500/10",children:"Annuler"})}),a.jsx(xr,{type:"submit",className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600",children:"Créer la commande"})]})]})]})}),a.jsx(QA,{open:!!r,onOpenChange:D=>{D||(n(null),u(!1),h(""),p(""))},children:a.jsx(ow,{className:"bg-[rgba(15,23,42,0.98)] border-white/10 text-white",children:r&&a.jsxs(a.Fragment,{children:[a.jsxs(lw,{children:[a.jsx(cw,{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Détails de la commande"}),a.jsx(ZA,{asChild:!0,children:a.jsx(xr,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white absolute right-4 top-4",onClick:()=>{n(null),u(!1),h(""),p("")},children:a.jsx(yt,{className:"w-5 h-5"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-lg font-semibold text-white",children:(R=y.find(D=>D.id===r))==null?void 0:R.product}),a.jsx(F2,{variant:"default",className:`${j(((F=y.find(D=>D.id===r))==null?void 0:F.status)||"").bgColor} ${j(((W=y.find(D=>D.id===r))==null?void 0:W.status)||"").textColor} ${j((($=y.find(D=>D.id===r))==null?void 0:$.status)||"").borderColor}`,children:j(((z=y.find(D=>D.id===r))==null?void 0:z.status)||"").label})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Fournisseur"}),a.jsx("p",{className:"text-white",children:(X=y.find(D=>D.id===r))==null?void 0:X.supplier})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Date de livraison"}),a.jsx("p",{className:"text-white",children:(Y=y.find(D=>D.id===r))==null?void 0:Y.deliveryDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Quantité"}),a.jsx("p",{className:"text-white",children:S(((oe=y.find(D=>D.id===r))==null?void 0:oe.quantity)||0)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60",children:"Prix"}),a.jsxs("p",{className:"text-white",children:[(fe=y.find(D=>D.id===r))==null?void 0:fe.price," €"]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsxs(xr,{variant:"outline",onClick:()=>{u(!0);const D=y.find(I=>I.id===r);D&&(h(D.deliveryDate),p(D.quantity.toString()))},className:"flex items-center gap-2",children:[a.jsx(Mt,{className:"w-4 h-4"}),"Recommander"]}),a.jsx(xr,{variant:"ghost",onClick:()=>{n(null),u(!1),h(""),p("")},children:"Fermer"})]})]})]})})}),r&&a.jsx(Dve,{order:y.find(D=>D.id===r),onClose:()=>n(null)})]})}function Lve(){var i;const[t,e]=k.useState(!1),{session:r}=Ia(),n=s=>{s.preventDefault(),e(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"w-32 h-32 rounded-full bg-brand-burgundy/20 flex items-center justify-center overflow-hidden",children:(i=r==null?void 0:r.user)!=null&&i.avatar_url?a.jsx("img",{src:r.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):a.jsx(Of,{size:64,className:"text-brand-burgundy"})}),a.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity rounded-full",children:[a.jsx(Ls,{size:24}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Jean Dupont"}),a.jsx("p",{className:"text-white/60",children:"Responsable Production"}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center text-white/60",children:[a.jsx(Ta,{size:16,className:"mr-2"}),"jean.dupont@example.com"]}),a.jsxs("div",{className:"flex items-center text-white/60",children:[a.jsx(Hi,{size:16,className:"mr-2"}),"06 12 34 56 78"]}),a.jsxs("div",{className:"flex items-center text-white/60",children:[a.jsx(xg,{size:16,className:"mr-2"}),"Zone Nord"]}),a.jsxs("div",{className:"flex items-center text-white/60",children:[a.jsx(zn,{size:16,className:"mr-2"}),"Embauché le 15/01/2024"]})]})]}),a.jsx("button",{onClick:()=>e(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:t?"Annuler":"Modifier"})]}),t?a.jsxs("form",{onSubmit:n,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),a.jsx("input",{type:"text",defaultValue:"Jean",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),a.jsx("input",{type:"text",defaultValue:"Dupont",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),a.jsx("input",{type:"email",defaultValue:"jean.dupont@example.com",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),a.jsx("input",{type:"tel",defaultValue:"06 12 34 56 78",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),a.jsx("textarea",{rows:3,defaultValue:"123 Rue de la Mer, 34140 Bouzigues",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]}):a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations complémentaires"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Adresse"}),a.jsx("div",{className:"text-white mt-1",children:"123 Rue de la Mer, 34140 Bouzigues"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Contact d'urgence"}),a.jsx("div",{className:"text-white mt-1",children:"Marie Dupont - 06 98 76 54 32"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Numéro de sécurité sociale"}),a.jsx("div",{className:"text-white mt-1",children:"1 85 12 17 123 456 78"})]})]})]})]})}function Rve(){const[t,e]=k.useState(!1),[r,n]=k.useState(!1);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Mot de passe"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Dernière modification il y a 3 mois"})]}),a.jsx("button",{onClick:()=>e(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Modifier"})]}),t&&a.jsxs("form",{className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe actuel"}),a.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nouveau mot de passe"}),a.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmer le nouveau mot de passe"}),a.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Mettre à jour"})]})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Double authentification"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Sécurisez votre compte avec la 2FA"})]}),a.jsx("button",{onClick:()=>n(!r),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Configurer"})]}),r&&a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(kC,{size:20,className:"text-white/60 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium",children:"Application d'authentification"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une application comme Google Authenticator pour générer des codes"})]})]})}),a.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(dD,{size:20,className:"text-white/60 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium",children:"Clé de sécurité"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une clé de sécurité physique (YubiKey, etc.)"})]})]})})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sessions actives"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Chrome - Windows"}),a.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 2 minutes"}),a.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.1"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:"Session actuelle"})})]})}),a.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Safari - iPhone"}),a.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 1 heure"}),a.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.2"})]}),a.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Déconnecter"})]})})]})]}),a.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-4",children:"Zone dangereuse"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Supprimer le compte"}),a.jsx("div",{className:"text-white/60 mt-1",children:"Cette action est irréversible et supprimera toutes vos données"})]}),a.jsx("button",{className:"px-4 py-2 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:"Supprimer mon compte"})]})]})]})}const Fve=[{id:"1",type:"login",action:"Connexion",timestamp:"2025-02-19T10:30:00",location:"La Rochelle, France",device:"Chrome - Windows"},{id:"2",type:"settings",action:"Modification du profil",timestamp:"2025-02-19T09:15:00",details:"Mise à jour des informations personnelles"},{id:"3",type:"document",action:"Téléchargement rapport",timestamp:"2025-02-19T08:45:00",details:"Rapport de production - Janvier 2025"},{id:"4",type:"notification",action:"Paramètres de notification",timestamp:"2025-02-19T08:30:00",details:"Activation des notifications mobiles"}],Bve={login:hD,settings:gg,document:ks,notification:$d};function $ve(){return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[a.jsx("div",{className:"p-6 border-b border-white/10",children:a.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique d'activité"})}),a.jsx("div",{className:"divide-y divide-white/10",children:Fve.map(t=>{const e=Bve[t.type];return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:a.jsx(e,{size:20,className:"text-brand-burgundy"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("h4",{className:"text-lg font-medium text-white",children:t.action})}),t.details&&a.jsx("p",{className:"text-white/70 mt-1",children:t.details}),a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ei,{size:16,className:"mr-1"}),Bt(new Date(t.timestamp),"PPp",{locale:gr})]}),t.location&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"•"}),a.jsx("div",{children:t.location})]}),t.device&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"•"}),a.jsx("div",{children:t.device})]})]})]})]})},t.id)})})]})})}function zve(){const[t,e]=k.useState([]),[r,n]=k.useState("csv"),[i,s]=k.useState({start:"",end:""}),o=()=>{console.log("Exporting data:",{selectedData:t,format:r,dateRange:i})};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Export des données"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sélectionner les données"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.includes("tasks"),onChange:l=>{l.target.checked?e([...t,"tasks"]):e(t.filter(c=>c!=="tasks"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Tâches"}),a.jsx("div",{className:"text-sm text-white/60",children:"Historique des tâches"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.includes("inventory"),onChange:l=>{l.target.checked?e([...t,"inventory"]):e(t.filter(c=>c!=="inventory"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Inventaire"}),a.jsx("div",{className:"text-sm text-white/60",children:"Données de stock"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.includes("time"),onChange:l=>{l.target.checked?e([...t,"time"]):e(t.filter(c=>c!=="time"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Temps de travail"}),a.jsx("div",{className:"text-sm text-white/60",children:"Suivi du temps"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.includes("activity"),onChange:l=>{l.target.checked?e([...t,"activity"]):e(t.filter(c=>c!=="activity"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Activité"}),a.jsx("div",{className:"text-sm text-white/60",children:"Historique d'activité"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Format d'export"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"radio",name:"format",value:"csv",checked:r==="csv",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),a.jsx("div",{className:"text-white font-medium",children:"CSV"})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"radio",name:"format",value:"json",checked:r==="json",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),a.jsx("div",{className:"text-white font-medium",children:"JSON"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Période"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),a.jsx("input",{type:"date",value:i.start,onChange:l=>s({...i,start:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),a.jsx("input",{type:"date",value:i.end,onChange:l=>s({...i,end:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),a.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(qn,{size:20,className:"text-yellow-400 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-yellow-400 font-medium",children:"Note importante"}),a.jsx("p",{className:"text-yellow-400/80 mt-1",children:"L'export peut contenir des données sensibles. Assurez-vous de les stocker de manière sécurisée."})]})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:o,disabled:t.length===0,className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(is,{size:20,className:"mr-2"}),"Exporter les données"]})})]})]})})}function Uve(){var n;const{session:t}=Ia(),e=qve((n=t==null?void 0:t.user)==null?void 0:n.id),r=()=>{navigator.clipboard.writeText(e)};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Mon Code Ami"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Partagez ce code pour vous connecter avec d'autres professionnels"})]}),a.jsx("div",{className:"w-12 h-12 bg-brand-burgundy/20 rounded-lg flex items-center justify-center",children:a.jsx(ki,{size:24,className:"text-brand-burgundy"})})]}),a.jsx("div",{className:"mt-8 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-xl"}),a.jsx(we.div,{className:"relative bg-gradient-to-br from-brand-dark to-brand-purple p-8 rounded-xl border border-white/10",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:a.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider text-center text-white",children:e})})]})}),a.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[a.jsxs(we.button,{onClick:r,className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(fD,{size:20,className:"mr-2"}),"Copier le code"]}),a.jsxs(we.button,{className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(j0,{size:20,className:"mr-2"}),"Afficher le QR Code"]})]}),a.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[a.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment ça marche ?"}),a.jsxs("ol",{className:"space-y-2 text-white/60",children:[a.jsx("li",{children:"1. Partagez votre code ami avec un autre professionnel"}),a.jsx("li",{children:'2. Utilisez son code dans la section "Entre Pro" pour vous connecter'}),a.jsx("li",{children:"3. Une fois connectés, vous pourrez échanger et collaborer facilement"})]})]})]})})}function qve(t){var n;return t&&((n=(Array.from(t).reduce((i,s)=>(i<<5)-i+s.charCodeAt(0),0).toString(36).toUpperCase()+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").slice(0,12).match(/.{1,4}/g))==null?void 0:n.join("-"))||"XXXX-XXXX-XXXX"}function Hve(){const[t,e]=k.useState("info");return a.jsxs(we.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsx(R0,{icon:a.jsx(Of,{size:28,className:"text-white"}),title:"Mon Espace"}),a.jsx("div",{className:"flex items-center justify-between"}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>e("config"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="config"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gg,{size:16,className:"mr-2"}),"Configuration"]})}),a.jsx("button",{onClick:()=>e("info"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="info"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Of,{size:16,className:"mr-2"}),"Informations"]})}),a.jsx("button",{onClick:()=>e("friend-code"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="friend-code"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ki,{size:16,className:"mr-2"}),"Code ami"]})}),a.jsx("button",{onClick:()=>e("security"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="security"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Dm,{size:16,className:"mr-2"}),"Sécurité"]})}),a.jsx("button",{onClick:()=>e("activity"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="activity"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(bl,{size:16,className:"mr-2"}),"Activité"]})}),a.jsx("button",{onClick:()=>e("export"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="export"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(is,{size:16,className:"mr-2"}),"Export"]})})]}),t==="info"&&a.jsx(Lve,{}),t==="friend-code"&&a.jsx(Uve,{}),t==="security"&&a.jsx(Rve,{}),t==="activity"&&a.jsx($ve,{}),t==="export"&&a.jsx(zve,{}),t==="config"&&a.jsx(JP,{})]})}const Iu="oystercult_cart";function $k(){const[t,e]=k.useState([]),[r,n]=k.useState(!1);k.useEffect(()=>{const l=localStorage.getItem(Iu);if(l)try{e(JSON.parse(l))}catch(c){console.error("Erreur lors du chargement du panier:",c),localStorage.removeItem(Iu)}},[]);const i=k.useCallback((l,c)=>{const u=[...t],d=u.find(h=>h.productId===l);d?d.quantity=c:u.push({productId:l,quantity:c}),e(u),localStorage.setItem(Iu,JSON.stringify(u))},[t]),s=k.useCallback(l=>{const c=t.filter(u=>u.productId!==l);e(c),c.length===0?localStorage.removeItem(Iu):localStorage.setItem(Iu,JSON.stringify(c))},[t]),o=k.useCallback(()=>{e([]),localStorage.removeItem(Iu)},[]);return k.useCallback(()=>{n(!r)},[r]),{cartItems:t,addToCart:i,removeFromCart:s,clearCart:o,isCartModalOpen:r,setIsCartModalOpen:n}}function zk({isOpen:t,onClose:e,items:r,products:n,onRemoveItem:i,onClearCart:s}){if(!t)return null;console.log("CartModal - items:",r),console.log("CartModal - products:",n);const o=r.reduce((c,u)=>{const d=n.find(h=>h.id===u.productId);return console.log(`Item ${u.productId} - Found product:`,d),c+(d?d.price*u.quantity:0)},0),l=()=>{s(),e()};return a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",style:{minHeight:"100vh"},children:a.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-xl w-full max-w-md mx-4 relative",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[a.jsx("h2",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Panier"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-[rgb(var(--color-brand-surface-hover))] rounded-lg transition-colors",children:a.jsx(yt,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"})})]}),a.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:r.length===0?a.jsx("p",{className:"text-center text-[rgb(var(--color-text-secondary))]",children:"Votre panier est vide"}):a.jsx("div",{className:"space-y-4",children:r.map(c=>{const u=n.find(d=>d.id===c.productId);return u?a.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-[rgb(var(--color-brand-surface-hover))] rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-[rgb(var(--color-text-primary))]",children:u.name}),a.jsxs("p",{className:"text-sm text-[rgb(var(--color-text-secondary))]",children:[c.quantity," ",u.unit," × ",u.price.toFixed(2),"€"]}),a.jsxs("p",{className:"text-sm font-medium text-[rgb(var(--color-brand-primary))]",children:["Total: ",(c.quantity*u.price).toFixed(2),"€"]})]}),a.jsx("button",{onClick:()=>i(c.productId),className:"p-2 hover:bg-[rgb(var(--color-brand-surface))] rounded-lg transition-colors",children:a.jsx(ri,{className:"w-4 h-4 text-red-500"})})]},c.productId):null})})}),r.length>0&&a.jsxs("div",{className:"p-4 border-t border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Total"}),a.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[o.toFixed(2),"€"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Vider"}),a.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2 bg-[rgb(var(--color-brand-primary))] text-white rounded-lg hover:bg-[rgb(var(--color-brand-primary)_/_0.9)] transition-colors flex items-center justify-center gap-2",children:[a.jsx(_w,{className:"w-4 h-4"}),"Valider la commande"]})]})]})]})})}const Bb=[{id:"1",name:"Capteur de courantologie",description:"Mesure précise des courants marins avec transmission en temps réel",price:899.99,category:"sensor",features:["Mesure bidirectionnelle","Précision ±0.1 m/s","Transmission sans fil","Batterie longue durée"],inStock:!0,specifications:{"Plage de mesure":"0-10 m/s",Autonomie:"12 mois","Profondeur max":"50m",Protection:"IP68"},image:"https://example.com/image1.jpg"},{id:"2",name:"Sonde pH connectée",description:"Surveillance continue du pH avec alertes automatiques",price:299.99,category:"sensor",features:["Calibration automatique","Alertes personnalisables","Interface intuitive","Installation facile"],inStock:!0,specifications:{"Plage pH":"0-14",Précision:"±0.01 pH","Temps de réponse":"<5s",Température:"0-50°C"},image:"https://example.com/image2.jpg"},{id:"3",name:"Bracelet d'urgence",description:"Bracelet connecté étanche avec bouton d'appel d'urgence",price:149.99,category:"device",features:["Étanche IP68","Batterie 7 jours","Géolocalisation","Bouton SOS"],inStock:!0,specifications:{Matériau:"Silicone médical",Connectivité:"Bluetooth 5.0",Autonomie:"7 jours",Résistance:"5 ATM"},image:"https://example.com/image3.jpg"}];function Wve(){const[t,e]=k.useState(""),[r,n]=k.useState("all"),[i,s]=k.useState(!1),{cartItems:o,addToCart:l,removeFromCart:c,clearCart:u,isCartModalOpen:d,setIsCartModalOpen:h}=$k();k.useEffect(()=>{const m=x=>{i&&s(!1)};return document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}},[i]);const f=["all",...new Set(Bb.map(m=>m.category))],p=Bb.filter(m=>{const x=r==="all"||m.category===r,g=m.name.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase());return x&&g});return a.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-bg))]",children:a.jsxs("main",{className:"max-w-[1400px] mx-auto px-6 pb-24",children:[a.jsxs(we.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsx(R0,{icon:a.jsx(vC,{size:28,className:"text-white"}),title:"Boutique"}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>h(!0),className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",children:[a.jsx(y0,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),o.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:o.length})]})})]}),a.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary))]","aria-label":"Search icon"}),a.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:t,onChange:m=>e(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none focus:border-[rgb(var(--color-brand-primary))] w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>s(!i),className:"w-full sm:w-48 px-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg flex items-center justify-between gap-2 bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx("span",{className:"text-[rgb(var(--color-text-primary))]",children:r==="all"?"Toutes catégories":r}),a.jsx(kc,{className:"w-4 h-4 text-[rgb(var(--color-text-secondary))]"})]}),i&&a.jsx("div",{className:"absolute z-20 mt-1 w-full bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg shadow-lg",children:a.jsx("div",{className:"p-1",children:f.map(m=>a.jsx("button",{onClick:()=>{n(m),s(!1)},className:`w-full text-left px-3 py-2 rounded-md transition-colors ${r===m?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":"hover:bg-[rgb(var(--color-brand-surface-hover))] text-[rgb(var(--color-text-primary))]"}`,children:a.jsx("span",{className:"capitalize",children:m==="all"?"Toutes catégories":m})},m))})})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(m=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-all duration-200",children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-white break-words",children:m.name}),a.jsx("p",{className:"text-sm text-white/60 mt-1 line-clamp-3",children:m.description})]}),a.jsxs("div",{className:"text-xl font-bold text-white whitespace-nowrap",children:[m.price,"€"]})]}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:m.features.map((x,g)=>a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:x},g))}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Spécifications"}),a.jsx("div",{className:"space-y-2",children:Object.entries(m.specifications).map(([x,g])=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:x}),a.jsx("span",{className:"text-white",children:g})]},x))})]}),a.jsx("div",{className:"mt-6 flex items-center justify-between gap-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"0",defaultValue:"0",className:"w-20 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20",onChange:x=>{parseInt(x.target.value,10)<0&&(x.target.value="0")}}),a.jsx("button",{onClick:x=>{const g=x.currentTarget.previousElementSibling,b=parseInt(g.value,10);b>0&&l(m.id,b)},className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter au panier"})]})})]})},m.id))}),a.jsx(zk,{isOpen:d,onClose:()=>h(!1),items:o,products:Bb,onRemoveItem:c,onClearCart:()=>{u(),h(!1)}})]})})}var Uk="AlertDialog",[Vve,awe]=uP(Uk,[EP]),Oo=EP(),qk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Oo(e);return a.jsx(W5,{...n,...r,modal:!0})};qk.displayName=Uk;var Gve="AlertDialogTrigger",Xve=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Oo(r);return a.jsx(Jfe,{...i,...n,ref:e})});Xve.displayName=Gve;var Yve="AlertDialogPortal",Hk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Oo(e);return a.jsx(V5,{...n,...r})};Hk.displayName=Yve;var Kve="AlertDialogOverlay",Wk=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Oo(r);return a.jsx($0,{...i,...n,ref:e})});Wk.displayName=Kve;var id="AlertDialogContent",[Jve,Qve]=Vve(id),Vk=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Oo(r),o=k.useRef(null),l=Co(e,o),c=k.useRef(null);return a.jsx(Gfe,{contentName:id,titleName:Gk,docsSlug:"alert-dialog",children:a.jsx(Jve,{scope:r,cancelRef:c,children:a.jsxs(z0,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:bo(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(dP,{children:n}),a.jsx(ebe,{contentRef:o})]})})})});Vk.displayName=id;var Gk="AlertDialogTitle",Xk=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Oo(r);return a.jsx(U0,{...i,...n,ref:e})});Xk.displayName=Gk;var Yk="AlertDialogDescription",Kk=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Oo(r);return a.jsx(q0,{...i,...n,ref:e})});Kk.displayName=Yk;var Zve="AlertDialogAction",Jk=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Oo(r);return a.jsx(m1,{...i,...n,ref:e})});Jk.displayName=Zve;var Qk="AlertDialogCancel",Zk=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Qve(Qk,r),s=Oo(r),o=Co(e,i);return a.jsx(m1,{...s,...n,ref:o})});Zk.displayName=Qk;var ebe=({contentRef:t})=>{const e=`\`${id}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${id}\` by passing a \`${Yk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${id}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},tbe=qk,rbe=Hk,eT=Wk,tT=Vk,rT=Jk,nT=Zk,iT=Xk,aT=Kk;const nbe=tbe,ibe=rbe,sT=k.forwardRef(({className:t,...e},r)=>a.jsx(eT,{className:ti("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));sT.displayName=eT.displayName;const oT=k.forwardRef(({className:t,...e},r)=>a.jsxs(ibe,{children:[a.jsx(sT,{}),a.jsx(tT,{ref:r,className:ti("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));oT.displayName=tT.displayName;const lT=({className:t,...e})=>a.jsx("div",{className:ti("flex flex-col space-y-2 text-center sm:text-left",t),...e});lT.displayName="AlertDialogHeader";const cT=({className:t,...e})=>a.jsx("div",{className:ti("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});cT.displayName="AlertDialogFooter";const uT=k.forwardRef(({className:t,...e},r)=>a.jsx(iT,{ref:r,className:ti("text-lg font-semibold",t),...e}));uT.displayName=iT.displayName;const dT=k.forwardRef(({className:t,...e},r)=>a.jsx(aT,{ref:r,className:ti("text-sm text-muted-foreground",t),...e}));dT.displayName=aT.displayName;const hT=k.forwardRef(({className:t,...e},r)=>a.jsx(rT,{ref:r,className:ti("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));hT.displayName=rT.displayName;const fT=k.forwardRef(({className:t,...e},r)=>a.jsx(nT,{ref:r,className:ti("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",t),...e}));fT.displayName=nT.displayName;function abe({supplier:t,onDelete:e,onViewCatalog:r}){const[n,i]=k.useState(!1),s=t.name.split(" ").map(o=>o[0]).join("");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 p-4 space-y-4 transition-all duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-24 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsx("div",{className:"relative w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold bg-gradient-to-br from-[rgba(15,23,42,0.4)] to-[rgba(20,100,100,0.4)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 z-10",children:a.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:s})})]})}),t.is_friend&&a.jsxs("div",{className:"absolute top-2 right-2 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(16,185,129,0.2)] backdrop-filter backdrop-blur-[10px] rounded-full px-3 py-1 flex items-center gap-1 border border-emerald-500/20 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(16,185,129,0.2)]",children:[a.jsx(pD,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-xs font-medium text-cyan-400",children:"Ami"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),a.jsxs("div",{className:"text-xs text-white/70 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xg,{className:"w-3 h-3 shrink-0 text-cyan-400"}),a.jsx("span",{children:t.address})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hi,{className:"w-3 h-3 shrink-0 text-cyan-400"}),a.jsx("span",{children:t.phone})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ta,{className:"w-3 h-3 shrink-0 text-cyan-400"}),a.jsx("span",{children:t.email})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-white/10",children:[a.jsxs("button",{onClick:()=>r(t.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":`Voir le catalogue de ${t.name}`,children:[a.jsx(mD,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Catalogue"})]}),a.jsx("button",{onClick:()=>i(!0),className:"flex items-center justify-center p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-300 border border-white/5 hover:border-red-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_4px_15px_rgba(0,0,0,0.3),0_0_10px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40","aria-label":`Supprimer ${t.name}`,children:a.jsx(ri,{className:"w-4 h-4"})})]})]})]}),a.jsx(nbe,{open:n,onOpenChange:i,children:a.jsxs(oT,{className:"bg-gradient-to-br from-[rgba(15,23,42,0.8)] to-[rgba(20,100,100,0.8)] backdrop-filter backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.4)_0px_10px_25px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px]",children:[a.jsxs(lT,{children:[a.jsx(uT,{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirmer la suppression"}),a.jsx(dT,{className:"text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."})]}),a.jsxs(cT,{children:[a.jsx(fT,{className:"bg-white/5 border border-white/10 hover:border-white/20 hover:bg-white/10 text-white rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),a.jsx(hT,{onClick:()=>{e(t.id),i(!1)},className:"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30 rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(239,68,68,0.1)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40 transition-all duration-300",children:"Supprimer"})]})]})})]})}const As=k.forwardRef(({className:t,...e},r)=>a.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t||""}`,ref:r,...e}));As.displayName="Label";function sbe({open:t,onOpenChange:e,editingSupplier:r}){const{addSupplier:n,updateSupplier:i}=x1(),s=!!r,[o,l]=k.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||""}),[c,u]=k.useState(!1),[d,h]=k.useState({}),f=x=>{const{name:g,value:b}=x.target;l(y=>({...y,[g]:b})),d[g]&&h(y=>{const w={...y};return delete w[g],w})},p=()=>{const x={};return o.name.trim()||(x.name="Le nom est requis"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(x.email="Format d'email invalide"):x.email="L'email est requis",o.phone.trim()||(x.phone="Le téléphone est requis"),o.address.trim()||(x.address="L'adresse est requise"),h(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!!p()){u(!0);try{s&&r?await i.mutateAsync({id:r.id,...o}):await n.mutateAsync(o),e(!1),l({name:"",email:"",phone:"",address:""})}catch(g){console.error("Error saving supplier:",g)}finally{u(!1)}}};return a.jsx(HP,{open:t,onOpenChange:e,children:a.jsxs(G5,{className:"sm:max-w-[500px] bg-[#1a1c25] text-white border-[#2a2d3a]",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1},children:[a.jsxs(X5,{children:[a.jsx(Y5,{className:"text-white",children:s?"Modifier le fournisseur":"Ajouter un fournisseur"}),a.jsx(GP,{children:s?"Modifiez les informations du fournisseur ci-dessous.":"Remplissez les informations du nouveau fournisseur."})]}),a.jsxs("form",{onSubmit:m,className:"space-y-5 my-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(As,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ic,{className:"h-3.5 w-3.5"}),"Nom du fournisseur"]}),a.jsx(wt,{id:"name",name:"name",value:o.name,onChange:f,placeholder:"Atlantique Coquillages",className:`bg-[#12141d] border-[#2a2d3a] text-white ${d.name?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.name&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.name})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(As,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ta,{className:"h-3.5 w-3.5"}),"Email"]}),a.jsx(wt,{id:"email",name:"email",type:"email",value:o.email,onChange:f,placeholder:"contact@atlantique-coquillages.fr",className:`border-[#2a2d3a] text-white ${d.email?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.email&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.email})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(As,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Hi,{className:"h-3.5 w-3.5"}),"Téléphone"]}),a.jsx(wt,{id:"phone",name:"phone",value:o.phone,onChange:f,placeholder:"01 23 45 67 89",className:`border-[#2a2d3a] text-white ${d.phone?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.phone&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.phone})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(As,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(xi,{className:"h-3.5 w-3.5"}),"Adresse"]}),a.jsx(wt,{id:"address",name:"address",value:o.address,onChange:f,placeholder:"42 Avenue du Port, 85230 Bouin",className:`border-[#2a2d3a] text-white ${d.address?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.address&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.address})]}),a.jsxs(VP,{className:"mt-6",children:[a.jsx(xr,{type:"button",variant:"outline",onClick:()=>e(!1),className:"border-[#2a2d3a] text-white hover:bg-[#2a2d3a] hover:text-white",children:"Annuler"}),a.jsx(xr,{type:"submit",disabled:c,className:"bg-gradient-to-r text-white",children:c?"Enregistrement...":s?"Mettre à jour":"Ajouter"})]})]})]})})}function obe(){const{suppliers:t,isLoading:e,updateSupplier:r}=x1(),[n,i]=k.useState(!1),[s,o]=k.useState(""),l=ha(),c=async h=>{try{await r.mutateAsync({id:h,deleted:!0})}catch(f){console.error("Error deleting supplier:",f)}},u=h=>{console.log("Bouton Catalogue cliqué, ID du fournisseur:",h),console.log("Navigation vers:",`/suppliers/${h}/catalog`),l(`/suppliers/${h}/catalog`)},d=t.filter(h=>h.name.toLowerCase().includes(s.toLowerCase())||h.email.toLowerCase().includes(s.toLowerCase()));return e?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"})}):a.jsx("div",{className:"p-6 max-w-[1600px] mx-auto",children:a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center mb-8",children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:a.jsx(sd,{size:28,className:"text-cyan-400"})})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Fournisseurs"})]}),a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("div",{children:a.jsx("p",{className:"text-white/70",children:"Gérez vos fournisseurs et accédez à leurs catalogues"})}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Mt,{size:20}),"Ajouter un fournisseur"]})]}),a.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"relative flex-grow max-w-md",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(fn,{className:"w-4 h-4 text-white/40",style:{zIndex:1}})}),a.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher un fournisseur...",value:s,onChange:h=>o(h.target.value),"aria-label":"Rechercher un fournisseur"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-white/70 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] px-4 py-2 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 min-w-[44px] min-h-[44px]",children:[a.jsx(ki,{className:"w-4 h-4 text-cyan-400"}),a.jsxs("span",{className:"text-sm",children:[d.length," fournisseurs"]})]})]}),d.length===0?a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 flex flex-col items-center justify-center py-12 text-center",children:[a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.5)] to-[rgba(20,100,100,0.5)] backdrop-filter backdrop-blur-[10px] rounded-full p-4 mb-4 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:a.jsx(ki,{className:"w-8 h-8 text-cyan-400"})}),a.jsx("h3",{className:"text-xl font-medium mb-2 text-white",children:"Aucun fournisseur trouvé"}),a.jsx("p",{className:"max-w-md text-white/70",children:s?"Aucun résultat ne correspond à votre recherche. Essayez avec d'autres termes.":"Commencez par ajouter un fournisseur en cliquant sur le bouton ci-dessus."})]}):a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:d.map(h=>a.jsx(abe,{supplier:h,onDelete:c,onViewCatalog:u},h.id))})}),a.jsx(sbe,{open:n,onOpenChange:i})]})})}function lbe(){const{supplierId:t}=xD(),e=ha(),{suppliers:r,getSupplierProducts:n}=x1(),{cartItems:i,addToCart:s,removeFromCart:o,clearCart:l,isCartModalOpen:c,setIsCartModalOpen:u}=$k(),[d,h]=k.useState({}),[f,p]=k.useState(!0),[m,x]=k.useState([]),[g,b]=k.useState("all"),[y,w]=k.useState(""),[j,_]=k.useState(!1),[S,A]=k.useState([]),[O,M]=k.useState(!1),B=r.find(F=>F.id===t);k.useEffect(()=>{O||(console.log("SupplierCatalogPage chargée, supplierId:",t),console.log("URL actuelle:",window.location.pathname),console.log("Fournisseur trouvé:",B),M(!0))},[t,B,O]),k.useEffect(()=>{if(!t||m.length>0)return;console.log("useEffect appelé pour charger les produits"),(async()=>{p(!0);try{console.log("⚡ Chargement des produits pour le fournisseur:",t);const W=await n(t);if(console.log("⚡ Produits reçus:",W),Array.isArray(W)&&W.length>0){x(W),console.log("⚡ Produits définis avec succès:",W.length);const $={};W.forEach(z=>{$[z.id]=z.min_order_quantity||z.minOrder||1}),h($)}else console.log("⚡ Aucun produit trouvé ou format incorrect:",W),x([]),h({})}catch(W){console.error("❌ Erreur lors du chargement des produits:",W),x([]),h({})}p(!1)})()},[t,n,m.length]),k.useEffect(()=>{if(m.length===0)return;console.log("useEffect appelé pour filtrer les produits");let F=[...m];g!=="all"&&(F=F.filter(W=>W.category===g)),y&&(F=F.filter(W=>W.name.toLowerCase().includes(y.toLowerCase()))),A(F)},[m,g,y]),k.useEffect(()=>{console.log("Cart items:",i),console.log("Products:",m)},[i,m]);const T=F=>{const W=d[F.id]||F.min_order_quantity||F.minOrder||1;console.log("----------------------------------------"),console.log("Adding to cart:"),console.log(`Product ID: ${F.id}`),console.log(`Product Name: ${F.name}`),console.log(`Quantity: ${W}`),console.log("Current cart items:",i),console.log("----------------------------------------"),s(F.id,W)},E=(F,W)=>{h($=>({...$,[F]:W}))},R=["all",...new Set(m.map(F=>F.category))];return B?a.jsxs("div",{className:"container mx-auto px-4 mt-12",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[a.jsx(Tf,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:B.name}),a.jsxs("button",{onClick:()=>u(!0),className:"relative p-2 rounded-lg hover:bg-gray-800 transition-colors",children:[a.jsx(y0,{className:"h-6 w-6 text-white hover:text-cyan-400 transition-colors duration-300","aria-hidden":"true"}),i.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-cyan-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:i.length})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"relative w-1/2",children:[a.jsx(fn,{className:"search-icon-fixed left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/50 pointer-events-none z-10","aria-label":"Search icon"}),a.jsx("input",{type:"search",placeholder:"Rechercher un produit...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:y,onChange:F=>w(F.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>_(!j),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",children:["Catégorie: ",g==="all"?"Toutes":g,a.jsx(kc,{className:"h-5 w-5","aria-hidden":"true"})]}),a.jsx(sr,{children:j&&a.jsx(we.ul,{className:"absolute top-full right-0 mt-2 rounded-lg bg-gray-800 border border-gray-700 shadow-lg overflow-hidden z-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:R.map(F=>a.jsxs(we.li,{className:"px-4 py-2 text-white hover:bg-gray-700 transition-colors duration-300 cursor-pointer",onClick:()=>{b(F),_(!1)},whileHover:{backgroundColor:"#4a5568"},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g===F&&a.jsx(pg,{className:"h-4 w-4 text-cyan-500","aria-hidden":"true"}),a.jsx("span",{children:F==="all"?"Toutes":F})]},F))})})]})]}),f?a.jsx("div",{className:"text-white",children:"Chargement des produits..."}):S.length===0?a.jsxs("div",{className:"text-white",children:["Aucun produit trouvé pour le fournisseur ",a.jsx("strong",{children:B.name})," dans la catégorie ",a.jsx("strong",{children:g}),y&&` avec le terme de recherche ${y}`,"."]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map(F=>{const W=d[F.id]||F.min_order_quantity||F.minOrder||1;return a.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800 p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:F.name}),a.jsx("p",{className:"text-white/70",children:F.description}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("span",{className:"text-cyan-400 font-bold",children:[F.price," ",F.unit]}),a.jsxs("div",{children:[a.jsx("input",{type:"number",min:F.min_order_quantity||F.minOrder||1,className:"w-20 px-2 py-1 rounded-lg bg-gray-700 border border-gray-600 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:W,onChange:$=>{const z=parseInt($.target.value,10);E(F.id,z)}}),a.jsx("button",{onClick:()=>T(F),className:"ml-2 px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors duration-300",children:"Ajouter"})]})]})]},F.id)})}),a.jsx(zk,{isOpen:c,onClose:()=>u(!1),items:i,products:m,onRemoveItem:o,onClearCart:l})]}):a.jsxs("div",{className:"container mx-auto px-4 mt-12",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[a.jsx(Tf,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Fournisseur non trouvé"})]})}function V0({children:t,onClick:e,className:r="",style:n}){const[i,s]=ne.useState(!1);return a.jsxs(we.div,{className:`relative overflow-hidden bg-white/5 border border-white/10 ${r}`,style:n,onClick:e,onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),whileHover:{y:-4},children:[t,a.jsx(we.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/5 pointer-events-none",initial:{opacity:0},animate:{opacity:i?1:0},transition:{duration:.2}}),a.jsx(we.div,{className:"absolute inset-0 pointer-events-none rounded-lg border border-blue-500/30",initial:{opacity:0},animate:{opacity:i?1:0,boxShadow:i?"0 0 15px 1px rgba(59, 130, 246, 0.3)":"none"},transition:{duration:.2}})]})}const cbe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Bs(async()=>{const{default:n}=await Promise.resolve().then(()=>oh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class oj extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ube extends oj{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dbe extends oj{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hbe extends oj{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uw||(uw={}));var fbe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class pbe{constructor(e,{headers:r={},customFetch:n,region:i=uw.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=cbe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return fbe(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(m=>{throw new ube(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new dbe(d);if(!d.ok)throw new hbe(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var $i={},lj={},N1={},G0={},_1={},S1={},mbe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Md=mbe();const xbe=Md.fetch,pT=Md.fetch.bind(Md),mT=Md.Headers,gbe=Md.Request,vbe=Md.Response,oh=Object.freeze(Object.defineProperty({__proto__:null,Headers:mT,Request:gbe,Response:vbe,default:pT,fetch:xbe},Symbol.toStringTag,{value:"Module"})),bbe=TC(oh);var A1={};Object.defineProperty(A1,"__esModule",{value:!0});let ybe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};A1.default=ybe;var xT=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S1,"__esModule",{value:!0});const wbe=xT(bbe),jbe=xT(A1);let Nbe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=wbe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,c;let u=null,d=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(d=[],u=null,f=200,p="OK")}catch{s.status===404&&x===""?(f=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new jbe.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,c;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}};S1.default=Nbe;var _be=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_1,"__esModule",{value:!0});const Sbe=_be(S1);let Abe=class extends Sbe.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};_1.default=Abe;var Cbe=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G0,"__esModule",{value:!0});const Ebe=Cbe(_1);let Obe=class extends Ebe.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};G0.default=Obe;var Pbe=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(N1,"__esModule",{value:!0});const af=Pbe(G0);let kbe=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new af.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new af.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new af.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new af.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new af.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};N1.default=kbe;var C1={},E1={};Object.defineProperty(E1,"__esModule",{value:!0});E1.version=void 0;E1.version="0.0.0-automated";Object.defineProperty(C1,"__esModule",{value:!0});C1.DEFAULT_HEADERS=void 0;const Tbe=E1;C1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Tbe.version}`};var gT=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lj,"__esModule",{value:!0});const Ibe=gT(N1),Dbe=gT(G0),Mbe=C1;let Lbe=class vT{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Mbe.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new Ibe.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vT(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Dbe.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};lj.default=Lbe;var lh=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});$i.PostgrestError=$i.PostgrestBuilder=$i.PostgrestTransformBuilder=$i.PostgrestFilterBuilder=$i.PostgrestQueryBuilder=$i.PostgrestClient=void 0;const bT=lh(lj);$i.PostgrestClient=bT.default;const yT=lh(N1);$i.PostgrestQueryBuilder=yT.default;const wT=lh(G0);$i.PostgrestFilterBuilder=wT.default;const jT=lh(_1);$i.PostgrestTransformBuilder=jT.default;const NT=lh(S1);$i.PostgrestBuilder=NT.default;const _T=lh(A1);$i.PostgrestError=_T.default;var Rbe=$i.default={PostgrestClient:bT.default,PostgrestQueryBuilder:yT.default,PostgrestFilterBuilder:wT.default,PostgrestTransformBuilder:jT.default,PostgrestBuilder:NT.default,PostgrestError:_T.default};const{PostgrestClient:Fbe,PostgrestQueryBuilder:dwe,PostgrestFilterBuilder:hwe,PostgrestTransformBuilder:fwe,PostgrestBuilder:pwe,PostgrestError:mwe}=Rbe,Bbe="2.11.2",$be={"X-Client-Info":`realtime-js/${Bbe}`},zbe="1.0.0",ST=1e4,Ube=1e3;var ad;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ad||(ad={}));var ra;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ra||(ra={}));var Za;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Za||(Za={}));var dw;(function(t){t.websocket="websocket"})(dw||(dw={}));var ic;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ic||(ic={}));class qbe{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class AT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wr||(wr={}));const eC=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=Hbe(o,t,e,i),s),{})},Hbe=(t,e,r,n)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?CT(s,o):hw(o)},CT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Xbe(e,r)}switch(t){case wr.bool:return Wbe(e);case wr.float4:case wr.float8:case wr.int2:case wr.int4:case wr.int8:case wr.numeric:case wr.oid:return Vbe(e);case wr.json:case wr.jsonb:return Gbe(e);case wr.timestamp:return Ybe(e);case wr.abstime:case wr.date:case wr.daterange:case wr.int4range:case wr.int8range:case wr.money:case wr.reltime:case wr.text:case wr.time:case wr.timestamptz:case wr.timetz:case wr.tsrange:case wr.tstzrange:return hw(e);default:return hw(e)}},hw=t=>t,Wbe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vbe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gbe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Xbe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>CT(e,l))}return t},Ybe=t=>typeof t=="string"?t.replace(" ","T"):t,ET=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $b{constructor(e,r,n={},i=ST){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(tC||(tC={}));class Cf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cf.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Cf.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Cf.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=s[u];if(h){const f=d.map(g=>g.presence_ref),p=h.map(g=>g.presence_ref),m=d.filter(g=>p.indexOf(g.presence_ref)<0),x=h.filter(g=>f.indexOf(g.presence_ref)<0);m.length>0&&(l[u]=m),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(rC||(rC={}));var nC;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nC||(nC={}));var uo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(uo||(uo={}));class cj{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ra.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $b(this,Za.join,this.params,this.timeout),this.rejoinTimer=new AT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ra.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ra.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ra.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ra.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Za.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Cf(this),this.broadcastEndpointURL=ET(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(uo.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(uo.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(uo.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let x=0;x<p;x++){const g=f[x],{filter:{event:b,schema:y,table:w,filter:j}}=g,_=d&&d[x];if(_&&_.event===b&&_.schema===y&&_.table===w&&_.filter===j)m.push(Object.assign(Object.assign({},g),{id:_.id}));else{this.unsubscribe(),e==null||e(uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(uo.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ra.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Za.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new $b(this,Za.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $b(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Za;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,x,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(x=p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,x,g,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(m=p.filter)===null||m===void 0?void 0:m.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const j=(y=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:x,table:g,commit_timestamp:b,type:y,errors:w}=m;f=Object.assign(Object.assign({},{schema:x,table:g,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===ra.closed}_isJoined(){return this.state===ra.joined}_isJoining(){return this.state===ra.joining}_isLeaving(){return this.state===ra.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&cj.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Za.close,{},e)}_onError(e){this._on(Za.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ra.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=eC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=eC(e.columns,e.old_record)),r}}const Kbe=()=>{},Jbe=typeof WebSocket<"u",Qbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zbe{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$be,this.params={},this.timeout=ST,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Kbe,this.conn=null,this.sendBuffer=[],this.serializer=new qbe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Bs(async()=>{const{default:c}=await Promise.resolve().then(()=>oh);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${dw.websocket}`,this.httpEndpoint=ET(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new AT(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Jbe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new eye(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Bs(async()=>{const{default:e}=await import("./browser-D5T-muA2.js").then(r=>r.b);return{default:e}},__vite__mapDeps([2,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zbe}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ad.connecting:return ic.Connecting;case ad.open:return ic.Open;case ad.closing:return ic.Closing;default:return ic.Closed}}isConnected(){return this.connectionState()===ic.Open}channel(e,r={config:{}}){const n=new cj(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Za.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ube,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Za.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Qbe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class eye{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ad.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class uj extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Rn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tye extends uj{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fw extends uj{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var rye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const OT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Bs(async()=>{const{default:n}=await Promise.resolve().then(()=>oh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},nye=()=>rye(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bs(()=>Promise.resolve().then(()=>oh),void 0)).Response:Response}),pw=t=>{if(Array.isArray(t))return t.map(r=>pw(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=pw(n)}),e};var zc=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const zb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iye=(t,e,r)=>zc(void 0,void 0,void 0,function*(){const n=yield nye();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new tye(zb(i),t.status||500))}).catch(i=>{e(new fw(zb(i),i))}):e(new fw(zb(t),t))}),aye=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function X0(t,e,r,n,i,s){return zc(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,aye(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>iye(c,l,n))})})}function ug(t,e,r,n){return zc(this,void 0,void 0,function*(){return X0(t,"GET",e,r,n)})}function sl(t,e,r,n,i){return zc(this,void 0,void 0,function*(){return X0(t,"POST",e,n,i,r)})}function sye(t,e,r,n,i){return zc(this,void 0,void 0,function*(){return X0(t,"PUT",e,n,i,r)})}function oye(t,e,r,n){return zc(this,void 0,void 0,function*(){return X0(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function PT(t,e,r,n,i){return zc(this,void 0,void 0,function*(){return X0(t,"DELETE",e,n,i,r)})}var Bi=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const lye={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cye{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=OT(i)}uploadOrUpdate(e,r,n,i){return Bi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},iC),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(Rn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Bi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Bi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:iC.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Rn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Bi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield sl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new uj("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(Rn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Bi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Bi(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Rn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Bi(this,void 0,void 0,function*(){try{return{data:{path:(yield sl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Rn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Bi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield sl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Rn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Bi(this,void 0,void 0,function*(){try{const i=yield sl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Rn(i))return{data:null,error:i};throw i}})}download(e,r){return Bi(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ug(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Rn(l))return{data:null,error:l};throw l}})}info(e){return Bi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ug(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pw(n),error:null}}catch(n){if(Rn(n))return{data:null,error:n};throw n}})}exists(e){return Bi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield oye(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Rn(n)&&n instanceof fw){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Bi(this,void 0,void 0,function*(){try{return{data:yield PT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Rn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Bi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lye),r),{prefix:e||""});return{data:yield sl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Rn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const uye="2.7.1",dye={"X-Client-Info":`storage-js/${uye}`};var Du=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class hye{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},dye),r),this.fetch=OT(n)}listBuckets(){return Du(this,void 0,void 0,function*(){try{return{data:yield ug(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Rn(e))return{data:null,error:e};throw e}})}getBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield ug(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Rn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Du(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Du(this,void 0,void 0,function*(){try{return{data:yield sye(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Rn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield PT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Rn(r))return{data:null,error:r};throw r}})}}class fye extends hye{constructor(e,r={},n){super(e,r,n)}from(e){return new cye(this.url,this.headers,e,this.fetch)}}const pye="2.48.1";let df="";typeof Deno<"u"?df="deno":typeof document<"u"?df="web":typeof navigator<"u"&&navigator.product==="ReactNative"?df="react-native":df="node";const mye={"X-Client-Info":`supabase-js-${df}/${pye}`},xye={headers:mye},gye={schema:"public"},vye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bye={};var yye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const wye=t=>{let e;return t?e=t:typeof fetch>"u"?e=pT:e=fetch,(...r)=>e(...r)},jye=()=>typeof Headers>"u"?mT:Headers,Nye=(t,e,r)=>{const n=wye(r),i=jye();return(s,o)=>yye(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var _ye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Sye(t){return t.replace(/\/$/,"")}function Aye(t,e){const{db:r,auth:n,realtime:i,global:s}=t,{db:o,auth:l,realtime:c,global:u}=e,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>_ye(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const kT="2.67.3",Cye="http://localhost:9999",Eye="supabase.auth.token",Oye={"X-Client-Info":`gotrue-js/${kT}`},aC=10,mw="X-Supabase-Api-Version",TT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Pye(t){return Math.round(Date.now()/1e3)+t}function kye(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ys=()=>typeof window<"u"&&typeof document<"u",Xl={tested:!1,writable:!1},Ef=()=>{if(!ys())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xl.tested)return Xl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xl.tested=!0,Xl.writable=!0}catch{Xl.tested=!0,Xl.writable=!1}return Xl.writable};function Tye(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const IT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Bs(async()=>{const{default:n}=await Promise.resolve().then(()=>oh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Iye=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",DT=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Am=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cm=async(t,e)=>{await t.removeItem(e)};function Dye(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,o,l,c,u,d=0;for(t=t.replace("-","+").replace("_","/");d<t.length;)o=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),u=e.indexOf(t.charAt(d++)),n=o<<2|l>>4,i=(l&15)<<4|c>>2,s=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&i!=0&&(r=r+String.fromCharCode(i)),u!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class O1{constructor(){this.promise=new O1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}O1.promiseConstructor=Promise;function sC(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Dye(n))}async function Mye(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lye(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Rye(t){return("0"+t.toString(16)).substr(-2)}function Fye(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Rye).join("")}async function Bye(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function $ye(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zye(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Bye(t);return $ye(r)}async function Mu(t,e,r=!1){const n=Fye();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await DT(t,`${e}-code-verifier`,i);const s=await zye(n);return[s,n===s?"plain":"s256"]}const Uye=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qye(t){const e=t.headers.get(mw);if(!e||!e.match(Uye))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class dj extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Et(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hye extends dj{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Wye(t){return Et(t)&&t.name==="AuthApiError"}class MT extends dj{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Uc extends dj{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class rl extends Uc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vye(t){return Et(t)&&t.name==="AuthSessionMissingError"}class Ub extends Uc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Em extends Uc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Om extends Uc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gye(t){return Et(t)&&t.name==="AuthImplicitGrantRedirectError"}class oC extends Uc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xw extends Uc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function qb(t){return Et(t)&&t.name==="AuthRetryableFetchError"}class lC extends Uc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Xye=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const rc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yye=[502,503,504];async function cC(t){var e;if(!Iye(t))throw new xw(rc(t),0);if(Yye.includes(t.status))throw new xw(rc(t),t.status);let r;try{r=await t.json()}catch(s){throw new MT(rc(s),s)}let n;const i=qye(t);if(i&&i.getTime()>=TT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new lC(rc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new rl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new lC(rc(r),t.status,r.weak_password.reasons);throw new Hye(rc(r),t.status||500,n)}const Kye=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ft(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[mw]||(s[mw]=TT["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Jye(t,e,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Jye(t,e,r,n,i,s){const o=Kye(e,n,i,s);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new xw(rc(c),0)}if(l.ok||await cC(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await cC(c)}}function nl(t){var e;let r=null;t2e(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Pye(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function uC(t){const e=nl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qye(t){return{data:t,error:null}}function Zye(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=Xye(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function e2e(t){return t}function t2e(t){return t.access_token&&t.refresh_token&&t.expires_in}var r2e=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class n2e{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=IT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:hl})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=r2e(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Zye,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Et(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hl})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:e2e});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const x=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Et(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hl})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:hl})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:hl})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Et(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}}}const i2e={getItem:t=>Ef()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ef()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ef()&&globalThis.localStorage.removeItem(t)}};function dC(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function a2e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Lu={debug:!!(globalThis&&Ef()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class s2e extends LT{}async function o2e(t,e,r){Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Lu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new s2e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}a2e();const l2e={url:Cye,storageKey:Eye,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oye,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},sf=30*1e3,hC=3;async function fC(t,e,r){return await r()}class v0{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=v0.nextInstanceID,v0.nextInstanceID+=1,this.instanceID>0&&ys()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},l2e),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new n2e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=IT(i.fetch),this.lock=i.lock||fC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ys()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=o2e:this.lock=fC,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Ef()?this.storage=i2e:(this.memoryStorage={},this.storage=dC(this.memoryStorage)):(this.memoryStorage={},this.storage=dC(this.memoryStorage)),ys()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Tye(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ys()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Gye(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Et(r)?{error:r}:{error:new MT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:nl}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Mu(this.storage,this.storageKey)),s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:nl})}else if("phone"in e){const{phone:d,password:h,options:f}=e;s=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nl})}else throw new Em("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:uC})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:uC})}else throw new Em("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ub}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Am(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:nl});if(await Cm(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ub}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Et(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,l=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nl}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ub}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Mu(this.storage,this.storageKey));const{error:h}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Em("You must provide either an email or phone number.")}catch(l){if(Et(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:nl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Mu(this.storage,this.storageKey)),await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Qye})}catch(s){if(Et(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new rl;const{error:i}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Et(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Ft(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:l}=await Ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Em("You must provide either an email or phone number and a type")}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Am(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hl}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rl}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:hl})})}catch(r){if(Et(r))return Vye(r)&&(await this._removeSession(),await Cm(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new rl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Mu(this.storage,this.storageKey));const{data:u,error:d}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:hl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return sC(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rl;const r=Date.now()/1e3;let n=r,i=!0,s=null;const o=sC(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Et(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new rl;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ys())throw new Om("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Om(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new oC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Om("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oC("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new Om("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=sf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:x,error:g}=await this._getUser(s);if(g)throw g;const b={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Et(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Am(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Wye(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Cm(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=kye(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Mu(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Et(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,c,u,d;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ys()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Et(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Et(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Lye(async i=>(i>0&&await Mye(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nl})),(i,s)=>{const o=200*Math.pow(2,i);return s&&qb(s)&&Date.now()+o-n<sf})}catch(n){if(this._debug(r,"error",n),Et(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ys()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Am(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<i+aC;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${aC}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),qb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new rl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new O1;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new rl;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Et(s)){const o={session:null,error:s};return qb(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await DT(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Cm(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ys()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/sf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sf}ms, refresh threshold is ${hC} ticks`),i<=hC&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ys()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Mu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Et(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Et(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Et(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Et(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}v0.nextInstanceID=0;const c2e=v0;class u2e extends c2e{constructor(e){super(e)}}var d2e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class h2e{constructor(e,r,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Sye(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:gye,realtime:bye,auth:Object.assign(Object.assign({},vye),{storageKey:c}),global:xye},d=Aye(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Nye(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Fbe(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new pbe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fye(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return d2e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u2e({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Zbe(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f2e=(t,e,r)=>new h2e(t,e,r),p2e="https://rmockgbhcxrgqpeejrry.supabase.co",m2e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",Yl=f2e(p2e,m2e);function x2e(){const t=PC(),{addNotification:e}=Ia(),{data:r=[],isLoading:n}=Nw({queryKey:["supplier_orders"],queryFn:async()=>{try{return[{id:"1",supplier_id:"hmo",status:"pending",products:[{id:"1",name:"Huîtres plates",quantity:120,price:8.5},{id:"2",name:"Huîtres creuses",quantity:240,price:7.2}],total_amount:2748,created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString(),comments:[]},{id:"2",supplier_id:"lpb",status:"accepted",products:[{id:"3",name:"Moules de Bouzigues",quantity:50,price:6}],total_amount:300,created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString(),comments:[{id:"1",content:"Commande validée par le fournisseur. Livraison prévue la semaine prochaine.",created_at:new Date(Date.now()-2592e5).toISOString(),user_id:"1"}]},{id:"3",supplier_id:"ac",status:"delivering",products:[{id:"4",name:"Huîtres du Bassin",quantity:80,price:9.5},{id:"5",name:"Palourdes",quantity:30,price:12}],total_amount:1120,created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),comments:[{id:"2",content:"Votre commande est en cours de livraison. Arrivée prévue demain matin.",created_at:new Date(Date.now()-864e5).toISOString(),user_id:"1"}]},{id:"4",supplier_id:"cp",status:"completed",products:[{id:"6",name:"Huîtres plates",quantity:50,price:8.5},{id:"7",name:"Moules de bouchot",quantity:80,price:5.2}],total_amount:841,storage_location:"Zone A, Étagère 3",created_at:new Date(Date.now()-10368e5).toISOString(),updated_at:new Date(Date.now()-6912e5).toISOString(),comments:[{id:"3",content:"Commande reçue et stockée. Qualité conforme aux attentes.",created_at:new Date(Date.now()-6912e5).toISOString(),user_id:"1"}]},{id:"5",supplier_id:"hmo",status:"rejected",products:[{id:"8",name:"Huîtres spéciales",quantity:20,price:15}],total_amount:300,created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date(Date.now()-7776e5).toISOString(),comments:[{id:"4",content:"Commande refusée par le fournisseur. Stock insuffisant pour le moment.",created_at:new Date(Date.now()-7776e5).toISOString(),user_id:"2"}]}]}catch(l){return console.error("Error fetching supplier orders:",l),[]}}}),i=hf({mutationFn:async l=>{const{data:c}=await Yl.from("supplier_products").select("id, price").in("id",l.products.map(f=>f.id)),u=l.products.reduce((f,p)=>{const m=c==null?void 0:c.find(x=>x.id===p.id);return f+((m==null?void 0:m.price)||0)*p.quantity},0),{data:d,error:h}=await Yl.from("supplier_orders").insert([{...l,status:"pending",total_amount:u}]).select().single();if(h)throw h;return e({title:"Commande créée",message:"La commande a été créée avec succès",type:"success",important:!1,category:"inventory"}),d},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),s=hf({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await Yl.from("supplier_orders").update(c).eq("id",l).select().single();if(d)throw d;if(c.status==="completed"){const h=await Yl.from("supplier_orders").select("*").eq("id",l).single();if(h.data)for(const f of h.data.products)await Yl.rpc("update_stock",{product_id:f.id,quantity:f.quantity,storage_location:c.storage_location,expiry_date:c.expiry_date});e({title:"Stock mis à jour",message:"Le stock a été mis à jour avec les produits livrés",type:"success",important:!1,category:"inventory"})}return u},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),o=hf({mutationFn:async({order_id:l,content:c})=>{var h;const{data:u,error:d}=await Yl.from("supplier_order_comments").insert([{order_id:l,content:c,user_id:(h=(await Yl.auth.getUser()).data.user)==null?void 0:h.id}]).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}});return{orders:r,isLoading:n,createOrder:i,updateOrder:s,addComment:o}}const pC=[{id:"hmo",name:"HMO",description:"Huîtres de Marennes Oléron",products:["Huîtres plates","Huîtres creuses","Huîtres spéciales"]},{id:"lpb",name:"LPB",description:"Les Parcs de Bouzigues",products:["Moules de Bouzigues","Huîtres de Bouzigues"]},{id:"ac",name:"AC",description:"Arcachon Coquillages",products:["Huîtres du Bassin","Palourdes","Coques"]},{id:"cp",name:"CP",description:"Cancale Production",products:["Huîtres plates","Huîtres creuses","Moules de bouchot"]}];function g2e(){const{orders:t,isLoading:e,updateOrder:r}=x2e(),[n,i]=ne.useState(null);ne.useState(!1),Ia();const[s,o]=k.useState("");return k.useState(null),pC.filter(l=>l.name.toLowerCase().includes(s.toLowerCase())||l.description.toLowerCase().includes(s.toLowerCase())||l.products.some(c=>c.toLowerCase().includes(s.toLowerCase()))),e?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[rgb(var(--color-brand-primary))]"})}):a.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commandes Fournisseurs"}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/5 rounded-lg text-white/60 hover:text-white transition-colors",children:a.jsx(yt,{size:24})})})]}),a.jsxs("div",{className:"relative mb-8",children:[a.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:s,onChange:l=>o(l.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20"}),a.jsx(fn,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40",size:20})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Vos commandes récentes"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>{const c=pC.find(h=>h.id===l.supplier_id),u=l.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":l.status==="accepted"?"bg-green-500/20 text-green-400 border-green-500/30":l.status==="delivering"?"bg-blue-500/20 text-blue-400 border-blue-500/30":l.status==="completed"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-red-500/20 text-red-400 border-red-500/30",d=l.status==="pending"?"Envoyé":l.status==="accepted"?"Validé":l.status==="delivering"?"En cours de livraison":l.status==="completed"?"Reçu":"Refusé";return a.jsx(V0,{onClick:()=>i(l.id),className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:(c==null?void 0:c.name)||"Fournisseur"}),a.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u}`,children:d})]}),a.jsxs("div",{className:"text-sm text-white/60 mb-3",children:[a.jsxs("p",{className:"mb-1",children:["Commandé le ",new Date(l.created_at).toLocaleDateString("fr-FR")]}),a.jsxs("p",{className:"font-medium text-white/80",children:["Total: ",l.total_amount.toFixed(2),"€"]})]}),a.jsxs("div",{className:"border-t border-white/5 pt-3 mt-auto",children:[a.jsxs("p",{className:"text-sm font-medium text-white/70",children:[l.products.length," produit",l.products.length>1?"s":""]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.products.slice(0,2).map(h=>a.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:[h.quantity,"× ",h.name]},h.id)),l.products.length>2&&a.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:["+",l.products.length-2," autre",l.products.length-2>1?"s":""]})]})]}),l.comments&&l.comments.length>0&&a.jsxs("div",{className:"mt-3 flex items-center text-white/50 text-sm",children:[a.jsx(zs,{size:14,className:"mr-1"}),l.comments.length," commentaire",l.comments.length>1?"s":""]})]})},l.id)})})]})]})})}const v2e=({onClose:t,onUpload:e})=>{const[r,n]=k.useState(""),[i,s]=k.useState(null),[o,l]=k.useState(!1),[c,u]=k.useState(""),d=k.useRef(null),h=x=>{if(x.target.files&&x.target.files[0]){const g=x.target.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}s(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}},f=x=>{if(x.preventDefault(),!r.trim()){u("Veuillez saisir un titre pour le document.");return}if(!i){u("Veuillez sélectionner un fichier.");return}e(r,i,o)},p=x=>{x.preventDefault()},m=x=>{if(x.preventDefault(),x.dataTransfer.files&&x.dataTransfer.files[0]){const g=x.dataTransfer.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}s(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}};return a.jsx(sr,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ajouter un document"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:a.jsx(yt,{size:20})})]}),a.jsxs("form",{onSubmit:f,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titre du document"}),a.jsx("input",{type:"text",id:"title",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: Carte d'identité, Permis de conduire...",value:r,onChange:x=>n(x.target.value)})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{var x;return(x=d.current)==null?void 0:x.click()},onDragOver:p,onDrop:m,children:[i?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(ks,{size:40,className:"text-blue-500 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(i.size/1024/1024).toFixed(2)," MB"]}),a.jsx("button",{type:"button",className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:x=>{x.stopPropagation(),s(null),d.current&&(d.current.value="")},children:"Changer de fichier"})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Ls,{size:40,className:"text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cliquez pour sélectionner un fichier"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"ou glissez-déposez ici"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format supporté: PDF, JPG, PNG (max. 10 MB)"})]}),a.jsx("input",{ref:d,type:"file",className:"hidden",accept:"application/pdf,image/jpeg,image/png",onChange:h})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:o,onChange:x=>l(x.target.checked)}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Document obligatoire (visible dans le QR code)"})]})}),c&&a.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",disabled:!i||!r.trim(),children:"Enregistrer"})]})]})]})})})},b2e=({documents:t,onDelete:e})=>{if(t.length===0)return a.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-brand-dark via-brand-purple/30 to-brand-burgundy/30 rounded-lg border border-white/10",children:[a.jsx(Yj,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Aucun document"}),a.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ajoutez vos documents importants pour y accéder facilement lors d'un contrôle."})]});const r=n=>{const i=URL.createObjectURL(n.file),s=window.document.createElement("a");s.style.display="none",s.href=i,s.download=n.title+"."+n.file.name.split(".").pop(),window.document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(i),window.document.body.removeChild(s)};return a.jsx("div",{className:"space-y-4",children:t.map(n=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:a.jsx(Yj,{size:24,className:"text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[n.title,n.isRequired&&a.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[a.jsx(pg,{size:12,className:"mr-1"}),"Obligatoire"]})]}),a.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[a.jsx(zn,{size:14,className:"mr-1"}),a.jsxs("span",{children:["Ajouté le ",Bt(new Date(n.date),"dd MMMM yyyy",{locale:gr})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>r(n),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full dark:text-blue-400 dark:hover:bg-blue-900/40",title:"Télécharger",children:a.jsx(is,{size:18})}),a.jsx("button",{onClick:()=>e(n.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full dark:text-red-400 dark:hover:bg-red-900/40",title:"Supprimer",children:a.jsx(ri,{size:18})})]})]},n.id))})};var y2e=Object.defineProperty,dg=Object.getOwnPropertySymbols,RT=Object.prototype.hasOwnProperty,FT=Object.prototype.propertyIsEnumerable,mC=(t,e,r)=>e in t?y2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gw=(t,e)=>{for(var r in e||(e={}))RT.call(e,r)&&mC(t,r,e[r]);if(dg)for(var r of dg(e))FT.call(e,r)&&mC(t,r,e[r]);return t},vw=(t,e)=>{var r={};for(var n in t)RT.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&dg)for(var n of dg(t))e.indexOf(n)<0&&FT.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Pc;(t=>{const e=class Tt{constructor(c,u,d,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Tt.MIN_VERSION||c>Tt.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),h==-1){let m=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const g=this.getPenaltyScore();g<m&&(h=x,m=g),this.applyMask(x)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return Tt.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return Tt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,h=40,f=-1,p=!0){if(!(Tt.MIN_VERSION<=d&&d<=h&&h<=Tt.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,x;for(m=d;;m++){const w=Tt.getNumDataCodewords(m,u)*8,j=o.getTotalBits(c,m);if(j<=w){x=j;break}if(m>=h)throw new RangeError("Data too long")}for(const w of[Tt.Ecc.MEDIUM,Tt.Ecc.QUARTILE,Tt.Ecc.HIGH])p&&x<=Tt.getNumDataCodewords(m,w)*8&&(u=w);let g=[];for(const w of c){r(w.mode.modeBits,4,g),r(w.numChars,w.mode.numCharCountBits(m),g);for(const j of w.getData())g.push(j)}i(g.length==x);const b=Tt.getNumDataCodewords(m,u)*8;i(g.length<=b),r(0,Math.min(4,b-g.length),g),r(0,(8-g.length%8)%8,g),i(g.length%8==0);for(let w=236;g.length<b;w^=253)r(w,8,g);let y=[];for(;y.length*8<g.length;)y.push(0);return g.forEach((w,j)=>y[j>>>3]|=w<<7-(j&7)),new Tt(m,u,y,f)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(c[d],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,n(h,f));this.setFunctionModule(8,7,n(h,6)),this.setFunctionModule(8,8,n(h,7)),this.setFunctionModule(7,8,n(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,n(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,n(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,n(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const h=n(u,d),f=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(f,p,h),this.setFunctionModule(p,f,h)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(d)),p=c+h,m=u+d;0<=p&&p<this.size&&0<=m&&m<this.size&&this.setFunctionModule(p,m,f!=2&&f!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Tt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=Tt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=Tt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(Tt.getNumRawDataModules(u)/8),m=h-p%h,x=Math.floor(p/h);let g=[];const b=Tt.reedSolomonComputeDivisor(f);for(let w=0,j=0;w<h;w++){let _=c.slice(j,j+x-f+(w<m?0:1));j+=_.length;const S=Tt.reedSolomonComputeRemainder(_,b);w<m&&_.push(0),g.push(_.concat(S))}let y=[];for(let w=0;w<g[0].length;w++)g.forEach((j,_)=>{(w!=x-f||_>=m)&&y.push(j[w])});return i(y.length==p),y}drawCodewords(c){if(c.length!=Math.floor(Tt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const p=d-f,x=(d+1&2)==0?this.size-1-h:h;!this.isFunction[x][p]&&u<c.length*8&&(this.modules[x][p]=n(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(c){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[f][g]==p?(m++,m==5?c+=Tt.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*Tt.PENALTY_N3),p=this.modules[f][g],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*Tt.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][f]==p?(m++,m==5?c+=Tt.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*Tt.PENALTY_N3),p=this.modules[g][f],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*Tt.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const m=this.modules[f][p];m==this.modules[f][p+1]&&m==this.modules[f+1][p]&&m==this.modules[f+1][p+1]&&(c+=Tt.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((p,m)=>p+(m?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=h&&h<=9),c+=h*Tt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let h=this.size-7;d.length<c;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(c){if(c<Tt.MIN_VERSION||c>Tt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Tt.getNumRawDataModules(c)/8)-Tt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Tt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<c;h++){for(let f=0;f<u.length;f++)u[f]=Tt.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=Tt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(h=>0);for(const h of c){const f=h^d.shift();d.push(0),u.forEach((p,m)=>d[m]^=Tt.reedSolomonMultiply(p,f))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const s=class Hr{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new Hr(Hr.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Hr.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const h=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+h),10),h*3+1,u),d+=h}return new Hr(Hr.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Hr.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let h=Hr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;h+=Hr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(h,11,u)}return d<c.length&&r(Hr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Hr(Hr.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Hr.isNumeric(c)?[Hr.makeNumeric(c)]:Hr.isAlphanumeric(c)?[Hr.makeAlphanumeric(c)]:[Hr.makeBytes(Hr.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Hr(Hr.Mode.ECI,0,u)}static isNumeric(c){return Hr.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Hr.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const h of c){const f=h.mode.numCharCountBits(u);if(h.numChars>=1<<f)return 1/0;d+=4+f+h.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(Pc||(Pc={}));(t=>{(e=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(Pc||(Pc={}));(t=>{(e=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Pc||(Pc={}));var Ku=Pc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var w2e={L:Ku.QrCode.Ecc.LOW,M:Ku.QrCode.Ecc.MEDIUM,Q:Ku.QrCode.Ecc.QUARTILE,H:Ku.QrCode.Ecc.HIGH},BT=128,$T="L",zT="#FFFFFF",UT="#000000",qT=!1,HT=1,j2e=4,N2e=0,_2e=.1;function WT(t,e=0){const r=[];return t.forEach(function(n,i){let s=null;n.forEach(function(o,l){if(!o&&s!==null){r.push(`M${s+e} ${i+e}h${l-s}v1H${s+e}z`),s=null;return}if(l===n.length-1){if(!o)return;s===null?r.push(`M${l+e},${i+e} h1v1H${l+e}z`):r.push(`M${s+e},${i+e} h${l+1-s}v1H${s+e}z`);return}o&&s===null&&(s=l)})}),r.join("")}function VT(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function S2e(t,e,r,n){if(n==null)return null;const i=t.length+r*2,s=Math.floor(e*_2e),o=i/e,l=(n.width||s)*o,c=(n.height||s)*o,u=n.x==null?t.length/2-l/2:n.x*o,d=n.y==null?t.length/2-c/2:n.y*o,h=n.opacity==null?1:n.opacity;let f=null;if(n.excavate){let m=Math.floor(u),x=Math.floor(d),g=Math.ceil(l+u-m),b=Math.ceil(c+d-x);f={x:m,y:x,w:g,h:b}}const p=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:f,opacity:h,crossOrigin:p}}function A2e(t,e){return e!=null?Math.max(Math.floor(e),0):t?j2e:N2e}function GT({value:t,level:e,minVersion:r,includeMargin:n,marginSize:i,imageSettings:s,size:o,boostLevel:l}){let c=ne.useMemo(()=>{const m=(Array.isArray(t)?t:[t]).reduce((x,g)=>(x.push(...Ku.QrSegment.makeSegments(g)),x),[]);return Ku.QrCode.encodeSegments(m,w2e[e],r,void 0,void 0,l)},[t,e,r,l]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:f}=ne.useMemo(()=>{let p=c.getModules();const m=A2e(n,i),x=p.length+m*2,g=S2e(p,o,m,s);return{cells:p,margin:m,numCells:x,calculatedImageSettings:g}},[c,o,s,n,i]);return{qrcode:c,margin:d,cells:u,numCells:h,calculatedImageSettings:f}}var C2e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),E2e=ne.forwardRef(function(e,r){const n=e,{value:i,size:s=BT,level:o=$T,bgColor:l=zT,fgColor:c=UT,includeMargin:u=qT,minVersion:d=HT,boostLevel:h,marginSize:f,imageSettings:p}=n,x=vw(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=x,b=vw(x,["style"]),y=p==null?void 0:p.src,w=ne.useRef(null),j=ne.useRef(null),_=ne.useCallback(F=>{w.current=F,typeof r=="function"?r(F):r&&(r.current=F)},[r]),[S,A]=ne.useState(!1),{margin:O,cells:M,numCells:B,calculatedImageSettings:T}=GT({value:i,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:f,imageSettings:p,size:s});ne.useEffect(()=>{if(w.current!=null){const F=w.current,W=F.getContext("2d");if(!W)return;let $=M;const z=j.current,X=T!=null&&z!==null&&z.complete&&z.naturalHeight!==0&&z.naturalWidth!==0;X&&T.excavation!=null&&($=VT(M,T.excavation));const Y=window.devicePixelRatio||1;F.height=F.width=s*Y;const oe=s/B*Y;W.scale(oe,oe),W.fillStyle=l,W.fillRect(0,0,B,B),W.fillStyle=c,C2e?W.fill(new Path2D(WT($,O))):M.forEach(function(fe,D){fe.forEach(function(I,U){I&&W.fillRect(U+O,D+O,1,1)})}),T&&(W.globalAlpha=T.opacity),X&&W.drawImage(z,T.x+O,T.y+O,T.w,T.h)}}),ne.useEffect(()=>{A(!1)},[y]);const E=gw({height:s,width:s},g);let R=null;return y!=null&&(R=ne.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{A(!0)},ref:j,crossOrigin:T==null?void 0:T.crossOrigin})),ne.createElement(ne.Fragment,null,ne.createElement("canvas",gw({style:E,height:s,width:s,ref:_,role:"img"},b)),R)});E2e.displayName="QRCodeCanvas";var XT=ne.forwardRef(function(e,r){const n=e,{value:i,size:s=BT,level:o=$T,bgColor:l=zT,fgColor:c=UT,includeMargin:u=qT,minVersion:d=HT,boostLevel:h,title:f,marginSize:p,imageSettings:m}=n,x=vw(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:b,numCells:y,calculatedImageSettings:w}=GT({value:i,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:p,imageSettings:m,size:s});let j=b,_=null;m!=null&&w!=null&&(w.excavation!=null&&(j=VT(b,w.excavation)),_=ne.createElement("image",{href:m.src,height:w.h,width:w.w,x:w.x+g,y:w.y+g,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const S=WT(j,g);return ne.createElement("svg",gw({height:s,width:s,viewBox:`0 0 ${y} ${y}`,ref:r,role:"img"},x),!!f&&ne.createElement("title",null,f),ne.createElement("path",{fill:l,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),ne.createElement("path",{fill:c,d:S,shapeRendering:"crispEdges"}),_)});XT.displayName="QRCodeSVG";const O2e=({documents:t,onClose:e})=>{const[r,n]=k.useState("");k.useEffect(()=>{if(t.length>0){const s=t.map(o=>({id:o.id,title:o.title,type:o.file.type,size:o.file.size,required:o.isRequired}));n(JSON.stringify({type:"OYSTERCULT_DIGITAL_VAULT",documents:s,expiry:Date.now()+36e5}))}},[t]);const i=()=>{const s=window.document.getElementById("qr-code-svg");if(s){const o=window.document.createElement("canvas"),l=o.getContext("2d"),c=new XMLSerializer().serializeToString(s),u=new Image;u.onload=()=>{o.width=200,o.height=200,l==null||l.drawImage(u,0,0,200,200);const d=o.toDataURL("image/png"),h=window.document.createElement("a");h.href=d,h.download="coffre-fort-numerique-qrcode.png",window.document.body.appendChild(h),h.click(),window.document.body.removeChild(h)},u.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};return a.jsx(sr,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:a.jsx("div",{className:"flex justify-center",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"QR Code d'accès"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:a.jsx(yt,{size:20})})]}),t.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx(j0,{size:60,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun document obligatoire"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez pas encore ajouté de documents marqués comme obligatoires."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white rounded-lg",children:a.jsx(XT,{id:"qr-code-svg",value:r,size:200,level:"H",includeMargin:!0})})}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(kf,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Ce QR code donne accès aux documents suivants :"}),a.jsx("ul",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 list-disc list-inside",children:t.map(s=>a.jsx("li",{children:s.title},s.id))})]})]})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx(is,{size:18,className:"mr-2"}),"Télécharger le QR Code"]})})]})]})})})})},P2e=()=>{const[t,e]=k.useState([]);return k.useEffect(()=>{(async()=>{})()},[]),{documents:t,addDocument:s=>{e(o=>[...o,s])},deleteDocument:s=>{e(o=>o.filter(l=>l.id!==s))},updateDocument:(s,o)=>{e(l=>l.map(c=>c.id===s?{...c,...o}:c))}}},k2e=()=>{const{documents:t,addDocument:e,deleteDocument:r}=P2e(),[n,i]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState(""),u=t.filter(d=>d.title.toLowerCase().includes(l.toLowerCase()));return a.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[a.jsx(qm,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Coffre fort numérique"]}),a.jsx("p",{className:"text-white/70 md:hidden",children:"Stockez et gérez vos documents importants en toute sécurité"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un document",children:[a.jsx(Ls,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Ajouter un document"})]}),a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Générer QR Code",children:[a.jsx(j0,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Générer QR Code"})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("p",{className:"text-white/70 hidden md:block mb-6",children:"Stockez et gérez vos documents importants en toute sécurité"}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(fn,{className:"absolute left-3 top-3 text-white/60",size:18,style:{top:"26%"},"aria-label":"Search icon"}),a.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400/30 focus:ring-2 focus:ring-cyan-500/40 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",value:l,onChange:d=>c(d.target.value),"aria-label":"Rechercher un document"})]})}),u.length>0?a.jsx(b2e,{documents:u,onDelete:r}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:a.jsx(qm,{className:"w-8 h-8 text-cyan-400"})}),a.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Votre coffre-fort est vide"}),a.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez à ajouter des documents pour les protéger et y accéder à tout moment."}),a.jsxs("button",{onClick:()=>i(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter votre premier document",children:[a.jsx(Ls,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Ajouter votre premier document"})]})]})]})]}),n&&a.jsx(v2e,{onClose:()=>i(!1),onUpload:(d,h)=>{e({id:Date.now().toString(),title:d,file:h,date:new Date().toISOString()}),i(!1)}}),s&&a.jsx(O2e,{documents:t.filter(d=>d.isRequired),onClose:()=>o(!1)})]})};function T2e({onSelectContact:t}){const[e,r]=k.useState(""),[n,i]=k.useState(null),s=K5.filter(o=>o.name.toLowerCase().includes(e.toLowerCase()));return a.jsx("div",{className:"flex-1 h-full w-full max-w-full overflow-hidden",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"}),a.jsx("button",{className:"p-1.5 sm:p-2 bg-brand-burgundy rounded-full text-white hover:bg-brand-burgundy/80 transition-colors",children:a.jsx(Mt,{size:18})})]}),a.jsx("div",{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:e,onChange:o=>r(o.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-10 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 text-sm sm:text-base"}),a.jsx(fn,{className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"33%"},"aria-label":"Search icon",size:16})]})}),n?a.jsx("div",{className:"flex-1",children:a.jsx(KP,{contactId:n,onClose:()=>i(null)})}):a.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-white/10",children:s.length>0?a.jsx("div",{className:"space-y-0.5",children:s.map(o=>a.jsx("div",{onClick:()=>{i(o.id),t&&t(o.id)},className:"p-2 sm:p-3 hover:bg-white/5 cursor-pointer transition-colors",tabIndex:0,role:"button","aria-label":`Conversation avec ${o.name}`,children:a.jsxs("div",{className:"flex items-center justify-between pointer-events-none",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsxs("div",{className:"relative",children:[o.avatar?a.jsx("img",{src:o.avatar,alt:o.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full"}):a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-brand-primary/20 border border-brand-primary/30 flex items-center justify-center",children:a.jsx("span",{className:"text-brand-primary text-base sm:text-lg font-medium",children:o.name.substring(0,1)})}),o.online&&a.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-white text-sm sm:text-base",children:o.name}),o.lastMessage&&a.jsx("p",{className:"text-xs sm:text-sm text-white/60 truncate max-w-[150px] sm:max-w-[180px] md:max-w-[220px] lg:max-w-[280px]",children:o.lastMessage})]})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[o.lastMessageTime&&a.jsx("span",{className:"text-xs text-white/40",children:o.lastMessageTime}),o.unreadCount>0&&a.jsx("span",{className:"bg-brand-primary text-white text-xs rounded-full px-1.5 py-0.5 min-w-[20px] text-center",children:o.unreadCount})]})]})},o.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[a.jsx(zs,{size:36,className:"mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Aucune conversation trouvée"})]})})]})})}function I2e(){const t=ha(),e=()=>{t(-1)};return a.jsxs("div",{className:"h-full flex flex-col bg-background text-white",children:[a.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:e,className:"p-1.5 sm:p-2 mr-2 sm:mr-3 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:a.jsx(Tf,{size:18,className:"sm:w-5 sm:h-5"})}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"})]})}),a.jsx("div",{className:"flex-1 flex w-full",children:a.jsx(T2e,{})})]})}function D2e(){const[t,e]=k.useState(null),[r,n]=k.useState(!1),[i,s]=k.useState(null),[o,l]=k.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"75kg",arrivalDate:"2025-03-02",expiryDate:"2025-03-15"},{id:"F2-02",name:"Coques",quantity:"30kg",arrivalDate:"2025-03-03",expiryDate:"2025-03-10"}],"Chambre froide":[{id:"CF-01",name:"Huîtres Plates",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-03-05"},{id:"CF-02",name:"Moules",quantity:"80kg",arrivalDate:"2025-02-22",expiryDate:"2025-03-08"}]}),c=d=>{s({...d}),n(!0)},u=()=>{if(i&&t){const d={...o},h=d[t],f=h.findIndex(p=>p.id===i.id);f!==-1&&(h[f]=i,l(d)),n(!1),s(null)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(o).map(([d,h])=>a.jsxs(V0,{onClick:()=>e(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:d}),a.jsxs("p",{className:"text-sm text-white/60",children:[h.length," produits"]})]}),a.jsx(oa,{className:"w-5 h-5 text-teal-400"})]}),a.jsx("div",{className:"space-y-2",children:h.map(f=>a.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:f.name}),a.jsx("button",{onClick:p=>{p.stopPropagation(),c(f)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(qi,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-white/60",children:f.quantity}),a.jsxs("span",{className:"text-xs text-white/40",children:["Exp. ",new Date(f.expiryDate).toLocaleDateString("fr-FR")]})]})]},f.id))})]},d))}),r&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le produit"}),a.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(yt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du produit"}),a.jsx(wt,{value:i.name,onChange:d=>s({...i,name:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),a.jsx(wt,{value:i.quantity,onChange:d=>s({...i,quantity:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),a.jsx(wt,{type:"date",value:i.expiryDate,onChange:d=>s({...i,expiryDate:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),a.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[a.jsx(Tc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const M2e=[{id:"1",date:"2025-03-15",supplier:"Fournisseur A",products:[{name:"Huîtres Fines de Claire",quantity:"100kg",price:800},{name:"Huîtres Spéciales",quantity:"50kg",price:500}],totalAmount:1300,status:"completed"}];function L2e(){const[t,e]=k.useState(M2e),[r,n]=k.useState(null),[i,s]=k.useState(!1),[o,l]=k.useState(null),c=d=>{l({...d}),s(!0)},u=()=>{if(o){const d=t.map(h=>h.id===o.id?o:h);e(d),s(!1),l(null)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>a.jsxs("div",{onClick:()=>n(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:d.supplier}),a.jsx("p",{className:"text-sm text-white/60",children:new Date(d.date).toLocaleDateString("fr-FR")})]}),a.jsx("button",{onClick:h=>{h.stopPropagation(),c(d)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(qi,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[d.products.map((h,f)=>a.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:h.name}),a.jsx("span",{className:"text-sm text-white/60",children:h.quantity})]}),a.jsx("div",{className:"flex justify-end mt-1",children:a.jsxs("span",{className:"text-sm text-teal-400",children:[h.price,"€"]})})]},f)),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Total"}),a.jsxs("span",{className:"text-sm font-medium text-white",children:[d.totalAmount,"€"]})]})})]})]},d.id))}),i&&o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier l'achat"}),a.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(yt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),a.jsx(wt,{value:o.supplier,onChange:d=>l({...o,supplier:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),a.jsx(wt,{type:"date",value:o.date,onChange:d=>l({...o,date:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.products.map((d,h)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-1",children:["Produit ",h+1]}),a.jsx(wt,{value:d.name,onChange:f=>{const p=[...o.products];p[h]={...d,name:f.target.value},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40 mb-2",placeholder:"Nom du produit"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(wt,{value:d.quantity,onChange:f=>{const p=[...o.products];p[h]={...d,quantity:f.target.value},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Quantité"}),a.jsx(wt,{type:"number",value:d.price,onChange:f=>{const p=[...o.products];p[h]={...d,price:Number(f.target.value)},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Prix"})]})]},h)),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),a.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[a.jsx(Tc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const xC=[{id:"1",type:"invoice",number:"FC-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",amount:"1,250.00 €",products:"Palourdes (150kg)",status:"validated"},{id:"2",type:"delivery_note",number:"BL-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",products:"Palourdes (150kg)",status:"validated",expiryDate:"2025-03-15"},{id:"3",type:"invoice",number:"FC-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",amount:"2,340.00 €",products:"Moules (200kg), Huîtres (50kg)",status:"validated"},{id:"4",type:"delivery_note",number:"BL-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",products:"Moules (200kg), Huîtres (50kg)",status:"validated",expiryDate:"2025-03-10"},{id:"5",type:"invoice",number:"FC-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",amount:"890.00 €",products:"Huîtres creuses (100kg)",status:"validated"},{id:"6",type:"delivery_note",number:"BL-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",products:"Huîtres creuses (100kg)",status:"validated",expiryDate:"2025-03-05"},{id:"7",type:"invoice",number:"FC-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",amount:"1,780.00 €",products:"Palourdes (100kg), Moules (80kg)",status:"validated"},{id:"8",type:"delivery_note",number:"BL-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",products:"Palourdes (100kg), Moules (80kg)",status:"validated",expiryDate:"2025-02-28"}];function R2e(){const[t,e]=k.useState(""),[r,n]=k.useState("all"),[i,s]=k.useState({start:"",end:""}),[o,l]=k.useState(null),[c,u]=k.useState(!1),[d,h]=k.useState(null),f=w=>{l(w)},p=w=>{h({...w}),u(!0)},m=()=>{d&&(xC.map(w=>w.id===d.id?d:w),u(!1),h(null))},x=xC.filter(w=>{const j=w.number.toLowerCase().includes(t.toLowerCase())||w.supplier.toLowerCase().includes(t.toLowerCase())||w.products.toLowerCase().includes(t.toLowerCase()),_=r==="all"||w.type===r,S=(!i.start||w.date>=i.start)&&(!i.end||w.date<=i.end);return j&&_&&S}),g=w=>{switch(w){case"validated":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},b=w=>{switch(w){case"validated":return"Validé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return w}},y=w=>new Date(w).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(fn,{className:"h-5 w-5 text-white/40"})}),a.jsx("input",{type:"text",placeholder:"Rechercher par numéro, fournisseur ou produits...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",value:t,onChange:w=>e(w.target.value)})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-48",children:a.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",value:r,onChange:w=>n(w.target.value),children:[a.jsx("option",{value:"all",children:"Tous les documents"}),a.jsx("option",{value:"invoice",children:"Factures"}),a.jsx("option",{value:"delivery_note",children:"Bons de livraison"})]})}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(is,{size:20,className:"mr-2"}),"Exporter"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),a.jsx("input",{type:"date",value:i.start,onChange:w=>s(j=>({...j,start:w.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),a.jsx("input",{type:"date",value:i.end,onChange:w=>s(j=>({...j,end:w.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(pi,{size:20,className:"mr-2"}),"Filtrer"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(w=>a.jsxs(V0,{onClick:()=>l(w),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:w.number}),a.jsx("p",{className:"text-sm text-white/60",children:w.supplier})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:j=>{j.stopPropagation(),f(w)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(mo,{className:"w-4 h-4"})}),a.jsx("button",{onClick:j=>{j.stopPropagation(),p(w)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(qi,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Date"}),a.jsx("span",{className:"text-sm font-medium text-white",children:y(w.date)})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Produits"}),a.jsx("span",{className:"text-sm font-medium text-white",children:w.products})]})}),w.type==="invoice"&&a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Montant"}),a.jsx("span",{className:"text-sm font-medium text-white",children:w.amount})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),a.jsx("span",{className:`text-sm font-medium ${g(w.status)}`,children:b(w.status)})]})})]})]},w.id))}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le document"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(yt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro"}),a.jsx(wt,{value:d.number,onChange:w=>h({...d,number:w.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),a.jsx(wt,{value:d.supplier,onChange:w=>h({...d,supplier:w.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),a.jsx(wt,{type:"date",value:d.date,onChange:w=>h({...d,date:w.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),d.type==="invoice"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Montant"}),a.jsx(wt,{type:"number",value:d.amount,onChange:w=>h({...d,amount:w.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),a.jsxs("select",{value:d.status,onChange:w=>h({...d,status:w.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",children:[a.jsx("option",{value:"validated",children:"Validé"}),a.jsx("option",{value:"pending",children:"En attente"}),a.jsx("option",{value:"rejected",children:"Rejeté"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),a.jsxs("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[a.jsx(Tc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const F2e=[{id:"1",batchNumber:"LOT-2025-001",type:"movement",description:"Déplacement du lot",date:"2025-02-19T10:00:00",user:"Jean Dupont",details:{from:"Zone Nord - Table A1",to:"Zone Nord - Table A2"}},{id:"2",batchNumber:"LOT-2025-001",type:"treatment",description:"Traitement préventif",date:"2025-02-18T14:30:00",user:"Marie Martin",details:{treatment:"Nettoyage des poches"}}],B2e={movement:xi,treatment:ks,quality_check:ac,alert:qn},Hb={movement:"bg-emerald-400/20 text-emerald-300",treatment:"bg-emerald-500/20 text-emerald-300",quality_check:"bg-emerald-600/20 text-emerald-300",alert:"bg-emerald-700/20 text-emerald-300"};function $2e({searchQuery:t}){const e=F2e.filter(r=>r.batchNumber.toLowerCase().includes(t.toLowerCase())||r.description.toLowerCase().includes(t.toLowerCase()));return a.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-emerald-400/30",children:a.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des événements"})}),a.jsx("div",{className:"divide-y divide-white/10",children:e.map(r=>{const n=B2e[r.type];return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${Hb[r.type].split(" ")[0]} flex items-center justify-center flex-shrink-0`,children:a.jsx(n,{size:20,className:Hb[r.type].split(" ")[1]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h4",{className:"text-lg font-medium text-white truncate",children:r.batchNumber}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Hb[r.type]}`,children:r.type==="movement"?"Déplacement":r.type==="treatment"?"Traitement":r.type==="quality_check"?"Contrôle qualité":"Alerte"})]}),a.jsx("p",{className:"text-white/70 mt-1",children:r.description}),r.details&&a.jsxs("div",{className:"mt-2 space-y-1",children:[r.details.from&&r.details.to&&a.jsxs("div",{className:"text-sm text-white/60",children:["De: ",r.details.from," → Vers: ",r.details.to]}),r.details.treatment&&a.jsxs("div",{className:"text-sm text-white/60",children:["Traitement: ",r.details.treatment]}),r.details.score&&a.jsxs("div",{className:"text-sm text-white/60",children:["Score qualité: ",r.details.score,"%"]}),r.details.issue&&a.jsxs("div",{className:"text-sm text-red-400",children:["Problème: ",r.details.issue]})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(bl,{size:16,className:"mr-1"}),Bt(new Date(r.date),"PPp",{locale:gr})]}),a.jsx("div",{children:"•"}),a.jsxs("div",{children:["Par: ",r.user]})]})]})]})},r.id)})})]})}function z2e(){const[t,e]=k.useState(null),[r,n]=k.useState(!1),[i,s]=k.useState(null),[o,l]=k.useState([{id:"1",name:"Bassin A1",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.5,salinity:35.2,lastMaintenance:"2025-03-01",nextMaintenance:"2025-03-15",currentBatch:{id:"B1",name:"Huîtres Fines de Claire",quantity:"200kg",startDate:"2025-03-10",endDate:"2025-03-13"}},{id:"2",name:"Bassin A2",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.8,salinity:34.9,lastMaintenance:"2025-03-05",nextMaintenance:"2025-03-19",currentBatch:{id:"B2",name:"Huîtres Spéciales",quantity:"150kg",startDate:"2025-03-11",endDate:"2025-03-14"}},{id:"3",name:"Bassin B1",filterType:"UV + Mécanique",filterStatus:"maintenance",temperature:0,salinity:0,lastMaintenance:"2025-03-12",nextMaintenance:"2025-03-13"}]),c=f=>{s({...f}),n(!0)},u=()=>{if(i){const f=o.map(p=>p.id===i.id?i:p);l(f),n(!1),s(null)}},d=f=>{switch(f){case"active":return a.jsx(Fd,{className:"w-5 h-5 text-green-500"});case"inactive":return a.jsx(AC,{className:"w-5 h-5 text-red-500"});case"maintenance":return a.jsx(jn,{className:"w-5 h-5 text-yellow-500"})}},h=f=>{switch(f){case"active":return"Actif";case"inactive":return"Inactif";case"maintenance":return"En maintenance"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(f=>a.jsxs(V0,{onClick:()=>e(f),className:"p-4 cursor-pointer hover:shadow-lg transition-shadow bg-white/5 backdrop-blur-sm border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:f.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d(f.filterStatus),a.jsx("span",{className:"text-sm text-white/60",children:h(f.filterStatus)})]})]}),a.jsx("button",{onClick:p=>{p.stopPropagation(),c(f)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(qi,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[a.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Température"}),a.jsxs("div",{className:"font-medium text-white",children:[f.temperature,"°C"]})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[a.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Salinité"}),a.jsxs("div",{className:"font-medium text-white",children:[f.salinity,"g/L"]})]})]}),f.currentBatch&&a.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Lot en cours"}),a.jsx("div",{className:"font-medium text-white",children:f.currentBatch.name}),a.jsxs("div",{className:"text-sm text-white/60 mt-1",children:[f.currentBatch.quantity," • ",new Date(f.currentBatch.endDate).toLocaleDateString("fr-FR")]})]})]})]},f.id))}),r&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-lg p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le bassin"}),a.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(yt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du bassin"}),a.jsx(wt,{value:i.name,onChange:f=>s({...i,name:f.target.value}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type de filtration"}),a.jsx(wt,{value:i.filterType,onChange:f=>s({...i,filterType:f.target.value}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),a.jsxs("select",{value:i.filterStatus,onChange:f=>s({...i,filterStatus:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[a.jsx("option",{value:"active",children:"Actif"}),a.jsx("option",{value:"inactive",children:"Inactif"}),a.jsx("option",{value:"maintenance",children:"En maintenance"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Température (°C)"}),a.jsx(wt,{type:"number",step:"0.1",value:i.temperature,onChange:f=>s({...i,temperature:parseFloat(f.target.value)}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Salinité (g/L)"}),a.jsx(wt,{type:"number",step:"0.1",value:i.salinity,onChange:f=>s({...i,salinity:parseFloat(f.target.value)}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Dernière maintenance"}),a.jsx(wt,{type:"date",value:i.lastMaintenance,onChange:f=>s({...i,lastMaintenance:f.target.value}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Prochaine maintenance"}),a.jsx(wt,{type:"date",value:i.nextMaintenance,onChange:f=>s({...i,nextMaintenance:f.target.value}),className:"mt-1"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Annuler"}),a.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-md",children:[a.jsx(Tc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})})]})}const U2e=({searchQuery:t=""})=>{const[e,r]=k.useState([{id:"1",batchNumber:"Lot HF-2025-001",type:"Huîtres Fines de Claire",quantity:"200",status:"purification",startDate:"2025-03-10",location:"Bassin A1",expiryDate:"2025-03-24",notes:"Lot en cours de purification"}]),[n,i]=k.useState(null),[s,o]=k.useState(!1),[l,c]=k.useState(null),u=p=>{c({...p}),o(!0)},d=()=>{if(l){const p=e.map(m=>m.id===l.id?l:m);r(p),o(!1),c(null)}},h=e.filter(p=>p.status==="table1"||p.status==="table2"||p.status==="table3").slice(0,4),f=p=>oM(new Date,new Date(p));return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(p=>a.jsxs(V0,{onClick:()=>i(p),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:p.batchNumber}),a.jsx("p",{className:"text-sm text-white/60",children:p.type})]}),a.jsx("button",{onClick:m=>{m.stopPropagation(),u(p)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(qi,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Quantité"}),a.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Emplacement"}),a.jsx("span",{className:"text-sm font-medium text-white",children:p.location})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Date d'expiration"}),a.jsx("span",{className:"text-sm font-medium text-white",children:new Date(p.expiryDate).toLocaleDateString("fr-FR")})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Temps en trempe"}),a.jsxs("span",{className:"text-sm font-medium text-white",children:[f(p.startDate),"h"]})]})})]})]},p.id))}),s&&l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le lot"}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(yt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro du lot"}),a.jsx(wt,{value:l.batchNumber,onChange:p=>c({...l,batchNumber:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type"}),a.jsx(wt,{value:l.type,onChange:p=>c({...l,type:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),a.jsx(wt,{value:l.quantity,onChange:p=>c({...l,quantity:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Emplacement"}),a.jsx(wt,{value:l.location,onChange:p=>c({...l,location:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),a.jsx(wt,{type:"date",value:l.expiryDate,onChange:p=>c({...l,expiryDate:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),a.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[a.jsx(Tc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})};class Pt{constructor(e,r,n,i,s){this._legacyCanvasSize=Pt.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||i||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof i=="function"?i:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof i=="number"?i:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let o=!1;if(e.hidden&&(e.hidden=!1,o=!0),document.body.contains(e)||(document.body.appendChild(e),o=!0),n=e.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(i=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let l=window.getComputedStyle(e);l.display==="none"&&(e.style.setProperty("display","block","important"),o=!0),l.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=Pt.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await Pt.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="videoinput"),n;try{e&&(await r()).every(i=>!i.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((i,s)=>({id:i.deviceId,label:i.label||(s===0?"Default Camera":`Camera ${s+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),Pt._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),Pt._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),Pt._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:r}=await this._getCameraStream();!this._active||this._paused?Pt._stopVideoStream(e):(this._setVideoMirror(r),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(Pt._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,r,n,i,s=!1,o=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,i=r.canvas,s=r.disallowCanvasResizing||!1,o=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||i||s||o?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let u,d;[n,u]=await Promise.all([n||Pt.createQrEngine(),Pt._loadImage(e)]),[i,d]=Pt._drawToCanvas(u,l,i,s);let h;if(n instanceof Worker){let f=n;r||Pt._postWorkerMessageSync(f,"inversionMode","both"),h=await new Promise((p,m)=>{let x,g,b,y=-1;g=j=>{j.data.id===y&&(f.removeEventListener("message",g),f.removeEventListener("error",b),clearTimeout(x),j.data.data!==null?p({data:j.data.data,cornerPoints:Pt._convertPoints(j.data.cornerPoints,l)}):m(Pt.NO_QR_CODE_FOUND))},b=j=>{f.removeEventListener("message",g),f.removeEventListener("error",b),clearTimeout(x),m("Scanner error: "+(j?j.message||j:"Unknown Error"))},f.addEventListener("message",g),f.addEventListener("error",b),x=setTimeout(()=>b("timeout"),1e4);let w=d.getImageData(0,0,i.width,i.height);y=Pt._postWorkerMessageSync(f,"decode",w,[w.data.buffer])})}else h=await Promise.race([new Promise((f,p)=>window.setTimeout(()=>p("Scanner error: timeout"),1e4)),(async()=>{try{var[f]=await n.detect(i);if(!f)throw Pt.NO_QR_CODE_FOUND;return{data:f.rawValue,cornerPoints:Pt._convertPoints(f.cornerPoints,l)}}catch(p){if(f=p.message||p,/not implemented|service unavailable/.test(f))return Pt._disableBarcodeDetector=!0,Pt.scanImage(e,{scanRegion:l,canvas:i,disallowCanvasResizing:s,alsoTryWithoutScanRegion:o});throw`Scanner error: ${f}`}})()]);return c?h:h.data}catch(u){if(!l||!o)throw u;let d=await Pt.scanImage(e,{qrEngine:n,canvas:i,disallowCanvasResizing:s});return c?d:d.data}finally{r||Pt._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,r,n,i=!0){Pt._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:r,blue:n,useIntegerApproximation:i})}setInversionMode(e){Pt._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>Bs(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!Pt._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:i})=>/arm/i.test(n||"arm")&&13<=parseInt(i||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let r=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-r)/2),y:Math.round((e.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,r=e.videoWidth,n=e.videoHeight,i=e.offsetWidth,s=e.offsetHeight,o=e.offsetLeft,l=e.offsetTop,c=window.getComputedStyle(e),u=c.objectFit,d=r/n,h=i/s;switch(u){case"none":var f=r,p=n;break;case"fill":f=i,p=s;break;default:(u==="cover"?d>h:d<h)?(p=s,f=p*d):(f=i,p=f/d),u==="scale-down"&&(f=Math.min(f,r),p=Math.min(p,n))}var[m,x]=c.objectPosition.split(" ").map((b,y)=>{const w=parseFloat(b);return b.endsWith("%")?(y?s-p:i-f)*w/100:w});c=this._scanRegion.width||r,h=this._scanRegion.height||n,u=this._scanRegion.x||0;var g=this._scanRegion.y||0;d=this.$overlay.style,d.width=`${c/r*f}px`,d.height=`${h/n*p}px`,d.top=`${l+x+g/n*p}px`,n=/scaleX\(-1\)/.test(e.style.transform),d.left=`${o+(n?i-m-f:m)+(n?r-u-c:u)/r*f}px`,d.transform=e.style.transform}})}static _convertPoints(e,r){if(!r)return e;let n=r.x||0,i=r.y||0,s=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let o of e)o.x=o.x*s+n,o.y=o.y*r+i;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;e<r&&await new Promise(i=>setTimeout(i,r-e)),this._lastScanTimestamp=Date.now();try{var n=await Pt.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(i){if(!this._active)return;this._onDecodeError(i)}!Pt._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=Pt.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:i,y:s})=>`${i},${s}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==Pt.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(i=>Object.assign({},i,{[e]:{exact:this._preferredCamera}}));for(let i of[...n,...r])try{let s=await navigator.mediaDevices.getUserMedia({video:i,audio:!1}),o=this._getFacingMode(s)||(i.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:o}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let r of e.getTracks())r.stop(),e.removeTrack(r)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,r,n,i=!1){n=n||document.createElement("canvas");let s=r&&r.x?r.x:0,o=r&&r.y?r.y:0,l=r&&r.width?r.width:e.videoWidth||e.width,c=r&&r.height?r.height:e.videoHeight||e.height;return i||(i=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==i&&(n.width=i),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(e,s,o,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(e){if(e instanceof Image)return await Pt._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let r=new Image;r.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await Pt._awaitImageLoad(r),r}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((r,n)=>{let i=s=>{e.removeEventListener("load",i),e.removeEventListener("error",i),s instanceof ErrorEvent?n("Image load error"):r()};e.addEventListener("load",i),e.addEventListener("error",i)})}static async _postWorkerMessage(e,r,n,i){return Pt._postWorkerMessageSync(await e,r,n,i)}static _postWorkerMessageSync(e,r,n,i){if(!(e instanceof Worker))return-1;let s=Pt._workerMessageId++;return e.postMessage({id:s,type:r,data:n},i),s}}Pt.DEFAULT_CANVAS_SIZE=400;Pt.NO_QR_CODE_FOUND="No QR code found";Pt._disableBarcodeDetector=!1;Pt._workerMessageId=0;function q2e({onClose:t,onScanSuccess:e}){const r=k.useRef(null),[n,i]=k.useState(null);k.useState(!1);const s=k.useRef(null);return k.useEffect(()=>{if(!r.current)return;const o=new Pt(r.current,l=>{e(l.data),t()},{highlightScanRegion:!0,highlightCodeOutline:!0});return s.current=o,o.start().catch(l=>{i("Impossible d'accéder à la caméra. Vérifiez les permissions."),console.error(l)}),()=>{o.destroy()}},[e,t]),a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"rounded-xl p-6 w-full max-w-md relative backdrop-blur-sm border border-white/10",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:a.jsx(yt,{size:20})}),a.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Scanner un QR Code"}),a.jsx("div",{className:"relative",children:n?a.jsx("div",{className:"p-4 bg-red-500/20 text-red-400 rounded-lg",children:n}):a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:r,className:"w-full aspect-square rounded-lg bg-black"}),a.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/50 rounded-lg pointer-events-none",children:a.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/20 rounded-lg animate-pulse"})})]})}),a.jsx("p",{className:"mt-4 text-sm text-white/60 text-center",children:"Placez le QR code dans le cadre pour le scanner automatiquement"})]})})}var H2e={exports:{}};const W2e=TC(kme);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(n,i){t.exports=i(function(){try{return W2e}catch{}}())})(typeof globalThis<"u"?globalThis:typeof An<"u"?An:typeof window<"u"?window:typeof self<"u"?self:An,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,g){x.__proto__=g}||function(x,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(x[b]=g[b])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function x(){this.constructor=p}p.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function f(p,m,x){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=x,this.doc=p.getDocument()}return f}();c.HookData=d;var h=function(f){u(p,f);function p(m,x,g,b,y,w){var j=f.call(this,m,x,w)||this;return j.cell=g,j.row=b,j.column=y,j.section=b.section,j}return p}(d);c.CellHookData=h},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),h=u(136),f=u(744),p=u(776),m=u(664),x=u(972);function g(b){b.API.autoTable=function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];var j;y.length===1?j=y[0]:(console.error("Use of deprecated autoTable initiation"),j=y[2]||{},j.columns=y[0],j.body=y[1]);var _=(0,p.parseInput)(this,j),S=(0,x.createTable)(this,_);return(0,m.drawTable)(this,S),this},b.API.lastAutoTable=!1,b.API.previousAutoTable=!1,b.API.autoTable.previous=!1,b.API.autoTableText=function(y,w,j,_){(0,h.default)(y,w,j,_,this)},b.API.autoTableSetDefaults=function(y){return f.DocHandler.setDefaults(y,this),this},b.autoTableSetDefaults=function(y,w){f.DocHandler.setDefaults(y,w)},b.API.autoTableHtmlToJson=function(y,w){var j;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var _=new f.DocHandler(this),S=(0,d.parseHtml)(_,y,window,w,!1),A=S.head,O=S.body,M=((j=A[0])===null||j===void 0?void 0:j.map(function(B){return B.content}))||[];return{columns:M,rows:O,data:O}},b.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},b.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),b.API.autoTable.globalDefaults||(b.API.autoTable.globalDefaults={}),b.API.autoTable.globalDefaults.addPageContent=y,this},b.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=g},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,h,f,p,m){p=p||{};var x=1.15,g=m.internal.scaleFactor,b=m.internal.getFontSize()/g,y=m.getLineHeightFactor?m.getLineHeightFactor():x,w=b*y,j=/\r\n|\r|\n/g,_="",S=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(_=typeof d=="string"?d.split(j):d,S=_.length||1),f+=b*(2-x),p.valign==="middle"?f-=S/2*w:p.valign==="bottom"&&(f-=S*w),p.halign==="center"||p.halign==="right"){var A=b;if(p.halign==="center"&&(A*=.5),_&&S>=1){for(var O=0;O<_.length;O++)m.text(_[O],h-m.getStringUnitWidth(_[O])*A,f),f+=w;return m}h-=m.getStringUnitWidth(d)*A}return p.halign==="justify"?m.text(d,h,f,{maxWidth:p.maxWidth||100,align:"justify"}):m.text(d,h,f),m}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(m,x,g){g.applyStyles(x,!0);var b=Array.isArray(m)?m:[m],y=b.map(function(w){return g.getTextWidth(w)}).reduce(function(w,j){return Math.max(w,j)},0);return y}c.getStringWidth=u;function d(m,x,g,b){var y=x.settings.tableLineWidth,w=x.settings.tableLineColor;m.applyStyles({lineWidth:y,lineColor:w});var j=h(y,!1);j&&m.rect(g.x,g.y,x.getWidth(m.pageSize().width),b.y-g.y,j)}c.addTableBorder=d;function h(m,x){var g=m>0,b=x||x===0;return g&&b?"DF":g?"S":b?"F":null}c.getFillStyle=h;function f(m,x){var g,b,y,w;if(m=m||x,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=x}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(g=m.left)!==null&&g!==void 0?g:x,top:(b=m.top)!==null&&b!==void 0?b:x,right:(y=m.right)!==null&&y!==void 0?y:x,bottom:(w=m.bottom)!==null&&w!==void 0?w:x}):(typeof m!="number"&&(m=x),{top:m,right:m,bottom:m,left:m})}c.parseSpacing=f;function p(m,x){var g=f(x.settings.margin,0);return m.pageSize().width-(g.left+g.right)}c.getPageAvailableWidth=p},796:function(l,c){var u=this&&this.__extends||function(){var p=function(m,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(g[y]=b[y])},p(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(m,x);function g(){this.constructor=m}m.prototype=x===null?Object.create(x):(g.prototype=x.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(m,p);function m(x){var g=p.call(this)||this;return g._element=x,g}return m}(Array);c.HtmlRowInput=d;function h(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=h;function f(p){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[p]}c.getTheme=f},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function h(g,b,y,w,j){var _={},S=1.3333333333333333,A=p(b,function(Y){return j.getComputedStyle(Y).backgroundColor});A!=null&&(_.fillColor=A);var O=p(b,function(Y){return j.getComputedStyle(Y).color});O!=null&&(_.textColor=O);var M=x(w,y);M&&(_.cellPadding=M);var B="borderTopColor",T=S*y,E=w.borderTopWidth;if(w.borderBottomWidth===E&&w.borderRightWidth===E&&w.borderLeftWidth===E){var R=(parseFloat(E)||0)/T;R&&(_.lineWidth=R)}else _.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/T,right:(parseFloat(w.borderRightWidth)||0)/T,bottom:(parseFloat(w.borderBottomWidth)||0)/T,left:(parseFloat(w.borderLeftWidth)||0)/T},_.lineWidth.top||(_.lineWidth.right?B="borderRightColor":_.lineWidth.bottom?B="borderBottomColor":_.lineWidth.left&&(B="borderLeftColor"));var F=p(b,function(Y){return j.getComputedStyle(Y)[B]});F!=null&&(_.lineColor=F);var W=["left","right","center","justify"];W.indexOf(w.textAlign)!==-1&&(_.halign=w.textAlign),W=["middle","bottom","top"],W.indexOf(w.verticalAlign)!==-1&&(_.valign=w.verticalAlign);var $=parseInt(w.fontSize||"");isNaN($)||(_.fontSize=$/S);var z=f(w);z&&(_.fontStyle=z);var X=(w.fontFamily||"").toLowerCase();return g.indexOf(X)!==-1&&(_.font=X),_}c.parseCss=h;function f(g){var b="";return(g.fontWeight==="bold"||g.fontWeight==="bolder"||parseInt(g.fontWeight)>=700)&&(b="bold"),(g.fontStyle==="italic"||g.fontStyle==="oblique")&&(b+="italic"),b}function p(g,b){var y=m(g,b);if(!y)return null;var w=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var j=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],_=parseInt(w[4]);return _===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function m(g,b){var y=b(g);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?g.parentElement==null?null:m(g.parentElement,b):y}function x(g,b){var y=[g.paddingTop,g.paddingRight,g.paddingBottom,g.paddingLeft],w=96/(72/b),j=(parseInt(g.lineHeight)-parseInt(g.fontSize))/b/2,_=y.map(function(A){return parseInt(A||"0")/w}),S=(0,d.parseSpacing)(_,0);return j>S.top&&(S.top=j),j>S.bottom&&(S.bottom=j),S}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function h(f){this.jsPDFDocument=f,this.userStyles={textColor:f.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:f.internal.getFontSize(),fontStyle:f.internal.getFont().fontStyle,font:f.internal.getFont().fontName,lineWidth:f.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:f.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(f,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=f:u=f},h.unifyColor=function(f){return Array.isArray(f)?f:typeof f=="number"?[f,f,f]:typeof f=="string"?[f]:null},h.prototype.applyStyles=function(f,p){var m,x,g;p===void 0&&(p=!1),f.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(f.fontStyle);var b=this.jsPDFDocument.internal.getFont(),y=b.fontStyle,w=b.fontName;if(f.font&&(w=f.font),f.fontStyle){y=f.fontStyle;var j=this.getFontList()[w];j&&j.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),y=j[0])}if(this.jsPDFDocument.setFont(w,y),f.fontSize&&this.jsPDFDocument.setFontSize(f.fontSize),!p){var _=h.unifyColor(f.fillColor);_&&(m=this.jsPDFDocument).setFillColor.apply(m,_),_=h.unifyColor(f.textColor),_&&(x=this.jsPDFDocument).setTextColor.apply(x,_),_=h.unifyColor(f.lineColor),_&&(g=this.jsPDFDocument).setDrawColor.apply(g,_),typeof f.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(f.lineWidth)}},h.prototype.splitTextToSize=function(f,p,m){return this.jsPDFDocument.splitTextToSize(f,p,m)},h.prototype.rect=function(f,p,m,x,g){return this.jsPDFDocument.rect(f,p,m,x,g)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(f){return this.jsPDFDocument.getTextWidth(f)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(f){this.jsPDFDocument.setPage(f)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return u||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var f=this.jsPDFDocument.internal.pageSize;return f.width==null&&(f={width:f.getWidth(),height:f.getHeight()}),f},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var f=this.jsPDFDocument;return f.getLineHeightFactor?f.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(f){return f/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var f=this.jsPDFDocument.internal.getCurrentPageInfo();return f?f.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),h=u(796);function f(x,g,b,y,w){var j,_;y===void 0&&(y=!1),w===void 0&&(w=!1);var S;typeof g=="string"?S=b.document.querySelector(g):S=g;var A=Object.keys(x.getFontList()),O=x.scaleFactor(),M=[],B=[],T=[];if(!S)return console.error("Html table could not be found with input: ",g),{head:M,body:B,foot:T};for(var E=0;E<S.rows.length;E++){var R=S.rows[E],F=(_=(j=R==null?void 0:R.parentElement)===null||j===void 0?void 0:j.tagName)===null||_===void 0?void 0:_.toLowerCase(),W=p(A,O,b,R,y,w);W&&(F==="thead"?M.push(W):F==="tfoot"?T.push(W):B.push(W))}return{head:M,body:B,foot:T}}c.parseHtml=f;function p(x,g,b,y,w,j){for(var _=new h.HtmlRowInput(y),S=0;S<y.cells.length;S++){var A=y.cells[S],O=b.getComputedStyle(A);if(w||O.display!=="none"){var M=void 0;j&&(M=(0,d.parseCss)(x,A,g,O,b)),_.push({rowSpan:A.rowSpan,colSpan:A.colSpan,styles:M,_element:A,content:m(A)})}}var B=b.getComputedStyle(y);if(_.length>0&&(w||B.display!=="none"))return _}function m(x){var g=x.cloneNode(!0);return g.innerHTML=g.innerHTML.replace(/\n/g,"").replace(/ +/g," "),g.innerHTML=g.innerHTML.split(/<br.*?>/).map(function(b){return b.trim()}).join(`
`),g.innerText||g.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),h=u(356),f=u(420),p=u(744),m=u(792);function x(S,A){var O=new p.DocHandler(S),M=O.getDocumentOptions(),B=O.getGlobalOptions();(0,m.default)(O,B,M,A);var T=(0,h.assign)({},B,M,A),E;typeof window<"u"&&(E=window);var R=g(B,M,A),F=b(B,M,A),W=y(O,T),$=j(O,T,E);return{id:A.tableId,content:$,hooks:F,styles:R,settings:W}}c.parseInput=x;function g(S,A,O){for(var M={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},B=function(F){if(F==="columnStyles"){var W=S[F],$=A[F],z=O[F];M.columnStyles=(0,h.assign)({},W,$,z)}else{var X=[S,A,O],Y=X.map(function(oe){return oe[F]||{}});M[F]=(0,h.assign)({},Y[0],Y[1],Y[2])}},T=0,E=Object.keys(M);T<E.length;T++){var R=E[T];B(R)}return M}function b(S,A,O){for(var M=[S,A,O],B={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},T=0,E=M;T<E.length;T++){var R=E[T];R.didParseCell&&B.didParseCell.push(R.didParseCell),R.willDrawCell&&B.willDrawCell.push(R.willDrawCell),R.didDrawCell&&B.didDrawCell.push(R.didDrawCell),R.willDrawPage&&B.willDrawPage.push(R.willDrawPage),R.didDrawPage&&B.didDrawPage.push(R.didDrawPage)}return B}function y(S,A){var O,M,B,T,E,R,F,W,$,z,X,Y,oe=(0,f.parseSpacing)(A.margin,40/S.scaleFactor()),fe=(O=w(S,A.startY))!==null&&O!==void 0?O:oe.top,D;A.showFoot===!0?D="everyPage":A.showFoot===!1?D="never":D=(M=A.showFoot)!==null&&M!==void 0?M:"everyPage";var I;A.showHead===!0?I="everyPage":A.showHead===!1?I="never":I=(B=A.showHead)!==null&&B!==void 0?B:"everyPage";var U=(T=A.useCss)!==null&&T!==void 0?T:!1,J=A.theme||(U?"plain":"striped"),Q=!!A.horizontalPageBreak,de=(E=A.horizontalPageBreakRepeat)!==null&&E!==void 0?E:null;return{includeHiddenHtml:(R=A.includeHiddenHtml)!==null&&R!==void 0?R:!1,useCss:U,theme:J,startY:fe,margin:oe,pageBreak:(F=A.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(W=A.rowPageBreak)!==null&&W!==void 0?W:"auto",tableWidth:($=A.tableWidth)!==null&&$!==void 0?$:"auto",showHead:I,showFoot:D,tableLineWidth:(z=A.tableLineWidth)!==null&&z!==void 0?z:0,tableLineColor:(X=A.tableLineColor)!==null&&X!==void 0?X:200,horizontalPageBreak:Q,horizontalPageBreakRepeat:de,horizontalPageBreakBehaviour:(Y=A.horizontalPageBreakBehaviour)!==null&&Y!==void 0?Y:"afterAllRows"}}function w(S,A){var O=S.getLastAutoTable(),M=S.scaleFactor(),B=S.pageNumber(),T=!1;if(O&&O.startPageNumber){var E=O.startPageNumber+O.pageNumber-1;T=E===B}return typeof A=="number"?A:(A==null||A===!1)&&T&&(O==null?void 0:O.finalY)!=null?O.finalY+20/M:null}function j(S,A,O){var M=A.head||[],B=A.body||[],T=A.foot||[];if(A.html){var E=A.includeHiddenHtml;if(O){var R=(0,d.parseHtml)(S,A.html,O,E,A.useCss)||{};M=R.head||M,B=R.body||M,T=R.foot||M}else console.error("Cannot parse html in non browser environment")}var F=A.columns||_(M,B,T);return{columns:F,head:M,body:B,foot:T}}function _(S,A,O){var M=S[0]||A[0]||O[0]||[],B=[];return Object.keys(M).filter(function(T){return T!=="_element"}).forEach(function(T){var E=1,R;Array.isArray(M)?R=M[parseInt(T)]:R=M[T],typeof R=="object"&&!Array.isArray(R)&&(E=(R==null?void 0:R.colSpan)||1);for(var F=0;F<E;F++){var W=void 0;Array.isArray(M)?W=B.length:W=T+(F>0?"_".concat(F):"");var $={dataKey:W};B.push($)}}),B}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(h,f,p,m){for(var x=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(T){h.applyStyles(h.userStyles),w.beforePageContent&&w.beforePageContent(T),h.applyStyles(h.userStyles),w.afterPageContent&&w.afterPageContent(T),h.applyStyles(h.userStyles),w.afterPageAdd&&T.pageNumber>1&&T.afterPageAdd(T),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(T){w[T]&&console.error('The "'.concat(T,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(T){var E=T[0],R=T[1];w[R]&&(console.error("Use of deprecated option ".concat(R,". Use ").concat(E," instead")),w[E]=w[R])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(T){var E=typeof T=="string"?T:T[0],R=typeof T=="string"?T:T[1];typeof w[E]<"u"&&(typeof w.styles[R]>"u"&&(w.styles[R]=w[E]),console.error("Use of deprecated option: "+E+", use the style "+R+" instead."))});for(var j=0,_=["styles","bodyStyles","headStyles","footStyles"];j<_.length;j++){var S=_[j];d(w[S]||{})}for(var A=w.columnStyles||{},O=0,M=Object.keys(A);O<M.length;O++){var B=M[O];d(A[B]||{})}},g=0,b=[f,p,m];g<b.length;g++){var y=b[g];x(y)}}c.default=u;function d(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),h=u(172),f=u(420),p=function(){function b(y,w){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return b.prototype.getHeadHeight=function(y){return this.head.reduce(function(w,j){return w+j.getMaxCellHeight(y)},0)},b.prototype.getFootHeight=function(y){return this.foot.reduce(function(w,j){return w+j.getMaxCellHeight(y)},0)},b.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},b.prototype.callCellHooks=function(y,w,j,_,S,A){for(var O=0,M=w;O<M.length;O++){var B=M[O],T=new h.CellHookData(y,this,j,_,S,A),E=B(T)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],E)return!1}return!0},b.prototype.callEndPageHooks=function(y,w){y.applyStyles(y.userStyles);for(var j=0,_=this.hooks.didDrawPage;j<_.length;j++){var S=_[j];S(new h.HookData(y,this,w))}},b.prototype.callWillDrawPageHooks=function(y,w){for(var j=0,_=this.hooks.willDrawPage;j<_.length;j++){var S=_[j];S(new h.HookData(y,this,w))}},b.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(_,S){return _+S.wrappedWidth},0);return w}else{var j=this.settings.margin;return y-j.left-j.right}},b}();c.Table=p;var m=function(){function b(y,w,j,_,S){S===void 0&&(S=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=w,this.section=j,this.cells=_,this.spansMultiplePages=S}return b.prototype.getMaxCellHeight=function(y){var w=this;return y.reduce(function(j,_){var S;return Math.max(j,((S=w.cells[_.index])===null||S===void 0?void 0:S.height)||0)},0)},b.prototype.hasRowSpan=function(y){var w=this;return y.filter(function(j){var _=w.cells[j.index];return _?_.rowSpan>1:!1}).length>0},b.prototype.canEntireRowFit=function(y,w){return this.getMaxCellHeight(w)<=y},b.prototype.getMinimumRowHeight=function(y,w){var j=this;return y.reduce(function(_,S){var A=j.cells[S.index];if(!A)return 0;var O=w.getLineHeight(A.styles.fontSize),M=A.padding("vertical"),B=M+O;return B>_?B:_},0)},b}();c.Row=m;var x=function(){function b(y,w,j){var _,S;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=j,this.raw=y;var A=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,A=(S=(_=y.content)!==null&&_!==void 0?_:y.title)!==null&&S!==void 0?S:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var O=A!=null?""+A:"",M=/\r\n|\r|\n/g;this.text=O.split(M)}return b.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");y=this.y+w/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var _=this.width-this.padding("horizontal");j=this.x+_/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y}},b.prototype.getContentHeight=function(y,w){w===void 0&&(w=1.15);var j=Array.isArray(this.text)?this.text.length:1,_=this.styles.fontSize/y*w,S=j*_+this.padding("vertical");return Math.max(S,this.styles.minCellHeight)},b.prototype.padding=function(y){var w=(0,f.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?w.top+w.bottom:y==="horizontal"?w.left+w.right:w[y]},b}();c.Cell=x;var g=function(){function b(y,w,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=w,this.index=j}return b.prototype.getMaxCustomCellWidth=function(y){for(var w=0,j=0,_=y.allRows();j<_.length;j++){var S=_[j],A=S.cells[this.index];A&&typeof A.styles.cellWidth=="number"&&(w=Math.max(w,A.styles.cellWidth))}return w},b}();c.Column=g},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,h,f,p,m){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(d),g=1;g<arguments.length;g++){var b=arguments[g];if(b!=null)for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(x[y]=b[y])}return x}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),h=u(260),f=u(324),p=u(796),m=u(356);function x(S,A){var O=new d.DocHandler(S),M=g(A,O.scaleFactor()),B=new h.Table(A,M);return(0,f.calculateWidths)(O,B),O.applyStyles(O.userStyles),B}c.createTable=x;function g(S,A){var O=S.content,M=j(O.columns);if(O.head.length===0){var B=y(M,"head");B&&O.head.push(B)}if(O.foot.length===0){var B=y(M,"foot");B&&O.foot.push(B)}var T=S.settings.theme,E=S.styles;return{columns:M,head:b("head",O.head,M,E,T,A),body:b("body",O.body,M,E,T,A),foot:b("foot",O.foot,M,E,T,A)}}function b(S,A,O,M,B,T){var E={},R=A.map(function(F,W){for(var $=0,z={},X=0,Y=0,oe=0,fe=O;oe<fe.length;oe++){var D=fe[oe];if(E[D.index]==null||E[D.index].left===0)if(Y===0){var I=void 0;Array.isArray(F)?I=F[D.index-X-$]:I=F[D.dataKey];var U={};typeof I=="object"&&!Array.isArray(I)&&(U=(I==null?void 0:I.styles)||{});var J=_(S,D,W,B,M,T,U),Q=new h.Cell(I,J,S);z[D.dataKey]=Q,z[D.index]=Q,Y=Q.colSpan-1,E[D.index]={left:Q.rowSpan-1,times:Y}}else Y--,X++;else E[D.index].left--,Y=E[D.index].times,$++}return new h.Row(F,W,S,z)});return R}function y(S,A){var O={};return S.forEach(function(M){if(M.raw!=null){var B=w(A,M.raw);B!=null&&(O[M.dataKey]=B)}}),Object.keys(O).length>0?O:null}function w(S,A){if(S==="head"){if(typeof A=="object")return A.header||A.title||null;if(typeof A=="string"||typeof A=="number")return A}else if(S==="foot"&&typeof A=="object")return A.footer;return null}function j(S){return S.map(function(A,O){var M,B,T;return typeof A=="object"?T=(B=(M=A.dataKey)!==null&&M!==void 0?M:A.key)!==null&&B!==void 0?B:O:T=O,new h.Column(T,A,O)})}function _(S,A,O,M,B,T,E){var R=(0,p.getTheme)(M),F;S==="head"?F=B.headStyles:S==="body"?F=B.bodyStyles:S==="foot"&&(F=B.footStyles);var W=(0,m.assign)({},R.table,R[S],B.styles,F),$=B.columnStyles[A.dataKey]||B.columnStyles[A.index]||{},z=S==="body"?$:{},X=S==="body"&&O%2===0?(0,m.assign)({},R.alternateRow,B.alternateRowStyles):{},Y=(0,p.defaultStyles)(T),oe=(0,m.assign)({},Y,W,X,z);return(0,m.assign)(oe,E)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),h=u(260),f=u(744),p=u(356),m=u(136),x=u(224);function g($,z){var X=z.settings,Y=X.startY,oe=X.margin,fe={x:oe.left,y:Y},D=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns),I=Y+oe.bottom+D;if(X.pageBreak==="avoid"){var U=z.body,J=U.reduce(function(xe,le){return xe+le.height},0);I+=J}var Q=new f.DocHandler($);(X.pageBreak==="always"||X.startY!=null&&I>Q.pageSize().height)&&(W(Q),fe.y=oe.top),z.callWillDrawPageHooks(Q,fe);var de=(0,p.assign)({},fe);z.startPageNumber=Q.pageNumber(),X.horizontalPageBreak?b(Q,z,de,fe):(Q.applyStyles(Q.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&z.head.forEach(function(xe){return B(Q,z,xe,fe,z.columns)}),Q.applyStyles(Q.userStyles),z.body.forEach(function(xe,le){var _e=le===z.body.length-1;M(Q,z,xe,_e,de,fe,z.columns)}),Q.applyStyles(Q.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&z.foot.forEach(function(xe){return B(Q,z,xe,fe,z.columns)})),(0,d.addTableBorder)(Q,z,de,fe),z.callEndPageHooks(Q,fe),z.finalY=fe.y,$.lastAutoTable=z,$.previousAutoTable=z,$.autoTable&&($.autoTable.previous=z),Q.applyStyles(Q.userStyles)}c.drawTable=g;function b($,z,X,Y){var oe=(0,x.calculateAllColumnsCanFitInPage)($,z),fe=z.settings;if(fe.horizontalPageBreakBehaviour==="afterAllRows")oe.forEach(function(J,Q){$.applyStyles($.userStyles),Q>0?F($,z,X,Y,J.columns,!0):y($,z,Y,J.columns),w($,z,X,Y,J.columns),_($,z,Y,J.columns)});else for(var D=-1,I=oe[0],U=function(){var J=D;if(I){$.applyStyles($.userStyles);var Q=I.columns;D>=0?F($,z,X,Y,Q,!0):y($,z,Y,Q),J=j($,z,D+1,Y,Q),_($,z,Y,Q)}var de=J-D;oe.slice(1).forEach(function(xe){$.applyStyles($.userStyles),F($,z,X,Y,xe.columns,!0),j($,z,D+1,Y,xe.columns,de),_($,z,Y,xe.columns)}),D=J};D<z.body.length-1;)U()}function y($,z,X,Y){var oe=z.settings;$.applyStyles($.userStyles),(oe.showHead==="firstPage"||oe.showHead==="everyPage")&&z.head.forEach(function(fe){return B($,z,fe,X,Y)})}function w($,z,X,Y,oe){$.applyStyles($.userStyles),z.body.forEach(function(fe,D){var I=D===z.body.length-1;M($,z,fe,I,X,Y,oe)})}function j($,z,X,Y,oe,fe){$.applyStyles($.userStyles),fe=fe??z.body.length;var D=Math.min(X+fe,z.body.length),I=-1;return z.body.slice(X,D).forEach(function(U,J){var Q=X+J===z.body.length-1,de=R($,z,Q,Y);U.canEntireRowFit(de,oe)&&(B($,z,U,Y,oe),I=X+J)}),I}function _($,z,X,Y){var oe=z.settings;$.applyStyles($.userStyles),(oe.showFoot==="lastPage"||oe.showFoot==="everyPage")&&z.foot.forEach(function(fe){return B($,z,fe,X,Y)})}function S($,z,X){var Y=X.getLineHeight($.styles.fontSize),oe=$.padding("vertical"),fe=Math.floor((z-oe)/Y);return Math.max(0,fe)}function A($,z,X,Y){var oe={};$.spansMultiplePages=!0,$.height=0;for(var fe=0,D=0,I=X.columns;D<I.length;D++){var U=I[D],J=$.cells[U.index];if(J){Array.isArray(J.text)||(J.text=[J.text]);var Q=new h.Cell(J.raw,J.styles,J.section);Q=(0,p.assign)(Q,J),Q.text=[];var de=S(J,z,Y);J.text.length>de&&(Q.text=J.text.splice(de,J.text.length));var xe=Y.scaleFactor(),le=Y.getLineHeightFactor();J.contentHeight=J.getContentHeight(xe,le),J.contentHeight>=z&&(J.contentHeight=z,Q.styles.minCellHeight-=z),J.contentHeight>$.height&&($.height=J.contentHeight),Q.contentHeight=Q.getContentHeight(xe,le),Q.contentHeight>fe&&(fe=Q.contentHeight),oe[U.index]=Q}}var _e=new h.Row($.raw,-1,$.section,oe,!0);_e.height=fe;for(var Oe=0,ae=X.columns;Oe<ae.length;Oe++){var U=ae[Oe],Q=_e.cells[U.index];Q&&(Q.height=_e.height);var J=$.cells[U.index];J&&(J.height=$.height)}return _e}function O($,z,X,Y){var oe=$.pageSize().height,fe=Y.settings.margin,D=fe.top+fe.bottom,I=oe-D;z.section==="body"&&(I-=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns));var U=z.getMinimumRowHeight(Y.columns,$),J=U<X;if(U>I)return console.error("Will not be able to print row ".concat(z.index," correctly since it's minimum height is larger than page height")),!0;if(!J)return!1;var Q=z.hasRowSpan(Y.columns),de=z.getMaxCellHeight(Y.columns)>I;return de?(Q&&console.error("The content of row ".concat(z.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Q||Y.settings.rowPageBreak==="avoid")}function M($,z,X,Y,oe,fe,D){var I=R($,z,Y,fe);if(X.canEntireRowFit(I,D))B($,z,X,fe,D);else if(O($,X,I,z)){var U=A(X,I,z,$);B($,z,X,fe,D),F($,z,oe,fe,D),M($,z,U,Y,oe,fe,D)}else F($,z,oe,fe,D),M($,z,X,Y,oe,fe,D)}function B($,z,X,Y,oe){Y.x=z.settings.margin.left;for(var fe=0,D=oe;fe<D.length;fe++){var I=D[fe],U=X.cells[I.index];if(!U){Y.x+=I.width;continue}$.applyStyles(U.styles),U.x=Y.x,U.y=Y.y;var J=z.callCellHooks($,z.hooks.willDrawCell,U,X,I,Y);if(J===!1){Y.x+=I.width;continue}T($,U,Y);var Q=U.getTextPos();(0,m.default)(U.text,Q.x,Q.y,{halign:U.styles.halign,valign:U.styles.valign,maxWidth:Math.ceil(U.width-U.padding("left")-U.padding("right"))},$.getDocument()),z.callCellHooks($,z.hooks.didDrawCell,U,X,I,Y),Y.x+=I.width}Y.y+=X.height}function T($,z,X){var Y=z.styles;if($.getDocument().setFillColor($.getDocument().getFillColor()),typeof Y.lineWidth=="number"){var oe=(0,d.getFillStyle)(Y.lineWidth,Y.fillColor);oe&&$.rect(z.x,X.y,z.width,z.height,oe)}else typeof Y.lineWidth=="object"&&(Y.fillColor&&$.rect(z.x,X.y,z.width,z.height,"F"),E($,z,X,Y.lineWidth))}function E($,z,X,Y){var oe,fe,D,I;Y.top&&(oe=X.x,fe=X.y,D=X.x+z.width,I=X.y,Y.right&&(D+=.5*Y.right),Y.left&&(oe-=.5*Y.left),U(Y.top,oe,fe,D,I)),Y.bottom&&(oe=X.x,fe=X.y+z.height,D=X.x+z.width,I=X.y+z.height,Y.right&&(D+=.5*Y.right),Y.left&&(oe-=.5*Y.left),U(Y.bottom,oe,fe,D,I)),Y.left&&(oe=X.x,fe=X.y,D=X.x,I=X.y+z.height,Y.top&&(fe-=.5*Y.top),Y.bottom&&(I+=.5*Y.bottom),U(Y.left,oe,fe,D,I)),Y.right&&(oe=X.x+z.width,fe=X.y,D=X.x+z.width,I=X.y+z.height,Y.top&&(fe-=.5*Y.top),Y.bottom&&(I+=.5*Y.bottom),U(Y.right,oe,fe,D,I));function U(J,Q,de,xe,le){$.getDocument().setLineWidth(J),$.getDocument().line(Q,de,xe,le,"S")}}function R($,z,X,Y){var oe=z.settings.margin.bottom,fe=z.settings.showFoot;return(fe==="everyPage"||fe==="lastPage"&&X)&&(oe+=z.getFootHeight(z.columns)),$.pageSize().height-Y.y-oe}function F($,z,X,Y,oe,fe){oe===void 0&&(oe=[]),fe===void 0&&(fe=!1),$.applyStyles($.userStyles),z.settings.showFoot==="everyPage"&&!fe&&z.foot.forEach(function(I){return B($,z,I,Y,oe)}),z.callEndPageHooks($,Y);var D=z.settings.margin;(0,d.addTableBorder)($,z,X,Y),W($),z.pageNumber++,z.pageCount++,Y.x=D.left,Y.y=D.top,X.y=D.top,z.callWillDrawPageHooks($,Y),z.settings.showHead==="everyPage"&&(z.head.forEach(function(I){return B($,z,I,Y,oe)}),$.applyStyles($.userStyles))}c.addPage=F;function W($){var z=$.pageNumber();$.setPage(z+1);var X=$.pageNumber();return X===z?($.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function h(p,m,x){var g;x===void 0&&(x={});var b=(0,d.getPageAvailableWidth)(p,m),y=new Map,w=[],j=[],_=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?_=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(_=[m.settings.horizontalPageBreakRepeat]),_.forEach(function(M){var B=m.columns.find(function(T){return T.dataKey===M||T.index===M});B&&!y.has(B.index)&&(y.set(B.index,!0),w.push(B.index),j.push(m.columns[B.index]),b-=B.wrappedWidth)});for(var S=!0,A=(g=x==null?void 0:x.start)!==null&&g!==void 0?g:0;A<m.columns.length;){if(y.has(A)){A++;continue}var O=m.columns[A].wrappedWidth;if(S||b>=O)S=!1,w.push(A),j.push(m.columns[A]),b-=O;else break;A++}return{colIndexes:w,columns:j,lastIndex:A-1}}function f(p,m){for(var x=[],g=0;g<m.columns.length;g++){var b=h(p,m,{start:g});b.columns.length&&(x.push(b),g=b.lastIndex)}return x}c.calculateAllColumnsCanFitInPage=f},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function h(w,j){f(w,j);var _=[],S=0;j.columns.forEach(function(O){var M=O.getMaxCustomCellWidth(j);M?O.width=M:(O.width=O.wrappedWidth,_.push(O)),S+=O.width});var A=j.getWidth(w.pageSize().width)-S;A&&(A=p(_,A,function(O){return Math.max(O.minReadableWidth,O.minWidth)})),A&&(A=p(_,A,function(O){return O.minWidth})),A=Math.abs(A),!j.settings.horizontalPageBreak&&A>.1/w.scaleFactor()&&(A=A<1?A:Math.round(A),console.warn("Of the table content, ".concat(A," units width could not fit page"))),x(j),g(j,w),m(j)}c.calculateWidths=h;function f(w,j){var _=w.scaleFactor(),S=j.settings.horizontalPageBreak,A=(0,d.getPageAvailableWidth)(w,j);j.allRows().forEach(function(O){for(var M=0,B=j.columns;M<B.length;M++){var T=B[M],E=O.cells[T.index];if(E){var R=j.hooks.didParseCell;j.callCellHooks(w,R,E,O,T,null);var F=E.padding("horizontal");E.contentWidth=(0,d.getStringWidth)(E.text,E.styles,w)+F;var W=(0,d.getStringWidth)(E.text.join(" ").split(/[^\S\u00A0]+/),E.styles,w);if(E.minReadableWidth=W+E.padding("horizontal"),typeof E.styles.cellWidth=="number")E.minWidth=E.styles.cellWidth,E.wrappedWidth=E.styles.cellWidth;else if(E.styles.cellWidth==="wrap"||S===!0)E.contentWidth>A?(E.minWidth=A,E.wrappedWidth=A):(E.minWidth=E.contentWidth,E.wrappedWidth=E.contentWidth);else{var $=10/_;E.minWidth=E.styles.minCellWidth||$,E.wrappedWidth=E.contentWidth,E.minWidth>E.wrappedWidth&&(E.wrappedWidth=E.minWidth)}}}}),j.allRows().forEach(function(O){for(var M=0,B=j.columns;M<B.length;M++){var T=B[M],E=O.cells[T.index];if(E&&E.colSpan===1)T.wrappedWidth=Math.max(T.wrappedWidth,E.wrappedWidth),T.minWidth=Math.max(T.minWidth,E.minWidth),T.minReadableWidth=Math.max(T.minReadableWidth,E.minReadableWidth);else{var R=j.styles.columnStyles[T.dataKey]||j.styles.columnStyles[T.index]||{},F=R.cellWidth||R.minCellWidth;F&&typeof F=="number"&&(T.minWidth=F,T.wrappedWidth=F)}E&&(E.colSpan>1&&!T.minWidth&&(T.minWidth=E.minWidth),E.colSpan>1&&!T.wrappedWidth&&(T.wrappedWidth=E.minWidth))}})}function p(w,j,_){for(var S=j,A=w.reduce(function($,z){return $+z.wrappedWidth},0),O=0;O<w.length;O++){var M=w[O],B=M.wrappedWidth/A,T=S*B,E=M.width+T,R=_(M),F=E<R?R:E;j-=F-M.width,M.width=F}if(j=Math.round(j*1e10)/1e10,j){var W=w.filter(function($){return j<0?$.width>_($):!0});W.length&&(j=p(W,j,_))}return j}c.resizeColumns=p;function m(w){for(var j={},_=1,S=w.allRows(),A=0;A<S.length;A++)for(var O=S[A],M=0,B=w.columns;M<B.length;M++){var T=B[M],E=j[T.index];if(_>1)_--,delete O.cells[T.index];else if(E)E.cell.height+=O.height,_=E.cell.colSpan,delete O.cells[T.index],E.left--,E.left<=1&&delete j[T.index];else{var R=O.cells[T.index];if(!R)continue;if(R.height=O.height,R.rowSpan>1){var F=S.length-A,W=R.rowSpan>F?F:R.rowSpan;j[T.index]={cell:R,left:W,row:O}}}}}function x(w){for(var j=w.allRows(),_=0;_<j.length;_++)for(var S=j[_],A=null,O=0,M=0,B=0;B<w.columns.length;B++){var T=w.columns[B];if(M-=1,M>1&&w.columns[B+1])O+=T.width,delete S.cells[T.index];else if(A){var E=A;delete S.cells[T.index],A=null,E.width=T.width+O}else{var E=S.cells[T.index];if(!E)continue;if(M=E.colSpan,O=0,E.colSpan>1){A=E,O+=T.width;continue}E.width=T.width+O}}}function g(w,j){for(var _={count:0,height:0},S=0,A=w.allRows();S<A.length;S++){for(var O=A[S],M=0,B=w.columns;M<B.length;M++){var T=B[M],E=O.cells[T.index];if(E){j.applyStyles(E.styles,!0);var R=E.width-E.padding("horizontal");if(E.styles.overflow==="linebreak")E.text=j.splitTextToSize(E.text,R+1/j.scaleFactor(),{fontSize:E.styles.fontSize});else if(E.styles.overflow==="ellipsize")E.text=b(E.text,R,E.styles,j,"...");else if(E.styles.overflow==="hidden")E.text=b(E.text,R,E.styles,j,"");else if(typeof E.styles.overflow=="function"){var F=E.styles.overflow(E.text,R);typeof F=="string"?E.text=[F]:E.text=F}E.contentHeight=E.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var W=E.contentHeight/E.rowSpan;E.rowSpan>1&&_.count*_.height<W*E.rowSpan?_={height:W,count:E.rowSpan}:_&&_.count>0&&_.height>W&&(W=_.height),W>O.height&&(O.height=W)}}_.count--}}function b(w,j,_,S,A){return w.map(function(O){return y(O,j,_,S,A)})}c.ellipsize=b;function y(w,j,_,S,A){var O=1e4*S.scaleFactor();if(j=Math.ceil(j*O)/O,j>=(0,d.getStringWidth)(w,_,S))return w;for(;j<(0,d.getStringWidth)(w+A,_,S)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+A}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},i={};function s(l){var c=i[l];if(c!==void 0)return c.exports;var u=i[l]={exports:{}};return n[l].call(u.exports,u,u.exports,s),u.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=s(340),u=s(776),d=s(664),h=s(972),f=s(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return f.Table}});var p=s(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var m=s(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return m.Row}});function x(j){(0,c.default)(j)}l.applyPlugin=x;function g(j,_){var S=(0,u.parseInput)(j,_),A=(0,h.createTable)(j,S);(0,d.drawTable)(j,A)}function b(j,_){var S=(0,u.parseInput)(j,_);return(0,h.createTable)(j,S)}l.__createTable=b;function y(j,_){(0,d.drawTable)(j,_)}l.__drawTable=y;try{var w=s(964);w.jsPDF&&(w=w.jsPDF),x(w)}catch{}l.default=g}(),o}()})})(H2e);const V2e=({isOpen:t,onClose:e,onImportMail:r,onScanQR:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 w-full max-w-md relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300","aria-label":"Fermer",children:a.jsx(yt,{size:20,"aria-hidden":"true"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Importer des Analyses"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:()=>{const i=document.createElement("input");i.type="file",i.accept=".eml,.msg",i.onchange=s=>{var l;const o=(l=s.target.files)==null?void 0:l[0];o&&r(o)},i.click()},children:[a.jsx(Ta,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:"Email du Laboratoire"}),a.jsx("p",{className:"text-sm text-white/60",children:"Importer directement depuis l'email"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:n,children:[a.jsx(j0,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:"Scanner QR Code"}),a.jsx("p",{className:"text-sm text-white/60",children:"Scanner le code depuis le rapport"})]})]})]})]})}):null,G2e=[{id:"A123",date:"2025-03-15",bassinId:"B001",laboratoire:"Labya",status:"conforme",technicien:"Jean Dupont",nextAnalyseDate:"2025-03-22",parameters:[{name:"pH",value:7.8,unit:"",threshold:8.5,status:"normal"},{name:"Température",value:12.5,unit:"°C",threshold:15,status:"normal"},{name:"Oxygène dissous",value:8.2,unit:"mg/L",threshold:7,status:"normal"},{name:"Salinité",value:33.5,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:2.8,unit:"NTU",threshold:5,status:"normal"},{name:"E. coli",value:45,unit:"UFC/100mL",threshold:230,status:"normal"}]},{id:"A124",date:"2025-03-15",bassinId:"B002",laboratoire:"Labya",status:"en-attente",technicien:"Marie Martin",parameters:[{name:"pH",value:8.3,unit:"",threshold:8.5,status:"warning"},{name:"Température",value:14.8,unit:"°C",threshold:15,status:"warning"},{name:"Oxygène dissous",value:6.8,unit:"mg/L",threshold:7,status:"warning"},{name:"Salinité",value:34.2,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:4.2,unit:"NTU",threshold:5,status:"warning"},{name:"E. coli",value:180,unit:"UFC/100mL",threshold:230,status:"warning"}]}],X2e=()=>{const[t,e]=k.useState(null),[r,n]=k.useState(!1),[i,s]=k.useState(!1),{data:o,isLoading:l}=Nw({queryKey:["analyses"],queryFn:async()=>(await new Promise(m=>setTimeout(m,1e3)),G2e)}),c=async m=>{console.log("Importing from email:",m),n(!1)},u=()=>{n(!1),s(!0)},d=m=>{try{const x=JSON.parse(atob(m.split("/").pop()||""));console.log("QR Code data:",x)}catch(x){console.error("Erreur lors du décodage du QR code:",x)}},h=async()=>{try{const m=new st;m.setFontSize(20),m.setTextColor(44,62,80),m.text("Rapport d'Analyses OYSTER CULT",15,20),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Généré le ${Bt(new Date,"d MMMM yyyy 'à' HH:mm",{locale:gr})}`,15,30);const x=(o==null?void 0:o.map(g=>[Bt(new Date(g.date),"dd/MM/yyyy"),g.bassinId,g.status.charAt(0).toUpperCase()+g.status.slice(1),g.technicien||"-",Bt(new Date(g.nextAnalyseDate||""),"dd/MM/yyyy")]))||[];m.autoTable({startY:40,head:[["Date","Bassin","Statut","Technicien","Prochaine Analyse"]],body:x,theme:"striped",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10}}),o==null||o.forEach((g,b)=>{b>0&&m.addPage();const y=20;m.setFontSize(16),m.setTextColor(44,62,80),m.text(`Détails Analyse - Bassin ${g.bassinId}`,15,y),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Date: ${Bt(new Date(g.date),"d MMMM yyyy",{locale:gr})}`,15,y+10),m.text(`Technicien: ${g.technicien||"-"}`,15,y+20),m.text(`Statut: ${g.status.charAt(0).toUpperCase()+g.status.slice(1)}`,15,y+30);const w=g.parameters.map(j=>[j.name,j.value.toString(),j.unit,j.threshold?j.threshold.toString():"-",j.status.charAt(0).toUpperCase()+j.status.slice(1)]);m.autoTable({startY:y+40,head:[["Paramètre","Valeur","Unité","Seuil","Statut"]],body:w,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10},columnStyles:{0:{cellWidth:40},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:30}}})}),m.save(`analyses_${Bt(new Date,"yyyy-MM-dd")}.pdf`)}catch(m){console.error("Erreur lors de l'export:",m)}},f=m=>{switch(m){case"conforme":return"bg-emerald-500/20 text-emerald-400";case"non-conforme":return"bg-red-500/20 text-red-400";default:return"bg-amber-500/20 text-amber-400"}},p=m=>{switch(m){case"normal":return"text-emerald-400";case"warning":return"text-amber-400";case"critical":return"text-red-400";default:return"text-white"}};return a.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[a.jsx(Kj,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Analyses"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer des analyses",children:[a.jsx(Ls,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Importer Analyses"})]}),a.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter en PDF",children:[a.jsx(is,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Exporter PDF"})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:a.jsx(ks,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Résultats d'analyses"}),a.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",Bt(new Date,"d MMMM yyyy 'à' HH:mm",{locale:gr})]})]})]}),l?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"w-10 h-10 border-t-2 border-b-2 border-cyan-400 rounded-full animate-spin"})}):(o==null?void 0:o.length)===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:a.jsx(Kj,{className:"w-8 h-8 text-cyan-400","aria-hidden":"true"})}),a.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Aucune analyse disponible"}),a.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez par importer des résultats d'analyses de laboratoire."}),a.jsxs("button",{onClick:()=>n(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer votre première analyse",children:[a.jsx(Ls,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Importer une analyse"})]})]}):a.jsx("div",{className:"space-y-4",children:o==null?void 0:o.map(m=>a.jsxs("div",{className:`p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 transition-all duration-300 ${t===m.id?"shadow-[0_4px_15px_rgba(0,210,200,0.2)]":"shadow-[0_2px_10px_rgba(0,0,0,0.2)]"}`,children:[a.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>e(t===m.id?null:m.id),children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${f(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-white",children:["Bassin ",m.bassinId]}),a.jsxs("p",{className:"text-sm text-white/60",children:[Bt(new Date(m.date),"d MMMM yyyy",{locale:gr}),m.technicien?` • ${m.technicien}`:""]})]})]}),a.jsx("button",{"aria-label":t===m.id?"Masquer les détails":"Afficher les détails",className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",children:t===m.id?a.jsx(kc,{className:"w-5 h-5 text-white/60","aria-hidden":"true"}):a.jsx(Bd,{className:"w-5 h-5 text-white/60","aria-hidden":"true"})})]}),t===m.id&&a.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-white/10",children:[a.jsx("h4",{className:"font-medium text-white mb-3",children:"Paramètres analysés"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m.parameters.map((x,g)=>a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-white/80",children:x.name}),a.jsxs("p",{className:`text-lg font-medium ${p(x.status)}`,children:[x.value," ",x.unit]})]}),x.threshold&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-white/60",children:"Seuil"}),a.jsxs("p",{className:"text-sm text-white/80",children:[x.threshold," ",x.unit]})]})]},g))}),m.nextAnalyseDate&&a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/60",children:[a.jsx("span",{children:"Prochaine analyse prévue le:"}),a.jsx("span",{className:"text-white",children:Bt(new Date(m.nextAnalyseDate),"d MMMM yyyy",{locale:gr})})]})]})]},m.id))})]})]}),a.jsx(sr,{children:r&&a.jsx(V2e,{isOpen:r,onClose:()=>n(!1),onImportMail:c,onScanQR:u})}),a.jsx(sr,{children:i&&a.jsx(q2e,{onClose:()=>s(!1),onScanSuccess:d})})]})},xn={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},Y2e={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},Wb={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}},K2e=()=>{const[t,e]=k.useState(!0),[r,n]=k.useState(!1),[i,s]=k.useState(!1),[o,l]=k.useState([{id:"1",name:"Caméra Entrée",ip:"192.168.1.100:554",status:"online",lastSeen:"24/03 17:47",alerts:0},{id:"2",name:"Caméra Bassin #1",ip:"192.168.1.101:554",status:"online",lastSeen:"24/03 17:50",alerts:2},{id:"3",name:"Caméra Bassin #2",ip:"192.168.1.102:554",status:"offline",lastSeen:"23/03 14:33",alerts:0},{id:"4",name:"Caméra Zone de Stockage",ip:"192.168.1.103:554",status:"online",lastSeen:"24/03 17:49",alerts:1}]);k.useEffect(()=>{const u=()=>{s(window.innerWidth<=768)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),k.useEffect(()=>{const u=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(u)},[]);const c=u=>{u.preventDefault();const d=new FormData(u.currentTarget),h={id:`${o.length+1}`,name:d.get("camera-name"),ip:d.get("camera-ip"),status:"online",lastSeen:new Date().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),alerts:0};l([...o,h]),n(!1)};return t?a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-t-cyan-500 border-b-cyan-500 border-l-transparent border-r-transparent rounded-full animate-spin"}),a.jsx("span",{className:"mt-4 text-white/70",children:"Chargement des caméras..."})]})}):a.jsxs(we.div,{initial:"hidden",animate:"visible",variants:Y2e,className:"space-y-6",children:[a.jsx(R0,{icon:a.jsx(gD,{size:28,className:"text-white"}),title:"Surveillance"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[a.jsxs(we.div,{variants:Wb,className:`${xn.container} ${xn.hoverEffect} p-5 space-y-4`,children:[a.jsx("h2",{className:xn.heading,children:"Statistiques surveillance"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:xn.subheading,children:"Caméras actives"}),a.jsxs("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:[o.filter(u=>u.status==="online").length,"/",o.length]})]}),a.jsxs("div",{className:"text-2xl font-bold text-white mt-2",children:[Math.round(o.filter(u=>u.status==="online").length/o.length*100),"%"]}),a.jsx("div",{className:xn.progressBar,children:a.jsx(we.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:`${o.filter(u=>u.status==="online").length/o.length*100}%`},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:xn.subheading,children:"Alertes aujourd'hui"}),a.jsx("div",{className:"bg-amber-500/20 text-amber-300 text-xs px-2 py-1 rounded-full",children:o.reduce((u,d)=>u+d.alerts,0)})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:o.reduce((u,d)=>u+d.alerts,0)}),a.jsx("div",{className:xn.progressBar,children:a.jsx(we.div,{className:"h-full bg-gradient-to-r from-amber-500 to-orange-400",initial:{width:0},animate:{width:o.reduce((u,d)=>u+d.alerts,0)>0?"50%":"0%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:xn.subheading,children:"Durée fonctionnement"}),a.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"6j 12h"}),a.jsx("div",{className:xn.progressBar,children:a.jsx(we.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"85%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:xn.subheading,children:"Espace stockage"}),a.jsx("div",{className:"bg-cyan-500/20 text-cyan-300 text-xs px-2 py-1 rounded-full",children:"84%"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"758.4 Go"}),a.jsx("div",{className:xn.progressBar,children:a.jsx(we.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-400",initial:{width:0},animate:{width:"84%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),a.jsxs(we.div,{variants:Wb,className:`${xn.container} ${xn.hoverEffect} p-5`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:xn.heading,children:"Caméras de surveillance"}),a.jsxs("button",{onClick:()=>n(!0),className:"px-3 py-1.5 bg-[rgba(0,128,128,0.3)] hover:bg-[rgba(0,128,128,0.4)] rounded-lg text-sm text-white flex items-center transition-all shadow-[rgba(0,0,0,0.15)_0px_4px_8px,rgba(0,210,200,0.1)_0px_0px_3px_inset] min-w-[44px] min-h-[44px]","aria-label":"Ajouter une caméra",children:[a.jsx(Mt,{size:16,className:"mr-2"}),"Ajouter"]})]}),a.jsx("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:o.map(u=>a.jsxs("div",{className:"rounded-lg backdrop-blur-sm bg-[rgba(0,40,80,0.2)] border border-white/10 transition-all duration-200 hover:border-cyan-500/30 p-4 flex flex-col focus-visible:ring-2 focus-visible:ring-cyan-500/50 focus:outline-none",tabIndex:0,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:u.name}),a.jsx("p",{className:"text-white/60 text-sm",children:u.ip}),a.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",u.lastSeen]})]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${u.status==="online"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:u.status==="online"?"Connecté":"Déconnecté"})]}),a.jsxs("div",{className:"bg-[rgba(0,20,40,0.3)] rounded-lg h-24 overflow-hidden relative",children:[u.status==="online"?a.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url('/OYSTERCULT/images/camera-feed-${u.id}.jpg')`}}):a.jsxs("div",{className:"w-full h-full flex items-center justify-center text-white/60",children:[a.jsx(Rd,{className:"mr-2 opacity-50",size:18}),"Signal perdu"]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("span",{className:"text-xs text-white/80 bg-black/40 px-1.5 py-0.5 rounded text-right",children:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})})})]}),a.jsxs("div",{className:"flex justify-between gap-2 mt-3",children:[a.jsxs("button",{className:"flex-1 bg-[rgba(0,80,110,0.3)] hover:bg-[rgba(0,90,125,0.4)] text-white py-1.5 px-3 rounded-lg flex items-center justify-center text-sm transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-w-[44px] min-h-[44px]","aria-label":`Voir le flux de ${u.name}`,children:[a.jsx(mo,{size:16,className:"mr-2"}),"Voir le flux"]}),a.jsx("button",{className:"bg-[rgba(180,40,40,0.2)] hover:bg-[rgba(180,40,40,0.3)] text-red-300 p-1.5 rounded-lg flex items-center justify-center transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500/50 min-w-[44px] min-h-[44px]","aria-label":`Supprimer ${u.name}`,children:a.jsx(ri,{size:16})})]})]},u.id))})]}),a.jsxs(we.div,{variants:Wb,className:`${xn.container} ${xn.hoverEffect} p-5`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:xn.heading,children:"Journal d'alertes"}),a.jsx("div",{className:"text-sm text-white/60",children:"Aujourd'hui, 24 mars"})]}),a.jsxs("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:[[{id:1,camera:"Caméra Bassin #1",time:"16:05",message:"Mouvement détecté",level:"warning"},{id:2,camera:"Caméra Zone de Stockage",time:"15:32",message:"Objet retiré",level:"warning"},{id:3,camera:"Caméra Bassin #1",time:"14:47",message:"Niveau d'eau bas",level:"error"},{id:4,camera:"Caméra Bassin #2",time:"09:15",message:"Connexion perdue",level:"error"},{id:5,camera:"Caméra Entrée",time:"08:01",message:"Mouvement détecté",level:"info"}].map(u=>a.jsxs("div",{className:"p-3 rounded-lg flex items-center bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,25,45,0.4)] transition-colors",children:[a.jsx("div",{className:`
                  w-10 h-10 rounded-full mr-3 flex items-center justify-center
                  ${u.level==="error"?"bg-red-500/20 text-red-300":u.level==="warning"?"bg-amber-500/20 text-amber-300":"bg-blue-500/20 text-blue-300"}
                `,children:a.jsx(qn,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-white",children:u.camera}),a.jsx("span",{className:"text-sm text-white/40",children:u.time})]}),a.jsx("p",{className:"text-sm mt-0.5 text-white/70",children:u.message})]})]},u.id)),a.jsx("button",{className:"w-full mt-4 bg-[rgba(0,40,80,0.2)] hover:bg-[rgba(0,50,90,0.3)] text-white/80 py-2 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-h-[44px]","aria-label":"Voir toutes les alertes",children:"Voir toutes les alertes"})]})]})]}),a.jsx(sr,{children:r&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:[a.jsx(we.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>n(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),a.jsx(we.div,{className:`relative w-full max-w-md rounded-xl ${xn.container} overflow-hidden`,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:`text-xl ${xn.heading}`,children:"Ajouter une caméra"}),a.jsx("button",{onClick:()=>n(!1),className:"rounded-full p-1.5 bg-[rgba(0,40,80,0.3)] hover:bg-[rgba(0,50,90,0.4)] transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50","aria-label":"Fermer",children:a.jsx(yt,{size:18})})]}),a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"camera-name",className:"block text-sm font-medium mb-1 text-white/80",children:"Nom"}),a.jsx("input",{id:"camera-name",name:"camera-name",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Caméra Entrée",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"camera-location",className:"block text-sm font-medium mb-1 text-white/80",children:"Emplacement"}),a.jsx("input",{id:"camera-location",name:"camera-location",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Entrée principale"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"camera-ip",className:"block text-sm font-medium mb-1 text-white/80",children:"Adresse IP"}),a.jsx("input",{id:"camera-ip",name:"camera-ip",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"192.168.1.100:554",pattern:"^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\:[0-9]{1,5})?$",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"camera-type",className:"block text-sm font-medium mb-1 text-white/80",children:"Type"}),a.jsxs("select",{id:"camera-type",name:"camera-type",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",required:!0,children:[a.jsx("option",{value:"ip",children:"Caméra IP"}),a.jsx("option",{value:"rtsp",children:"RTSP Stream"}),a.jsx("option",{value:"hls",children:"HLS Stream"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2.5 bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,30,50,0.4)] border border-white/10 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white/80 min-h-[44px]",children:"Annuler"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white font-medium min-h-[44px]",children:"Ajouter"})]})]})]})})]})})]})},bw=k.forwardRef(({children:t,className:e,variant:r="default",noPadding:n,fullWidth:i,...s},o)=>{const l="rounded-lg backdrop-blur-sm bg-black/40 border transition-all duration-200",c={default:"border-white/10",outlined:"border-white/20 shadow-sm",elevated:"border-white/10 shadow-lg"},u=n?"p-0":"p-6",d=i?"w-full":"";return a.jsx(we.div,{ref:o,className:ti(l,c[r],u,d,"focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50",e),...s,whileHover:{scale:1.005},transition:{type:"spring",duration:.3,...s.transition},style:{WebkitBackdropFilter:"blur(8px)",...s.style},tabIndex:s.tabIndex||0,children:t})});bw.displayName="Card";const Zo={success:t=>{console.log(`Success: ${t}`);const e=document.createElement("div");e.className="fixed top-4 right-4 bg-green-500 text-white p-4 rounded shadow-lg z-50 flex items-center",e.setAttribute("role","alert"),e.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>`,e.appendChild(r);const n=document.createElement("span");n.textContent=t,e.appendChild(n),document.body.appendChild(e),e.style.opacity="0",e.style.transform="translateY(-20px)",e.style.transition="all 0.3s ease-in-out",e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0)",setTimeout(()=>{e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>e.remove(),300)},3e3)},error:t=>{console.error(`Error: ${t}`);const e=document.createElement("div");e.className="fixed top-4 right-4 bg-red-500 text-white p-4 rounded shadow-lg z-50 flex items-center",e.setAttribute("role","alert"),e.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>`,e.appendChild(r);const n=document.createElement("span");n.textContent=t,e.appendChild(n),document.body.appendChild(e),e.style.opacity="0",e.style.transform="translateY(-20px)",e.style.transition="all 0.3s ease-in-out",e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0)",setTimeout(()=>{e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>e.remove(),300)},4e3)},info:t=>{console.info(`Info: ${t}`);const e=document.createElement("div");e.className="fixed top-4 right-4 bg-blue-500 text-white p-4 rounded shadow-lg z-50 flex items-center",e.setAttribute("role","alert"),e.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
    </svg>`,e.appendChild(r);const n=document.createElement("span");n.textContent=t,e.appendChild(n),document.body.appendChild(e),e.style.opacity="0",e.style.transform="translateY(-20px)",e.style.transition="all 0.3s ease-in-out",e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0)",setTimeout(()=>{e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>e.remove(),300)},3e3)},warning:t=>{console.warn(`Warning: ${t}`);const e=document.createElement("div");e.className="fixed top-4 right-4 bg-yellow-500 text-white p-4 rounded shadow-lg z-50 flex items-center",e.setAttribute("role","alert"),e.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
    </svg>`,e.appendChild(r);const n=document.createElement("span");n.textContent=t,e.appendChild(n),document.body.appendChild(e),e.style.opacity="0",e.style.transform="translateY(-20px)",e.style.transition="all 0.3s ease-in-out",window.matchMedia("(prefers-reduced-motion: reduce)").matches?(e.style.opacity="1",e.style.transform="none"):(e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0)"),setTimeout(()=>{e.style.opacity="0",window.matchMedia("(prefers-reduced-motion: reduce)").matches||(e.style.transform="translateY(-20px)"),setTimeout(()=>e.remove(),300)},3e3)}},J2e=()=>{const[t,e]=k.useState(()=>{const g=localStorage.getItem("surveillanceDevices");return g?JSON.parse(g):[{id:"1",name:"Caméra entrée",ipAddress:"192.168.1.100",port:"554",username:"admin",password:"********",isConnected:!0,lastSeen:new Date().toISOString()}]}),[r,n]=k.useState({name:"",ipAddress:"",port:"554",username:"admin",password:""}),[i,s]=k.useState(!1),[o,l]=k.useState(!1),[c,u]=k.useState(!0);k.useEffect(()=>{localStorage.setItem("surveillanceDevices",JSON.stringify(t))},[t]),k.useEffect(()=>{const g=setTimeout(()=>{u(!1)},800);return()=>clearTimeout(g)},[]);const d=(g,b)=>{n({...r,[g]:b})},h=()=>{if(!r.ipAddress||!r.port){Zo.error("Veuillez saisir l'adresse IP et le port");return}l(!0),setTimeout(()=>{l(!1),Math.random()>.2?Zo.success(`Connexion réussie à ${r.ipAddress}:${r.port}`):Zo.error(`Échec de connexion à ${r.ipAddress}:${r.port}`)},1500)},f=()=>{if(!r.name||!r.ipAddress){Zo.error("Veuillez saisir au moins le nom et l'adresse IP");return}const g={...r,id:Date.now().toString(),isConnected:!0,lastSeen:new Date().toISOString()};e([...t,g]),n({name:"",ipAddress:"",port:"554",username:"admin",password:""}),s(!1),Zo.success(`${g.name} ajouté avec succès`)},p=g=>{const b=t.find(y=>y.id===g);b&&(e(t.filter(y=>y.id!==g)),Zo.info(`${b.name} supprimé`))},m=g=>{Zo.info(`Ouverture du flux de ${g.name}...`),setTimeout(()=>{const b=t.map(y=>y.id===g.id?{...y,lastSeen:new Date().toISOString()}:y);e(b),Zo.success(`Flux de ${g.name} prêt à être affiché`)},1200)},x=g=>{if(!g)return"Jamais";const b=new Date(g);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(b)};return c?a.jsx("div",{className:"container mx-auto p-4 max-w-4xl flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Kb,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-cyan-400"}),a.jsx("p",{className:"text-lg text-white/70",children:"Chargement des appareils de surveillance..."})]})}):a.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Surveillance Vidéo"}),a.jsxs(xr,{onClick:()=>s(!i),"aria-label":i?"Annuler l'ajout d'une caméra":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[i?a.jsx(yt,{className:"mr-2"}):a.jsx(Mt,{className:"mr-2"}),i?"Annuler":"Ajouter une caméra"]})]}),i&&a.jsxs(bw,{className:"p-4 mb-6 border border-blue-500/30",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Connecter un nouvel appareil"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx(As,{htmlFor:"name",children:"Nom de l'appareil"}),a.jsx(wt,{id:"name",value:r.name,onChange:g=>d("name",g.target.value),placeholder:"Caméra entrée",className:"mt-1","aria-required":"true"})]}),a.jsxs("div",{children:[a.jsx(As,{htmlFor:"ipAddress",children:"Adresse IP"}),a.jsx(wt,{id:"ipAddress",value:r.ipAddress,onChange:g=>d("ipAddress",g.target.value),placeholder:"192.168.1.100",className:"mt-1","aria-required":"true"})]}),a.jsxs("div",{children:[a.jsx(As,{htmlFor:"port",children:"Port"}),a.jsx(wt,{id:"port",value:r.port,onChange:g=>d("port",g.target.value),placeholder:"554",className:"mt-1","aria-required":"true"})]}),a.jsxs("div",{children:[a.jsx(As,{htmlFor:"username",children:"Nom d'utilisateur"}),a.jsx(wt,{id:"username",value:r.username,onChange:g=>d("username",g.target.value),placeholder:"admin",className:"mt-1",autoComplete:"username"})]}),a.jsxs("div",{children:[a.jsx(As,{htmlFor:"password",children:"Mot de passe"}),a.jsx(wt,{id:"password",type:"password",value:r.password,onChange:g=>d("password",g.target.value),placeholder:"••••••••",autoComplete:"new-password",className:"mt-1"})]}),a.jsxs("div",{className:"flex gap-2 col-span-2 mt-2",children:[a.jsxs(xr,{variant:"outline",onClick:h,disabled:o,"aria-label":"Tester la connexion",className:"min-w-[44px] min-h-[44px]",children:[o?a.jsx(Kb,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(pg,{className:"mr-2 h-4 w-4"}),"Tester la connexion"]}),a.jsxs(xr,{onClick:f,"aria-label":"Ajouter la caméra",className:"min-w-[44px] min-h-[44px]",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Ajouter"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-semibold",children:["Vos appareils (",t.length,")"]}),t.length===0?a.jsxs("div",{className:"text-center p-8 bg-black/20 rounded-lg border border-white/10",children:[a.jsx(Rd,{className:"mx-auto h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-white/70",children:"Aucun appareil de surveillance connecté"}),a.jsx("p",{className:"text-sm text-white/50 mb-4",children:'Cliquez sur "Ajouter une caméra" pour commencer'}),a.jsxs(xr,{onClick:()=>s(!0),"aria-label":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[a.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Ajouter une caméra"]})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:t.map(g=>a.jsxs(bw,{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-lg",children:g.name}),a.jsxs("p",{className:"text-white/60 text-sm",children:[g.ipAddress,":",g.port]}),a.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",x(g.lastSeen)]})]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${g.isConnected?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:g.isConnected?"Connecté":"Déconnecté"})]}),a.jsxs("div",{className:"mt-auto flex gap-2 pt-4",children:[a.jsxs(xr,{variant:"outline",className:"flex-1 min-w-[44px] min-h-[44px]",onClick:()=>m(g),"aria-label":`Voir le flux de ${g.name}`,children:[a.jsx(mo,{className:"mr-2 h-4 w-4"}),"Voir"]}),a.jsx(xr,{variant:"outline",className:"bg-red-500/10 hover:bg-red-500/20 text-red-300 min-w-[44px] min-h-[44px]",onClick:()=>p(g.id),"aria-label":`Supprimer ${g.name}`,children:a.jsx(ri,{className:"h-4 w-4"})})]})]},g.id))})]})]})},Q2e=new IC("https://cool-otter-362.convex.cloud");function Z2e(){const t=ha(),e=b0(),[r,n]=k.useState(!1),[i,s]=k.useState(!1),[o,l]=k.useState(!1),c=k.useRef(null),[u,d]=k.useState(!1),[h,f]=k.useState(!1),{totalUnreadCount:p,markAsRead:m}=XL();k.useEffect(()=>{const g=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;d(g),g&&document.body.classList.add("ios-device")},[]),k.useEffect(()=>{const g=()=>{f(window.innerWidth<=768)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),k.useEffect(()=>{e.pathname.includes("/network/messages")||(c.current=e.pathname)},[e.pathname]);const x=()=>{e.pathname.includes("/network/messages")?t(c.current||"/dashboard"):t("/network/messages")};return a.jsxs(a.Fragment,{children:[a.jsx(G7,{onShowMobileMenu:()=>n(!0),onToggleNotifications:()=>s(!i),onShowEmergency:()=>l(!0),onEmergencyClick:()=>l(!0),onToggleMessages:x,unreadMessagesCount:p}),a.jsxs("div",{className:"flex min-h-screen h-full",children:[a.jsx("button",{className:"fixed top-6 left-6 z-50 md:hidden flex items-center justify-center w-14 h-14 rounded-lg shadow-lg transition-all duration-200",onClick:()=>n(!0),"aria-label":"Ouvrir le menu",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(0, 210, 200, 0.25) 0px 0px 15px inset",WebkitTapHighlightColor:"transparent",transform:"translateZ(0)",willChange:"transform"},children:a.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"24px",height:"24px",filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.4))"},children:[a.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})}),a.jsx(Y7,{showMobileMenu:r,onCloseMobileMenu:()=>n(!1),onEmergencyClick:()=>l(!0),onToggleMessages:x,onToggleNotifications:()=>s(!0)}),a.jsx("div",{className:`
            flex-1 pt-16 md:pt-16 
            pb-4 
            px-4 md:px-6 lg:px-8
            ml-0 lg:ml-[4.5rem] transition-all duration-300
            min-h-screen
          `,style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",willChange:"transform",transform:"translate3d(0,0,0)",position:"fixed",inset:"0",width:"100%",height:"100%",overflow:h&&e.pathname.endsWith("/dashboard")?"hidden":"auto"},children:a.jsx("main",{className:`flex-1 p-6 pt-12 ${e.pathname.endsWith("/dashboard")?"h-full":"h-[calc(100%-80px)]"} ${h&&e.pathname.endsWith("/dashboard")?"overflow-hidden":""}`,children:a.jsxs("div",{className:`max-w-7xl mx-auto h-full outlet-container ${e.pathname.includes("/tasks")&&!h?"mt-[50px]":""}`,style:{minHeight:"calc(100% - 40px)"},children:[a.jsx(jD,{}),a.jsx("div",{style:{height:"40px"}})]})})})]}),a.jsxs(sr,{children:[i&&a.jsx(BL,{onClose:()=>s(!1)}),o&&a.jsx(WL,{isOpen:o,onClose:()=>l(!1)})]}),a.jsx(VL,{})]})}function ewe(){const t=b0();ha();const e=localStorage.getItem("isAuthenticated")==="true";return t.pathname,a.jsx("div",{className:"min-h-screen w-screen h-screen fixed inset-0 overflow-hidden",children:a.jsxs(wD,{children:[a.jsx(Rt,{path:"/auth",element:a.jsx(YL,{})}),a.jsx(Rt,{path:"/surveillance/simple",element:a.jsx(K2e,{})}),e?a.jsxs(Rt,{element:a.jsx(Z2e,{}),children:[a.jsx(Rt,{path:"/",element:a.jsx(vv,{to:"/dashboard",replace:!0})}),a.jsx(Rt,{path:"/dashboard",element:a.jsx($ue,{})}),a.jsx(Rt,{path:"/stocks",element:a.jsx(r0e,{})}),a.jsx(Rt,{path:"/stock/:id",element:a.jsx(u0e,{})}),a.jsx(Rt,{path:"/tables/:id",element:a.jsx(Ppe,{})}),a.jsx(Rt,{path:"/accounting",element:a.jsx(m0e,{})}),a.jsx(Rt,{path:"/invoices",element:a.jsx(y0e,{})}),a.jsx(Rt,{path:"/hr",element:a.jsx(I0e,{})}),a.jsx(Rt,{path:"/network",element:a.jsx(K0e,{})}),a.jsx(Rt,{path:"/network/messages",element:a.jsx(I2e,{})}),a.jsx(Rt,{path:"/config",element:a.jsx(JP,{})}),a.jsx(Rt,{path:"/notifications",element:a.jsx(bpe,{})}),a.jsx(Rt,{path:"/tasks",element:a.jsx(Ope,{})}),a.jsx(Rt,{path:"/traceability",element:a.jsx(Sve,{})}),a.jsx(Rt,{path:"/traceability/storage-locations",element:a.jsx(D2e,{})}),a.jsx(Rt,{path:"/traceability/market-purchases",element:a.jsx(L2e,{})}),a.jsx(Rt,{path:"/traceability/invoices-delivery-notes",element:a.jsx(R2e,{})}),a.jsx(Rt,{path:"/traceability/batches",element:a.jsx(U2e,{})}),a.jsx(Rt,{path:"/traceability/batch-history",element:a.jsx($2e,{searchQuery:""})}),a.jsx(Rt,{path:"/traceability/purification-pools",element:a.jsx(z2e,{})}),a.jsx(Rt,{path:"/sales",element:a.jsx(Ove,{})}),a.jsx(Rt,{path:"/purchases",element:a.jsx(Mve,{})}),a.jsx(Rt,{path:"/profile",element:a.jsx(Hve,{})}),a.jsx(Rt,{path:"/shop",element:a.jsx(Wve,{})}),a.jsx(Rt,{path:"/suppliers",element:a.jsx(obe,{})}),a.jsx(Rt,{path:"/digital-vault",element:a.jsx(k2e,{})}),a.jsx(Rt,{path:"/suppliers/:supplierId/catalog",element:a.jsx(lbe,{})}),a.jsx(Rt,{path:"/suppliers/orders",element:a.jsx(g2e,{})}),a.jsx(Rt,{path:"/surveillance",element:a.jsx(J2e,{})}),a.jsx(Rt,{path:"/analyses",element:a.jsx(X2e,{})}),a.jsx(Rt,{path:"*",element:a.jsx(vv,{to:"/dashboard",replace:!0})})]}):a.jsx(Rt,{path:"*",element:a.jsx(vv,{to:"/auth",replace:!0})})]})})}function twe(){const t=new vD;return a.jsx(DC,{client:Q2e,children:a.jsxs(bD,{client:t,children:[a.jsx(yD,{basename:"",children:a.jsx(ewe,{})}),a.jsx(h7,{position:"bottom-right"})]})})}const rwe=new IC("https://cool-otter-362.convex.cloud"),YT=document.getElementById("root");if(!YT)throw new Error("Root element not found");MC(YT).render(a.jsx(k.StrictMode,{children:a.jsx(DC,{client:rwe,children:a.jsx(twe,{})})}));export{or as _};
//# sourceMappingURL=index-XLir8866.js.map
