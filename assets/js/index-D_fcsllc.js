const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.es-DUXxOsLc.js","./vendor-C02aG_so.js","./browser-CFIGawOg.js"])))=>i.map(i=>d[i]);
var tV=Object.defineProperty;var rV=(e,t,r)=>t in e?tV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _t=(e,t,r)=>rV(e,typeof t!="symbol"?t+"":t,r);import{r as jS,a as k,g as nn,R as K,j as s,A as _r,m as je,X as zt,T as nV,b as cd,M as na,I as W0,P as SS,C as ta,c as jn,d as Oa,e as uf,f as V0,H as su,h as ek,u as Is,i as Hp,B as SM,k as e1,l as aV,L as tk,n as vs,o as rk,p as AS,q as iV,S as Qn,s as m0,G as df,t as rp,D as Uh,v as AM,w as sV,U as xs,x as t1,y as Wp,z as Xa,E as Ka,F as Qa,J as kN,K as co,N as Ci,O as oV,W as lV,Q as CM,V as Li,Y as eh,Z as cV,_ as uV,$ as dV,a0 as fV,a1 as hV,a2 as uo,a3 as pV,a4 as to,a5 as ji,a6 as Xu,a7 as Bc,a8 as TN,a9 as q2,aa as G2,ab as fb,ac as ON,ad as EM,ae as ff,af as Fo,ag as qa,ah as kM,ai as TM,aj as mV,ak as nk,al as xV,am as gV,an as vV,ao as bV,ap as CS,aq as gr,ar as qi,as as PN,at as ak,au as ig,av as yV,aw as OM,ax as PM,ay as DM,az as hb,aA as Ho,aB as ao,aC as wV,aD as _V,aE as dw,aF as ES,aG as DN,aH as Wo,aI as IN,aJ as NV,aK as jV,aL as IM,aM as x0,aN as Y2,aO as qc,aP as ik,aQ as sk,aR as hf,aS as ok,aT as MM,aU as FM,aV as SV,aW as AV,aX as sg,aY as fw,aZ as kS,a_ as MN,a$ as RM,b0 as LM,b1 as CV,b2 as pf,b3 as BM,b4 as pc,b5 as EV,b6 as pb,b7 as kV,b8 as $M,b9 as TV,ba as zM,bb as TS,bc as kx,bd as OS,be as OV,bf as PV,bg as DV,bh as Vp,bi as X2,bj as Os,bk as hw,bl as UM,bm as IV,bn as MV,bo as FV,bp as lk,bq as RV,br as og,bs as PS,bt as LV,bu as BV,bv as $V,bw as zV,bx as UV,by as HV,bz as ck,bA as uk,bB as WV,bC as HM,bD as VV,bE as WM,bF as qV,bG as GV,bH as YV,bI as vr,bJ as k_,bK as XV}from"./vendor-C02aG_so.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var VM,dk=jS;VM=dk.createRoot,dk.hydrateRoot;let KV={data:""},QV=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||KV,JV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ZV=/\/\*[^]*?\*\/|  +/g,fk=/\n+/g,rd=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?rd(o,i):i+"{"+rd(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=rd(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=rd.p?rd.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Ic={},qM=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+qM(e[r]);return t}return e},eq=(e,t,r,n,a)=>{let i=qM(e),o=Ic[i]||(Ic[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Ic[o]){let c=i!==e?e:(u=>{let d,f,h=[{}];for(;d=JV.exec(u.replace(ZV,""));)d[4]?h.shift():d[3]?(f=d[3].replace(fk," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(fk," ").trim();return h[0]})(e);Ic[o]=rd(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Ic.g?Ic.g:null;return r&&(Ic.g=Ic[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Ic[o],t,n,l),o},tq=(e,t,r)=>e.reduce((n,a,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":rd(l,""):l===!1?"":l}return n+a+(o??"")},"");function pw(e){let t=this||{},r=e.call?e(t.p):e;return eq(r.unshift?r.raw?tq(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,QV(t.target),t.g,t.o,t.k)}let GM,FN,RN;pw.bind({g:1});let ou=pw.bind({k:1});function rq(e,t,r,n){rd.p=t,GM=e,FN=r,RN=n}function Td(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:FN&&FN()},l),r.o=/ *go\d+/.test(c),l.className=pw.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),RN&&u[0]&&RN(l),GM(u,l)}return a}}var nq=e=>typeof e=="function",mb=(e,t)=>nq(e)?e(t):e,aq=(()=>{let e=0;return()=>(++e).toString()})(),YM=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),iq=20,XM=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,iq)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return XM(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},K2=[],g0={toasts:[],pausedAt:void 0},mf=e=>{g0=XM(g0,e),K2.forEach(t=>{t(g0)})},sq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oq=(e={})=>{let[t,r]=k.useState(g0),n=k.useRef(g0);k.useEffect(()=>(n.current!==g0&&r(g0),K2.push(r),()=>{let i=K2.indexOf(r);i>-1&&K2.splice(i,1)}),[]);let a=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||sq[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:a}},lq=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||aq()}),lg=e=>(t,r)=>{let n=lq(t,e,r);return mf({type:2,toast:n}),n.id},us=(e,t)=>lg("blank")(e,t);us.error=lg("error");us.success=lg("success");us.loading=lg("loading");us.custom=lg("custom");us.dismiss=e=>{mf({type:3,toastId:e})};us.remove=e=>mf({type:4,toastId:e});us.promise=(e,t,r)=>{let n=us.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?mb(t.success,a):void 0;return i?us.success(i,{id:n,...r,...r==null?void 0:r.success}):us.dismiss(n),a}).catch(a=>{let i=t.error?mb(t.error,a):void 0;i?us.error(i,{id:n,...r,...r==null?void 0:r.error}):us.dismiss(n)}),e};var cq=(e,t)=>{mf({type:1,toast:{id:e,height:t}})},uq=()=>{mf({type:5,time:Date.now()})},Tx=new Map,dq=1e3,fq=(e,t=dq)=>{if(Tx.has(e))return;let r=setTimeout(()=>{Tx.delete(e),mf({type:4,toastId:e})},t);Tx.set(e,r)},hq=e=>{let{toasts:t,pausedAt:r}=oq(e);k.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&us.dismiss(l.id);return}return setTimeout(()=>us.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=k.useCallback(()=>{r&&mf({type:6,time:Date.now()})},[r]),a=k.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,m)=>m<f&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+c,0)},[t]);return k.useEffect(()=>{t.forEach(i=>{if(i.dismissed)fq(i.id,i.removeDelay);else{let o=Tx.get(i.id);o&&(clearTimeout(o),Tx.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:cq,startPause:uq,endPause:n,calculateOffset:a}}},pq=ou`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,mq=ou`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xq=ou`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gq=Td("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${mq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vq=ou`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,bq=Td("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${vq} 1s linear infinite;
`,yq=ou`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wq=ou`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_q=Td("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Nq=Td("div")`
  position: absolute;
`,jq=Td("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Sq=ou`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Aq=Td("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Sq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Cq=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?k.createElement(Aq,null,t):t:r==="blank"?null:k.createElement(jq,null,k.createElement(bq,{...n}),r!=="loading"&&k.createElement(Nq,null,r==="error"?k.createElement(gq,{...n}):k.createElement(_q,{...n})))},Eq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Tq="0%{opacity:0;} 100%{opacity:1;}",Oq="0%{opacity:1;} 100%{opacity:0;}",Pq=Td("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Dq=Td("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Iq=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=YM()?[Tq,Oq]:[Eq(r),kq(r)];return{animation:t?`${ou(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ou(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Mq=k.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?Iq(e.position||t||"top-center",e.visible):{opacity:0},i=k.createElement(Cq,{toast:e}),o=k.createElement(Dq,{...e.ariaProps},mb(e.message,e));return k.createElement(Pq,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):k.createElement(k.Fragment,null,i,o))});rq(k.createElement);var Fq=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=k.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return k.createElement("div",{ref:i,className:t,style:r},a)},Rq=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YM()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},Lq=pw`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Mv=16,Bq=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=hq(r);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Mv,left:Mv,right:Mv,bottom:Mv,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=Rq(d,f);return k.createElement(Fq,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Lq:"",style:h},u.type==="custom"?mb(u.message,u):a?a(u):k.createElement(Mq,{toast:u,position:d}))}))},jh=us;const $q={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},hk=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{($q?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},zq=e=>e?hk(e):hk;var KM={exports:{}},QM={},JM={exports:{}},ZM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=k;function Uq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hq=typeof Object.is=="function"?Object.is:Uq,Wq=np.useState,Vq=np.useEffect,qq=np.useLayoutEffect,Gq=np.useDebugValue;function Yq(e,t){var r=t(),n=Wq({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return qq(function(){a.value=r,a.getSnapshot=t,T_(a)&&i({inst:a})},[e,r,t]),Vq(function(){return T_(a)&&i({inst:a}),e(function(){T_(a)&&i({inst:a})})},[e]),Gq(r),r}function T_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hq(e,r)}catch{return!0}}function Xq(e,t){return t()}var Kq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xq:Yq;ZM.useSyncExternalStore=np.useSyncExternalStore!==void 0?np.useSyncExternalStore:Kq;JM.exports=ZM;var Qq=JM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=k,Jq=Qq;function Zq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eG=typeof Object.is=="function"?Object.is:Zq,tG=Jq.useSyncExternalStore,rG=mw.useRef,nG=mw.useEffect,aG=mw.useMemo,iG=mw.useDebugValue;QM.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=rG(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=aG(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&o.hasValue){var m=o.value;if(a(m,p))return f=m}return f=p}if(m=f,eG(d,p))return m;var x=n(p);return a!==void 0&&a(m,x)?(d=p,m):(d=p,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=tG(e,i[0],i[1]);return nG(function(){o.hasValue=!0,o.value=l},[l]),iG(l),l};KM.exports=QM;var sG=KM.exports;const oG=nn(sG),e7={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},{useDebugValue:lG}=K,{useSyncExternalStoreWithSelector:cG}=oG;let pk=!1;const uG=e=>e;function dG(e,t=uG,r){(e7?"production":void 0)!=="production"&&r&&!pk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pk=!0);const n=cG(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return lG(n),n}const fG=e=>{(e7?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?zq(e):e,r=(n,a)=>dG(t,n,a);return Object.assign(r,t),r},hG=e=>fG,pG={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"};function mG(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const r1=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return r1(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return r1(n)(r)}}}},xG=(e,t)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,a);const d=r1(i.serialize),f=()=>{const g=i.partialize({...n()});let v;const b=d({state:g,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{v=y});if(v)throw v;return b},h=a.setState;a.setState=(g,v)=>{h(g,v),f()};const p=e((...g)=>{r(...g),f()},n,a);let m;const x=()=>{var g;if(!u)return;o=!1,l.forEach(b=>b(n()));const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,n()))||void 0;return r1(u.getItem.bind(u))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var y;return m=i.merge(b,(y=n())!=null?y:p),r(m,!0),f()}).then(()=>{v==null||v(m,void 0),o=!0,c.forEach(b=>b(m))}).catch(b=>{v==null||v(void 0,b)})};return a.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},x(),m||p},gG=(e,t)=>(r,n,a)=>{let i={storage:mG(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,a);const d=()=>{const x=i.partialize({...n()});return u.setItem(i.name,{state:x,version:i.version})},f=a.setState;a.setState=(x,g)=>{f(x,g),d()};const h=e((...x)=>{r(...x),d()},n,a);a.getInitialState=()=>h;let p;const m=()=>{var x,g;if(!u)return;o=!1,l.forEach(b=>{var y;return b((y=n())!=null?y:h)});const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(x=n())!=null?x:h))||void 0;return r1(u.getItem.bind(u))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var y;const[w,N]=b;if(p=i.merge(N,(y=n())!=null?y:h),r(p,!0),w)return d()}).then(()=>{v==null||v(p,void 0),p=n(),o=!0,c.forEach(b=>b(p))}).catch(b=>{v==null||v(void 0,b)})};return a.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||m(),p||h},vG=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((pG?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),xG(e,t)):gG(e,t),bG=vG,Yo=hG()(bG(e=>({session:null,sidebarCollapsed:!1,tasks:[],notifications:[{id:"1",type:"success",title:"Tâche complétée",message:"La maintenance du système de filtration a été effectuée avec succès.",timestamp:new Date(new Date().getTime()-35*6e4).toISOString(),read:!1,important:!0,category:"task",metadata:{taskId:"task-123"}},{id:"2",type:"info",title:"Employé arrivé",message:"Michel Dupont est arrivé sur le site de production à 8:15.",timestamp:new Date(new Date().getTime()-120*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"3",type:"warning",title:"Tâche en cours",message:"Le nettoyage des bassins est en cours depuis plus de 3 heures.",timestamp:new Date(new Date().getTime()-180*6e4).toISOString(),read:!1,important:!0,category:"task"},{id:"4",type:"alert",title:"Attention requise",message:"Niveau d'oxygène bas dans le bassin 3. Vérification requise.",timestamp:new Date(new Date().getTime()-15*6e4).toISOString(),read:!1,important:!0,category:"quality"},{id:"5",type:"success",title:"Livraison reçue",message:"La livraison de nourriture spéciale a été reçue et enregistrée.",timestamp:new Date(new Date().getTime()-240*6e4).toISOString(),read:!0,important:!1,category:"inventory"},{id:"6",type:"info",title:"Équipe de contrôle arrivée",message:"L'équipe de contrôle qualité est arrivée pour l'inspection mensuelle.",timestamp:new Date(new Date().getTime()-90*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"7",type:"success",title:"Mise à jour système",message:"La mise à jour du système de surveillance a été installée avec succès.",timestamp:new Date(new Date().getTime()-320*6e4).toISOString(),read:!0,important:!1,category:"system"},{id:"8",type:"warning",title:"Tâche en retard",message:"Le rapport hebdomadaire de production n'a pas encore été soumis.",timestamp:new Date(new Date().getTime()-420*6e4).toISOString(),read:!1,important:!0,category:"task"}],unreadCount:6,theme:"dark",batches:[{id:"1",batchNumber:"LOT-TEST-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date().toISOString()}],companyInfo:null,users:[],roles:[{id:"1",name:"Administrateur",description:"Gestion complète de l'application"},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches"},{id:"3",name:"Opérateur",description:"Gestion des lots et des tâches quotidiennes"}],suppliers:[],purchases:[],setSession:t=>e({session:t}),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),addNotification:t=>e(r=>{const n={...t,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};return{notifications:[...r.notifications,n],unreadCount:r.unreadCount+1}}),markAsRead:t=>e(r=>({notifications:r.notifications.map(n=>n.id===t?{...n,read:!0}:n),unreadCount:r.unreadCount-1})),markAllAsRead:()=>e(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0})),setTheme:t=>e({theme:t}),toggleTheme:()=>e(t=>({theme:t.theme==="dark"?"light":"dark"})),addBatch:t=>e(r=>({batches:[...r.batches,{...t,id:crypto.randomUUID()}]})),updateBatch:t=>e(r=>({batches:r.batches.map(n=>n.id===t.id?t:n)})),deleteBatch:t=>e(r=>({batches:r.batches.filter(n=>n.id!==t)})),setCompanyInfo:t=>e({companyInfo:t}),addUser:t=>e(r=>({users:[...r.users,{...t,id:crypto.randomUUID()}]})),updateUser:(t,r)=>e(n=>({users:n.users.map(a=>a.id===t?{...a,...r}:a)})),deleteUser:t=>e(r=>({users:r.users.filter(n=>n.id!==t)})),addRole:t=>e(r=>({roles:[...r.roles,{...t,id:crypto.randomUUID()}]})),updateRole:(t,r)=>e(n=>({roles:n.roles.map(a=>a.id===t?{...a,...r}:a)})),deleteRole:t=>e(r=>({roles:r.roles.filter(n=>n.id!==t)})),addSupplier:t=>e(r=>({suppliers:[...r.suppliers,{...t,id:crypto.randomUUID()}]})),updateSupplier:(t,r)=>e(n=>({suppliers:n.suppliers.map(a=>a.id===t?{...a,...r}:a)})),deleteSupplier:t=>e(r=>({suppliers:r.suppliers.filter(n=>n.id!==t)})),addPurchase:t=>e(r=>({purchases:[...r.purchases,{...t,id:crypto.randomUUID()}]})),updatePurchase:(t,r)=>e(n=>({purchases:n.purchases.map(a=>a.id===t?{...a,...r}:a)})),deletePurchase:t=>e(r=>({purchases:r.purchases.filter(n=>n.id!==t)})),resetSession:()=>e({session:null})}),{name:"oyster-cult-storage",partialize:e=>({companyInfo:e.companyInfo,users:e.users,batches:e.batches,theme:e.theme,roles:e.roles,suppliers:e.suppliers,purchases:e.purchases})})),yG=({size:e=60,className:t="",withCircle:r=!1})=>s.jsxs("div",{className:`flex items-center justify-center ${t} ${r?"rounded-full shadow-xl relative overflow-hidden bg-gray-900/50":""}`,style:r?{width:e,height:e}:void 0,children:[r&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-radial from-blue-500/20 via-blue-400/10 to-transparent animate-[pulse_4s_ease-in-out_infinite]"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{style:{transform:"scale(0.65)"},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.9,transform:"translateY(2px)"},children:[s.jsx("path",{d:"M2 4c.6.5 1.2 1 2.5 1C7 5 7 3 9.5 3c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"}),s.jsx("path",{d:"M2 9c.6.5 1.2 1 2.5 1C7 10 7 8 9.5 8c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-white",style:{stroke:"white"}}),s.jsx("path",{d:"M2 14c.6.5 1.2 1 2.5 1C7 15 7 13 9.5 13c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"}),s.jsx("path",{d:"M2 19c.6.5 1.2 1 2.5 1C7 20 7 18 9.5 18c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"})]})})})]}),wG={hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,x:100,transition:{type:"spring",stiffness:300,damping:30}}},_G=({isOpen:e,onClose:t,lastExondationTime:r,nextNotificationTime:n})=>e?s.jsx(_r,{children:s.jsx("div",{className:"fixed inset-0 z-50",onClick:t,children:s.jsxs(je.div,{className:"absolute top-20 right-4 w-80 bg-gradient-to-br from-[rgba(15,23,42,0.9)] to-[rgba(20,100,100,0.9)] backdrop-blur-md rounded-lg p-6 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",initial:"hidden",animate:"visible",exit:"exit",variants:wG,onClick:a=>a.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Table Exondée"}),s.jsx("p",{className:"text-sm text-white/70",children:"Table Nord 128"})]}),s.jsx("button",{onClick:t,className:"p-1 rounded-lg hover:bg-white/10 transition-colors",children:s.jsx(zt,{size:20,className:"text-white/70"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/70",children:"Dernière exondation"}),s.jsx("p",{className:"text-white font-medium",children:r.toLocaleTimeString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/70",children:"Prochaine notification"}),s.jsx("p",{className:"text-white font-medium",children:n.toLocaleTimeString()})]})]})]})})}):null,NG=()=>{const[e,t]=k.useState({hours:24,minutes:0,seconds:0}),[r,n]=k.useState(!1),[a]=k.useState(new Date),[i]=k.useState(new Date(Date.now()+6*60*60*1e3));k.useEffect(()=>{const l=setInterval(()=>{t(c=>{const u=c.hours*3600+c.minutes*60+c.seconds-1;return u<=0?(clearInterval(l),{hours:0,minutes:0,seconds:0}):{hours:Math.floor(u/3600),minutes:Math.floor(u%3600/60),seconds:u%60}})},1e3);return()=>clearInterval(l)},[]);const o=()=>{n(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:o,className:"p-2.5 hover:bg-white/10 rounded-lg text-yellow-400 hover:text-yellow-300 transition-all duration-300 inline-flex items-center justify-center font-medium border border-white/10 hover:border-yellow-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(250,204,21,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(250,204,21,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] focus:outline-none focus:ring-2 focus:ring-yellow-500/40 gap-2",children:[s.jsx(nV,{size:20,className:"text-yellow-400","aria-hidden":"true"}),s.jsxs("span",{className:"font-medium",children:[String(e.hours).padStart(2,"0"),":",String(e.minutes).padStart(2,"0"),":",String(e.seconds).padStart(2,"0")]})]}),s.jsx(_G,{isOpen:r,onClose:()=>n(!1),lastExondationTime:a,nextNotificationTime:i})]})};function dn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function wd(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function jG(e,t){const r=dn(e);return isNaN(t)?wd(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const t7=6048e5,SG=864e5,AG=36e5;let CG={};function xw(){return CG}function ap(e,t){var l,c,u,d;const r=xw(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=dn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function xb(e){return ap(e,{weekStartsOn:1})}function r7(e){const t=dn(e),r=t.getFullYear(),n=wd(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=xb(n),i=wd(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=xb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function gb(e){const t=dn(e);return t.setHours(0,0,0,0),t}function mk(e){const t=dn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function EG(e,t){const r=gb(e),n=gb(t),a=+r-mk(r),i=+n-mk(n);return Math.round((a-i)/SG)}function kG(e){const t=r7(e),r=wd(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),xb(r)}function n7(e,t){const r=t*7;return jG(e,r)}function O_(e,t){const r=dn(e),n=dn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function TG(e,t){const r=gb(e),n=gb(t);return+r==+n}function OG(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function PG(e){if(!OG(e)&&typeof e!="number")return!1;const t=dn(e);return!isNaN(Number(t))}function DG(e,t){const r=dn(e),n=dn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function IG(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function MG(e,t){return+dn(e)-+dn(t)}function FG(e,t,r){const n=MG(e,t)/AG;return IG(r==null?void 0:r.roundingMethod)(n)}function RG(e){const t=dn(e);return t.setHours(23,59,59,999),t}function LG(e){const t=dn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function BG(e){const t=dn(e);return+RG(t)==+LG(t)}function $G(e,t){const r=dn(e),n=dn(t),a=O_(r,n),i=Math.abs(DG(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=O_(r,n)===-a;BG(dn(e))&&i===1&&O_(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function zG(e,t){const r=dn(e.start),n=dn(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(dn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function UG(e){const t=dn(e),r=wd(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function HG(e,t){const r=t==null?void 0:t.weekStartsOn,n=dn(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const WG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VG=(e,t,r)=>{let n;const a=WG[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Gc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const qG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XG={date:Gc({formats:qG,defaultWidth:"full"}),time:Gc({formats:GG,defaultWidth:"full"}),dateTime:Gc({formats:YG,defaultWidth:"full"})},KG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QG=(e,t,r,n)=>KG[e];function Vl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const JG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aY=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},iY={ordinalNumber:aY,era:Vl({values:JG,defaultWidth:"wide"}),quarter:Vl({values:ZG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vl({values:eY,defaultWidth:"wide"}),day:Vl({values:tY,defaultWidth:"wide"}),dayPeriod:Vl({values:rY,defaultWidth:"wide",formattingValues:nY,defaultFormattingWidth:"wide"})};function ql(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?oY(l,f=>f.test(o)):sY(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function sY(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function oY(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function a7(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const lY=/^(\d+)(th|st|nd|rd)?/i,cY=/\d+/i,uY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dY={any:[/^b/i,/^(a|c)/i]},fY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hY={any:[/1/i,/2/i,/3/i,/4/i]},pY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yY={ordinalNumber:a7({matchPattern:lY,parsePattern:cY,valueCallback:e=>parseInt(e,10)}),era:ql({matchPatterns:uY,defaultMatchWidth:"wide",parsePatterns:dY,defaultParseWidth:"any"}),quarter:ql({matchPatterns:fY,defaultMatchWidth:"wide",parsePatterns:hY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ql({matchPatterns:pY,defaultMatchWidth:"wide",parsePatterns:mY,defaultParseWidth:"any"}),day:ql({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:gY,defaultParseWidth:"any"}),dayPeriod:ql({matchPatterns:vY,defaultMatchWidth:"any",parsePatterns:bY,defaultParseWidth:"any"})},wY={code:"en-US",formatDistance:VG,formatLong:XG,formatRelative:QG,localize:iY,match:yY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _Y(e){const t=dn(e);return EG(t,UG(t))+1}function NY(e){const t=dn(e),r=+xb(t)-+kG(t);return Math.round(r/t7)+1}function i7(e,t){var d,f,h,p;const r=dn(e),n=r.getFullYear(),a=xw(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=wd(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ap(o,t),c=wd(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=ap(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function jY(e,t){var l,c,u,d;const r=xw(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=i7(e,t),i=wd(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ap(i,t)}function SY(e,t){const r=dn(e),n=+ap(r,t)-+jY(r,t);return Math.round(n/t7)+1}function Kr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ru={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Kr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Kr(r+1,2)},d(e,t){return Kr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Kr(e.getHours()%12||12,t.length)},H(e,t){return Kr(e.getHours(),t.length)},m(e,t){return Kr(e.getMinutes(),t.length)},s(e,t){return Kr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Kr(a,t.length)}},th={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xk={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ru.y(e,t)},Y:function(e,t,r,n){const a=i7(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Kr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Kr(i,t.length)},R:function(e,t){const r=r7(e);return Kr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Kr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Kr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Kr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ru.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Kr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=SY(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Kr(a,t.length)},I:function(e,t,r){const n=NY(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Kr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ru.d(e,t)},D:function(e,t,r){const n=_Y(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Kr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Kr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Kr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Kr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=th.noon:n===0?a=th.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=th.evening:n>=12?a=th.afternoon:n>=4?a=th.morning:a=th.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ru.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ru.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Kr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Kr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ru.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ru.s(e,t)},S:function(e,t){return Ru.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return vk(n);case"XXXX":case"XX":return n0(n);case"XXXXX":case"XXX":default:return n0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return vk(n);case"xxxx":case"xx":return n0(n);case"xxxxx":case"xxx":default:return n0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gk(n,":");case"OOOO":default:return"GMT"+n0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gk(n,":");case"zzzz":default:return"GMT"+n0(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Kr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Kr(n,t.length)}};function gk(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Kr(i,2)}function vk(e,t){return e%60===0?(e>0?"-":"+")+Kr(Math.abs(e)/60,2):n0(e,t)}function n0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Kr(Math.trunc(n/60),2),i=Kr(n%60,2);return r+a+t+i}const bk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},s7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},AY=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return bk(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",bk(n,t)).replace("{{time}}",s7(a,t))},CY={p:s7,P:AY},EY=/^D+$/,kY=/^Y+$/,TY=["D","DD","YY","YYYY"];function OY(e){return EY.test(e)}function PY(e){return kY.test(e)}function DY(e,t,r){const n=IY(e,t,r);if(console.warn(n),TY.includes(e))throw new RangeError(n)}function IY(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RY=/^'([^]*?)'?$/,LY=/''/g,BY=/[a-zA-Z]/;function Kt(e,t,r){var d,f,h,p,m,x,g,v;const n=xw(),a=(r==null?void 0:r.locale)??n.locale??wY,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=dn(e);if(!PG(l))throw new RangeError("Invalid time value");let c=t.match(FY).map(b=>{const y=b[0];if(y==="p"||y==="P"){const w=CY[y];return w(b,a.formatLong)}return b}).join("").match(MY).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:$Y(b)};if(xk[y])return{isToken:!0,value:b};if(y.match(BY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&PY(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&OY(y))&&DY(y,t,String(e));const w=xk[y[0]];return w(l,y,a.localize,u)}).join("")}function $Y(e){const t=e.match(RY);return t?t[1].replace(LY,"'"):e}function zY(e,t){return n7(e,-t)}const UY={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},o7=(e,t,r)=>{let n;const a=UY[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},HY={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},WY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},VY={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qY={date:Gc({formats:HY,defaultWidth:"full"}),time:Gc({formats:WY,defaultWidth:"full"}),dateTime:Gc({formats:VY,defaultWidth:"full"})},GY={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},l7=(e,t,r,n)=>GY[e],YY={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},XY={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},KY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},QY={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},JY={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},ZY=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"ère":"er":i="ème",r+i},eX=["MMM","MMMM"],c7={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&eX.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:ZY,era:Vl({values:YY,defaultWidth:"wide"}),quarter:Vl({values:XY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vl({values:KY,defaultWidth:"wide"}),day:Vl({values:QY,defaultWidth:"wide"}),dayPeriod:Vl({values:JY,defaultWidth:"wide"})},tX=/^(\d+)(ième|ère|ème|er|e)?/i,rX=/\d+/i,nX={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},aX={any:[/^av/i,/^ap/i]},iX={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},sX={any:[/1/i,/2/i,/3/i,/4/i]},oX={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},lX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},cX={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},uX={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},dX={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},fX={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},u7={ordinalNumber:a7({matchPattern:tX,parsePattern:rX,valueCallback:e=>parseInt(e)}),era:ql({matchPatterns:nX,defaultMatchWidth:"wide",parsePatterns:aX,defaultParseWidth:"any"}),quarter:ql({matchPatterns:iX,defaultMatchWidth:"wide",parsePatterns:sX,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ql({matchPatterns:oX,defaultMatchWidth:"wide",parsePatterns:lX,defaultParseWidth:"any"}),day:ql({matchPatterns:cX,defaultMatchWidth:"wide",parsePatterns:uX,defaultParseWidth:"any"}),dayPeriod:ql({matchPatterns:dX,defaultMatchWidth:"any",parsePatterns:fX,defaultParseWidth:"any"})},Zr={code:"fr",formatDistance:o7,formatLong:qY,formatRelative:l7,localize:c7,match:u7,options:{weekStartsOn:1,firstWeekContainsDate:4}},hX={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},pX={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},mX={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xX={date:Gc({formats:hX,defaultWidth:"full"}),time:Gc({formats:pX,defaultWidth:"full"}),dateTime:Gc({formats:mX,defaultWidth:"full"})},gX={code:"fr-CA",formatDistance:o7,formatLong:xX,formatRelative:l7,localize:c7,match:u7,options:{weekStartsOn:0,firstWeekContainsDate:1}},yk=["EN_TRANSIT","PROBLEME"],P_=[{id:"n1",nom:"Lot Huîtres Triploïdes #NORD-101",numeroLot:"N°03-0545",statut:"EN_TRANSIT",datePrevue:"2025-05-02T09:00:00Z",dernierEvenement:"Transfert vers Trempe",important:!0,read:!1,responsable:"",metadata:{origine:"Table B-07 Bouzigues",destination:"Trempe",estimationRemplissage:15,unite:"pochons",naissain:"Charente Maritime",contenant:"10 cordes",mortalite:16.9}},{id:"n2",nom:"Lot Huîtres Triploïdes #NORD-202",numeroLot:"N°03-0782",statut:"EN_TRANSIT",datePrevue:"2025-05-02T11:00:00Z",dernierEvenement:"Transfert vers trempe",important:!1,read:!1,responsable:"",metadata:{origine:"Table Nord #128",destination:"Trempe",estimationRemplissage:12,unite:"pochons",naissain:"Arcachon",contenant:"8 cordes",mortalite:15.7}},{id:"t1",nom:"Lot Huîtres Triploïdes #TREMPE-301",numeroLot:"N°03-0614",statut:"EN_TRANSIT",datePrevue:"2025-05-02T13:00:00Z",dernierEvenement:"Transfert vers bassins",important:!1,read:!1,responsable:"",metadata:{origine:"Trempe",destination:"Bassins",estimationRemplissage:130,unite:"kg",naissain:"Arcachon",contenant:"15 Pochons",mortalite:24}}],vX=e=>{switch(e){case"EN_TRANSIT":return{icon:V0,color:"text-cyan-400",textColor:"text-cyan-400",bgColor:"bg-gradient-to-r from-cyan-500/20 to-green-500/20",label:"En transit"};case"TERMINE":return{icon:uf,color:"text-green-400",textColor:"text-green-400",bgColor:"bg-green-500/20",label:"Terminé"};case"PROBLEME":default:return{icon:Oa,color:"text-red-400",textColor:"text-red-400",bgColor:"bg-red-500/20",label:"Problème"}}},d7=K.forwardRef((e,t)=>{var g,v,b,y,w;const{lot:r,onMarkAsRead:n,onToggleImportant:a,selectedLotId:i,setSelectedLotId:o,onOpenValidationModal:l,onOpenInfoModal:c}=e,{icon:u,color:d,textColor:f,bgColor:h,label:p}=vX(r.statut);r.id;const m=r.datePrevue?Kt(new Date(r.datePrevue),"d MMM yyyy, HH:mm",{locale:Zr}):"",x=()=>{r.read||n(r.id),c(r)};return s.jsxs("div",{className:`p-5 mb-5 relative cursor-pointer hover:bg-white/3 rounded-lg transform hover:-translate-y-0.5 transition-all duration-300 ${r.read?"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-white/15":"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-cyan-400/20 hover:border-cyan-400/30"}`,onClick:x,tabIndex:0,role:"button","aria-label":`Lot: ${r.nom}. ${r.read?"Lu":"Non lu"}`,onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&x()},children:[!r.read&&s.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-cyan-400 rounded-full shadow-[0_0_8px_rgba(34,211,238,0.6)] z-50",title:"Non lu"}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsx("div",{className:"flex flex-col",children:s.jsxs("div",{children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-900/60 to-gray-800/60 p-4 rounded-lg border border-white/10 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_10px_rgba(34,211,238,0.1)_inset] mb-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/5 to-blue-500/5 opacity-50 blur-xl"}),s.jsxs("div",{className:"flex items-center justify-between relative z-10 gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-cyan-500 bg-clip-text text-transparent mb-1.5",children:r.nom}),s.jsx("div",{className:"h-[2px] w-32 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full"})]}),r.statut==="EN_TRANSIT"?s.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/10 to-green-500/10 px-4 py-2 rounded-lg border border-cyan-400/30 shadow-[0_0_15px_rgba(0,210,200,0.15)] min-w-[44px] min-h-[32px] flex items-center gap-2 transform hover:-translate-y-0.5 transition-all duration-300",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-cyan-400",children:p})]}):s.jsx("span",{className:`px-3 py-1.5 text-sm ${h} rounded-full font-medium shadow-sm`,children:p})]})]}),s.jsxs("div",{className:"mt-2",children:[r.id==="n1"&&s.jsxs("div",{className:"flex items-center gap-2 text-sm mt-1 p-2",children:[s.jsx("span",{className:"text-white/70",children:"Table B-07 Bouzigues"}),s.jsx(cd,{size:18,className:"text-cyan-400"}),s.jsx("span",{className:"text-cyan-400 font-medium",children:"Trempe"})]}),r.id!=="n1"&&r.dernierEvenement&&((g=r.metadata)==null?void 0:g.origine)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm mt-1 p-2",children:[s.jsx("span",{className:"text-white/70",children:r.metadata.origine}),s.jsx(cd,{size:18,className:"text-cyan-400"}),s.jsx("span",{className:"text-cyan-400 font-medium",children:r.dernierEvenement.replace("Transfert vers","").replace("Prévu pour","").replace("Réceptionné au","")})]})]})]})}),s.jsxs("div",{className:"flex flex-col space-y-4 mt-4 text-white/60",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm w-full",children:[((v=r.metadata)==null?void 0:v.naissain)&&s.jsxs("div",{className:"flex items-center bg-white/5 rounded-lg p-3 border border-white/10 hover:border-cyan-400/20 transition-colors duration-300 cursor-pointer",onClick:N=>{N.stopPropagation()},role:"button","aria-label":`Voir les détails de l'origine: ${r.metadata.naissain}`,children:[s.jsx(na,{className:"w-4 h-4 mr-3 text-cyan-400 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{className:"truncate",title:`Origine: ${r.metadata.naissain}`,children:r.metadata.naissain})]}),((b=r.metadata)==null?void 0:b.contenant)&&s.jsxs("div",{className:"flex items-center bg-white/5 rounded-lg p-3 border border-white/10 hover:border-cyan-400/20 transition-colors duration-300 cursor-pointer",onClick:N=>{N.stopPropagation()},role:"button","aria-label":`Voir les détails du contenant: ${r.metadata.contenant}`,children:[s.jsx(cd,{className:"w-4 h-4 mr-3 text-cyan-400 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{className:"truncate",title:`${r.metadata.contenant}`,children:r.metadata.contenant})]}),s.jsxs("div",{className:"flex items-center bg-white/5 rounded-lg p-3 border border-white/10 hover:border-cyan-400/20 transition-colors duration-300 cursor-pointer",onClick:N=>{N.stopPropagation()},role:"button","aria-label":`Voir les détails du lot: ${r.numeroLot}`,children:[s.jsx(W0,{className:"w-4 h-4 mr-3 text-cyan-400 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{className:"truncate",title:`${r.numeroLot}`,children:r.numeroLot})]}),((y=r.metadata)==null?void 0:y.estimationRemplissage)&&s.jsxs("div",{className:"flex items-center bg-gradient-to-r from-green-500/20 to-green-400/10 rounded-lg p-3 border border-green-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,200,100,0.2)] transition-all duration-300 transform hover:-translate-y-1 hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,200,100,0.25)]",children:[s.jsx(SS,{className:"w-5 h-5 mr-3 text-green-400 flex-shrink-0","aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-white/70 mb-0.5",children:"Estimation remplissage"}),s.jsxs("span",{className:"font-bold text-base text-white",title:`${r.metadata.estimationRemplissage} ${r.metadata.unite}`,children:[r.metadata.estimationRemplissage," ",s.jsx("span",{className:"text-green-400",children:r.metadata.unite})]})]})]}),((w=r.metadata)==null?void 0:w.mortalite)!==void 0&&s.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10 col-span-2 transition-all duration-300 hover:border-cyan-400/20",children:[s.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsx("h4",{className:"text-sm font-medium text-white",children:"Mortalité"})]}),s.jsxs("span",{className:"text-base font-medium text-green-400",children:[r.metadata.mortalite,"%"]})]}),s.jsxs("div",{className:"relative h-4 w-full bg-gray-700/50 rounded-md overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500",style:{width:`${Math.min(r.metadata.mortalite,100)}%`}}),s.jsx("div",{className:"absolute top-0 bottom-0 left-[10%] w-px bg-white/20"}),s.jsx("div",{className:"absolute top-0 bottom-0 left-[15%] w-px bg-white/20"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between w-full mt-2",children:[m&&s.jsxs("div",{className:"flex items-center bg-white/5 rounded-md px-2 py-1.5 border border-white/10",children:[s.jsx(ta,{className:"w-4 h-4 mr-2 text-cyan-400","aria-hidden":"true"}),s.jsx("span",{className:"text-sm text-white/80 font-medium",children:m})]}),s.jsxs("div",{className:"flex items-center bg-white/5 rounded-md px-2 py-1.5 border border-white/10",children:[s.jsx(jn,{className:"w-4 h-4 mr-2 text-cyan-400","aria-hidden":"true"}),s.jsx("span",{className:"text-sm text-white/80 font-medium",children:"Huîtres N°3"})]})]})]})]})]})});d7.displayName="LotItem";const bX=({isOpen:e,onClose:t,lots:r=P_,onMarkAsRead:n=o=>console.log("Mark as read:",o),onMarkAllAsRead:a=()=>console.log("Mark all as read"),onToggleImportant:i=o=>console.log("Toggle important:",o)})=>{var I,P,M,z,Y,ae,ue,ne,_e,Ce,V,Me;const[o,l]=k.useState("all"),[c,u]=k.useState("");k.useState(!1);const[d,f]=k.useState(null),[h,p]=k.useState(!1),[m,x]=k.useState(!1),[g,v]=k.useState(null),[b,y]=k.useState(null),[w,N]=k.useState(),[S,j]=k.useState(1),[A,T]=k.useState(!1),[R,O]=k.useState(!1),[E,L]=k.useState({title:"",message:""});k.useEffect(()=>{e||(p(!1),x(!1),v(null),y(null),j(1))},[e]);const B=k.useMemo(()=>r.filter(Ae=>!Ae.read&&yk.includes(Ae.statut)).length,[r]),G=Ae=>{y(Ae),x(!0)},U=Ae=>{var pe;v(Ae),N((pe=Ae.metadata)==null?void 0:pe.estimationRemplissage),j(1),p(!0)},W=()=>{p(!1),v(null)},X=()=>{console.log("Passage à l'étape de confirmation"),T(!0),setTimeout(()=>{T(!1),j(2)},300)},q=()=>{console.log("Retour à l'étape initiale"),j(1)},le=()=>{var Oe,oe,de;if(!g)return;T(!0);const Ae={...g,statut:"TERMINE",read:!0,dernierEvenement:`Arrivé à ${((Oe=g.metadata)==null?void 0:Oe.destination)||"destination"}`,timestamp:new Date().toISOString(),metadata:{...g.metadata,estimationRemplissage:w}};console.log("Lot arrivé à destination:",Ae),console.log("Inventaire mis à jour avec l'estimation:",w),console.log("Historique de traçabilité mis à jour");const pe="Validation réussie",re=`Le lot ${g.nom} est maintenant enregistré comme arrivé à ${((oe=g.metadata)==null?void 0:oe.destination)||"destination"} avec une estimation finale de ${w} ${((de=g.metadata)==null?void 0:de.unite)||"unités"}. L'inventaire et l'historique de traçabilité ont été mis à jour.`;L({title:pe,message:re}),setTimeout(()=>{T(!1),O(!0),setTimeout(()=>{O(!1)},5e3)},800),j(1),W()},se=k.useMemo(()=>{if(!Array.isArray(r)||r.length===0)return P_;let Ae=r.filter(pe=>pe.statut?yk.includes(pe.statut):!1);return o==="important"&&(Ae=Ae.filter(pe=>pe.important)),c&&(Ae=Ae.filter(pe=>{var re,Oe;return pe.nom.toLowerCase().includes(c.toLowerCase())||pe.statut.toLowerCase().includes(c.toLowerCase())||pe.dernierEvenement&&pe.dernierEvenement.toLowerCase().includes(c.toLowerCase())||((re=pe.metadata)==null?void 0:re.origine)&&pe.metadata.origine.toLowerCase().includes(c.toLowerCase())||((Oe=pe.metadata)==null?void 0:Oe.destination)&&pe.metadata.destination.toLowerCase().includes(c.toLowerCase())})),Ae.length===0?P_:Ae},[r,o,c]);return k.useEffect(()=>{const Ae=pe=>{pe.key==="Escape"&&t()};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[t]),k.useEffect(()=>{const Ae=pe=>{const re=document.querySelector(".lots-en-cours-panel"),Oe=document.querySelector('[data-lots-trigger="true"]');Oe&&Oe.contains(pe.target)||re&&!re.contains(pe.target)&&t()};return document.addEventListener("mousedown",Ae),()=>document.removeEventListener("mousedown",Ae)},[t]),e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lots-en-cours-panel fixed top-16 bottom-0 right-0 z-50 md:rounded-l-xl flex flex-col focus:outline-none bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",role:"dialog","aria-modal":"true","aria-labelledby":"lots-en-cours-title",tabIndex:-1,style:{width:"380px",height:"calc(100vh - 64px)",overflow:"auto",position:"fixed",right:"16px",top:"64px",margin:0,padding:0,transform:"translateX(0)",pointerEvents:"auto"},children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-white/10 bg-gradient-to-br from-[rgba(15,23,42,0.5)] to-[rgba(20,80,100,0.5)]",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg -z-10"}),s.jsxs("div",{className:"flex justify-center items-center my-2 relative",children:[s.jsx("div",{className:"absolute left-0",children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jn,{size:26,className:"text-cyan-400"}),s.jsx("span",{className:"absolute -bottom-2 -left-1 text-[10px] font-medium text-cyan-400",children:"N°3"})]}),B>0&&s.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-cyan-500 rounded-full flex items-center justify-center text-xs font-bold text-white shadow-[0_0_4px_rgba(0,180,180,0.3)]",children:B})]})}),s.jsx("h2",{id:"lots-en-cours-title",className:"text-3xl font-bold text-white whitespace-nowrap",children:"Lots en cours"}),s.jsx("div",{className:"absolute right-0 flex items-center",children:s.jsx(s.Fragment,{children:s.jsx("button",{onClick:t,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white/60 hover:text-cyan-400 ml-2","aria-label":"Fermer",children:s.jsx(zt,{size:20,"aria-hidden":"true"})})})})]})]}),s.jsxs("div",{className:"px-6 py-4 bg-gradient-to-br from-[rgba(15,23,42,0.4)] to-[rgba(20,90,90,0.4)] border-b border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(su,{className:"text-cyan-400",size:20}),s.jsx("h3",{className:"text-lg font-medium text-white",children:"Mouvement des lots"})]}),s.jsx("div",{className:"text-sm text-white/70",children:"Suivez le parcours de vos lots en cours. Chaque mouvement validé sera automatiquement enregistré dans les modules Stocks et Traçabilité, permettant une mise à jour complète de votre inventaire et de l'historique de production."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",style:{overflowX:"hidden",position:"relative"},children:s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"space-y-6",children:se.length>0?se.map(Ae=>s.jsx(d7,{lot:Ae,onMarkAsRead:n,onToggleImportant:i,selectedLotId:d,setSelectedLotId:f,onOpenValidationModal:U,onOpenInfoModal:G},Ae.id)):s.jsx("div",{className:"p-6 text-center text-white/50",children:c?s.jsxs("span",{children:['Aucun lot trouvé pour "',c,'"']}):s.jsx("span",{children:"Aucun lot à afficher"})})})})})]})}),A&&s.jsx("div",{className:"fixed inset-0 z-[99999] bg-green-500/10 pointer-events-none animate-pulse"}),R&&s.jsx("div",{className:"fixed bottom-6 right-6 z-[99999] max-w-md transform transition-all duration-500 ease-in-out animate-slideInRight",children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] backdrop-filter backdrop-blur-[10px] rounded-xl shadow-[rgba(0,0,0,0.4)_0px_10px_30px,rgba(0,150,255,0.2)_0px_0px_20px] border border-green-400/30 p-5 flex items-start gap-4",children:[s.jsx("div",{className:"rounded-full bg-gradient-to-r from-green-500 to-emerald-500 p-2 flex-shrink-0",children:s.jsx(ek,{size:24,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl font-bold bg-gradient-to-r from-green-400 to-emerald-500 bg-clip-text text-transparent mb-2",children:E.title}),s.jsx("p",{className:"text-white text-sm",children:E.message}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{onClick:()=>O(!1),className:"text-white/60 hover:text-white text-sm transition-colors duration-300",children:"Fermer"})})]})]})}),h&&g&&s.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{className:`validation-modal bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] backdrop-filter backdrop-blur-[10px] rounded-xl shadow-[rgba(0,0,0,0.4)_0px_10px_30px,rgba(0,150,255,0.2)_0px_0px_20px] transform-gpu scale-100 border border-white/10 hover:border-white/20 transition-all duration-300 animate-fadeIn overflow-hidden ${S===2?"ring-2 ring-green-500/30":""}`,style:{position:"fixed",top:"50%",left:"calc(50% - 1000px)",transform:"translate(-50%, -50%)",margin:"0 auto",width:"28.5vw",maxWidth:"600px",maxHeight:"90vh"},children:[s.jsxs("div",{className:"p-6 pb-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Valider l'arrivée du lot"}),s.jsx("button",{onClick:W,className:"text-white/60 hover:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-full p-1","aria-label":"Fermer",children:s.jsx(zt,{size:20})})]}),s.jsxs("p",{className:"text-white mb-4",children:["Voulez-vous confirmer l'arrivée du lot ",s.jsx("span",{className:"font-semibold",children:g.nom})," à destination ? Cette action mettra à jour l'inventaire, l'historique et la traçabilité."]}),s.jsxs("div",{className:"mb-6 bg-gradient-to-r from-green-500/10 to-green-400/5 rounded-lg p-4 border border-green-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,200,100,0.2)]",children:[s.jsxs("h4",{className:"text-green-400 font-medium mb-3 flex items-center",children:[s.jsx(SS,{size:18,className:"mr-2"}),"Estimation de remplissage"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",value:w||"",onChange:Ae=>N(Ae.target.value===""?void 0:parseFloat(Ae.target.value)),className:"w-full bg-white/10 border border-white/20 focus:border-green-400/50 rounded-lg p-3 text-white text-xl font-medium transition-all duration-300 focus:ring-2 focus:ring-green-400/30 focus:outline-none",placeholder:"Entrez l'estimation"})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 text-white text-xl min-w-[80px] text-center",children:((I=g.metadata)==null?void 0:I.unite)||"unités"})]}),s.jsxs("p",{className:"text-white/60 text-sm mt-2",children:["Valeur initiale: ",((P=g.metadata)==null?void 0:P.estimationRemplissage)||"-"," ",((M=g.metadata)==null?void 0:M.unite)||"unités"]})]}),s.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-400/20 rounded-lg p-4 mb-6",children:[s.jsxs("h4",{className:"text-cyan-400 font-medium mb-2 flex items-center",children:[s.jsx(W0,{size:18,className:"mr-2"}),"Informations importantes"]}),s.jsxs("ul",{className:"text-white/80 space-y-2 text-sm",children:[s.jsxs("li",{className:"flex",children:[s.jsx("div",{className:"mr-2 mt-0.5",children:"•"}),s.jsxs("div",{children:["L'inventaire sera automatiquement mis à jour avec le transfert du lot de ",s.jsx("span",{className:"text-cyan-400",children:((z=g.metadata)==null?void 0:z.origine)||"-"})," vers ",s.jsx("span",{className:"text-cyan-400",children:((Y=g.metadata)==null?void 0:Y.destination)||"-"})]})]}),s.jsxs("li",{className:"flex",children:[s.jsx("div",{className:"mr-2 mt-0.5",children:"•"}),s.jsx("div",{children:"Un nouvel enregistrement sera créé dans l'historique de traçabilité"})]}),s.jsxs("li",{className:"flex",children:[s.jsx("div",{className:"mr-2 mt-0.5",children:"•"}),s.jsx("div",{children:"Cette opération sera enregistrée avec l'horodatage et l'utilisateur actuels"})]})]})]})]}),s.jsx("div",{className:"px-6 py-4 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] flex justify-end gap-3",children:S===1?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:W,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 text-white transition-all duration-300","aria-label":"Annuler la validation",children:"Annuler"}),s.jsx("button",{onClick:X,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 font-medium","aria-label":"Confirmer l'arrivée du lot",children:"Confirmer"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:q,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 text-white transition-all duration-300","aria-label":"Revenir à l'étape précédente",children:"Annuler"}),s.jsxs("button",{onClick:le,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,200,100,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,200,100,0.25)] transition-all duration-300 font-medium animate-pulse flex items-center justify-center gap-2","aria-label":"Confirmer définitivement l'arrivée du lot",children:[s.jsx(ek,{size:18}),"Confirmer définitivement"]})]})})]})}),m&&b&&s.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",onClick:Ae=>Ae.stopPropagation(),children:[s.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:Ae=>Ae.stopPropagation()}),s.jsx("div",{onClick:Ae=>Ae.stopPropagation(),className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] backdrop-filter backdrop-blur-[10px] rounded-xl shadow-[rgba(0,0,0,0.4)_0px_10px_30px,rgba(0,150,255,0.2)_0px_0px_20px] transform-gpu scale-100 border border-white/10 hover:border-white/20 transition-all duration-300 animate-fadeIn overflow-hidden max-w-4xl w-full max-h-[90vh] overflow-y-auto custom-scrollbar",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Détails des lots en cours"}),s.jsx("button",{onClick:()=>x(!1),className:"text-white/60 hover:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-full p-1","aria-label":"Fermer",children:s.jsx(zt,{size:20})})]}),s.jsxs("div",{className:"mb-8 p-5 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 rounded-lg border border-cyan-400/30 shadow-[0_4px_15px_rgba(0,0,0,0.25),0_0_20px_rgba(0,210,200,0.2)_inset]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:b.nom}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-cyan-500/20 to-green-500/20 border border-cyan-400/30 flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-cyan-400",children:"En transit"})]})})]}),s.jsx("div",{className:"bg-white/5 rounded-md px-3 py-2 border border-white/10",children:s.jsx(jn,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-base mb-4",children:[s.jsx("span",{className:"text-white/70",children:((ae=b.metadata)==null?void 0:ae.origine)||"-"}),s.jsx(cd,{size:18,className:"text-cyan-400"}),s.jsx("span",{className:"text-cyan-400 font-medium",children:((ue=b.metadata)==null?void 0:ue.destination)||"-"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Origine"}),s.jsx("div",{className:"text-base font-medium",children:((ne=b.metadata)==null?void 0:ne.naissain)||"-"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Contenant"}),s.jsx("div",{className:"text-base font-medium",children:((_e=b.metadata)==null?void 0:_e.contenant)||"-"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Numéro de lot"}),s.jsx("div",{className:"text-base font-medium",children:b.numeroLot})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-green-400/10 rounded-lg p-3 border border-green-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,200,100,0.2)]",children:[s.jsx("div",{className:"text-xs text-white/70 mb-1",children:"Estimation remplissage"}),s.jsxs("div",{className:"text-base font-medium",children:[((Ce=b.metadata)==null?void 0:Ce.estimationRemplissage)||"-"," ",s.jsx("span",{className:"text-green-400",children:((V=b.metadata)==null?void 0:V.unite)||""})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[((Me=b.metadata)==null?void 0:Me.mortalite)!==void 0&&s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsx("h4",{className:"text-sm font-medium text-white",children:"Mortalité"})]}),s.jsxs("span",{className:"text-base font-medium text-green-400",children:[b.metadata.mortalite,"%"]})]}),s.jsxs("div",{className:"relative h-4 w-full bg-gray-700/50 rounded-md overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500",style:{width:`${Math.min(b.metadata.mortalite,100)}%`}}),s.jsx("div",{className:"absolute top-0 bottom-0 left-[10%] w-px bg-white/20"}),s.jsx("div",{className:"absolute top-0 bottom-0 left-[15%] w-px bg-white/20"})]})]}),b.datePrevue&&s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10 flex items-center",children:[s.jsx(ta,{className:"w-6 h-6 mr-3 text-cyan-400","aria-hidden":"true"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Date prévue"}),s.jsx("div",{className:"text-base font-medium",children:Kt(new Date(b.datePrevue),"d MMM yyyy, HH:mm",{locale:Zr})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mb-6",children:[s.jsx("button",{onClick:()=>{x(!1)},className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 text-white transition-all duration-300",children:"Retour aux lots"}),s.jsx("button",{onClick:()=>{x(!1),U(b)},className:"px-4 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 font-medium",children:"Valider l'arrivée"})]}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Tous les lots en cours"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/50 rounded-lg p-4 border border-white/10 hover:border-cyan-400/20 transition-all duration-300 shadow-[0_5px_15px_rgba(0,0,0,0.2)] cursor-pointer",onClick:()=>{const Ae=r.find(pe=>pe.id==="n1");Ae&&y(Ae)},role:"button","aria-label":"Voir les détails du lot NORD-101",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h5",{className:"text-lg font-medium text-white",children:"Lot Huîtres Triploïdes #NORD-101"}),s.jsxs("div",{className:"px-2 py-1 rounded-full bg-gradient-to-r from-cyan-500/20 to-green-500/20 border border-cyan-400/30 flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400 animate-pulse"}),s.jsx("span",{className:"text-xs font-medium text-cyan-400",children:"En transit"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-3",children:[s.jsx("span",{className:"text-white/70",children:"Table B-07 Bouzigues"}),s.jsx(cd,{size:14,className:"text-cyan-400"}),s.jsx("span",{className:"text-cyan-400 font-medium",children:"Trempe"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Origine:"}),s.jsx("span",{className:"text-white ml-1",children:"Charente Maritime"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Contenant:"}),s.jsx("span",{className:"text-white ml-1",children:"10 cordes"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"N°:"}),s.jsx("span",{className:"text-white ml-1",children:"03-0545"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Remplissage:"}),s.jsx("span",{className:"text-green-400 ml-1",children:"15 pochons"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Mortalité:"}),s.jsx("span",{className:"text-green-400 ml-1",children:"16.9%"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Date:"}),s.jsx("span",{className:"text-white ml-1",children:"2 mai 2025, 11:00"})]})]}),s.jsx("div",{className:"text-xs text-white/60 mt-2",children:"Huîtres N°3"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/50 rounded-lg p-4 border border-white/10 hover:border-cyan-400/20 transition-all duration-300 shadow-[0_5px_15px_rgba(0,0,0,0.2)] cursor-pointer",onClick:()=>{const Ae=r.find(pe=>pe.id==="n2");Ae&&y(Ae)},role:"button","aria-label":"Voir les détails du lot NORD-202",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h5",{className:"text-lg font-medium text-white",children:"Lot Huîtres Triploïdes #NORD-202"}),s.jsxs("div",{className:"px-2 py-1 rounded-full bg-gradient-to-r from-cyan-500/20 to-green-500/20 border border-cyan-400/30 flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400 animate-pulse"}),s.jsx("span",{className:"text-xs font-medium text-cyan-400",children:"En transit"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-3",children:[s.jsx("span",{className:"text-white/70",children:"Table Nord #128"}),s.jsx(cd,{size:14,className:"text-cyan-400"}),s.jsx("span",{className:"text-cyan-400 font-medium",children:"Trempe"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Origine:"}),s.jsx("span",{className:"text-white ml-1",children:"Arcachon"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Contenant:"}),s.jsx("span",{className:"text-white ml-1",children:"8 cordes"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"N°:"}),s.jsx("span",{className:"text-white ml-1",children:"03-0782"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Remplissage:"}),s.jsx("span",{className:"text-green-400 ml-1",children:"12 pochons"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Mortalité:"}),s.jsx("span",{className:"text-green-400 ml-1",children:"15.7%"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Date:"}),s.jsx("span",{className:"text-white ml-1",children:"2 mai 2025, 13:00"})]})]}),s.jsx("div",{className:"text-xs text-white/60 mt-2",children:"Huîtres N°3"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-gray-800/50 rounded-lg p-4 border border-white/10 hover:border-cyan-400/20 transition-all duration-300 shadow-[0_5px_15px_rgba(0,0,0,0.2)] cursor-pointer",onClick:()=>{const Ae=r.find(pe=>pe.id==="t1");Ae&&y(Ae)},role:"button","aria-label":"Voir les détails du lot TREMPE-301",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h5",{className:"text-lg font-medium text-white",children:"Lot Huîtres Triploïdes #TREMPE-301"}),s.jsxs("div",{className:"px-2 py-1 rounded-full bg-gradient-to-r from-cyan-500/20 to-green-500/20 border border-cyan-400/30 flex items-center gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400 animate-pulse"}),s.jsx("span",{className:"text-xs font-medium text-cyan-400",children:"En transit"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-3",children:[s.jsx("span",{className:"text-white/70",children:"Trempe"}),s.jsx(cd,{size:14,className:"text-cyan-400"}),s.jsx("span",{className:"text-cyan-400 font-medium",children:"Bassins"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Origine:"}),s.jsx("span",{className:"text-white ml-1",children:"Arcachon"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Contenant:"}),s.jsx("span",{className:"text-white ml-1",children:"15 Pochons"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"N°:"}),s.jsx("span",{className:"text-white ml-1",children:"03-0614"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Remplissage:"}),s.jsx("span",{className:"text-green-400 ml-1",children:"130 kg"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Mortalité:"}),s.jsx("span",{className:"text-green-400 ml-1",children:"24%"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60",children:"Date:"}),s.jsx("span",{className:"text-white ml-1",children:"2 mai 2025, 15:00"})]})]}),s.jsx("div",{className:"text-xs text-white/60 mt-2",children:"Huîtres N°3"})]})]}),s.jsx("div",{className:"flex justify-end gap-3 mt-6",children:s.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 text-white transition-all duration-300",children:"Fermer"})})]})})]})]}):null},yX=({onShowMobileMenu:e,onToggleNotifications:t,onShowEmergency:r,onEmergencyClick:n,onToggleMessages:a,unreadMessagesCount:i=0})=>{const{unreadCount:o}=Yo(),l=Is(),c=Hp(),[u,d]=k.useState("/dashboard"),[f,h]=k.useState(!1);k.useEffect(()=>{c.pathname!=="/profile"&&d(c.pathname)},[c.pathname]);const p=()=>{c.pathname!=="/dashboard"&&l("/dashboard")},m=()=>{c.pathname==="/profile"?l(u):l("/profile")};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-between px-4 md:px-6 lg:px-8 w-full transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.97) 0%, rgba(0, 90, 90, 0.95) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 5px 20px -5px, rgba(0, 200, 200, 0.1) 0px 5px 12px -5px, rgba(255, 255, 255, 0.07) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.05) 0px 0px 12px inset, rgba(0, 0, 0, 0.1) 0px 0px 8px inset",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",height:"97px"},children:s.jsxs("div",{className:"w-full h-20 flex items-center justify-between px-4 relative",children:[s.jsx("div",{className:"flex-1"}),s.jsx(je.div,{className:"flex items-center justify-center flex-1",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:p,children:s.jsxs("div",{className:"flex items-center relative py-1.5 px-8 border border-white/20 rounded-lg group",children:[s.jsx("div",{className:"-ml-2 mr-2 relative rounded-xl w-14 h-14 bg-brand-primary/10 border-brand-primary/20 border flex items-center justify-center group-hover:shadow-neon transition-all duration-300",children:s.jsx("div",{className:"text-brand-primary",children:s.jsx(yG,{size:48})})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(je.div,{className:"relative",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:s.jsx("span",{className:"text-6xl tracking-widest",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:500,background:"linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.85) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"0.1em",lineHeight:"1"},children:"OYSTER"})}),s.jsx(je.div,{className:"relative ml-1",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:s.jsx("span",{className:"text-6xl",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,background:"linear-gradient(135deg, rgb(34,211,238) 0%, rgb(56,189,248) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",lineHeight:"1"},children:"CULT"})})]}),s.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",style:{background:"radial-gradient(circle at 50% 50%, rgba(56,189,248,0.08), transparent 70%)",filter:"blur(20px)"}})]})}),s.jsxs("div",{className:"flex-1 flex items-center justify-end",children:[s.jsxs("div",{className:"flex items-center -translate-x-1",children:[s.jsx("div",{className:"h-10 w-px bg-gradient-to-b from-transparent via-white/10 to-transparent"}),s.jsx(je.div,{className:"flex items-center ml-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:s.jsx(NG,{})})]}),s.jsxs("div",{className:"flex items-center space-x-4 ml-4",children:[s.jsxs("button",{className:`
                  inline-flex items-center justify-center font-medium rounded-lg transition-all
                  text-white hover:text-white hover:bg-white/20
                  p-3 relative group
                  will-change-transform
                  shadow-[0_0_15px_rgba(255,255,255,0.3)]
                  border border-white/30 bg-white/10
                  min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40
                `,onClick:()=>h(!0),"aria-label":"Lots en cours",title:"Lots en cours",style:{transform:"translate3d(0,0,0)"},children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(SM,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-colors duration-200","aria-hidden":"true"})]}),s.jsxs("button",{className:`
                  inline-flex items-center justify-center font-medium rounded-lg transition-all
                  text-white hover:text-white hover:bg-white/20
                  p-3 relative group
                  will-change-transform
                  shadow-[0_0_15px_rgba(255,255,255,0.3)]
                  border border-white/30 bg-white/10
                `,onClick:m,"aria-label":c.pathname==="/profile"?"Retour à la page précédente":"Mon espace",style:{transform:"translate3d(0,0,0)"},children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(e1,{size:26,className:c.pathname==="/profile"?"text-cyan-400":"text-white"})]}),s.jsxs("button",{className:`
                  inline-flex items-center justify-center font-medium rounded-lg transition-all
                  text-white hover:text-white hover:bg-white/20
                  p-3 relative group
                  will-change-transform
                  shadow-[0_0_15px_rgba(255,255,255,0.3)]
                  border border-white/30 bg-white/10
                `,onClick:a,"aria-label":"Afficher les messages",style:{transform:"translate3d(0,0,0)"},children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-messages-square",children:[s.jsx("path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z"}),s.jsx("path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"})]}),i>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-xs font-bold text-white shadow-[0_0_15px_rgba(0,210,255,0.5),0_0_5px_rgba(0,0,0,0.3)_inset] min-w-[20px] min-h-[20px]",children:i})]}),s.jsxs("button",{className:`
                  inline-flex items-center justify-center font-medium rounded-lg transition-all
                  text-white hover:text-white hover:bg-white/20
                  p-3 relative group
                  will-change-transform
                  shadow-[0_0_15px_rgba(255,255,255,0.3)]
                  border border-white/30 bg-white/10
                `,onClick:t,"aria-label":"Afficher les notifications",style:{transform:"translate3d(0,0,0)"},children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-bell",children:[s.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),s.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-cyan-500 text-xs font-bold text-white shadow-[0_0_10px_rgba(0,210,255,0.5)]",children:o})]})]})]})]})})}),s.jsx(bX,{isOpen:f,onClose:()=>h(!1),onMarkAsRead:x=>console.log("Marquer comme lu:",x),onMarkAllAsRead:()=>console.log("Tout marquer comme lu"),onToggleImportant:x=>console.log("Marquer comme important:",x)})]})},Fv=[{type:"text",content:"ESPACE PUBLICITAIRE"},{type:"text",content:"VOTRE PUB ICI"},{type:"text",content:"CONTACTEZ-NOUS"},{type:"text",content:"RÉSERVEZ CET ESPACE"},{type:"logo",content:"OYSTER CULT"}];function wX({isCollapsed:e=!1}){const[t,r]=K.useState(!1),n=aV(),[a,i]=K.useState(0);return K.useEffect(()=>{const o=setInterval(()=>{i(l=>(l+1)%Fv.length)},4e3);return()=>clearInterval(o)},[]),s.jsxs(je.div,{className:`
        mx-2 my-4 rounded-xl overflow-hidden relative group
        ${e?"h-24":"h-[120px]"}
        bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
        backdrop-blur-[20px]
        shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
        transition-all duration-200
      `,onHoverStart:()=>{r(!0),n.start({scale:[1,1.02,1],transition:{duration:.4,ease:"easeInOut"}})},onHoverEnd:()=>{r(!1),n.start({scale:1})},animate:n,whileHover:{y:-4,boxShadow:"0 8px 32px rgba(0,200,200,0.15)",transition:{duration:.2}},children:[s.jsx(je.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.05)] via-[rgba(0,200,200,0.08)] to-transparent pointer-events-none",initial:{opacity:0,x:"-100%"},animate:{opacity:t?1:0,x:t?"100%":"-100%"},transition:{duration:1.2,ease:"easeInOut",repeat:1/0,repeatDelay:.5}}),s.jsx(je.div,{className:"absolute inset-0 rounded-xl pointer-events-none",style:{background:"linear-gradient(90deg, transparent, rgba(0,255,255,0.1), transparent)",maskImage:"linear-gradient(to right, transparent 25%, black 50%, transparent 75%)"},animate:{x:["100%","-100%"]},transition:{duration:3,ease:"linear",repeat:1/0,repeatDelay:1}}),s.jsx("div",{className:"relative flex flex-col justify-center h-full p-6",children:e?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(je.div,{className:"text-cyan-400/80 font-medium",initial:{opacity:0,scale:.9},animate:{opacity:[.6,1,.6],scale:[.95,1.05,.95],filter:["brightness(1)","brightness(1.2)","brightness(1)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:"AD"})}):s.jsx(_r,{mode:"wait",children:s.jsx(je.div,{className:"text-center relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:Fv[a].type==="text"?s.jsx(je.h3,{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent font-medium text-xl tracking-wide",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},style:{backgroundSize:"200% 100%"},children:Fv[a].content}):s.jsxs(je.div,{className:"flex flex-col items-center gap-3",initial:{scale:.8},animate:{scale:1},transition:{duration:.5},children:[s.jsx(je.div,{animate:{scale:[1,1.1,1],filter:["brightness(1) drop-shadow(0 0 0 rgba(0,255,255,0))","brightness(1.2) drop-shadow(0 0 8px rgba(0,255,255,0.3))","brightness(1) drop-shadow(0 0 0 rgba(0,255,255,0))"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-cyan-400",style:{opacity:.9,transform:"translateY(2px)"},children:[s.jsx("path",{d:"M2 4c.6.5 1.2 1 2.5 1C7 5 7 3 9.5 3c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),s.jsx("path",{d:"M2 9c.6.5 1.2 1 2.5 1C7 10 7 8 9.5 8c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",style:{stroke:"white"}}),s.jsx("path",{d:"M2 14c.6.5 1.2 1 2.5 1C7 15 7 13 9.5 13c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),s.jsx("path",{d:"M2 19c.6.5 1.2 1 2.5 1C7 20 7 18 9.5 18c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"})]})}),s.jsx(je.h3,{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:4,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 100%",fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.08em",lineHeight:"0.8",fontSize:"1.5rem",transform:"translate3d(0, 0, 0)",willChange:"transform"},children:Fv[a].content})]})},a)})})]})}const _X={Principal:{color:"from-blue-500/30 to-blue-600/10",textColor:"text-blue-300"},"Gestion des stocks":{color:"from-green-500/30 to-green-600/10",textColor:"text-green-300"},Commercial:{color:"from-purple-500/30 to-purple-600/10",textColor:"text-purple-300"},Administration:{color:"from-amber-500/30 to-amber-600/10",textColor:"text-amber-300"},Surveillance:{color:"from-red-500/30 to-red-600/10",textColor:"text-red-300"},Publicité:{color:"from-indigo-500/30 to-indigo-600/10",textColor:"text-indigo-300"}},wk=[{category:"Principal",items:[{path:"/dashboard",label:"Tableau de bord",icon:s.jsx(AS,{size:22})},{path:"/tasks",label:"Tâches",icon:s.jsx(iV,{size:22})},{path:"/analyses",label:"Analyses",icon:s.jsx(Qn,{size:22}),highlight:!0,color:"#0d9488"}]},{category:"Gestion des stocks",items:[{path:"/stocks",label:"Stocks",icon:s.jsx(jn,{size:22}),notifications:1},{path:"/traceability",label:"Traçabilité",icon:s.jsx(m0,{size:22})}]},{category:"Commercial",items:[{path:"/network",label:"Entre Pro",icon:s.jsx(df,{size:22})},{path:"/suppliers",label:"Fournisseurs",icon:s.jsx(V0,{size:22})},{path:"/purchases",label:"Commandes",icon:s.jsx(rp,{size:22}),color:"#3b82f6"},{path:"/sales",label:"Ventes",icon:s.jsx(Uh,{size:22})},{path:"/shop",label:"Boutique",icon:s.jsx(AM,{size:22})}]},{category:"Administration",items:[{path:"/accounting",label:"Comptabilité",icon:s.jsx(sV,{size:22}),notifications:2,color:"rgb(160, 38, 72)"},{path:"/hr",label:"Gestion RH",icon:s.jsx(xs,{size:22}),notifications:2,color:"rgb(160, 38, 72)"},{path:"/digital-vault",label:"Coffre fort numérique",icon:s.jsx(t1,{size:22}),color:"rgb(56, 189, 248)"}]},{category:"Surveillance",items:[{path:"/surveillance",label:"Surveillance",icon:s.jsx(Wp,{size:22}),ariaLabel:"Accéder à la surveillance vidéo"}]},{category:"Publicité",items:[]}];function NX({showMobileMenu:e,onCloseMobileMenu:t,onEmergencyClick:r,onToggleMessages:n,onToggleNotifications:a}){const i=Hp(),o=Is(),{setSession:l}=Yo(),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,p]=k.useState(null),[m,x]=k.useState(!1),[g,v]=k.useState(window.innerWidth<768),[b,y]=k.useState(!0);k.useEffect(()=>{const R=setTimeout(()=>{y(!1)},300);return()=>clearTimeout(R)},[]),k.useEffect(()=>{const R=()=>{const O=window.innerWidth<768;v(O),g&&!O&&c&&u(!1);const E=document.querySelector(".sidebar-toggle-button");E&&(E.style.display=window.innerWidth<768?"none":"")};return window.addEventListener("resize",R),R(),()=>window.removeEventListener("resize",R)},[g,e,t]);const w=()=>{l(null),o("/auth")},N=()=>{x(!0),u(!c),setTimeout(()=>x(!1),300)},S={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:R=>({opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{delay:R*.03+.1,duration:.3,type:"spring",stiffness:300,damping:25}})},j={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:{opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{opacity:{duration:.3},x:{duration:.2,type:"spring",stiffness:300}}},exit:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap",transition:{opacity:{duration:.2},x:{duration:.2}}}},A={expanded:{width:"260px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"90px",transition:{type:"spring",stiffness:300,damping:30}},mobileHidden:{transform:"translateX(-100%)",transition:{type:"spring",stiffness:400,damping:30}},mobileVisible:{transform:"translateX(0)",width:"85vw",maxWidth:window.innerWidth<468?"100%":"300px",transition:{type:"spring",stiffness:400,damping:30}}},T={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1,duration:.2}}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`
          fixed inset-0 z-40 backdrop-blur-sm bg-black/50 lg:hidden
          ${e?"opacity-100":"opacity-0 pointer-events-none"}
          transition-opacity duration-300
        `,onClick:t}),s.jsx(je.div,{className:`
          fixed inset-y-0 left-0 z-50 overflow-x-hidden
          transition-all duration-300 ease-in-out rounded-tr-3xl rounded-br-3xl
          ${g?"hidden md:block":""}
          sidebar-auto-collapse
        `,initial:!b,animate:c?"collapsed":"expanded",variants:A,transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs(je.div,{className:"p-6 flex items-center justify-between border-b border-white/10 relative overflow-hidden",initial:{opacity:0,transform:"translateY(-10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent opacity-50"}),s.jsx(_r,{mode:"wait",children:c?s.jsx(je.div,{className:"flex items-center justify-center w-full py-2 relative z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"collapsed-logo"):s.jsx(je.div,{className:"flex items-center justify-between px-4 py-2 relative z-10 w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"relative z-10"})})},"expanded-logo")}),s.jsx("div",{className:`flex justify-center ${c?"w-full":""}`,children:s.jsx(je.button,{onClick:N,className:`
                  sidebar-toggle-button
                  rounded-lg lg:flex items-center justify-center transition-all duration-300 relative z-10
                  p-2.5 bg-white/15 hover:bg-white/25 border border-white/20
                `,whileHover:{scale:1.1},whileTap:{scale:.95},disabled:m,"aria-label":c?"Déplier la barre latérale":"Replier la barre latérale",style:{display:window.innerWidth<768?"none":""},children:s.jsx("div",{className:"flex items-center",children:c?s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:s.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:s.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})})]}),s.jsx("nav",{className:"flex-1 space-y-2 md:space-y-4 p-3 md:p-4 overflow-y-auto custom-scrollbar",children:wk.map((R,O)=>{const E=_X[R.category];return s.jsxs(je.div,{className:"mb-8",initial:{opacity:0,transform:"translateY(20px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1+O*.05},onMouseEnter:()=>f(R.category),onMouseLeave:()=>f(null),children:[s.jsx(_r,{children:!c&&s.jsxs(je.div,{className:"px-4 mb-3 relative rounded-lg overflow-hidden",initial:b?{opacity:1,x:0}:"hidden",animate:"visible",exit:"exit",variants:j,whileHover:{scale:1.02},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${E.color} opacity-0 rounded-lg ${d===R.category?"opacity-30":""} transition-opacity duration-300`}),s.jsx("p",{className:`text-xs font-medium ${E.textColor} uppercase tracking-wider relative z-10 whitespace-nowrap`,children:R.category})]})}),R.category==="Publicité"&&s.jsx(wX,{isCollapsed:c}),s.jsx("div",{className:"space-y-2",children:R.items.map((L,B)=>{const G=i.pathname===L.path,U=L.color||(E.textColor.includes("blue")?"#3b82f6":E.textColor.includes("green")?"#10b981":E.textColor.includes("purple")?"#8b5cf6":E.textColor.includes("amber")?"#f59e0b":"#06b6d4");return s.jsx(je.div,{custom:B,variants:S,initial:b?{opacity:1,x:0}:"hidden",animate:"visible",whileHover:{scale:1.03,transition:{duration:.2}},onMouseEnter:()=>p(L.path),onMouseLeave:()=>p(null),children:s.jsxs(tk,{to:L.path,className:`
                              relative flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                              transition-all duration-200 ease-in-out overflow-hidden
                              ${G?"bg-white/10 text-white shadow-[0_0_12px_rgba(255,255,255,0.1)]":"text-white/70 hover:bg-white/8 hover:text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.07)]"}
                            `,style:{background:G?"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:G?"rgba(0, 0, 0, 0.3) 0px 4px 8px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset, rgba(0, 0, 0, 0.5) 0px 2px 4px inset, rgba(255, 255, 255, 0.1) 0px 0px 8px":"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset",border:"none",transform:G?"translateY(-1px)":"none"},children:[s.jsx("div",{className:`
                                relative z-10 transition-all duration-200
                                flex items-center justify-center w-7 h-7 rounded-full
                                ${c?"mx-auto":"mr-3"}
                                ${G?"bg-white/15 text-white":"text-white/70 group-hover:text-white"}
                              `,style:{boxShadow:G?"rgba(0, 0, 0, 0.3) 0px 2px 4px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset":"none"},children:L.icon&&K.cloneElement(L.icon,{className:`${c?"w-5 h-5":"w-4 h-4"}`,style:{color:G?U:"",filter:G?"drop-shadow(0 0 2px rgba(255,255,255,0.3))":""}})}),s.jsx(_r,{children:!c&&s.jsxs(je.div,{className:"flex-1 flex items-center justify-between",children:[s.jsx(je.span,{className:`ml-2 md:ml-3 relative z-10 ${G?"font-medium":""} whitespace-nowrap`,variants:T,initial:"hidden",animate:"visible",exit:"hidden",children:L.label}),L.notifications>0&&s.jsx("div",{className:"ml-auto min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-[#00D1FF] to-[#0047FF] flex items-center justify-center text-xs font-medium text-white shadow-lg",children:L.notifications})]})}),c&&s.jsx(_r,{children:h===L.path&&s.jsxs(je.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:`
                                      absolute left-14 px-4 py-2 rounded-lg z-50
                                      text-sm font-medium whitespace-nowrap
                                      bg-gradient-to-r 
                                      ${E.color.replace("/30","/70").replace("/10","/40")} 
                                      backdrop-blur-sm border border-white/10
                                    `,style:L.color?{boxShadow:`0 0 10px ${L.color}50`,background:`linear-gradient(to right, ${L.color}30, ${L.color}05)`}:{},children:[s.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-2 h-2 rotate-45",style:{background:L.color?`${L.color}30`:E.textColor.includes("blue")?"rgba(59,130,246,0.3)":E.textColor.includes("green")?"rgba(16,185,129,0.3)":E.textColor.includes("purple")?"rgba(139,92,246,0.3)":E.textColor.includes("amber")?"rgba(245,158,11,0.3)":"rgba(6,182,212,0.3)"}}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-white font-medium",children:L.label}),L.notifications>0&&s.jsx("div",{className:"ml-2 min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-[#00D1FF] to-[#0047FF] flex items-center justify-center text-xs font-medium text-white shadow-lg",children:L.notifications})]})]})}),G&&s.jsx(je.div,{className:"absolute left-0 w-1.5 h-8 rounded-r-md",style:{background:`linear-gradient(to bottom, ${L.color||(E.textColor.includes("blue")?"#3b82f6":E.textColor.includes("green")?"#10b981":E.textColor.includes("purple")?"#8b5cf6":E.textColor.includes("amber")?"#f59e0b":"#06b6d4")}, transparent)`},initial:{height:0},animate:{height:24},transition:{duration:.2}})]})},L.path)})})]},O)})}),s.jsx(je.div,{className:"p-4 border-t border-white/10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs(je.button,{onClick:r,className:`
                  flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  relative group w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},style:{background:"linear-gradient(135deg, rgba(220, 38, 38, 0.95) 0%, rgba(185, 28, 28, 0.85) 100%)",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.35), inset 0 1px 3px rgba(255, 255, 255, 0.2)"},"aria-label":"Appel d'urgence",children:[s.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${c?"mx-auto":"mr-3"}
                  bg-white/15 text-white
                `,children:s.jsx(vs,{className:"w-4 h-4"})}),!c&&s.jsx("span",{className:"font-medium",children:"Appel d'urgence"})]}),s.jsxs(je.button,{onClick:w,className:`
                  flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  bg-white/10 hover:bg-white/15 text-white/80 hover:text-white w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},"aria-label":"Se déconnecter",children:[s.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${c?"mx-auto":"mr-3"}
                  text-white/70 group-hover:text-white
                `,children:s.jsx(rk,{className:"w-4 h-4"})}),!c&&s.jsx("span",{className:"font-medium",children:"Déconnexion"})]})]})})]})}),e&&s.jsx(je.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"fixed inset-0 z-50 bg-black/70 lg:hidden",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:s.jsx("div",{className:"absolute inset-y-0 left-0 w-full",children:s.jsx(je.div,{className:"h-full overflow-y-auto rounded-tr-3xl rounded-br-3xl",initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60,width:window.innerWidth<468?"100%":void 0},children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/10",children:[s.jsxs("div",{className:"text-white flex items-center",children:[s.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"OYSTER"}),s.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"0.5rem",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"CULT"})]}),s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 text-white flex items-center justify-center",children:s.jsx(zt,{className:"w-6 h-6"})})]}),s.jsx("nav",{className:"flex-1 space-y-2 p-4 overflow-y-auto",children:wk.map((R,O)=>s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-xs font-medium text-white/70 uppercase tracking-wider px-4 mb-2",children:R.category}),s.jsx("div",{className:"space-y-1",children:R.items.map(E=>{const L=i.pathname===E.path;return s.jsxs(tk,{to:E.path,className:`
                                flex items-center px-4 py-3 rounded-lg text-sm
                                ${L?"bg-white/20 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                              `,onClick:t,children:[E.icon&&K.cloneElement(E.icon,{className:"w-5 h-5 mr-3"}),s.jsx("span",{children:E.label})]},E.path)})})]},O))}),s.jsxs("div",{className:"p-4 pt-2 border-t border-white/10 space-y-3",children:[s.jsxs("button",{onClick:()=>{r(),t()},className:"flex items-center justify-center w-full px-4 py-3 bg-red-600 rounded-lg text-white",children:[s.jsx(vs,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Appel d'urgence"})]}),s.jsxs("button",{onClick:w,className:"flex items-center justify-center w-full px-4 py-3 bg-white/10 rounded-lg text-white",children:[s.jsx(rk,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Déconnexion"})]})]})]})})})})]})}const jX=[{label:"Toutes",value:"all"},{label:"Non lues",value:"unread"},{label:"Importantes",value:"important"}];function SX({onClose:e}){const{notifications:t,markAsRead:r,markAllAsRead:n,addNotification:a}=Yo(),[i,o]=k.useState("all"),[l,c]=k.useState(""),[u,d]=k.useState(!1);k.useState(null);const f=k.useMemo(()=>t.filter(x=>!x.read).length,[t]);k.useEffect(()=>{const x=g=>{g.key==="Escape"&&e()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e]),k.useEffect(()=>{const x=g=>{const v=document.querySelector(".notifications-panel"),b=document.querySelector('[data-notification-bell="true"]');b&&b.contains(g.target)||v&&!v.contains(g.target)&&e()};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[e]);const h=x=>{r(x)},p=(x,g)=>{g.stopPropagation();const v=t.find(b=>b.id===x);v&&(a({type:v.type,title:v.title,message:v.message,important:!v.important,category:v.category,metadata:v.metadata}),r(x))},m=(x,g)=>{g.stopPropagation(),r(x)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50",onClick:e,"aria-hidden":"true"}),s.jsx(je.div,{className:"notifications-panel fixed inset-y-0 right-0 w-full max-w-md backdrop-blur-md shadow-2xl z-[51] margin-top-65",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(5, 20, 43, 0.92) 0%, rgba(10, 120, 115, 0.88) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) -10px 0px 30px -5px, rgba(0, 0, 0, 0.3) -5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs(je.div,{className:"p-6 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(W0,{size:24,className:"text-brand-burgundy"}),f>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-burgundy rounded-full flex items-center justify-center text-xs text-white",children:f})]}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!u),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:s.jsx(Xa,{size:20})}),s.jsx(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:s.jsx(zt,{size:20})})]})]}),s.jsx(_r,{children:u&&s.jsx(je.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"relative mt-4",children:[s.jsx(Xa,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"26%"},"aria-label":"Search icon"}),s.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all"})]})})}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("div",{className:"flex space-x-2",children:jX.map(x=>s.jsx(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(x.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${i===x.value?"bg-brand-burgundy text-white":"bg-white/5 text-white/60 hover:bg-white/10 hover:text-white"}`,children:x.label},x.value))}),s.jsx(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"text-sm text-brand-burgundy hover:text-brand-burgundy/80 transition-colors",children:"Tout marquer comme lu"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s.jsx(_r,{mode:"popLayout",children:t.filter(x=>i==="unread"?!x.read:i==="important"?x.important:!0).filter(x=>l?x.title.toLowerCase().includes(l.toLowerCase())||x.message.toLowerCase().includes(l.toLowerCase()):!0).map((x,g)=>s.jsx(je.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:g*.05},className:`p-4 transition-colors relative cursor-pointer hover:bg-white/10 ${x.read?"bg-transparent":"bg-white/5 shadow-[0_0_15px_rgba(0,210,255,0.2),0_0_8px_rgba(0,0,0,0.2)_inset] border border-cyan-400/40 hover:border-cyan-400/60 rounded-xl"}`,onClick:()=>h(x.id),tabIndex:0,role:"button","aria-label":`Notification: ${x.title}. ${x.read?"Lu":"Non lu"}`,onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&h(x.id)},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${x.type==="alert"?"bg-red-500/20":x.type==="success"?"bg-green-500/20":x.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"}`,children:x.type==="alert"?s.jsx(Ka,{className:"text-red-400",size:20}):x.type==="success"?s.jsx(uf,{className:"text-green-400",size:20}):x.type==="warning"?s.jsx(Ka,{className:"text-yellow-400",size:20}):s.jsx(W0,{className:"text-blue-400",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx("h3",{className:`font-medium ${x.type==="alert"?"text-red-400":x.type==="success"?"text-green-400":x.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:x.title}),s.jsx("p",{className:"text-sm text-white/70 mt-1",children:x.message})]})}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-white/40",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qa,{size:14,className:"mr-1"}),Kt(new Date(x.timestamp),"PPp",{locale:Zr})]}),x.important&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"•"}),s.jsx("div",{className:"text-brand-burgundy",children:"Important"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-1",children:[x.read?s.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-transparent text-white/40 hover:text-white/60 transition-colors rounded-full hover:bg-white/5","aria-label":"Déjà lu",title:"Déjà lu",children:s.jsx(kN,{size:16})}):s.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.stopPropagation(),h(x.id)},className:"p-2 bg-brand-burgundy/20 text-white/80 hover:text-white transition-colors rounded-full hover:bg-brand-burgundy/40","aria-label":"Marquer comme lu",title:"Marquer comme lu",children:s.jsx(kN,{size:16})}),s.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-2 rounded-full ${x.important?"bg-brand-burgundy/20 text-brand-burgundy hover:bg-brand-burgundy/40":"bg-transparent text-white/40 hover:text-white/60 hover:bg-white/5"}`,onClick:v=>p(x.id,v),"aria-label":x.important?"Retirer des importants":"Marquer comme important",title:x.important?"Retirer des importants":"Marquer comme important",children:s.jsx(co,{size:16})}),s.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>m(x.id,v),className:"p-2 bg-transparent text-white/40 hover:text-red-400 transition-colors rounded-full hover:bg-white/5","aria-label":"Supprimer",title:"Supprimer",children:s.jsx(Ci,{size:16})})]})]})},x.id))})})]})})]})}const cg=e=>{const t=k.useRef(null);return k.useEffect(()=>{const r=n=>{t.current&&!t.current.contains(n.target)&&(n.target.closest(".modal-container")||e())};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]),t};let Rv=0;const AX={sm:"max-w-md",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function Gi({isOpen:e,onClose:t,children:r,title:n,size:a="md",showCloseButton:i=!0,className:o=""}){const l=cg(t),c=k.useRef(0);return k.useEffect(()=>(e&&(Rv+=1,c.current=9e3+Rv),()=>{e&&(Rv-=1)}),[e]),k.useEffect(()=>{const u=d=>{d.key==="Escape"&&c.current===9e3+Rv&&t()};return e&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[e,t]),s.jsx(_r,{children:e&&s.jsxs("div",{className:"fixed inset-0",style:{zIndex:c.current},children:[s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto custom-scrollbar",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsxs(je.div,{ref:l,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`modal-container w-full ${AX[a]} bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md rounded-lg shadow-xl ${o}`,onClick:u=>u.stopPropagation(),children:[(n||i)&&s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n&&s.jsx("h2",{className:"text-xl font-bold text-white",children:n}),i&&s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),s.jsx("div",{className:"p-6",children:r})]})})})]})})}function CX({isOpen:e,onClose:t,onFalseAlert:r}){const n=new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return s.jsx(Gi,{isOpen:e,onClose:t,title:"Signal envoyé",size:"lg",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95",children:s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-cyan-400 mb-2",children:"Appel d'urgence activé"}),s.jsx("p",{className:"text-white/70",children:"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(na,{className:"w-5 h-5 text-cyan-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:"Localisation"}),s.jsx("div",{className:"text-white/70",children:"Position GPS transmise automatiquement"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"w-5 h-5 text-cyan-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:"Heure de l'appel"}),s.jsx("div",{className:"text-white/70",children:n})]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[s.jsx("button",{onClick:r,className:"w-full px-8 py-5 bg-green-600 rounded-full text-white text-xl hover:bg-green-700 focus:ring-2 focus:ring-green-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fausse alerte - Tout va bien"}),s.jsx("button",{onClick:t,className:"w-full px-8 py-5 bg-white/5 rounded-full text-white/70 text-xl hover:bg-white/10 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fermer"})]})]})})}function EX({isOpen:e,onClose:t,onSignalSent:r,onFalseAlert:n}){return s.jsx(Gi,{isOpen:e,onClose:t,title:"Signalement de panne",size:"lg",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-full",children:s.jsx(lV,{className:"w-8 h-8 text-cyan-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-cyan-400 mb-2",children:"Besoin d'assistance technique ?"}),s.jsx("p",{className:"text-white/70",children:"Nous allons notifier les producteurs à proximité de votre position. Un professionnel viendra vous aider dès que possible."})]})]}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:t,className:"px-6 py-3 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>{r(),t()},className:"px-6 py-3 bg-cyan-500/20 text-cyan-400 rounded-full hover:bg-cyan-500/30 transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Envoyer le signal"})]})})]})})}function _k({isOpen:e,onClose:t,onConfirm:r}){return s.jsx(Gi,{isOpen:e,onClose:t,title:"Confirmation",size:"sm",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95 !z-[100]",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-red-500/20 rounded-full",children:s.jsx(CM,{className:"w-8 h-8 text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Confirmer l'annulation"}),s.jsx("p",{className:"text-white/70",children:"Êtes-vous certain(e) que tout va bien et qu'il s'agit d'une fausse alerte ?"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:t,className:"px-6 py-3 bg-white/5 text-white/70 rounded-lg hover:bg-white/10 transition-all duration-300",children:"Retour"}),s.jsx("button",{onClick:()=>{r(),t()},className:"px-6 py-3 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(255,0,0,0.2)]",children:"Confirmer"})]})]})})}function kX({isOpen:e,onClose:t}){const[r,n]=k.useState("");k.useState("");const[a,i]=k.useState(""),[o,l]=k.useState(5),[c,u]=k.useState(!0),[d,f]=k.useState(!1),[h,p]=k.useState(!1),[m,x]=k.useState(!1),[g,v]=k.useState(!1),[b,y]=k.useState(!1);k.useEffect(()=>{let T;return e&&c&&o>0?T=setTimeout(()=>{l(R=>R-1)},1e3):o===0&&(y(!0),u(!1)),()=>{T&&clearTimeout(T)}},[e,o,c]),k.useEffect(()=>{e&&(l(5),u(!0),f(!1),y(!1))},[e]);const w=k.useCallback(()=>{u(!1),f(!0)},[]),N=k.useCallback(()=>{p(!0)},[]);k.useCallback(()=>{y(!0)},[]);const S=k.useCallback(()=>{y(!1),t()},[t]),j=k.useCallback(()=>{v(!0)},[]),A=k.useCallback(()=>{v(!1),x(!1),p(!1),y(!1),t()},[t]);return b?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"fixed inset-0 bg-red-900 z-50 flex flex-col items-center justify-center p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-white mb-4",children:r==="boatIssue"?s.jsx(oV,{className:"text-red-600 h-12 w-12"}):s.jsx(Ka,{className:"text-red-600 h-12 w-12"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:r==="boatIssue"?"Appel d'aide en mer envoyé":"Appel d'urgence activé"}),s.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:r==="boatIssue"?"Une notification a été envoyée aux producteurs à proximité et aux services de secours. Quelqu'un viendra vous prêter main forte rapidement.":"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),s.jsxs("div",{className:"p-6 bg-white/10 rounded-lg max-w-2xl w-full mb-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(na,{className:"text-white mr-3",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Localisation"}),s.jsx("p",{className:"text-white/70",children:a||"Position GPS transmise automatiquement"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qa,{className:"text-white mr-3",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Heure de l'appel"}),s.jsx("p",{className:"text-white/70",children:new Date().toLocaleTimeString()})]})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("button",{onClick:j,className:"w-full px-8 py-5 bg-green-600 rounded-full text-white text-xl hover:bg-green-700 focus:ring-2 focus:ring-green-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fausse alerte - Tout va bien"}),s.jsx("div",{className:"h-2"}),s.jsx("button",{onClick:S,className:"w-full px-8 py-5 bg-white/5 rounded-full text-white/70 text-xl hover:bg-white/10 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fermer"})]})]}),s.jsx(_k,{isOpen:g,onClose:()=>v(!1),onConfirm:A})]}):s.jsxs(s.Fragment,{children:[e&&s.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80",role:"dialog","aria-modal":"true","aria-label":"Appel d'urgence",children:[s.jsx("div",{className:"bg-red-600 !rounded-full !p-0 w-[800px] aspect-square flex items-center justify-center mb-8","aria-live":"polite","aria-atomic":"true",children:s.jsx("div",{className:"w-[600px] h-[600px] rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[300px] font-bold text-white","aria-label":`Compte à rebours : ${o} secondes`,children:o})})}),s.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-lg",children:[c?s.jsx("button",{onClick:w,className:"w-full px-8 py-5 bg-cyan-500/60 text-cyan-100 rounded-full text-xl hover:bg-cyan-500/70 focus:ring-2 focus:ring-cyan-500/80 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.3),0_0_15px_rgba(0,210,200,0.4),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.4),0_0_20px_rgba(0,210,200,0.45),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Arrêter le compte à rebours"}):s.jsx("button",{onClick:()=>y(!0),className:"w-full px-8 py-5 bg-red-500 text-white rounded-full text-xl hover:bg-red-600 focus:ring-2 focus:ring-red-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(255,0,0,0.25),0_0_15px_rgba(255,0,0,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(255,0,0,0.3),0_0_20px_rgba(255,0,0,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Je suis en danger"}),d&&s.jsx("button",{onClick:N,className:"w-full px-8 py-5 bg-cyan-500/20 text-cyan-400 rounded-full text-xl hover:bg-cyan-500/30 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Je suis en panne"}),s.jsx("button",{onClick:t,className:"w-full mt-4 px-8 py-5 bg-white/40 rounded-full text-white text-xl hover:bg-white/50 focus:ring-2 focus:ring-cyan-500/80 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.4)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.5)] transform hover:-translate-y-1","aria-label":"Fermer la modale d'urgence",children:"Annuler"})]})]}),s.jsx(EX,{isOpen:h,onClose:()=>p(!1),onSignalSent:()=>x(!0),onFalseAlert:j}),s.jsx(CX,{isOpen:m,onClose:()=>x(!1),onFalseAlert:j}),s.jsx(_k,{isOpen:g,onClose:()=>v(!1),onConfirm:A})]})}function xn({variant:e="primary",size:t="md",fullWidth:r=!1,className:n="",children:a,...i}){const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors",l={primary:"bg-brand-primary text-white hover:bg-brand-primary/90",secondary:"bg-white/10 text-white hover:bg-white/20",outline:"border border-white/10 text-white hover:bg-white/5",ghost:"text-white/60 hover:text-white hover:bg-white/5"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return s.jsx("button",{...i,className:`
        ${o}
        ${l[e]}
        ${c[t]}
        ${r?"w-full":""}
        ${n}
      `,children:a})}function TX(){const[e,t]=k.useState([]);return s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:s.jsx(_r,{children:e.map(r=>s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg p-4 max-w-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:r.title}),s.jsx(xn,{variant:"ghost",size:"sm",onClick:()=>{t(n=>n.filter(a=>a.id!==r.id))},children:s.jsx(zt,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.message})]},r.id))})})}const OX=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function PX(){const[e,t]=k.useState(OX),[r,n]=k.useState(0);return k.useEffect(()=>{const o=e.reduce((l,c)=>l+(c.unreadCount||0),0);n(o)},[e]),{contacts:e,totalUnreadCount:r,markAsRead:o=>{t(l=>l.map(c=>c.id===o?{...c,unreadCount:0}:c))},addMessage:(o,l,c=!1)=>{t(u=>u.map(d=>d.id===o?{...d,lastMessage:l,lastMessageTime:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),unreadCount:c?d.unreadCount||0:(d.unreadCount||0)+1}:d))}}}function DX({size:e=24,className:t="",style:r}){return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,style:r,children:[s.jsx("path",{d:"M2 4c.6.5 1.2 1 2.5 1C7 5 7 3 9.5 3c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"}),s.jsx("path",{d:"M2 9c.6.5 1.2 1 2.5 1C7 10 7 8 9.5 8c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-white",style:{stroke:"white"}}),s.jsx("path",{d:"M2 14c.6.5 1.2 1 2.5 1C7 15 7 13 9.5 13c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"}),s.jsx("path",{d:"M2 19c.6.5 1.2 1 2.5 1C7 20 7 18 9.5 18c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"})]})}function IX({size:e=160,className:t=""}){const r=e/160,n=Math.round(72*r),a=Math.round(56*r);return s.jsx("div",{className:`flex flex-col items-center ${t}`,children:s.jsxs(je.div,{className:"flex items-center py-1.5 px-8 border border-white/10 rounded-lg relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:24,duration:.7},children:[s.jsxs(je.div,{className:"absolute -inset-[1px] rounded-lg z-0 overflow-hidden",style:{background:"transparent"},children:[s.jsx(je.div,{className:"absolute w-[20%] h-[1px]",style:{top:"-1px",background:"linear-gradient(90deg, transparent, rgba(34,211,238,0.3), rgba(34,211,238,0.4), transparent)",boxShadow:"0 0 6px rgba(34,211,238,0.2)"},animate:{left:["-20%","120%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),s.jsx(je.div,{className:"absolute w-[1px] h-[20%]",style:{right:"-1px",background:"linear-gradient(180deg, transparent, rgba(34,211,238,0.3), rgba(34,211,238,0.4), transparent)",boxShadow:"0 0 6px rgba(34,211,238,0.2)"},animate:{top:["-20%","120%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:.75}}),s.jsx(je.div,{className:"absolute w-[20%] h-[1px]",style:{bottom:"-1px",background:"linear-gradient(90deg, transparent, rgba(34,211,238,0.3), rgba(34,211,238,0.4), transparent)",boxShadow:"0 0 6px rgba(34,211,238,0.2)"},animate:{right:["-20%","120%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1.5}}),s.jsx(je.div,{className:"absolute w-[1px] h-[20%]",style:{left:"-1px",background:"linear-gradient(180deg, transparent, rgba(34,211,238,0.3), rgba(34,211,238,0.4), transparent)",boxShadow:"0 0 6px rgba(34,211,238,0.2)"},animate:{bottom:["-20%","120%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:2.25}})]}),s.jsx(je.div,{className:"absolute -inset-[1px] rounded-lg z-0",style:{background:"linear-gradient(90deg, rgba(34,211,238,0.03), rgba(56,189,248,0.05), rgba(34,211,238,0.03))"},animate:{boxShadow:["0 0 2px rgba(34,211,238,0.2), inset 0 0 2px rgba(34,211,238,0.2)","0 0 4px rgba(34,211,238,0.3), inset 0 0 3px rgba(34,211,238,0.3)","0 0 2px rgba(34,211,238,0.2), inset 0 0 2px rgba(34,211,238,0.2)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsxs("div",{className:"flex items-center relative z-10",children:[s.jsx(je.div,{className:"relative mr-6",animate:{rotate:[0,10,-10,10,0]},transition:{duration:5,repeat:1/0,ease:"linear"},children:s.jsx(je.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:s.jsx(DX,{size:a,style:{opacity:.9,transform:"translateY(2px)"}})})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(je.div,{className:"relative",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:s.jsx("span",{className:"tracking-widest",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:500,background:"linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.85) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"0.1em",lineHeight:"1",fontSize:`${n}px`},children:"OYSTER"})}),s.jsx(je.div,{className:"relative ml-1",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:s.jsx("span",{style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,background:"linear-gradient(135deg, rgb(34,211,238) 0%, rgb(56,189,248) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",lineHeight:"1",fontSize:`${n}px`},children:"CULT"})})]}),s.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",style:{background:"radial-gradient(circle at 50% 50%, rgba(56,189,248,0.08), transparent 70%)",filter:"blur(20px)"}})]})]})})}const MX=[{label:"MÉDITERRANÉE",value:"MEDITERRANEE",color:"from-cyan-400 to-blue-500",desc:"Zone caractérisée par des eaux chaudes et une faible amplitude des marées",features:["Température moyenne: 18-25°C","Salinité élevée","Faible marnage"],icon:na},{label:"ATLANTIQUE",value:"ATLANTIQUE",color:"from-blue-400 to-cyan-500",desc:"Zone marquée par des marées importantes et des eaux plus fraîches",features:["Température moyenne: 8-22°C","Salinité modérée","Fort marnage"],icon:Li}],FX=({onSelect:e,onSkip:t})=>{const[r,n]=k.useState(null),a=i=>{n(i),e(i),localStorage.setItem("oyster_zone",i)};return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[540px] py-1.5 px-12 border border-white/10 rounded-lg relative w-full max-w-5xl mx-auto",style:{opacity:1,transform:"none"},role:"dialog","aria-modal":"true","aria-labelledby":"slide-question-title",children:[s.jsxs("div",{className:"absolute -inset-[1px] rounded-lg z-0 overflow-hidden",style:{background:"transparent"},"aria-hidden":"true",children:[s.jsx("div",{className:"absolute w-[20%] h-[1px]",style:{top:"-1px",background:"linear-gradient(90deg, transparent, rgba(34, 211, 238, 0.3), rgba(34, 211, 238, 0.4), transparent)",boxShadow:"rgba(34, 211, 238, 0.2) 0px 0px 6px",left:"40%"}}),s.jsx("div",{className:"absolute w-[1px] h-[20%]",style:{left:"-1px",background:"linear-gradient(transparent, rgba(34, 211, 238, 0.3), rgba(34, 211, 238, 0.4), transparent)",boxShadow:"rgba(34, 211, 238, 0.2) 0px 0px 6px",top:"40%"}}),s.jsx("div",{className:"absolute w-[20%] h-[1px]",style:{bottom:"-1px",background:"linear-gradient(90deg, transparent, rgba(34, 211, 238, 0.3), rgba(34, 211, 238, 0.4), transparent)",boxShadow:"rgba(34, 211, 238, 0.2) 0px 0px 6px",right:"40%"}}),s.jsx("div",{className:"absolute w-[1px] h-[20%]",style:{right:"-1px",background:"linear-gradient(transparent, rgba(34, 211, 238, 0.3), rgba(34, 211, 238, 0.4), transparent)",boxShadow:"rgba(34, 211, 238, 0.2) 0px 0px 6px",bottom:"40%"}})]}),s.jsx("div",{className:"absolute -inset-[1px] rounded-lg z-0",style:{background:"linear-gradient(90deg, rgba(34, 211, 238, 0.03), rgba(56, 189, 248, 0.05), rgba(34, 211, 238, 0.03))",boxShadow:"rgba(34, 211, 238, 0.263) 0px 0px 3.25px, rgba(34, 211, 238, 0.263) 0px 0px 2.62px inset"},"aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-col items-center w-full relative z-10 py-6 md:py-10 px-4",children:[s.jsxs("div",{className:"w-full flex flex-col items-center gap-8 mb-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full shadow-xl animate-pop mb-2 relative overflow-hidden",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{style:{transform:"scale(0.65)"},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.9,transform:"translateY(2px)"},children:[s.jsx("path",{d:"M2 4c.6.5 1.2 1 2.5 1C7 5 7 3 9.5 3c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"}),s.jsx("path",{d:"M2 9c.6.5 1.2 1 2.5 1C7 10 7 8 9.5 8c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-white",style:{stroke:"white"}}),s.jsx("path",{d:"M2 14c.6.5 1.2 1 2.5 1C7 15 7 13 9.5 13c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"}),s.jsx("path",{d:"M2 19c.6.5 1.2 1 2.5 1C7 20 7 18 9.5 18c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",className:"text-cyan-400"})]})})})}),s.jsx(je.h2,{id:"slide-question-title",className:"relative text-3xl md:text-4xl font-bold text-transparent bg-gradient-to-r from-white via-cyan-100 to-white bg-clip-text text-center mb-0 whitespace-nowrap animate-gradient-x",style:{letterSpacing:"0.04em"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:"Où se situe votre production ?"}),s.jsx(je.p,{className:"text-white/70 text-lg md:text-xl text-center mb-4 max-w-3xl mx-auto whitespace-nowrap bg-gradient-to-r from-white/70 via-cyan-200/50 to-white/70 bg-clip-text",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:"Sélectionnez votre zone de production pour une expérience adaptée à votre environnement."})]}),s.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-lg mx-auto mb-12",children:[s.jsx("div",{className:"grid grid-cols-2 gap-6",children:MX.map((i,o)=>{const l=i.icon,c=r===i.value;return s.jsxs(je.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+o*.1},type:"button",className:`group relative flex flex-col items-center justify-center gap-4 px-8 py-10 rounded-2xl h-full bg-gradient-to-br from-white/[0.075] to-white/[0.035] backdrop-blur-sm border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_24px_rgba(0,0,0,0.24),0_0_16px_rgba(0,210,200,0.16)] hover:shadow-[0_8px_28px_rgba(0,0,0,0.28),0_0_24px_rgba(0,210,200,0.24)] min-w-[44px] min-h-[56px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 text-2xl font-medium overflow-hidden ${c?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 text-cyan-300 shadow-[0_6px_24px_rgba(0,0,0,0.3),0_0_28px_rgba(0,210,200,0.28)]":"text-white/90 hover:text-cyan-200"}`,"aria-label":`Production en ${i.label}`,"aria-pressed":c,tabIndex:0,onClick:()=>a(i.value),children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400/10 to-transparent animate-shimmer",style:{"--shimmer-speed":"2.5s"}})}),s.jsxs("div",{className:"relative",children:[s.jsx(l,{className:"text-cyan-400 transition-transform duration-300 group-hover:scale-110","aria-hidden":"true",size:32}),s.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center h-full",children:[s.jsx("span",{className:"relative",children:s.jsx("span",{className:"relative z-10 bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent group-hover:from-cyan-200 group-hover:to-white transition-all duration-300 text-2xl font-medium",children:i.label})}),s.jsx("p",{className:"text-sm text-white/70 group-hover:text-white/90 transition-colors duration-300 max-w-[200px]",children:i.desc}),s.jsx("ul",{className:"mt-2 space-y-1",children:i.features.map((u,d)=>s.jsx("li",{className:"text-xs text-white/60 group-hover:text-white/80 transition-colors duration-300",children:u},d))})]})]},i.value)})}),s.jsxs(je.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},onClick:t,className:"group relative w-full max-w-lg mx-auto flex items-center justify-center gap-3 px-8 py-3.5 text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-400/40 rounded-xl backdrop-blur-sm border border-cyan-400/20 hover:border-cyan-400/30 shadow-[0_4px_12px_rgba(0,0,0,0.1),0_0_8px_rgba(0,210,200,0.1)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.15),0_0_12px_rgba(0,210,200,0.2)] transition-all duration-300 transform hover:-translate-y-0.5 bg-gradient-to-r from-cyan-500/[0.08] to-blue-500/[0.08] hover:from-cyan-500/10 hover:to-blue-500/10 overflow-hidden","aria-label":"Passer la configuration",children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400/10 to-transparent animate-shimmer",style:{"--shimmer-speed":"2s"}})}),s.jsx("span",{className:"text-sm font-medium relative z-10 text-white transition-all duration-300",children:"Passer la configuration"}),s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transform transition-all duration-300 group-hover:translate-x-1 group-hover:scale-105 relative z-10",children:s.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",className:"stroke-white transition-colors duration-300"})}),s.jsx("div",{className:"absolute inset-0 bg-cyan-400/5 opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-300"})]})]})]})]})},RX=()=>{const[e,t]=k.useState(0),[r,n]=k.useState(0),[a,i]=k.useState(null),[o,l]=k.useState(1),[c,u]=k.useState([]),[d,f]=k.useState(null),[h,p]=k.useState(null),[m,x]=k.useState(null),g=Is();k.useEffect(()=>{e>r&&n(e)},[e,r]);const v=w=>{i(w),t(1)},b=w=>{l(w),u(Array(w).fill(!1))},y=w=>{u(N=>N.map((S,j)=>j===w?!S:S))};return s.jsxs("div",{className:"relative w-full flex flex-col items-center justify-center min-h-[480px]",children:[e>0&&e<=6&&s.jsx("button",{className:"absolute top-8 left-8 z-20 flex items-center gap-2 text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-400/40 bg-white/10 rounded-full p-2 shadow",onClick:()=>t(e-1),"aria-label":"Retour à l'étape précédente",children:s.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e>0&&e<r&&e<6&&s.jsx("button",{className:"absolute top-8 right-8 z-20 flex items-center gap-2 text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-400/40 bg-white/10 rounded-full p-2 shadow",onClick:()=>t(e+1),"aria-label":"Aller à l'étape suivante",children:s.jsx("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-right","aria-hidden":"true",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})}),e===0&&s.jsx(FX,{onSelect:v,onSkip:()=>g("/dashboard")}),e===1&&s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[440px] py-1.5 px-12 border border-white/10 rounded-lg relative w-full max-w-5xl mx-auto animate-fade-in",style:{opacity:1,transform:"none"},role:"dialog","aria-modal":"true","aria-labelledby":"tables-question-title",children:[s.jsx("div",{className:"absolute -inset-[1px] rounded-lg z-0",style:{background:"linear-gradient(90deg, rgba(34, 211, 238, 0.03), rgba(56, 189, 248, 0.05), rgba(34, 211, 238, 0.03))",boxShadow:"rgba(34, 211, 238, 0.263) 0px 0px 3.25px, rgba(34, 211, 238, 0.263) 0px 0px 2.62px inset"},"aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-col items-center w-full relative z-10 py-6 md:py-10 px-4",children:[s.jsxs("div",{className:"w-full flex flex-col items-center gap-8 mb-10",children:[s.jsx(je.span,{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-tr from-cyan-400 to-blue-500 shadow-xl animate-pop mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:s.jsx(eh,{size:48,className:"text-white drop-shadow-[0_0_16px_rgba(34,211,238,0.95)]","aria-hidden":"true"})}),s.jsx(je.h2,{id:"tables-question-title",className:"text-2xl md:text-3xl font-bold text-white drop-shadow-[0_0_24px_rgba(34,211,238,0.8)] text-center mb-0 whitespace-nowrap",style:{letterSpacing:"0.04em"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:"Combien de tables de production avez-vous ?"}),s.jsx(je.p,{className:"text-white/70 text-xl md:text-2xl text-center mb-4 max-w-3xl mx-auto whitespace-nowrap",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:"Indiquez le nombre total de tables actives sur votre site."})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40","aria-label":"Diminuer le nombre de tables",onClick:()=>b(Math.max(1,o-1)),disabled:o<=1,children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minus",children:s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),s.jsx("input",{type:"number",min:1,max:20,className:"text-xl text-center w-20 p-2 rounded-lg bg-white/20 text-cyan-600 border-2 border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40 appearance-none hide-spin","aria-label":"Nombre de tables de production",value:o,onChange:w=>b(Math.max(1,Math.min(20,Number(w.target.value)))),style:{MozAppearance:"textfield"}}),s.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40","aria-label":"Augmenter le nombre de tables",onClick:()=>b(Math.min(20,o+1)),disabled:o>=20,children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),s.jsx("button",{className:"mt-2 px-6 py-2 rounded-full bg-cyan-500/20 text-cyan-400 font-semibold shadow focus:outline-none focus:ring-2 focus:ring-cyan-400/40 text-base transition-all duration-300",onClick:()=>{b(o),t(2)},children:"Suivant"})]})]}),e===2&&s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[440px] py-1.5 px-12 border border-white/10 rounded-lg relative w-full max-w-5xl mx-auto animate-fade-in",style:{opacity:1,transform:"none"},role:"dialog","aria-modal":"true","aria-labelledby":"tables-select-title",children:[s.jsx("div",{className:"absolute -inset-[1px] rounded-lg z-0",style:{background:"linear-gradient(90deg, rgba(34, 211, 238, 0.03), rgba(56, 189, 248, 0.05), rgba(34, 211, 238, 0.03))",boxShadow:"rgba(34, 211, 238, 0.263) 0px 0px 3.25px, rgba(34, 211, 238, 0.263) 0px 0px 2.62px inset"},"aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-col items-center w-full relative z-10 py-6 md:py-10 px-4",children:[s.jsxs("div",{className:"w-full flex flex-col items-center gap-8 mb-10",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-tr from-cyan-400 to-blue-500 shadow-xl animate-pop mb-2",children:s.jsx(eh,{size:48,className:"text-white drop-shadow-[0_0_16px_rgba(34,211,238,0.95)]","aria-hidden":"true"})}),s.jsx("h2",{id:"tables-select-title",className:"text-2xl md:text-3xl font-bold text-white drop-shadow-[0_0_24px_rgba(34,211,238,0.8)] text-center mb-0 whitespace-nowrap",style:{letterSpacing:"0.04em"},children:"Sélectionnez vos tables de production"}),s.jsx("p",{className:"text-white/70 text-xl md:text-2xl text-center mb-4 max-w-3xl mx-auto whitespace-nowrap",children:"Cliquez sur chaque table pour valider qu'elle contient bien 100 perches."})]}),s.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-4",children:Array.from({length:o}).map((w,N)=>s.jsxs(je.button,{type:"button",className:`w-14 h-20 rounded-lg border-2 transition-all duration-200 flex items-center justify-center text-base font-bold select-none focus:outline-none focus:ring-2 focus:ring-cyan-400/40 shadow-md ${c[N]?"bg-cyan-400/30 border-cyan-400 text-cyan-900 shadow-lg scale-105":"bg-white/10 border-white/30 text-white/70 hover:border-cyan-400/40"}`,"aria-pressed":c[N],"aria-label":`Table ${N+1}`,onClick:()=>y(N),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+N*.1},children:["Table ",N+1]}))}),s.jsx(je.button,{className:"mt-2 px-6 py-2 rounded-full bg-cyan-500/20 text-cyan-400 font-semibold shadow focus:outline-none focus:ring-2 focus:ring-cyan-400/40 text-base transition-all duration-300",onClick:()=>t(3),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:"Suivant"})]})]}),e===3&&s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[440px] py-1.5 px-12 border border-white/10 rounded-lg relative w-full max-w-5xl mx-auto animate-fade-in",style:{opacity:1,transform:"none"},role:"dialog","aria-modal":"true","aria-labelledby":"cordes-question-title",children:[s.jsx("div",{className:"absolute -inset-[1px] rounded-lg z-0",style:{background:"linear-gradient(90deg, rgba(34, 211, 238, 0.03), rgba(56, 189, 248, 0.05), rgba(34, 211, 238, 0.03))",boxShadow:"rgba(34, 211, 238, 0.263) 0px 0px 3.25px, rgba(34, 211, 238, 0.263) 0px 0px 2.62px inset"},"aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-col items-center w-full relative z-10 py-6 md:py-10 px-4",children:[s.jsxs("div",{className:"w-full flex flex-col items-center gap-8 mb-10",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-tr from-cyan-400 to-blue-500 shadow-xl animate-pop mb-2",children:s.jsx(eh,{size:48,className:"text-white drop-shadow-[0_0_16px_rgba(34,211,238,0.95)]","aria-hidden":"true"})}),s.jsx("h2",{id:"cordes-question-title",className:"text-2xl md:text-3xl font-bold text-white drop-shadow-[0_0_24px_rgba(34,211,238,0.8)] text-center mb-0 whitespace-nowrap",style:{letterSpacing:"0.04em"},children:"Combien de cordes pendez-vous par perche ?"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40","aria-label":"Diminuer le nombre de cordes",onClick:()=>f(Math.max(1,(d??1)-1)),disabled:d<=1,children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),s.jsx("input",{type:"number",min:1,max:10,value:d??"",onChange:w=>f(Math.max(1,Math.min(10,Number(w.target.value)))),className:"text-xl text-center w-20 p-2 rounded-lg bg-white/20 text-cyan-600 border-2 border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40 appearance-none hide-spin","aria-label":"Nombre de cordes par perche",style:{MozAppearance:"textfield"},onKeyDown:w=>{["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(w.key)&&w.stopPropagation()},onWheel:w=>w.stopPropagation()}),s.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40","aria-label":"Augmenter le nombre de cordes",onClick:()=>f(Math.min(10,(d??1)+1)),disabled:d>=10,children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),s.jsx("button",{type:"button",className:"mt-2 px-6 py-2 rounded-full bg-cyan-500/20 text-cyan-400 font-semibold shadow focus:outline-none focus:ring-2 focus:ring-cyan-400/40 text-base transition-all duration-300 disabled:opacity-60",onClick:()=>d&&t(4),disabled:!d,children:"Suivant"})]})]}),e===4&&s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[440px] py-1.5 px-12 border border-white/10 rounded-lg relative w-full max-w-5xl mx-auto animate-fade-in",style:{opacity:1,transform:"none"},role:"dialog","aria-modal":"true","aria-labelledby":"metres-question-title",children:[s.jsx("div",{className:"absolute -inset-[1px] rounded-lg z-0",style:{background:"linear-gradient(90deg, rgba(34, 211, 238, 0.03), rgba(56, 189, 248, 0.05), rgba(34, 211, 238, 0.03))",boxShadow:"rgba(34, 211, 238, 0.263) 0px 0px 3.25px, rgba(34, 211, 238, 0.263) 0px 0px 2.62px inset"},"aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-col items-center w-full relative z-10 py-6 md:py-10 px-4",children:[s.jsxs("div",{className:"w-full flex flex-col items-center gap-8 mb-10",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-tr from-cyan-400 to-blue-500 shadow-xl animate-pop mb-2",children:s.jsx(eh,{size:48,className:"text-white drop-shadow-[0_0_16px_rgba(34,211,238,0.95)]","aria-hidden":"true"})}),s.jsx("h2",{id:"metres-question-title",className:"text-2xl md:text-3xl font-bold text-white drop-shadow-[0_0_24px_rgba(34,211,238,0.8)] text-center mb-0 whitespace-nowrap",style:{letterSpacing:"0.04em"},children:"Sur combien de mètres collez-vous ?"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40","aria-label":"Diminuer le nombre de mètres",onClick:()=>p(Math.max(1,(h??1)-1)),disabled:h<=1,children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),s.jsx("input",{type:"number",min:1,max:100,value:h??"",onChange:w=>p(Math.max(1,Math.min(100,Number(w.target.value)))),className:"text-xl text-center w-20 p-2 rounded-lg bg-white/20 text-cyan-600 border-2 border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40 appearance-none hide-spin","aria-label":"Nombre de mètres",style:{MozAppearance:"textfield"},onKeyDown:w=>{["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(w.key)&&w.stopPropagation()},onWheel:w=>w.stopPropagation()}),s.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40","aria-label":"Augmenter le nombre de mètres",onClick:()=>p(Math.min(100,(h??1)+1)),disabled:h>=100,children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),s.jsx("button",{type:"button",className:"mt-2 px-6 py-2 rounded-full bg-cyan-500/20 text-cyan-400 font-semibold shadow focus:outline-none focus:ring-2 focus:ring-cyan-400/40 text-base transition-all duration-300 disabled:opacity-60",onClick:()=>h&&t(5),disabled:!h,children:"Suivant"})]})]}),e===5&&s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[440px] py-1.5 px-12 border border-white/10 rounded-lg relative w-full max-w-5xl mx-auto animate-fade-in",style:{opacity:1,transform:"none"},role:"dialog","aria-modal":"true","aria-labelledby":"huitres-question-title",children:[s.jsx("div",{className:"absolute -inset-[1px] rounded-lg z-0",style:{background:"linear-gradient(90deg, rgba(34, 211, 238, 0.03), rgba(56, 189, 248, 0.05), rgba(34, 211, 238, 0.03))",boxShadow:"rgba(34, 211, 238, 0.263) 0px 0px 3.25px, rgba(34, 211, 238, 0.263) 0px 0px 2.62px inset"},"aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-col items-center w-full relative z-10 py-6 md:py-10 px-4",children:[s.jsxs("div",{className:"w-full flex flex-col items-center gap-8 mb-10",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-tr from-cyan-400 to-blue-500 shadow-xl animate-pop mb-2",children:s.jsx(eh,{size:48,className:"text-white drop-shadow-[0_0_16px_rgba(34,211,238,0.95)]","aria-hidden":"true"})}),s.jsx("h2",{id:"huitres-question-title",className:"text-2xl md:text-3xl font-bold text-white drop-shadow-[0_0_24px_rgba(34,211,238,0.8)] text-center mb-0 whitespace-nowrap",style:{letterSpacing:"0.04em"},children:"Combien d’huîtres par corde ?"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40","aria-label":"Diminuer le nombre d’huîtres",onClick:()=>x(Math.max(1,(m??1)-1)),disabled:m<=1,children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),s.jsx("input",{type:"number",min:1,max:1e4,value:m??"",onChange:w=>x(Math.max(1,Math.min(1e4,Number(w.target.value)))),className:"text-xl text-center w-20 p-2 rounded-lg bg-white/20 text-cyan-600 border-2 border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40 appearance-none hide-spin","aria-label":"Nombre d’huîtres par corde",style:{MozAppearance:"textfield"},onKeyDown:w=>{["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(w.key)&&w.stopPropagation()},onWheel:w=>w.stopPropagation()}),s.jsx("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-400/40","aria-label":"Augmenter le nombre d’huîtres",onClick:()=>x(Math.min(1e4,(m??1)+1)),disabled:m>=1e4,children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),s.jsx("button",{type:"button",className:"mt-2 px-6 py-2 rounded-full bg-cyan-500/20 text-cyan-400 font-semibold shadow focus:outline-none focus:ring-2 focus:ring-cyan-400/40 text-base transition-all duration-300 disabled:opacity-60",onClick:()=>m&&t(6),disabled:!m,children:"Suivant"})]})]}),e===6&&s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[440px] py-1.5 px-12 border border-white/10 rounded-lg relative w-full max-w-5xl mx-auto animate-fade-in",style:{opacity:1,transform:"none"},role:"dialog","aria-modal":"true","aria-labelledby":"recap-question-title",children:[s.jsx("div",{className:"absolute -inset-[1px] rounded-lg z-0",style:{background:"linear-gradient(90deg, rgba(34, 211, 238, 0.03), rgba(56, 189, 248, 0.05), rgba(34, 211, 238, 0.03))",boxShadow:"rgba(34, 211, 238, 0.263) 0px 0px 3.25px, rgba(34, 211, 238, 0.263) 0px 0px 2.62px inset"},"aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-col items-center w-full relative z-10 py-6 md:py-10 px-4",children:[s.jsxs("div",{className:"w-full flex flex-col items-center gap-8 mb-10",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-tr from-cyan-400 to-blue-500 shadow-xl animate-pop mb-2",children:s.jsx(eh,{size:48,className:"text-white drop-shadow-[0_0_16px_rgba(34,211,238,0.95)]","aria-hidden":"true"})}),s.jsx("h2",{id:"recap-question-title",className:"text-2xl md:text-3xl font-bold text-white drop-shadow-[0_0_24px_rgba(34,211,238,0.8)] text-center mb-0 whitespace-nowrap",style:{letterSpacing:"0.04em"},children:"Récapitulatif de vos paramètres"})]}),s.jsxs("p",{className:"text-white/80 text-base md:text-lg text-center mb-6 max-w-lg mx-auto",children:["Voici un résumé de votre configuration de production. Vous pourrez la modifier à tout moment dans l'onglet ",s.jsx("span",{className:"text-cyan-400 font-semibold",children:"Configuration"}),"."]}),s.jsxs("div",{className:"w-full bg-white/10 rounded-xl p-4 mb-6 flex flex-col gap-2 border border-white/10",children:[s.jsxs("div",{className:"flex justify-between text-white/90",children:[s.jsx("span",{className:"font-semibold",children:"Zone de production :"})," ",s.jsx("span",{className:"text-cyan-300 font-bold",children:a})]}),s.jsxs("div",{className:"flex justify-between text-white/90",children:[s.jsx("span",{className:"font-semibold",children:"Nombre de tables :"})," ",s.jsx("span",{children:o})]}),s.jsxs("div",{className:"flex justify-between text-white/90",children:[s.jsx("span",{className:"font-semibold",children:"Tables sélectionnées :"})," ",s.jsxs("span",{children:[c.filter(Boolean).length," / ",o]})]}),s.jsxs("div",{className:"flex justify-between text-white/90",children:[s.jsx("span",{className:"font-semibold",children:"Cordes par perche :"})," ",s.jsx("span",{children:d})]}),s.jsxs("div",{className:"flex justify-between text-white/90",children:[s.jsx("span",{className:"font-semibold",children:"Mètres par corde :"})," ",s.jsx("span",{children:h})]}),s.jsxs("div",{className:"flex justify-between text-white/90",children:[s.jsx("span",{className:"font-semibold",children:"Huîtres par corde :"})," ",s.jsx("span",{children:m})]})]}),s.jsx("button",{type:"button",className:"mt-2 px-8 py-3 rounded-full bg-cyan-500/20 text-cyan-400 font-semibold shadow focus:outline-none focus:ring-2 focus:ring-cyan-400/40 text-lg transition-all duration-300 disabled:opacity-60",onClick:()=>g("/dashboard"),"aria-label":"Terminer et accéder au dashboard",children:"Terminer"})]})]})]})},LX=()=>{const e=new Date().getFullYear();return s.jsxs("footer",{className:"mt-auto w-full glass-effect border-t border-white/10 py-8 px-6 z-50 shadow-[0_-8px_16px_-6px_rgba(0,0,0,0.2)] bg-black/40",style:{transform:"translateZ(0)",willChange:"transform"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/10 via-brand-secondary/10 to-brand-tertiary/10 animate-gradient-x"}),s.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary font-semibold mb-2",children:"À propos d'Oyster Cult"}),s.jsx("p",{className:"text-white/60 text-xs leading-relaxed",children:"Oyster Cult révolutionne la gestion des huîtres avec des solutions innovantes pour les ostréiculteurs. Notre plateforme combine technologie de pointe et expertise du secteur."}),s.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[s.jsx("a",{href:"#",className:"text-white/60 hover:text-brand-primary hover:scale-110 transform transition-all duration-200",children:s.jsx(cV,{size:16})}),s.jsx("a",{href:"#",className:"text-white/60 hover:text-brand-primary hover:scale-110 transform transition-all duration-200",children:s.jsx(uV,{size:16})}),s.jsx("a",{href:"#",className:"text-white/60 hover:text-brand-primary hover:scale-110 transform transition-all duration-200",children:s.jsx(dV,{size:16})}),s.jsx("a",{href:"#",className:"text-white/60 hover:text-brand-primary hover:scale-110 transform transition-all duration-200",children:s.jsx(fV,{size:16})}),s.jsx("a",{href:"#",className:"text-white/60 hover:text-brand-primary hover:scale-110 transform transition-all duration-200",children:s.jsx(hV,{size:16})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary font-semibold mb-2",children:"Liens rapides"}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx("a",{href:"/dashboard",className:"text-white/60 hover:text-brand-primary hover:-translate-y-0.5 transform transition-all duration-200 text-sm",children:"Dashboard"}),s.jsx("a",{href:"/tasks",className:"text-white/60 hover:text-brand-primary hover:-translate-y-0.5 transform transition-all duration-200 text-sm",children:"Tâches"}),s.jsx("a",{href:"/stocks",className:"text-white/60 hover:text-brand-primary hover:-translate-y-0.5 transform transition-all duration-200 text-sm",children:"Stocks"}),s.jsx("a",{href:"/analyses",className:"text-white/60 hover:text-brand-primary hover:-translate-y-0.5 transform transition-all duration-200 text-sm",children:"Analyses"}),s.jsx("a",{href:"/surveillance",className:"text-white/60 hover:text-brand-primary hover:-translate-y-0.5 transform transition-all duration-200 text-sm",children:"Surveillance"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary font-semibold mb-2",children:"Support"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[s.jsx(vs,{size:16}),s.jsx("span",{className:"text-sm",children:"+33 (0)6 51 94 48 44"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[s.jsx(uo,{size:16}),s.jsx("span",{className:"text-sm",children:"contact@oystercult.com"})]}),s.jsxs("div",{className:"flex items-start gap-2 text-white/60",children:[s.jsx(na,{size:16,className:"mt-1 flex-shrink-0"}),s.jsxs("span",{className:"text-sm",children:["123 chemin du mas d'argent",s.jsx("br",{}),"34140 Bouzigues, France"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[s.jsx(df,{size:16}),s.jsx("span",{className:"text-sm",children:"www.oystercult.com"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary font-semibold mb-2",children:"Newsletter"}),s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Restez informé des dernières actualités et innovations."}),s.jsxs("form",{className:"space-y-2",children:[s.jsx("input",{type:"email",placeholder:"Votre email",className:"w-full px-4 py-2 glass-effect border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-brand-primary/40 transition-all duration-200"}),s.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-gradient-to-r from-brand-primary to-brand-secondary hover:from-brand-primary/90 hover:to-brand-secondary/90 text-white rounded-lg transition-all duration-200 text-sm font-medium hover:shadow-neon",children:"S'abonner"})]})]})]}),s.jsxs("div",{className:"border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-white/60 text-sm",children:["© ",e," OYSTER CULT. Tous droits réservés."]}),s.jsxs("div",{className:"flex items-center gap-6 flex-wrap justify-center",children:[s.jsx("a",{href:"/mentions-legales",className:"text-white/60 hover:text-cyan-400 text-sm transition-colors duration-200",children:"Mentions légales"}),s.jsx("a",{href:"/confidentialite",className:"text-white/60 hover:text-cyan-400 text-sm transition-colors duration-200",children:"Politique de confidentialité"}),s.jsx("a",{href:"/cgv",className:"text-white/60 hover:text-cyan-400 text-sm transition-colors duration-200",children:"CGV"}),s.jsx("a",{href:"/faq",className:"text-white/60 hover:text-cyan-400 text-sm transition-colors duration-200",children:"FAQ"}),s.jsx("a",{href:"/contact",className:"text-white/60 hover:text-cyan-400 text-sm transition-colors duration-200",children:"Contact"})]})]})]})]})};function f7(e=[]){k.useEffect(()=>{const t=()=>{window.scrollTo({top:0,left:0,behavior:"auto"}),document.body.scrollTop=0,document.body.scrollLeft=0,document.querySelectorAll('[style*="overflow"], .overflow-auto, .overflow-y-auto, .overflow-x-auto').forEach(a=>{a instanceof HTMLElement&&(a.scrollTop=0,a.scrollLeft=0)})},r=()=>{const a=document.querySelector('meta[name="viewport"]');a&&a.setAttribute("content","width=1920, initial-scale=0.25, user-scalable=yes")};t(),r();const n=setTimeout(()=>{t(),r()},300);return()=>clearTimeout(n)},e)}const BX={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3}}},D_={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};function $X(){Is();const[e,t]=k.useState(!1),[r,n]=k.useState(window.innerWidth),[a,i]=k.useState(!1);k.useEffect(()=>{const u=()=>{n(window.innerWidth)};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),f7();const o=()=>{t(!0)},l=u=>{u.preventDefault(),localStorage.setItem("isAuthenticated","true"),i(!0)},c=r<431?100:r<480?150:r<768?200:350;return s.jsxs("div",{className:"auth-page flex flex-col",children:[s.jsx("div",{className:"wave-loading"}),s.jsx("div",{className:"wave-container",children:s.jsx("div",{className:"wave"})}),s.jsx("div",{className:"auth-content-wrapper flex-grow",children:s.jsxs(je.div,{className:"auth-content",variants:BX,initial:"hidden",animate:"visible",children:[s.jsx(je.div,{variants:D_,className:"auth-logo-container",style:{transform:"translateY(10vh)"},children:s.jsx(IX,{size:c})}),s.jsx("div",{className:"auth-form-area",children:a?s.jsx("div",{className:"flex flex-col items-center justify-center min-h-[350px]",children:s.jsx(RX,{})}):s.jsxs(s.Fragment,{children:[s.jsxs(je.div,{className:"auth-welcome",initial:{opacity:1,y:0},animate:e?{opacity:0,y:-20,transitionEnd:{display:"none"}}:{opacity:1,y:0,display:"flex"},transition:{duration:.4,ease:[.4,0,.2,1]},style:{pointerEvents:e?"none":"auto"},children:[s.jsx(je.p,{variants:D_,className:"auth-welcome-text",children:"Bienvenue dans votre espace de gestion"}),s.jsx(je.button,{variants:D_,className:"auth-button",onClick:o,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Connexion"})]}),s.jsx(je.div,{className:"auth-form-container",initial:{opacity:0,y:20},animate:e?{opacity:1,y:0,display:"block"}:{opacity:0,y:20,transitionEnd:{display:"none"}},transition:{duration:.4,ease:[.4,0,.2,1],opacity:{duration:.3}},style:{pointerEvents:e?"auto":"none"},children:s.jsxs("div",{className:"auth-form-wrapper group",children:[s.jsx("div",{className:"auth-form-glow"}),s.jsx("div",{className:"auth-form",children:s.jsxs("form",{onSubmit:l,className:"auth-form-inner",children:[s.jsx("div",{className:"auth-form-header",children:s.jsx(je.div,{className:"auth-form-title",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.1},children:"Pour les pros, par les pros."})}),s.jsxs("div",{className:"auth-form-fields",children:[s.jsxs("div",{className:"auth-input-group group",children:[s.jsx("div",{className:"auth-input-highlight"}),s.jsx("div",{className:"auth-input-icon",children:s.jsx(pV,{size:18,className:"text-white",color:"white",strokeWidth:2})}),s.jsx("input",{type:"email",defaultValue:"nicolasd34@gmail.com",readOnly:!0,className:"auth-input"})]}),s.jsxs("div",{className:"auth-input-group group",children:[s.jsx("div",{className:"auth-input-highlight"}),s.jsx("div",{className:"auth-input-icon",children:s.jsx(t1,{size:18,className:"text-white",color:"white",strokeWidth:2})}),s.jsx("input",{type:"password",readOnly:!0,className:"auth-input",value:"demo123"})]})]}),s.jsx("button",{type:"submit",className:"auth-submit-button",children:"Se connecter"}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{type:"button",onClick:()=>alert("Fonctionnalité à venir"),className:"text-sm text-white transition-colors",children:"Mot de passe oublié ?"})})]})})]})})]})})]})}),s.jsx(LX,{})]})}const kn={temperature:18,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:12,forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9},{time:"18:00",temp:17,windSpeed:20,windDirection:310,waveHeight:1},{time:"21:00",temp:16,windSpeed:16,windDirection:305,waveHeight:.9}],dailyForecast:[{day:"Lundi",condition:"sunny",tempMin:16,tempMax:22,windSpeed:12,windDirection:45,waveHeight:.5},{day:"Mardi",condition:"sunny",tempMin:17,tempMax:23,windSpeed:10,windDirection:90,waveHeight:.4},{day:"Mercredi",condition:"sunny",tempMin:15,tempMax:19,windSpeed:14,windDirection:90,waveHeight:.6},{day:"Jeudi",condition:"rainy",tempMin:14,tempMax:17,windSpeed:18,windDirection:135,waveHeight:.7}],waterTemp:18,feelsLike:18},I_=e=>{const t=["N","NE","E","SE","S","SO","O","NO"],r=Math.round(e/45)%8;return t[r]},Nk=({condition:e})=>{switch(e){case"sunny":return s.jsx(fb,{className:"w-12 h-12 text-yellow-400"});case"cloudy":return s.jsx(ON,{className:"w-12 h-12 text-white/60"});case"rainy":return s.jsx(EM,{className:"w-12 h-12 text-blue-400"});case"partly-cloudy":return s.jsxs("div",{className:"relative",children:[s.jsx(fb,{className:"w-12 h-12 text-yellow-400"}),s.jsx(ON,{className:"w-8 h-8 text-white/60 absolute -bottom-2 -right-2"})]})}},rh=({title:e,icon:t,children:r,className:n})=>{const[a,i]=K.useState(!1),[o,l]=K.useState(!1);return K.useEffect(()=>{const c=()=>{const u=window.innerWidth<=768;l(u)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]),s.jsxs(je.div,{className:`
        ${o?"":"bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]"}
        ${o?"":"-webkit-backdrop-filter backdrop-filter backdrop-blur-[20px]"}
        rounded-lg p-4 
        ${o?"":"shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]"}
        transition-all duration-200 relative overflow-hidden
        ${o?"":a?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
        ${n||""}
      `,onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),whileHover:{y:-4,transition:{duration:.2}},children:[s.jsx(je.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.05)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:.2}}),s.jsxs("div",{className:"flex items-center space-x-3 mb-3 relative z-10",children:[s.jsx("div",{className:"text-cyan-400",children:t}),s.jsx("h3",{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent font-medium whitespace-nowrap",children:e})]}),s.jsx("div",{className:"relative z-10",children:r})]})};function jk({title:e,icon:t,children:r}){const[n,a]=K.useState(!1);return s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>a(!n),className:"w-full flex items-center justify-between p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-colors","aria-expanded":n,children:[s.jsxs("div",{className:"flex items-center",children:[t,s.jsx("h3",{className:"ml-2 text-xl font-semibold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:e})]}),s.jsx(je.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:s.jsx(ff,{size:20,className:"text-cyan-400"})})]}),s.jsx(_r,{children:n&&s.jsx(je.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx("div",{className:"pt-4",children:r})})})]})}function zX(){return s.jsx("div",{className:"weather-widget-container w-full",style:{width:"100%",margin:0,padding:0,position:"relative",boxSizing:"border-box"},children:s.jsxs("div",{className:"weather-widget w-full flex flex-col glass-effect rounded-xl p-6",style:{width:"100%",maxWidth:"100%",margin:0,boxSizing:"border-box"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(to,{size:24,className:"text-cyan-400 mr-3"})}),s.jsx("h2",{className:"text-3xl font-semibold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent whitespace-nowrap",children:"Météo & Conditions Maritimes"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(na,{size:20,className:"text-cyan-400","aria-hidden":"true"}),s.jsx("span",{className:"text-2xl font-semibold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Bouzigues"}),s.jsx("span",{className:"text-white/60",children:", "}),s.jsx("span",{className:"text-white/60 text-base",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})})]})]}),s.jsxs("div",{className:"hidden md:grid md:grid-cols-4 md:gap-4 md:mb-4",style:{minHeight:"200px"},children:[s.jsx(rh,{title:"Température",icon:s.jsx(to,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:s.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[s.jsx("div",{className:"flex flex-col items-center",children:s.jsxs("div",{className:"flex items-baseline justify-center",children:[s.jsx("div",{className:"text-4xl font-bold text-white",children:kn.temperature}),s.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"°C"})]})}),s.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(to,{size:16,className:"text-cyan-400 mr-2"}),s.jsxs("span",{className:"text-white/80",children:["Ressenti ",kn.feelsLike,"°C"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ji,{size:16,className:"text-cyan-400 mr-2"}),s.jsxs("span",{className:"text-white/80",children:["Humidité ",kn.humidity,"%"]})]})]})]})}),s.jsx(rh,{title:"Vent",icon:s.jsx(Xu,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:s.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[s.jsx("div",{className:"flex flex-col items-center",children:s.jsxs("div",{className:"flex items-baseline justify-center",children:[s.jsx("div",{className:"text-4xl font-bold text-white",children:kn.windSpeed}),s.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"km/h"})]})}),s.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bc,{size:16,className:"text-cyan-400 mr-2",style:{transform:`rotate(${kn.windDirection}deg)`}}),s.jsx("span",{className:"text-white/80",children:I_(kn.windDirection)})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xu,{size:16,className:"text-cyan-400 mr-2"}),s.jsxs("span",{className:"text-white/80",children:["Rafales ",kn.windGust," km/h"]})]})]})]})}),s.jsx(rh,{title:"Mer",icon:s.jsx(Li,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:s.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[s.jsx("div",{className:"flex flex-col items-center",children:s.jsxs("div",{className:"flex items-baseline justify-center",children:[s.jsx("div",{className:"text-4xl font-bold text-white",children:kn.waveHeight}),s.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"m"})]})}),s.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(TN,{size:16,className:"text-cyan-400 mr-2"}),s.jsx("span",{className:"text-white/80",children:I_(kn.waveDirection)})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(to,{size:16,className:"text-cyan-400 mr-2"}),s.jsxs("span",{className:"text-white/80",children:["Eau ",kn.waterTemp,"°C"]})]})]})]})}),s.jsx(rh,{title:"Marées",icon:s.jsx(TN,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:s.jsxs("div",{className:"flex flex-col h-full justify-between py-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(q2,{size:16,className:"text-cyan-400 mr-2"}),s.jsx("span",{className:"text-white/80",children:"Marée haute"})]}),s.jsx("div",{className:"text-white font-medium",children:kn.nextHighTide})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(G2,{size:16,className:"text-cyan-400 mr-2"}),s.jsx("span",{className:"text-white/80",children:"Marée basse"})]}),s.jsx("div",{className:"text-white font-medium",children:kn.nextLowTide})]})]})})]}),s.jsx(jk,{title:"Prévisions horaires",icon:s.jsx(ta,{size:20,className:"text-cyan-400"}),children:s.jsx("div",{className:"grid grid-cols-4 gap-6",children:kn.forecast.map((e,t)=>s.jsx(rh,{title:e.time,icon:s.jsx(Qa,{size:20}),className:"text-center p-5 transform hover:scale-105 transition-transform duration-300",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsxs("div",{className:"text-3xl font-bold text-white",children:[e.temp,"°C"]}),s.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[s.jsx(Xu,{size:18,className:"text-cyan-400"}),s.jsxs("span",{children:[e.windSpeed," km/h"]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[s.jsx(Li,{size:18,className:"text-cyan-400"}),s.jsxs("span",{children:[e.waveHeight,"m"]})]})]})},t))})}),s.jsx(jk,{title:"Prévisions des prochains jours",icon:s.jsx(ta,{size:20,className:"text-cyan-400"}),children:s.jsx("div",{className:"grid grid-cols-4 gap-6",children:kn.dailyForecast.map((e,t)=>s.jsx(rh,{title:e.day,icon:s.jsx(Nk,{condition:e.condition}),className:"text-center p-5 transform hover:scale-105 transition-transform duration-300",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs("div",{className:"flex items-center text-red-400",children:[s.jsx(q2,{size:16}),s.jsxs("span",{className:"text-2xl font-semibold",children:[e.tempMax,"°"]})]}),s.jsx("div",{className:"text-white/20",children:"|"}),s.jsxs("div",{className:"flex items-center text-blue-400",children:[s.jsx(G2,{size:16}),s.jsxs("span",{className:"text-2xl font-semibold",children:[e.tempMin,"°"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[s.jsx(Xu,{size:18,className:"text-cyan-400"}),s.jsxs("span",{children:[e.windSpeed," km/h"]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[s.jsx(Li,{size:18,className:"text-cyan-400"}),s.jsxs("span",{children:[e.waveHeight,"m"]})]})]})},t))})}),s.jsxs("div",{className:"md:hidden flex flex-col space-y-4 w-full",style:{width:"100%",maxWidth:"100%",margin:0,padding:0,boxSizing:"border-box"},children:[s.jsxs("div",{className:"mobile-weather-main w-full glass-effect rounded-xl p-3",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[s.jsxs("div",{className:"mobile-weather-header w-full",children:[s.jsxs("div",{className:"mobile-current-temp",children:[kn.temperature,"°C"]}),s.jsx(Nk,{condition:kn.conditions})]}),s.jsxs("div",{className:"mobile-weather-details w-full",children:[s.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Conditions de vent",title:"Conditions de vent",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Xu,{size:20,className:"mobile-weather-detail-icon"})}),s.jsx("div",{className:"mobile-weather-detail-label",children:"Vent"}),s.jsxs("div",{className:"mobile-weather-detail-value",children:[kn.windSpeed," km/h"]})]}),s.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Niveau d'humidité",title:"Niveau d'humidité",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(ji,{size:20,className:"mobile-weather-detail-icon"})}),s.jsx("div",{className:"mobile-weather-detail-label",children:"Humidité"}),s.jsxs("div",{className:"mobile-weather-detail-value",children:[kn.humidity,"%"]})]}),s.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Hauteur des vagues",title:"Hauteur des vagues",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Li,{size:20,className:"mobile-weather-detail-icon"})}),s.jsx("div",{className:"mobile-weather-detail-label",children:"Vagues"}),s.jsxs("div",{className:"mobile-weather-detail-value",children:[kn.waveHeight," m"]})]})]}),s.jsx("div",{className:"mobile-weather-status",children:"Partiellement nuageux"})]}),s.jsxs("div",{className:"w-full flex flex-wrap justify-center",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[s.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300 m-2",children:[s.jsxs("div",{className:"mobile-weather-card-header",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Li,{size:20,className:"mobile-weather-card-icon"})}),s.jsx("div",{className:"mobile-weather-card-title",children:"Marées"})]}),s.jsxs("div",{className:"mobile-weather-card-content",children:[s.jsxs("div",{className:"mobile-weather-card-row",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(q2,{size:16,className:"text-brand-burgundy"})}),s.jsx("div",{className:"mobile-weather-card-label",children:"Haute"}),s.jsx("div",{className:"mobile-weather-card-value",children:kn.nextHighTide})]}),s.jsxs("div",{className:"mobile-weather-card-row",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(G2,{size:16,className:"text-brand-burgundy"})}),s.jsx("div",{className:"mobile-weather-card-label",children:"Basse"}),s.jsx("div",{className:"mobile-weather-card-value",children:kn.nextLowTide})]})]})]}),s.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300 m-2",children:[s.jsxs("div",{className:"mobile-weather-card-header",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Xu,{size:20,className:"mobile-weather-card-icon"})}),s.jsx("div",{className:"mobile-weather-card-title",children:"Vent"})]}),s.jsxs("div",{className:"mobile-weather-card-content",children:[s.jsxs("div",{className:"mobile-weather-card-row",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Bc,{size:16,className:"text-brand-burgundy",style:{transform:`rotate(${kn.windDirection}deg)`}})}),s.jsx("div",{className:"mobile-weather-card-label",children:"Direction"}),s.jsx("div",{className:"mobile-weather-card-value",children:I_(kn.windDirection)})]}),s.jsxs("div",{className:"mobile-weather-card-row",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(Xu,{size:16,className:"text-brand-burgundy"})}),s.jsx("div",{className:"mobile-weather-card-label",children:"Rafales"}),s.jsxs("div",{className:"mobile-weather-card-value",children:[kn.windGust," km/h"]})]})]})]})]}),s.jsxs("div",{className:"mobile-forecast-section w-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[s.jsxs("div",{className:"mobile-forecast-header",children:[s.jsx("span",{"aria-hidden":"true",children:s.jsx(ta,{size:20,className:"mobile-forecast-icon"})}),s.jsx("div",{className:"mobile-forecast-title",children:"Prévisions"})]}),s.jsx("div",{className:"mobile-forecast-content overflow-x-auto",children:s.jsxs("div",{className:"flex",style:{minWidth:"100%"},children:[kn.forecast.map((e,t)=>s.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[s.jsx("div",{className:"mobile-forecast-time",children:e.time}),s.jsxs("div",{className:"mobile-forecast-temp",children:[e.temp,"°"]}),s.jsxs("div",{className:"mobile-forecast-wind",children:[s.jsx(Bc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:`rotate(${e.windDirection}deg)`}}),s.jsx("span",{children:e.windSpeed})]}),s.jsxs("div",{className:"mobile-forecast-waves",children:[s.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),s.jsxs("span",{children:[e.waveHeight,"m"]})]})]},t)),s.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[s.jsx("div",{className:"mobile-forecast-time",children:"00:00"}),s.jsx("div",{className:"mobile-forecast-temp",children:"15°"}),s.jsxs("div",{className:"mobile-forecast-wind",children:[s.jsx(Bc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(300deg)"}}),s.jsx("span",{children:"14"})]}),s.jsxs("div",{className:"mobile-forecast-waves",children:[s.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),s.jsx("span",{children:"0.7m"})]})]}),s.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[s.jsx("div",{className:"mobile-forecast-time",children:"03:00"}),s.jsx("div",{className:"mobile-forecast-temp",children:"14°"}),s.jsxs("div",{className:"mobile-forecast-wind",children:[s.jsx(Bc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(290deg)"}}),s.jsx("span",{children:"12"})]}),s.jsxs("div",{className:"mobile-forecast-waves",children:[s.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),s.jsx("span",{children:"0.6m"})]})]}),s.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[s.jsx("div",{className:"mobile-forecast-time",children:"06:00"}),s.jsx("div",{className:"mobile-forecast-temp",children:"15°"}),s.jsxs("div",{className:"mobile-forecast-wind",children:[s.jsx(Bc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(295deg)"}}),s.jsx("span",{children:"13"})]}),s.jsxs("div",{className:"mobile-forecast-waves",children:[s.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),s.jsx("span",{children:"0.5m"})]})]}),s.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[s.jsx("div",{className:"mobile-forecast-time",children:"09:00"}),s.jsx("div",{className:"mobile-forecast-temp",children:"16°"}),s.jsxs("div",{className:"mobile-forecast-wind",children:[s.jsx(Bc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(300deg)"}}),s.jsx("span",{children:"15"})]}),s.jsxs("div",{className:"mobile-forecast-waves",children:[s.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),s.jsx("span",{children:"0.6m"})]})]})]})})]})]})]})})}const UX=({value:e,maxValue:t=100,color:r})=>{const n=Math.min(100,Math.round(e/t*100));return s.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},Lv={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)",transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,transform:"translateY(30px)"}},item:{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.4}}};function h7({table:e,onClose:t}){const r=cg(t),n=e.alert||e.timeProgress>100;return s.jsx(je.div,{...Lv.overlay,className:"fixed inset-0 flex items-center justify-center bg-black/20 backdrop-blur-lg",style:{zIndex:100},onClick:t,children:s.jsxs(je.div,{ref:r,...Lv.content,onClick:a=>a.stopPropagation(),className:"w-full max-w-3xl mx-auto my-4 rounded-2xl shadow-2xl border border-white/10 backdrop-blur-sm",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.95) 0%, rgba(20, 100, 100, 0.85) 100%)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color",zIndex:101},children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:e.name}),s.jsx("p",{className:"text-white/60",children:e.type})]}),s.jsx("button",{className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10",onClick:t,"aria-label":"Fermer",children:s.jsx(zt,{size:20})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[e.currentSize&&e.targetSize&&s.jsxs(je.div,{variants:Lv.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 0 20px rgba(56, 189, 248, 0.3), 0 0 40px rgba(56, 189, 248, 0.1)",transition:{duration:.2}},className:"relative overflow-hidden rounded-xl border border-white/10 p-6 transition-all duration-200",style:{background:"linear-gradient(135deg, rgba(25, 45, 65, 0.5) 0%, rgba(15, 35, 55, 0.7) 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2), 0 2px 8px rgba(56, 189, 248, 0.1), 0 0 2px rgba(56, 189, 248, 0.2)",transform:"translateZ(0)"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-500/10 to-cyan-500/10 opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-4 relative",children:"Progression du calibre"}),s.jsxs("div",{className:"relative py-6",children:[s.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-white/10"}),s.jsx("div",{className:"flex justify-between relative",children:["T15","N°5","N°4","N°3","N°2","N°1"].map((a,i)=>{const o=i*20,l=HX(e.currentSize)>=o,c=a===e.targetSize;return s.jsxs("div",{className:"flex flex-col items-center",children:[a==="N°3"?s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 mb-2 relative ring-4 ring-blue-500/50 shadow-lg shadow-blue-500/50 ring-white animate-pulse"})}):s.jsx("div",{className:`w-5 h-5 rounded-full ${c?"ring-2 ring-offset-2 ring-offset-blue-900/50 ring-blue-400":""} ${l?"bg-blue-500":"bg-white/20"} mb-2`}),s.jsx("span",{className:`text-xs ${l?"text-white":"text-white/40"} ${c?"font-bold":""} ${a==="N°3"?"font-medium":""}`,children:a})]},a)})}),s.jsxs("div",{className:"mt-6 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 mb-2",children:[s.jsx("span",{children:"Temps d'élevage"}),s.jsx("span",{className:"text-white",children:M_(e.startDate,e.harvest,e.name)})]}),s.jsxs("div",{className:"relative h-3 bg-white/10 rounded-full overflow-hidden",children:[s.jsx(je.div,{initial:{width:0},animate:{width:`${Math.min(e.timeProgress,100)}%`},transition:{duration:1,ease:"easeOut"},className:`absolute top-0 left-0 h-full ${n?"bg-red-500":"bg-blue-500"}`}),e.timeProgress>100&&s.jsx(je.div,{initial:{width:0},animate:{width:`${Math.min(e.timeProgress-100,100)}%`},transition:{duration:1,ease:"easeOut",delay:.5},className:"absolute top-0 left-0 h-full bg-red-500 opacity-60",style:{left:"100%"}})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",children:[s.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[s.jsx("div",{className:"text-white/60",children:"Début"}),s.jsx("div",{className:"text-white font-medium",children:"T15"}),s.jsx("div",{className:"text-sm font-medium text-white/70",children:M_(e.startDate,e.harvest,e.name)})]}),s.jsx(Fo,{size:16,className:"text-white/40"}),s.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[s.jsx("div",{className:"text-white/60",children:"Récolte prévue pour"}),s.jsx("div",{className:"text-white font-medium",children:WX(e.name)})]})]})]})]}),s.jsxs(je.div,{variants:Lv.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 0 20px rgba(56, 189, 248, 0.3), 0 0 40px rgba(56, 189, 248, 0.1)",transition:{duration:.2}},className:"relative overflow-hidden rounded-xl border border-white/10 p-6 transition-all duration-200",style:{background:"linear-gradient(135deg, rgba(25, 45, 65, 0.5) 0%, rgba(15, 35, 55, 0.7) 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2), 0 2px 8px rgba(56, 189, 248, 0.1), 0 0 2px rgba(56, 189, 248, 0.2)",transform:"translateZ(0)"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-500/10 to-cyan-500/10 opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-4 relative",children:"État global de la table"}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"relative w-40 h-40",children:[s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),s.jsx(je.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:e.color||"#3b82f6",strokeWidth:"8",strokeDasharray:"283",initial:{strokeDashoffset:283},animate:{strokeDashoffset:283-283*e.value/100},transition:{duration:1.5,ease:"easeOut"},strokeLinecap:"round",transform:"rotate(-90 50 50)"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsxs("span",{className:"text-3xl font-bold text-white",children:[e.value,"%"]}),s.jsx("span",{className:"text-xs text-white/60",children:"Occupation"})]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("span",{className:"text-white/80 block",children:["Capacité de la table ",e.name==="Table A1"&&e.value>=90?"(presque pleine)":e.value<=20?"(presque vide)":""]})})]}),s.jsxs("div",{className:"space-y-4",children:[e.mortality>0&&s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("div",{className:"text-white/80",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ka,{size:16,className:"mr-1 text-red-400"}),"Taux de mortalité"]})}),s.jsxs("div",{className:`text-sm font-medium ${e.mortality<=15?"text-green-400":e.mortality<=20?"text-yellow-400":"text-red-400"}`,children:[e.mortality,"%"]})]}),s.jsx(UX,{value:e.mortality,maxValue:30,color:e.mortality<=15?"#22c55e":e.mortality<=20?"#eab308":"#ef4444"}),s.jsx("div",{className:"text-xs text-white/60 mt-1",children:e.mortality<=15?"Taux normal":e.mortality<=20?"Surveillance recommandée":"Situation critique - Action requise!"})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("div",{className:"text-white/80",children:"Durée d'élevage"}),s.jsx("div",{className:"text-sm font-medium text-white",children:M_(e.startDate,e.harvest,e.name)})]}),s.jsx("div",{className:"text-xs text-white/60",children:e.name!=="Table A1"?s.jsx(s.Fragment,{children:"Depuis le 01/01/2024"}):s.jsxs(s.Fragment,{children:["Depuis le ",e.startDate]})})]})]})]})]}),s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.8},className:"flex justify-end space-x-3",children:s.jsx("button",{onClick:t,className:"px-6 py-2.5 rounded-lg bg-white/10 hover:bg-white/20 text-white/90 hover:text-white transition-colors",children:"Fermer"})})]})]})})}function HX(e){switch(e){case"T15":return 0;case"N°5":return 20;case"N°4":return 40;case"N°3":return 60;case"N°2":return 80;case"N°1":return 100;default:return 0}}function M_(e,t,r){switch(r){case"Table A1":return"11 mois et 18 jours";case"Table A2":return"2 mois et 2 jours";case"Table B1":return"2 mois et 12 jours";default:return"N/A"}}function WX(e){switch(e){case"Table A2":return"01/01/2025";case"Table B1":return"01/01/2025";case"Table A1":return"15/05/2025";default:return"Non définie"}}function p7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=p7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ot(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=p7(e))&&(n&&(n+=" "),n+=t);return n}var VX=Array.isArray,Ms=VX,qX=typeof qa=="object"&&qa&&qa.Object===Object&&qa,m7=qX,GX=m7,YX=typeof self=="object"&&self&&self.Object===Object&&self,XX=GX||YX||Function("return this")(),mc=XX,KX=mc,QX=KX.Symbol,ug=QX,Sk=ug,x7=Object.prototype,JX=x7.hasOwnProperty,ZX=x7.toString,Ym=Sk?Sk.toStringTag:void 0;function eK(e){var t=JX.call(e,Ym),r=e[Ym];try{e[Ym]=void 0;var n=!0}catch{}var a=ZX.call(e);return n&&(t?e[Ym]=r:delete e[Ym]),a}var tK=eK,rK=Object.prototype,nK=rK.toString;function aK(e){return nK.call(e)}var iK=aK,Ak=ug,sK=tK,oK=iK,lK="[object Null]",cK="[object Undefined]",Ck=Ak?Ak.toStringTag:void 0;function uK(e){return e==null?e===void 0?cK:lK:Ck&&Ck in Object(e)?sK(e):oK(e)}var hu=uK;function dK(e){return e!=null&&typeof e=="object"}var pu=dK,fK=hu,hK=pu,pK="[object Symbol]";function mK(e){return typeof e=="symbol"||hK(e)&&fK(e)==pK}var qp=mK,xK=Ms,gK=qp,vK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bK=/^\w*$/;function yK(e,t){if(xK(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||gK(e)?!0:bK.test(e)||!vK.test(e)||t!=null&&e in Object(t)}var DS=yK;function wK(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Od=wK;const Gp=nn(Od);var _K=hu,NK=Od,jK="[object AsyncFunction]",SK="[object Function]",AK="[object GeneratorFunction]",CK="[object Proxy]";function EK(e){if(!NK(e))return!1;var t=_K(e);return t==SK||t==AK||t==jK||t==CK}var IS=EK;const Xt=nn(IS);var kK=mc,TK=kK["__core-js_shared__"],OK=TK,F_=OK,Ek=function(){var e=/[^.]+$/.exec(F_&&F_.keys&&F_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function PK(e){return!!Ek&&Ek in e}var DK=PK,IK=Function.prototype,MK=IK.toString;function FK(e){if(e!=null){try{return MK.call(e)}catch{}try{return e+""}catch{}}return""}var g7=FK,RK=IS,LK=DK,BK=Od,$K=g7,zK=/[\\^$.*+?()[\]{}|]/g,UK=/^\[object .+?Constructor\]$/,HK=Function.prototype,WK=Object.prototype,VK=HK.toString,qK=WK.hasOwnProperty,GK=RegExp("^"+VK.call(qK).replace(zK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YK(e){if(!BK(e)||LK(e))return!1;var t=RK(e)?GK:UK;return t.test($K(e))}var XK=YK;function KK(e,t){return e==null?void 0:e[t]}var QK=KK,JK=XK,ZK=QK;function eQ(e,t){var r=ZK(e,t);return JK(r)?r:void 0}var xf=eQ,tQ=xf,rQ=tQ(Object,"create"),gw=rQ,kk=gw;function nQ(){this.__data__=kk?kk(null):{},this.size=0}var aQ=nQ;function iQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sQ=iQ,oQ=gw,lQ="__lodash_hash_undefined__",cQ=Object.prototype,uQ=cQ.hasOwnProperty;function dQ(e){var t=this.__data__;if(oQ){var r=t[e];return r===lQ?void 0:r}return uQ.call(t,e)?t[e]:void 0}var fQ=dQ,hQ=gw,pQ=Object.prototype,mQ=pQ.hasOwnProperty;function xQ(e){var t=this.__data__;return hQ?t[e]!==void 0:mQ.call(t,e)}var gQ=xQ,vQ=gw,bQ="__lodash_hash_undefined__";function yQ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=vQ&&t===void 0?bQ:t,this}var wQ=yQ,_Q=aQ,NQ=sQ,jQ=fQ,SQ=gQ,AQ=wQ;function Yp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yp.prototype.clear=_Q;Yp.prototype.delete=NQ;Yp.prototype.get=jQ;Yp.prototype.has=SQ;Yp.prototype.set=AQ;var CQ=Yp;function EQ(){this.__data__=[],this.size=0}var kQ=EQ;function TQ(e,t){return e===t||e!==e&&t!==t}var MS=TQ,OQ=MS;function PQ(e,t){for(var r=e.length;r--;)if(OQ(e[r][0],t))return r;return-1}var vw=PQ,DQ=vw,IQ=Array.prototype,MQ=IQ.splice;function FQ(e){var t=this.__data__,r=DQ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():MQ.call(t,r,1),--this.size,!0}var RQ=FQ,LQ=vw;function BQ(e){var t=this.__data__,r=LQ(t,e);return r<0?void 0:t[r][1]}var $Q=BQ,zQ=vw;function UQ(e){return zQ(this.__data__,e)>-1}var HQ=UQ,WQ=vw;function VQ(e,t){var r=this.__data__,n=WQ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var qQ=VQ,GQ=kQ,YQ=RQ,XQ=$Q,KQ=HQ,QQ=qQ;function Xp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xp.prototype.clear=GQ;Xp.prototype.delete=YQ;Xp.prototype.get=XQ;Xp.prototype.has=KQ;Xp.prototype.set=QQ;var bw=Xp,JQ=xf,ZQ=mc,eJ=JQ(ZQ,"Map"),FS=eJ,Tk=CQ,tJ=bw,rJ=FS;function nJ(){this.size=0,this.__data__={hash:new Tk,map:new(rJ||tJ),string:new Tk}}var aJ=nJ;function iJ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var sJ=iJ,oJ=sJ;function lJ(e,t){var r=e.__data__;return oJ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var yw=lJ,cJ=yw;function uJ(e){var t=cJ(this,e).delete(e);return this.size-=t?1:0,t}var dJ=uJ,fJ=yw;function hJ(e){return fJ(this,e).get(e)}var pJ=hJ,mJ=yw;function xJ(e){return mJ(this,e).has(e)}var gJ=xJ,vJ=yw;function bJ(e,t){var r=vJ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var yJ=bJ,wJ=aJ,_J=dJ,NJ=pJ,jJ=gJ,SJ=yJ;function Kp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kp.prototype.clear=wJ;Kp.prototype.delete=_J;Kp.prototype.get=NJ;Kp.prototype.has=jJ;Kp.prototype.set=SJ;var RS=Kp,v7=RS,AJ="Expected a function";function LS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(AJ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(LS.Cache||v7),r}LS.Cache=v7;var b7=LS;const CJ=nn(b7);var EJ=b7,kJ=500;function TJ(e){var t=EJ(e,function(n){return r.size===kJ&&r.clear(),n}),r=t.cache;return t}var OJ=TJ,PJ=OJ,DJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IJ=/\\(\\)?/g,MJ=PJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(DJ,function(r,n,a,i){t.push(a?i.replace(IJ,"$1"):n||r)}),t}),FJ=MJ;function RJ(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var BS=RJ,Ok=ug,LJ=BS,BJ=Ms,$J=qp,zJ=1/0,Pk=Ok?Ok.prototype:void 0,Dk=Pk?Pk.toString:void 0;function y7(e){if(typeof e=="string")return e;if(BJ(e))return LJ(e,y7)+"";if($J(e))return Dk?Dk.call(e):"";var t=e+"";return t=="0"&&1/e==-zJ?"-0":t}var UJ=y7,HJ=UJ;function WJ(e){return e==null?"":HJ(e)}var w7=WJ,VJ=Ms,qJ=DS,GJ=FJ,YJ=w7;function XJ(e,t){return VJ(e)?e:qJ(e,t)?[e]:GJ(YJ(e))}var _7=XJ,KJ=qp,QJ=1/0;function JJ(e){if(typeof e=="string"||KJ(e))return e;var t=e+"";return t=="0"&&1/e==-QJ?"-0":t}var ww=JJ,ZJ=_7,eZ=ww;function tZ(e,t){t=ZJ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[eZ(t[r++])];return r&&r==n?e:void 0}var $S=tZ,rZ=$S;function nZ(e,t,r){var n=e==null?void 0:rZ(e,t);return n===void 0?r:n}var N7=nZ;const io=nn(N7);function aZ(e){return e==null}var iZ=aZ;const nr=nn(iZ);var sZ=hu,oZ=Ms,lZ=pu,cZ="[object String]";function uZ(e){return typeof e=="string"||!oZ(e)&&lZ(e)&&sZ(e)==cZ}var dZ=uZ;const dg=nn(dZ);var j7={exports:{}},an={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS=Symbol.for("react.element"),US=Symbol.for("react.portal"),_w=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),Sw=Symbol.for("react.provider"),Aw=Symbol.for("react.context"),fZ=Symbol.for("react.server_context"),Cw=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),kw=Symbol.for("react.suspense_list"),Tw=Symbol.for("react.memo"),Ow=Symbol.for("react.lazy"),hZ=Symbol.for("react.offscreen"),S7;S7=Symbol.for("react.module.reference");function Xo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zS:switch(e=e.type,e){case _w:case jw:case Nw:case Ew:case kw:return e;default:switch(e=e&&e.$$typeof,e){case fZ:case Aw:case Cw:case Ow:case Tw:case Sw:return e;default:return t}}case US:return t}}}an.ContextConsumer=Aw;an.ContextProvider=Sw;an.Element=zS;an.ForwardRef=Cw;an.Fragment=_w;an.Lazy=Ow;an.Memo=Tw;an.Portal=US;an.Profiler=jw;an.StrictMode=Nw;an.Suspense=Ew;an.SuspenseList=kw;an.isAsyncMode=function(){return!1};an.isConcurrentMode=function(){return!1};an.isContextConsumer=function(e){return Xo(e)===Aw};an.isContextProvider=function(e){return Xo(e)===Sw};an.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zS};an.isForwardRef=function(e){return Xo(e)===Cw};an.isFragment=function(e){return Xo(e)===_w};an.isLazy=function(e){return Xo(e)===Ow};an.isMemo=function(e){return Xo(e)===Tw};an.isPortal=function(e){return Xo(e)===US};an.isProfiler=function(e){return Xo(e)===jw};an.isStrictMode=function(e){return Xo(e)===Nw};an.isSuspense=function(e){return Xo(e)===Ew};an.isSuspenseList=function(e){return Xo(e)===kw};an.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_w||e===jw||e===Nw||e===Ew||e===kw||e===hZ||typeof e=="object"&&e!==null&&(e.$$typeof===Ow||e.$$typeof===Tw||e.$$typeof===Sw||e.$$typeof===Aw||e.$$typeof===Cw||e.$$typeof===S7||e.getModuleId!==void 0)};an.typeOf=Xo;j7.exports=an;var pZ=j7.exports,mZ=hu,xZ=pu,gZ="[object Number]";function vZ(e){return typeof e=="number"||xZ(e)&&mZ(e)==gZ}var A7=vZ;const bZ=nn(A7);var yZ=A7;function wZ(e){return yZ(e)&&e!=+e}var _Z=wZ;const fg=nn(_Z);var ds=function(t){return t===0?0:t>0?1:-1},v0=function(t){return dg(t)&&t.indexOf("%")===t.length-1},dt=function(t){return bZ(t)&&!fg(t)},Ga=function(t){return dt(t)||dg(t)},NZ=0,Qp=function(t){var r=++NZ;return"".concat(t||"").concat(r)},fs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(t)&&!dg(t))return n;var i;if(v0(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return fg(i)&&(i=n),a&&i>r&&(i=r),i},nd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},jZ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Xs=function(t,r){return dt(t)&&dt(r)?function(n){return t+n*(r-t)}:function(){return r}};function vb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):io(n,t))===r})}function Hh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function LN(e){"@babel/helpers - typeof";return LN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LN(e)}var SZ=["viewBox","children"],AZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ik=["points","pathLength"],R_={svg:SZ,polygon:Ik,polyline:Ik},HS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!Gp(n))return null;var a={};return Object.keys(n).forEach(function(i){HS.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},CZ=function(t,r,n){return function(a){return t(r,n,a),null}},q0=function(t,r,n){if(!Gp(t)||LN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];HS.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=CZ(o,r,n))}),a},EZ=["children"],kZ=["children"];function Mk(e,t){if(e==null)return{};var r=TZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BN(e){"@babel/helpers - typeof";return BN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BN(e)}var Fk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Rk=null,L_=null,WS=function e(t){if(t===Rk&&Array.isArray(L_))return L_;var r=[];return k.Children.forEach(t,function(n){nr(n)||(pZ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),L_=r,Rk=t,r};function so(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Yc(a)}):n=[Yc(t)],WS(e).forEach(function(a){var i=io(a,"type.displayName")||io(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ys(e,t){var r=so(e,t);return r&&r[0]}var Lk=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!dt(n)||n<=0||!dt(a)||a<=0)},OZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],PZ=function(t){return t&&t.type&&dg(t.type)&&OZ.indexOf(t.type)>=0},DZ=function(t){return t&&BN(t)==="object"&&"clipDot"in t},IZ=function(t,r,n,a){var i,o=(i=R_==null?void 0:R_[a])!==null&&i!==void 0?i:[];return!Xt(t)&&(a&&o.includes(r)||AZ.includes(r))||n&&HS.includes(r)},Ut=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(k.isValidElement(t)&&(a=t.props),!Gp(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;IZ((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},$N=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Bk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Bk(i,o))return!1}return!0},Bk=function(t,r){if(nr(t)&&nr(r))return!0;if(!nr(t)&&!nr(r)){var n=t.props||{},a=n.children,i=Mk(n,EZ),o=r.props||{},l=o.children,c=Mk(o,kZ);return a&&l?Hh(i,c)&&$N(a,l):!a&&!l?Hh(i,c):!1}return!1},$k=function(t,r){var n=[],a={};return WS(t).forEach(function(i,o){if(PZ(i))n.push(i);else if(i){var l=Yc(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},MZ=function(t){var r=t&&t.type;return r&&Fk[r]?Fk[r]:null},FZ=function(t,r){return WS(r).indexOf(t)},RZ=["children","width","height","viewBox","className","style","title","desc"];function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zN.apply(this,arguments)}function LZ(e,t){if(e==null)return{};var r=BZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=LZ(e,RZ),d=a||{width:r,height:n,x:0,y:0},f=Ot("recharts-surface",i);return K.createElement("svg",zN({},Ut(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),t)}var $Z=["children","className"];function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HN.apply(this,arguments)}function zZ(e,t){if(e==null)return{};var r=UZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ir=K.forwardRef(function(e,t){var r=e.children,n=e.className,a=zZ(e,$Z),i=Ot("recharts-layer",n);return K.createElement("g",HN({className:i},Ut(a,!0),{ref:t}),r)}),wl=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function HZ(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var WZ=HZ,VZ=WZ;function qZ(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:VZ(e,t,r)}var GZ=qZ,YZ="\\ud800-\\udfff",XZ="\\u0300-\\u036f",KZ="\\ufe20-\\ufe2f",QZ="\\u20d0-\\u20ff",JZ=XZ+KZ+QZ,ZZ="\\ufe0e\\ufe0f",eee="\\u200d",tee=RegExp("["+eee+YZ+JZ+ZZ+"]");function ree(e){return tee.test(e)}var C7=ree;function nee(e){return e.split("")}var aee=nee,E7="\\ud800-\\udfff",iee="\\u0300-\\u036f",see="\\ufe20-\\ufe2f",oee="\\u20d0-\\u20ff",lee=iee+see+oee,cee="\\ufe0e\\ufe0f",uee="["+E7+"]",WN="["+lee+"]",VN="\\ud83c[\\udffb-\\udfff]",dee="(?:"+WN+"|"+VN+")",k7="[^"+E7+"]",T7="(?:\\ud83c[\\udde6-\\uddff]){2}",O7="[\\ud800-\\udbff][\\udc00-\\udfff]",fee="\\u200d",P7=dee+"?",D7="["+cee+"]?",hee="(?:"+fee+"(?:"+[k7,T7,O7].join("|")+")"+D7+P7+")*",pee=D7+P7+hee,mee="(?:"+[k7+WN+"?",WN,T7,O7,uee].join("|")+")",xee=RegExp(VN+"(?="+VN+")|"+mee+pee,"g");function gee(e){return e.match(xee)||[]}var vee=gee,bee=aee,yee=C7,wee=vee;function _ee(e){return yee(e)?wee(e):bee(e)}var Nee=_ee,jee=GZ,See=C7,Aee=Nee,Cee=w7;function Eee(e){return function(t){t=Cee(t);var r=See(t)?Aee(t):void 0,n=r?r[0]:t.charAt(0),a=r?jee(r,1).join(""):t.slice(1);return n[e]()+a}}var kee=Eee,Tee=kee,Oee=Tee("toUpperCase"),Pee=Oee;const Pw=nn(Pee);function Nn(e){return function(){return e}}const I7=Math.cos,yb=Math.sin,Al=Math.sqrt,wb=Math.PI,Dw=2*wb,qN=Math.PI,GN=2*qN,a0=1e-6,Dee=GN-a0;function M7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Iee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return M7;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Mee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?M7:Iee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>a0)if(!(Math.abs(f*c-u*d)>a0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=a-l,x=c*c+u*u,g=p*p+m*m,v=Math.sqrt(x),b=Math.sqrt(h),y=i*Math.tan((qN-Math.acos((x+h-g)/(2*v*b)))/2),w=y/b,N=y/v;Math.abs(w-1)>a0&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>a0||Math.abs(this._y1-d)>a0)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%GN+GN),h>Dee?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>a0&&this._append`A${n},${n},0,${+(h>=qN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function VS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Mee(t)}function qS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F7(e){this._context=e}F7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iw(e){return new F7(e)}function R7(e){return e[0]}function L7(e){return e[1]}function B7(e,t){var r=Nn(!0),n=null,a=Iw,i=null,o=VS(l);e=typeof e=="function"?e:e===void 0?R7:Nn(e),t=typeof t=="function"?t:t===void 0?L7:Nn(t);function l(c){var u,d=(c=qS(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Bv(e,t,r){var n=null,a=Nn(!0),i=null,o=Iw,l=null,c=VS(u);e=typeof e=="function"?e:e===void 0?R7:Nn(+e),t=typeof t=="function"?t:Nn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?L7:Nn(+r);function u(f){var h,p,m,x=(f=qS(f)).length,g,v=!1,b,y=new Array(x),w=new Array(x);for(i==null&&(l=o(b=c())),h=0;h<=x;++h){if(!(h<x&&a(g=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(y[m],w[m]);l.lineEnd(),l.areaEnd()}v&&(y[h]=+e(g,h,f),w[h]=+t(g,h,f),l.point(n?+n(g,h,f):y[h],r?+r(g,h,f):w[h]))}if(b)return l=null,b+""||null}function d(){return B7().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Nn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class $7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Fee(e){return new $7(e,!0)}function Ree(e){return new $7(e,!1)}const GS={draw(e,t){const r=Al(t/wb);e.moveTo(r,0),e.arc(0,0,r,0,Dw)}},Lee={draw(e,t){const r=Al(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},z7=Al(1/3),Bee=z7*2,$ee={draw(e,t){const r=Al(t/Bee),n=r*z7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},zee={draw(e,t){const r=Al(t),n=-r/2;e.rect(n,n,r,r)}},Uee=.8908130915292852,U7=yb(wb/10)/yb(7*wb/10),Hee=yb(Dw/10)*U7,Wee=-I7(Dw/10)*U7,Vee={draw(e,t){const r=Al(t*Uee),n=Hee*r,a=Wee*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Dw*i/5,l=I7(o),c=yb(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},B_=Al(3),qee={draw(e,t){const r=-Al(t/(B_*3));e.moveTo(0,r*2),e.lineTo(-B_*r,-r),e.lineTo(B_*r,-r),e.closePath()}},_o=-.5,No=Al(3)/2,YN=1/Al(12),Gee=(YN/2+1)*3,Yee={draw(e,t){const r=Al(t/Gee),n=r/2,a=r*YN,i=n,o=r*YN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(_o*n-No*a,No*n+_o*a),e.lineTo(_o*i-No*o,No*i+_o*o),e.lineTo(_o*l-No*c,No*l+_o*c),e.lineTo(_o*n+No*a,_o*a-No*n),e.lineTo(_o*i+No*o,_o*o-No*i),e.lineTo(_o*l+No*c,_o*c-No*l),e.closePath()}};function Xee(e,t){let r=null,n=VS(a);e=typeof e=="function"?e:Nn(e||GS),t=typeof t=="function"?t:Nn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Nn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _b(){}function Nb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function H7(e){this._context=e}H7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kee(e){return new H7(e)}function W7(e){this._context=e}W7.prototype={areaStart:_b,areaEnd:_b,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qee(e){return new W7(e)}function V7(e){this._context=e}V7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jee(e){return new V7(e)}function q7(e){this._context=e}q7.prototype={areaStart:_b,areaEnd:_b,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Zee(e){return new q7(e)}function zk(e){return e<0?-1:1}function Uk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(zk(i)+zk(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Hk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $_(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function jb(e){this._context=e}jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$_(this,this._t0,Hk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$_(this,Hk(this,r=Uk(this,e,t)),r);break;default:$_(this,this._t0,r=Uk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function G7(e){this._context=new Y7(e)}(G7.prototype=Object.create(jb.prototype)).point=function(e,t){jb.prototype.point.call(this,t,e)};function Y7(e){this._context=e}Y7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ete(e){return new jb(e)}function tte(e){return new G7(e)}function X7(e){this._context=e}X7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Wk(e),a=Wk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Wk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function rte(e){return new X7(e)}function Mw(e,t){this._context=e,this._t=t}Mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nte(e){return new Mw(e,.5)}function ate(e){return new Mw(e,0)}function ite(e){return new Mw(e,1)}function ip(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function XN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ste(e,t){return e[t]}function ote(e){const t=[];return t.key=e,t}function lte(){var e=Nn([]),t=XN,r=ip,n=ste;function a(i){var o=Array.from(e.apply(this,arguments),ote),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=qS(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Nn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?XN:typeof i=="function"?i:Nn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ip,a):r},a}function cte(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}ip(e,t)}}function ute(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ip(e,t)}}function dte(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var x=e[t[m]],g=x[n][1]||0,v=x[n-1][1]||0;p+=g-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ip(e,t)}}function n1(e){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(e)}var fte=["type","size","sizeType"];function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KN.apply(this,arguments)}function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(n){hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hte(e,t,r){return t=pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=mte(e,"string");return n1(t)=="symbol"?t:t+""}function mte(e,t){if(n1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xte(e,t){if(e==null)return{};var r=gte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var K7={symbolCircle:GS,symbolCross:Lee,symbolDiamond:$ee,symbolSquare:zee,symbolStar:Vee,symbolTriangle:qee,symbolWye:Yee},vte=Math.PI/180,bte=function(t){var r="symbol".concat(Pw(t));return K7[r]||GS},yte=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*vte;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wte=function(t,r){K7["symbol".concat(Pw(t))]=r},YS=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=xte(t,fte),u=qk(qk({},c),{},{type:n,size:i,sizeType:l}),d=function(){var g=bte(n),v=Xee().type(g).size(yte(i,l,n));return v()},f=u.className,h=u.cx,p=u.cy,m=Ut(u,!0);return h===+h&&p===+p&&i===+i?K.createElement("path",KN({},m,{className:Ot("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};YS.registerSymbol=wte;function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QN.apply(this,arguments)}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){a1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J7(n.key),n)}}function Ste(e,t,r){return t&&jte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ate(e,t,r){return t=Sb(t),Cte(e,Q7()?Reflect.construct(t,r||[],Sb(e).constructor):t.apply(e,r))}function Cte(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ete(e)}function Ete(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q7=function(){return!!e})()}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(e)}function kte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JN(e,t)}function JN(e,t){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JN(e,t)}function a1(e,t,r){return t=J7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=Tte(e,"string");return sp(t)=="symbol"?t:t+""}function Tte(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jo=32,XS=function(e){function t(){return Nte(this,t),Ate(this,t,arguments)}return kte(t,e),Ste(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=jo/2,o=jo/6,l=jo/3,c=n.inactive?a:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:jo,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(jo,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(jo/8,"h").concat(jo,"v").concat(jo*3/4,"h").concat(-jo,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var u=_te({},n);return delete u.legendIcon,K.cloneElement(n.legendIcon,u)}return K.createElement(YS,{fill:c,cx:i,cy:i,size:jo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:jo,height:jo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var x=p.formatter||c,g=Ot(a1(a1({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Xt(p.value)?null:p.value;wl(!Xt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return K.createElement("li",QN({className:g,style:f,key:"legend-item-".concat(m)},q0(n.props,p,m)),K.createElement(UN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(v,p,m):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);a1(XS,"displayName","Legend");a1(XS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ote=bw;function Pte(){this.__data__=new Ote,this.size=0}var Dte=Pte;function Ite(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Mte=Ite;function Fte(e){return this.__data__.get(e)}var Rte=Fte;function Lte(e){return this.__data__.has(e)}var Bte=Lte,$te=bw,zte=FS,Ute=RS,Hte=200;function Wte(e,t){var r=this.__data__;if(r instanceof $te){var n=r.__data__;if(!zte||n.length<Hte-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ute(n)}return r.set(e,t),this.size=r.size,this}var Vte=Wte,qte=bw,Gte=Dte,Yte=Mte,Xte=Rte,Kte=Bte,Qte=Vte;function Jp(e){var t=this.__data__=new qte(e);this.size=t.size}Jp.prototype.clear=Gte;Jp.prototype.delete=Yte;Jp.prototype.get=Xte;Jp.prototype.has=Kte;Jp.prototype.set=Qte;var Z7=Jp,Jte="__lodash_hash_undefined__";function Zte(e){return this.__data__.set(e,Jte),this}var ere=Zte;function tre(e){return this.__data__.has(e)}var rre=tre,nre=RS,are=ere,ire=rre;function Ab(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new nre;++t<r;)this.add(e[t])}Ab.prototype.add=Ab.prototype.push=are;Ab.prototype.has=ire;var eF=Ab;function sre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var tF=sre;function ore(e,t){return e.has(t)}var rF=ore,lre=eF,cre=tF,ure=rF,dre=1,fre=2;function hre(e,t,r,n,a,i){var o=r&dre,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&fre?new lre:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],x=t[f];if(n)var g=o?n(x,m,f,t,e,i):n(m,x,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!cre(t,function(v,b){if(!ure(p,b)&&(m===v||a(m,v,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(m===x||a(m,x,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var nF=hre,pre=mc,mre=pre.Uint8Array,xre=mre;function gre(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var vre=gre;function bre(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var KS=bre,Yk=ug,Xk=xre,yre=MS,wre=nF,_re=vre,Nre=KS,jre=1,Sre=2,Are="[object Boolean]",Cre="[object Date]",Ere="[object Error]",kre="[object Map]",Tre="[object Number]",Ore="[object RegExp]",Pre="[object Set]",Dre="[object String]",Ire="[object Symbol]",Mre="[object ArrayBuffer]",Fre="[object DataView]",Kk=Yk?Yk.prototype:void 0,z_=Kk?Kk.valueOf:void 0;function Rre(e,t,r,n,a,i,o){switch(r){case Fre:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Mre:return!(e.byteLength!=t.byteLength||!i(new Xk(e),new Xk(t)));case Are:case Cre:case Tre:return yre(+e,+t);case Ere:return e.name==t.name&&e.message==t.message;case Ore:case Dre:return e==t+"";case kre:var l=_re;case Pre:var c=n&jre;if(l||(l=Nre),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Sre,o.set(e,t);var d=wre(l(e),l(t),n,a,i,o);return o.delete(e),d;case Ire:if(z_)return z_.call(e)==z_.call(t)}return!1}var Lre=Rre;function Bre(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var aF=Bre,$re=aF,zre=Ms;function Ure(e,t,r){var n=t(e);return zre(e)?n:$re(n,r(e))}var Hre=Ure;function Wre(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Vre=Wre;function qre(){return[]}var Gre=qre,Yre=Vre,Xre=Gre,Kre=Object.prototype,Qre=Kre.propertyIsEnumerable,Qk=Object.getOwnPropertySymbols,Jre=Qk?function(e){return e==null?[]:(e=Object(e),Yre(Qk(e),function(t){return Qre.call(e,t)}))}:Xre,Zre=Jre;function ene(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var tne=ene,rne=hu,nne=pu,ane="[object Arguments]";function ine(e){return nne(e)&&rne(e)==ane}var sne=ine,Jk=sne,one=pu,iF=Object.prototype,lne=iF.hasOwnProperty,cne=iF.propertyIsEnumerable,une=Jk(function(){return arguments}())?Jk:function(e){return one(e)&&lne.call(e,"callee")&&!cne.call(e,"callee")},QS=une,Cb={exports:{}};function dne(){return!1}var fne=dne;Cb.exports;(function(e,t){var r=mc,n=fne,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Cb,Cb.exports);var sF=Cb.exports,hne=9007199254740991,pne=/^(?:0|[1-9]\d*)$/;function mne(e,t){var r=typeof e;return t=t??hne,!!t&&(r=="number"||r!="symbol"&&pne.test(e))&&e>-1&&e%1==0&&e<t}var JS=mne,xne=9007199254740991;function gne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=xne}var ZS=gne,vne=hu,bne=ZS,yne=pu,wne="[object Arguments]",_ne="[object Array]",Nne="[object Boolean]",jne="[object Date]",Sne="[object Error]",Ane="[object Function]",Cne="[object Map]",Ene="[object Number]",kne="[object Object]",Tne="[object RegExp]",One="[object Set]",Pne="[object String]",Dne="[object WeakMap]",Ine="[object ArrayBuffer]",Mne="[object DataView]",Fne="[object Float32Array]",Rne="[object Float64Array]",Lne="[object Int8Array]",Bne="[object Int16Array]",$ne="[object Int32Array]",zne="[object Uint8Array]",Une="[object Uint8ClampedArray]",Hne="[object Uint16Array]",Wne="[object Uint32Array]",On={};On[Fne]=On[Rne]=On[Lne]=On[Bne]=On[$ne]=On[zne]=On[Une]=On[Hne]=On[Wne]=!0;On[wne]=On[_ne]=On[Ine]=On[Nne]=On[Mne]=On[jne]=On[Sne]=On[Ane]=On[Cne]=On[Ene]=On[kne]=On[Tne]=On[One]=On[Pne]=On[Dne]=!1;function Vne(e){return yne(e)&&bne(e.length)&&!!On[vne(e)]}var qne=Vne;function Gne(e){return function(t){return e(t)}}var oF=Gne,Eb={exports:{}};Eb.exports;(function(e,t){var r=m7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Eb,Eb.exports);var Yne=Eb.exports,Xne=qne,Kne=oF,Zk=Yne,e6=Zk&&Zk.isTypedArray,Qne=e6?Kne(e6):Xne,lF=Qne,Jne=tne,Zne=QS,eae=Ms,tae=sF,rae=JS,nae=lF,aae=Object.prototype,iae=aae.hasOwnProperty;function sae(e,t){var r=eae(e),n=!r&&Zne(e),a=!r&&!n&&tae(e),i=!r&&!n&&!a&&nae(e),o=r||n||a||i,l=o?Jne(e.length,String):[],c=l.length;for(var u in e)(t||iae.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rae(u,c)))&&l.push(u);return l}var oae=sae,lae=Object.prototype;function cae(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||lae;return e===r}var uae=cae;function dae(e,t){return function(r){return e(t(r))}}var cF=dae,fae=cF,hae=fae(Object.keys,Object),pae=hae,mae=uae,xae=pae,gae=Object.prototype,vae=gae.hasOwnProperty;function bae(e){if(!mae(e))return xae(e);var t=[];for(var r in Object(e))vae.call(e,r)&&r!="constructor"&&t.push(r);return t}var yae=bae,wae=IS,_ae=ZS;function Nae(e){return e!=null&&_ae(e.length)&&!wae(e)}var hg=Nae,jae=oae,Sae=yae,Aae=hg;function Cae(e){return Aae(e)?jae(e):Sae(e)}var Fw=Cae,Eae=Hre,kae=Zre,Tae=Fw;function Oae(e){return Eae(e,Tae,kae)}var Pae=Oae,t6=Pae,Dae=1,Iae=Object.prototype,Mae=Iae.hasOwnProperty;function Fae(e,t,r,n,a,i){var o=r&Dae,l=t6(e),c=l.length,u=t6(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Mae.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var x=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){h=l[f];var v=e[h],b=t[h];if(n)var y=o?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(y===void 0?v===b||a(v,b,r,n,i):y)){x=!1;break}g||(g=h=="constructor")}if(x&&!g){var w=e.constructor,N=t.constructor;w!=N&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(x=!1)}return i.delete(e),i.delete(t),x}var Rae=Fae,Lae=xf,Bae=mc,$ae=Lae(Bae,"DataView"),zae=$ae,Uae=xf,Hae=mc,Wae=Uae(Hae,"Promise"),Vae=Wae,qae=xf,Gae=mc,Yae=qae(Gae,"Set"),uF=Yae,Xae=xf,Kae=mc,Qae=Xae(Kae,"WeakMap"),Jae=Qae,ZN=zae,e3=FS,t3=Vae,r3=uF,n3=Jae,dF=hu,Zp=g7,r6="[object Map]",Zae="[object Object]",n6="[object Promise]",a6="[object Set]",i6="[object WeakMap]",s6="[object DataView]",eie=Zp(ZN),tie=Zp(e3),rie=Zp(t3),nie=Zp(r3),aie=Zp(n3),i0=dF;(ZN&&i0(new ZN(new ArrayBuffer(1)))!=s6||e3&&i0(new e3)!=r6||t3&&i0(t3.resolve())!=n6||r3&&i0(new r3)!=a6||n3&&i0(new n3)!=i6)&&(i0=function(e){var t=dF(e),r=t==Zae?e.constructor:void 0,n=r?Zp(r):"";if(n)switch(n){case eie:return s6;case tie:return r6;case rie:return n6;case nie:return a6;case aie:return i6}return t});var iie=i0,U_=Z7,sie=nF,oie=Lre,lie=Rae,o6=iie,l6=Ms,c6=sF,cie=lF,uie=1,u6="[object Arguments]",d6="[object Array]",$v="[object Object]",die=Object.prototype,f6=die.hasOwnProperty;function fie(e,t,r,n,a,i){var o=l6(e),l=l6(t),c=o?d6:o6(e),u=l?d6:o6(t);c=c==u6?$v:c,u=u==u6?$v:u;var d=c==$v,f=u==$v,h=c==u;if(h&&c6(e)){if(!c6(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new U_),o||cie(e)?sie(e,t,r,n,a,i):oie(e,t,c,r,n,a,i);if(!(r&uie)){var p=d&&f6.call(e,"__wrapped__"),m=f&&f6.call(t,"__wrapped__");if(p||m){var x=p?e.value():e,g=m?t.value():t;return i||(i=new U_),a(x,g,r,n,i)}}return h?(i||(i=new U_),lie(e,t,r,n,a,i)):!1}var hie=fie,pie=hie,h6=pu;function fF(e,t,r,n,a){return e===t?!0:e==null||t==null||!h6(e)&&!h6(t)?e!==e&&t!==t:pie(e,t,r,n,fF,a)}var eA=fF,mie=Z7,xie=eA,gie=1,vie=2;function bie(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new mie;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?xie(d,u,gie|vie,n,f):h))return!1}}return!0}var yie=bie,wie=Od;function _ie(e){return e===e&&!wie(e)}var hF=_ie,Nie=hF,jie=Fw;function Sie(e){for(var t=jie(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Nie(a)]}return t}var Aie=Sie;function Cie(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var pF=Cie,Eie=yie,kie=Aie,Tie=pF;function Oie(e){var t=kie(e);return t.length==1&&t[0][2]?Tie(t[0][0],t[0][1]):function(r){return r===e||Eie(r,e,t)}}var Pie=Oie;function Die(e,t){return e!=null&&t in Object(e)}var Iie=Die,Mie=_7,Fie=QS,Rie=Ms,Lie=JS,Bie=ZS,$ie=ww;function zie(e,t,r){t=Mie(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=$ie(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Bie(a)&&Lie(o,a)&&(Rie(e)||Fie(e)))}var Uie=zie,Hie=Iie,Wie=Uie;function Vie(e,t){return e!=null&&Wie(e,t,Hie)}var qie=Vie,Gie=eA,Yie=N7,Xie=qie,Kie=DS,Qie=hF,Jie=pF,Zie=ww,ese=1,tse=2;function rse(e,t){return Kie(e)&&Qie(t)?Jie(Zie(e),t):function(r){var n=Yie(r,e);return n===void 0&&n===t?Xie(r,e):Gie(t,n,ese|tse)}}var nse=rse;function ase(e){return e}var em=ase;function ise(e){return function(t){return t==null?void 0:t[e]}}var sse=ise,ose=$S;function lse(e){return function(t){return ose(t,e)}}var cse=lse,use=sse,dse=cse,fse=DS,hse=ww;function pse(e){return fse(e)?use(hse(e)):dse(e)}var mse=pse,xse=Pie,gse=nse,vse=em,bse=Ms,yse=mse;function wse(e){return typeof e=="function"?e:e==null?vse:typeof e=="object"?bse(e)?gse(e[0],e[1]):xse(e):yse(e)}var xc=wse;function _se(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var mF=_se;function Nse(e){return e!==e}var jse=Nse;function Sse(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Ase=Sse,Cse=mF,Ese=jse,kse=Ase;function Tse(e,t,r){return t===t?kse(e,t,r):Cse(e,Ese,r)}var Ose=Tse,Pse=Ose;function Dse(e,t){var r=e==null?0:e.length;return!!r&&Pse(e,t,0)>-1}var Ise=Dse;function Mse(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Fse=Mse;function Rse(){}var Lse=Rse,H_=uF,Bse=Lse,$se=KS,zse=1/0,Use=H_&&1/$se(new H_([,-0]))[1]==zse?function(e){return new H_(e)}:Bse,Hse=Use,Wse=eF,Vse=Ise,qse=Fse,Gse=rF,Yse=Hse,Xse=KS,Kse=200;function Qse(e,t,r){var n=-1,a=Vse,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=qse;else if(i>=Kse){var u=t?null:Yse(e);if(u)return Xse(u);o=!1,a=Gse,c=new Wse}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Jse=Qse,Zse=xc,eoe=Jse;function toe(e,t){return e&&e.length?eoe(e,Zse(t)):[]}var roe=toe;const p6=nn(roe);function xF(e,t,r){return t===!0?p6(e,r):Xt(t)?p6(e,t):e}function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}var noe=["ref"];function m6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(r),!0).forEach(function(n){Rw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vF(n.key),n)}}function ioe(e,t,r){return t&&x6(e.prototype,t),r&&x6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function soe(e,t,r){return t=kb(t),ooe(e,gF()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function ooe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return loe(e)}function loe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function coe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a3(e,t)}function Rw(e,t,r){return t=vF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=uoe(e,"string");return op(t)=="symbol"?t:t+""}function uoe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function doe(e,t){if(e==null)return{};var r=foe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function foe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hoe(e){return e.value}function poe(e,t){if(K.isValidElement(e))return K.cloneElement(e,t);if(typeof e=="function")return K.createElement(e,t);t.ref;var r=doe(t,noe);return K.createElement(XS,r)}var g6=1,C0=function(e){function t(){var r;aoe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=soe(this,t,[].concat(a)),Rw(r,"lastBoundingBox",{width:-1,height:-1}),r}return coe(t,e),ioe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>g6||Math.abs(a.height-this.lastBoundingBox.height)>g6)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Mc(Mc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Mc(Mc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},poe(i,Mc(Mc({},this.props),{},{payload:xF(d,u,hoe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Mc(Mc({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&dt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(k.PureComponent);Rw(C0,"displayName","Legend");Rw(C0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var v6=ug,moe=QS,xoe=Ms,b6=v6?v6.isConcatSpreadable:void 0;function goe(e){return xoe(e)||moe(e)||!!(b6&&e&&e[b6])}var voe=goe,boe=aF,yoe=voe;function bF(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=yoe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?bF(l,t-1,r,n,a):boe(a,l):n||(a[a.length]=l)}return a}var yF=bF;function woe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var _oe=woe,Noe=_oe,joe=Noe(),Soe=joe,Aoe=Soe,Coe=Fw;function Eoe(e,t){return e&&Aoe(e,t,Coe)}var wF=Eoe,koe=hg;function Toe(e,t){return function(r,n){if(r==null)return r;if(!koe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Ooe=Toe,Poe=wF,Doe=Ooe,Ioe=Doe(Poe),tA=Ioe,Moe=tA,Foe=hg;function Roe(e,t){var r=-1,n=Foe(e)?Array(e.length):[];return Moe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var _F=Roe;function Loe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Boe=Loe,y6=qp;function $oe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=y6(e),o=t!==void 0,l=t===null,c=t===t,u=y6(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var zoe=$oe,Uoe=zoe;function Hoe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Uoe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Woe=Hoe,W_=BS,Voe=$S,qoe=xc,Goe=_F,Yoe=Boe,Xoe=oF,Koe=Woe,Qoe=em,Joe=Ms;function Zoe(e,t,r){t.length?t=W_(t,function(i){return Joe(i)?function(o){return Voe(o,i.length===1?i[0]:i)}:i}):t=[Qoe];var n=-1;t=W_(t,Xoe(qoe));var a=Goe(e,function(i,o,l){var c=W_(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Yoe(a,function(i,o){return Koe(i,o,r)})}var ele=Zoe;function tle(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var rle=tle,nle=rle,w6=Math.max;function ale(e,t,r){return t=w6(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=w6(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),nle(e,this,l)}}var ile=ale;function sle(e){return function(){return e}}var ole=sle,lle=xf,cle=function(){try{var e=lle(Object,"defineProperty");return e({},"",{}),e}catch{}}(),NF=cle,ule=ole,_6=NF,dle=em,fle=_6?function(e,t){return _6(e,"toString",{configurable:!0,enumerable:!1,value:ule(t),writable:!0})}:dle,hle=fle,ple=800,mle=16,xle=Date.now;function gle(e){var t=0,r=0;return function(){var n=xle(),a=mle-(n-r);if(r=n,a>0){if(++t>=ple)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vle=gle,ble=hle,yle=vle,wle=yle(ble),_le=wle,Nle=em,jle=ile,Sle=_le;function Ale(e,t){return Sle(jle(e,t,Nle),e+"")}var Cle=Ale,Ele=MS,kle=hg,Tle=JS,Ole=Od;function Ple(e,t,r){if(!Ole(r))return!1;var n=typeof t;return(n=="number"?kle(r)&&Tle(t,r.length):n=="string"&&t in r)?Ele(r[t],e):!1}var Lw=Ple,Dle=yF,Ile=ele,Mle=Cle,N6=Lw,Fle=Mle(function(e,t){if(e==null)return[];var r=t.length;return r>1&&N6(e,t[0],t[1])?t=[]:r>2&&N6(t[0],t[1],t[2])&&(t=[t[0]]),Ile(e,Dle(t,1),[])}),Rle=Fle;const rA=nn(Rle);function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}function i3(){return i3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i3.apply(this,arguments)}function Lle(e,t){return Ule(e)||zle(e,t)||$le(e,t)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(e,t){if(e){if(typeof e=="string")return j6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j6(e,t)}}function j6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ule(e){if(Array.isArray(e))return e}function S6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(r),!0).forEach(function(n){Hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hle(e,t,r){return t=Wle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wle(e){var t=Vle(e,"string");return i1(t)=="symbol"?t:t+""}function Vle(e,t){if(i1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qle(e){return Array.isArray(e)&&Ga(e[0])&&Ga(e[1])?e.join(" ~ "):e}var Gle=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,x=t.label,g=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,y=function(){if(d&&d.length){var E={padding:0,margin:0},L=(h?rA(d,h):d).map(function(B,G){if(B.type==="none")return null;var U=V_({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),W=B.formatter||f||qle,X=B.value,q=B.name,le=X,se=q;if(W&&le!=null&&se!=null){var I=W(X,q,B,G,d);if(Array.isArray(I)){var P=Lle(I,2);le=P[0],se=P[1]}else le=I}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:U},Ga(se)?K.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Ga(se)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},le),K.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:E},L)}return null},w=V_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=V_({margin:0},u),S=!nr(x),j=S?x:"",A=Ot("recharts-default-tooltip",p),T=Ot("recharts-tooltip-label",m);S&&g&&d!==void 0&&d!==null&&(j=g(x,d));var R=b?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",i3({className:A,style:w},R),K.createElement("p",{className:T,style:N},K.isValidElement(j)?j:"".concat(j)),y())};function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}function zv(e,t,r){return t=Yle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yle(e){var t=Xle(e,"string");return s1(t)=="symbol"?t:t+""}function Xle(e,t){if(s1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xm="recharts-tooltip-wrapper",Kle={visibility:"hidden"};function Qle(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ot(Xm,zv(zv(zv(zv({},"".concat(Xm,"-right"),dt(r)&&t&&dt(t.x)&&r>=t.x),"".concat(Xm,"-left"),dt(r)&&t&&dt(t.x)&&r<t.x),"".concat(Xm,"-bottom"),dt(n)&&t&&dt(t.y)&&n>=t.y),"".concat(Xm,"-top"),dt(n)&&t&&dt(t.y)&&n<t.y))}function A6(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&dt(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var m=f+l,x=c[n]+u;return m>x?Math.max(d,c[n]):Math.max(f,c[n])}function Jle(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Zle(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=A6({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=A6({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Jle({translateX:d,translateY:f,useTranslate3d:l})):u=Kle,{cssProperties:u,cssClasses:Qle({translateX:d,translateY:f,coordinate:r})}}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function C6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(r),!0).forEach(function(n){o3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ece(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function rce(e,t,r){return t&&tce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nce(e,t,r){return t=Tb(t),ace(e,jF()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function ace(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ice(e)}function ice(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function sce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s3(e,t)}function o3(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=oce(e,"string");return lp(t)=="symbol"?t:t+""}function oce(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k6=1,lce=function(e){function t(){var r;ece(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=nce(this,t,[].concat(a)),o3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),o3(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return sce(t,e),rce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>k6||Math.abs(n.height-this.state.lastBoundingBox.height)>k6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,x=a.reverseDirection,g=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,y=Zle({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),w=y.cssClasses,N=y.cssProperties,S=E6(E6({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return K.createElement("div",{tabIndex:-1,className:w,style:S,ref:function(A){n.wrapperNode=A}},u)}}])}(k.PureComponent),cce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ac={isSsr:cce(),get:function(t){return ac[t]},set:function(t,r){if(typeof t=="string")ac[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){ac[a]=t[a]})}}};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function T6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T6(Object(r),!0).forEach(function(n){nA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CF(n.key),n)}}function fce(e,t,r){return t&&dce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hce(e,t,r){return t=Ob(t),pce(e,AF()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function pce(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(e)}function mce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function xce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l3(e,t)}function l3(e,t){return l3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l3(e,t)}function nA(e,t,r){return t=CF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=gce(e,"string");return cp(t)=="symbol"?t:t+""}function gce(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vce(e){return e.dataKey}function bce(e,t){return K.isValidElement(e)?K.cloneElement(e,t):typeof e=="function"?K.createElement(e,t):K.createElement(Gle,t)}var Do=function(e){function t(){return uce(this,t),hce(this,t,arguments)}return xce(t,e),fce(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,x=a.payloadUniqBy,g=a.position,v=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,N=m??[];f&&N.length&&(N=xF(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),x,vce));var S=N.length>0;return K.createElement(lce,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:g,reverseDirection:v,useTranslate3d:b,viewBox:y,wrapperStyle:w},bce(u,O6(O6({},this.props),{},{payload:N})))}}])}(k.PureComponent);nA(Do,"displayName","Tooltip");nA(Do,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ac.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yce=mc,wce=function(){return yce.Date.now()},_ce=wce,Nce=/\s/;function jce(e){for(var t=e.length;t--&&Nce.test(e.charAt(t)););return t}var Sce=jce,Ace=Sce,Cce=/^\s+/;function Ece(e){return e&&e.slice(0,Ace(e)+1).replace(Cce,"")}var kce=Ece,Tce=kce,P6=Od,Oce=qp,D6=NaN,Pce=/^[-+]0x[0-9a-f]+$/i,Dce=/^0b[01]+$/i,Ice=/^0o[0-7]+$/i,Mce=parseInt;function Fce(e){if(typeof e=="number")return e;if(Oce(e))return D6;if(P6(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=P6(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Tce(e);var r=Dce.test(e);return r||Ice.test(e)?Mce(e.slice(2),r?2:8):Pce.test(e)?D6:+e}var EF=Fce,Rce=Od,q_=_ce,I6=EF,Lce="Expected a function",Bce=Math.max,$ce=Math.min;function zce(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Lce);t=I6(t)||0,Rce(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Bce(I6(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var j=n,A=a;return n=a=void 0,u=S,o=e.apply(A,j),o}function m(S){return u=S,l=setTimeout(v,t),d?p(S):o}function x(S){var j=S-c,A=S-u,T=t-j;return f?$ce(T,i-A):T}function g(S){var j=S-c,A=S-u;return c===void 0||j>=t||j<0||f&&A>=i}function v(){var S=q_();if(g(S))return b(S);l=setTimeout(v,x(S))}function b(S){return l=void 0,h&&n?p(S):(n=a=void 0,o)}function y(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function w(){return l===void 0?o:b(q_())}function N(){var S=q_(),j=g(S);if(n=arguments,a=this,c=S,j){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),o}return N.cancel=y,N.flush=w,N}var Uce=zce,Hce=Uce,Wce=Od,Vce="Expected a function";function qce(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Vce);return Wce(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Hce(e,t,{leading:n,maxWait:t,trailing:a})}var Gce=qce;const kF=nn(Gce);function o1(e){"@babel/helpers - typeof";return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o1(e)}function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(n){Yce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yce(e,t,r){return t=Xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xce(e){var t=Kce(e,"string");return o1(t)=="symbol"?t:t+""}function Kce(e,t){if(o1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qce(e,t){return tue(e)||eue(e,t)||Zce(e,t)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(e,t){if(e){if(typeof e=="string")return F6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F6(e,t)}}function F6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tue(e){if(Array.isArray(e))return e}var Pb=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,x=m===void 0?0:m,g=e.id,v=e.className,b=e.onResize,y=e.style,w=y===void 0?{}:y,N=k.useRef(null),S=k.useRef();S.current=b,k.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var j=k.useState({containerWidth:a.width,containerHeight:a.height}),A=Qce(j,2),T=A[0],R=A[1],O=k.useCallback(function(L,B){R(function(G){var U=Math.round(L),W=Math.round(B);return G.containerWidth===U&&G.containerHeight===W?G:{containerWidth:U,containerHeight:W}})},[]);k.useEffect(function(){var L=function(q){var le,se=q[0].contentRect,I=se.width,P=se.height;O(I,P),(le=S.current)===null||le===void 0||le.call(S,I,P)};x>0&&(L=kF(L,x,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),G=N.current.getBoundingClientRect(),U=G.width,W=G.height;return O(U,W),B.observe(N.current),function(){B.disconnect()}},[O,x]);var E=k.useMemo(function(){var L=T.containerWidth,B=T.containerHeight;if(L<0||B<0)return null;wl(v0(o)||v0(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),wl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=v0(o)?L:o,U=v0(c)?B:c;r&&r>0&&(G?U=G/r:U&&(G=U*r),h&&U>h&&(U=h)),wl(G>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,U,o,c,d,f,r);var W=!Array.isArray(p)&&Yc(p.type).endsWith("Chart");return K.Children.map(p,function(X){return K.isValidElement(X)?k.cloneElement(X,Uv({width:G,height:U},W?{style:Uv({height:"100%",width:"100%",maxHeight:U,maxWidth:G},X.props.style)}:{})):X})},[r,p,c,h,f,d,T,o]);return K.createElement("div",{id:g?"".concat(g):void 0,className:Ot("recharts-responsive-container",v),style:Uv(Uv({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},E)}),pg=function(t){return null};pg.displayName="Cell";function l1(e){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(e)}function R6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(r),!0).forEach(function(n){rue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rue(e,t,r){return t=nue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nue(e){var t=aue(e,"string");return l1(t)=="symbol"?t:t+""}function aue(e,t){if(l1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(l1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh={widthCache:{},cacheCount:0},iue=2e3,sue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},L6="recharts_measurement_span";function oue(e){var t=c3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ox=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ac.isSsr)return{width:0,height:0};var n=oue(r),a=JSON.stringify({text:t,copyStyle:n});if(nh.widthCache[a])return nh.widthCache[a];try{var i=document.getElementById(L6);i||(i=document.createElement("span"),i.setAttribute("id",L6),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=c3(c3({},sue),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return nh.widthCache[a]=c,++nh.cacheCount>iue&&(nh.cacheCount=0,nh.widthCache={}),c}catch{return{width:0,height:0}}},lue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function Db(e,t){return fue(e)||due(e,t)||uue(e,t)||cue()}function cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uue(e,t){if(e){if(typeof e=="string")return B6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B6(e,t)}}function B6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function due(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fue(e){if(Array.isArray(e))return e}function hue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mue(n.key),n)}}function pue(e,t,r){return t&&$6(e.prototype,t),r&&$6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mue(e){var t=xue(e,"string");return c1(t)=="symbol"?t:t+""}function xue(e,t){if(c1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bue=Object.keys(TF),Th="NaN";function yue(e,t){return e*TF[t]}var Hv=function(){function e(t,r){hue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!gue.test(r)&&(this.num=NaN,this.unit=""),bue.includes(r)&&(this.num=yue(t,r),this.unit="px")}return pue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=vue.exec(r))!==null&&n!==void 0?n:[],i=Db(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function OF(e){if(e.includes(Th))return Th;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=z6.exec(t))!==null&&r!==void 0?r:[],a=Db(n,4),i=a[1],o=a[2],l=a[3],c=Hv.parse(i??""),u=Hv.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Th;t=t.replace(z6,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=U6.exec(t))!==null&&f!==void 0?f:[],p=Db(h,4),m=p[1],x=p[2],g=p[3],v=Hv.parse(m??""),b=Hv.parse(g??""),y=x==="+"?v.add(b):v.subtract(b);if(y.isNaN())return Th;t=t.replace(U6,y.toString())}return t}var H6=/\(([^()]*)\)/;function wue(e){for(var t=e;t.includes("(");){var r=H6.exec(t),n=Db(r,2),a=n[1];t=t.replace(H6,OF(a))}return t}function _ue(e){var t=e.replace(/\s+/g,"");return t=wue(t),t=OF(t),t}function Nue(e){try{return _ue(e)}catch{return Th}}function G_(e){var t=Nue(e.slice(5,-1));return t===Th?"":t}var jue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sue=["dx","dy","angle","className","breakAll"];function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u3.apply(this,arguments)}function W6(e,t){if(e==null)return{};var r=Aue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V6(e,t){return Tue(e)||kue(e,t)||Eue(e,t)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eue(e,t){if(e){if(typeof e=="string")return q6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q6(e,t)}}function q6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Tue(e){if(Array.isArray(e))return e}var PF=/[ \f\n\r\t\v\u2028\u2029]+/,DF=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];nr(r)||(n?i=r.toString().split(""):i=r.toString().split(PF));var o=i.map(function(c){return{word:c,width:Ox(c,a).width}}),l=n?0:Ox(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Oue=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=dt(o),f=l,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(U,W){var X=W.word,q=W.width,le=U[U.length-1];if(le&&(a==null||i||le.width+q+n<Number(a)))le.words.push(X),le.width+=q+n;else{var se={words:[X],width:q};U.push(se)}return U},[])},p=h(r),m=function(G){return G.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return p;for(var x="…",g=function(G){var U=f.slice(0,G),W=DF({breakAll:u,style:c,children:U+x}).wordsWithComputedWidth,X=h(W),q=X.length>o||m(X).width>Number(a);return[q,X]},v=0,b=f.length-1,y=0,w;v<=b&&y<=f.length-1;){var N=Math.floor((v+b)/2),S=N-1,j=g(S),A=V6(j,2),T=A[0],R=A[1],O=g(N),E=V6(O,1),L=E[0];if(!T&&!L&&(v=N+1),T&&L&&(b=N-1),!T&&L){w=R;break}y++}return w||p},G6=function(t){var r=nr(t)?[]:t.toString().split(PF);return[{words:r}]},Pue=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ac.isSsr){var c,u,d=DF({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return G6(a);return Oue({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return G6(a)},Y6="#808080",G0=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,x=m===void 0?"end":m,g=t.fill,v=g===void 0?Y6:g,b=W6(t,jue),y=k.useMemo(function(){return Pue({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),w=b.dx,N=b.dy,S=b.angle,j=b.className,A=b.breakAll,T=W6(b,Sue);if(!Ga(n)||!Ga(i))return null;var R=n+(dt(w)?w:0),O=i+(dt(N)?N:0),E;switch(x){case"start":E=G_("calc(".concat(u,")"));break;case"middle":E=G_("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=G_("calc(".concat(y.length-1," * -").concat(l,")"));break}var L=[];if(f){var B=y[0].width,G=b.width;L.push("scale(".concat((dt(G)?G/B:1)/B,")"))}return S&&L.push("rotate(".concat(S,", ").concat(R,", ").concat(O,")")),L.length&&(T.transform=L.join(" ")),K.createElement("text",u3({},Ut(T,!0),{x:R,y:O,className:Ot("recharts-text",j),textAnchor:p,fill:v.includes("url")?Y6:v}),y.map(function(U,W){var X=U.words.join(A?"":" ");return K.createElement("tspan",{x:R,dy:W===0?E:l,key:"".concat(X,"-").concat(W)},X)}))};function md(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Due(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aA(e){let t,r,n;e.length!==2?(t=md,r=(l,c)=>md(e(l),c),n=(l,c)=>e(l)-c):(t=e===md||e===Due?e:Iue,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Iue(){return 0}function IF(e){return e===null?NaN:+e}function*Mue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Fue=aA(md),mg=Fue.right;aA(IF).center;class X6 extends Map{constructor(t,r=Bue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(K6(this,t))}has(t){return super.has(K6(this,t))}set(t,r){return super.set(Rue(this,t),r)}delete(t){return super.delete(Lue(this,t))}}function K6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Rue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Lue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Bue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $ue(e=md){if(e===md)return MF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function MF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zue=Math.sqrt(50),Uue=Math.sqrt(10),Hue=Math.sqrt(2);function Ib(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=zue?10:i>=Uue?5:i>=Hue?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ib(e,t,r*2):[l,c,u]}function d3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Ib(t,e,r):Ib(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function f3(e,t,r){return t=+t,e=+e,r=+r,Ib(e,t,r)[2]}function h3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?f3(t,e,r):f3(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Q6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function J6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function FF(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?MF:$ue(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));FF(e,t,p,m,a)}const i=e[t];let o=r,l=n;for(Km(e,r,t),a(e[n],i)>0&&Km(e,r,n);o<l;){for(Km(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Km(e,r,l):(++l,Km(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Km(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Wue(e,t,r){if(e=Float64Array.from(Mue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return J6(e);if(t>=1)return Q6(e);var n,a=(n-1)*t,i=Math.floor(a),o=Q6(FF(e,i).subarray(0,i+1)),l=J6(e.subarray(i+1));return o+(l-o)*(a-i)}}function Vue(e,t,r=IF){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function que(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ko(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function mu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const p3=Symbol("implicit");function iA(){var e=new X6,t=[],r=[],n=p3;function a(i){let o=e.get(i);if(o===void 0){if(n!==p3)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new X6;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iA(t,r).unknown(n)},Ko.apply(a,arguments),a}function u1(){var e=iA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,x=p?n:a;i=(x-m)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),m+=(x-m-i*(h-c))*d,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var g=que(h).map(function(v){return m+i*v});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return u1(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ko.apply(f(),arguments)}function RF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RF(t())},e}function Px(){return RF(u1.apply(null,arguments).paddingInner(1))}function sA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function LF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xg(){}var d1=.7,Mb=1/d1,Wh="\\s*([+-]?\\d+)\\s*",f1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gue=/^#([0-9a-f]{3,8})$/,Yue=new RegExp(`^rgb\\(${Wh},${Wh},${Wh}\\)$`),Xue=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),Kue=new RegExp(`^rgba\\(${Wh},${Wh},${Wh},${f1}\\)$`),Que=new RegExp(`^rgba\\(${ic},${ic},${ic},${f1}\\)$`),Jue=new RegExp(`^hsl\\(${f1},${ic},${ic}\\)$`),Zue=new RegExp(`^hsla\\(${f1},${ic},${ic},${f1}\\)$`),Z6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sA(xg,h1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:e8,formatHex:e8,formatHex8:ede,formatHsl:tde,formatRgb:t8,toString:t8});function e8(){return this.rgb().formatHex()}function ede(){return this.rgb().formatHex8()}function tde(){return BF(this).formatHsl()}function t8(){return this.rgb().formatRgb()}function h1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Gue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?r8(t):r===3?new Ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Yue.exec(e))?new Ts(t[1],t[2],t[3],1):(t=Xue.exec(e))?new Ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Kue.exec(e))?Wv(t[1],t[2],t[3],t[4]):(t=Que.exec(e))?Wv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Jue.exec(e))?i8(t[1],t[2]/100,t[3]/100,1):(t=Zue.exec(e))?i8(t[1],t[2]/100,t[3]/100,t[4]):Z6.hasOwnProperty(e)?r8(Z6[e]):e==="transparent"?new Ts(NaN,NaN,NaN,0):null}function r8(e){return new Ts(e>>16&255,e>>8&255,e&255,1)}function Wv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ts(e,t,r,n)}function rde(e){return e instanceof xg||(e=h1(e)),e?(e=e.rgb(),new Ts(e.r,e.g,e.b,e.opacity)):new Ts}function m3(e,t,r,n){return arguments.length===1?rde(e):new Ts(e,t,r,n??1)}function Ts(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sA(Ts,m3,LF(xg,{brighter(e){return e=e==null?Mb:Math.pow(Mb,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?d1:Math.pow(d1,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(E0(this.r),E0(this.g),E0(this.b),Fb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n8,formatHex:n8,formatHex8:nde,formatRgb:a8,toString:a8}));function n8(){return`#${b0(this.r)}${b0(this.g)}${b0(this.b)}`}function nde(){return`#${b0(this.r)}${b0(this.g)}${b0(this.b)}${b0((isNaN(this.opacity)?1:this.opacity)*255)}`}function a8(){const e=Fb(this.opacity);return`${e===1?"rgb(":"rgba("}${E0(this.r)}, ${E0(this.g)}, ${E0(this.b)}${e===1?")":`, ${e})`}`}function Fb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function E0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function b0(e){return e=E0(e),(e<16?"0":"")+e.toString(16)}function i8(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xl(e,t,r,n)}function BF(e){if(e instanceof xl)return new xl(e.h,e.s,e.l,e.opacity);if(e instanceof xg||(e=h1(e)),!e)return new xl;if(e instanceof xl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new xl(o,l,c,e.opacity)}function ade(e,t,r,n){return arguments.length===1?BF(e):new xl(e,t,r,n??1)}function xl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sA(xl,ade,LF(xg,{brighter(e){return e=e==null?Mb:Math.pow(Mb,e),new xl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?d1:Math.pow(d1,e),new xl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ts(Y_(e>=240?e-240:e+120,a,n),Y_(e,a,n),Y_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new xl(s8(this.h),Vv(this.s),Vv(this.l),Fb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fb(this.opacity);return`${e===1?"hsl(":"hsla("}${s8(this.h)}, ${Vv(this.s)*100}%, ${Vv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function s8(e){return e=(e||0)%360,e<0?e+360:e}function Vv(e){return Math.max(0,Math.min(1,e||0))}function Y_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const oA=e=>()=>e;function ide(e,t){return function(r){return e+r*t}}function sde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ode(e){return(e=+e)==1?$F:function(t,r){return r-t?sde(t,r,e):oA(isNaN(t)?r:t)}}function $F(e,t){var r=t-e;return r?ide(e,r):oA(isNaN(e)?t:e)}const o8=function e(t){var r=ode(t);function n(a,i){var o=r((a=m3(a)).r,(i=m3(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=$F(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function lde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function cde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ude(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=tm(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function dde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Rb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=tm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var x3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X_=new RegExp(x3.source,"g");function hde(e){return function(){return e}}function pde(e){return function(t){return e(t)+""}}function mde(e,t){var r=x3.lastIndex=X_.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=x3.exec(e))&&(a=X_.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Rb(n,a)})),r=X_.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?pde(c[0].x):hde(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function tm(e,t){var r=typeof t,n;return t==null||r==="boolean"?oA(t):(r==="number"?Rb:r==="string"?(n=h1(t))?(t=n,o8):mde:t instanceof h1?o8:t instanceof Date?dde:cde(t)?lde:Array.isArray(t)?ude:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fde:Rb)(e,t)}function lA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function xde(e,t){t===void 0&&(t=e,e=tm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function gde(e){return function(){return e}}function Lb(e){return+e}var l8=[0,1];function hs(e){return e}function g3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gde(isNaN(t)?NaN:.5)}function vde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function bde(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=g3(a,n),i=r(o,i)):(n=g3(n,a),i=r(i,o)),function(l){return i(n(l))}}function yde(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=g3(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=mg(e,l,1,n)-1;return i[c](a[c](l))}}function gg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bw(){var e=l8,t=l8,r=tm,n,a,i,o=hs,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==hs&&(o=vde(e[0],e[h-1])),l=h>2?yde:bde,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Rb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Lb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=lA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:hs,d()):o!==hs},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function cA(){return Bw()(hs,hs)}function wde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function up(e){return e=Bb(Math.abs(e)),e?e[1]:NaN}function _de(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Nde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var jde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p1(e){if(!(t=jde.exec(e)))throw new Error("invalid format: "+e);var t;return new uA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}p1.prototype=uA.prototype;function uA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sde(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var zF;function Ade(e,t){var r=Bb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(zF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Bb(e,Math.max(0,t+i-1))[0]}function c8(e,t){var r=Bb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const u8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c8(e*100,t),r:c8,s:Ade,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function d8(e){return e}var f8=Array.prototype.map,h8=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cde(e){var t=e.grouping===void 0||e.thousands===void 0?d8:_de(f8.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?d8:Nde(f8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=p1(f);var h=f.fill,p=f.align,m=f.sign,x=f.symbol,g=f.zero,v=f.width,b=f.comma,y=f.precision,w=f.trim,N=f.type;N==="n"?(b=!0,N="g"):u8[N]||(y===void 0&&(y=12),w=!0,N="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=x==="$"?n:/[%p]/.test(N)?o:"",A=u8[N],T=/[defgprs%]/.test(N);y=y===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function R(O){var E=S,L=j,B,G,U;if(N==="c")L=A(O)+L,O="";else{O=+O;var W=O<0||1/O<0;if(O=isNaN(O)?c:A(Math.abs(O),y),w&&(O=Sde(O)),W&&+O==0&&m!=="+"&&(W=!1),E=(W?m==="("?m:l:m==="-"||m==="("?"":m)+E,L=(N==="s"?h8[8+zF/3]:"")+L+(W&&m==="("?")":""),T){for(B=-1,G=O.length;++B<G;)if(U=O.charCodeAt(B),48>U||U>57){L=(U===46?a+O.slice(B+1):O.slice(B))+L,O=O.slice(0,B);break}}}b&&!g&&(O=t(O,1/0));var X=E.length+O.length+L.length,q=X<v?new Array(v-X+1).join(h):"";switch(b&&g&&(O=t(q+O,q.length?v-L.length:1/0),q=""),p){case"<":O=E+O+L+q;break;case"=":O=E+q+O+L;break;case"^":O=q.slice(0,X=q.length>>1)+E+O+L+q.slice(X);break;default:O=q+E+O+L;break}return i(O)}return R.toString=function(){return f+""},R}function d(f,h){var p=u((f=p1(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(up(h)/3)))*3,x=Math.pow(10,-m),g=h8[8+m/3];return function(v){return p(x*v)+g}}return{format:u,formatPrefix:d}}var qv,dA,UF;Ede({thousands:",",grouping:[3],currency:["$",""]});function Ede(e){return qv=Cde(e),dA=qv.format,UF=qv.formatPrefix,qv}function kde(e){return Math.max(0,-up(Math.abs(e)))}function Tde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(up(t)/3)))*3-up(Math.abs(e)))}function Ode(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,up(t)-up(e))+1}function HF(e,t,r,n){var a=h3(e,t,r),i;switch(n=p1(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Tde(a,o))&&(n.precision=i),UF(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Ode(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=kde(a))&&(n.precision=i-(n.type==="%")*2);break}}return dA(n)}function Pd(e){var t=e.domain;return e.ticks=function(r){var n=t();return d3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return HF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=f3(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function $b(){var e=cA();return e.copy=function(){return gg(e,$b())},Ko.apply(e,arguments),Pd(e)}function WF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Lb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return WF(e).unknown(t)},e=arguments.length?Array.from(e,Lb):[0,1],Pd(r)}function VF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function p8(e){return Math.log(e)}function m8(e){return Math.exp(e)}function Pde(e){return-Math.log(-e)}function Dde(e){return-Math.exp(-e)}function Ide(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mde(e){return e===10?Ide:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Fde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x8(e){return(t,r)=>-e(-t,r)}function fA(e){const t=e(p8,m8),r=t.domain;let n=10,a,i;function o(){return a=Fde(n),i=Mde(n),r()[0]<0?(a=x8(a),i=x8(i),e(Pde,Dde)):e(p8,m8),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,x;const g=l==null?10:+l;let v=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(x=h<0?m/i(-h):m*i(h),!(x<u)){if(x>d)break;v.push(x)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(x=h>0?m/i(-h):m*i(h),!(x<u)){if(x>d)break;v.push(x)}v.length*2<g&&(v=d3(u,d,g))}else v=d3(h,p,Math.min(p-h,g)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=p1(c)).precision==null&&(c.trim=!0),c=dA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(VF(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function qF(){const e=fA(Bw()).domain([1,10]);return e.copy=()=>gg(e,qF()).base(e.base()),Ko.apply(e,arguments),e}function g8(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function v8(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hA(e){var t=1,r=e(g8(t),v8(t));return r.constant=function(n){return arguments.length?e(g8(t=+n),v8(t)):t},Pd(r)}function GF(){var e=hA(Bw());return e.copy=function(){return gg(e,GF()).constant(e.constant())},Ko.apply(e,arguments)}function b8(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Rde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Lde(e){return e<0?-e*e:e*e}function pA(e){var t=e(hs,hs),r=1;function n(){return r===1?e(hs,hs):r===.5?e(Rde,Lde):e(b8(r),b8(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Pd(t)}function mA(){var e=pA(Bw());return e.copy=function(){return gg(e,mA()).exponent(e.exponent())},Ko.apply(e,arguments),e}function Bde(){return mA.apply(null,arguments).exponent(.5)}function y8(e){return Math.sign(e)*e*e}function $de(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YF(){var e=cA(),t=[0,1],r=!1,n;function a(i){var o=$de(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(y8(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Lb)).map(y8)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return YF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ko.apply(a,arguments),Pd(a)}function XF(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Vue(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[mg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(md),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return XF().domain(e).range(t).unknown(n)},Ko.apply(i,arguments)}function KF(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[mg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return KF().domain([e,t]).range(a).unknown(i)},Ko.apply(Pd(o),arguments)}function QF(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[mg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return QF().domain(e).range(t).unknown(r)},Ko.apply(a,arguments)}const K_=new Date,Q_=new Date;function ei(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ei(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(K_.setTime(+i),Q_.setTime(+o),e(K_),e(Q_),Math.floor(r(K_,Q_))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const zb=ei(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ei(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):zb);zb.range;const Uc=1e3,Bo=Uc*60,Hc=Bo*60,lu=Hc*24,xA=lu*7,w8=lu*30,J_=lu*365,y0=ei(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getUTCSeconds());y0.range;const gA=ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uc)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getMinutes());gA.range;const vA=ei(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getUTCMinutes());vA.range;const bA=ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uc-e.getMinutes()*Bo)},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getHours());bA.range;const yA=ei(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getUTCHours());yA.range;const vg=ei(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bo)/lu,e=>e.getDate()-1);vg.range;const $w=ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lu,e=>e.getUTCDate()-1);$w.range;const JF=ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lu,e=>Math.floor(e/lu));JF.range;function gf(e){return ei(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Bo)/xA)}const zw=gf(0),Ub=gf(1),zde=gf(2),Ude=gf(3),dp=gf(4),Hde=gf(5),Wde=gf(6);zw.range;Ub.range;zde.range;Ude.range;dp.range;Hde.range;Wde.range;function vf(e){return ei(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xA)}const Uw=vf(0),Hb=vf(1),Vde=vf(2),qde=vf(3),fp=vf(4),Gde=vf(5),Yde=vf(6);Uw.range;Hb.range;Vde.range;qde.range;fp.range;Gde.range;Yde.range;const wA=ei(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wA.range;const _A=ei(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_A.range;const cu=ei(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());cu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ei(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});cu.range;const uu=ei(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());uu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ei(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});uu.range;function ZF(e,t,r,n,a,i){const o=[[y0,1,Uc],[y0,5,5*Uc],[y0,15,15*Uc],[y0,30,30*Uc],[i,1,Bo],[i,5,5*Bo],[i,15,15*Bo],[i,30,30*Bo],[a,1,Hc],[a,3,3*Hc],[a,6,6*Hc],[a,12,12*Hc],[n,1,lu],[n,2,2*lu],[r,1,xA],[t,1,w8],[t,3,3*w8],[e,1,J_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=aA(([,,g])=>g).right(o,h);if(p===o.length)return e.every(h3(u/J_,d/J_,f));if(p===0)return zb.every(Math.max(h3(u,d,f),1));const[m,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(x)}return[l,c]}const[Xde,Kde]=ZF(uu,_A,Uw,JF,yA,vA),[Qde,Jde]=ZF(cu,wA,zw,vg,bA,gA);function Z_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function e4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Zde(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Jm(a),d=Zm(a),f=Jm(i),h=Zm(i),p=Jm(o),m=Zm(o),x=Jm(l),g=Zm(l),v=Jm(c),b=Zm(c),y={a:W,A:X,b:q,B:le,c:null,d:C8,e:C8,f:_0e,g:P0e,G:I0e,H:b0e,I:y0e,j:w0e,L:eR,m:N0e,M:j0e,p:se,q:I,Q:T8,s:O8,S:S0e,u:A0e,U:C0e,V:E0e,w:k0e,W:T0e,x:null,X:null,y:O0e,Y:D0e,Z:M0e,"%":k8},w={a:P,A:M,b:z,B:Y,c:null,d:E8,e:E8,f:B0e,g:X0e,G:Q0e,H:F0e,I:R0e,j:L0e,L:rR,m:$0e,M:z0e,p:ae,q:ue,Q:T8,s:O8,S:U0e,u:H0e,U:W0e,V:V0e,w:q0e,W:G0e,x:null,X:null,y:Y0e,Y:K0e,Z:J0e,"%":k8},N={a:R,A:O,b:E,B:L,c:B,d:S8,e:S8,f:m0e,g:j8,G:N8,H:A8,I:A8,j:d0e,L:p0e,m:u0e,M:f0e,p:T,q:c0e,Q:g0e,s:v0e,S:h0e,u:a0e,U:i0e,V:s0e,w:n0e,W:o0e,x:G,X:U,y:j8,Y:N8,Z:l0e,"%":x0e};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S(ne,_e){return function(Ce){var V=[],Me=-1,Ae=0,pe=ne.length,re,Oe,oe;for(Ce instanceof Date||(Ce=new Date(+Ce));++Me<pe;)ne.charCodeAt(Me)===37&&(V.push(ne.slice(Ae,Me)),(Oe=_8[re=ne.charAt(++Me)])!=null?re=ne.charAt(++Me):Oe=re==="e"?" ":"0",(oe=_e[re])&&(re=oe(Ce,Oe)),V.push(re),Ae=Me+1);return V.push(ne.slice(Ae,Me)),V.join("")}}function j(ne,_e){return function(Ce){var V=Qm(1900,void 0,1),Me=A(V,ne,Ce+="",0),Ae,pe;if(Me!=Ce.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(_e&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(Ae=e4(Qm(V.y,0,1)),pe=Ae.getUTCDay(),Ae=pe>4||pe===0?Hb.ceil(Ae):Hb(Ae),Ae=$w.offset(Ae,(V.V-1)*7),V.y=Ae.getUTCFullYear(),V.m=Ae.getUTCMonth(),V.d=Ae.getUTCDate()+(V.w+6)%7):(Ae=Z_(Qm(V.y,0,1)),pe=Ae.getDay(),Ae=pe>4||pe===0?Ub.ceil(Ae):Ub(Ae),Ae=vg.offset(Ae,(V.V-1)*7),V.y=Ae.getFullYear(),V.m=Ae.getMonth(),V.d=Ae.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),pe="Z"in V?e4(Qm(V.y,0,1)).getUTCDay():Z_(Qm(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(pe+5)%7:V.w+V.U*7-(pe+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,e4(V)):Z_(V)}}function A(ne,_e,Ce,V){for(var Me=0,Ae=_e.length,pe=Ce.length,re,Oe;Me<Ae;){if(V>=pe)return-1;if(re=_e.charCodeAt(Me++),re===37){if(re=_e.charAt(Me++),Oe=N[re in _8?_e.charAt(Me++):re],!Oe||(V=Oe(ne,Ce,V))<0)return-1}else if(re!=Ce.charCodeAt(V++))return-1}return V}function T(ne,_e,Ce){var V=u.exec(_e.slice(Ce));return V?(ne.p=d.get(V[0].toLowerCase()),Ce+V[0].length):-1}function R(ne,_e,Ce){var V=p.exec(_e.slice(Ce));return V?(ne.w=m.get(V[0].toLowerCase()),Ce+V[0].length):-1}function O(ne,_e,Ce){var V=f.exec(_e.slice(Ce));return V?(ne.w=h.get(V[0].toLowerCase()),Ce+V[0].length):-1}function E(ne,_e,Ce){var V=v.exec(_e.slice(Ce));return V?(ne.m=b.get(V[0].toLowerCase()),Ce+V[0].length):-1}function L(ne,_e,Ce){var V=x.exec(_e.slice(Ce));return V?(ne.m=g.get(V[0].toLowerCase()),Ce+V[0].length):-1}function B(ne,_e,Ce){return A(ne,t,_e,Ce)}function G(ne,_e,Ce){return A(ne,r,_e,Ce)}function U(ne,_e,Ce){return A(ne,n,_e,Ce)}function W(ne){return o[ne.getDay()]}function X(ne){return i[ne.getDay()]}function q(ne){return c[ne.getMonth()]}function le(ne){return l[ne.getMonth()]}function se(ne){return a[+(ne.getHours()>=12)]}function I(ne){return 1+~~(ne.getMonth()/3)}function P(ne){return o[ne.getUTCDay()]}function M(ne){return i[ne.getUTCDay()]}function z(ne){return c[ne.getUTCMonth()]}function Y(ne){return l[ne.getUTCMonth()]}function ae(ne){return a[+(ne.getUTCHours()>=12)]}function ue(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var _e=S(ne+="",y);return _e.toString=function(){return ne},_e},parse:function(ne){var _e=j(ne+="",!1);return _e.toString=function(){return ne},_e},utcFormat:function(ne){var _e=S(ne+="",w);return _e.toString=function(){return ne},_e},utcParse:function(ne){var _e=j(ne+="",!0);return _e.toString=function(){return ne},_e}}}var _8={"-":"",_:" ",0:"0"},pi=/^\s*\d+/,e0e=/^%/,t0e=/[\\^$*+?|[\]().{}]/g;function Mr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function r0e(e){return e.replace(t0e,"\\$&")}function Jm(e){return new RegExp("^(?:"+e.map(r0e).join("|")+")","i")}function Zm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function n0e(e,t,r){var n=pi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function a0e(e,t,r){var n=pi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function i0e(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function s0e(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function o0e(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function N8(e,t,r){var n=pi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function j8(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function l0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function c0e(e,t,r){var n=pi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function u0e(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function S8(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function d0e(e,t,r){var n=pi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function A8(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function f0e(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function h0e(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function p0e(e,t,r){var n=pi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function m0e(e,t,r){var n=pi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function x0e(e,t,r){var n=e0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function g0e(e,t,r){var n=pi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function v0e(e,t,r){var n=pi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function C8(e,t){return Mr(e.getDate(),t,2)}function b0e(e,t){return Mr(e.getHours(),t,2)}function y0e(e,t){return Mr(e.getHours()%12||12,t,2)}function w0e(e,t){return Mr(1+vg.count(cu(e),e),t,3)}function eR(e,t){return Mr(e.getMilliseconds(),t,3)}function _0e(e,t){return eR(e,t)+"000"}function N0e(e,t){return Mr(e.getMonth()+1,t,2)}function j0e(e,t){return Mr(e.getMinutes(),t,2)}function S0e(e,t){return Mr(e.getSeconds(),t,2)}function A0e(e){var t=e.getDay();return t===0?7:t}function C0e(e,t){return Mr(zw.count(cu(e)-1,e),t,2)}function tR(e){var t=e.getDay();return t>=4||t===0?dp(e):dp.ceil(e)}function E0e(e,t){return e=tR(e),Mr(dp.count(cu(e),e)+(cu(e).getDay()===4),t,2)}function k0e(e){return e.getDay()}function T0e(e,t){return Mr(Ub.count(cu(e)-1,e),t,2)}function O0e(e,t){return Mr(e.getFullYear()%100,t,2)}function P0e(e,t){return e=tR(e),Mr(e.getFullYear()%100,t,2)}function D0e(e,t){return Mr(e.getFullYear()%1e4,t,4)}function I0e(e,t){var r=e.getDay();return e=r>=4||r===0?dp(e):dp.ceil(e),Mr(e.getFullYear()%1e4,t,4)}function M0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mr(t/60|0,"0",2)+Mr(t%60,"0",2)}function E8(e,t){return Mr(e.getUTCDate(),t,2)}function F0e(e,t){return Mr(e.getUTCHours(),t,2)}function R0e(e,t){return Mr(e.getUTCHours()%12||12,t,2)}function L0e(e,t){return Mr(1+$w.count(uu(e),e),t,3)}function rR(e,t){return Mr(e.getUTCMilliseconds(),t,3)}function B0e(e,t){return rR(e,t)+"000"}function $0e(e,t){return Mr(e.getUTCMonth()+1,t,2)}function z0e(e,t){return Mr(e.getUTCMinutes(),t,2)}function U0e(e,t){return Mr(e.getUTCSeconds(),t,2)}function H0e(e){var t=e.getUTCDay();return t===0?7:t}function W0e(e,t){return Mr(Uw.count(uu(e)-1,e),t,2)}function nR(e){var t=e.getUTCDay();return t>=4||t===0?fp(e):fp.ceil(e)}function V0e(e,t){return e=nR(e),Mr(fp.count(uu(e),e)+(uu(e).getUTCDay()===4),t,2)}function q0e(e){return e.getUTCDay()}function G0e(e,t){return Mr(Hb.count(uu(e)-1,e),t,2)}function Y0e(e,t){return Mr(e.getUTCFullYear()%100,t,2)}function X0e(e,t){return e=nR(e),Mr(e.getUTCFullYear()%100,t,2)}function K0e(e,t){return Mr(e.getUTCFullYear()%1e4,t,4)}function Q0e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fp(e):fp.ceil(e),Mr(e.getUTCFullYear()%1e4,t,4)}function J0e(){return"+0000"}function k8(){return"%"}function T8(e){return+e}function O8(e){return Math.floor(+e/1e3)}var ah,aR,iR;Z0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Z0e(e){return ah=Zde(e),aR=ah.format,ah.parse,iR=ah.utcFormat,ah.utcParse,ah}function efe(e){return new Date(e)}function tfe(e){return e instanceof Date?+e:+new Date(+e)}function NA(e,t,r,n,a,i,o,l,c,u){var d=cA(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),x=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),b=u("%b %d"),y=u("%B"),w=u("%Y");function N(S){return(c(S)<S?p:l(S)<S?m:o(S)<S?x:i(S)<S?g:n(S)<S?a(S)<S?v:b:r(S)<S?y:w)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,tfe)):h().map(efe)},d.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?N:u(j)},d.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(VF(j,S)):d},d.copy=function(){return gg(d,NA(e,t,r,n,a,i,o,l,c,u))},d}function rfe(){return Ko.apply(NA(Qde,Jde,cu,wA,zw,vg,bA,gA,y0,aR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nfe(){return Ko.apply(NA(Xde,Kde,uu,_A,Uw,$w,yA,vA,y0,iR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hw(){var e=0,t=1,r,n,a,i,o=hs,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(tm),u.rangeRound=d(lA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Dd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sR(){var e=Pd(Hw()(hs));return e.copy=function(){return Dd(e,sR())},mu.apply(e,arguments)}function oR(){var e=fA(Hw()).domain([1,10]);return e.copy=function(){return Dd(e,oR()).base(e.base())},mu.apply(e,arguments)}function lR(){var e=hA(Hw());return e.copy=function(){return Dd(e,lR()).constant(e.constant())},mu.apply(e,arguments)}function jA(){var e=pA(Hw());return e.copy=function(){return Dd(e,jA()).exponent(e.exponent())},mu.apply(e,arguments)}function afe(){return jA.apply(null,arguments).exponent(.5)}function cR(){var e=[],t=hs;function r(n){if(n!=null&&!isNaN(n=+n))return t((mg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(md),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Wue(e,i/n))},r.copy=function(){return cR(t).domain(e)},mu.apply(r,arguments)}function Ww(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=hs,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function m(x){return function(g){var v,b,y;return arguments.length?([v,b,y]=g,u=xde(x,[v,b,y]),p):[u(0),u(.5),u(1)]}}return p.range=m(tm),p.rangeRound=m(lA),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,a=x(e),i=x(t),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function uR(){var e=Pd(Ww()(hs));return e.copy=function(){return Dd(e,uR())},mu.apply(e,arguments)}function dR(){var e=fA(Ww()).domain([.1,1,10]);return e.copy=function(){return Dd(e,dR()).base(e.base())},mu.apply(e,arguments)}function fR(){var e=hA(Ww());return e.copy=function(){return Dd(e,fR()).constant(e.constant())},mu.apply(e,arguments)}function SA(){var e=pA(Ww());return e.copy=function(){return Dd(e,SA()).exponent(e.exponent())},mu.apply(e,arguments)}function ife(){return SA.apply(null,arguments).exponent(.5)}const P8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:u1,scaleDiverging:uR,scaleDivergingLog:dR,scaleDivergingPow:SA,scaleDivergingSqrt:ife,scaleDivergingSymlog:fR,scaleIdentity:WF,scaleImplicit:p3,scaleLinear:$b,scaleLog:qF,scaleOrdinal:iA,scalePoint:Px,scalePow:mA,scaleQuantile:XF,scaleQuantize:KF,scaleRadial:YF,scaleSequential:sR,scaleSequentialLog:oR,scaleSequentialPow:jA,scaleSequentialQuantile:cR,scaleSequentialSqrt:afe,scaleSequentialSymlog:lR,scaleSqrt:Bde,scaleSymlog:GF,scaleThreshold:QF,scaleTime:rfe,scaleUtc:nfe,tickFormat:HF},Symbol.toStringTag,{value:"Module"}));var sfe=qp;function ofe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!sfe(o):r(o,l)))var l=o,c=i}return c}var Vw=ofe;function lfe(e,t){return e>t}var hR=lfe,cfe=Vw,ufe=hR,dfe=em;function ffe(e){return e&&e.length?cfe(e,dfe,ufe):void 0}var hfe=ffe;const qw=nn(hfe);function pfe(e,t){return e<t}var pR=pfe,mfe=Vw,xfe=pR,gfe=em;function vfe(e){return e&&e.length?mfe(e,gfe,xfe):void 0}var bfe=vfe;const Gw=nn(bfe);var yfe=BS,wfe=xc,_fe=_F,Nfe=Ms;function jfe(e,t){var r=Nfe(e)?yfe:_fe;return r(e,wfe(t))}var Sfe=jfe,Afe=yF,Cfe=Sfe;function Efe(e,t){return Afe(Cfe(e,t),1)}var kfe=Efe;const Tfe=nn(kfe);var Ofe=eA;function Pfe(e,t){return Ofe(e,t)}var Dfe=Pfe;const bg=nn(Dfe);var rm=1e9,Ife={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CA,Bn=!0,Vo="[DecimalError] ",k0=Vo+"Invalid argument: ",AA=Vo+"Exponent out of range: ",nm=Math.floor,s0=Math.pow,Mfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Js,li=1e7,Dn=7,mR=9007199254740991,Wb=nm(mR/Dn),jt={};jt.absoluteValue=jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};jt.comparedTo=jt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};jt.dividedBy=jt.div=function(e){return Xc(this,new this.constructor(e))};jt.dividedToIntegerBy=jt.idiv=function(e){var t=this,r=t.constructor;return gn(Xc(t,new r(e),0,1),r.precision)};jt.equals=jt.eq=function(e){return!this.cmp(e)};jt.exponent=function(){return Da(this)};jt.greaterThan=jt.gt=function(e){return this.cmp(e)>0};jt.greaterThanOrEqualTo=jt.gte=function(e){return this.cmp(e)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(e){return this.cmp(e)<0};jt.lessThanOrEqualTo=jt.lte=function(e){return this.cmp(e)<1};jt.logarithm=jt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Js))throw Error(Vo+"NaN");if(r.s<1)throw Error(Vo+(r.s?"NaN":"-Infinity"));return r.eq(Js)?new n(0):(Bn=!1,t=Xc(m1(r,i),m1(e,i),i),Bn=!0,gn(t,a))};jt.minus=jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vR(t,e):xR(t,(e.s=-e.s,e))};jt.modulo=jt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Vo+"NaN");return r.s?(Bn=!1,t=Xc(r,e,0,1).times(e),Bn=!0,r.minus(t)):gn(new n(r),a)};jt.naturalExponential=jt.exp=function(){return gR(this)};jt.naturalLogarithm=jt.ln=function(){return m1(this)};jt.negated=jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};jt.plus=jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xR(t,e):vR(t,(e.s=-e.s,e))};jt.precision=jt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(k0+e);if(t=Da(a)+1,n=a.d.length-1,r=n*Dn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};jt.squareRoot=jt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vo+"NaN")}for(e=Da(l),Bn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Jl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=nm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Xc(l,i,o+2)).times(.5),Jl(i.d).slice(0,o)===(t=Jl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(gn(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Bn=!0,gn(n,r)};jt.times=jt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%li|0,t=l/li|0;i[a]=(i[a]+t)%li|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Bn?gn(e,f.precision):e};jt.toDecimalPlaces=jt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(cc(e,0,rm),t===void 0?t=n.rounding:cc(t,0,8),gn(r,e+Da(r)+1,t))};jt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Y0(n,!0):(cc(e,0,rm),t===void 0?t=a.rounding:cc(t,0,8),n=gn(new a(n),e+1,t),r=Y0(n,!0,e+1)),r};jt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Y0(a):(cc(e,0,rm),t===void 0?t=i.rounding:cc(t,0,8),n=gn(new i(a),e+Da(a)+1,t),r=Y0(n.abs(),!1,e+Da(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};jt.toInteger=jt.toint=function(){var e=this,t=e.constructor;return gn(new t(e),Da(e)+1,t.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Js);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vo+"Infinity");return l}if(l.eq(Js))return l;if(n=c.precision,e.eq(Js))return gn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=mR){for(a=new c(Js),t=Math.ceil(n/Dn+4),Bn=!1;r%2&&(a=a.times(l),I8(a.d,t)),r=nm(r/2),r!==0;)l=l.times(l),I8(l.d,t);return Bn=!0,e.s<0?new c(Js).div(a):gn(a,n)}}else if(i<0)throw Error(Vo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Bn=!1,a=e.times(m1(l,n+u)),Bn=!0,a=gR(a),a.s=i,a};jt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Da(a),n=Y0(a,r<=i.toExpNeg||r>=i.toExpPos)):(cc(e,1,rm),t===void 0?t=i.rounding:cc(t,0,8),a=gn(new i(a),e,t),r=Da(a),n=Y0(a,e<=r||r<=i.toExpNeg,e)),n};jt.toSignificantDigits=jt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(cc(e,1,rm),t===void 0?t=n.rounding:cc(t,0,8)),gn(new n(r),e,t)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Da(e),r=e.constructor;return Y0(e,t<=r.toExpNeg||t>=r.toExpPos)};function xR(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Bn?gn(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Dn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/li|0,c[i]%=li;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Bn?gn(t,f):t}function cc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(k0+e)}function Jl(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Dn-n.length,r&&(i+=Zu(r)),i+=n;o=e[t],n=o+"",r=Dn-n.length,r&&(i+=Zu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Xc=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%li|0,o=i/li|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*li+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,m,x,g,v,b,y,w,N,S,j,A,T=n.constructor,R=n.s==a.s?1:-1,O=n.d,E=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Vo+"Division by zero");for(c=n.e-a.e,j=E.length,N=O.length,p=new T(R),m=p.d=[],u=0;E[u]==(O[u]||0);)++u;if(E[u]>(O[u]||0)&&--c,i==null?b=i=T.precision:o?b=i+(Da(n)-Da(a))+1:b=i,b<0)return new T(0);if(b=b/Dn+2|0,u=0,j==1)for(d=0,E=E[0],b++;(u<N||d)&&b--;u++)y=d*li+(O[u]||0),m[u]=y/E|0,d=y%E|0;else{for(d=li/(E[0]+1)|0,d>1&&(E=e(E,d),O=e(O,d),j=E.length,N=O.length),w=j,x=O.slice(0,j),g=x.length;g<j;)x[g++]=0;A=E.slice(),A.unshift(0),S=E[0],E[1]>=li/2&&++S;do d=0,l=t(E,x,j,g),l<0?(v=x[0],j!=g&&(v=v*li+(x[1]||0)),d=v/S|0,d>1?(d>=li&&(d=li-1),f=e(E,d),h=f.length,g=x.length,l=t(f,x,h,g),l==1&&(d--,r(f,j<h?A:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<g&&f.unshift(0),r(x,f,g),l==-1&&(g=x.length,l=t(E,x,j,g),l<1&&(d++,r(x,j<g?A:E,g))),g=x.length):l===0&&(d++,x=[0]),m[u++]=d,l&&x[0]?x[g++]=O[w]||0:(x=[O[w]],g=1);while((w++<N||x[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=c,gn(p,o?i+Da(p)+1:i)}}();function gR(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Da(e)>16)throw Error(AA+Da(e));if(!e.s)return new d(Js);for(t==null?(Bn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(s0(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Js),d.precision=l;;){if(a=gn(a.times(e),l),r=r.times(++c),o=i.plus(Xc(a,r,l)),Jl(o.d).slice(0,l)===Jl(i.d).slice(0,l)){for(;u--;)i=gn(i.times(i),l);return d.precision=f,t==null?(Bn=!0,gn(i,f)):i}i=o}}function Da(e){for(var t=e.e*Dn,r=e.d[0];r>=10;r/=10)t++;return t}function t4(e,t,r){if(t>e.LN10.sd())throw Bn=!0,r&&(e.precision=r),Error(Vo+"LN10 precision limit exceeded");return gn(new e(e.LN10),t)}function Zu(e){for(var t="";e--;)t+="0";return t}function m1(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,m=p.d,x=p.constructor,g=x.precision;if(p.s<1)throw Error(Vo+(p.s?"NaN":"-Infinity"));if(p.eq(Js))return new x(0);if(t==null?(Bn=!1,u=g):u=t,p.eq(10))return t==null&&(Bn=!0),t4(x,u);if(u+=h,x.precision=u,r=Jl(m),n=r.charAt(0),i=Da(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Jl(p.d),n=r.charAt(0),f++;i=Da(p),n>1?(p=new x("0."+r),i++):p=new x(n+"."+r.slice(1))}else return c=t4(x,u+2,g).times(i+""),p=m1(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=g,t==null?(Bn=!0,gn(p,g)):p;for(l=o=p=Xc(p.minus(Js),p.plus(Js),u),d=gn(p.times(p),u),a=3;;){if(o=gn(o.times(d),u),c=l.plus(Xc(o,new x(a),u)),Jl(c.d).slice(0,u)===Jl(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(t4(x,u+2,g).times(i+""))),l=Xc(l,new x(f),u),x.precision=g,t==null?(Bn=!0,gn(l,g)):l;l=c,a+=2}}function D8(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=nm(r/Dn),e.d=[],n=(r+1)%Dn,r<0&&(n+=Dn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Dn;n<a;)e.d.push(+t.slice(n,n+=Dn));t=t.slice(n),n=Dn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Bn&&(e.e>Wb||e.e<-Wb))throw Error(AA+r)}else e.s=0,e.e=0,e.d=[0];return e}function gn(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Dn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Dn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Dn,a=n-Dn+o}if(r!==void 0&&(i=s0(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/s0(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Da(e),f.length=1,t=t-i-1,f[0]=s0(10,(Dn-t%Dn)%Dn),e.e=nm(-t/Dn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=s0(10,Dn-n),f[d]=a>0?(u/s0(10,o-a)%s0(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==li&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=li)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Bn&&(e.e>Wb||e.e<-Wb))throw Error(AA+Da(e));return e}function vR(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Bn?gn(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Dn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=li-1;--c[i],c[a]+=li}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Bn?gn(t,p):t):new h(0)}function Y0(e,t,r){var n,a=Da(e),i=Jl(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Zu(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Zu(-a-1)+i,r&&(n=r-o)>0&&(i+=Zu(n))):a>=o?(i+=Zu(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Zu(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Zu(n))),e.s<0?"-"+i:i}function I8(e,t){if(e.length>t)return e.length=t,!0}function bR(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(k0+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return D8(o,i.toString())}else if(typeof i!="string")throw Error(k0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Mfe.test(i))D8(o,i);else throw Error(k0+i)}if(a.prototype=jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=bR,a.config=a.set=Ffe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Ffe(e){if(!e||typeof e!="object")throw Error(Vo+"Object expected");var t,r,n,a=["precision",1,rm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(nm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(k0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(k0+r+": "+n);return this}var CA=bR(Ife);Js=new CA(1);const cn=CA;function Rfe(e){return zfe(e)||$fe(e)||Bfe(e)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(e,t){if(e){if(typeof e=="string")return v3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v3(e,t)}}function $fe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zfe(e){if(Array.isArray(e))return v3(e)}function v3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ufe=function(t){return t},yR={"@@functional/placeholder":!0},wR=function(t){return t===yR},M8=function(t){return function r(){return arguments.length===0||arguments.length===1&&wR(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Hfe=function e(t,r){return t===1?r:M8(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==yR}).length;return o>=t?r.apply(void 0,a):e(t-o,M8(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return wR(f)?c.shift():f});return r.apply(void 0,Rfe(d).concat(c))}))})},Yw=function(t){return Hfe(t.length,t)},b3=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Wfe=Yw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Vfe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Ufe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},y3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},_R=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function qfe(e){var t;return e===0?t=1:t=Math.floor(new cn(e).abs().log(10).toNumber())+1,t}function Gfe(e,t,r){for(var n=new cn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Yfe=Yw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Xfe=Yw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Kfe=Yw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Xw={rangeStep:Gfe,getDigitCount:qfe,interpolateNumber:Yfe,uninterpolateNumber:Xfe,uninterpolateTruncation:Kfe};function w3(e){return Zfe(e)||Jfe(e)||NR(e)||Qfe()}function Qfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jfe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Zfe(e){if(Array.isArray(e))return _3(e)}function x1(e,t){return rhe(e)||the(e,t)||NR(e,t)||ehe()}function ehe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NR(e,t){if(e){if(typeof e=="string")return _3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _3(e,t)}}function _3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function the(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function rhe(e){if(Array.isArray(e))return e}function jR(e){var t=x1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function SR(e,t,r){if(e.lte(0))return new cn(0);var n=Xw.getDigitCount(e.toNumber()),a=new cn(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new cn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new cn(Math.ceil(c))}function nhe(e,t,r){var n=1,a=new cn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new cn(10).pow(Xw.getDigitCount(e)-1),a=new cn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new cn(Math.floor(e)))}else e===0?a=new cn(Math.floor((t-1)/2)):r||(a=new cn(Math.floor(e)));var o=Math.floor((t-1)/2),l=Vfe(Wfe(function(c){return a.add(new cn(c-o).mul(n)).toNumber()}),b3);return l(0,t)}function AR(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new cn(0),tickMin:new cn(0),tickMax:new cn(0)};var i=SR(new cn(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new cn(0):(o=new cn(e).add(t).div(2),o=o.sub(new cn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new cn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?AR(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new cn(l).mul(i)),tickMax:o.add(new cn(c).mul(i))})}function ahe(e){var t=x1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=jR([r,n]),c=x1(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(w3(b3(0,a-1).map(function(){return 1/0}))):[].concat(w3(b3(0,a-1).map(function(){return-1/0})),[d]);return r>n?y3(f):f}if(u===d)return nhe(u,a,i);var h=AR(u,d,o,i),p=h.step,m=h.tickMin,x=h.tickMax,g=Xw.rangeStep(m,x.add(new cn(.1).mul(p)),p);return r>n?y3(g):g}function ihe(e,t){var r=x1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=jR([n,a]),l=x1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=SR(new cn(u).sub(c).div(d-1),i,0),h=[].concat(w3(Xw.rangeStep(new cn(c),new cn(u).sub(new cn(.99).mul(f)),f)),[u]);return n>a?y3(h):h}var she=_R(ahe),ohe=_R(ihe),lhe="Invariant failed";function X0(e,t){throw new Error(lhe)}var che=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(this,arguments)}function uhe(e,t){return phe(e)||hhe(e,t)||fhe(e,t)||dhe()}function dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fhe(e,t){if(e){if(typeof e=="string")return F8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F8(e,t)}}function F8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function phe(e){if(Array.isArray(e))return e}function mhe(e,t){if(e==null)return{};var r=xhe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ghe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kR(n.key),n)}}function bhe(e,t,r){return t&&vhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yhe(e,t,r){return t=qb(t),whe(e,CR()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function whe(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _he(e)}function _he(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function Nhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N3(e,t)}function N3(e,t){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N3(e,t)}function ER(e,t,r){return t=kR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kR(e){var t=jhe(e,"string");return hp(t)=="symbol"?t:t+""}function jhe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yg=function(e){function t(){return ghe(this,t),yhe(this,t,arguments)}return Nhe(t,e),bhe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=mhe(n,che),p=Ut(h,!1);this.props.direction==="x"&&d.type!=="number"&&X0();var m=c.map(function(x){var g=u(x,l),v=g.x,b=g.y,y=g.value,w=g.errorVal;if(!w)return null;var N=[],S,j;if(Array.isArray(w)){var A=uhe(w,2);S=A[0],j=A[1]}else S=j=w;if(i==="vertical"){var T=d.scale,R=b+a,O=R+o,E=R-o,L=T(y-S),B=T(y+j);N.push({x1:B,y1:O,x2:B,y2:E}),N.push({x1:L,y1:R,x2:B,y2:R}),N.push({x1:L,y1:O,x2:L,y2:E})}else if(i==="horizontal"){var G=f.scale,U=v+a,W=U-o,X=U+o,q=G(y-S),le=G(y+j);N.push({x1:W,y1:le,x2:X,y2:le}),N.push({x1:U,y1:q,x2:U,y2:le}),N.push({x1:W,y1:q,x2:X,y2:q})}return K.createElement(Ir,Vb({className:"recharts-errorBar",key:"bar-".concat(N.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},p),N.map(function(se){return K.createElement("line",Vb({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return K.createElement(Ir,{className:"recharts-errorBars"},m)}}])}(K.Component);ER(yg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ER(yg,"displayName","ErrorBar");function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){She(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function She(e,t,r){return t=Ahe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ahe(e){var t=Che(e,"string");return g1(t)=="symbol"?t:t+""}function Che(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TR=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ys(r,C0);if(!o)return null;var l=C0.defaultProps,c=l!==void 0?Yd(Yd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Yd(Yd({},h),f.props):{},m=p.dataKey,x=p.name,g=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:c.iconType||g||"square",color:EA(f),value:x||m,payload:p}}),Yd(Yd(Yd({},c),C0.getWithHeight(o,a)),{},{payload:u,item:o})};function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function L8(e){return Ohe(e)||The(e)||khe(e)||Ehe()}function Ehe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(e,t){if(e){if(typeof e=="string")return j3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j3(e,t)}}function The(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ohe(e){if(Array.isArray(e))return j3(e)}function j3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vh(e,t,r){return t=Phe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Phe(e){var t=Dhe(e,"string");return v1(t)=="symbol"?t:t+""}function Dhe(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ha(e,t,r){return nr(e)||nr(t)?r:Ga(t)?io(e,t,r):Xt(t)?t(e):r}function Dx(e,t,r,n){var a=Tfe(e,function(l){return Ha(l,t)});if(r==="number"){var i=a.filter(function(l){return dt(l)||parseFloat(l)});return i.length?[Gw(i),qw(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!nr(l)}):a;return o.map(function(l){return Ga(l)||l instanceof Date?l:""})}var Ihe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(ds(f-d)!==ds(h-f)){var m=[];if(ds(h-f)===ds(c[1]-c[0])){p=h;var x=f+c[1]-c[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{p=d;var g=h+c[1]-c[0];m[0]=Math.min(f,(g+f)/2),m[1]=Math.max(f,(g+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){o=a[u].index;break}}else{var b=Math.min(d,h),y=Math.max(d,h);if(t>(b+f)/2&&t<=(y+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},EA=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Zn(Zn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Mhe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],x=m.items,g=m.cateAxisId,v=x.filter(function(j){return Yc(j.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,y=b!==void 0?Zn(Zn({},b),v[0].props):v[0].props,w=y.barSize,N=y[g];o[N]||(o[N]=[]);var S=nr(w)?r:w;o[N].push({item:v[0],stackList:v.slice(1),barSize:nr(S)?void 0:fs(S,n,0)})}}return o},Fhe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=fs(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,m=o.reduce(function(w,N){return w+N.barSize||0},0);m+=(c-1)*u,m>=a&&(m-=(c-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=c*p);var x=(a-m)/2>>0,g={offset:x-u,size:0};d=o.reduce(function(w,N){var S={item:N.item,position:{offset:g.offset+g.size+u,size:h?p:N.barSize}},j=[].concat(L8(w),[S]);return g=j[j.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){j.push({item:A,position:g})}),j},f)}else{var v=fs(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var b=(a-2*v-(c-1)*u)/c;b>1&&(b>>=0);var y=l===+l?Math.min(b,l):b;d=o.reduce(function(w,N,S){var j=[].concat(L8(w),[{item:N.item,position:{offset:v+(b+u)*S+(b-y)/2,size:y}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){j.push({item:A,position:j[j.length-1].position})}),j},f)}return d},Rhe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=TR({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&dt(t[p]))return Zn(Zn({},t),{},Vh({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&dt(t[m]))return Zn(Zn({},t),{},Vh({},m,t[m]+(h||0)))}return t},Lhe=function(t,r,n){return nr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OR=function(t,r,n,a,i){var o=r.props.children,l=so(o,yg).filter(function(u){return Lhe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ha(d,n);if(nr(f))return u;var h=Array.isArray(f)?[Gw(f),qw(f)]:[f,f],p=c.reduce(function(m,x){var g=Ha(d,x,0),v=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Bhe=function(t,r,n,a,i){var o=r.map(function(l){return OR(t,l,n,i,a)}).filter(function(l){return!nr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},PR=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&OR(t,c,u,a)||Dx(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},DR=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},IR=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Wc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ds(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!fg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},r4=new WeakMap,Gv=function(t,r){if(typeof r!="function")return t;r4.has(t)||r4.set(t,new WeakMap);var n=r4.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},MR=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:u1(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:$b(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Px(),realScaleType:"point"}:i==="category"?{scale:u1(),realScaleType:"band"}:{scale:$b(),realScaleType:"linear"};if(dg(a)){var c="scale".concat(Pw(a));return{scale:(P8[c]||Px)(),realScaleType:P8[c]?c:"point"}}return Xt(a)?{scale:a}:{scale:Px(),realScaleType:"point"}},$8=1e-4,FR=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-$8,o=Math.max(a[0],a[1])+$8,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},$he=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},zhe=function(t,r){if(!r||r.length!==2||!dt(r[0])||!dt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!dt(t[0])||t[0]<n)&&(i[0]=n),(!dt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Uhe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=fg(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Hhe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=fg(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Whe={sign:Uhe,expand:cte,none:ip,silhouette:ute,wiggle:dte,positive:Hhe},Vhe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Whe[n],o=lte().keys(a).value(function(l,c){return+Ha(l,c,0)}).order(XN).offset(i);return o(t)},qhe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Zn(Zn({},h.type.defaultProps),h.props):h.props,x=m.stackId,g=m.hide;if(g)return f;var v=m[n],b=f[v]||{hasStack:!1,stackGroups:{}};if(Ga(x)){var y=b.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),b.hasStack=!0,b.stackGroups[x]=y}else b.stackGroups[Qp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Zn(Zn({},f),{},Vh({},v,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,g){var v=p.stackGroups[g];return Zn(Zn({},x),{},Vh({},g,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:Vhe(t,v.items,i)}))},m)}return Zn(Zn({},f),{},Vh({},h,p))},d)},RR=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=she(u,i,l);return t.domain([Gw(d),qw(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=ohe(f,i,l);return{niceTicks:h}}return null};function z8(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!nr(a[t.dataKey])){var l=vb(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ha(a,nr(o)?t.dataKey:o);return nr(c)?null:t.scale(c)}var U8=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ha(o,r.dataKey,r.domain[l]);return nr(c)?null:r.scale(c)-i/2+a},Ghe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Yhe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Zn(Zn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ga(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Xhe=function(t){return t.reduce(function(r,n){return[Gw(n.concat([r[0]]).filter(dt)),qw(n.concat([r[1]]).filter(dt))]},[1/0,-1/0])},LR=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Xhe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},H8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S3=function(t,r,n){if(Xt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(dt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(H8.test(t[0])){var i=+H8.exec(t[0])[1];a[0]=r[0]-i}else Xt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(dt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(W8.test(t[1])){var o=+W8.exec(t[1])[1];a[1]=r[1]+o}else Xt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Gb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=rA(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},V8=function(t,r,n){return!t||!t.length||bg(t,io(n,"type.defaultProps.domain"))?r:t},BR=function(t,r){var n=t.type.defaultProps?Zn(Zn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Zn(Zn({},Ut(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:EA(t),value:Ha(r,a),type:c,payload:r,chartType:u,hide:d})};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q8(Object(r),!0).forEach(function(n){$R(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $R(e,t,r){return t=Khe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Khe(e){var t=Qhe(e,"string");return b1(t)=="symbol"?t:t+""}function Qhe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jhe(e,t){return rpe(e)||tpe(e,t)||epe(e,t)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(e,t){if(e){if(typeof e=="string")return G8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G8(e,t)}}function G8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rpe(e){if(Array.isArray(e))return e}var Yb=Math.PI/180,npe=function(t){return t*180/Math.PI},Sn=function(t,r,n,a){return{x:t+Math.cos(-Yb*a)*n,y:r+Math.sin(-Yb*a)*n}},zR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ape=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=fs(t.cx,o,o/2),f=fs(t.cy,l,l/2),h=zR(o,l,n),p=fs(t.innerRadius,h,0),m=fs(t.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(g,v){var b=r[v],y=b.domain,w=b.reversed,N;if(nr(b.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[p,m]),w&&(N=[N[1],N[0]]);else{N=b.range;var S=N,j=Jhe(S,2);c=j[0],u=j[1]}var A=MR(b,i),T=A.realScaleType,R=A.scale;R.domain(y).range(N),FR(R);var O=RR(R,$c($c({},b),{},{realScaleType:T})),E=$c($c($c({},b),O),{},{range:N,radius:m,realScaleType:T,scale:R,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return $c($c({},g),{},$R({},v,E))},{})},ipe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},spe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=ipe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:npe(u),angleInRadian:u}},ope=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},lpe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},Y8=function(t,r){var n=t.x,a=t.y,i=spe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=ope(r),f=d.startAngle,h=d.endAngle,p=l,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?$c($c({},r),{},{radius:o,angle:lpe(p,r)}):null},UR=function(t){return!k.isValidElement(t)&&!Xt(t)&&typeof t!="boolean"?t.className:""};function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}var cpe=["offset"];function upe(e){return ppe(e)||hpe(e)||fpe(e)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(e,t){if(e){if(typeof e=="string")return A3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A3(e,t)}}function hpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ppe(e){if(Array.isArray(e))return A3(e)}function A3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mpe(e,t){if(e==null)return{};var r=xpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X8(Object(r),!0).forEach(function(n){gpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gpe(e,t,r){return t=vpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vpe(e){var t=bpe(e,"string");return y1(t)=="symbol"?t:t+""}function bpe(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1.apply(this,arguments)}var ype=function(t){var r=t.value,n=t.formatter,a=nr(t.children)?r:t.children;return Xt(n)?n(a):a},wpe=function(t,r){var n=ds(r-t),a=Math.min(Math.abs(r-t),360);return n*a},_pe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,x=c.clockWise,g=(f+h)/2,v=wpe(p,m),b=v>=0?1:-1,y,w;a==="insideStart"?(y=p+b*o,w=x):a==="insideEnd"?(y=m-b*o,w=!x):a==="end"&&(y=m+b*o,w=x),w=v<=0?w:!w;var N=Sn(u,d,g,y),S=Sn(u,d,g,y+(w?1:-1)*359),j="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),A=nr(t.id)?Qp("recharts-radial-line-"):t.id;return K.createElement("text",w1({},n,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:A,d:j})),K.createElement("textPath",{xlinkHref:"#".concat(A)},r))},Npe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Sn(o,l,u+n,h),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,v=Sn(o,l,g,h),b=v.x,y=v.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},jpe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",x=u>=0?1:-1,g=x*a,v=x>0?"end":"start",b=x>0?"start":"end";if(i==="top"){var y={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Ra(Ra({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return Ra(Ra({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Ra(Ra({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ra(Ra({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return i==="insideLeft"?Ra({x:l+g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},j):i==="insideRight"?Ra({x:l+u-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},j):i==="insideTop"?Ra({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},j):i==="insideBottom"?Ra({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},j):i==="insideTopLeft"?Ra({x:l+g,y:c+h,textAnchor:b,verticalAnchor:m},j):i==="insideTopRight"?Ra({x:l+u-g,y:c+h,textAnchor:v,verticalAnchor:m},j):i==="insideBottomLeft"?Ra({x:l+g,y:c+d-h,textAnchor:b,verticalAnchor:p},j):i==="insideBottomRight"?Ra({x:l+u-g,y:c+d-h,textAnchor:v,verticalAnchor:p},j):Gp(i)&&(dt(i.x)||v0(i.x))&&(dt(i.y)||v0(i.y))?Ra({x:l+fs(i.x,u),y:c+fs(i.y,d),textAnchor:"end",verticalAnchor:"end"},j):Ra({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Spe=function(t){return"cx"in t&&dt(t.cx)};function ui(e){var t=e.offset,r=t===void 0?5:t,n=mpe(e,cpe),a=Ra({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||nr(l)&&nr(c)&&!k.isValidElement(u)&&!Xt(u))return null;if(k.isValidElement(u))return k.cloneElement(u,a);var p;if(Xt(u)){if(p=k.createElement(u,a),k.isValidElement(p))return p}else p=ype(a);var m=Spe(i),x=Ut(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return _pe(a,p,x);var g=m?Npe(a):jpe(a);return K.createElement(G0,w1({className:Ot("recharts-label",f)},x,g,{breakAll:h}),p)}ui.displayName="Label";var HR=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,x=t.width,g=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(dt(x)&&dt(g)){if(dt(f)&&dt(h))return{x:f,y:h,width:x,height:g};if(dt(p)&&dt(m))return{x:p,y:m,width:x,height:g}}return dt(f)&&dt(h)?{x:f,y:h,width:0,height:0}:dt(r)&&dt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},Ape=function(t,r){return t?t===!0?K.createElement(ui,{key:"label-implicit",viewBox:r}):Ga(t)?K.createElement(ui,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===ui?k.cloneElement(t,{key:"label-implicit",viewBox:r}):K.createElement(ui,{key:"label-implicit",content:t,viewBox:r}):Xt(t)?K.createElement(ui,{key:"label-implicit",content:t,viewBox:r}):Gp(t)?K.createElement(ui,w1({viewBox:r},t,{key:"label-implicit"})):null:null},Cpe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=HR(t),o=so(a,ui).map(function(c,u){return k.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Ape(t.label,r||i);return[l].concat(upe(o))};ui.parseViewBox=HR;ui.renderCallByParent=Cpe;function Epe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var kpe=Epe;const Tpe=nn(kpe);function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}var Ope=["valueAccessor"],Ppe=["data","dataKey","clockWise","id","textBreakAll"];function Dpe(e){return Rpe(e)||Fpe(e)||Mpe(e)||Ipe()}function Ipe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(e,t){if(e){if(typeof e=="string")return C3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C3(e,t)}}function Fpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rpe(e){if(Array.isArray(e))return C3(e)}function C3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(this,arguments)}function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(n){Lpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lpe(e,t,r){return t=Bpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bpe(e){var t=$pe(e,"string");return _1(t)=="symbol"?t:t+""}function $pe(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J8(e,t){if(e==null)return{};var r=zpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Upe=function(t){return Array.isArray(t.value)?Tpe(t.value):t.value};function Kc(e){var t=e.valueAccessor,r=t===void 0?Upe:t,n=J8(e,Ope),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=J8(n,Ppe);return!a||!a.length?null:K.createElement(Ir,{className:"recharts-label-list"},a.map(function(d,f){var h=nr(i)?r(d,f):Ha(d&&d.payload,i),p=nr(l)?{}:{id:"".concat(l,"-").concat(f)};return K.createElement(ui,Xb({},Ut(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:ui.parseViewBox(nr(o)?d:Q8(Q8({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Kc.displayName="LabelList";function Hpe(e,t){return e?e===!0?K.createElement(Kc,{key:"labelList-implicit",data:t}):K.isValidElement(e)||Xt(e)?K.createElement(Kc,{key:"labelList-implicit",data:t,content:e}):Gp(e)?K.createElement(Kc,Xb({data:t},e,{key:"labelList-implicit"})):null:null}function Wpe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=so(n,Kc).map(function(o,l){return k.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Hpe(e.label,t);return[i].concat(Dpe(a))}Kc.renderCallByParent=Wpe;function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function E3(){return E3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E3.apply(this,arguments)}function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){Vpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vpe(e,t,r){return t=qpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qpe(e){var t=Gpe(e,"string");return N1(t)=="symbol"?t:t+""}function Gpe(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ype=function(t,r){var n=ds(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Yv=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Yb,h=u?i:i+o*f,p=Sn(r,n,d,h),m=Sn(r,n,a,h),x=u?i-o*f:i,g=Sn(r,n,d*Math.cos(f*Yb),x);return{center:p,circleTangency:m,lineTangency:g,theta:f}},WR=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Ype(o,l),u=o+c,d=Sn(r,n,i,o),f=Sn(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Sn(r,n,a,o),m=Sn(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Xpe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ds(d-u),h=Yv({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,x=h.theta,g=Yv({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,b=g.lineTangency,y=g.theta,w=c?Math.abs(u-d):Math.abs(u-d)-x-y;if(w<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):WR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=Yv({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=S.circleTangency,A=S.lineTangency,T=S.theta,R=Yv({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=R.circleTangency,E=R.lineTangency,L=R.theta,B=c?Math.abs(u-d):Math.abs(u-d)-T-L;if(B<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Kpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VR=function(t){var r=eT(eT({},Kpe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Ot("recharts-sector",h),m=o-i,x=fs(l,m,0,!0),g;return x>0&&Math.abs(d-f)<360?g=Xpe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=WR({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),K.createElement("path",E3({},Ut(r,!0),{className:p,d:g,role:"img"}))};function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function k3(){return k3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k3.apply(this,arguments)}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){Qpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qpe(e,t,r){return t=Jpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jpe(e){var t=Zpe(e,"string");return j1(t)=="symbol"?t:t+""}function Zpe(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nT={curveBasisClosed:Qee,curveBasisOpen:Jee,curveBasis:Kee,curveBumpX:Fee,curveBumpY:Ree,curveLinearClosed:Zee,curveLinear:Iw,curveMonotoneX:ete,curveMonotoneY:tte,curveNatural:rte,curveStep:nte,curveStepAfter:ite,curveStepBefore:ate},Xv=function(t){return t.x===+t.x&&t.y===+t.y},ex=function(t){return t.x},tx=function(t){return t.y},eme=function(t,r){if(Xt(t))return t;var n="curve".concat(Pw(t));return(n==="curveMonotone"||n==="curveBump")&&r?nT["".concat(n).concat(r==="vertical"?"Y":"X")]:nT[n]||Iw},tme=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=eme(n,l),f=u?i.filter(function(x){return Xv(x)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(x){return Xv(x)}):o,m=f.map(function(x,g){return rT(rT({},x),{},{base:p[g]})});return l==="vertical"?h=Bv().y(tx).x1(ex).x0(function(x){return x.base.x}):h=Bv().x(ex).y1(tx).y0(function(x){return x.base.y}),h.defined(Xv).curve(d),h(m)}return l==="vertical"&&dt(o)?h=Bv().y(tx).x1(ex).x0(o):dt(o)?h=Bv().x(ex).y1(tx).y0(o):h=B7().x(ex).y(tx),h.defined(Xv).curve(d),h(f)},Kb=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?tme(t):a;return K.createElement("path",k3({},Ut(t,!1),bb(t),{className:Ot("recharts-curve",r),d:o,ref:i}))},qR={exports:{}},rme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nme=rme,ame=nme;function GR(){}function YR(){}YR.resetWarningCache=GR;var ime=function(){function e(n,a,i,o,l,c){if(c!==ame){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:YR,resetWarningCache:GR};return r.PropTypes=r,r};qR.exports=ime();var sme=qR.exports;const Ur=nn(sme);var ome=Object.getOwnPropertyNames,lme=Object.getOwnPropertySymbols,cme=Object.prototype.hasOwnProperty;function aT(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Kv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function iT(e){return ome(e).concat(lme(e))}var ume=Object.hasOwn||function(e,t){return cme.call(e,t)};function bf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var dme="__v",fme="__o",hme="_owner",sT=Object.getOwnPropertyDescriptor,oT=Object.keys;function pme(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function mme(e,t){return bf(e.getTime(),t.getTime())}function xme(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function gme(e,t){return e===t}function lT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var vme=bf;function bme(e,t,r){var n=oT(e),a=n.length;if(oT(t).length!==a)return!1;for(;a-- >0;)if(!XR(e,t,r,n[a]))return!1;return!0}function rx(e,t,r){var n=iT(e),a=n.length;if(iT(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!XR(e,t,r,i)||(o=sT(e,i),l=sT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function yme(e,t){return bf(e.valueOf(),t.valueOf())}function wme(e,t){return e.source===t.source&&e.flags===t.flags}function cT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function _me(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Nme(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function XR(e,t,r,n){return(n===hme||n===fme||n===dme)&&(e.$$typeof||t.$$typeof)?!0:ume(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var jme="[object Arguments]",Sme="[object Boolean]",Ame="[object Date]",Cme="[object Error]",Eme="[object Map]",kme="[object Number]",Tme="[object Object]",Ome="[object RegExp]",Pme="[object Set]",Dme="[object String]",Ime="[object URL]",Mme=Array.isArray,uT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dT=Object.assign,Fme=Object.prototype.toString.call.bind(Object.prototype.toString);function Rme(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,x,g){if(m===x)return!0;if(m==null||x==null)return!1;var v=typeof m;if(v!==typeof x)return!1;if(v!=="object")return v==="number"?o(m,x,g):v==="function"?a(m,x,g):!1;var b=m.constructor;if(b!==x.constructor)return!1;if(b===Object)return l(m,x,g);if(Mme(m))return t(m,x,g);if(uT!=null&&uT(m))return f(m,x,g);if(b===Date)return r(m,x,g);if(b===RegExp)return u(m,x,g);if(b===Map)return i(m,x,g);if(b===Set)return d(m,x,g);var y=Fme(m);return y===Ame?r(m,x,g):y===Ome?u(m,x,g):y===Eme?i(m,x,g):y===Pme?d(m,x,g):y===Tme?typeof m.then!="function"&&typeof x.then!="function"&&l(m,x,g):y===Ime?h(m,x,g):y===Cme?n(m,x,g):y===jme?l(m,x,g):y===Sme||y===kme||y===Dme?c(m,x,g):!1}}function Lme(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?rx:pme,areDatesEqual:mme,areErrorsEqual:xme,areFunctionsEqual:gme,areMapsEqual:n?aT(lT,rx):lT,areNumbersEqual:vme,areObjectsEqual:n?rx:bme,arePrimitiveWrappersEqual:yme,areRegExpsEqual:wme,areSetsEqual:n?aT(cT,rx):cT,areTypedArraysEqual:n?rx:_me,areUrlsEqual:Nme};if(r&&(a=dT({},a,r(a))),t){var i=Kv(a.areArraysEqual),o=Kv(a.areMapsEqual),l=Kv(a.areObjectsEqual),c=Kv(a.areSetsEqual);a=dT({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Bme(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function $me(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var zme=Id();Id({strict:!0});Id({circular:!0});Id({circular:!0,strict:!0});Id({createInternalComparator:function(){return bf}});Id({strict:!0,createInternalComparator:function(){return bf}});Id({circular:!0,createInternalComparator:function(){return bf}});Id({circular:!0,createInternalComparator:function(){return bf},strict:!0});function Id(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Lme(e),c=Rme(l),u=n?n(c):Bme(c);return $me({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Ume(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function fT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Ume(a)};requestAnimationFrame(n)}function T3(e){"@babel/helpers - typeof";return T3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T3(e)}function Hme(e){return Gme(e)||qme(e)||Vme(e)||Wme()}function Wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vme(e,t){if(e){if(typeof e=="string")return hT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hT(e,t)}}function hT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gme(e){if(Array.isArray(e))return e}function Yme(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Hme(o),c=l[0],u=l.slice(1);if(typeof c=="number"){fT(a.bind(null,u),c);return}a(c),fT(a.bind(null,u));return}T3(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){KR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KR(e,t,r){return t=Xme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xme(e){var t=Kme(e,"string");return S1(t)==="symbol"?t:String(t)}function Kme(e,t){if(S1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qme=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Jme=function(t){return t},Zme=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ix=function(t,r){return Object.keys(r).reduce(function(n,a){return mT(mT({},n),{},KR({},a,t(a,r[a])))},{})},xT=function(t,r,n){return t.map(function(a){return"".concat(Zme(a)," ").concat(r,"ms ").concat(n)}).join(",")};function exe(e,t){return nxe(e)||rxe(e,t)||QR(e,t)||txe()}function txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function nxe(e){if(Array.isArray(e))return e}function axe(e){return oxe(e)||sxe(e)||QR(e)||ixe()}function ixe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QR(e,t){if(e){if(typeof e=="string")return O3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O3(e,t)}}function sxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oxe(e){if(Array.isArray(e))return O3(e)}function O3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qb=1e-4,JR=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ZR=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},gT=function(t,r){return function(n){var a=JR(t,r);return ZR(a,n)}},lxe=function(t,r){return function(n){var a=JR(t,r),i=[].concat(axe(a.map(function(o,l){return o*l}).slice(1)),[0]);return ZR(i,n)}},vT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=exe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=gT(a,o),h=gT(i,l),p=lxe(a,o),m=function(v){return v>1?1:v<0?0:v},x=function(v){for(var b=v>1?1:v,y=b,w=0;w<8;++w){var N=f(y)-b,S=p(y);if(Math.abs(N-b)<Qb||S<Qb)return h(y);y=m(y-N/S)}return h(y)};return x.isStepper=!1,x},cxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,m=h*i,x=h+(p-m)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<Qb&&Math.abs(x)<Qb?[f,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},uxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vT(a);case"spring":return cxe();default:if(a.split("(")[0]==="cubic-bezier")return vT(a)}return typeof a=="function"?a:null};function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function bT(e){return hxe(e)||fxe(e)||eL(e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hxe(e){if(Array.isArray(e))return D3(e)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){P3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P3(e,t,r){return t=pxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pxe(e){var t=mxe(e,"string");return A1(t)==="symbol"?t:String(t)}function mxe(e,t){if(A1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xxe(e,t){return bxe(e)||vxe(e,t)||eL(e,t)||gxe()}function gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eL(e,t){if(e){if(typeof e=="string")return D3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D3(e,t)}}function D3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bxe(e){if(Array.isArray(e))return e}var Jb=function(t,r,n){return t+(r-t)*n},I3=function(t){var r=t.from,n=t.to;return r!==n},yxe=function e(t,r,n){var a=Ix(function(i,o){if(I3(o)){var l=t(o.from,o.to,o.velocity),c=xxe(l,2),u=c[0],d=c[1];return wi(wi({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ix(function(i,o){return I3(o)?wi(wi({},o),{},{velocity:Jb(o.velocity,a[i].velocity,n),from:Jb(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const wxe=function(e,t,r,n,a){var i=Qme(e,t),o=i.reduce(function(g,v){return wi(wi({},g),{},P3({},v,[e[v],t[v]]))},{}),l=i.reduce(function(g,v){return wi(wi({},g),{},P3({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Ix(function(v,b){return b.from},l)},p=function(){return!Object.values(l).filter(I3).length},m=function(v){u||(u=v);var b=v-u,y=b/r.dt;l=yxe(r,l,y),a(wi(wi(wi({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},x=function(v){d||(d=v);var b=(v-d)/n,y=Ix(function(N,S){return Jb.apply(void 0,bT(S).concat([r(b)]))},o);if(a(wi(wi(wi({},e),t),y)),b<1)c=requestAnimationFrame(f);else{var w=Ix(function(N,S){return Jb.apply(void 0,bT(S).concat([r(1)]))},o);a(wi(wi(wi({},e),t),w))}};return f=r.isStepper?m:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}var _xe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Nxe(e,t){if(e==null)return{};var r=jxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jxe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function n4(e){return Exe(e)||Cxe(e)||Axe(e)||Sxe()}function Sxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Axe(e,t){if(e){if(typeof e=="string")return M3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M3(e,t)}}function Cxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Exe(e){if(Array.isArray(e))return M3(e)}function M3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bx(e,t,r){return t=tL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Txe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tL(n.key),n)}}function Oxe(e,t,r){return t&&Txe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tL(e){var t=Pxe(e,"string");return pp(t)==="symbol"?t:String(t)}function Pxe(e,t){if(pp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F3(e,t)}function F3(e,t){return F3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F3(e,t)}function Ixe(e){var t=Mxe();return function(){var n=Zb(e),a;if(t){var i=Zb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return R3(this,a)}}function R3(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L3(e)}function L3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}var uc=function(e){Dxe(r,e);var t=Ixe(r);function r(n,a){var i;kxe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(L3(i)),i.changeStyle=i.changeStyle.bind(L3(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),R3(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},R3(i);i.state={style:c?bx({},c,u):u}}else i.state={style:{}};return i}return Oxe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?bx({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(zme(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?f:a.to;if(this.state&&h){var g={style:c?bx({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(g)}this.runAnimation(ol(ol({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=wxe(o,l,uxe(u),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,g,v){if(v===0)return x;var b=g.duration,y=g.easing,w=y===void 0?"ease":y,N=g.style,S=g.properties,j=g.onAnimationEnd,A=v>0?o[v-1]:g,T=S||Object.keys(N);if(typeof w=="function"||w==="spring")return[].concat(n4(x),[i.runJSAnimation.bind(i,{from:A.style,to:N,duration:b,easing:w}),b]);var R=xT(T,b,w),O=ol(ol(ol({},A.style),N),{},{transition:R});return[].concat(n4(x),[O,b,j]).filter(Jme)};return this.manager.start([c].concat(n4(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Yme());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?bx({},l,c):c,g=xT(Object.keys(x),o,u);m.start([d,i,ol(ol({},x),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Nxe(a,_xe),u=k.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var m=p.props,x=m.style,g=x===void 0?{}:x,v=m.className,b=k.cloneElement(p,ol(ol({},c),{},{style:ol(ol({},g),d),className:v}));return b};return u===1?f(k.Children.only(i)):K.createElement("div",null,k.Children.map(i,function(h){return f(h)}))}}]),r}(k.PureComponent);uc.displayName="Animate";uc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uc.propTypes={from:Ur.oneOfType([Ur.object,Ur.string]),to:Ur.oneOfType([Ur.object,Ur.string]),attributeName:Ur.string,duration:Ur.number,begin:Ur.number,easing:Ur.oneOfType([Ur.string,Ur.func]),steps:Ur.arrayOf(Ur.shape({duration:Ur.number.isRequired,style:Ur.object.isRequired,easing:Ur.oneOfType([Ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ur.func]),properties:Ur.arrayOf("string"),onAnimationEnd:Ur.func})),children:Ur.oneOfType([Ur.node,Ur.func]),isActive:Ur.bool,canBegin:Ur.bool,onAnimationEnd:Ur.func,shouldReAnimate:Ur.bool,onAnimationStart:Ur.func,onAnimationReStart:Ur.func};function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function Fxe(e,t){return $xe(e)||Bxe(e,t)||Lxe(e,t)||Rxe()}function Rxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lxe(e,t){if(e){if(typeof e=="string")return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $xe(e){if(Array.isArray(e))return e}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){zxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zxe(e,t,r){return t=Uxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uxe(e){var t=Hxe(e,"string");return C1(t)=="symbol"?t:t+""}function Hxe(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ST=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*m,`
            L `).concat(t+n,",").concat(r+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-c*m,",").concat(r+a,`
            L `).concat(t+c*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Wxe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Vxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kA=function(t){var r=jT(jT({},Vxe),t),n=k.useRef(),a=k.useState(-1),i=Fxe(a,2),o=i[0],l=i[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=Ot("recharts-rectangle",p);return b?K.createElement(uc,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:m,isActive:b},function(w){var N=w.width,S=w.height,j=w.x,A=w.y;return K.createElement(uc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:v,easing:m},K.createElement("path",ey({},Ut(r,!0),{className:y,d:ST(j,A,N,S,h),ref:n})))}):K.createElement("path",ey({},Ut(r,!0),{className:y,d:ST(c,u,d,f,h)}))},qxe=["points","className","baseLinePoints","connectNulls"];function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}function Gxe(e,t){if(e==null)return{};var r=Yxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AT(e){return Jxe(e)||Qxe(e)||Kxe(e)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(e,t){if(e){if(typeof e=="string")return B3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B3(e,t)}}function Qxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jxe(e){if(Array.isArray(e))return B3(e)}function B3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CT=function(t){return t&&t.x===+t.x&&t.y===+t.y},Zxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){CT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),CT(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Mx=function(t,r){var n=Zxe(t);r&&(n=[n.reduce(function(i,o){return[].concat(AT(i),AT(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},e1e=function(t,r,n){var a=Mx(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Mx(r.reverse(),n).slice(1))},t1e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Gxe(t,qxe);if(!r||!r.length)return null;var l=Ot("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=e1e(r,a,i);return K.createElement("g",{className:l},K.createElement("path",Oh({},Ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?K.createElement("path",Oh({},Ut(o,!0),{fill:"none",d:Mx(r,i)})):null,c?K.createElement("path",Oh({},Ut(o,!0),{fill:"none",d:Mx(a,i)})):null)}var d=Mx(r,i);return K.createElement("path",Oh({},Ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function $3(){return $3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$3.apply(this,arguments)}var Kw=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ot("recharts-dot",i);return r===+r&&n===+n&&a===+a?K.createElement("circle",$3({},Ut(t,!1),bb(t),{className:o,cx:r,cy:n,r:a})):null};function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}var r1e=["x","y","top","left","width","height","className"];function z3(){return z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z3.apply(this,arguments)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){a1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a1e(e,t,r){return t=i1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i1e(e){var t=s1e(e,"string");return E1(t)=="symbol"?t:t+""}function s1e(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o1e(e,t){if(e==null)return{};var r=l1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var c1e=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},u1e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,x=o1e(t,r1e),g=n1e({x:n,y:i,top:l,left:u,width:f,height:p},x);return!dt(n)||!dt(i)||!dt(f)||!dt(p)||!dt(l)||!dt(u)?null:K.createElement("path",z3({},Ut(g,!0),{className:Ot("recharts-cross",m),d:c1e(n,i,f,p,l,u)}))},d1e=Vw,f1e=hR,h1e=xc;function p1e(e,t){return e&&e.length?d1e(e,h1e(t),f1e):void 0}var m1e=p1e;const x1e=nn(m1e);var g1e=Vw,v1e=xc,b1e=pR;function y1e(e,t){return e&&e.length?g1e(e,v1e(t),b1e):void 0}var w1e=y1e;const _1e=nn(w1e);var N1e=["cx","cy","angle","ticks","axisLine"],j1e=["ticks","tick","angle","tickFormatter","stroke"];function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(this,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){Qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TT(e,t){if(e==null)return{};var r=S1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function A1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nL(n.key),n)}}function C1e(e,t,r){return t&&OT(e.prototype,t),r&&OT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E1e(e,t,r){return t=ty(t),k1e(e,rL()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function k1e(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T1e(e)}function T1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function O1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U3(e,t)}function U3(e,t){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U3(e,t)}function Qw(e,t,r){return t=nL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=P1e(e,"string");return mp(t)=="symbol"?t:t+""}function P1e(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jw=function(e){function t(){return A1e(this,t),E1e(this,t,arguments)}return O1e(t,e),C1e(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Sn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=x1e(l,function(d){return d.coordinate||0}),u=_1e(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=TT(n,N1e),d=l.reduce(function(m,x){return[Math.min(m[0],x.coordinate),Math.max(m[1],x.coordinate)]},[1/0,-1/0]),f=Sn(a,i,d[0],o),h=Sn(a,i,d[1],o),p=Xd(Xd(Xd({},Ut(u,!1)),{},{fill:"none"},Ut(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return K.createElement("line",Fx({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=TT(a,j1e),f=this.getTickTextAnchor(),h=Ut(d,!1),p=Ut(o,!1),m=i.map(function(x,g){var v=n.getTickValueCoord(x),b=Xd(Xd(Xd(Xd({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},v),{},{payload:x});return K.createElement(Ir,Fx({className:Ot("recharts-polar-radius-axis-tick",UR(o)),key:"tick-".concat(x.coordinate)},q0(n.props,x,g)),t.renderTickItem(o,b,c?c(x.value,g):x.value))});return K.createElement(Ir,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:K.createElement(Ir,{className:Ot("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ui.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,a):Xt(n)?o=n(a):o=K.createElement(G0,Fx({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(k.PureComponent);Qw(Jw,"displayName","PolarRadiusAxis");Qw(Jw,"axisType","radiusAxis");Qw(Jw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d0.apply(this,arguments)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){Zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iL(n.key),n)}}function I1e(e,t,r){return t&&DT(e.prototype,t),r&&DT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M1e(e,t,r){return t=ry(t),F1e(e,aL()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function F1e(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1e(e)}function R1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function L1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H3(e,t)}function H3(e,t){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H3(e,t)}function Zw(e,t,r){return t=iL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iL(e){var t=B1e(e,"string");return xp(t)=="symbol"?t:t+""}function B1e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $1e=Math.PI/180,IT=1e-5,e5=function(e){function t(){return D1e(this,t),M1e(this,t,arguments)}return L1e(t,e),I1e(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Sn(i,o,l,n.coordinate),h=Sn(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*$1e),o;return i>IT?o=a==="outer"?"start":"end":i<-IT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Kd(Kd({},Ut(this.props,!1)),{},{fill:"none"},Ut(l,!1));if(c==="circle")return K.createElement(Kw,d0({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Sn(a,i,o,h.coordinate)});return K.createElement(t1e,d0({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ut(this.props,!1),f=Ut(o,!1),h=Kd(Kd({},d),{},{fill:"none"},Ut(l,!1)),p=i.map(function(m,x){var g=n.getTickLineCoord(m),v=n.getTickTextAnchor(m),b=Kd(Kd(Kd({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:x,payload:m,x:g.x2,y:g.y2});return K.createElement(Ir,d0({className:Ot("recharts-polar-angle-axis-tick",UR(o)),key:"tick-".concat(m.coordinate)},q0(n.props,m,x)),l&&K.createElement("line",d0({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,b,c?c(m.value,x):m.value))});return K.createElement(Ir,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:K.createElement(Ir,{className:Ot("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,a):Xt(n)?o=n(a):o=K.createElement(G0,d0({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(k.PureComponent);Zw(e5,"displayName","PolarAngleAxis");Zw(e5,"axisType","angleAxis");Zw(e5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var z1e=cF,U1e=z1e(Object.getPrototypeOf,Object),H1e=U1e,W1e=hu,V1e=H1e,q1e=pu,G1e="[object Object]",Y1e=Function.prototype,X1e=Object.prototype,sL=Y1e.toString,K1e=X1e.hasOwnProperty,Q1e=sL.call(Object);function J1e(e){if(!q1e(e)||W1e(e)!=G1e)return!1;var t=V1e(e);if(t===null)return!0;var r=K1e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&sL.call(r)==Q1e}var Z1e=J1e;const ege=nn(Z1e);var tge=hu,rge=pu,nge="[object Boolean]";function age(e){return e===!0||e===!1||rge(e)&&tge(e)==nge}var ige=age;const sge=nn(ige);function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(this,arguments)}function oge(e,t){return dge(e)||uge(e,t)||cge(e,t)||lge()}function lge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cge(e,t){if(e){if(typeof e=="string")return MT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MT(e,t)}}function MT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dge(e){if(Array.isArray(e))return e}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){fge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fge(e,t,r){return t=hge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hge(e){var t=pge(e,"string");return k1(t)=="symbol"?t:t+""}function pge(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LT=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},mge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xge=function(t){var r=RT(RT({},mge),t),n=k.useRef(),a=k.useState(-1),i=oge(a,2),o=i[0],l=i[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Ot("recharts-trapezoid",p);return v?K.createElement(uc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:m,isActive:v},function(y){var w=y.upperWidth,N=y.lowerWidth,S=y.height,j=y.x,A=y.y;return K.createElement(uc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:m},K.createElement("path",ny({},Ut(r,!0),{className:b,d:LT(j,A,w,N,S),ref:n})))}):K.createElement("g",null,K.createElement("path",ny({},Ut(r,!0),{className:b,d:LT(c,u,d,f,h)})))},gge=["option","shapeType","propTransformer","activeClassName","isActive"];function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function vge(e,t){if(e==null)return{};var r=bge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ay(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){yge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yge(e,t,r){return t=wge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wge(e){var t=_ge(e,"string");return T1(t)=="symbol"?t:t+""}function _ge(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nge(e,t){return ay(ay({},t),e)}function jge(e,t){return e==="symbols"}function $T(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return K.createElement(kA,r);case"trapezoid":return K.createElement(xge,r);case"sector":return K.createElement(VR,r);case"symbols":if(jge(t))return K.createElement(YS,r);break;default:return null}}function Sge(e){return k.isValidElement(e)?e.props:e}function oL(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Nge:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=vge(e,gge),u;if(k.isValidElement(t))u=k.cloneElement(t,ay(ay({},c),Sge(t)));else if(Xt(t))u=t(c);else if(ege(t)&&!sge(t)){var d=a(t,c);u=K.createElement($T,{shapeType:r,elementProps:d})}else{var f=c;u=K.createElement($T,{shapeType:r,elementProps:f})}return l?K.createElement(Ir,{className:o},u):u}function t5(e,t){return t!=null&&"trapezoids"in e.props}function r5(e,t){return t!=null&&"sectors"in e.props}function O1(e,t){return t!=null&&"points"in e.props}function Age(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Cge(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ege(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function kge(e,t){var r;return t5(e,t)?r=Age:r5(e,t)?r=Cge:O1(e,t)&&(r=Ege),r}function Tge(e,t){var r;return t5(e,t)?r="trapezoids":r5(e,t)?r="sectors":O1(e,t)&&(r="points"),r}function Oge(e,t){if(t5(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(r5(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return O1(e,t)?t.payload:{}}function Pge(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Tge(r,t),i=Oge(r,t),o=n.filter(function(c,u){var d=bg(i,c),f=r.props[a].filter(function(m){var x=kge(r,t);return x(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Q2;function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){Ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cL(n.key),n)}}function Ige(e,t,r){return t&&UT(e.prototype,t),r&&UT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mge(e,t,r){return t=iy(t),Fge(e,lL()?Reflect.construct(t,r||[],iy(e).constructor):t.apply(e,r))}function Fge(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rge(e)}function Rge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lL=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(e)}function Lge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W3(e,t)}function W3(e,t){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W3(e,t)}function Ro(e,t,r){return t=cL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cL(e){var t=Bge(e,"string");return gp(t)=="symbol"?t:t+""}function Bge(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gc=function(e){function t(r){var n;return Dge(this,t),n=Mge(this,t,[r]),Ro(n,"pieRef",null),Ro(n,"sectorRefs",[]),Ro(n,"id",Qp("recharts-pie-")),Ro(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xt(a)&&a()}),Ro(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Lge(t,e),Ige(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Ut(this.props,!1),f=Ut(o,!1),h=Ut(l,!1),p=o&&o.offsetRadius||20,m=n.map(function(x,g){var v=(x.startAngle+x.endAngle)/2,b=Sn(x.cx,x.cy,x.outerRadius+p,v),y=_n(_n(_n(_n({},d),x),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,x.cx)},b),w=_n(_n(_n(_n({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:g,points:[Sn(x.cx,x.cy,x.outerRadius,v),b]}),N=c;return nr(c)&&nr(u)?N="value":nr(c)&&(N=u),K.createElement(Ir,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,y,Ha(x,N)))});return K.createElement(Ir,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,m=_n(_n({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return K.createElement(Ir,Ph({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},q0(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),K.createElement(oL,Ph({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return K.createElement(uc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var x=m.t,g=[],v=i&&i[0],b=v.startAngle;return i.forEach(function(y,w){var N=h&&h[w],S=w>0?io(y,"paddingAngle",0):0;if(N){var j=Xs(N.endAngle-N.startAngle,y.endAngle-y.startAngle),A=_n(_n({},y),{},{startAngle:b+S,endAngle:b+j(x)+S});g.push(A),b=A.endAngle}else{var T=y.endAngle,R=y.startAngle,O=Xs(0,T-R),E=O(x),L=_n(_n({},y),{},{startAngle:b+S,endAngle:b+E+S});g.push(L),b=L.endAngle}}),K.createElement(Ir,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!bg(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!dt(u)||!dt(d)||!dt(f)||!dt(h))return null;var x=Ot("recharts-pie",l);return K.createElement(Ir,{tabIndex:this.props.rootTabIndex,className:x,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),ui.renderCallByParent(this.props,null,!1),(!p||m)&&Kc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);if(Xt(n))return n(a);var o=Ot("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(Kb,Ph({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);var o=i;if(Xt(n)&&(o=n(a),K.isValidElement(o)))return o;var l=Ot("recharts-pie-label-text",typeof n!="boolean"&&!Xt(n)?n.className:"");return K.createElement(G0,Ph({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(k.PureComponent);Q2=gc;Ro(gc,"displayName","Pie");Ro(gc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ac.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ro(gc,"parseDeltaAngle",function(e,t){var r=ds(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ro(gc,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ut(e,!1),a=so(r,pg);return t&&t.length?t.map(function(i,o){return _n(_n(_n({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return _n(_n({},n),i.props)}):[]});Ro(gc,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=zR(a,i),l=n+fs(e.cx,a,a/2),c=r+fs(e.cy,i,i/2),u=fs(e.innerRadius,o,0),d=fs(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ro(gc,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?_n(_n({},t.type.defaultProps),t.props):t.props,a=Q2.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=Q2.parseCoordinateOfPie(n,r),x=Q2.parseDeltaAngle(o,l),g=Math.abs(x),v=u;nr(u)&&nr(f)?(wl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):nr(u)&&(wl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=a.filter(function(A){return Ha(A,v,0)!==0}).length,y=(g>=360?b:b-1)*c,w=g-b*p-y,N=a.reduce(function(A,T){var R=Ha(T,v,0);return A+(dt(R)?R:0)},0),S;if(N>0){var j;S=a.map(function(A,T){var R=Ha(A,v,0),O=Ha(A,d,T),E=(dt(R)?R:0)/N,L;T?L=j.endAngle+ds(x)*c*(R!==0?1:0):L=o;var B=L+ds(x)*((R!==0?p:0)+E*w),G=(L+B)/2,U=(m.innerRadius+m.outerRadius)/2,W=[{name:O,value:R,payload:A,dataKey:v,type:h}],X=Sn(m.cx,m.cy,U,G);return j=_n(_n(_n({percent:E,cornerRadius:i,name:O,tooltipPayload:W,midAngle:G,middleRadius:U,tooltipPosition:X},A),m),{},{value:Ha(A,v),startAngle:L,endAngle:B,payload:A,paddingAngle:ds(x)*c}),j})}return _n(_n({},m),{},{sectors:S,data:a})});var $ge=Math.ceil,zge=Math.max;function Uge(e,t,r,n){for(var a=-1,i=zge($ge((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Hge=Uge,Wge=EF,HT=1/0,Vge=17976931348623157e292;function qge(e){if(!e)return e===0?e:0;if(e=Wge(e),e===HT||e===-HT){var t=e<0?-1:1;return t*Vge}return e===e?e:0}var uL=qge,Gge=Hge,Yge=Lw,a4=uL;function Xge(e){return function(t,r,n){return n&&typeof n!="number"&&Yge(t,r,n)&&(r=n=void 0),t=a4(t),r===void 0?(r=t,t=0):r=a4(r),n=n===void 0?t<r?1:-1:a4(n),Gge(t,r,n,e)}}var Kge=Xge,Qge=Kge,Jge=Qge(),Zge=Jge;const sy=nn(Zge);function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){dL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dL(e,t,r){return t=eve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eve(e){var t=tve(e,"string");return P1(t)=="symbol"?t:t+""}function tve(e,t){if(P1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rve=["Webkit","Moz","O","ms"],nve=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=rve.reduce(function(i,o){return VT(VT({},i),{},dL({},o+n,r))},{});return a[t]=r,a};function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){Gs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ave(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hL(n.key),n)}}function ive(e,t,r){return t&&GT(e.prototype,t),r&&GT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sve(e,t,r){return t=ly(t),ove(e,fL()?Reflect.construct(t,r||[],ly(e).constructor):t.apply(e,r))}function ove(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lve(e)}function lve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fL=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function cve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V3(e,t)}function V3(e,t){return V3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V3(e,t)}function Gs(e,t,r){return t=hL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hL(e){var t=uve(e,"string");return vp(t)=="symbol"?t:t+""}function uve(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dve=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Px().domain(sy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},YT=function(t){return t.changedTouches&&!!t.changedTouches.length},bp=function(e){function t(r){var n;return ave(this,t),n=sve(this,t,[r]),Gs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Gs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Gs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Gs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Gs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Gs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Gs(n,"handleSlideDragStart",function(a){var i=YT(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cve(t,e),ive(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ha(i[n],l,n);return Xt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,x=n.pageX-i;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==h||g.endIndex!==p)&&m&&m(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=YT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,x=d.gap,g=d.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),v[o]=u+b;var y=this.getIndex(v),w=y.startIndex,N=y.endIndex,S=function(){var A=g.length-1;return o==="startX"&&(l>c?w%x===0:N%x===0)||l<c&&N===A||o==="endX"&&(l>c?N%x===0:w%x===0)||l>c&&N===A};this.setState(Gs(Gs({},o,u+b),"brushMoveStartX",n.pageX),function(){m&&S()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Gs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return K.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=k.Children.only(u);return f?K.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,x=c.startIndex,g=c.endIndex,v=Math.max(n,this.props.x),b=i4(i4({},Ut(this.props,!1)),{},{x:v,y:u,width:d,height:f}),y=p||"Min value: ".concat((i=m[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[g])===null||o===void 0?void 0:o.name);return K.createElement(Ir,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return K.createElement(Ir,{className:"recharts-brush-texts"},K.createElement(G0,oy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},m),this.getTextOfTick(a)),K.createElement(G0,oy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,x=h.isTextActive,g=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!dt(l)||!dt(c)||!dt(u)||!dt(d)||u<=0||d<=0)return null;var y=Ot("recharts-brush",i),w=K.Children.count(o)===1,N=nve("userSelect","none");return K.createElement(Ir,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||g||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return K.isValidElement(n)?i=K.cloneElement(n,a):Xt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return i4({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?dve({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(k.PureComponent);Gs(bp,"displayName","Brush");Gs(bp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fve=tA;function hve(e,t){var r;return fve(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var pve=hve,mve=tF,xve=xc,gve=pve,vve=Ms,bve=Lw;function yve(e,t,r){var n=vve(e)?mve:gve;return r&&bve(e,t,r)&&(t=void 0),n(e,xve(t))}var wve=yve;const _ve=nn(wve);var sc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},XT=NF;function Nve(e,t,r){t=="__proto__"&&XT?XT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var jve=Nve,Sve=jve,Ave=wF,Cve=xc;function Eve(e,t){var r={};return t=Cve(t),Ave(e,function(n,a,i){Sve(r,a,t(n,a,i))}),r}var kve=Eve;const Tve=nn(kve);function Ove(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Pve=Ove,Dve=tA;function Ive(e,t){var r=!0;return Dve(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Mve=Ive,Fve=Pve,Rve=Mve,Lve=xc,Bve=Ms,$ve=Lw;function zve(e,t,r){var n=Bve(e)?Fve:Rve;return r&&$ve(e,t,r)&&(t=void 0),n(e,Lve(t))}var Uve=zve;const pL=nn(Uve);var Hve=["x","y"];function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q3.apply(this,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Wve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wve(e,t,r){return t=Vve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vve(e){var t=qve(e,"string");return D1(t)=="symbol"?t:t+""}function qve(e,t){if(D1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gve(e,t){if(e==null)return{};var r=Yve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xve(e,t){var r=e.x,n=e.y,a=Gve(e,Hve),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return nx(nx(nx(nx(nx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function QT(e){return K.createElement(oL,q3({shapeType:"rectangle",propTransformer:Xve,activeClassName:"recharts-active-bar"},e))}var Kve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||X0(),r)}},Qve=["value","background"],mL;function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function Jve(e,t){if(e==null)return{};var r=Zve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(this,arguments)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){ud(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gL(n.key),n)}}function t2e(e,t,r){return t&&ZT(e.prototype,t),r&&ZT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r2e(e,t,r){return t=uy(t),n2e(e,xL()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}function n2e(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a2e(e)}function a2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function i2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G3(e,t)}function G3(e,t){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G3(e,t)}function ud(e,t,r){return t=gL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gL(e){var t=s2e(e,"string");return yp(t)=="symbol"?t:t+""}function s2e(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yf=function(e){function t(){var r;e2e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=r2e(this,t,[].concat(a)),ud(r,"state",{isAnimationFinished:!1}),ud(r,"id",Qp("recharts-bar-")),ud(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ud(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return i2e(t,e),t2e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Ut(this.props,!1);return n&&n.map(function(f,h){var p=h===c,m=p?u:o,x=Ea(Ea(Ea({},d),f),{},{isActive:p,option:m,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(Ir,cy({className:"recharts-bar-rectangle"},q0(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),K.createElement(QT,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return K.createElement(uc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=i.map(function(g,v){var b=h&&h[v];if(b){var y=Xs(b.x,g.x),w=Xs(b.y,g.y),N=Xs(b.width,g.width),S=Xs(b.height,g.height);return Ea(Ea({},g),{},{x:y(m),y:w(m),width:N(m),height:S(m)})}if(o==="horizontal"){var j=Xs(0,g.height),A=j(m);return Ea(Ea({},g),{},{y:g.y+g.height-A,height:A})}var T=Xs(0,g.width),R=T(m);return Ea(Ea({},g),{},{width:R})});return K.createElement(Ir,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!bg(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ut(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Jve(u,Qve);if(!f)return null;var p=Ea(Ea(Ea(Ea(Ea({},h),{},{fill:"#eee"},f),c),q0(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return K.createElement(QT,cy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=so(d,yg);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,v){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:Ha(g,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Ir,m,f.map(function(x){return K.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,v=Ot("recharts-bar",o),b=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,w=b||y,N=nr(x)?this.id:x;return K.createElement(Ir,{className:v},b||y?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(N)},K.createElement("rect",{x:b?u:u-f/2,y:y?d:d-h/2,width:b?f:f*2,height:y?h:h*2}))):null,K.createElement(Ir,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(N,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,N),(!p||g)&&Kc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(k.PureComponent);mL=yf;ud(yf,"displayName","Bar");ud(yf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ac.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ud(yf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=$he(n,r);if(!p)return null;var m=t.layout,x=r.type.defaultProps,g=x!==void 0?Ea(Ea({},x),r.props):r.props,v=g.dataKey,b=g.children,y=g.minPointSize,w=m==="horizontal"?o:i,N=u?w.scale.domain():null,S=Ghe({numericAxis:w}),j=so(b,pg),A=f.map(function(T,R){var O,E,L,B,G,U;u?O=zhe(u[d+R],N):(O=Ha(T,v),Array.isArray(O)||(O=[S,O]));var W=Kve(y,mL.defaultProps.minPointSize)(O[1],R);if(m==="horizontal"){var X,q=[o.scale(O[0]),o.scale(O[1])],le=q[0],se=q[1];E=U8({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:T,index:R}),L=(X=se??le)!==null&&X!==void 0?X:void 0,B=p.size;var I=le-se;if(G=Number.isNaN(I)?0:I,U={x:E,y:o.y,width:B,height:o.height},Math.abs(W)>0&&Math.abs(G)<Math.abs(W)){var P=ds(G||W)*(Math.abs(W)-Math.abs(G));L-=P,G+=P}}else{var M=[i.scale(O[0]),i.scale(O[1])],z=M[0],Y=M[1];if(E=z,L=U8({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:T,index:R}),B=Y-z,G=p.size,U={x:i.x,y:L,width:i.width,height:G},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var ae=ds(B||W)*(Math.abs(W)-Math.abs(B));B+=ae}}return Ea(Ea(Ea({},T),{},{x:E,y:L,width:B,height:G,value:u?O:O[1],payload:T,background:U},j&&j[R]&&j[R].props),{},{tooltipPayload:[BR(r,T)],tooltipPosition:{x:E+B/2,y:L+G/2}})});return Ea({data:A,layout:m},h)});function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function o2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vL(n.key),n)}}function l2e(e,t,r){return t&&eO(e.prototype,t),r&&eO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){n5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n5(e,t,r){return t=vL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vL(e){var t=c2e(e,"string");return I1(t)=="symbol"?t:t+""}function c2e(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bL=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ys(u,yf);return d.reduce(function(p,m){var x=r[m],g=x.orientation,v=x.domain,b=x.padding,y=b===void 0?{}:b,w=x.mirror,N=x.reversed,S="".concat(g).concat(w?"Mirror":""),j,A,T,R,O;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var E=v[1]-v[0],L=1/0,B=x.categoricalDomain.sort();if(B.forEach(function(M,z){z>0&&(L=Math.min((M||0)-(B[z-1]||0),L))}),Number.isFinite(L)){var G=L/E,U=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(j=G*U/2),x.padding==="no-gap"){var W=fs(t.barCategoryGap,G*U),X=G*U/2;j=X-W-(X-W)/U*W}}}a==="xAxis"?A=[n.left+(y.left||0)+(j||0),n.left+n.width-(y.right||0)-(j||0)]:a==="yAxis"?A=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(j||0),n.top+n.height-(y.bottom||0)-(j||0)]:A=x.range,N&&(A=[A[1],A[0]]);var q=MR(x,i,h),le=q.scale,se=q.realScaleType;le.domain(v).range(A),FR(le);var I=RR(le,hl(hl({},x),{},{realScaleType:se}));a==="xAxis"?(O=g==="top"&&!w||g==="bottom"&&w,T=n.left,R=f[S]-O*x.height):a==="yAxis"&&(O=g==="left"&&!w||g==="right"&&w,T=f[S]-O*x.width,R=n.top);var P=hl(hl(hl({},x),I),{},{realScaleType:se,x:T,y:R,scale:le,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return P.bandSize=Gb(P,I),!x.hide&&a==="xAxis"?f[S]+=(O?-1:1)*P.height:x.hide||(f[S]+=(O?-1:1)*P.width),hl(hl({},p),{},n5({},m,P))},{})},yL=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},u2e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return yL({x:r,y:n},{x:a,y:i})},wL=function(){function e(t){o2e(this,e),this.scale=t}return l2e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();n5(wL,"EPS",1e-4);var TA=function(t){var r=Object.keys(t).reduce(function(n,a){return hl(hl({},n),{},n5({},a,wL.create(t[a])))},{});return hl(hl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Tve(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return pL(a,function(i,o){return r[o].isInRange(i)})}})};function d2e(e){return(e%180+180)%180}var f2e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=d2e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},h2e=xc,p2e=hg,m2e=Fw;function x2e(e){return function(t,r,n){var a=Object(t);if(!p2e(t)){var i=h2e(r);t=m2e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var g2e=x2e,v2e=uL;function b2e(e){var t=v2e(e),r=t%1;return t===t?r?t-r:t:0}var y2e=b2e,w2e=mF,_2e=xc,N2e=y2e,j2e=Math.max;function S2e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:N2e(r);return a<0&&(a=j2e(n+a,0)),w2e(e,_2e(t),a)}var A2e=S2e,C2e=g2e,E2e=A2e,k2e=C2e(E2e),T2e=k2e;const O2e=nn(T2e);var P2e=CJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),OA=k.createContext(void 0),PA=k.createContext(void 0),_L=k.createContext(void 0),NL=k.createContext({}),jL=k.createContext(void 0),SL=k.createContext(0),AL=k.createContext(0),rO=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=P2e(i);return K.createElement(OA.Provider,{value:n},K.createElement(PA.Provider,{value:a},K.createElement(NL.Provider,{value:i},K.createElement(_L.Provider,{value:d},K.createElement(jL.Provider,{value:o},K.createElement(SL.Provider,{value:u},K.createElement(AL.Provider,{value:c},l)))))))},D2e=function(){return k.useContext(jL)},CL=function(t){var r=k.useContext(OA);r==null&&X0();var n=r[t];return n==null&&X0(),n},I2e=function(){var t=k.useContext(OA);return nd(t)},M2e=function(){var t=k.useContext(PA),r=O2e(t,function(n){return pL(n.domain,Number.isFinite)});return r||nd(t)},EL=function(t){var r=k.useContext(PA);r==null&&X0();var n=r[t];return n==null&&X0(),n},F2e=function(){var t=k.useContext(_L);return t},R2e=function(){return k.useContext(NL)},DA=function(){return k.useContext(AL)},IA=function(){return k.useContext(SL)};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function L2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TL(n.key),n)}}function $2e(e,t,r){return t&&B2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z2e(e,t,r){return t=dy(t),U2e(e,kL()?Reflect.construct(t,r||[],dy(e).constructor):t.apply(e,r))}function U2e(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H2e(e)}function H2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(e)}function W2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y3(e,t)}function Y3(e,t){return Y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y3(e,t)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){MA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MA(e,t,r){return t=TL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TL(e){var t=V2e(e,"string");return wp(t)=="symbol"?t:t+""}function V2e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q2e(e,t){return K2e(e)||X2e(e,t)||Y2e(e,t)||G2e()}function G2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2e(e,t){if(e){if(typeof e=="string")return iO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(e,t)}}function iO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function K2e(e){if(Array.isArray(e))return e}function X3(){return X3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X3.apply(this,arguments)}var Q2e=function(t,r){var n;return K.isValidElement(t)?n=K.cloneElement(t,r):Xt(t)?n=t(r):n=K.createElement("line",X3({},r,{className:"recharts-reference-line-line"})),n},J2e=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=u.y,x=t.y.apply(m,{position:o});if(sc(u,"discard")&&!t.y.isInRange(x))return null;var g=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?g.reverse():g}if(r){var v=u.x,b=t.x.apply(v,{position:o});if(sc(u,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?y.reverse():y}if(a){var w=u.segment,N=w.map(function(S){return t.apply(S,{position:o})});return sc(u,"discard")&&_ve(N,function(S){return!t.isInRange(S)})?null:N}return null};function Z2e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=D2e(),d=CL(a),f=EL(i),h=F2e();if(!u||!h)return null;wl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=TA({x:d.scale,y:f.scale}),m=Ga(t),x=Ga(r),g=n&&n.length===2,v=J2e(p,m,x,g,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var b=q2e(v,2),y=b[0],w=y.x,N=y.y,S=b[1],j=S.x,A=S.y,T=sc(e,"hidden")?"url(#".concat(u,")"):void 0,R=aO(aO({clipPath:T},Ut(e,!0)),{},{x1:w,y1:N,x2:j,y2:A});return K.createElement(Ir,{className:Ot("recharts-reference-line",l)},Q2e(o,R),ui.renderCallByParent(e,u2e({x1:w,y1:N,x2:j,y2:A})))}var FA=function(e){function t(){return L2e(this,t),z2e(this,t,arguments)}return W2e(t,e),$2e(t,[{key:"render",value:function(){return K.createElement(Z2e,this.props)}}])}(K.Component);MA(FA,"displayName","ReferenceLine");MA(FA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function K3(){return K3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K3.apply(this,arguments)}function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){a5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PL(n.key),n)}}function rbe(e,t,r){return t&&tbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nbe(e,t,r){return t=fy(t),abe(e,OL()?Reflect.construct(t,r||[],fy(e).constructor):t.apply(e,r))}function abe(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ibe(e)}function ibe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fy(e)}function sbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q3(e,t)}function Q3(e,t){return Q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q3(e,t)}function a5(e,t,r){return t=PL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e){var t=obe(e,"string");return _p(t)=="symbol"?t:t+""}function obe(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lbe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=TA({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return sc(t,"discard")&&!o.isInRange(l)?null:l},i5=function(e){function t(){return ebe(this,t),nbe(this,t,arguments)}return sbe(t,e),rbe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ga(a),d=Ga(i);if(wl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=lbe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,x=m.shape,g=m.className,v=sc(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=oO(oO({clipPath:v},Ut(this.props,!0)),{},{cx:h,cy:p});return K.createElement(Ir,{className:Ot("recharts-reference-dot",g)},t.renderDot(x,b),ui.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(K.Component);a5(i5,"displayName","ReferenceDot");a5(i5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});a5(i5,"renderDot",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Xt(e)?r=e(t):r=K.createElement(Kw,K3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function J3(){return J3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J3.apply(this,arguments)}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){s5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ube(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IL(n.key),n)}}function dbe(e,t,r){return t&&ube(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fbe(e,t,r){return t=hy(t),hbe(e,DL()?Reflect.construct(t,r||[],hy(e).constructor):t.apply(e,r))}function hbe(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pbe(e)}function pbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(e)}function mbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z3(e,t)}function Z3(e,t){return Z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z3(e,t)}function s5(e,t,r){return t=IL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=xbe(e,"string");return Np(t)=="symbol"?t:t+""}function xbe(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gbe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=TA({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return sc(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:yL(p,m)},o5=function(e){function t(){return cbe(this,t),fbe(this,t,arguments)}return mbe(t,e),dbe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;wl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ga(a),h=Ga(i),p=Ga(o),m=Ga(l),x=this.props.shape;if(!f&&!h&&!p&&!m&&!x)return null;var g=gbe(f,h,p,m,this.props);if(!g&&!x)return null;var v=sc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return K.createElement(Ir,{className:Ot("recharts-reference-area",c)},t.renderRect(x,cO(cO({clipPath:v},Ut(this.props,!0)),g)),ui.renderCallByParent(this.props,g))}}])}(K.Component);s5(o5,"displayName","ReferenceArea");s5(o5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});s5(o5,"renderRect",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Xt(e)?r=e(t):r=K.createElement(kA,J3({},t,{className:"recharts-reference-area-rect"})),r});function ML(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function vbe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return f2e(n,r)}function bbe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function py(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ybe(e,t){return ML(e,t+1)}function wbe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:ML(n,u)};var x=c,g,v=function(){return g===void 0&&(g=r(m,x)),g},b=m.coordinate,y=c===0||py(e,b,v,d,l);y||(c=0,d=o,u+=1),y&&(d=b+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){_be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _be(e,t,r){return t=Nbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nbe(e){var t=jbe(e,"string");return M1(t)=="symbol"?t:t+""}function jbe(e,t){if(M1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sbe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],m,x=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var g=e*(p.coordinate+e*x()/2-c);i[h]=p=Bi(Bi({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=Bi(Bi({},p),{},{tickCoord:p.coordinate});var v=py(e,p.tickCoord,x,l,c);v&&(c=p.tickCoord-e*(x()/2+a),i[h]=Bi(Bi({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Abe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Bi(Bi({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=py(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Bi(Bi({},d),{},{isShow:!0}))}for(var m=i?l-1:l,x=function(b){var y=o[b],w,N=function(){return w===void 0&&(w=r(y,b)),w};if(b===0){var S=e*(y.coordinate-e*N()/2-c);o[b]=y=Bi(Bi({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else o[b]=y=Bi(Bi({},y),{},{tickCoord:y.coordinate});var j=py(e,y.tickCoord,N,c,u);j&&(c=y.tickCoord+e*(N()/2+a),o[b]=Bi(Bi({},y),{},{isShow:!0}))},g=0;g<m;g++)x(g);return o}function RA(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(dt(c)||ac.isSsr)return ybe(a,typeof c=="number"&&dt(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?Ox(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(y,w){var N=Xt(u)?u(y.value,w):y.value;return p==="width"?vbe(Ox(N,{fontSize:t,letterSpacing:r}),m,f):Ox(N,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?ds(a[1].coordinate-a[0].coordinate):1,v=bbe(i,g,p);return c==="equidistantPreserveStart"?wbe(g,v,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Abe(g,v,x,a,o,c==="preserveStartEnd"):h=Sbe(g,v,x,a,o),h.filter(function(b){return b.isShow}))}var Cbe=["viewBox"],Ebe=["viewBox"],kbe=["ticks"];function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){LA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s4(e,t){if(e==null)return{};var r=Tbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Obe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RL(n.key),n)}}function Pbe(e,t,r){return t&&fO(e.prototype,t),r&&fO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dbe(e,t,r){return t=my(t),Ibe(e,FL()?Reflect.construct(t,r||[],my(e).constructor):t.apply(e,r))}function Ibe(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mbe(e)}function Mbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function Fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ej(e,t)}function ej(e,t){return ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ej(e,t)}function LA(e,t,r){return t=RL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RL(e){var t=Rbe(e,"string");return jp(t)=="symbol"?t:t+""}function Rbe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var am=function(e){function t(r){var n;return Obe(this,t),n=Dbe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Fbe(t,e),Pbe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=s4(n,Cbe),l=this.props,c=l.viewBox,u=s4(l,Ebe);return!Hh(i,c)||!Hh(o,u)||!Hh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,x,g,v,b,y=f?-1:1,w=n.tickSize||d,N=dt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,g=o+ +!f*c,x=g-y*w,b=x-y*h,v=N;break;case"left":x=g=n.coordinate,m=i+ +!f*l,p=m-y*w,v=p-y*h,b=N;break;case"right":x=g=n.coordinate,m=i+ +f*l,p=m+y*w,v=p+y*h,b=N;break;default:p=m=n.coordinate,g=o+ +f*c,x=g+y*w,b=x+y*h,v=N;break}return{line:{x1:p,y1:x,x2:m,y2:g},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ts(ts(ts({},Ut(this.props,!1)),Ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ts(ts({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ts(ts({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return K.createElement("line",Dh({},f,{className:Ot("recharts-cartesian-axis-line",io(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=RA(ts(ts({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=Ut(this.props,!1),v=Ut(d,!1),b=ts(ts({},g),{},{fill:"none"},Ut(c,!1)),y=p.map(function(w,N){var S=o.getTickLineCoord(w),j=S.line,A=S.tick,T=ts(ts(ts(ts({textAnchor:m,verticalAnchor:x},g),{},{stroke:"none",fill:u},v),A),{},{index:N,payload:w,visibleTicksCount:p.length,tickFormatter:f});return K.createElement(Ir,Dh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},q0(o.props,w,N)),c&&K.createElement("line",Dh({},b,j,{className:Ot("recharts-cartesian-axis-tick-line",io(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(Xt(f)?f(w.value,N):w.value).concat(h||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=s4(f,kbe),m=h;return Xt(c)&&(m=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:K.createElement(Ir,{className:Ot("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ui.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,a):Xt(n)?o=n(a):o=K.createElement(G0,Dh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(k.Component);LA(am,"displayName","CartesianAxis");LA(am,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lbe=["x1","y1","x2","y2","key"],Bbe=["offset"];function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){$be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $be(e,t,r){return t=zbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zbe(e){var t=Ube(e,"string");return K0(t)=="symbol"?t:t+""}function Ube(e,t){if(K0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w0.apply(this,arguments)}function pO(e,t){if(e==null)return{};var r=Hbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Wbe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return K.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LL(e,t){var r;if(K.isValidElement(e))r=K.cloneElement(e,t);else if(Xt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=pO(t,Lbe),u=Ut(c,!1);u.offset;var d=pO(u,Bbe);r=K.createElement("line",w0({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Vbe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ui(Ui({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return LL(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function qbe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ui(Ui({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return LL(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Gbe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?a+o-h:d[p+1]-h;if(x<=0)return null;var g=p%t.length;return K.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ybe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?i+l-h:d[p+1]-h;if(x<=0)return null;var g=p%n.length;return K.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Xbe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return IR(RA(Ui(Ui(Ui({},am.defaultProps),n),{},{ticks:Wc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Kbe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return IR(RA(Ui(Ui(Ui({},am.defaultProps),n),{},{ticks:Wc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ih={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function BA(e){var t,r,n,a,i,o,l=DA(),c=IA(),u=R2e(),d=Ui(Ui({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ih.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ih.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ih.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ih.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ih.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ih.verticalFill,x:dt(e.x)?e.x:u.left,y:dt(e.y)?e.y:u.top,width:dt(e.width)?e.width:u.width,height:dt(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,x=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,b=I2e(),y=M2e();if(!dt(p)||p<=0||!dt(m)||m<=0||!dt(f)||f!==+f||!dt(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||Xbe,N=d.horizontalCoordinatesGenerator||Kbe,S=d.horizontalPoints,j=d.verticalPoints;if((!S||!S.length)&&Xt(N)){var A=g&&g.length,T=N({yAxis:y?Ui(Ui({},y),{},{ticks:A?g:y.ticks}):void 0,width:l,height:c,offset:u},A?!0:x);wl(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(K0(T),"]")),Array.isArray(T)&&(S=T)}if((!j||!j.length)&&Xt(w)){var R=v&&v.length,O=w({xAxis:b?Ui(Ui({},b),{},{ticks:R?v:b.ticks}):void 0,width:l,height:c,offset:u},R?!0:x);wl(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(K0(O),"]")),Array.isArray(O)&&(j=O)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(Wbe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),K.createElement(Vbe,w0({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:y})),K.createElement(qbe,w0({},d,{offset:u,verticalPoints:j,xAxis:b,yAxis:y})),K.createElement(Gbe,w0({},d,{horizontalPoints:S})),K.createElement(Ybe,w0({},d,{verticalPoints:j})))}BA.displayName="CartesianGrid";var Qbe=["type","layout","connectNulls","ref"],Jbe=["key"];function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function mO(e,t){if(e==null)return{};var r=Zbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(this,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sh(e){return nye(e)||rye(e)||tye(e)||eye()}function eye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tye(e,t){if(e){if(typeof e=="string")return tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(e,t)}}function rye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nye(e){if(Array.isArray(e))return tj(e)}function tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$L(n.key),n)}}function iye(e,t,r){return t&&gO(e.prototype,t),r&&gO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sye(e,t,r){return t=xy(t),oye(e,BL()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function oye(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lye(e)}function lye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function cye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rj(e,t)}function rj(e,t){return rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rj(e,t)}function pl(e,t,r){return t=$L(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=uye(e,"string");return Sp(t)=="symbol"?t:t+""}function uye(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wg=function(e){function t(){var r;aye(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=sye(this,t,[].concat(a)),pl(r,"state",{isAnimationFinished:!0,totalLength:0}),pl(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),pl(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,b){return v+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],m=0,x=0;m<c.length;x+=c[m],++m)if(x+c[m]>f){p=[].concat(sh(c.slice(0,m)),[f-x]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(sh(t.repeat(c,d)),sh(p),g).map(function(v){return"".concat(v,"px")}).join(", ")}),pl(r,"id",Qp("recharts-line-")),pl(r,"pathRef",function(o){r.mainCurve=o}),pl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),pl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return cye(t,e),iye(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=so(d,yg);if(!f)return null;var h=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:Ha(x.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Ir,p,f.map(function(m){return K.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ut(this.props,!1),h=Ut(c,!0),p=u.map(function(x,g){var v=Vs(Vs(Vs({key:"dot-".concat(g),r:3},f),h),{},{value:x.value,dataKey:d,cx:x.x,cy:x.y,index:g,payload:x.payload});return t.renderDotItem(c,v)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return K.createElement(Ir,Rx({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=mO(l,Qbe),h=Vs(Vs(Vs({},Ut(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return K.createElement(Kb,Rx({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,x=o.width,g=o.height,v=this.state,b=v.prevPoints,y=v.totalLength;return K.createElement(uc,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var N=w.t;if(b){var S=b.length/l.length,j=l.map(function(E,L){var B=Math.floor(L*S);if(b[B]){var G=b[B],U=Xs(G.x,E.x),W=Xs(G.y,E.y);return Vs(Vs({},E),{},{x:U(N),y:W(N)})}if(m){var X=Xs(x*2,E.x),q=Xs(g/2,E.y);return Vs(Vs({},E),{},{x:X(N),y:q(N)})}return Vs(Vs({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(j,n,a)}var A=Xs(0,y),T=A(N),R;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});R=i.getStrokeDasharray(T,y,O)}else R=i.generateSimpleStrokeDasharray(y,T);return i.renderCurveStatically(l,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!bg(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,x=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,y=Ot("recharts-line",c),w=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,S=w||N,j=nr(g)?this.id:g,A=(n=Ut(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=A.r,R=T===void 0?3:T,O=A.strokeWidth,E=O===void 0?2:O,L=DZ(o)?o:{},B=L.clipDot,G=B===void 0?!0:B,U=R*2+E;return K.createElement(Ir,{className:y},w||N?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(j)},K.createElement("rect",{x:w?h:h-p/2,y:N?f:f-m/2,width:w?p:p*2,height:N?m:m*2})),!G&&K.createElement("clipPath",{id:"clipPath-dots-".concat(j)},K.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!b&&this.renderCurve(S,j),this.renderErrorBar(S,j),(b||o)&&this.renderDots(S,G,j),(!x||v)&&Kc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(sh(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(sh(o),sh(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(K.isValidElement(n))i=K.cloneElement(n,a);else if(Xt(n))i=n(a);else{var o=a.key,l=mO(a,Jbe),c=Ot("recharts-line-dot",typeof n!="boolean"?n.className:"");i=K.createElement(Kw,Rx({key:o},l,{className:c}))}return i}}])}(k.PureComponent);pl(wg,"displayName","Line");pl(wg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ac.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pl(wg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var m=Ha(h,o);return d==="horizontal"?{x:z8({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:nr(m)?null:n.scale(m),value:m,payload:h}:{x:nr(m)?null:r.scale(m),y:z8({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:m,payload:h}});return Vs({points:f,layout:d},u)});function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function dye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HL(n.key),n)}}function hye(e,t,r){return t&&fye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pye(e,t,r){return t=gy(t),mye(e,zL()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function mye(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(e)}function xye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function gye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nj(e,t)}function UL(e,t,r){return t=HL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HL(e){var t=vye(e,"string");return Ap(t)=="symbol"?t:t+""}function vye(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aj.apply(this,arguments)}function bye(e){var t=e.xAxisId,r=DA(),n=IA(),a=CL(t);return a==null?null:K.createElement(am,aj({},a,{className:Ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Wc(o,!0)}}))}var im=function(e){function t(){return dye(this,t),pye(this,t,arguments)}return gye(t,e),hye(t,[{key:"render",value:function(){return K.createElement(bye,this.props)}}])}(K.Component);UL(im,"displayName","XAxis");UL(im,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function yye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qL(n.key),n)}}function _ye(e,t,r){return t&&wye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nye(e,t,r){return t=vy(t),jye(e,WL()?Reflect.construct(t,r||[],vy(e).constructor):t.apply(e,r))}function jye(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sye(e)}function Sye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(e)}function Aye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ij(e,t)}function ij(e,t){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ij(e,t)}function VL(e,t,r){return t=qL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qL(e){var t=Cye(e,"string");return Cp(t)=="symbol"?t:t+""}function Cye(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sj(){return sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sj.apply(this,arguments)}var Eye=function(t){var r=t.yAxisId,n=DA(),a=IA(),i=EL(r);return i==null?null:K.createElement(am,sj({},i,{className:Ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Wc(l,!0)}}))},sm=function(e){function t(){return yye(this,t),Nye(this,t,arguments)}return Aye(t,e),_ye(t,[{key:"render",value:function(){return K.createElement(Eye,this.props)}}])}(K.Component);VL(sm,"displayName","YAxis");VL(sm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vO(e){return Pye(e)||Oye(e)||Tye(e)||kye()}function kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tye(e,t){if(e){if(typeof e=="string")return oj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(e,t)}}function Oye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pye(e){if(Array.isArray(e))return oj(e)}function oj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lj=function(t,r,n,a,i){var o=so(t,FA),l=so(t,i5),c=[].concat(vO(o),vO(l)),u=so(t,o5),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(x,g){if(g.props[d]===n&&sc(g.props,"extendDomain")&&dt(g.props[f])){var v=g.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(x,g){if(g.props[d]===n&&sc(g.props,"extendDomain")&&dt(g.props[p])&&dt(g.props[m])){var v=g.props[p],b=g.props[m];return[Math.min(x[0],v,b),Math.max(x[1],v,b)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,g){return dt(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},h)),h},GL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var x=r?r+u:u;if(!this._events[x])return!1;var g=this._events[x],v=arguments.length,b,y;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,m),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];g.fn.apply(g.context,b)}else{var w=g.length,N;for(y=0;y<w;y++)switch(g[y].once&&this.removeListener(u,g[y].fn,void 0,!0),v){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,d);break;case 3:g[y].fn.call(g[y].context,d,f);break;case 4:g[y].fn.call(g[y].context,d,f,h);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];g[y].fn.apply(g[y].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var x=0,g=[],v=m.length;x<v;x++)(m[x].fn!==d||h&&!m[x].once||f&&m[x].context!==f)&&g.push(m[x]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(GL);var Dye=GL.exports;const Iye=nn(Dye);var o4=new Iye,l4="recharts.syncMouseEvents";function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function Mye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YL(n.key),n)}}function Rye(e,t,r){return t&&Fye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c4(e,t,r){return t=YL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=Lye(e,"string");return F1(t)=="symbol"?t:t+""}function Lye(e,t){if(F1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bye=function(){function e(){Mye(this,e),c4(this,"activeIndex",0),c4(this,"coordinateList",[]),c4(this,"layout","horizontal")}return Rye(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function $ye(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&dt(n)&&dt(a))return!0}return!1}function zye(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function XL(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Sn(t,r,n,a),l=Sn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Uye(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Sn(l,c,u,f),p=Sn(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return XL(t);return[{x:n,y:a},{x:i,y:o}]}function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){Hye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hye(e,t,r){return t=Wye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wye(e){var t=Vye(e,"string");return R1(t)=="symbol"?t:t+""}function Vye(e,t){if(R1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qye(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var m,x=Kb;if(h==="ScatterChart")m=o,x=u1e;else if(h==="BarChart")m=zye(f,o,c,d),x=kA;else if(f==="radial"){var g=XL(o),v=g.cx,b=g.cy,y=g.radius,w=g.startAngle,N=g.endAngle;m={cx:v,cy:b,startAngle:w,endAngle:N,innerRadius:y,outerRadius:y},x=VR}else m={points:Uye(f,o,c)},x=Kb;var S=Qv(Qv(Qv(Qv({stroke:"#ccc",pointerEvents:"none"},c),m),Ut(p,!1)),{},{payload:l,payloadIndex:u,className:Ot("recharts-tooltip-cursor",p.className)});return k.isValidElement(p)?k.cloneElement(p,S):k.createElement(x,S)}var Gye=["item"],Yye=["children","className","width","height","style","compact","title","desc"];function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}function yO(e,t){return Qye(e)||Kye(e,t)||QL(e,t)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Qye(e){if(Array.isArray(e))return e}function wO(e,t){if(e==null)return{};var r=Jye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ewe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JL(n.key),n)}}function twe(e,t,r){return t&&ewe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rwe(e,t,r){return t=by(t),nwe(e,KL()?Reflect.construct(t,r||[],by(e).constructor):t.apply(e,r))}function nwe(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return awe(e)}function awe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}function iwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cj(e,t)}function cj(e,t){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cj(e,t)}function kp(e){return lwe(e)||owe(e)||QL(e)||swe()}function swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QL(e,t){if(e){if(typeof e=="string")return uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uj(e,t)}}function owe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lwe(e){if(Array.isArray(e))return uj(e)}function uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){Ht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ht(e,t,r){return t=JL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JL(e){var t=cwe(e,"string");return Ep(t)=="symbol"?t:t+""}function cwe(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uwe={xAxis:["bottom","top"],yAxis:["left","right"]},dwe={width:"100%",height:"100%"},ZL={x:0,y:0};function Jv(e){return e}var fwe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},hwe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Ke(Ke(Ke({},a),Sn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Ke(Ke(Ke({},a),Sn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return ZL},l5=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(kp(l),kp(u)):l},[]);return o.length>0?o:t&&t.length&&dt(a)&&dt(i)?t.slice(a,i+1):[]};function e9(e){return e==="number"?[0,"auto"]:void 0}var dj=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=l5(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=vb(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(kp(c),[BR(u,h)]):c},[])},NO=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=fwe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Ihe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=dj(t,r,d,f),p=hwe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},pwe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=DR(d,i);return n.reduce(function(m,x){var g,v=x.type.defaultProps!==void 0?Ke(Ke({},x.type.defaultProps),x.props):x.props,b=v.type,y=v.dataKey,w=v.allowDataOverflow,N=v.allowDuplicatedCategory,S=v.scale,j=v.ticks,A=v.includeHidden,T=v[o];if(m[T])return m;var R=l5(t.data,{graphicalItems:a.filter(function(I){var P,M=o in I.props?I.props[o]:(P=I.type.defaultProps)===null||P===void 0?void 0:P[o];return M===T}),dataStartIndex:c,dataEndIndex:u}),O=R.length,E,L,B;$ye(v.domain,w,b)&&(E=S3(v.domain,null,w),p&&(b==="number"||S!=="auto")&&(B=Dx(R,y,"category")));var G=e9(b);if(!E||E.length===0){var U,W=(U=v.domain)!==null&&U!==void 0?U:G;if(y){if(E=Dx(R,y,b),b==="category"&&p){var X=jZ(E);N&&X?(L=E,E=sy(0,O)):N||(E=V8(W,E,x).reduce(function(I,P){return I.indexOf(P)>=0?I:[].concat(kp(I),[P])},[]))}else if(b==="category")N?E=E.filter(function(I){return I!==""&&!nr(I)}):E=V8(W,E,x).reduce(function(I,P){return I.indexOf(P)>=0||P===""||nr(P)?I:[].concat(kp(I),[P])},[]);else if(b==="number"){var q=Bhe(R,a.filter(function(I){var P,M,z=o in I.props?I.props[o]:(P=I.type.defaultProps)===null||P===void 0?void 0:P[o],Y="hide"in I.props?I.props.hide:(M=I.type.defaultProps)===null||M===void 0?void 0:M.hide;return z===T&&(A||!Y)}),y,i,d);q&&(E=q)}p&&(b==="number"||S!=="auto")&&(B=Dx(R,y,"category"))}else p?E=sy(0,O):l&&l[T]&&l[T].hasStack&&b==="number"?E=h==="expand"?[0,1]:LR(l[T].stackGroups,c,u):E=PR(R,a.filter(function(I){var P=o in I.props?I.props[o]:I.type.defaultProps[o],M="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return P===T&&(A||!M)}),b,d,!0);if(b==="number")E=lj(f,E,T,i,j),W&&(E=S3(W,E,w));else if(b==="category"&&W){var le=W,se=E.every(function(I){return le.indexOf(I)>=0});se&&(E=le)}}return Ke(Ke({},m),{},Ht({},T,Ke(Ke({},v),{},{axisType:i,domain:E,categoricalDomain:B,duplicateDomain:L,originalDomain:(g=v.domain)!==null&&g!==void 0?g:G,isCategorical:p,layout:d})))},{})},mwe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=l5(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=DR(d,i),x=-1;return n.reduce(function(g,v){var b=v.type.defaultProps!==void 0?Ke(Ke({},v.type.defaultProps),v.props):v.props,y=b[o],w=e9("number");if(!g[y]){x++;var N;return m?N=sy(0,p):l&&l[y]&&l[y].hasStack?(N=LR(l[y].stackGroups,c,u),N=lj(f,N,y,i)):(N=S3(w,PR(h,n.filter(function(S){var j,A,T=o in S.props?S.props[o]:(j=S.type.defaultProps)===null||j===void 0?void 0:j[o],R="hide"in S.props?S.props.hide:(A=S.type.defaultProps)===null||A===void 0?void 0:A.hide;return T===y&&!R}),"number",d),a.defaultProps.allowDataOverflow),N=lj(f,N,y,i)),Ke(Ke({},g),{},Ht({},y,Ke(Ke({axisType:i},a.defaultProps),{},{hide:!0,orientation:io(uwe,"".concat(i,".").concat(x%2),null),domain:N,originalDomain:w,isCategorical:m,layout:d})))}return g},{})},xwe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=so(d,i),p={};return h&&h.length?p=pwe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=mwe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},gwe=function(t){var r=nd(t),n=Wc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rA(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Gb(r,n)}},jO=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ys(r,bp),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},vwe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Yc(r&&r.type);return n&&n.indexOf("Bar")>=0})},SO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bwe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Ys(f,bp),m=Ys(f,C0),x=Object.keys(c).reduce(function(N,S){var j=c[S],A=j.orientation;return!j.mirror&&!j.hide?Ke(Ke({},N),{},Ht({},A,N[A]+j.width)):N},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(N,S){var j=o[S],A=j.orientation;return!j.mirror&&!j.hide?Ke(Ke({},N),{},Ht({},A,io(N,"".concat(A))+j.height)):N},{top:h.top||0,bottom:h.bottom||0}),v=Ke(Ke({},g),x),b=v.bottom;p&&(v.bottom+=p.props.height||bp.defaultProps.height),m&&r&&(v=Rhe(v,a,n,r));var y=u-v.left-v.right,w=d-v.top-v.bottom;return Ke(Ke({brushBottom:b},v),{},{width:Math.max(y,0),height:Math.max(w,0)})},ywe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},$A=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var y=b.graphicalItems,w=b.stackGroups,N=b.offset,S=b.updateId,j=b.dataStartIndex,A=b.dataEndIndex,T=v.barSize,R=v.layout,O=v.barGap,E=v.barCategoryGap,L=v.maxBarSize,B=SO(R),G=B.numericAxisName,U=B.cateAxisName,W=vwe(y),X=[];return y.forEach(function(q,le){var se=l5(v.data,{graphicalItems:[q],dataStartIndex:j,dataEndIndex:A}),I=q.type.defaultProps!==void 0?Ke(Ke({},q.type.defaultProps),q.props):q.props,P=I.dataKey,M=I.maxBarSize,z=I["".concat(G,"Id")],Y=I["".concat(U,"Id")],ae={},ue=c.reduce(function(Ie,Ne){var Pe=b["".concat(Ne.axisType,"Map")],Xe=I["".concat(Ne.axisType,"Id")];Pe&&Pe[Xe]||Ne.axisType==="zAxis"||X0();var tt=Pe[Xe];return Ke(Ke({},Ie),{},Ht(Ht({},Ne.axisType,tt),"".concat(Ne.axisType,"Ticks"),Wc(tt)))},ae),ne=ue[U],_e=ue["".concat(U,"Ticks")],Ce=w&&w[z]&&w[z].hasStack&&Yhe(q,w[z].stackGroups),V=Yc(q.type).indexOf("Bar")>=0,Me=Gb(ne,_e),Ae=[],pe=W&&Mhe({barSize:T,stackGroups:w,totalSize:ywe(ue,U)});if(V){var re,Oe,oe=nr(M)?L:M,de=(re=(Oe=Gb(ne,_e,!0))!==null&&Oe!==void 0?Oe:oe)!==null&&re!==void 0?re:0;Ae=Fhe({barGap:O,barCategoryGap:E,bandSize:de!==Me?de:Me,sizeList:pe[Y],maxBarSize:oe}),de!==Me&&(Ae=Ae.map(function(Ie){return Ke(Ke({},Ie),{},{position:Ke(Ke({},Ie.position),{},{offset:Ie.position.offset-de/2})})}))}var ye=q&&q.type&&q.type.getComposedData;ye&&X.push({props:Ke(Ke({},ye(Ke(Ke({},ue),{},{displayedData:se,props:v,dataKey:P,item:q,bandSize:Me,barPosition:Ae,offset:N,stackedData:Ce,layout:R,dataStartIndex:j,dataEndIndex:A}))),{},Ht(Ht(Ht({key:q.key||"item-".concat(le)},G,ue[G]),U,ue[U]),"animationId",S)),childIndex:FZ(q,v.children),item:q})}),X},p=function(v,b){var y=v.props,w=v.dataStartIndex,N=v.dataEndIndex,S=v.updateId;if(!Lk({props:y}))return null;var j=y.children,A=y.layout,T=y.stackOffset,R=y.data,O=y.reverseStackOrder,E=SO(A),L=E.numericAxisName,B=E.cateAxisName,G=so(j,n),U=qhe(R,G,"".concat(L,"Id"),"".concat(B,"Id"),T,O),W=c.reduce(function(I,P){var M="".concat(P.axisType,"Map");return Ke(Ke({},I),{},Ht({},M,xwe(y,Ke(Ke({},P),{},{graphicalItems:G,stackGroups:P.axisType===L&&U,dataStartIndex:w,dataEndIndex:N}))))},{}),X=bwe(Ke(Ke({},W),{},{props:y,graphicalItems:G}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(I){W[I]=d(y,W[I],X,I.replace("Map",""),r)});var q=W["".concat(B,"Map")],le=gwe(q),se=h(y,Ke(Ke({},W),{},{dataStartIndex:w,dataEndIndex:N,updateId:S,graphicalItems:G,stackGroups:U,offset:X}));return Ke(Ke({formattedGraphicalItems:se,graphicalItems:G,offset:X,stackGroups:U},le),W)},m=function(g){function v(b){var y,w,N;return Zye(this,v),N=rwe(this,v,[b]),Ht(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ht(N,"accessibilityManager",new Bye),Ht(N,"handleLegendBBoxUpdate",function(S){if(S){var j=N.state,A=j.dataStartIndex,T=j.dataEndIndex,R=j.updateId;N.setState(Ke({legendBBox:S},p({props:N.props,dataStartIndex:A,dataEndIndex:T,updateId:R},Ke(Ke({},N.state),{},{legendBBox:S}))))}}),Ht(N,"handleReceiveSyncEvent",function(S,j,A){if(N.props.syncId===S){if(A===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(j)}}),Ht(N,"handleBrushChange",function(S){var j=S.startIndex,A=S.endIndex;if(j!==N.state.dataStartIndex||A!==N.state.dataEndIndex){var T=N.state.updateId;N.setState(function(){return Ke({dataStartIndex:j,dataEndIndex:A},p({props:N.props,dataStartIndex:j,dataEndIndex:A,updateId:T},N.state))}),N.triggerSyncEvent({dataStartIndex:j,dataEndIndex:A})}}),Ht(N,"handleMouseEnter",function(S){var j=N.getMouseInfo(S);if(j){var A=Ke(Ke({},j),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var T=N.props.onMouseEnter;Xt(T)&&T(A,S)}}),Ht(N,"triggeredAfterMouseMove",function(S){var j=N.getMouseInfo(S),A=j?Ke(Ke({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var T=N.props.onMouseMove;Xt(T)&&T(A,S)}),Ht(N,"handleItemMouseEnter",function(S){N.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ht(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ht(N,"handleMouseMove",function(S){S.persist(),N.throttleTriggeredAfterMouseMove(S)}),Ht(N,"handleMouseLeave",function(S){N.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};N.setState(j),N.triggerSyncEvent(j);var A=N.props.onMouseLeave;Xt(A)&&A(j,S)}),Ht(N,"handleOuterEvent",function(S){var j=MZ(S),A=io(N.props,"".concat(j));if(j&&Xt(A)){var T,R;/.*touch.*/i.test(j)?R=N.getMouseInfo(S.changedTouches[0]):R=N.getMouseInfo(S),A((T=R)!==null&&T!==void 0?T:{},S)}}),Ht(N,"handleClick",function(S){var j=N.getMouseInfo(S);if(j){var A=Ke(Ke({},j),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var T=N.props.onClick;Xt(T)&&T(A,S)}}),Ht(N,"handleMouseDown",function(S){var j=N.props.onMouseDown;if(Xt(j)){var A=N.getMouseInfo(S);j(A,S)}}),Ht(N,"handleMouseUp",function(S){var j=N.props.onMouseUp;if(Xt(j)){var A=N.getMouseInfo(S);j(A,S)}}),Ht(N,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ht(N,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseDown(S.changedTouches[0])}),Ht(N,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseUp(S.changedTouches[0])}),Ht(N,"handleDoubleClick",function(S){var j=N.props.onDoubleClick;if(Xt(j)){var A=N.getMouseInfo(S);j(A,S)}}),Ht(N,"handleContextMenu",function(S){var j=N.props.onContextMenu;if(Xt(j)){var A=N.getMouseInfo(S);j(A,S)}}),Ht(N,"triggerSyncEvent",function(S){N.props.syncId!==void 0&&o4.emit(l4,N.props.syncId,S,N.eventEmitterSymbol)}),Ht(N,"applySyncEvent",function(S){var j=N.props,A=j.layout,T=j.syncMethod,R=N.state.updateId,O=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)N.setState(Ke({dataStartIndex:O,dataEndIndex:E},p({props:N.props,dataStartIndex:O,dataEndIndex:E,updateId:R},N.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,B=S.chartY,G=S.activeTooltipIndex,U=N.state,W=U.offset,X=U.tooltipTicks;if(!W)return;if(typeof T=="function")G=T(X,S);else if(T==="value"){G=-1;for(var q=0;q<X.length;q++)if(X[q].value===S.activeLabel){G=q;break}}var le=Ke(Ke({},W),{},{x:W.left,y:W.top}),se=Math.min(L,le.x+le.width),I=Math.min(B,le.y+le.height),P=X[G]&&X[G].value,M=dj(N.state,N.props.data,G),z=X[G]?{x:A==="horizontal"?X[G].coordinate:se,y:A==="horizontal"?I:X[G].coordinate}:ZL;N.setState(Ke(Ke({},S),{},{activeLabel:P,activeCoordinate:z,activePayload:M,activeTooltipIndex:G}))}else N.setState(S)}),Ht(N,"renderCursor",function(S){var j,A=N.state,T=A.isTooltipActive,R=A.activeCoordinate,O=A.activePayload,E=A.offset,L=A.activeTooltipIndex,B=A.tooltipAxisBandSize,G=N.getTooltipEventType(),U=(j=S.props.active)!==null&&j!==void 0?j:T,W=N.props.layout,X=S.key||"_recharts-cursor";return K.createElement(qye,{key:X,activeCoordinate:R,activePayload:O,activeTooltipIndex:L,chartName:r,element:S,isActive:U,layout:W,offset:E,tooltipAxisBandSize:B,tooltipEventType:G})}),Ht(N,"renderPolarAxis",function(S,j,A){var T=io(S,"type.axisType"),R=io(N.state,"".concat(T,"Map")),O=S.type.defaultProps,E=O!==void 0?Ke(Ke({},O),S.props):S.props,L=R&&R[E["".concat(T,"Id")]];return k.cloneElement(S,Ke(Ke({},L),{},{className:Ot(T,L.className),key:S.key||"".concat(j,"-").concat(A),ticks:Wc(L,!0)}))}),Ht(N,"renderPolarGrid",function(S){var j=S.props,A=j.radialLines,T=j.polarAngles,R=j.polarRadius,O=N.state,E=O.radiusAxisMap,L=O.angleAxisMap,B=nd(E),G=nd(L),U=G.cx,W=G.cy,X=G.innerRadius,q=G.outerRadius;return k.cloneElement(S,{polarAngles:Array.isArray(T)?T:Wc(G,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(R)?R:Wc(B,!0).map(function(le){return le.coordinate}),cx:U,cy:W,innerRadius:X,outerRadius:q,key:S.key||"polar-grid",radialLines:A})}),Ht(N,"renderLegend",function(){var S=N.state.formattedGraphicalItems,j=N.props,A=j.children,T=j.width,R=j.height,O=N.props.margin||{},E=T-(O.left||0)-(O.right||0),L=TR({children:A,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!L)return null;var B=L.item,G=wO(L,Gye);return k.cloneElement(B,Ke(Ke({},G),{},{chartWidth:T,chartHeight:R,margin:O,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ht(N,"renderTooltip",function(){var S,j=N.props,A=j.children,T=j.accessibilityLayer,R=Ys(A,Do);if(!R)return null;var O=N.state,E=O.isTooltipActive,L=O.activeCoordinate,B=O.activePayload,G=O.activeLabel,U=O.offset,W=(S=R.props.active)!==null&&S!==void 0?S:E;return k.cloneElement(R,{viewBox:Ke(Ke({},U),{},{x:U.left,y:U.top}),active:W,label:G,payload:W?B:[],coordinate:L,accessibilityLayer:T})}),Ht(N,"renderBrush",function(S){var j=N.props,A=j.margin,T=j.data,R=N.state,O=R.offset,E=R.dataStartIndex,L=R.dataEndIndex,B=R.updateId;return k.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Gv(N.handleBrushChange,S.props.onChange),data:T,x:dt(S.props.x)?S.props.x:O.left,y:dt(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(A.bottom||0),width:dt(S.props.width)?S.props.width:O.width,startIndex:E,endIndex:L,updateId:"brush-".concat(B)})}),Ht(N,"renderReferenceElement",function(S,j,A){if(!S)return null;var T=N,R=T.clipPathId,O=N.state,E=O.xAxisMap,L=O.yAxisMap,B=O.offset,G=S.type.defaultProps||{},U=S.props,W=U.xAxisId,X=W===void 0?G.xAxisId:W,q=U.yAxisId,le=q===void 0?G.yAxisId:q;return k.cloneElement(S,{key:S.key||"".concat(j,"-").concat(A),xAxis:E[X],yAxis:L[le],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:R})}),Ht(N,"renderActivePoints",function(S){var j=S.item,A=S.activePoint,T=S.basePoint,R=S.childIndex,O=S.isRange,E=[],L=j.props.key,B=j.item.type.defaultProps!==void 0?Ke(Ke({},j.item.type.defaultProps),j.item.props):j.item.props,G=B.activeDot,U=B.dataKey,W=Ke(Ke({index:R,dataKey:U,cx:A.x,cy:A.y,r:4,fill:EA(j.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ut(G,!1)),bb(G));return E.push(v.renderActiveDot(G,W,"".concat(L,"-activePoint-").concat(R))),T?E.push(v.renderActiveDot(G,Ke(Ke({},W),{},{cx:T.x,cy:T.y}),"".concat(L,"-basePoint-").concat(R))):O&&E.push(null),E}),Ht(N,"renderGraphicChild",function(S,j,A){var T=N.filterFormatItem(S,j,A);if(!T)return null;var R=N.getTooltipEventType(),O=N.state,E=O.isTooltipActive,L=O.tooltipAxis,B=O.activeTooltipIndex,G=O.activeLabel,U=N.props.children,W=Ys(U,Do),X=T.props,q=X.points,le=X.isRange,se=X.baseLine,I=T.item.type.defaultProps!==void 0?Ke(Ke({},T.item.type.defaultProps),T.item.props):T.item.props,P=I.activeDot,M=I.hide,z=I.activeBar,Y=I.activeShape,ae=!!(!M&&E&&W&&(P||z||Y)),ue={};R!=="axis"&&W&&W.props.trigger==="click"?ue={onClick:Gv(N.handleItemMouseEnter,S.props.onClick)}:R!=="axis"&&(ue={onMouseLeave:Gv(N.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Gv(N.handleItemMouseEnter,S.props.onMouseEnter)});var ne=k.cloneElement(S,Ke(Ke({},T.props),ue));function _e(Ne){return typeof L.dataKey=="function"?L.dataKey(Ne.payload):null}if(ae)if(B>=0){var Ce,V;if(L.dataKey&&!L.allowDuplicatedCategory){var Me=typeof L.dataKey=="function"?_e:"payload.".concat(L.dataKey.toString());Ce=vb(q,Me,G),V=le&&se&&vb(se,Me,G)}else Ce=q==null?void 0:q[B],V=le&&se&&se[B];if(Y||z){var Ae=S.props.activeIndex!==void 0?S.props.activeIndex:B;return[k.cloneElement(S,Ke(Ke(Ke({},T.props),ue),{},{activeIndex:Ae})),null,null]}if(!nr(Ce))return[ne].concat(kp(N.renderActivePoints({item:T,activePoint:Ce,basePoint:V,childIndex:B,isRange:le})))}else{var pe,re=(pe=N.getItemByXY(N.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:ne},Oe=re.graphicalItem,oe=Oe.item,de=oe===void 0?S:oe,ye=Oe.childIndex,Ie=Ke(Ke(Ke({},T.props),ue),{},{activeIndex:ye});return[k.cloneElement(de,Ie),null,null]}return le?[ne,null,null]:[ne,null]}),Ht(N,"renderCustomized",function(S,j,A){return k.cloneElement(S,Ke(Ke({key:"recharts-customized-".concat(A)},N.props),N.state))}),Ht(N,"renderMap",{CartesianGrid:{handler:Jv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Jv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Jv},YAxis:{handler:Jv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:Qp("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=kF(N.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return iwe(v,g),twe(v,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,N=y.data,S=y.height,j=y.layout,A=Ys(w,Do);if(A){var T=A.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,O=dj(this.state,N,T,R),E=this.state.tooltipTicks[T].coordinate,L=(this.state.offset.top+S)/2,B=j==="horizontal",G=B?{x:E,y:L}:{y:E,x:L},U=this.state.formattedGraphicalItems.find(function(X){var q=X.item;return q.type.name==="Scatter"});U&&(G=Ke(Ke({},G),U.props.points[T].tooltipPosition),O=U.props.points[T].tooltipPayload);var W={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:R,activePayload:O,activeCoordinate:G};this.setState(W),this.renderCursor(A),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var N,S;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){$N([Ys(y.children,Do)],[Ys(this.props.children,Do)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Ys(this.props.children,Do);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),S=lue(N),j={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},A=N.width/w.offsetWidth||1,T=this.inRange(j.chartX,j.chartY,A);if(!T)return null;var R=this.state,O=R.xAxisMap,E=R.yAxisMap,L=this.getTooltipEventType();if(L!=="axis"&&O&&E){var B=nd(O).scale,G=nd(E).scale,U=B&&B.invert?B.invert(j.chartX):null,W=G&&G.invert?G.invert(j.chartY):null;return Ke(Ke({},j),{},{xValue:U,yValue:W})}var X=NO(this.state,this.props.data,this.props.layout,T);return X?Ke(Ke({},j),X):null}},{key:"inRange",value:function(y,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,j=y/N,A=w/N;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,R=j>=T.left&&j<=T.left+T.width&&A>=T.top&&A<=T.top+T.height;return R?{x:j,y:A}:null}var O=this.state,E=O.angleAxisMap,L=O.radiusAxisMap;if(E&&L){var B=nd(E);return Y8({x:j,y:A},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),N=Ys(y,Do),S={};N&&w==="axis"&&(N.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=bb(this.props,this.handleOuterEvent);return Ke(Ke({},j),S)}},{key:"addListener",value:function(){o4.on(l4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){o4.removeListener(l4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,N){for(var S=this.state.formattedGraphicalItems,j=0,A=S.length;j<A;j++){var T=S[j];if(T.item===y||T.props.key===y.key||w===Yc(T.item.type)&&N===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,N=w.left,S=w.top,j=w.height,A=w.width;return K.createElement("defs",null,K.createElement("clipPath",{id:y},K.createElement("rect",{x:N,y:S,height:j,width:A})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,N){var S=yO(N,2),j=S[0],A=S[1];return Ke(Ke({},w),{},Ht({},j,A.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,N){var S=yO(N,2),j=S[0],A=S[1];return Ke(Ke({},w),{},Ht({},j,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,N=w.formattedGraphicalItems,S=w.activeItem;if(N&&N.length)for(var j=0,A=N.length;j<A;j++){var T=N[j],R=T.props,O=T.item,E=O.type.defaultProps!==void 0?Ke(Ke({},O.type.defaultProps),O.props):O.props,L=Yc(O.type);if(L==="Bar"){var B=(R.data||[]).find(function(X){return Wxe(y,X)});if(B)return{graphicalItem:T,payload:B}}else if(L==="RadialBar"){var G=(R.data||[]).find(function(X){return Y8(y,X)});if(G)return{graphicalItem:T,payload:G}}else if(t5(T,S)||r5(T,S)||O1(T,S)){var U=Pge({graphicalItem:T,activeTooltipItem:S,itemData:E.data}),W=E.activeIndex===void 0?U:E.activeIndex;return{graphicalItem:Ke(Ke({},T),{},{childIndex:W}),payload:O1(T,S)?E.data[U]:T.props.data[U]}}}return null}},{key:"render",value:function(){var y=this;if(!Lk(this))return null;var w=this.props,N=w.children,S=w.className,j=w.width,A=w.height,T=w.style,R=w.compact,O=w.title,E=w.desc,L=wO(w,Yye),B=Ut(L,!1);if(R)return K.createElement(rO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(UN,Ih({},B,{width:j,height:A,title:O,desc:E}),this.renderClipPath(),$k(N,this.renderMap)));if(this.props.accessibilityLayer){var G,U;B.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,B.role=(U=this.props.role)!==null&&U!==void 0?U:"application",B.onKeyDown=function(X){y.accessibilityManager.keyboardEvent(X)},B.onFocus=function(){y.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return K.createElement(rO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",Ih({className:Ot("recharts-wrapper",S),style:Ke({position:"relative",cursor:"default",width:j,height:A},T)},W,{ref:function(q){y.container=q}}),K.createElement(UN,Ih({},B,{width:j,height:A,title:O,desc:E,style:dwe}),this.renderClipPath(),$k(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Ht(m,"displayName",r),Ht(m,"defaultProps",Ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ht(m,"getDerivedStateFromProps",function(g,v){var b=g.dataKey,y=g.data,w=g.children,N=g.width,S=g.height,j=g.layout,A=g.stackOffset,T=g.margin,R=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var E=jO(g);return Ke(Ke(Ke({},E),{},{updateId:0},p(Ke(Ke({props:g},E),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:N,prevHeight:S,prevLayout:j,prevStackOffset:A,prevMargin:T,prevChildren:w})}if(b!==v.prevDataKey||y!==v.prevData||N!==v.prevWidth||S!==v.prevHeight||j!==v.prevLayout||A!==v.prevStackOffset||!Hh(T,v.prevMargin)){var L=jO(g),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},G=Ke(Ke({},NO(v,y,j)),{},{updateId:v.updateId+1}),U=Ke(Ke(Ke({},L),B),G);return Ke(Ke(Ke({},U),p(Ke({props:g},U),v)),{},{prevDataKey:b,prevData:y,prevWidth:N,prevHeight:S,prevLayout:j,prevStackOffset:A,prevMargin:T,prevChildren:w})}if(!$N(w,v.prevChildren)){var W,X,q,le,se=Ys(w,bp),I=se&&(W=(X=se.props)===null||X===void 0?void 0:X.startIndex)!==null&&W!==void 0?W:R,P=se&&(q=(le=se.props)===null||le===void 0?void 0:le.endIndex)!==null&&q!==void 0?q:O,M=I!==R||P!==O,z=!nr(y),Y=z&&!M?v.updateId:v.updateId+1;return Ke(Ke({updateId:Y},p(Ke(Ke({props:g},v),{},{updateId:Y,dataStartIndex:I,dataEndIndex:P}),v)),{},{prevChildren:w,dataStartIndex:I,dataEndIndex:P})}return null}),Ht(m,"renderActiveDot",function(g,v,b){var y;return k.isValidElement(g)?y=k.cloneElement(g,v):Xt(g)?y=g(v):y=K.createElement(Kw,v),K.createElement(Ir,{className:"recharts-active-dot",key:b},y)});var x=k.forwardRef(function(v,b){return K.createElement(m,Ih({},v,{ref:b}))});return x.displayName=m.displayName,x},wwe=$A({chartName:"LineChart",GraphicalChild:wg,axisComponents:[{axisType:"xAxis",AxisComp:im},{axisType:"yAxis",AxisComp:sm}],formatAxisMap:bL}),_we=$A({chartName:"BarChart",GraphicalChild:yf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:im},{axisType:"yAxis",AxisComp:sm}],formatAxisMap:bL}),t9=$A({chartName:"PieChart",GraphicalChild:gc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:e5},{axisType:"radiusAxis",AxisComp:Jw}],formatAxisMap:ape,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Mh={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},item:{initial:{opacity:0,y:15},animate:e=>({opacity:1,y:0,transition:{delay:e*.1,duration:.5,ease:[.19,1,.22,1]}})}},Zv=({icon:e,label:t,value:r,unit:n="",subValue:a="",colorClass:i="text-white",index:o})=>s.jsxs(je.div,{custom:o,variants:Mh.item,initial:"initial",animate:"animate",whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"relative bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 shadow-lg",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center border border-white/5 shadow-inner",children:e}),s.jsx("div",{className:"text-white/70",children:t})]}),s.jsx("div",{className:`text-xl font-bold mt-2 ${i}`,children:typeof r=="number"||typeof r=="string"?s.jsxs(s.Fragment,{children:[r,n&&s.jsx("span",{className:"text-sm font-normal text-white/50 ml-1",children:n})]}):r}),a&&s.jsx("div",{className:"text-sm text-white/50 mt-1",children:a})]}),Nwe=({name:e,weight:t,timeRemaining:r,index:n})=>s.jsxs(je.div,{custom:n+5,variants:Mh.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center mr-3 border border-white/10",children:s.jsx(TM,{size:18,className:"text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:e}),s.jsx("div",{className:"text-sm text-white/60",children:t})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-white font-medium",children:r}),s.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]});function r9({pool:e,onClose:t}){const r=cg(t);Math.round(e.oxygen/100*50+(1-Math.abs(e.temperature-15)/10)*25+(1-Math.abs(e.ph-8)/1)*25);const n=[{name:"LOT-2025-001",weight:"500 kg (Huîtres N°3)",timeRemaining:"12h"},{name:"LOT-2025-002",weight:"300 kg (Huîtres N°2)",timeRemaining:"24h"}];return s.jsx(je.div,{...Mh.overlay,className:"fixed inset-0 flex items-center justify-center bg-black/20 backdrop-blur-lg z-50",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:s.jsxs(je.div,{ref:r,...Mh.content,className:"w-full max-w-3xl mx-auto my-4 rounded-xl shadow-2xl border border-white/10",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.95) 0%, rgba(20, 100, 100, 0.85) 100%)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:e.name}),s.jsx("p",{className:"text-white/60",children:"Bassin de purification"})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10","aria-label":"Fermer",children:s.jsx(zt,{size:20})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsxs(je.div,{variants:Mh.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Stock dans le bassin"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[s.jsx("div",{className:"col-span-1 flex flex-col items-center justify-center",children:s.jsxs("div",{className:"relative w-40 h-40",children:[s.jsx(Pb,{width:"100%",height:"100%",children:s.jsx(t9,{children:s.jsx(gc,{data:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,paddingAngle:2,dataKey:"value",startAngle:90,endAngle:-270,stroke:"none",children:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}].map((a,i)=>s.jsx(pg,{fill:a.color},`cell-${i}`))})})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:s.jsx("div",{className:"text-2xl font-bold text-white",children:"26.7%"})})]})}),s.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[s.jsx(Zv,{icon:s.jsx(to,{size:20,className:"text-brand-burgundy"}),label:"Température",value:12.5,unit:"°C",index:0}),s.jsx(Zv,{icon:s.jsx(kM,{size:20,className:"text-brand-burgundy"}),label:"Oxygène dissous",value:87,unit:"%",index:1}),s.jsx(Zv,{icon:s.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0d9488] flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),label:"Huîtres N°3",value:500,unit:"kg",index:2}),s.jsx(Zv,{icon:s.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#3b82f6] flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),label:"Huîtres N°2",value:300,unit:"kg",index:3})]})]}),s.jsx("div",{className:"mt-5",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:s.jsx(ji,{size:20,className:"text-cyan-400"})}),s.jsx("div",{className:"text-white/70",children:"Dernier nettoyage"}),s.jsxs("div",{className:"text-white font-medium ml-auto",children:["12 mars 2025 ",s.jsx("span",{className:"text-sm text-white/50",children:"(il y a 1 jour)"})]})]})}),s.jsxs("div",{className:"h-48 w-full bg-gradient-to-br from-[#071a40]/95 to-[#0a2858]/95 rounded-xl overflow-hidden shadow-2xl border border-blue-900/20 relative mt-6",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-white/30 to-transparent z-10"}),s.jsxs("div",{className:"relative h-full w-full",children:[s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),s.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"0 0 20px rgba(37, 99, 235, 0.2)"}}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),s.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:s.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})]})]}),s.jsxs(je.div,{variants:Mh.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(TM,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Lots en purification"]}),s.jsx("div",{className:"space-y-3",children:n.map((a,i)=>s.jsx(Nwe,{name:a.name,weight:a.weight,timeRemaining:a.timeRemaining,index:i},a.name))})]})]}),s.jsx("div",{className:"flex justify-end mt-6 space-x-3",children:s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}const jwe={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function _g({icon:e,title:t,className:r}){return s.jsxs(je.div,{variants:jwe,className:`flex items-center mb-8 mt-6 ${r}`,children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:e})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:t})]})}const fj=({table:e,isHovered:t=!1,onHoverStart:r=()=>{},onHoverEnd:n=()=>{},onClick:a=()=>{},compact:i=!1})=>{const o=e.alert||e.timeProgress>100;return i?s.jsxs("div",{className:"relative rounded-lg p-3 overflow-hidden bg-[rgba(0,40,80,0.2)] shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] cursor-pointer",onClick:a,"aria-label":`Table ${e.name}, taux d'occupation ${e.value}%`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.5)]",style:{backgroundColor:e.value===100?"#22c55e":"#eab308"}}),s.jsx("div",{className:"text-white font-medium text-sm",children:e.name})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-base font-semibold text-white",children:[e.value,"%"]})})]}),s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10 h-5 mb-2",children:[...Array(10)].map((l,c)=>s.jsx("div",{className:"h-full rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c<Math.floor(e.value/100*10)?1:.1},"aria-hidden":"true"},c))}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-xs text-white/70",children:e.type}),o&&s.jsxs("div",{className:"text-amber-400 flex items-center",children:[s.jsx(Oa,{size:12,className:"mr-1"}),s.jsx("span",{className:"text-xs",children:"Attention"})]})]})]}):s.jsxs(je.div,{className:`
        relative rounded-lg p-4 overflow-hidden
        bg-[rgba(0,40,80,0.2)]
        shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
        cursor-pointer transition-all duration-200
      `,onHoverStart:r,onHoverEnd:n,onClick:a,style:{transform:t?"scale(1.02)":"none"},children:[s.jsx(je.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:t?1:0}}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:e.value===100?"#22c55e":"#eab308"}}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:e.name}),s.jsx("div",{className:"text-xs text-white/70",children:e.plates})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-white",children:[e.value,"%"]}),s.jsx("div",{className:"text-xs text-white/70",children:"occupée"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(e.value===100)return s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c);if(e.name==="Table A1"){const u=Math.floor(e.value/100*8),d=e.value/100*8%1,f=c-1;return c===0?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c):c===9?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):f>=8-u?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):f===7-u&&d>0?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:s.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},c):s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c)}return s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(e.value/100*8)?1:0}},c)})}),s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(e.value===100)return s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`);if(e.name==="Table A1"){const u=Math.floor(e.value/100*8),d=e.value/100*8%1,f=c-1;return c===0?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`):c===9?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):f>=8-u?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):f===7-u&&d>0?s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:s.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},`second-${c}`):s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`)}return s.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(e.value/100*8)?1:0}},`second-${c}`)})})]}),s.jsx("div",{className:"flex items-center justify-between mt-3",children:s.jsx("div",{className:"text-xs text-white/70",children:e.value>0&&e.mortality>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:"Mortalité :"})," ",e.mortality,"%"]})})}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qn,{size:14,className:"text-cyan-400 mr-1"}),s.jsx("span",{className:"text-xs text-white/70",children:e.type})]}),e.startDate&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ta,{size:14,className:"text-cyan-400 mr-1"}),s.jsx("span",{className:"text-xs text-white/70",children:e.startDate})]})]}),o&&s.jsxs("div",{className:"text-amber-400 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-1"}),s.jsx("span",{className:"text-xs",children:"Attention"})]})]})]})]})},da={temperature:18,feelsLike:16,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:15,sunrise:"06:45",sunset:"20:35",forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8,conditions:"partly-cloudy"},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9,conditions:"sunny"},{time:"18:00",temp:17,windSpeed:20,windDirection:300,waveHeight:1,conditions:"partly-cloudy"},{time:"21:00",temp:16,windSpeed:15,windDirection:280,waveHeight:.7,conditions:"cloudy"},{time:"00:00",temp:15,windSpeed:12,windDirection:270,waveHeight:.5,conditions:"cloudy"},{time:"03:00",temp:14,windSpeed:10,windDirection:260,waveHeight:.4,conditions:"partly-cloudy"},{time:"06:00",temp:15,windSpeed:12,windDirection:280,waveHeight:.6,conditions:"partly-cloudy"},{time:"09:00",temp:17,windSpeed:14,windDirection:290,waveHeight:.7,conditions:"sunny"}],dailyForecast:[{day:"Aujourd'hui",highTemp:19,lowTemp:14,conditions:"partly-cloudy",windSpeed:20,waveHeight:1,precipitation:10},{day:"Demain",highTemp:20,lowTemp:15,conditions:"sunny",windSpeed:15,waveHeight:.8,precipitation:0},{day:"Lundi",highTemp:22,lowTemp:16,conditions:"sunny",windSpeed:12,waveHeight:.6,precipitation:0},{day:"Mardi",highTemp:21,lowTemp:17,conditions:"partly-cloudy",windSpeed:14,waveHeight:.7,precipitation:5},{day:"Mercredi",highTemp:19,lowTemp:15,conditions:"cloudy",windSpeed:18,waveHeight:.9,precipitation:30},{day:"Jeudi",highTemp:18,lowTemp:14,conditions:"rainy",windSpeed:20,waveHeight:1.2,precipitation:80},{day:"Vendredi",highTemp:17,lowTemp:13,conditions:"cloudy",windSpeed:15,waveHeight:1,precipitation:40}]},u4=e=>["N","NE","E","SE","S","SO","O","NO"][Math.round(e/45)%8],zA=({condition:e,size:t=32,className:r=""})=>{switch(e){case"sunny":return s.jsx(fb,{size:t,className:`text-yellow-400 ${r}`});case"cloudy":return s.jsx(ON,{size:t,className:`text-gray-300 ${r}`});case"rainy":return s.jsx(EM,{size:t,className:`text-blue-300 ${r}`});case"partly-cloudy":return s.jsx(nk,{size:t,className:`text-gray-200 ${r}`});default:return s.jsx(nk,{size:t,className:`text-gray-200 ${r}`})}},Swe=({forecast:e})=>s.jsxs("div",{className:"forecast-card",children:[s.jsx("p",{className:"forecast-time",children:e.time}),s.jsx(zA,{condition:e.conditions,size:24,className:"my-2"}),s.jsxs("p",{className:"forecast-temp",children:[e.temp,"°"]}),s.jsxs("div",{className:"forecast-wind-indicator",children:[s.jsx(Bc,{size:12,style:{transform:`rotate(${e.windDirection}deg)`}}),s.jsx("span",{children:e.windSpeed})]}),s.jsxs("p",{className:"forecast-waves",children:[e.waveHeight," m"]})]}),Awe=({forecast:e})=>s.jsxs("div",{className:"daily-forecast-row",children:[s.jsx("div",{className:"daily-forecast-day",children:e.day}),s.jsx("div",{className:"daily-forecast-icon",children:s.jsx(zA,{condition:e.conditions,size:20})}),s.jsxs("div",{className:"daily-forecast-precip",children:[s.jsx(ji,{size:14,className:"text-blue-300"}),s.jsxs("span",{children:[e.precipitation,"%"]})]}),s.jsxs("div",{className:"daily-forecast-temp",children:[s.jsxs("span",{className:"high-temp",children:[e.highTemp,"°"]}),s.jsxs("span",{className:"low-temp",children:[e.lowTemp,"°"]})]})]}),Cwe=()=>s.jsxs("div",{className:"mobile-weather-container",children:[s.jsxs("header",{className:"weather-header",children:[s.jsx("h1",{className:"weather-location-title",children:"Météo & Marée"}),s.jsxs("div",{className:"weather-update-time",children:[s.jsx(Qa,{size:14,className:"text-cyan-300"}),s.jsxs("span",{children:["Mise à jour ",new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs("section",{className:"current-weather",children:[s.jsxs("div",{className:"primary-info",children:[s.jsxs("div",{className:"temp-display",children:[s.jsxs("span",{className:"current-temp",children:[da.temperature,"°"]}),s.jsxs("span",{className:"feels-like",children:["Ressenti ",da.feelsLike,"°"]})]}),s.jsx("div",{className:"weather-icon-large",children:s.jsx(zA,{condition:da.conditions,size:80})})]}),s.jsx("div",{className:"weather-condition-text",children:"Partiellement nuageux"})]}),s.jsxs("section",{className:"current-indicators",children:[s.jsxs("div",{className:"indicator-item",children:[s.jsx(Xu,{size:18,className:"indicator-icon"}),s.jsx("div",{className:"indicator-label",children:"Vent"}),s.jsxs("div",{className:"indicator-value",children:[da.windSpeed," km/h"]}),s.jsx("div",{className:"indicator-detail",children:u4(da.windDirection)})]}),s.jsxs("div",{className:"indicator-item",children:[s.jsx(Li,{size:18,className:"indicator-icon"}),s.jsx("div",{className:"indicator-label",children:"Vagues"}),s.jsxs("div",{className:"indicator-value",children:[da.waveHeight," m"]}),s.jsx("div",{className:"indicator-detail",children:u4(da.waveDirection)})]}),s.jsxs("div",{className:"indicator-item",children:[s.jsx(ji,{size:18,className:"indicator-icon"}),s.jsx("div",{className:"indicator-label",children:"Humidité"}),s.jsxs("div",{className:"indicator-value",children:[da.humidity,"%"]})]}),s.jsx("div",{className:"indicator-item",children:s.jsxs(je.div,{className:"tide-indicator",animate:{height:`${da.tideLevel/10*100}%`},transition:{duration:1},children:[s.jsx("div",{className:"indicator-label",children:"Marée"}),s.jsxs("div",{className:"indicator-value",children:[da.tideLevel," m"]}),s.jsxs("div",{className:"tide-times",children:[s.jsxs("div",{children:[s.jsx(q2,{size:12})," ",da.nextHighTide]}),s.jsxs("div",{children:[s.jsx(G2,{size:12})," ",da.nextLowTide]})]})]})})]}),s.jsxs("section",{className:"hourly-forecast",children:[s.jsx("h2",{className:"section-title",children:"Prévisions horaires"}),s.jsx("div",{className:"forecast-scroll-container",children:da.forecast.map((e,t)=>s.jsx(Swe,{forecast:e},t))})]}),s.jsxs("section",{className:"daily-forecast",children:[s.jsx("h2",{className:"section-title",children:"Prévisions 7 jours"}),s.jsx("div",{className:"daily-forecast-container",children:da.dailyForecast.map((e,t)=>s.jsx(Awe,{forecast:e},t))})]}),s.jsxs("section",{className:"wind-detail-section",children:[s.jsx("h2",{className:"section-title",children:"Détails du vent"}),s.jsxs("div",{className:"wind-detail-container",children:[s.jsxs("div",{className:"wind-compass",children:[s.jsx(TN,{size:100,className:"wind-compass-base"}),s.jsx("div",{className:"wind-direction-indicator",style:{transform:`rotate(${da.windDirection}deg)`},children:s.jsx(Bc,{size:40,className:"text-cyan-400"})})]}),s.jsxs("div",{className:"wind-stats",children:[s.jsxs("div",{className:"wind-stat-row",children:[s.jsx("span",{children:"Direction"}),s.jsxs("span",{children:[u4(da.windDirection)," (",da.windDirection,"°)"]})]}),s.jsxs("div",{className:"wind-stat-row",children:[s.jsx("span",{children:"Vitesse"}),s.jsxs("span",{children:[da.windSpeed," km/h"]})]}),s.jsxs("div",{className:"wind-stat-row",children:[s.jsx("span",{children:"Rafales"}),s.jsxs("span",{children:[da.windGust," km/h"]})]})]})]})]}),s.jsx("section",{className:"sun-times",children:s.jsxs("div",{className:"sun-time-container",children:[s.jsxs("div",{className:"sunrise",children:[s.jsx(fb,{size:18,className:"text-yellow-400"}),s.jsx("span",{className:"sun-time-label",children:"Lever"}),s.jsx("span",{className:"sun-time-value",children:da.sunrise})]}),s.jsx("div",{className:"sun-path",children:s.jsx("div",{className:"sun-path-line"})}),s.jsxs("div",{className:"sunset",children:[s.jsx(mV,{size:18,className:"text-blue-300"}),s.jsx("span",{className:"sun-time-label",children:"Coucher"}),s.jsx("span",{className:"sun-time-value",children:da.sunset})]})]})})]}),Ewe=({activeSection:e,onSectionChange:t,isLandscape:r=!1})=>{const[n,a]=k.useState(0),i=k.useRef(null),o=()=>{if(!window.visualViewport)return;const u=window.visualViewport.height,d=window.innerHeight,f=Math.max(0,d-u),h=f>0?f+25:15;console.log(`Viewport: ${u}, Full: ${d}, Diff: ${f}, Padding: ${h}`),h!==n&&a(h)};k.useEffect(()=>{if(!window.visualViewport){console.warn("VisualViewport API not available");return}o(),window.visualViewport.addEventListener("resize",o),window.addEventListener("resize",o),window.addEventListener("scroll",o);const u=[100,500].map(f=>setTimeout(o,f)),d=()=>{setTimeout(o,100)};return window.addEventListener("orientationchange",d),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",o),window.removeEventListener("resize",o),window.removeEventListener("scroll",o),window.removeEventListener("orientationchange",d),u.forEach(clearTimeout)}},[]);const l=["mobile-bottom-nav",r?"landscape":"portrait"].join(" "),c={paddingBottom:n?`${n}px`:void 0};return s.jsxs("div",{className:l,ref:i,style:c,children:[s.jsxs("button",{className:`mobile-nav-item ${e==="overview"?"active":""}`,onClick:()=>t("overview"),children:[s.jsx(xV,{size:r?18:22}),s.jsx("span",{children:"Accueil"})]}),s.jsxs("button",{className:`mobile-nav-item ${e==="tables"?"active":""}`,onClick:()=>t("tables"),children:[s.jsx(jn,{size:r?18:22}),s.jsx("span",{children:"Tables"})]}),s.jsxs("button",{className:`mobile-nav-item ${e==="pools"?"active":""}`,onClick:()=>t("pools"),children:[s.jsx(gV,{size:r?18:22}),s.jsx("span",{children:"Bassins"})]}),s.jsxs("button",{className:`mobile-nav-item ${e==="notifications"?"active":""}`,onClick:()=>t("notifications"),children:[s.jsx(Ka,{size:r?18:22}),s.jsx("span",{children:"Alertes"})]}),s.jsxs("button",{className:`mobile-nav-item emergency ${e==="emergency"?"active":""}`,onClick:()=>t("emergency"),children:[s.jsx(CM,{size:r?18:22}),s.jsx("span",{children:"Urgence"})]})]})},ax={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}}},kwe=({tableOccupancyData:e,poolData:t,poolDisplayData:r})=>{const[n,a]=k.useState("overview"),[i,o]=k.useState(null),[l,c]=k.useState(null),[u,d]=k.useState(0);k.useState(0);const[f,h]=k.useState(!1),[p,m]=k.useState(!1),x=k.useRef(null);k.useEffect(()=>(m(!0),document.querySelectorAll(".animate-fade-in").forEach((b,y)=>{setTimeout(()=>{b.classList.add("visible")},y*100)}),()=>{m(!1)}),[]);const g=k.useCallback(v=>{a(v),x.current&&(x.current.scrollTop=0)},[x]);return k.useEffect(()=>{const v=()=>{const b=window.innerWidth>window.innerHeight;h(b)};return v(),window.addEventListener("resize",v),window.addEventListener("orientationchange",()=>{setTimeout(v,100)}),()=>{window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v)}},[]),e.map(v=>({...v,occupancyRate:v.value,lastUpdated:v.lastUpdate||"",oysterType:v.type,lastHarvest:v.harvest,quality:4,avgSize:parseFloat(v.currentSize)||0})),s.jsx("div",{className:"mobile-dashboard",children:s.jsx("div",{className:"mobile-dashboard-wrapper",ref:x,children:s.jsxs("div",{className:"mobile-dashboard-content",children:[n==="overview"&&s.jsx(je.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:ax,children:s.jsxs("div",{className:"dashboard-sections space-y-5",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tableau de bord"}),s.jsx("div",{className:"animate-fade-in",children:s.jsx(Cwe,{})}),s.jsxs("section",{className:"animate-fade-in mt-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Tables ostréicoles"}),s.jsxs("button",{className:"text-cyan-400 text-sm flex items-center gap-1",onClick:()=>g("tables"),"aria-label":"Voir toutes les tables",children:["Tout voir ",s.jsx(Fo,{size:16})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"mobile-carousel",children:e.map((v,b)=>s.jsx("div",{className:`mobile-carousel-item ${b===u?"active":""}`,onClick:()=>o(v),children:s.jsx(fj,{table:v,compact:!0,onClick:()=>o(v)})},v.name))}),s.jsx("div",{className:"mobile-carousel-indicators mt-2",children:e.map((v,b)=>s.jsx("button",{className:`mobile-carousel-indicator ${b===u?"active":""}`,onClick:()=>d(b),"aria-label":`Voir table ${b+1}`},b))})]})]})]})}),n==="tables"&&s.jsxs(je.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:ax,children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Tables ostréicoles"}),e.map(v=>s.jsx(fj,{table:v},v.name))]}),n==="pools"&&s.jsxs(je.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:ax,children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Bassins"}),t.map(v=>s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:v.name}),s.jsxs("p",{children:["Status: ",v.status]}),s.jsxs("p",{children:["Température: ",v.temperature,"°C"]}),s.jsxs("p",{children:["Oxygène: ",v.oxygen,"%"]}),s.jsxs("p",{children:["Salinité: ",v.salinity,"‰"]}),s.jsxs("p",{children:["pH: ",v.ph]}),s.jsxs("p",{children:["Dernière vérification: ",v.lastCheck]}),s.jsxs("p",{children:["Alerte: ",v.alert?"Oui":"Non"]}),s.jsxs("p",{children:["Stock: ",v.stock.mussels," moules, ",v.stock.urchins," oursins"]})]},v.id))]}),n==="notifications"&&s.jsxs(je.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:ax,children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Alertes"}),s.jsxs("ul",{children:[e.map(v=>v.alert&&s.jsxs("li",{children:[v.name,": ",v.alert]},v.name)),t.map(v=>v.alert&&s.jsxs("li",{children:[v.name,": ",v.alert]},v.id))]})]}),n==="emergency"&&s.jsxs(je.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:ax,children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6 text-red-400",children:"Urgence"}),s.jsx("p",{children:"Contenu de la section urgence"})]}),s.jsx(Ewe,{activeSection:n,onSectionChange:g,isLandscape:f}),s.jsxs(_r,{children:[i&&s.jsx(h7,{table:i,onClose:()=>o(null)}),l&&s.jsx(r9,{pool:l,onClose:()=>c(null)})]})]})})})},AO=[{name:"Table A1",value:72,color:"#22c55e",type:"Huîtres creuses",plates:"N°3",harvest:"En cours",mortality:15,currentSize:"3.2cm",targetSize:"4.5cm",timeProgress:65,startDate:"10/01/24",status:"En cours"},{name:"Table A2",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°4",harvest:"01/01/2026",mortality:8,currentSize:"T15",targetSize:"4.2cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B1",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°2",harvest:"01/01/2026",mortality:12,currentSize:"T15",targetSize:"4.8cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B2",value:0,color:"#22c55e",type:"",plates:"",harvest:"",mortality:0,currentSize:"",targetSize:"",timeProgress:0,startDate:"",status:"Vide"}],CO=[{id:"pool-a1",name:"Bassin A1",status:"Optimal",temperature:12.5,oxygen:95,salinity:32.4,ph:8.1,lastCheck:"08:30",alert:!1},{id:"pool-a2",name:"Bassin A2",status:"Bon",temperature:13.2,oxygen:88,salinity:31.9,ph:8,lastCheck:"08:35",alert:!1,stock:{mussels:500,urchins:100}}],Fc=[{name:"Bassin A1",value:80,color:"#22c55e",type:"Purification",capacity:1e3,currentLoad:800,products:[{name:"Plates",quantity:500,unit:"kg",color:"#22c55e"},{name:"Creuses",quantity:300,unit:"kg",color:"#eab308"}],waterQuality:{quality:98,oxygen:95,temperature:12.5}},{name:"Bassin A2",value:65,color:"#eab308",type:"Purification",capacity:1e3,currentLoad:650,products:[{name:"Moules",quantity:500,unit:"kg",color:"#22c55e"},{name:"Oursins",quantity:100,unit:"dz",color:"#eab308"}],waterQuality:{quality:92,oxygen:88,temperature:13.2}}],Oi={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,scrollbar:`
    scrollbar-thin scrollbar-thumb-cyan-900 scrollbar-track-transparent
    hover:scrollbar-thumb-cyan-800 transition-colors duration-200
    scrollbar-thumb-rounded-full
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},Twe={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},e2={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function Owe(){const[e,t]=k.useState(null),[r,n]=k.useState(null),[a,i]=k.useState(null),[o,l]=k.useState(null),[c,u]=k.useState(!1);return k.useEffect(()=>{const d=()=>{u(window.innerWidth<=768)};d(),window.addEventListener("resize",d);const f=setTimeout(()=>{d()},500);return()=>{window.removeEventListener("resize",d),clearTimeout(f)}},[]),k.useEffect(()=>(c?document.body.classList.add("has-fixed-nav"):document.body.classList.remove("has-fixed-nav"),()=>{document.body.classList.remove("has-fixed-nav")}),[c]),c?s.jsx("div",{className:"dashboard-page",children:s.jsx(kwe,{tableOccupancyData:AO,poolData:CO,poolDisplayData:Fc})}):s.jsxs(je.div,{initial:"hidden",animate:"visible",variants:Twe,className:"space-y-6",children:[s.jsx(_g,{icon:s.jsx(AS,{size:28,className:"text-white"}),title:"Tableau de bord"}),s.jsx(je.div,{variants:e2,className:`mb-6 w-full ${Oi.container} ${Oi.hoverEffect}`,children:s.jsx(zX,{})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full relative h-[calc(100vh-12rem)]",children:[s.jsx("div",{className:"col-span-full",children:s.jsxs(_r,{children:[a&&s.jsx(h7,{table:a,onClose:()=>i(null)}),o&&s.jsx(r9,{pool:o,onClose:()=>l(null)})]})}),s.jsxs(je.div,{variants:e2,className:`${Oi.container} ${Oi.hoverEffect} p-5 h-full flex flex-col overflow-hidden`,children:[s.jsx("h2",{className:`${Oi.heading} mb-5 flex-shrink-0`,children:"Journal d'actions"}),s.jsxs("div",{className:"flex-1 space-y-6 overflow-y-auto pr-2 custom-scrollbar",style:{height:"calc(100% - 3rem)"},children:[s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"text-white/60 text-sm mb-3",children:"Aujourd'hui"}),s.jsxs("div",{className:"space-y-3 w-full",children:[s.jsxs("div",{className:"w-full bg-[rgba(0,40,80,0.2)] rounded-lg p-4 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.3)]"}),s.jsx("p",{className:"text-cyan-400 font-medium",children:"Transfert de lots"})]}),s.jsx("span",{className:"text-white/40 text-sm",children:"11:05"})]}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Transfert du lot #L789 vers le bassin B12"})]}),s.jsxs("div",{className:"w-full bg-[rgba(0,40,80,0.2)] rounded-lg p-4 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.3)]"}),s.jsx("p",{className:"text-emerald-400 font-medium",children:"Tâche terminée"})]}),s.jsx("span",{className:"text-white/40 text-sm",children:"09:30"})]}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Nettoyage du bassin B05 complété"})]})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"text-white/60 text-sm mb-3",children:"Hier"}),s.jsxs("div",{className:"space-y-3 w-full",children:[s.jsxs("div",{className:"w-full bg-[rgba(0,40,80,0.2)] rounded-lg p-4 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.3)]"}),s.jsx("p",{className:"text-amber-400 font-medium",children:"Alerte météo"})]}),s.jsx("span",{className:"text-white/40 text-sm",children:"16:45"})]}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Température élevée détectée - Bassin B08"})]}),s.jsxs("div",{className:"w-full bg-[rgba(0,40,80,0.2)] rounded-lg p-4 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 shadow-[0_0_10px_rgba(96,165,250,0.3)]"}),s.jsx("p",{className:"text-blue-400 font-medium",children:"Nouveau document"})]}),s.jsx("span",{className:"text-white/40 text-sm",children:"14:20"})]}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Ajout du bon de livraison #BL456"})]})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"text-white/60 text-sm mb-3",children:"Cette semaine"}),s.jsxs("div",{className:"space-y-3 w-full",children:[s.jsxs("div",{className:"w-full bg-[rgba(0,40,80,0.2)] rounded-lg p-4 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 shadow-[0_0_10px_rgba(192,132,252,0.3)]"}),s.jsx("p",{className:"text-purple-400 font-medium",children:"Maintenance"})]}),s.jsx("span",{className:"text-white/40 text-sm",children:"Lundi 15:10"})]}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Mise à jour du système de filtration - Bassin B03"})]}),s.jsxs("div",{className:"w-full bg-[rgba(0,40,80,0.2)] rounded-lg p-4 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 shadow-[0_0_10px_rgba(74,222,128,0.3)]"}),s.jsx("p",{className:"text-green-400 font-medium",children:"Nouveau lot"})]}),s.jsx("span",{className:"text-white/40 text-sm",children:"Lundi 09:15"})]}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Création du lot #L790 - 5000 huîtres"})]})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"text-white/60 text-sm mb-3",children:"Le mois dernier"}),s.jsxs("div",{className:"space-y-3 w-full",children:[s.jsxs("div",{className:"w-full bg-[rgba(0,40,80,0.2)] rounded-lg p-4 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-400 shadow-[0_0_10px_rgba(251,113,133,0.3)]"}),s.jsx("p",{className:"text-rose-400 font-medium",children:"Inspection sanitaire"})]}),s.jsx("span",{className:"text-white/40 text-sm",children:"15 Mai"})]}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Inspection réussie - Conformité aux normes sanitaires"})]}),s.jsxs("div",{className:"w-full bg-[rgba(0,40,80,0.2)] rounded-lg p-4 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] hover:shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset] transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 shadow-[0_0_10px_rgba(129,140,248,0.3)]"}),s.jsx("p",{className:"text-indigo-400 font-medium",children:"Formation"})]}),s.jsx("span",{className:"text-white/40 text-sm",children:"12 Mai"})]}),s.jsx("p",{className:"text-white/80 text-sm mt-2",children:"Formation sur les nouvelles procédures de traçabilité"})]})]})]})]})]}),s.jsxs(je.div,{variants:e2,className:`${Oi.container} ${Oi.hoverEffect} p-5`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h2",{className:Oi.heading,children:"Occupation des tables"}),s.jsx("div",{className:"text-sm text-white/60",children:"3 tables actives"})]}),s.jsx("div",{className:"space-y-4",children:AO.map((d,f)=>s.jsx(fj,{table:d,isHovered:e===d.name,onHoverStart:()=>t(d.name),onHoverEnd:()=>t(null),onClick:()=>i(d)},f))})]}),s.jsxs(je.div,{variants:e2,className:`${Oi.container} ${Oi.hoverEffect} p-5`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h2",{className:Oi.heading,children:"Santé des bassins"}),s.jsx("div",{className:"text-sm text-white/60",children:"2 bassins actifs"})]}),s.jsx("div",{className:"space-y-4",children:CO.map((d,f)=>{var h,p,m,x,g,v,b,y;return s.jsxs(je.div,{className:`
                  relative rounded-lg p-4 overflow-hidden
                  bg-[rgba(0,40,80,0.2)]
                  shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
                  cursor-pointer transition-all duration-200
                  ${r===d.name?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
                `,onHoverStart:()=>n(d.name),onHoverEnd:()=>n(null),onClick:()=>l(d),whileHover:{y:-4,transition:{duration:.2}},children:[s.jsx(je.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===d.name?1:0},transition:{duration:.2}}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:(h=Fc.find(w=>w.name===d.name))==null?void 0:h.color}}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:d.name}),s.jsx("div",{className:"text-xs text-white/70",children:d.status})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-white",children:[(p=Fc.find(w=>w.name===d.name))==null?void 0:p.value,"%"]}),s.jsx("div",{className:"text-xs text-white/70",children:"qualité"})]})]}),s.jsx("div",{className:Oi.progressBar,children:s.jsx(je.div,{className:"h-full rounded-full",style:{background:`linear-gradient(to right, ${(m=Fc.find(w=>w.name===d.name))==null?void 0:m.color}, ${(x=Fc.find(w=>w.name===d.name))==null?void 0:x.color}80)`,boxShadow:`0 0 10px ${(g=Fc.find(w=>w.name===d.name))==null?void 0:g.color}40`},initial:{width:0},animate:{width:`${(v=Fc.find(w=>w.name===d.name))==null?void 0:v.value}%`},transition:{duration:1,ease:"easeOut"}})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[s.jsxs("div",{className:"text-xs text-white/70",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(to,{className:"w-3 h-3 mr-1 text-cyan-400"}),s.jsx("span",{children:"Température"})]}),s.jsxs("span",{className:"text-white",children:[d.temperature,"°C"]})]}),s.jsxs("div",{className:"text-xs text-white/70",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ji,{className:"w-3 h-3 mr-1 text-cyan-400"}),s.jsx("span",{children:"Oxygène"})]}),s.jsxs("span",{className:"text-white",children:[d.oxygen,"%"]})]}),s.jsxs("div",{className:"text-xs text-white/70",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Li,{className:"w-3 h-3 mr-1 text-cyan-400"}),s.jsx("span",{children:"Capacité"})]}),s.jsxs("span",{className:"text-white",children:[(((b=Fc.find(w=>w.name===d.name))==null?void 0:b.currentLoad)/((y=Fc.find(w=>w.name===d.name))==null?void 0:y.capacity)*100).toFixed(0),"%"]})]})]})]}),d.name==="Bassin A2"&&s.jsxs(je.div,{className:`mt-6 ${Oi.container} p-5`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:Oi.heading,children:"Métriques générales de production"}),s.jsxs("div",{className:"text-xs text-white/50 flex items-center gap-2",children:[s.jsx(Qa,{className:"w-3 h-3"}),"Mis à jour il y a 5 min"]})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs(je.div,{className:"bg-[rgba(0,40,80,0.3)] rounded-lg p-4 border border-amber-500/20 hover:border-amber-500/30 transition-all duration-200",whileHover:{scale:1.01,y:-1},transition:{type:"spring",stiffness:400},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"w-4 h-4 text-amber-400"}),s.jsx("div",{className:"text-amber-400 font-medium",children:"Taux mortalité"})]}),s.jsx("div",{className:"bg-emerald-500/20 text-emerald-300 text-xs px-2 py-1 rounded-full font-medium",children:"Stable cette semaine"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"17%"}),s.jsx("div",{className:Oi.progressBar,children:s.jsx(je.div,{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.3)]",initial:{width:0},animate:{width:"17%"},transition:{duration:1,ease:"easeOut"}})}),s.jsx("div",{className:"mt-2 text-xs text-white/60",children:"Taux normal pour la saison"})]}),s.jsxs(je.div,{className:"bg-[rgba(0,40,80,0.3)] rounded-lg p-4 border border-emerald-500/20 hover:border-emerald-500/30 transition-all duration-200",whileHover:{scale:1.01,y:-1},transition:{type:"spring",stiffness:400},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"w-4 h-4 text-emerald-400"}),s.jsx("div",{className:"text-emerald-400 font-medium",children:"Prochaine récolte prévue"})]}),s.jsx("div",{className:"bg-emerald-500/20 text-emerald-300 text-xs px-2 py-1 rounded-full font-medium",children:"Dans 15 jours"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"4.8t"}),s.jsx("div",{className:Oi.progressBar,children:s.jsx(je.div,{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.3)]",initial:{width:0},animate:{width:"80%"},transition:{duration:1,ease:"easeOut"}})}),s.jsx("div",{className:"mt-2 text-xs text-white/60",children:"Croissance optimale"})]})]})]})]},f)})})]})]})]})}const Pwe=[{id:"1",name:"Table Nord #128",location:"Bouzigues",type:"Huîtres Triploïdes",status:"en_trempe",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:t<3?!1:t===3?.75:!0})),currentSize:"N°2",targetSize:"N°3",startDate:"15/11/2023",lastUpdate:"En cours",timeProgress:72,sizeProgress:85,layers:2,density:"Normale",alert:!1,value:85,history:[],oysterType:"Huîtres Triploïdes",tableNumber:"128"},{id:"2",name:"Table B-07",location:"Bouzigues",type:"Huîtres Triploïdes",status:"warning",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:!0})),currentSize:"N°3",targetSize:"N°3",startDate:"10/03/2024",lastUpdate:"30/03/2025",timeProgress:75,sizeProgress:60,layers:4,density:"Très élevée",alert:!0,value:100,history:[],oysterType:"Triploïdes",tableNumber:"B-07"},{id:"3",name:"Table C-04",location:"Marseillan",type:"Huîtres Diploïdes",status:"critical",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:!0})),currentSize:"T15",targetSize:"N°3",startDate:"11/01/2025",lastUpdate:"15/01/2026",timeProgress:30,sizeProgress:25,layers:2,density:"Moyenne",alert:!1,value:100,history:[],oysterType:"Triploïdes",tableNumber:"C-04"},{id:"4",name:"Table D-15",location:"Mèze",type:"Vide",status:"optimal",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:!1})),currentSize:"Jauge vide",targetSize:"Vide",startDate:"Vide",lastUpdate:"Vide",timeProgress:15,sizeProgress:10,layers:2,density:"Faible",alert:!1,value:0,history:[],oysterType:"Triploïdes",tableNumber:"D-15"}],ad=["T15","T30","N°5","N°4","N°3","N°2","N°1"],Dwe=e=>{const t=ad.indexOf(e);return t===-1?"bg-gray-500":t<=ad.indexOf("N°3")?"bg-gradient-to-r from-blue-500 to-[#22c55e]":t<=ad.indexOf("N°2")?"bg-gradient-to-r from-[#22c55e] to-orange-300":e==="N°1"?"bg-red-500":"bg-gradient-to-r from-blue-500 to-cyan-400"},Iwe=e=>e==="N°2"?"bg-gradient-to-r from-blue-500 via-[#22c55e] to-orange-500":"bg-gradient-to-r from-blue-500 to-cyan-400",Mwe=e=>"bg-blue-500",Fwe=({currentSize:e,targetSize:t,tableName:r})=>{if(e==="Vide"||t==="Vide"||e==="Jauge vide")return r==="Table D-15"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative h-4 bg-white/5 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 flex",children:s.jsxs("div",{className:"h-full relative",style:{width:"100%"},children:[s.jsx(je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"absolute inset-0 bg-gradient-to-b from-gray-600/30 to-gray-700/40"}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-gray-500/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"Jauge vide"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"0kg"})]})})]})}),s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none"})]}),s.jsx(je.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex justify-between px-1 text-sm font-medium",children:ad.map((i,o)=>s.jsx(je.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5+o*.05},className:"text-white/30",children:i},i))})]}):null;const a=(ad.indexOf(e)+1)/ad.length*100;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative h-4 bg-white/5 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 flex",children:ad.map((i,o)=>s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:o*.05},className:"flex-1 border-r border-white/10 last:border-r-0"},i))}),s.jsx(je.div,{initial:{width:0,scale:.95},animate:{width:`${a}%`,scale:1},transition:{duration:.8,ease:"easeOut"},className:`h-full ${r==="Table A-12"?Iwe(e):r==="Table C-04"?Mwe():Dwe(e)}`})]}),s.jsx(je.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex justify-between px-1 text-sm font-medium",children:ad.map((i,o)=>s.jsx(je.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5+o*.05},className:i==="N°3"?"text-cyan-400 border border-cyan-400/50 px-1 rounded":"text-white/60",children:i},i))})]})},Rwe={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.19,1,.22,1]}},Lwe=({table:e,onCellClick:t})=>s.jsx("div",{className:"space-y-1",children:[0,1].map(r=>s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-cyan-950/50",children:Array.from({length:10},(n,a)=>{const i=r*10+a,o=e.cells[i];return s.jsxs("div",{onClick:()=>t==null?void 0:t(i),className:"w-full h-7 rounded-[4px] border border-white/10 relative overflow-hidden cursor-pointer hover:border-cyan-400/30 transition-colors",children:[s.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:typeof(o==null?void 0:o.filled)=="number"?`${o.filled*100}%`:o!=null&&o.filled?"100%":"0%"}}),s.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white/80 font-medium",children:i+1})]},a)})},r))}),Bwe=({table:e,onEdit:t})=>{const[r,n]=k.useState(!1),[a,i]=k.useState(e.name),o=l=>{l.preventDefault(),t(e,a),n(!1)};return s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:s.jsx(bV,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),r?s.jsx("form",{onSubmit:o,className:"flex items-center",children:s.jsx("input",{type:"text",value:a,onChange:l=>i(l.target.value),className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white"})}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),s.jsx("span",{className:"text-white/60",children:"-"}),s.jsx("span",{className:"text-lg font-medium text-cyan-400",children:e.location})]})]})})};function $we({onTableSelect:e,onTableHover:t,hoveredTable:r,selectedTable:n,onTableUpdate:a}){const[i,o]=k.useState(Pwe);k.useState(null);const l=(c,u)=>{const d=i.find(x=>x.id===c);if(!d||!a)return;const f=d.cells.findIndex(x=>x.id===u.id);if(f===-1)return;const h={...u,filled:!u.filled},p=[...d.cells];p[f]=h;const m={...d,cells:p,value:p.filter(x=>x.filled).length/p.length*100};o(i.map(x=>x.id===c?m:x)),a(m)};return s.jsx("div",{className:"grid grid-cols-1 gap-4 p-4",children:i.map(c=>s.jsxs(je.div,{className:`bg-gray-900/50 backdrop-blur-sm p-6 rounded-lg border border-white/10 hover:border-cyan-500/30 transition-colors ${(r==null?void 0:r.id)===c.id?"border-cyan-500/50":""}`,...Rwe,onClick:()=>e(c),onMouseEnter:()=>t==null?void 0:t(c),onMouseLeave:()=>t==null?void 0:t(null),children:[s.jsx(Bwe,{table:c,onEdit:(u,d)=>{const f={...u,name:d};o(i.map(h=>h.id===u.id?f:h)),a(f)}}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-white/60 font-medium",children:"Mise à l'eau"}),s.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md border border-cyan-500/20",children:c.startDate})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-white/60 font-medium",children:"Récolte"}),s.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md border border-cyan-500/20",children:c.name==="Table A-12"&&c.lastUpdate==="En cours"?s.jsx("span",{className:"animate-pulse text-cyan-400",children:"En cours"}):c.lastUpdate})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(to,{size:18,className:"text-cyan-400"}),s.jsx("span",{className:"text-white/60",children:"Type:"}),s.jsx("span",{className:"text-gray-300",children:c.type})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vV,{size:18,className:"text-cyan-400"}),s.jsx("span",{className:"text-white/60",children:"État:"}),s.jsxs("span",{className:"text-gray-300",children:[c.value,"%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"État"}),s.jsx(Lwe,{table:c,onCellClick:u=>l(c.id,c.cells[u])})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Calibre"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{size:18,className:"text-cyan-400"}),s.jsx("span",{className:"text-white/60",children:"Actuel:"}),s.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md",children:c.currentSize})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(co,{size:18,className:"text-cyan-400"}),s.jsx("span",{className:"text-white/60",children:"Cible:"}),s.jsx("span",{className:"text-white font-semibold px-3 py-1 rounded-md border border-cyan-500/20",children:c.targetSize})]})]})]}),s.jsx(Fwe,{currentSize:c.currentSize,targetSize:c.targetSize,tableName:c.name})]})]})]})]},c.id))})}function n9({isOpen:e,onClose:t,onConfirm:r,maintenanceType:n,lastMaintenance:a,uvLampHours:i}){const[o,l]=k.useState(""),[c,u]=k.useState(!1),d=()=>{r(n,o),u(!1),t()};return s.jsxs(Gi,{isOpen:e,onClose:t,title:n==="cleaning"?"Nettoyage du bassin":"Changement de la lampe UV",size:"md",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",onClick:t}),s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[500px] border border-white/10",onClick:f=>f.stopPropagation(),children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[s.jsx(Ka,{size:24,className:"text-yellow-400 flex-shrink-0"}),s.jsx("p",{className:"text-yellow-400",children:n==="cleaning"?"Le bassin devra être vidé pour le nettoyage. Assurez-vous qu'aucun lot n'est en cours de purification.":"La lampe UV doit être changée après 8000 heures d'utilisation pour garantir son efficacité."})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Qa,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Dernière maintenance"}),s.jsx("div",{className:"text-white font-medium",children:Kt(new Date(a),"PPP",{locale:Zr})})]})]}),n==="uv_lamp"&&i&&s.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[s.jsx(Qa,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Heures d'utilisation"}),s.jsxs("div",{className:`font-medium ${i>=8e3?"text-red-400":i>=7e3?"text-yellow-400":"text-white"}`,children:[i," heures"]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de maintenance"}),s.jsx("textarea",{value:o,onChange:f=>l(f.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes sur la maintenance..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer la maintenance"})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer l'opération"}),s.jsxs("p",{className:"text-white/70 mb-6",children:["Êtes-vous sûr de vouloir procéder à ",n==="cleaning"?"ce nettoyage":"ce changement de lampe UV"," ? Cette action sera enregistrée dans l'historique de maintenance."]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer"})]})]})})]})})]})}function a9({isOpen:e,onClose:t,onConfirm:r,batch:n}){const[a,i]=k.useState(n.quantity),[o,l]=k.useState(""),[c,u]=k.useState(""),[d,f]=k.useState(n.remainingTime>0),h=p=>{p.preventDefault(),r({quantity:a,destination:o,notes:c})};return s.jsxs(Gi,{isOpen:e,onClose:t,title:"Sortie de lot",size:"md",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",onClick:t}),s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[500px] border border-white/10",onClick:p=>p.stopPropagation(),children:s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Détails du lot"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Numéro de lot"}),s.jsx("div",{className:"text-white font-medium",children:n.number})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Type"}),s.jsx("div",{className:"text-white font-medium",children:n.type})]})]})]}),d&&s.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ka,{size:20,className:"text-yellow-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-yellow-400 font-medium",children:"Attention"}),s.jsxs("p",{className:"text-yellow-400/80 mt-1",children:["Ce lot a encore ",n.remainingTime,"h de purification restantes. Êtes-vous sûr de vouloir le sortir maintenant ?"]})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité à sortir"}),s.jsx("input",{type:"number",value:a,onChange:p=>i(Number(p.target.value)),max:n.quantity,min:1,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Maximum disponible : ",n.quantity," unités"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Destination"}),s.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",required:!0,children:[s.jsx("option",{value:"",children:"Sélectionner une destination..."}),s.jsx("option",{value:"stock",children:"Stock"}),s.jsx("option",{value:"vente",children:"Vente directe"}),s.jsx("option",{value:"destruction",children:"Destruction"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes"}),s.jsx("textarea",{value:c,onChange:p=>u(p.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes ou observations..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(CS,{size:20,className:"mr-2"}),"Sortir le lot"]})]})]})})]})}function i9({isOpen:e,onClose:t,onConfirm:r,lastBatchNumber:n,pool:a}){const[i,o]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState("plates"),f=h=>{h.preventDefault(),!(!i||!l)&&(r({number:i,quantity:parseInt(l),type:u}),o(""),c(""),d("plates"))};return s.jsxs(Gi,{isOpen:e,onClose:t,title:"Ajouter un nouveau lot",size:"md",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",onClick:t}),s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[500px] border border-white/10",onClick:h=>h.stopPropagation(),children:s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot"}),s.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),placeholder:`${n} (Dernier lot sorti de la trempe 1)`,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité"}),s.jsx("input",{type:"number",value:l,onChange:h=>c(h.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type d'huîtres"}),s.jsxs("select",{value:u,onChange:h=>d(h.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"plates",children:"Plates"}),s.jsx("option",{value:"creuses",children:"Creuses"}),s.jsx("option",{value:"speciales",children:"Spéciales"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 text-white/60 hover:bg-white/10",children:"Annuler"}),s.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:[s.jsx(gr,{size:16}),"Ajouter"]})]})]})})]})}const zwe=[{id:"1",name:"Bassin A1",capacity:3e3,currentOccupancy:0,filterType:"UV + Ozone",filterStatus:"active",waterQuality:98,lastMaintenance:"2025-02-15",temperature:12.5,uvLampHours:7500,lastUVChange:"2024-08-15",batches:[{id:"b1",number:"LOT-2025-001",quantity:500,entryTime:"2025-02-18T08:00:00",remainingTime:12,type:"creuses"},{id:"b2",number:"LOT-2025-002",quantity:300,entryTime:"2025-02-19T10:00:00",remainingTime:24,type:"creuses"}]},{id:"2",name:"Bassin A2",capacity:1e3,currentOccupancy:600,filterType:"UV",filterStatus:"maintenance",waterQuality:92,lastMaintenance:"2025-02-10",temperature:13,uvLampHours:8200,lastUVChange:"2024-07-01",batches:[{id:"b3",number:"LOT-2025-003",quantity:600,entryTime:"2025-02-17T14:00:00",remainingTime:4,type:"speciales"}]}],Uwe=[{id:"1",number:"LOT-2025-001",quantity:250,entryTime:"2025-03-30T10:00:00",type:"Plates"},{id:"2",number:"LOT-2025-002",quantity:300,entryTime:"2025-03-30T14:30:00",type:"Creuses N°2"}];function Hwe({pool:e,onClose:t}){const[r,n]=k.useState("info"),a=cg(t),[i,o]=k.useState(!1),[l,c]=k.useState("maintenance"),[u,d]=k.useState("cleaning"),[f,h]=k.useState(null),[p,m]=k.useState(""),[x,g]=k.useState(""),[v,b]=k.useState(""),[y,w]=k.useState(!1),[N,S]=k.useState(!1),[j,A]=k.useState(Uwe),T=(E,L)=>{E==="cleaning"&&(!y||!N)||(console.log(`Maintenance ${E} confirmée`,{notes:L}),o(!1),b(""),w(!1),S(!1))},R=E=>{console.log("Sortie du lot:",{batch:f,...E}),o(!1),h(null)},O=E=>{console.log("Nouveau lot ajouté:",E);const L={id:`batch-${Date.now()}`,number:E.number,quantity:E.quantity,type:E.type,entryTime:new Date().toISOString(),remainingTime:72};A([...j,L]),o(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-start justify-center z-50 p-8 pt-[15vh]",children:s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[1200px] h-[calc(100vh-4rem)] border border-white/10 modal-style flex flex-col",onClick:E=>E.stopPropagation(),ref:a,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:e.name}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>n("info"),className:`px-4 py-2 rounded-lg transition-colors ${r==="info"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Informations"}),s.jsx("button",{onClick:()=>n("history"),className:`px-4 py-2 rounded-lg transition-colors ${r==="history"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Historique"}),s.jsx("button",{onClick:()=>n("config"),className:`px-4 py-2 rounded-lg transition-colors ${r==="config"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Configuration"})]}),s.jsxs(_r,{mode:"wait",children:[r==="info"&&s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(Qn,{size:20,className:"mr-2 text-brand-primary"}),"Occupation"]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"0%"}),s.jsx("div",{className:"text-sm text-white/60",children:"0 Kg/3000 Kg"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(ji,{size:20,className:"mr-2 text-brand-primary"}),"Filtration"]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:`text-2xl font-bold ${e.waterQuality>=95?"text-green-400":e.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[e.waterQuality,"%"]})})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(to,{size:20,className:"mr-2 text-brand-primary"}),"Température"]}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Lots en cours"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:()=>{o(!0),c("newBatch"),m(""),g("")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",children:[s.jsx(gr,{size:16}),"Nouveau lot"]})})]}),s.jsx("div",{className:"space-y-3",children:j.map(E=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:E.number}),s.jsxs("div",{className:"text-sm text-white/60",children:[E.quantity,"kg - ",E.type]}),s.jsxs("div",{className:"text-sm text-white/60",children:["Entrée le ",Kt(new Date(E.entryTime),"dd/MM/yyyy HH:mm",{locale:Zr})]})]}),s.jsxs("button",{onClick:()=>{h(E),o(!0),c("exit")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 text-white/60 hover:bg-white/10 hover:text-white transition-all duration-300",title:"Sortir le lot",children:[s.jsx(CS,{size:16,"aria-hidden":"true"}),s.jsx("span",{children:"Sortir"})]})]},E.id))}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"relative h-24 bg-white/5 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),s.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"rgba(37, 99, 235, 0.2) 0px 0px 20px"}}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]}),s.jsx("div",{className:"h-full relative flex-1",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1e3a8a]/75 to-[#1e3a8a]/90 transition-all duration-500"})})]}),s.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:s.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(PN,{size:20,className:"mr-2 text-brand-primary"}),"Lampe UV"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:`text-lg font-medium ${e.uvLampHours>=8e3?"text-red-400":e.uvLampHours>=7e3?"text-yellow-400":"text-white"}`,children:"7500 heures d'utilisation"}),s.jsxs("div",{className:"text-sm text-white/60",children:["Dernier changement: ",Kt(new Date(e.lastUVChange),"PP",{locale:Zr})]}),e.uvLampHours>=7e3&&s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ka,{size:20,className:"mr-2 text-yellow-400"}),s.jsx("span",{className:"text-yellow-400",children:"Changement recommandé"})]})]}),s.jsxs("button",{onClick:()=>{o(!0),c("maintenance"),d("uv_lamp")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",children:[s.jsx(PN,{size:20}),"Changer la lampe"]})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx(ak,{size:20,className:"mr-2 text-brand-primary"}),"Nettoyage du bassin"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-medium text-white",children:"Dernier nettoyage"}),s.jsx("div",{className:"text-sm text-white/60",children:Kt(new Date(e.lastMaintenance),"PP",{locale:Zr})}),s.jsxs("div",{className:"text-sm text-white/60 mt-2",children:[s.jsx(Oa,{size:16,className:"inline-block mr-1 text-cyan-400"}),"Le bassin doit être vidé avant le nettoyage"]})]}),s.jsxs("button",{onClick:()=>{o(!0),c("maintenance"),d("cleaning"),b(""),w(!1),S(!1)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",disabled:e.currentOccupancy>0,"aria-disabled":e.currentOccupancy>0,title:e.currentOccupancy>0?"Le bassin doit être vide pour le nettoyage":"Nettoyer le bassin",children:[s.jsx(ak,{size:20,"aria-hidden":"true"}),"Nettoyer"]})]})]})]},"info"),r==="history"&&s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des opérations"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center text-white",children:[s.jsx(Qa,{size:16,className:"mr-2"}),s.jsxs("span",{children:["Dernier nettoyage: ",Kt(new Date(e.lastMaintenance),"PP",{locale:Zr})]})]})}),s.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center text-white",children:[s.jsx(qi,{size:16,className:"mr-2"}),s.jsxs("span",{children:["Changement filtre: ",Kt(new Date(e.lastMaintenance),"PP",{locale:Zr})]})]})})]})]})},"history"),r==="config"&&s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Configuration du bassin"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de filtration"}),s.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"uv",children:"UV"}),s.jsx("option",{value:"uv_ozone",children:"UV + Ozone"}),s.jsx("option",{value:"mechanical",children:"Mécanique"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Durée de purification par défaut"}),s.jsx("input",{type:"number",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Heures"})]})]})]})},"config")]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),r==="config"&&s.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})},"modal")}),i&&l==="maintenance"&&s.jsx(n9,{isOpen:i&&l==="maintenance",onClose:()=>o(!1),onConfirm:T,maintenanceType:u,lastMaintenance:e.lastMaintenance,uvLampHours:e.uvLampHours}),i&&l==="exit"&&f&&s.jsx(a9,{isOpen:i&&l==="exit",onClose:()=>o(!1),onConfirm:R,batch:f}),i&&l==="newBatch"&&s.jsx(i9,{isOpen:i&&l==="newBatch",onClose:()=>o(!1),onConfirm:O,pool:e})]})}function Wwe(){const[e,t]=k.useState(null),[r,n]=k.useState(null),[a,i]=k.useState(zwe),[o,l]=k.useState(!1),[c,u]=k.useState("maintenance"),[d,f]=k.useState(null),[h,p]=k.useState(null),[m,x]=k.useState(!1),g=w=>{console.log("Nouveau lot ajouté:",w);const N={id:`batch-${Date.now()}`,number:w.number,quantity:w.quantity,type:w.type,entryTime:new Date().toISOString(),remainingTime:72};p(N),l(!0),u("newBatch")},v=()=>{x(!1),p(null)},b=(w,N)=>{console.log(`Maintenance ${w} confirmée pour le bassin ${e==null?void 0:e.name}`,{notes:N}),l(!1)},y=w=>{console.log("Sortie du lot:",{batch:d,...w}),l(!1),f(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:a.map(w=>s.jsxs("div",{onClick:()=>t(w),className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] p-6 rounded-lg cursor-pointer hover:from-[rgba(15,23,42,0.4)] hover:to-[rgba(20,100,100,0.4)] transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:w.name}),s.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/60",children:[s.jsx(qi,{size:16,className:"mr-1"}),w.filterType]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${w.filterStatus==="active"?"bg-green-500/20 text-green-300":w.filterStatus==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:w.filterStatus==="active"?"Actif":w.filterStatus==="maintenance"?"Maintenance":"Erreur"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Occupation"}),s.jsxs("div",{className:"text-xl font-bold text-white",children:[Math.round(w.currentOccupancy/w.capacity*100),"%"]}),s.jsxs("div",{className:"text-sm text-white/60",children:[w.currentOccupancy,"/",w.capacity]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Qualité eau"}),s.jsxs("div",{className:`text-xl font-bold ${w.waterQuality>=95?"text-green-400":w.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[w.waterQuality,"%"]}),s.jsxs("div",{className:"text-sm text-white/60",children:[w.temperature,"°C"]})]})]}),s.jsx("div",{className:"space-y-3",children:w.batches.map(N=>s.jsx("div",{className:"bg-white/5 rounded-lg p-4 mb-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:N.number}),s.jsxs("div",{className:"text-sm text-white/60",children:[N.quantity," huîtres"]})]}),s.jsxs("button",{onClick:S=>{S.stopPropagation(),f(N),l(!0),u("exit")},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 text-white/60 hover:bg-white/10 hover:text-white",children:[s.jsx(CS,{size:16}),"Sortir"]})]})},N.id))}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"relative h-24 bg-white/5 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),s.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"rgba(37, 99, 235, 0.2) 0px 0px 20px"}}),s.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),s.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]}),s.jsx("div",{className:"h-full relative flex-1",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1e3a8a]/75 to-[#1e3a8a]/90 transition-all duration-500"})})]}),s.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:s.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})}),s.jsx(je.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===w.id?1:0},transition:{duration:.2}})]},w.id))}),s.jsx(_r,{children:e&&s.jsx(Hwe,{pool:e,onClose:()=>t(null)})}),o&&c==="newBatch"&&s.jsx(i9,{isOpen:o&&c==="newBatch",onClose:()=>l(!1),onConfirm:g,pool:e}),o&&c==="maintenance"&&s.jsx(n9,{isOpen:o&&c==="maintenance",onClose:()=>l(!1),onConfirm:b,maintenanceType:"cleaning",lastMaintenance:e==null?void 0:e.lastMaintenance,uvLampHours:e==null?void 0:e.uvLampHours}),o&&c==="exit"&&d&&s.jsx(a9,{isOpen:o&&c==="exit",onClose:()=>l(!1),onConfirm:y,batch:d}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",onClick:v,children:s.jsxs("div",{className:"bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-6 rounded-lg w-full max-w-md",onClick:w=>w.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lot ajouté avec succès"}),s.jsx("button",{onClick:v,className:"text-white/60 hover:text-white",children:s.jsx(zt,{size:24})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(uf,{size:20,className:"text-cyan-400 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white",children:"Les stocks ont été mis à jour avec succès."}),s.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Lot ",h.number," ajouté avec ",h.quantity," huîtres"]}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Cette opération a été enregistrée dans l'historique de traçabilité"})]})]})}),s.jsx("button",{onClick:v,className:"w-full px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:"Fermer"})]})]})})]})}const s9=({isOpen:e,onClose:t,onConfirm:r,pochonCount:n,action:a})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[300]",onClick:i=>i.target===i.currentTarget&&t(),children:s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:i=>i.stopPropagation(),children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirmation"}),s.jsx("p",{className:"text-white/70",children:a==="fill"?`Les ${n} pochons seront inscrits dans les stocks de la trempe et leur traçabilité sera mise à jour.`:`Les ${n} pochons seront retirés des stocks de la trempe, mais seront disponible en référence pour le stockage dans les bassins et leur traçabilité sera mise à jour.`})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Non"}),s.jsx("button",{onClick:()=>{r(),t()},className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Oui"})]})]})})}):null,Vwe=({isOpen:e,onClose:t,onConfirm:r,cellIndex:n})=>{const[a,i]=k.useState("2503-042"),[o,l]=k.useState(!1);return e?s.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[200]",onClick:c=>c.target===c.currentTarget&&t(),children:[s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:c=>c.stopPropagation(),children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("h3",{className:"text-xl font-bold text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Remplir le carré ",n+1]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-white/70 block",children:"N° de lot :"}),s.jsxs("select",{value:a,onChange:c=>i(c.target.value),className:"w-full bg-black/20 border border-white/10 rounded px-3 py-2 text-white",children:[s.jsx("option",{value:"2503-042",children:"2503-042 (Dernier lot récolté - Table A-01)"}),s.jsx("option",{value:"2503-041",children:"2503-041"}),s.jsx("option",{value:"2503-040",children:"2503-040"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Annuler"}),s.jsx("button",{onClick:()=>l(!0),className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Confirmer"})]})]})}),s.jsx(s9,{isOpen:o,onClose:()=>l(!1),onConfirm:()=>{r(a),t()},pochonCount:50,action:"fill"})]}):null},EO=({isOpen:e,onClose:t,onConfirm:r,action:n,cellIndex:a,cell:i})=>{const[o,l]=k.useState(0),[c,u]=k.useState(!1),d=p=>p===5?17:p===6?19:50,f=n==="harvest"?d(a):0,h=n==="harvest"?f-o:o;return e?s.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[200]",onClick:p=>p.target===p.currentTarget&&t(),children:[s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:p=>p.stopPropagation(),children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:n==="fill"?"Ajouter des pochons":"Récolter les pochons"}),s.jsxs("div",{className:"text-center space-y-1",children:[s.jsxs("div",{className:"text-white/60",children:["Carré N°",a+1]}),s.jsxs("div",{className:"text-white/70",children:["Pochons ",n==="fill"?"ajoutés":"restants"," : ",h]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-white/70",children:"Nombre de pochons :"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>l(Math.max(0,o-1)),className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white flex items-center justify-center",children:"-"}),s.jsx("input",{type:"number",value:o,onChange:p=>{const m=parseInt(p.target.value)||0;l(Math.min(Math.max(0,m),d(a)))},className:"w-16 bg-black/20 border border-white/10 rounded px-3 py-1 text-white text-center"}),s.jsx("button",{onClick:()=>l(Math.min(o+1,d(a))),className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white flex items-center justify-center",children:"+"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Annuler"}),s.jsx("button",{onClick:()=>u(!0),className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Confirmer"})]})]})}),s.jsx(s9,{isOpen:c,onClose:()=>u(!1),onConfirm:()=>{r(o),t()},pochonCount:o,action:n})]}):null},qwe=({isOpen:e,onClose:t,message:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[300]",onClick:n=>n.target===n.currentTarget&&t(),children:s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:n=>n.stopPropagation(),children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-red-400 to-red-500 bg-clip-text text-transparent",children:"Erreur"}),s.jsx("p",{className:"text-white/70",children:r})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-red-400/30",children:"Fermer"})})]})})}):null,Gwe=({cell:e,onUpdate:t,index:r})=>{const[n,a]=k.useState(!1),[i,o]=k.useState(!1),[l,c]=k.useState(!1),u=!e.filled,d=r<=5&&r>=0,f=x=>x===9||x===10?"23/03/25":x===11||x===13?"24/03/25":x===14||x===18?"25/03/25":x===7||x===8?"26/03/25":"22/03/25",h=x=>x>=5&&x<=19?"2503-042 (Table A-01)":"-",p=x=>{t({filled:1,lotNumber:x})},m=x=>{t({pochonCount:x})};return u?s.jsxs("div",{className:"space-y-4 bg-black/20 p-4 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("button",{onClick:()=>d?a(!0):c(!0),className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:[s.jsx(jn,{size:20}),"Remplir le carré ",r+1]}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white",children:[s.jsx(jn,{size:20}),"Ajouter des pochons"]})]}),s.jsx(Vwe,{isOpen:n,onClose:()=>a(!1),onConfirm:p,cellIndex:r}),s.jsx(EO,{isOpen:i,onClose:()=>o(!1),onConfirm:m,action:"fill",cellIndex:r,cell:e}),s.jsx(qwe,{isOpen:l,onClose:()=>c(!1),message:"Impossible, la table n'est pas vide."})]}):s.jsxs("div",{className:"space-y-4 bg-black/20 p-4 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"text-2xl font-bold text-center mb-4 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Carré N°",r+1]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-white/60 text-sm",children:"Date de mise à l'eau"}),s.jsx("div",{className:"text-white font-medium",children:f(r)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-white/60 text-sm",children:"Numéro de lot"}),s.jsx("div",{className:"text-white font-medium",children:h(r)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-white/60 text-sm",children:"Taille des huîtres"}),s.jsx("div",{className:"text-white font-medium",children:"N°3"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-white/60 text-sm",children:"Nombre d'exondations"}),s.jsx("div",{className:"text-white font-medium",children:"12"})]}),r===5?s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),s.jsx("div",{className:"text-white font-medium",children:"17 / 50 - 170 Kg"})]}):r===6?s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),s.jsx("div",{className:"text-white font-medium",children:"19 / 50"})]}):r>=7&&r<=19&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),s.jsx("div",{className:"text-white font-medium",children:"50 / 50"})]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("button",{onClick:()=>o(!0),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300 relative z-50",children:[s.jsx(jn,{size:20}),"Récolter les pochons",s.jsxs("span",{className:"text-sm text-white/60 ml-2",children:["(",r===5?"17":r===6?"19":"50"," max)"]})]})}),s.jsx(EO,{isOpen:i,onClose:()=>o(!1),onConfirm:m,action:"harvest",cellIndex:r,cell:e})]})},Ywe=({table:e,onClose:t,onTableUpdate:r})=>{const[n,a]=k.useState(null),i=e.cells.map((d,f)=>({...d,filled:f===8?1:d.filled}));k.useEffect(()=>{r({...e,cells:i})},[]);const o=d=>{a(n===d?null:d)},l=(d,f)=>{const h={...e,cells:e.cells.map((p,m)=>m===d?{...p,...f}:p)};r(h)},c=()=>{const d={...e,cells:e.cells.map(f=>({...f,filled:1}))};r(d)},u=d=>{d.target===d.currentTarget&&t()};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[100]",onClick:u,children:s.jsxs(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[800px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion des cases"}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/5 text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:20})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-10 gap-0.5 bg-black/20 p-4 rounded-lg border border-white/10",children:e.cells.map((d,f)=>s.jsxs("button",{onClick:()=>o(f),className:`
                  w-16 h-10 rounded border relative overflow-hidden cursor-pointer transition-all duration-300
                  ${d.filled>0?"bg-cyan-500/40 border-cyan-400/50 hover:bg-cyan-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}
                  ${n===f?"ring-2 ring-cyan-400":""}
                `,children:[s.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:`${d.filled*100}%`}}),s.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-sm font-medium text-white/80",children:f+1})]},d.id))}),n!==null&&s.jsx(Gwe,{cell:e.cells[n],onUpdate:d=>l(n,d),index:n}),n!==null&&n<=5&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300 transition-all duration-300",children:[s.jsx(ji,{size:20}),"Remplir Table"]})})]})]})})},Xwe=[{id:"1",name:"Trempe 1",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:t<6?0:t===6?.3:1,waterDate:"2024-03-01",batchNumber:"2503-042",oysterSize:"N°3",exondationCount:2,perchCount:5})),oysterType:"Huîtres N°3",startDate:new Date().toLocaleDateString(),lastUpdate:"Nouveau"},{id:"2",name:"Trempe 2",cells:Array(10).fill(null).map((e,t)=>({id:`${t}`,filled:t<2?0:1,waterDate:"2024-02-15",batchNumber:"2503-078",oysterSize:"N°2",exondationCount:1,perchCount:3})),oysterType:"Huîtres Spéciales",startDate:new Date().toLocaleDateString(),lastUpdate:"Nouveau"}],Kwe=({table:e,onCellClick:t})=>{const r=e.cells.length===20?2:1,n=(e.cells.length===20,10);return s.jsx("div",{className:"space-y-1",children:Array.from({length:r},(a,i)=>s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-cyan-950/50",children:Array.from({length:n},(o,l)=>{const c=i*10+l;if(c>=e.cells.length)return null;const u=e.cells[c];return s.jsxs("div",{onClick:()=>t==null?void 0:t(c),className:"w-full h-7 rounded-[4px] border border-white/10 relative overflow-hidden cursor-pointer hover:border-cyan-400/30 transition-colors",children:[s.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:`${u.filled*100}%`}}),s.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white/80 font-medium",children:c+1})]},l)})},i))})},Qwe=({table:e,isHovered:t,isSelected:r,onClick:n,onHover:a})=>{const i=e.cells.filter(u=>u.filled>0).length,o=e.cells.length,l=Math.round(i/o*100);return s.jsxs(je.div,{layout:!0,onClick:n,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:`
        relative rounded-xl overflow-hidden transition-all duration-300
        ${r?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-400/50":t?"bg-white/5 border-cyan-400/30":"bg-white/5 border-white/10"}
        border backdrop-blur-sm p-6 space-y-6
        hover:shadow-[0_8px_16px_rgba(0,0,0,0.4),0_0_20px_rgba(0,210,200,0.3)]
        cursor-pointer
      `,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{size:18,className:"text-cyan-400"}),s.jsx("span",{className:"text-white/70",children:"Huîtres N°3"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[s.jsx(jn,{size:20}),s.jsx("span",{className:"font-semibold",children:"Pochons"})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"76 / 100"}),s.jsx("div",{className:"text-sm text-white/60",children:"10 Kg par pochon • 760 Kg"})]}),s.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[s.jsx(ig,{size:20}),s.jsx("span",{className:"font-semibold",children:"Remplissage"})]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[l,"%"]}),s.jsx("div",{className:"text-sm text-white/60",children:"13,3 carrés pleins"})]}),s.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[s.jsx(yV,{size:20}),s.jsx("span",{className:"font-semibold",children:"Mortalité"})]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[12.5,"%"]}),s.jsx("div",{className:"text-sm text-white/60",children:"Taux moyen"})]}),s.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[s.jsx(m0,{size:20}),s.jsx("span",{className:"font-semibold",children:"Lots"})]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[s.jsx("span",{children:"2503-042"}),s.jsx("span",{className:"text-xs text-white/60",children:"12 pochons"})]}),s.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[s.jsx("span",{children:"2503-078"}),s.jsx("span",{className:"text-xs text-white/60",children:"28 pochons"})]}),s.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[s.jsx("span",{children:"2503-156"}),s.jsx("span",{className:"text-xs text-white/60",children:"36 pochons"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(co,{size:16}),s.jsxs("span",{children:["Lot: ",e.cells[0].batchNumber]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(to,{size:16}),s.jsxs("span",{children:["Taille: ",e.cells[0].oysterSize]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(to,{size:16}),s.jsxs("span",{children:["Exondations: ",e.cells[0].exondationCount]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(to,{size:16}),s.jsxs("span",{children:["Perches: ",e.cells[0].perchCount]})]})]})]}),s.jsx(Kwe,{table:e})]})},Jwe=({onTableSelect:e,onTableHover:t,hoveredTable:r,selectedTable:n,onTableUpdate:a})=>{const[i,o]=k.useState(Xwe),[l,c]=k.useState(null),u=d=>{const f=i.map(h=>h.id===d.id?d:h);o(f),a(d)};return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.map(d=>s.jsx(Qwe,{table:d,isHovered:(r==null?void 0:r.id)===d.id,isSelected:(n==null?void 0:n.id)===d.id,onClick:()=>{e(d),c(d)},onHover:f=>{f?t==null||t(d):t==null||t(null)}},d.id))}),l&&s.jsx(Ywe,{table:l,onClose:()=>c(null),onTableUpdate:u})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var yy={};yy.version="0.18.5";var o9=1252,Zwe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],UA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},HA=function(e){Zwe.indexOf(e)!=-1&&(o9=UA[0]=e)};function e5e(){HA(1252)}var bl=function(e){HA(e)};function WA(){bl(1200),e5e()}function kO(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function t5e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function l9(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var yx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?t5e(e.slice(2)):t==254&&r==255?l9(e.slice(2)):t==65279?e.slice(1):e},t2=function(t){return String.fromCharCode(t)},TO=function(t){return String.fromCharCode(t)},id,dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function L1(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=dd.charAt(i)+dd.charAt(o)+dd.charAt(l)+dd.charAt(c);return t}function lo(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=dd.indexOf(e.charAt(u++)),o=dd.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=dd.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=dd.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var cr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),xu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function _d(e){return cr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function OO(e){return cr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Zs=function(t){return cr?xu(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function c5(e){if(typeof ArrayBuffer>"u")return Zs(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Md(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function r5e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function VA(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return VA(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var di=cr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:xu(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function n5e(e){for(var t=[],r=0,n=e.length+250,a=_d(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=_d(65535),n=65530)}return t.push(a.slice(0,r)),di(t)}var gs=/\u0000/g,wx=/[\u0001-\u0006]/g;function qh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function yl(e,t){var r=""+e;return r.length>=t?r:ea("0",t-r.length)+r}function qA(e,t){var r=""+e;return r.length>=t?r:ea(" ",t-r.length)+r}function wy(e,t){var r=""+e;return r.length>=t?r:r+ea(" ",t-r.length)}function a5e(e,t){var r=""+Math.round(e);return r.length>=t?r:ea("0",t-r.length)+r}function i5e(e,t){var r=""+e;return r.length>=t?r:ea("0",t-r.length)+r}var PO=Math.pow(2,32);function oh(e,t){if(e>PO||e<-PO)return a5e(e,t);var r=Math.round(e);return i5e(r,t)}function _y(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var DO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],d4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function s5e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Wt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},IO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},o5e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ny(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function _0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=h5e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var c9=new Date(1899,11,31,0,0,0),l5e=c9.getTime(),c5e=new Date(1900,2,1,0,0,0);function u9(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=c5e&&(r+=24*60*60*1e3),(r-(l5e+(e.getTimezoneOffset()-c9.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function GA(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function u5e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function d5e(e){var t=e<0?12:11,r=GA(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function f5e(e){var t=GA(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function B1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=d5e(e):t===10?r=e.toFixed(10).substr(0,12):r=f5e(e),GA(u5e(r.toUpperCase()))}function Q0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):B1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return qo(14,u9(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function h5e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function p5e(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return d4[r.m-1][1];case 5:return d4[r.m-1][0];default:return d4[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return DO[r.q][0];default:return DO[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?yl(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=yl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?yl(c,u):"";return d}function fd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var d9=/%/g;function m5e(e,t,r){var n=t.replace(d9,""),a=t.length-n.length;return Qc(e,n,r*Math.pow(10,2*a))+ea("%",a)}function x5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Qc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function f9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+f9(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var h9=/# (\?+)( ?)\/( ?)(\d+)/;function g5e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?ea(" ",e[1].length+1+e[4].length):qA(o,e[1].length)+e[2]+"/"+e[3]+yl(l,e[4].length))}function v5e(e,t,r){return r+(t===0?"":""+t)+ea(" ",e[1].length+2+e[4].length)}var p9=/^#*0*\.([0#]+)/,m9=/\).*[0#]/,x9=/\(###\) ###\\?-####/;function ss(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function MO(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function FO(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function b5e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function y5e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ao(e,t,r){if(e.charCodeAt(0)===40&&!t.match(m9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ao("n",n,r):"("+Ao("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return x5e(e,t,r);if(t.indexOf("%")!==-1)return m5e(e,t,r);if(t.indexOf("E")!==-1)return f9(t,r);if(t.charCodeAt(0)===36)return"$"+Ao(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+oh(c,t.length);if(t.match(/^[#?]+$/))return a=oh(r,0),a==="0"&&(a=""),a.length>t.length?a:ss(t.substr(0,t.length-a.length))+a;if(i=t.match(h9))return g5e(i,c,u);if(t.match(/^#+0+$/))return u+oh(c,t.length-t.indexOf("0"));if(i=t.match(p9))return a=MO(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ss(i[1])).replace(/\.$/,"."+ss(i[1])).replace(/\.(\d*)$/,function(m,x){return"."+x+ea("0",ss(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+MO(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+fd(oh(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ao(e,t,-r):fd(""+(Math.floor(r)+b5e(r,i[1].length)))+"."+yl(FO(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ao(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=qh(Ao(e,t.replace(/[\\-]/g,""),r)),o=0,qh(qh(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return o<a.length?a.charAt(o++):m==="0"?"0":""}));if(t.match(x9))return a=Ao(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Ny(c,Math.pow(10,o)-1,!1),a=""+u,d=Qc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=wy(l[2],o),d.length<i[4].length&&(d=ss(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Ny(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?qA(l[1],o)+i[2]+"/"+i[3]+wy(l[2],o):ea(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=oh(r,0),t.length<=a.length?a:ss(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return ss(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=FO(r,i[1].length),r<0?"-"+Ao(e,t,-r):fd(y5e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?yl(0,3-m.length):"")+m})+"."+yl(o,i[1].length);switch(t){case"###,##0.00":return Ao(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=fd(oh(c,0));return p!=="0"?u+p:"";case"###,###.00":return Ao(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ao(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function w5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Qc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _5e(e,t,r){var n=t.replace(d9,""),a=t.length-n.length;return Qc(e,n,r*Math.pow(10,2*a))+ea("%",a)}function g9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+g9(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ll(e,t,r){if(e.charCodeAt(0)===40&&!t.match(m9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ll("n",n,r):"("+Ll("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return w5e(e,t,r);if(t.indexOf("%")!==-1)return _5e(e,t,r);if(t.indexOf("E")!==-1)return g9(t,r);if(t.charCodeAt(0)===36)return"$"+Ll(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+yl(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ss(t.substr(0,t.length-a.length))+a;if(i=t.match(h9))return v5e(i,c,u);if(t.match(/^#+0+$/))return u+yl(c,t.length-t.indexOf("0"));if(i=t.match(p9))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ss(i[1])).replace(/\.$/,"."+ss(i[1])),a=a.replace(/\.(\d*)$/,function(m,x){return"."+x+ea("0",ss(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+fd(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ll(e,t,-r):fd(""+r)+"."+ea("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ll(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=qh(Ll(e,t.replace(/[\\-]/g,""),r)),o=0,qh(qh(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return o<a.length?a.charAt(o++):m==="0"?"0":""}));if(t.match(x9))return a=Ll(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Ny(c,Math.pow(10,o)-1,!1),a=""+u,d=Qc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=wy(l[2],o),d.length<i[4].length&&(d=ss(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Ny(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?qA(l[1],o)+i[2]+"/"+i[3]+wy(l[2],o):ea(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ss(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return ss(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ll(e,t,-r):fd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?yl(0,3-m.length):"")+m})+"."+yl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=fd(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Ll(e,t.slice(0,t.lastIndexOf(".")),r)+ss(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Qc(e,t,r){return(r|0)===r?Ll(e,t,r):Ao(e,t,r)}function N5e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var v9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function om(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":_y(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(v9))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function j5e(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!_y(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=_0(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=_0(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var x={t:l,v:l};if(u==null&&(u=_0(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(x.v=u.H>=12?"下午":"上午"),x.t="T",o+=5,h="h"):(x.t="t",++o),u==null&&x.t==="T")return"";a[a.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(v9)){if(u==null&&(u=_0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",om(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,v=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",g<1&&(g=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",w;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=p5e(a[o].t.charCodeAt(0),a[o].v,u,v),a[o].t="t";break;case"n":case"?":for(w=o+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[o].v+=a[w].v,a[w]={v:"",t:";"},++w;y+=a[o].v,o=w-1;break;case"G":a[o].t="t",a[o].v=Q0(t,r);break}var N="",S,j;if(y.length>0){y.charCodeAt(0)==40?(S=t<0&&y.charCodeAt(0)===45?-t:t,j=Qc("n",y,S)):(S=t<0&&n>1?-t:t,j=Qc("n",y,S),S<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),w=j.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var T=a.length;if(A===a.length&&j.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(w>=a[o].v.length-1?(w-=a[o].v.length,a[o].v=j.substr(w+1,a[o].v.length)):w<0?a[o].v="":(a[o].v=j.substr(0,w+1),w=-1),a[o].t="t",T=o);w>=0&&T<a.length&&(a[T].v=j.substr(0,w+1)+a[T].v)}else if(A!==a.length&&j.indexOf("E")===-1){for(w=j.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(d+1);d>=0;--d)w>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(N=j.charAt(w--)+N);a[o].v=N,a[o].t="t",T=o}for(w>=0&&T<a.length&&(a[T].v=j.substr(0,w+1)+a[T].v),w=j.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(d=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,d);d<a[o].v.length;++d)w<j.length&&(N+=j.charAt(w++));a[o].v=N,a[o].t="t",T=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Qc(a[o].t,a[o].v,S),a[o].t="t");var R="";for(o=0;o!==a.length;++o)a[o]!=null&&(R+=a[o].v);return R}var RO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function LO(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function S5e(e,t){var r=N5e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(RO),l=r[1].match(RO);return LO(t,o)?[n,r[0]]:LO(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function qo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Wt)[e],n==null&&(n=r.table&&r.table[IO[e]]||Wt[IO[e]]),n==null&&(n=o5e[e]||"General");break}if(_y(n,0))return Q0(t,r);t instanceof Date&&(t=u9(t,r.date1904));var a=S5e(n,t);if(_y(a[1]))return Q0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return j5e(a[1],t,r,a[0])}function Jc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Wt[r]==null){t<0&&(t=r);continue}if(Wt[r]==e){t=r;break}}t<0&&(t=391)}return Wt[t]=e,t}function u5(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Jc(e[t],t)}function lm(){Wt=s5e()}var A5e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},b9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function C5e(e){var t=typeof e=="number"?Wt[e]:e;return t=t.replace(b9,"(\\d+)"),new RegExp("^"+t+"$")}function E5e(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(b9)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var k5e=function(){var e={};e.version="1.2.0";function t(){for(var j=0,A=new Array(256),T=0;T!=256;++T)j=T,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,A[T]=j;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(j){var A=0,T=0,R=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)O[R]=j[R];for(R=0;R!=256;++R)for(T=j[R],A=256+R;A<4096;A+=256)T=O[A]=T>>>8^j[T&255];var E=[];for(R=1;R!=16;++R)E[R-1]=typeof Int32Array<"u"?O.subarray(R*256,R*256+256):O.slice(R*256,R*256+256);return E}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],m=a[9],x=a[10],g=a[11],v=a[12],b=a[13],y=a[14];function w(j,A){for(var T=A^-1,R=0,O=j.length;R<O;)T=T>>>8^r[(T^j.charCodeAt(R++))&255];return~T}function N(j,A){for(var T=A^-1,R=j.length-15,O=0;O<R;)T=y[j[O++]^T&255]^b[j[O++]^T>>8&255]^v[j[O++]^T>>16&255]^g[j[O++]^T>>>24]^x[j[O++]]^m[j[O++]]^p[j[O++]]^h[j[O++]]^f[j[O++]]^d[j[O++]]^u[j[O++]]^c[j[O++]]^l[j[O++]]^o[j[O++]]^i[j[O++]]^r[j[O++]];for(R+=15;O<R;)T=T>>>8^r[(T^j[O++])&255];return~T}function S(j,A){for(var T=A^-1,R=0,O=j.length,E=0,L=0;R<O;)E=j.charCodeAt(R++),E<128?T=T>>>8^r[(T^E)&255]:E<2048?(T=T>>>8^r[(T^(192|E>>6&31))&255],T=T>>>8^r[(T^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,L=j.charCodeAt(R++)&1023,T=T>>>8^r[(T^(240|E>>8&7))&255],T=T>>>8^r[(T^(128|E>>2&63))&255],T=T>>>8^r[(T^(128|L>>6&15|(E&3)<<4))&255],T=T>>>8^r[(T^(128|L&63))&255]):(T=T>>>8^r[(T^(224|E>>12&15))&255],T=T>>>8^r[(T^(128|E>>6&63))&255],T=T>>>8^r[(T^(128|E&63))&255]);return~T}return e.table=r,e.bstr=w,e.buf=N,e.str=S,e}(),Ft=function(){var t={};t.version="1.2.1";function r(ee,ve){for(var fe=ee.split("/"),he=ve.split("/"),ge=0,be=0,Le=Math.min(fe.length,he.length);ge<Le;++ge){if(be=fe[ge].length-he[ge].length)return be;if(fe[ge]!=he[ge])return fe[ge]<he[ge]?-1:1}return fe.length-he.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var ve=ee.lastIndexOf("/");return ve===-1?ee:ee.slice(0,ve+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var ve=ee.lastIndexOf("/");return ve===-1?ee:ee.slice(ve+1)}function i(ee,ve){typeof ve=="string"&&(ve=new Date(ve));var fe=ve.getHours();fe=fe<<6|ve.getMinutes(),fe=fe<<5|ve.getSeconds()>>>1,ee.write_shift(2,fe);var he=ve.getFullYear()-1980;he=he<<4|ve.getMonth()+1,he=he<<5|ve.getDate(),ee.write_shift(2,he)}function o(ee){var ve=ee.read_shift(2)&65535,fe=ee.read_shift(2)&65535,he=new Date,ge=fe&31;fe>>>=5;var be=fe&15;fe>>>=4,he.setMilliseconds(0),he.setFullYear(fe+1980),he.setMonth(be-1),he.setDate(ge);var Le=ve&31;ve>>>=5;var We=ve&63;return ve>>>=6,he.setHours(ve),he.setMinutes(We),he.setSeconds(Le<<1),he}function l(ee){Ni(ee,0);for(var ve={},fe=0;ee.l<=ee.length-4;){var he=ee.read_shift(2),ge=ee.read_shift(2),be=ee.l+ge,Le={};switch(he){case 21589:fe=ee.read_shift(1),fe&1&&(Le.mtime=ee.read_shift(4)),ge>5&&(fe&2&&(Le.atime=ee.read_shift(4)),fe&4&&(Le.ctime=ee.read_shift(4))),Le.mtime&&(Le.mt=new Date(Le.mtime*1e3));break}ee.l=be,ve[he]=Le}return ve}var c;function u(){return c||(c={})}function d(ee,ve){if(ee[0]==80&&ee[1]==75)return En(ee,ve);if((ee[0]|32)==109&&(ee[1]|32)==105)return po(ee,ve);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var fe=3,he=512,ge=0,be=0,Le=0,We=0,Re=0,Ue=[],He=ee.slice(0,512);Ni(He,0);var at=f(He);switch(fe=at[0],fe){case 3:he=512;break;case 4:he=4096;break;case 0:if(at[1]==0)return En(ee,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+fe)}he!==512&&(He=ee.slice(0,he),Ni(He,28));var ot=ee.slice(0,he);h(He,fe);var xt=He.read_shift(4,"i");if(fe===3&&xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xt);He.l+=4,Le=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),We=He.read_shift(4,"i"),ge=He.read_shift(4,"i"),Re=He.read_shift(4,"i"),be=He.read_shift(4,"i");for(var st=-1,mt=0;mt<109&&(st=He.read_shift(4,"i"),!(st<0));++mt)Ue[mt]=st;var Yt=p(ee,he);g(Re,be,Yt,he,Ue);var zr=b(Yt,Le,Ue,he);zr[Le].name="!Directory",ge>0&&We!==L&&(zr[We].name="!MiniFAT"),zr[Ue[0]].name="!FAT",zr.fat_addrs=Ue,zr.ssz=he;var sn={},_a=[],el=[],jc=[];y(Le,zr,Yt,_a,ge,sn,el,We),m(el,jc,_a),_a.shift();var Ol={FileIndex:el,FullPaths:jc};return ve&&ve.raw&&(Ol.raw={header:ot,sectors:Yt}),Ol}function f(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(B,"Header Signature: "),ee.l+=16;var ve=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ve]}function h(ee,ve){var fe=9;switch(ee.l+=2,fe=ee.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+fe);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+fe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fe)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function p(ee,ve){for(var fe=Math.ceil(ee.length/ve)-1,he=[],ge=1;ge<fe;++ge)he[ge-1]=ee.slice(ge*ve,(ge+1)*ve);return he[fe-1]=ee.slice(fe*ve),he}function m(ee,ve,fe){for(var he=0,ge=0,be=0,Le=0,We=0,Re=fe.length,Ue=[],He=[];he<Re;++he)Ue[he]=He[he]=he,ve[he]=fe[he];for(;We<He.length;++We)he=He[We],ge=ee[he].L,be=ee[he].R,Le=ee[he].C,Ue[he]===he&&(ge!==-1&&Ue[ge]!==ge&&(Ue[he]=Ue[ge]),be!==-1&&Ue[be]!==be&&(Ue[he]=Ue[be])),Le!==-1&&(Ue[Le]=he),ge!==-1&&he!=Ue[he]&&(Ue[ge]=Ue[he],He.lastIndexOf(ge)<We&&He.push(ge)),be!==-1&&he!=Ue[he]&&(Ue[be]=Ue[he],He.lastIndexOf(be)<We&&He.push(be));for(he=1;he<Re;++he)Ue[he]===he&&(be!==-1&&Ue[be]!==be?Ue[he]=Ue[be]:ge!==-1&&Ue[ge]!==ge&&(Ue[he]=Ue[ge]));for(he=1;he<Re;++he)if(ee[he].type!==0){if(We=he,We!=Ue[We])do We=Ue[We],ve[he]=ve[We]+"/"+ve[he];while(We!==0&&Ue[We]!==-1&&We!=Ue[We]);Ue[he]=-1}for(ve[0]+="/",he=1;he<Re;++he)ee[he].type!==2&&(ve[he]+="/")}function x(ee,ve,fe){for(var he=ee.start,ge=ee.size,be=[],Le=he;fe&&ge>0&&Le>=0;)be.push(ve.slice(Le*E,Le*E+E)),ge-=E,Le=f0(fe,Le*4);return be.length===0?Ye(0):di(be).slice(0,ee.size)}function g(ee,ve,fe,he,ge){var be=L;if(ee===L){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Le=fe[ee],We=(he>>>2)-1;if(!Le)return;for(var Re=0;Re<We&&(be=f0(Le,Re*4))!==L;++Re)ge.push(be);g(f0(Le,he-4),ve-1,fe,he,ge)}}function v(ee,ve,fe,he,ge){var be=[],Le=[];ge||(ge=[]);var We=he-1,Re=0,Ue=0;for(Re=ve;Re>=0;){ge[Re]=!0,be[be.length]=Re,Le.push(ee[Re]);var He=fe[Math.floor(Re*4/he)];if(Ue=Re*4&We,he<4+Ue)throw new Error("FAT boundary crossed: "+Re+" 4 "+he);if(!ee[He])break;Re=f0(ee[He],Ue)}return{nodes:be,data:KO([Le])}}function b(ee,ve,fe,he){var ge=ee.length,be=[],Le=[],We=[],Re=[],Ue=he-1,He=0,at=0,ot=0,xt=0;for(He=0;He<ge;++He)if(We=[],ot=He+ve,ot>=ge&&(ot-=ge),!Le[ot]){Re=[];var st=[];for(at=ot;at>=0;){st[at]=!0,Le[at]=!0,We[We.length]=at,Re.push(ee[at]);var mt=fe[Math.floor(at*4/he)];if(xt=at*4&Ue,he<4+xt)throw new Error("FAT boundary crossed: "+at+" 4 "+he);if(!ee[mt]||(at=f0(ee[mt],xt),st[at]))break}be[ot]={nodes:We,data:KO([Re])}}return be}function y(ee,ve,fe,he,ge,be,Le,We){for(var Re=0,Ue=he.length?2:0,He=ve[ee].data,at=0,ot=0,xt;at<He.length;at+=128){var st=He.slice(at,at+128);Ni(st,64),ot=st.read_shift(2),xt=eC(st,0,ot-Ue),he.push(xt);var mt={name:xt,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},Yt=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Yt!==0&&(mt.ct=w(st,st.l-8));var zr=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);zr!==0&&(mt.mt=w(st,st.l-8)),mt.start=st.read_shift(4,"i"),mt.size=st.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=L,mt.name=""),mt.type===5?(Re=mt.start,ge>0&&Re!==L&&(ve[Re].name="!StreamData")):mt.size>=4096?(mt.storage="fat",ve[mt.start]===void 0&&(ve[mt.start]=v(fe,mt.start,ve.fat_addrs,ve.ssz)),ve[mt.start].name=mt.name,mt.content=ve[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:Re!==L&&mt.start!==L&&ve[Re]&&(mt.content=x(mt,ve[Re].data,(ve[We]||{}).data))),mt.content&&Ni(mt.content,0),be[xt]=mt,Le.push(mt)}}function w(ee,ve){return new Date((Qs(ee,ve+4)/1e7*Math.pow(2,32)+Qs(ee,ve)/1e7-11644473600)*1e3)}function N(ee,ve){return u(),d(c.readFileSync(ee),ve)}function S(ee,ve){var fe=ve&&ve.type;switch(fe||cr&&Buffer.isBuffer(ee)&&(fe="buffer"),fe||"base64"){case"file":return N(ee,ve);case"base64":return d(Zs(lo(ee)),ve);case"binary":return d(Zs(ee),ve)}return d(ee,ve)}function j(ee,ve){var fe=ve||{},he=fe.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=he+"/",ee.FileIndex[0]={name:he,type:5}),fe.CLSID&&(ee.FileIndex[0].clsid=fe.CLSID),A(ee)}function A(ee){var ve="Sh33tJ5";if(!Ft.find(ee,"/"+ve)){var fe=Ye(4);fe[0]=55,fe[1]=fe[3]=50,fe[2]=54,ee.FileIndex.push({name:ve,type:2,content:fe,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ve),T(ee)}}function T(ee,ve){j(ee);for(var fe=!1,he=!1,ge=ee.FullPaths.length-1;ge>=0;--ge){var be=ee.FileIndex[ge];switch(be.type){case 0:he?fe=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(be.R*be.L*be.C)&&(fe=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(fe=!0);break;default:fe=!0;break}}if(!(!fe&&!ve)){var Le=new Date(1987,1,19),We=0,Re=Object.create?Object.create(null):{},Ue=[];for(ge=0;ge<ee.FullPaths.length;++ge)Re[ee.FullPaths[ge]]=!0,ee.FileIndex[ge].type!==0&&Ue.push([ee.FullPaths[ge],ee.FileIndex[ge]]);for(ge=0;ge<Ue.length;++ge){var He=n(Ue[ge][0]);he=Re[He],he||(Ue.push([He,{name:a(He).replace("/",""),type:1,clsid:U,ct:Le,mt:Le,content:null}]),Re[He]=!0)}for(Ue.sort(function(xt,st){return r(xt[0],st[0])}),ee.FullPaths=[],ee.FileIndex=[],ge=0;ge<Ue.length;++ge)ee.FullPaths[ge]=Ue[ge][0],ee.FileIndex[ge]=Ue[ge][1];for(ge=0;ge<Ue.length;++ge){var at=ee.FileIndex[ge],ot=ee.FullPaths[ge];if(at.name=a(ot).replace("/",""),at.L=at.R=at.C=-(at.color=1),at.size=at.content?at.content.length:0,at.start=0,at.clsid=at.clsid||U,ge===0)at.C=Ue.length>1?1:-1,at.size=0,at.type=5;else if(ot.slice(-1)=="/"){for(We=ge+1;We<Ue.length&&n(ee.FullPaths[We])!=ot;++We);for(at.C=We>=Ue.length?-1:We,We=ge+1;We<Ue.length&&n(ee.FullPaths[We])!=n(ot);++We);at.R=We>=Ue.length?-1:We,at.type=1}else n(ee.FullPaths[ge+1]||"")==n(ot)&&(at.R=ge+1),at.type=2}}}function R(ee,ve){var fe=ve||{};if(fe.fileType=="mad")return Bt(ee,fe);switch(T(ee),fe.fileType){case"zip":return Zo(ee,fe)}var he=function(xt){for(var st=0,mt=0,Yt=0;Yt<xt.FileIndex.length;++Yt){var zr=xt.FileIndex[Yt];if(zr.content){var sn=zr.content.length;sn>0&&(sn<4096?st+=sn+63>>6:mt+=sn+511>>9)}}for(var _a=xt.FullPaths.length+3>>2,el=st+7>>3,jc=st+127>>7,Ol=el+mt+_a+jc,tl=Ol+127>>7,Pl=tl<=109?0:Math.ceil((tl-109)/127);Ol+tl+Pl+127>>7>tl;)Pl=++tl<=109?0:Math.ceil((tl-109)/127);var $s=[1,Pl,tl,jc,_a,mt,st,0];return xt.FileIndex[0].size=st<<6,$s[7]=(xt.FileIndex[0].start=$s[0]+$s[1]+$s[2]+$s[3]+$s[4]+$s[5])+($s[6]+7>>3),$s}(ee),ge=Ye(he[7]<<9),be=0,Le=0;{for(be=0;be<8;++be)ge.write_shift(1,G[be]);for(be=0;be<8;++be)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),be=0;be<3;++be)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,he[2]),ge.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:L),ge.write_shift(4,he[3]),ge.write_shift(-4,he[1]?he[0]-1:L),ge.write_shift(4,he[1]),be=0;be<109;++be)ge.write_shift(-4,be<he[2]?he[1]+be:-1)}if(he[1])for(Le=0;Le<he[1];++Le){for(;be<236+Le*127;++be)ge.write_shift(-4,be<he[2]?he[1]+be:-1);ge.write_shift(-4,Le===he[1]-1?L:Le+1)}var We=function(xt){for(Le+=xt;be<Le-1;++be)ge.write_shift(-4,be+1);xt&&(++be,ge.write_shift(-4,L))};for(Le=be=0,Le+=he[1];be<Le;++be)ge.write_shift(-4,W.DIFSECT);for(Le+=he[2];be<Le;++be)ge.write_shift(-4,W.FATSECT);We(he[3]),We(he[4]);for(var Re=0,Ue=0,He=ee.FileIndex[0];Re<ee.FileIndex.length;++Re)He=ee.FileIndex[Re],He.content&&(Ue=He.content.length,!(Ue<4096)&&(He.start=Le,We(Ue+511>>9)));for(We(he[6]+7>>3);ge.l&511;)ge.write_shift(-4,W.ENDOFCHAIN);for(Le=be=0,Re=0;Re<ee.FileIndex.length;++Re)He=ee.FileIndex[Re],He.content&&(Ue=He.content.length,!(!Ue||Ue>=4096)&&(He.start=Le,We(Ue+63>>6)));for(;ge.l&511;)ge.write_shift(-4,W.ENDOFCHAIN);for(be=0;be<he[4]<<2;++be){var at=ee.FullPaths[be];if(!at||at.length===0){for(Re=0;Re<17;++Re)ge.write_shift(4,0);for(Re=0;Re<3;++Re)ge.write_shift(4,-1);for(Re=0;Re<12;++Re)ge.write_shift(4,0);continue}He=ee.FileIndex[be],be===0&&(He.start=He.size?He.start-1:L);var ot=be===0&&fe.root||He.name;if(Ue=2*(ot.length+1),ge.write_shift(64,ot,"utf16le"),ge.write_shift(2,Ue),ge.write_shift(1,He.type),ge.write_shift(1,He.color),ge.write_shift(-4,He.L),ge.write_shift(-4,He.R),ge.write_shift(-4,He.C),He.clsid)ge.write_shift(16,He.clsid,"hex");else for(Re=0;Re<4;++Re)ge.write_shift(4,0);ge.write_shift(4,He.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,He.start),ge.write_shift(4,He.size),ge.write_shift(4,0)}for(be=1;be<ee.FileIndex.length;++be)if(He=ee.FileIndex[be],He.size>=4096)if(ge.l=He.start+1<<9,cr&&Buffer.isBuffer(He.content))He.content.copy(ge,ge.l,0,He.size),ge.l+=He.size+511&-512;else{for(Re=0;Re<He.size;++Re)ge.write_shift(1,He.content[Re]);for(;Re&511;++Re)ge.write_shift(1,0)}for(be=1;be<ee.FileIndex.length;++be)if(He=ee.FileIndex[be],He.size>0&&He.size<4096)if(cr&&Buffer.isBuffer(He.content))He.content.copy(ge,ge.l,0,He.size),ge.l+=He.size+63&-64;else{for(Re=0;Re<He.size;++Re)ge.write_shift(1,He.content[Re]);for(;Re&63;++Re)ge.write_shift(1,0)}if(cr)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function O(ee,ve){var fe=ee.FullPaths.map(function(Re){return Re.toUpperCase()}),he=fe.map(function(Re){var Ue=Re.split("/");return Ue[Ue.length-(Re.slice(-1)=="/"?2:1)]}),ge=!1;ve.charCodeAt(0)===47?(ge=!0,ve=fe[0].slice(0,-1)+ve):ge=ve.indexOf("/")!==-1;var be=ve.toUpperCase(),Le=ge===!0?fe.indexOf(be):he.indexOf(be);if(Le!==-1)return ee.FileIndex[Le];var We=!be.match(wx);for(be=be.replace(gs,""),We&&(be=be.replace(wx,"!")),Le=0;Le<fe.length;++Le)if((We?fe[Le].replace(wx,"!"):fe[Le]).replace(gs,"")==be||(We?he[Le].replace(wx,"!"):he[Le]).replace(gs,"")==be)return ee.FileIndex[Le];return null}var E=64,L=-2,B="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(ee,ve,fe){u();var he=R(ee,fe);c.writeFileSync(ve,he)}function q(ee){for(var ve=new Array(ee.length),fe=0;fe<ee.length;++fe)ve[fe]=String.fromCharCode(ee[fe]);return ve.join("")}function le(ee,ve){var fe=R(ee,ve);switch(ve&&ve.type||"buffer"){case"file":return u(),c.writeFileSync(ve.filename,fe),fe;case"binary":return typeof fe=="string"?fe:q(fe);case"base64":return L1(typeof fe=="string"?fe:q(fe));case"buffer":if(cr)return Buffer.isBuffer(fe)?fe:xu(fe);case"array":return typeof fe=="string"?Zs(fe):fe}return fe}var se;function I(ee){try{var ve=ee.InflateRaw,fe=new ve;if(fe._processChunk(new Uint8Array([3,0]),fe._finishFlushFlag),fe.bytesRead)se=ee;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function P(ee,ve){if(!se)return jr(ee,ve);var fe=se.InflateRaw,he=new fe,ge=he._processChunk(ee.slice(ee.l),he._finishFlushFlag);return ee.l+=he.bytesRead,ge}function M(ee){return se?se.deflateRawSync(ee):ft(ee)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(ee){var ve=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var ne=typeof Uint8Array<"u",_e=ne?new Uint8Array(256):[],Ce=0;Ce<256;++Ce)_e[Ce]=ue(Ce);function V(ee,ve){var fe=_e[ee&255];return ve<=8?fe>>>8-ve:(fe=fe<<8|_e[ee>>8&255],ve<=16?fe>>>16-ve:(fe=fe<<8|_e[ee>>16&255],fe>>>24-ve))}function Me(ee,ve){var fe=ve&7,he=ve>>>3;return(ee[he]|(fe<=6?0:ee[he+1]<<8))>>>fe&3}function Ae(ee,ve){var fe=ve&7,he=ve>>>3;return(ee[he]|(fe<=5?0:ee[he+1]<<8))>>>fe&7}function pe(ee,ve){var fe=ve&7,he=ve>>>3;return(ee[he]|(fe<=4?0:ee[he+1]<<8))>>>fe&15}function re(ee,ve){var fe=ve&7,he=ve>>>3;return(ee[he]|(fe<=3?0:ee[he+1]<<8))>>>fe&31}function Oe(ee,ve){var fe=ve&7,he=ve>>>3;return(ee[he]|(fe<=1?0:ee[he+1]<<8))>>>fe&127}function oe(ee,ve,fe){var he=ve&7,ge=ve>>>3,be=(1<<fe)-1,Le=ee[ge]>>>he;return fe<8-he||(Le|=ee[ge+1]<<8-he,fe<16-he)||(Le|=ee[ge+2]<<16-he,fe<24-he)||(Le|=ee[ge+3]<<24-he),Le&be}function de(ee,ve,fe){var he=ve&7,ge=ve>>>3;return he<=5?ee[ge]|=(fe&7)<<he:(ee[ge]|=fe<<he&255,ee[ge+1]=(fe&7)>>8-he),ve+3}function ye(ee,ve,fe){var he=ve&7,ge=ve>>>3;return fe=(fe&1)<<he,ee[ge]|=fe,ve+1}function Ie(ee,ve,fe){var he=ve&7,ge=ve>>>3;return fe<<=he,ee[ge]|=fe&255,fe>>>=8,ee[ge+1]=fe,ve+8}function Ne(ee,ve,fe){var he=ve&7,ge=ve>>>3;return fe<<=he,ee[ge]|=fe&255,fe>>>=8,ee[ge+1]=fe&255,ee[ge+2]=fe>>>8,ve+16}function Pe(ee,ve){var fe=ee.length,he=2*fe>ve?2*fe:ve+5,ge=0;if(fe>=ve)return ee;if(cr){var be=OO(he);if(ee.copy)ee.copy(be);else for(;ge<ee.length;++ge)be[ge]=ee[ge];return be}else if(ne){var Le=new Uint8Array(he);if(Le.set)Le.set(ee);else for(;ge<fe;++ge)Le[ge]=ee[ge];return Le}return ee.length=he,ee}function Xe(ee){for(var ve=new Array(ee),fe=0;fe<ee;++fe)ve[fe]=0;return ve}function tt(ee,ve,fe){var he=1,ge=0,be=0,Le=0,We=0,Re=ee.length,Ue=ne?new Uint16Array(32):Xe(32);for(be=0;be<32;++be)Ue[be]=0;for(be=Re;be<fe;++be)ee[be]=0;Re=ee.length;var He=ne?new Uint16Array(Re):Xe(Re);for(be=0;be<Re;++be)Ue[ge=ee[be]]++,he<ge&&(he=ge),He[be]=0;for(Ue[0]=0,be=1;be<=he;++be)Ue[be+16]=We=We+Ue[be-1]<<1;for(be=0;be<Re;++be)We=ee[be],We!=0&&(He[be]=Ue[We+16]++);var at=0;for(be=0;be<Re;++be)if(at=ee[be],at!=0)for(We=V(He[be],he)>>he-at,Le=(1<<he+4-at)-1;Le>=0;--Le)ve[We|Le<<at]=at&15|be<<4;return he}var gt=ne?new Uint16Array(512):Xe(512),Nt=ne?new Uint16Array(32):Xe(32);if(!ne){for(var Pt=0;Pt<512;++Pt)gt[Pt]=0;for(Pt=0;Pt<32;++Pt)Nt[Pt]=0}(function(){for(var ee=[],ve=0;ve<32;ve++)ee.push(5);tt(ee,Nt,32);var fe=[];for(ve=0;ve<=143;ve++)fe.push(8);for(;ve<=255;ve++)fe.push(9);for(;ve<=279;ve++)fe.push(7);for(;ve<=287;ve++)fe.push(8);tt(fe,gt,288)})();var kt=function(){for(var ve=ne?new Uint8Array(32768):[],fe=0,he=0;fe<ae.length-1;++fe)for(;he<ae[fe+1];++he)ve[he]=fe;for(;he<32768;++he)ve[he]=29;var ge=ne?new Uint8Array(259):[];for(fe=0,he=0;fe<Y.length-1;++fe)for(;he<Y[fe+1];++he)ge[he]=fe;function be(We,Re){for(var Ue=0;Ue<We.length;){var He=Math.min(65535,We.length-Ue),at=Ue+He==We.length;for(Re.write_shift(1,+at),Re.write_shift(2,He),Re.write_shift(2,~He&65535);He-- >0;)Re[Re.l++]=We[Ue++]}return Re.l}function Le(We,Re){for(var Ue=0,He=0,at=ne?new Uint16Array(32768):[];He<We.length;){var ot=Math.min(65535,We.length-He);if(ot<10){for(Ue=de(Re,Ue,+(He+ot==We.length)),Ue&7&&(Ue+=8-(Ue&7)),Re.l=Ue/8|0,Re.write_shift(2,ot),Re.write_shift(2,~ot&65535);ot-- >0;)Re[Re.l++]=We[He++];Ue=Re.l*8;continue}Ue=de(Re,Ue,+(He+ot==We.length)+2);for(var xt=0;ot-- >0;){var st=We[He];xt=(xt<<5^st)&32767;var mt=-1,Yt=0;if((mt=at[xt])&&(mt|=He&-32768,mt>He&&(mt-=32768),mt<He))for(;We[mt+Yt]==We[He+Yt]&&Yt<250;)++Yt;if(Yt>2){st=ge[Yt],st<=22?Ue=Ie(Re,Ue,_e[st+1]>>1)-1:(Ie(Re,Ue,3),Ue+=5,Ie(Re,Ue,_e[st-23]>>5),Ue+=3);var zr=st<8?0:st-4>>2;zr>0&&(Ne(Re,Ue,Yt-Y[st]),Ue+=zr),st=ve[He-mt],Ue=Ie(Re,Ue,_e[st]>>3),Ue-=3;var sn=st<4?0:st-2>>1;sn>0&&(Ne(Re,Ue,He-mt-ae[st]),Ue+=sn);for(var _a=0;_a<Yt;++_a)at[xt]=He&32767,xt=(xt<<5^We[He])&32767,++He;ot-=Yt-1}else st<=143?st=st+48:Ue=ye(Re,Ue,1),Ue=Ie(Re,Ue,_e[st]),at[xt]=He&32767,++He}Ue=Ie(Re,Ue,0)-1}return Re.l=(Ue+7)/8|0,Re.l}return function(Re,Ue){return Re.length<8?be(Re,Ue):Le(Re,Ue)}}();function ft(ee){var ve=Ye(50+Math.floor(ee.length*1.1)),fe=kt(ee,ve);return ve.slice(0,fe)}var it=ne?new Uint16Array(32768):Xe(32768),Fr=ne?new Uint16Array(32768):Xe(32768),Dt=ne?new Uint16Array(128):Xe(128),sa=1,Nr=1;function vn(ee,ve){var fe=re(ee,ve)+257;ve+=5;var he=re(ee,ve)+1;ve+=5;var ge=pe(ee,ve)+4;ve+=4;for(var be=0,Le=ne?new Uint8Array(19):Xe(19),We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,Ue=ne?new Uint8Array(8):Xe(8),He=ne?new Uint8Array(8):Xe(8),at=Le.length,ot=0;ot<ge;++ot)Le[z[ot]]=be=Ae(ee,ve),Re<be&&(Re=be),Ue[be]++,ve+=3;var xt=0;for(Ue[0]=0,ot=1;ot<=Re;++ot)He[ot]=xt=xt+Ue[ot-1]<<1;for(ot=0;ot<at;++ot)(xt=Le[ot])!=0&&(We[ot]=He[xt]++);var st=0;for(ot=0;ot<at;++ot)if(st=Le[ot],st!=0){xt=_e[We[ot]]>>8-st;for(var mt=(1<<7-st)-1;mt>=0;--mt)Dt[xt|mt<<st]=st&7|ot<<3}var Yt=[];for(Re=1;Yt.length<fe+he;)switch(xt=Dt[Oe(ee,ve)],ve+=xt&7,xt>>>=3){case 16:for(be=3+Me(ee,ve),ve+=2,xt=Yt[Yt.length-1];be-- >0;)Yt.push(xt);break;case 17:for(be=3+Ae(ee,ve),ve+=3;be-- >0;)Yt.push(0);break;case 18:for(be=11+Oe(ee,ve),ve+=7;be-- >0;)Yt.push(0);break;default:Yt.push(xt),Re<xt&&(Re=xt);break}var zr=Yt.slice(0,fe),sn=Yt.slice(fe);for(ot=fe;ot<286;++ot)zr[ot]=0;for(ot=he;ot<30;++ot)sn[ot]=0;return sa=tt(zr,it,286),Nr=tt(sn,Fr,30),ve}function fo(ee,ve){if(ee[0]==3&&!(ee[1]&3))return[_d(ve),2];for(var fe=0,he=0,ge=OO(ve||1<<18),be=0,Le=ge.length>>>0,We=0,Re=0;!(he&1);){if(he=Ae(ee,fe),fe+=3,he>>>1)he>>1==1?(We=9,Re=5):(fe=vn(ee,fe),We=sa,Re=Nr);else{fe&7&&(fe+=8-(fe&7));var Ue=ee[fe>>>3]|ee[(fe>>>3)+1]<<8;if(fe+=32,Ue>0)for(!ve&&Le<be+Ue&&(ge=Pe(ge,be+Ue),Le=ge.length);Ue-- >0;)ge[be++]=ee[fe>>>3],fe+=8;continue}for(;;){!ve&&Le<be+32767&&(ge=Pe(ge,be+32767),Le=ge.length);var He=oe(ee,fe,We),at=he>>>1==1?gt[He]:it[He];if(fe+=at&15,at>>>=4,!(at>>>8&255))ge[be++]=at;else{if(at==256)break;at-=257;var ot=at<8?0:at-4>>2;ot>5&&(ot=0);var xt=be+Y[at];ot>0&&(xt+=oe(ee,fe,ot),fe+=ot),He=oe(ee,fe,Re),at=he>>>1==1?Nt[He]:Fr[He],fe+=at&15,at>>>=4;var st=at<4?0:at-2>>1,mt=ae[at];for(st>0&&(mt+=oe(ee,fe,st),fe+=st),!ve&&Le<xt&&(ge=Pe(ge,xt+100),Le=ge.length);be<xt;)ge[be]=ge[be-mt],++be}}}return ve?[ge,fe+7>>>3]:[ge.slice(0,be),fe+7>>>3]}function jr(ee,ve){var fe=ee.slice(ee.l||0),he=fo(fe,ve);return ee.l+=he[1],he[0]}function Tl(ee,ve){if(ee)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function En(ee,ve){var fe=ee;Ni(fe,0);var he=[],ge=[],be={FileIndex:he,FullPaths:ge};j(be,{root:ve.root});for(var Le=fe.length-4;(fe[Le]!=80||fe[Le+1]!=75||fe[Le+2]!=5||fe[Le+3]!=6)&&Le>=0;)--Le;fe.l=Le+4,fe.l+=4;var We=fe.read_shift(2);fe.l+=6;var Re=fe.read_shift(4);for(fe.l=Re,Le=0;Le<We;++Le){fe.l+=20;var Ue=fe.read_shift(4),He=fe.read_shift(4),at=fe.read_shift(2),ot=fe.read_shift(2),xt=fe.read_shift(2);fe.l+=8;var st=fe.read_shift(4),mt=l(fe.slice(fe.l+at,fe.l+at+ot));fe.l+=at+ot+xt;var Yt=fe.l;fe.l=st+4,Ls(fe,Ue,He,be,mt),fe.l=Yt}return be}function Ls(ee,ve,fe,he,ge){ee.l+=2;var be=ee.read_shift(2),Le=ee.read_shift(2),We=o(ee);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var Re=ee.read_shift(4),Ue=ee.read_shift(4),He=ee.read_shift(4),at=ee.read_shift(2),ot=ee.read_shift(2),xt="",st=0;st<at;++st)xt+=String.fromCharCode(ee[ee.l++]);if(ot){var mt=l(ee.slice(ee.l,ee.l+ot));(mt[21589]||{}).mt&&(We=mt[21589].mt),((ge||{})[21589]||{}).mt&&(We=ge[21589].mt)}ee.l+=ot;var Yt=ee.slice(ee.l,ee.l+Ue);switch(Le){case 8:Yt=P(ee,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Le)}var zr=!1;be&8&&(Re=ee.read_shift(4),Re==134695760&&(Re=ee.read_shift(4),zr=!0),Ue=ee.read_shift(4),He=ee.read_shift(4)),Ue!=ve&&Tl(zr,"Bad compressed size: "+ve+" != "+Ue),He!=fe&&Tl(zr,"Bad uncompressed size: "+fe+" != "+He),bs(he,xt,Yt,{unsafe:!0,mt:We})}function Zo(ee,ve){var fe=ve||{},he=[],ge=[],be=Ye(1),Le=fe.compression?8:0,We=0,Re=0,Ue=0,He=0,at=0,ot=ee.FullPaths[0],xt=ot,st=ee.FileIndex[0],mt=[],Yt=0;for(Re=1;Re<ee.FullPaths.length;++Re)if(xt=ee.FullPaths[Re].slice(ot.length),st=ee.FileIndex[Re],!(!st.size||!st.content||xt=="Sh33tJ5")){var zr=He,sn=Ye(xt.length);for(Ue=0;Ue<xt.length;++Ue)sn.write_shift(1,xt.charCodeAt(Ue)&127);sn=sn.slice(0,sn.l),mt[at]=k5e.buf(st.content,0);var _a=st.content;Le==8&&(_a=M(_a)),be=Ye(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,We),be.write_shift(2,Le),st.mt?i(be,st.mt):be.write_shift(4,0),be.write_shift(-4,mt[at]),be.write_shift(4,_a.length),be.write_shift(4,st.content.length),be.write_shift(2,sn.length),be.write_shift(2,0),He+=be.length,he.push(be),He+=sn.length,he.push(sn),He+=_a.length,he.push(_a),be=Ye(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,We),be.write_shift(2,Le),be.write_shift(4,0),be.write_shift(-4,mt[at]),be.write_shift(4,_a.length),be.write_shift(4,st.content.length),be.write_shift(2,sn.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,zr),Yt+=be.l,ge.push(be),Yt+=sn.length,ge.push(sn),++at}return be=Ye(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,at),be.write_shift(2,at),be.write_shift(4,Yt),be.write_shift(4,He),be.write_shift(2,0),di([di(he),di(ge),be])}var fn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Qt(ee,ve){if(ee.ctype)return ee.ctype;var fe=ee.name||"",he=fe.match(/\.([^\.]+)$/);return he&&fn[he[1]]||ve&&(he=(fe=ve).match(/[\.\\]([^\.\\])+$/),he&&fn[he[1]])?fn[he[1]]:"application/octet-stream"}function Or(ee){for(var ve=L1(ee),fe=[],he=0;he<ve.length;he+=76)fe.push(ve.slice(he,he+76));return fe.join(`\r
`)+`\r
`}function Nc(ee){var ve=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var He=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fe=[],he=ve.split(`\r
`),ge=0;ge<he.length;++ge){var be=he[ge];if(be.length==0){fe.push("");continue}for(var Le=0;Le<be.length;){var We=76,Re=be.slice(Le,Le+We);Re.charAt(We-1)=="="?We--:Re.charAt(We-2)=="="?We-=2:Re.charAt(We-3)=="="&&(We-=3),Re=be.slice(Le,Le+We),Le+=We,Le<be.length&&(Re+="="),fe.push(Re)}}return fe.join(`\r
`)}function Ia(ee){for(var ve=[],fe=0;fe<ee.length;++fe){for(var he=ee[fe];fe<=ee.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ee[++fe];ve.push(he)}for(var ge=0;ge<ve.length;++ge)ve[ge]=ve[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return Zs(ve.join(`\r
`))}function ho(ee,ve,fe){for(var he="",ge="",be="",Le,We=0;We<10;++We){var Re=ve[We];if(!Re||Re.match(/^\s*$/))break;var Ue=Re.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":he=Ue[2].trim();break;case"content-type":be=Ue[2].trim();break;case"content-transfer-encoding":ge=Ue[2].trim();break}}switch(++We,ge.toLowerCase()){case"base64":Le=Zs(lo(ve.slice(We).join("")));break;case"quoted-printable":Le=Ia(ve.slice(We));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var He=bs(ee,he.slice(fe.length),Le,{unsafe:!0});be&&(He.ctype=be)}function po(ee,ve){if(q(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fe=ve&&ve.root||"",he=(cr&&Buffer.isBuffer(ee)?ee.toString("binary"):q(ee)).split(`\r
`),ge=0,be="";for(ge=0;ge<he.length;++ge)if(be=he[ge],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),fe||(fe=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,fe.length)!=fe))for(;fe.length>0&&(fe=fe.slice(0,fe.length-1),fe=fe.slice(0,fe.lastIndexOf("/")+1),be.slice(0,fe.length)!=fe););var Le=(he[1]||"").match(/boundary="(.*?)"/);if(!Le)throw new Error("MAD cannot find boundary");var We="--"+(Le[1]||""),Re=[],Ue=[],He={FileIndex:Re,FullPaths:Ue};j(He);var at,ot=0;for(ge=0;ge<he.length;++ge){var xt=he[ge];xt!==We&&xt!==We+"--"||(ot++&&ho(He,he.slice(at,ge),fe),at=ge)}return He}function Bt(ee,ve){var fe=ve||{},he=fe.boundary||"SheetJS";he="------="+he;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],be=ee.FullPaths[0],Le=be,We=ee.FileIndex[0],Re=1;Re<ee.FullPaths.length;++Re)if(Le=ee.FullPaths[Re].slice(be.length),We=ee.FileIndex[Re],!(!We.size||!We.content||Le=="Sh33tJ5")){Le=Le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yt){return"_x"+Yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yt){return"_u"+Yt.charCodeAt(0).toString(16)+"_"});for(var Ue=We.content,He=cr&&Buffer.isBuffer(Ue)?Ue.toString("binary"):q(Ue),at=0,ot=Math.min(1024,He.length),xt=0,st=0;st<=ot;++st)(xt=He.charCodeAt(st))>=32&&xt<128&&++at;var mt=at>=ot*4/5;ge.push(he),ge.push("Content-Location: "+(fe.root||"file:///C:/SheetJS/")+Le),ge.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),ge.push("Content-Type: "+Qt(We,Le)),ge.push(""),ge.push(mt?Nc(He):Or(He))}return ge.push(he+`--\r
`),ge.join(`\r
`)}function Bs(ee){var ve={};return j(ve,ee),ve}function bs(ee,ve,fe,he){var ge=he&&he.unsafe;ge||j(ee);var be=!ge&&Ft.find(ee,ve);if(!be){var Le=ee.FullPaths[0];ve.slice(0,Le.length)==Le?Le=ve:(Le.slice(-1)!="/"&&(Le+="/"),Le=(Le+ve).replace("//","/")),be={name:a(ve),type:2},ee.FileIndex.push(be),ee.FullPaths.push(Le),ge||Ft.utils.cfb_gc(ee)}return be.content=fe,be.size=fe?fe.length:0,he&&(he.CLSID&&(be.clsid=he.CLSID),he.mt&&(be.mt=he.mt),he.ct&&(be.ct=he.ct)),be}function Ei(ee,ve){j(ee);var fe=Ft.find(ee,ve);if(fe){for(var he=0;he<ee.FileIndex.length;++he)if(ee.FileIndex[he]==fe)return ee.FileIndex.splice(he,1),ee.FullPaths.splice(he,1),!0}return!1}function oa(ee,ve,fe){j(ee);var he=Ft.find(ee,ve);if(he){for(var ge=0;ge<ee.FileIndex.length;++ge)if(ee.FileIndex[ge]==he)return ee.FileIndex[ge].name=a(fe),ee.FullPaths[ge]=fe,!0}return!1}function Gn(ee){T(ee,!0)}return t.find=O,t.read=S,t.parse=d,t.write=le,t.writeFile=X,t.utils={cfb_new:Bs,cfb_add:bs,cfb_del:Ei,cfb_mov:oa,cfb_gc:Gn,ReadShift:Lx,CheckField:z9,prep_blob:Ni,bconcat:di,use_zlib:I,_deflateRaw:ft,_inflateRaw:jr,consts:W},t}();function T5e(e){return typeof e=="string"?c5(e):Array.isArray(e)?r5e(e):e}function Ng(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=c5(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Zl(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([T5e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Md(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function O5e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function aa(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function BO(e,t){for(var r=[],n=aa(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function d5(e){for(var t=[],r=aa(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function f5(e){for(var t=[],r=aa(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function P5e(e){for(var t=[],r=aa(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var jy=new Date(1899,11,30,0,0,0);function Ja(e,t){var r=e.getTime(),n=jy.getTime()+(e.getTimezoneOffset()-jy.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var y9=new Date,D5e=jy.getTime()+(y9.getTimezoneOffset()-jy.getTimezoneOffset())*6e4,$O=y9.getTimezoneOffset();function h5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+D5e),t.getTimezoneOffset()!==$O&&t.setTime(t.getTime()+(t.getTimezoneOffset()-$O)*6e4),t}function I5e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var zO=new Date("2017-02-19T19:06:09.000Z"),w9=isNaN(zO.getFullYear())?new Date("2/19/17"):zO,M5e=w9.getFullYear()==2017;function Fn(e,t){var r=new Date(e);if(M5e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(w9.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function J0(e,t){if(cr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Zl(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Zl(l9(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Zl(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Zl(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Rn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Rn(e[r]));return t}function ea(e,t){for(var r="";r.length<t;)r+=e;return r}function _l(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var F5e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Tp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&F5e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var R5e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}}();function _9(e){return e?e.content&&e.type?J0(e.content,!0):e.data?yx(e.data):e.asNodeBuffer&&cr?yx(e.asNodeBuffer().toString("binary")):e.asBinary?yx(e.asBinary()):e._data&&e._data.getContent?yx(J0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function N9(e){if(!e)return null;if(e.data)return kO(e.data);if(e.asNodeBuffer&&cr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?kO(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function L5e(e){return e&&e.name.slice(-4)===".bin"?N9(e):_9(e)}function To(e,t){for(var r=e.FullPaths||aa(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function YA(e,t){var r=To(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ka(e,t,r){if(!r)return L5e(YA(e,t));if(!t)return null;try{return ka(e,t)}catch{return null}}function eo(e,t,r){if(!r)return _9(YA(e,t));if(!t)return null;try{return eo(e,t)}catch{return null}}function B5e(e,t,r){return N9(YA(e,t))}function UO(e){for(var t=e.FullPaths||aa(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function sr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return cr?n=xu(r):n=n5e(r),Ft.utils.cfb_add(e,t,n)}Ft.utils.cfb_add(e,t,r)}else e.file(t,r)}function XA(){return Ft.utils.cfb_new()}function j9(e,t){switch(t.type){case"base64":return Ft.read(e,{type:"base64"});case"binary":return Ft.read(e,{type:"binary"});case"buffer":case"array":return Ft.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function _x(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var wa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,$5e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,HO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,z5e=/<[^>]*>/g,Ki=wa.match(HO)?HO:z5e,U5e=/<\w*:/,H5e=/<(\/?)\w+:/;function Gt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match($5e),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function vc(e){return e.replace(H5e,"<$1")}var S9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},KA=d5(S9),kr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return S9[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}}(),QA=/[&<>'"]/g,W5e=/[\u0000-\u0008\u000b-\u001f]/g;function en(e){var t=e+"";return t.replace(QA,function(r){return KA[r]}).replace(W5e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function WO(e){return en(e).replace(/ /g,"_x0020_")}var A9=/[\u0000-\u001f]/g;function JA(e){var t=e+"";return t.replace(QA,function(r){return KA[r]}).replace(/\n/g,"<br/>").replace(A9,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function V5e(e){var t=e+"";return t.replace(QA,function(r){return KA[r]}).replace(A9,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var VO=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function q5e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function In(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function f4(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function qO(e){var t=_d(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function GO(e){return xu(e,"binary").toString("utf8")}var r2="foo bar bazâð£",un=cr&&(GO(r2)==f4(r2)&&GO||qO(r2)==f4(r2)&&qO)||f4,Zl=cr?function(e){return xu(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},$1=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),C9=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),G5e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Y5e=/<\/?(?:vt:)?variant>/g,X5e=/<(?:vt:)([^>]*)>([\s\S]*)</;function YO(e,t){var r=Gt(e),n=e.match(G5e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(Y5e,"").match(X5e);o&&a.push({v:un(o[2]),t:o[1]})}),a}var E9=/(^\s|\s$|\n)/;function Si(e,t){return"<"+e+(t.match(E9)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function z1(e){return aa(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function lt(e,t,r){return"<"+e+(r!=null?z1(r):"")+(t!=null?(t.match(E9)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function hj(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function K5e(e,t){switch(typeof e){case"string":var r=lt("vt:lpwstr",en(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return lt((e|0)==e?"vt:i4":"vt:r8",en(String(e)));case"boolean":return lt("vt:bool",e?"true":"false")}if(e instanceof Date)return lt("vt:filetime",hj(e));throw new Error("Unable to serialize "+e)}function ZA(e){if(cr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return un(Md(VA(e)));throw new Error("Bad input format: expected Buffer or string")}var U1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Wa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},wf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ks={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Q5e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function J5e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var XO=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},KO=cr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:xu(t)})):XO(e)}:XO,QO=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Vc(e,a)));return n.join("").replace(gs,"")},eC=cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(gs,""):QO(e,t,r)}:QO,JO=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},k9=cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):JO(e,t,r)}:JO,ZO=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Sh(e,a)));return n.join("")},jg=cr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):ZO(t,r,n)}:ZO,T9=function(e,t){var r=Qs(e,t);return r>0?jg(e,t+4,t+4+r-1):""},O9=T9,P9=function(e,t){var r=Qs(e,t);return r>0?jg(e,t+4,t+4+r-1):""},D9=P9,I9=function(e,t){var r=2*Qs(e,t);return r>0?jg(e,t+4,t+4+r-1):""},M9=I9,F9=function(t,r){var n=Qs(t,r);return n>0?eC(t,r+4,r+4+n):""},R9=F9,L9=function(e,t){var r=Qs(e,t);return r>0?jg(e,t+4,t+4+r):""},B9=L9,$9=function(e,t){return Q5e(e,t)},Sy=$9,tC=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};cr&&(O9=function(t,r){if(!Buffer.isBuffer(t))return T9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},D9=function(t,r){if(!Buffer.isBuffer(t))return P9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},M9=function(t,r){if(!Buffer.isBuffer(t))return I9(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},R9=function(t,r){if(!Buffer.isBuffer(t))return F9(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},B9=function(t,r){if(!Buffer.isBuffer(t))return L9(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Sy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):$9(t,r)},tC=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Sh=function(e,t){return e[t]},Vc=function(e,t){return e[t+1]*256+e[t]},Z5e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Qs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},f0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},e_e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Lx(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,cr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Vc(this,u)),u+=2;e*=2;break;case"utf8":r=jg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=eC(this,this.l,this.l+e);break;case"wstr":return Lx.call(this,e,"dbcs");case"lpstr-ansi":r=O9(this,this.l),e=4+Qs(this,this.l);break;case"lpstr-cp":r=D9(this,this.l),e=4+Qs(this,this.l);break;case"lpwstr":r=M9(this,this.l),e=4+2*Qs(this,this.l);break;case"lpp4":e=4+Qs(this,this.l),r=R9(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Qs(this,this.l),r=B9(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Sh(this,this.l+e++))!==0;)i.push(t2(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Vc(this,this.l+e))!==0;)i.push(t2(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Sh(this,u),this.l=u+1,l=Lx.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(t2(Vc(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Sh(this,u),this.l=u+1,l=Lx.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(t2(Sh(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Sh(this,this.l),this.l++,n;case 2:return n=(t==="i"?Z5e:Vc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?f0:e_e)(this,this.l),this.l+=4,n):(a=Qs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Sy(this,this.l):a=Sy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=k9(this,this.l,e);break}}return this.l+=e,r}var t_e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},r_e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},n_e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function a_e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)n_e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,t_e(this,t,this.l);break;case 8:if(n=8,r==="f"){J5e(this,t,this.l);break}case 16:break;case-4:n=4,r_e(this,t,this.l);break}return this.l+=n,this}function z9(e,t){var r=k9(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ni(e,t){e.l=t,e.read_shift=Lx,e.chk=z9,e.write_shift=a_e}function Xi(e,t){e.l+=t}function Ye(e){var t=_d(e);return Ni(t,0),t}function gu(e,t,r){if(e){var n,a,i;Ni(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=Y1[l]||Y1[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function Ps(){var e=[],t=cr?256:2048,r=function(u){var d=Ye(u);return Ni(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),di(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function et(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Y1[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&tC(r)&&e.push(r)}}function Bx(e,t,r){var n=Rn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function eP(e,t,r){var n=Rn(e);return n.s=Bx(n.s,t.s,r),n.e=Bx(n.e,t.s,r),n}function $x(e,t){if(e.cRel&&e.c<0)for(e=Rn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Rn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=qt(e);return!e.cRel&&e.cRel!=null&&(r=o_e(r)),!e.rRel&&e.rRel!=null&&(r=i_e(r)),r}function h4(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Vn(e.s.c)+":"+(e.e.cRel?"":"$")+Vn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ba(e.s.r)+":"+(e.e.rRel?"":"$")+ba(e.e.r):$x(e.s,t.biff)+":"+$x(e.e,t.biff)}function rC(e){return parseInt(s_e(e),10)-1}function ba(e){return""+(e+1)}function i_e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function s_e(e){return e.replace(/\$(\d+)$/,"$1")}function nC(e){for(var t=l_e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Vn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function o_e(e){return e.replace(/^([A-Z])/,"$$$1")}function l_e(e){return e.replace(/^\$([A-Z])/,"$1")}function c_e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function qt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ds(e){var t=e.indexOf(":");return t==-1?{s:qn(e),e:qn(e)}:{s:qn(e.slice(0,t)),e:qn(e.slice(t+1))}}function ir(e,t){return typeof t>"u"||typeof t=="number"?ir(e.s,e.e):(typeof e!="string"&&(e=qt(e)),typeof t!="string"&&(t=qt(t)),e==t?e:e+":"+t)}function Tr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function tP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=qo(e.z,r?Ja(t):t)}catch{}try{return e.w=qo((e.XF||{}).numFmtId||(r?14:0),r?Ja(t):t)}catch{return""+t}}function du(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?vu[e.v]||e.v:t==null?tP(e,e.v):tP(e,t))}function Fd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function U9(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?qn(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Tr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=o+f,x=l+h;if(u.s.r>m&&(u.s.r=m),u.s.c>x&&(u.s.c=x),u.e.r<m&&(u.e.r=m),u.e.c<x&&(u.e.c=x),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Wt[14],n.cellDates?(p.t="d",p.w=qo(p.z,Ja(p.v))):(p.t="n",p.v=Ja(p.v),p.w=qo(p.z,p.v))):p.t="s";if(a)i[m]||(i[m]=[]),i[m][x]&&i[m][x].z&&(p.z=i[m][x].z),i[m][x]=p;else{var g=qt({c:x,r:m});i[g]&&i[g].z&&(p.z=i[g].z),i[g]=p}}}return u.s.c<1e7&&(i["!ref"]=ir(u)),i}function cm(e,t){return U9(null,e,t)}function u_e(e){return e.read_shift(4,"i")}function Nl(e,t){return t||(t=Ye(4)),t.write_shift(4,e),t}function Yi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function fi(e,t){var r=!1;return t==null&&(r=!0,t=Ye(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function d_e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function f_e(e,t){return t||(t=Ye(4)),t.write_shift(2,0),t.write_shift(2,0),t}function aC(e,t){var r=e.l,n=e.read_shift(1),a=Yi(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(d_e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function h_e(e,t){var r=!1;return t==null&&(r=!0,t=Ye(15+4*e.t.length)),t.write_shift(1,0),fi(e.t,t),r?t.slice(0,t.l):t}var p_e=aC;function m_e(e,t){var r=!1;return t==null&&(r=!0,t=Ye(23+4*e.t.length)),t.write_shift(1,1),fi(e.t,t),t.write_shift(4,1),f_e({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Qo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function _f(e,t){return t==null&&(t=Ye(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Nf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function jf(e,t){return t==null&&(t=Ye(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var x_e=Yi,H9=fi;function iC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Ay(e,t){var r=!1;return t==null&&(r=!0,t=Ye(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var g_e=Yi,pj=iC,sC=Ay;function oC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Sy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):f0(t,0)>>2;return r?a/100:a}function W9(e,t){t==null&&(t=Ye(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function V9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function v_e(e,t){return t||(t=Ye(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Sf=V9,um=v_e;function Wi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Z0(e,t){return(t||Ye(8)).write_shift(8,e,"f")}function b_e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=T0[a];u&&(t.rgb=W1(u));break;case 2:t.rgb=W1([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Cy(e,t){if(t||(t=Ye(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function y_e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function w_e(e,t){t||(t=Ye(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function q9(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function __e(e){return q9(e,1)}function N_e(e){return q9(e,2)}var lC=2,Cs=3,n2=11,rP=12,Ey=19,a2=64,j_e=65,S_e=71,A_e=4108,C_e=4126,ci=80,G9=81,E_e=[ci,G9],mj={1:{n:"CodePage",t:lC},2:{n:"Category",t:ci},3:{n:"PresentationFormat",t:ci},4:{n:"ByteCount",t:Cs},5:{n:"LineCount",t:Cs},6:{n:"ParagraphCount",t:Cs},7:{n:"SlideCount",t:Cs},8:{n:"NoteCount",t:Cs},9:{n:"HiddenCount",t:Cs},10:{n:"MultimediaClipCount",t:Cs},11:{n:"ScaleCrop",t:n2},12:{n:"HeadingPairs",t:A_e},13:{n:"TitlesOfParts",t:C_e},14:{n:"Manager",t:ci},15:{n:"Company",t:ci},16:{n:"LinksUpToDate",t:n2},17:{n:"CharacterCount",t:Cs},19:{n:"SharedDoc",t:n2},22:{n:"HyperlinksChanged",t:n2},23:{n:"AppVersion",t:Cs,p:"version"},24:{n:"DigSig",t:j_e},26:{n:"ContentType",t:ci},27:{n:"ContentStatus",t:ci},28:{n:"Language",t:ci},29:{n:"Version",t:ci},255:{},2147483648:{n:"Locale",t:Ey},2147483651:{n:"Behavior",t:Ey},1919054434:{}},xj={1:{n:"CodePage",t:lC},2:{n:"Title",t:ci},3:{n:"Subject",t:ci},4:{n:"Author",t:ci},5:{n:"Keywords",t:ci},6:{n:"Comments",t:ci},7:{n:"Template",t:ci},8:{n:"LastAuthor",t:ci},9:{n:"RevNumber",t:ci},10:{n:"EditTime",t:a2},11:{n:"LastPrinted",t:a2},12:{n:"CreatedDate",t:a2},13:{n:"ModifiedDate",t:a2},14:{n:"PageCount",t:Cs},15:{n:"WordCount",t:Cs},16:{n:"CharCount",t:Cs},17:{n:"Thumbnail",t:S_e},18:{n:"Application",t:ci},19:{n:"DocSecurity",t:Cs},255:{},2147483648:{n:"Locale",t:Ey},2147483651:{n:"Behavior",t:Ey},1919054434:{}},nP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},k_e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function T_e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var O_e=T_e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),T0=Rn(O_e),vu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Y9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},gj={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},i2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function cC(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function P_e(e){var t=cC();if(!e||!e.match)return t;var r={};if((e.match(Ki)||[]).forEach(function(n){var a=Gt(n);switch(a[0].replace(U5e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[gj[a.ContentType]]!==void 0&&t[gj[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Wa.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function X9(e,t){var r=P5e(gj),n=[],a;n[n.length]=wa,n[n.length]=lt("Types",null,{xmlns:Wa.CT,"xmlns:xsd":Wa.xsd,"xmlns:xsi":Wa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return lt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=lt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:i2[c][t.bookType]||i2[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=lt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:i2[c][t.bookType]||i2[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=lt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var fr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function H1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function zx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ki)||[]).forEach(function(a){var i=Gt(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:_x(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function Gh(e){var t=[wa,lt("Relationships",null,{xmlns:Wa.RELS})];return aa(e["!id"]).forEach(function(r){t[t.length]=lt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Jr(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[fr.HLINK,fr.XPATH,fr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var D_e="application/vnd.oasis.opendocument.spreadsheet";function I_e(e,t){for(var r=ZA(e),n,a;n=U1.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Gt(n[0],!1),a.path=="/"&&a.type!==D_e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function M_e(e){var t=[wa];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function aP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function F_e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function R_e(e){var t=[wa];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(aP(e[r][0],e[r][1])),t.push(F_e("",e[r][0]));return t.push(aP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function K9(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+yy.version+"</meta:generator></office:meta></office:document-meta>"}var zo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],L_e=function(){for(var e=new Array(zo.length),t=0;t<zo.length;++t){var r=zo[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Q9(e){var t={};e=un(e);for(var r=0;r<zo.length;++r){var n=zo[r],a=e.match(L_e[r]);a!=null&&a.length>0&&(t[n[1]]=kr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Fn(t[n[1]]))}return t}function p4(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=en(t),n[n.length]=r?lt(e,t,r):Si(e,t))}function J9(e,t){var r=t||{},n=[wa,lt("cp:coreProperties",null,{"xmlns:cp":Wa.CORE_PROPS,"xmlns:dc":Wa.dc,"xmlns:dcterms":Wa.dcterms,"xmlns:dcmitype":Wa.dcmitype,"xmlns:xsi":Wa.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&p4("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:hj(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&p4("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:hj(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=zo.length;++i){var o=zo[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&p4(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var O0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Z9=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function eB(e,t,r,n){var a=[];if(typeof e=="string")a=YO(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?YO(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function B_e(e,t,r){var n={};return t||(t={}),e=un(e),O0.forEach(function(a){var i=(e.match($1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=kr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&eB(n.HeadingPairs,n.TitlesOfParts,t,r),t}function tB(e){var t=[],r=lt;return e||(e={}),e.Application="SheetJS",t[t.length]=wa,t[t.length]=lt("Properties",null,{xmlns:Wa.EXT_PROPS,"xmlns:vt":Wa.vt}),O0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=en(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+en(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var $_e=/<[^>]+>[^<]*/g;function z_e(e,t){var r={},n="",a=e.match($_e);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Gt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=kr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=kr(d);break;case"bool":r[n]=In(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Fn(d);break;case"cy":case"error":r[n]=kr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function rB(e){var t=[wa,lt("Properties",null,{xmlns:Wa.CUST_PROPS,"xmlns:vt":Wa.vt})];if(!e)return t.join("");var r=1;return aa(e).forEach(function(a){++r,t[t.length]=lt("property",K5e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:en(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var vj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},m4;function U_e(e,t,r){m4||(m4=d5(vj)),t=m4[t]||t,e[t]=r}function H_e(e,t){var r=[];return aa(vj).map(function(n){for(var a=0;a<zo.length;++a)if(zo[a][1]==n)return zo[a];for(a=0;a<O0.length;++a)if(O0[a][1]==n)return O0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Si(vj[n[1]]||n[1],a))}}),lt("DocumentProperties",r.join(""),{xmlns:Ks.o})}function W_e(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&aa(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<zo.length;++o)if(i==zo[o][1])return;for(o=0;o<O0.length;++o)if(i==O0[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(lt(WO(i),l,{"dt:dt":c}))}}),t&&aa(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(lt(WO(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ks.o+'">'+a.join("")+"</"+n+">"}function uC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function V_e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Ye(8);return o.write_shift(4,n),o.write_shift(4,a),o}function nB(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function aB(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function iB(e,t,r){return t===31?aB(e):nB(e,t,r)}function bj(e,t,r){return iB(e,t,r===!1?0:4)}function q_e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return iB(e,t,0)}function G_e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(gs,""),e.l-a&2&&(e.l+=2)}return r}function Y_e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(gs,"");return r}function X_e(e){var t=e.l,r=ky(e,G9);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ky(e,Cs);return[r,n]}function K_e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(X_e(e));return r}function iP(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(gs,"").replace(wx,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function sB(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Q_e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ky(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==rP&&n!==t&&E_e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===rP?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return nB(e,n,4).replace(gs,"");case 31:return aB(e);case 64:return uC(e);case 65:return sB(e);case 71:return Q_e(e);case 80:return bj(e,n,!i.raw).replace(gs,"");case 81:return q_e(e,n).replace(gs,"");case 4108:return K_e(e);case 4126:case 4127:return n==4127?G_e(e):Y_e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function sP(e,t){var r=Ye(4),n=Ye(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ye(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=V_e(t);break;case 31:case 80:for(n=Ye(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return di([r,n])}function oP(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(b,y){return b[1]-y[1]});var h={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var m=t[i[o][0]];if(h[m.n]=ky(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bl(l=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[o][0]===1){if(l=h.CodePage=ky(e,lC),bl(l),c!==-1){var x=e.l;e.l=i[c][1],u=iP(e,l),e.l=x}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=iP(e,l)}else{var g=u[i[o][0]],v;switch(e[e.l]){case 65:e.l+=4,v=sB(e);break;case 30:e.l+=4,v=bj(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=bj(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=fa(e,4);break;case 64:e.l+=4,v=Fn(uC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=v}}return e.l=r+n,h}var oB=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function J_e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function lP(e,t,r){var n=Ye(8),a=[],i=[],o=8,l=0,c=Ye(8),u=Ye(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=Ye(8),u.write_shift(4,0),a.unshift(u);var d=[Ye(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ye(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=di(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(oB.indexOf(e[l][0])>-1||Z9.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var m=r[p];if(m.p=="version"&&typeof h=="string"){var x=h.split(".");h=(+x[0]<<16)+(+x[1]||0)}c=sP(m.t,h)}else{var g=J_e(h);g==-1&&(g=31,h=String(h)),c=sP(g,h)}i.push(c),u=Ye(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var v=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,v),v+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),di([n].concat(a).concat(i))}function cP(e,t,r){var n=e.content;if(!n)return{};Ni(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Ft.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=oP(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var m;try{m=oP(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[i,o],h}function uP(e,t,r,n,a,i){var o=Ye(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ft.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=lP(e,r,n);if(l.push(c),a){var u=lP(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return di(l)}function Lu(e,t){return e.read_shift(t),null}function Z_e(e,t){t||(t=Ye(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function e4e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function fa(e,t){return e.read_shift(t)===1}function os(e,t){return t||(t=Ye(2)),t.write_shift(2,+!!e),t}function Ta(e){return e.read_shift(2,"u")}function Oo(e,t){return t||(t=Ye(2)),t.write_shift(2,e),t}function lB(e,t){return e4e(e,t,Ta)}function t4e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function cB(e,t,r){return r||(r=Ye(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Sg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function r4e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function n4e(e){var t=e.t||"",r=Ye(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ye(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return di(a)}function ef(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Ag(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):ef(e,n,r)}function Af(e,t,r){if(r.biff>5)return Ag(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function uB(e,t,r){return r||(r=Ye(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function a4e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function i4e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(gs,"");return n&&(e.l+=24),a}function s4e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(gs,"");return r+o}function o4e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return i4e(e);case"0303000000000000c000000000000046":return s4e(e);default:throw new Error("Unsupported Moniker "+r)}}function s2(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(gs,""):"";return r}function dP(e,t){t||(t=Ye(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function l4e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=s2(e,r-e.l)),a&128&&(o=s2(e,r-e.l)),(a&257)===257&&(l=s2(e,r-e.l)),(a&257)===1&&(c=o4e(e,r-e.l)),a&8&&(u=s2(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=uC(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function c4e(e){var t=Ye(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),dP(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&dP(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function dB(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function fB(e,t){var r=dB(e);return r[3]=0,r}function bc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function tf(e,t,r,n){return n||(n=Ye(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function u4e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function d4e(e,t,r){return t===0?"":Af(e,t,r)}function f4e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function hB(e){var t=e.read_shift(2),r=oC(e);return[t,r]}function h4e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Sg(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function p5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function pB(e,t){return t||(t=Ye(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function mB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var p4e=mB;function xB(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function m4e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function x4e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Pi(e){e.l+=2,e.l+=e.read_shift(2)}var g4e={0:Pi,4:Pi,5:Pi,6:Pi,7:x4e,8:Pi,9:Pi,10:Pi,11:Pi,12:Pi,13:m4e,14:Pi,15:Pi,16:Pi,17:Pi,18:Pi,19:Pi,20:Pi,21:xB};function v4e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(g4e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function o2(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function dC(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ye(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function b4e(e,t){return t===0||e.read_shift(2),1200}function y4e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Af(e,0,r);return e.read_shift(t+n-e.l),a}function w4e(e,t){var r=!t||t.biff==8,n=Ye(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function _4e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function N4e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Sg(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function j4e(e,t){var r=!t||t.biff>=8?2:1,n=Ye(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function S4e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(r4e(e));return i.Count=n,i.Unique=a,i}function A4e(e,t){var r=Ye(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=n4e(e[a]);var i=di([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function C4e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function E4e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function k4e(e){var t=u4e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function T4e(e){return e.read_shift(2),e.read_shift(4)}function fP(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function O4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function P4e(){var e=Ye(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function D4e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function I4e(e){var t=Ye(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function M4e(){}function F4e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Sg(e,0,r),n}function R4e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ye(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function L4e(e){var t=bc(e);return t.isst=e.read_shift(4),t}function B4e(e,t,r,n){var a=Ye(10);return tf(e,t,n,a),a.write_shift(4,r),a}function $4e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=bc(e);r.biff==2&&e.l++;var i=Ag(e,n-e.l,r);return a.val=i,a}function z4e(e,t,r,n,a){var i=!a||a.biff==8,o=Ye(8+ +i+(1+i)*r.length);return tf(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function U4e(e,t,r){var n=e.read_shift(2),a=Af(e,0,r);return[n,a]}function H4e(e,t,r,n){var a=r&&r.biff==5;n||(n=Ye(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var W4e=Af;function hP(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function V4e(e,t){var r=t.biff==8||!t.biff?4:2,n=Ye(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function q4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=hB(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function G4e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(hB(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function Y4e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function X4e(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=k_e[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function K4e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=X4e(e,t,n.fStyle,r),n}function pP(e,t,r,n){var a=r&&r.biff==5;n||(n=Ye(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Q4e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function J4e(e){var t=Ye(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function mP(e,t,r){var n=bc(e);(r.biff==2||t==9)&&++e.l;var a=t4e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Z4e(e,t,r,n,a,i){var o=Ye(8);return tf(e,t,n,o),cB(r,i,o),o}function eNe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=bc(e),a=Wi(e);return n.val=a,n}function tNe(e,t,r,n){var a=Ye(14);return tf(e,t,n,a),Z0(r,a),a}var xP=d4e;function rNe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=ef(e,i),l=[];n>e.l;)l.push(Ag(e));return[i,a,o,l]}function gP(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=h4e(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var nNe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vP(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=ef(e,o,r);a&32&&(u=nNe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:vAe(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function gB(e,t,r){if(r.biff<8)return aNe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(f4e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function aNe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Sg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function iNe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=ef(e,n,r),o=ef(e,a,r);return[i,o]}function sNe(e,t,r){var n=mB(e);e.l++;var a=e.read_shift(1);return t-=8,[bAe(e,t,r),a,n]}function bP(e,t,r){var n=p4e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,xAe(e,t,r)]}function oNe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function lNe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=Af(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function cNe(e,t,r){return lNe(e,t,r)}function uNe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(p5(e));return r}function dNe(e){var t=Ye(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)pB(e[r],t);return t}function fNe(e,t,r){if(r&&r.biff<8)return pNe(e,t,r);var n=xB(e),a=v4e(e,t-22,n[1]);return{cmo:n,ft:a}}var hNe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function pNe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((hNe[n]||Xi)(e,t,r)),{cmo:[a,n,i],ft:o}}function mNe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=a4e(e,6,r);var l=e.read_shift(2);e.read_shift(2),Ta(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=ef(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function xNe(e,t){var r=p5(e);e.l+=16;var n=l4e(e,t-24);return[r,n]}function gNe(e){var t=Ye(24),r=qn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return di([t,c4e(e[1])])}function vNe(e,t){e.read_shift(2);var r=p5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(gs,""),[r,n]}function bNe(e){var t=e[1].Tooltip,r=Ye(10+2*(t.length+1));r.write_shift(2,2048);var n=qn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function yNe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=nP[r]||r,r=e.read_shift(2),t[1]=nP[r]||r,t}function wNe(e){return e||(e=Ye(4)),e.write_shift(2,1),e.write_shift(2,1),e}function _Ne(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(fB(e));return r}function NNe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(fB(e));return r}function jNe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function vB(e,t,r){if(!r.cellStyles)return Xi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function SNe(e,t){var r=Ye(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function ANe(e,t){var r={};return t<32||(e.l+=16,r.header=Wi(e),r.footer=Wi(e),e.l+=2),r}function CNe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function ENe(e){for(var t=Ye(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var kNe=bc,TNe=lB,ONe=Ag;function PNe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function DNe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=bc(e);++e.l;var a=Af(e,t-7,r);return n.t="str",n.val=a,n}function INe(e){var t=bc(e);++e.l;var r=Wi(e);return t.t="n",t.val=r,t}function MNe(e,t,r){var n=Ye(15);return Tg(n,e,t),n.write_shift(8,r,"f"),n}function FNe(e){var t=bc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function RNe(e,t,r){var n=Ye(9);return Tg(n,e,t),n.write_shift(2,r),n}function LNe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function BNe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function $Ne(e,t,r){var n=e.l+t,a=bc(e),i=e.read_shift(2),o=ef(e,i,r);return e.l=n,a.t="str",a.val=o,a}var zNe=[2,3,48,49,131,139,140,245],yj=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=d5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=_d(1);switch(c.type){case"base64":d=Zs(lo(l));break;case"binary":d=Zs(l);break;case"buffer":case"array":d=l;break}Ni(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,g=521;f==2&&(x=d.read_shift(2)),d.l+=3,f!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(g=d.read_shift(2));var v=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var y=[],w={},N=Math.min(d.length,f==2?521:g-10-(p?264:0)),S=m?32:11;d.l<N&&d[d.l]!=13;)switch(w={},w.name=id.utils.decode(b,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!m&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&y.push(w),f!=2&&(d.l+=m?13:14),w.type){case"B":(!p||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var j=0,A=0;for(u[0]=[],A=0;A!=y.length;++A)u[0][A]=y[A].name;for(;x-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++j]=[],A=0,A=0;A!=y.length;++A){var T=d.slice(d.l,d.l+y[A].len);d.l+=y[A].len,Ni(T,0);var R=id.utils.decode(b,T);switch(y[A].type){case"C":R.trim().length&&(u[j][A]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[j][A]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[j][A]=R;break;case"F":u[j][A]=parseFloat(R.trim());break;case"+":case"I":u[j][A]=m?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[j][A]=!0;break;case"N":case"F":u[j][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][A]="##MEMO##"+(m?parseInt(R.trim(),10):T.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[j][A]=+R||0);break;case"@":u[j][A]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[j][A]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[j][A]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][A]=-T.read_shift(-8,"f");break;case"B":if(p&&y[A].len==8){u[j][A]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[A].len;break;case"0":if(y[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=cm(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Fd(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&bl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ps(),f=Py(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=l["!cols"]||[],x=0,g=0,v=0,b=1;for(x=0;x<h.length;++x){if(((m[x]||{}).DBF||{}).name){h[x]=m[x].DBF.name,++v;continue}if(h[x]!=null){if(++v,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(g=0;g<1024;++g)if(h.indexOf(h[x]+"_"+g)==-1){h[x]+="_"+g;break}}}}var y=Tr(l["!ref"]),w=[],N=[],S=[];for(x=0;x<=y.e.c-y.s.c;++x){var j="",A="",T=0,R=[];for(g=0;g<p.length;++g)p[g][x]!=null&&R.push(p[g][x]);if(R.length==0||h[x]==null){w[x]="?";continue}for(g=0;g<R.length;++g){switch(typeof R[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=R[g]instanceof Date?"D":"C";break;default:A="C"}T=Math.max(T,String(R[g]).length),j=j&&j!=A?"C":A}T>250&&(T=250),A=((m[x]||{}).DBF||{}).type,A=="C"&&m[x].DBF.len>T&&(T=m[x].DBF.len),j=="B"&&A=="N"&&(j="N",S[x]=m[x].DBF.dec,T=m[x].DBF.len),N[x]=j=="C"||A=="N"?T:i[j]||0,b+=N[x],w[x]=j}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*v),O.write_shift(2,b),x=0;x<4;++x)O.write_shift(4,0);for(O.write_shift(4,0|(+t[o9]||3)<<8),x=0,g=0;x<h.length;++x)if(h[x]!=null){var E=d.next(32),L=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,L,"sbcs"),E.write_shift(1,w[x]=="?"?"C":w[x],"sbcs"),E.write_shift(4,g),E.write_shift(1,N[x]||i[w[x]]||0),E.write_shift(1,S[x]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),g+=N[x]||i[w[x]]||0}var B=d.next(264);for(B.write_shift(4,13),x=0;x<65;++x)B.write_shift(4,0);for(x=0;x<p.length;++x){var G=d.next(b);for(G.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(w[g]){case"L":G.write_shift(1,p[x][g]==null?63:p[x][g]?84:70);break;case"B":G.write_shift(8,p[x][g]||0,"f");break;case"N":var U="0";for(typeof p[x][g]=="number"&&(U=p[x][g].toFixed(S[g]||0)),v=0;v<N[g]-U.length;++v)G.write_shift(1,32);G.write_shift(1,U,"sbcs");break;case"D":p[x][g]?(G.write_shift(4,("0000"+p[x][g].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(p[x][g].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+p[x][g].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var W=String(p[x][g]!=null?p[x][g]:"").slice(0,N[g]);for(G.write_shift(1,W,"sbcs"),v=0;v<N[g]-W.length;++v)G.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),bB=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+aa(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?TO(m):m},n=function(h,p,m){var x=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return x==59?h:TO(x)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(lo(h),p);case"binary":return i(h,p);case"buffer":return i(cr&&Buffer.isBuffer(h)?h.toString("binary"):Md(h),p);case"array":return i(J0(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var m=h.split(/[\n\r]+/),x=-1,g=-1,v=0,b=0,y=[],w=[],N=null,S={},j=[],A=[],T=[],R=0,O;for(+p.codepage>=0&&bl(+p.codepage);v!==m.length;++v){R=0;var E=m[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=E.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),B=L[0],G;if(E.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&w.push(E.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,W=!1,X=!1,q=!1,le=-1,se=-1;for(b=1;b<L.length;++b)switch(L[b].charAt(0)){case"A":break;case"X":g=parseInt(L[b].slice(1))-1,W=!0;break;case"Y":for(x=parseInt(L[b].slice(1))-1,W||(g=0),O=y.length;O<=x;++O)y[O]=[];break;case"K":G=L[b].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(_l(G))?isNaN(Tp(G).getDate())||(G=Fn(G)):(G=_l(G),N!==null&&om(N)&&(G=h5(G))),U=!0;break;case"E":q=!0;var I=Yh(L[b].slice(1),{r:x,c:g});y[x][g]=[y[x][g],I];break;case"S":X=!0,y[x][g]=[y[x][g],"S5S"];break;case"G":break;case"R":le=parseInt(L[b].slice(1))-1;break;case"C":se=parseInt(L[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}if(U&&(y[x][g]&&y[x][g].length==2?y[x][g][0]=G:y[x][g]=G,N=null),X){if(q)throw new Error("SYLK shared formula cannot have own formula");var P=le>-1&&y[le][se];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");y[x][g][1]=RB(P[1],{r:x-le,c:g-se})}break;case"F":var M=0;for(b=1;b<L.length;++b)switch(L[b].charAt(0)){case"X":g=parseInt(L[b].slice(1))-1,++M;break;case"Y":for(x=parseInt(L[b].slice(1))-1,O=y.length;O<=x;++O)y[O]=[];break;case"M":R=parseInt(L[b].slice(1))/20;break;case"F":break;case"G":break;case"P":N=w[parseInt(L[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=L[b].slice(1).split(" "),O=parseInt(T[0],10);O<=parseInt(T[1],10);++O)R=parseInt(T[2],10),A[O-1]=R===0?{hidden:!0}:{wch:R},Nd(A[O-1]);break;case"C":g=parseInt(L[b].slice(1))-1,A[g]||(A[g]={});break;case"R":x=parseInt(L[b].slice(1))-1,j[x]||(j[x]={}),R>0?(j[x].hpt=R,j[x].hpx=Pp(R)):R===0&&(j[x].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}M<1&&(N=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}}return j.length>0&&(S["!rows"]=j),A.length>0&&(S["!cols"]=A),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,S]}function o(h,p){var m=a(h,p),x=m[0],g=m[1],v=cm(x,p);return aa(g).forEach(function(b){v[b]=g[b]}),v}function l(h,p){return Fd(o(h,p),p)}function c(h,p,m,x){var g="C;Y"+(m+1)+";X"+(x+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+gC(h.f,{r:m,c:x}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,p){p.forEach(function(m,x){var g="F;W"+(x+1)+" "+(x+1)+" ";m.hidden?g+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=V1(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=q1(m.wpx)),typeof m.wch=="number"&&(g+=Math.round(m.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,p){p.forEach(function(m,x){var g="F;";m.hidden?g+="M0;":m.hpt?g+="M"+20*m.hpt+";":m.hpx&&(g+="M"+20*G1(m.hpx)+";"),g.length>2&&h.push(g+"R"+(x+1))})}function f(h,p){var m=["ID;PWXL;N;E"],x=[],g=Tr(h["!ref"]),v,b=Array.isArray(h),y=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&u(m,h["!cols"]),h["!rows"]&&d(m,h["!rows"]),m.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var w=g.s.r;w<=g.e.r;++w)for(var N=g.s.c;N<=g.e.c;++N){var S=qt({r:w,c:N});v=b?(h[w]||[])[N]:h[S],!(!v||v.v==null&&(!v.f||v.F))&&x.push(c(v,h,w,N))}return m.join(y)+y+x.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),yB=function(){function e(i,o){switch(o.type){case"base64":return t(lo(i),o);case"binary":return t(i,o);case"buffer":return t(cr&&Buffer.isBuffer(i)?i.toString("binary"):Md(i),o);case"array":return t(J0(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],m=h[1];++d;for(var x=l[d]||"";(x.match(/["]/g)||[]).length&1&&d<l.length-1;)x+=`
`+l[++d];switch(x=x.trim(),+p){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN(_l(m))?isNaN(Tp(m).getDate())?f[c][u]=m:f[c][u]=Fn(m):f[c][u]=_l(m),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return cm(e(i,o),o)}function n(i,o){return Fd(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Tr(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var x=qt({r:p,c:m});if(f=h?(c[p]||[])[m]:c[x],!f){o(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=qo(f.z||Wt[14],Ja(Fn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var v=`\r
`,b=u.join(v);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),wB=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,x=-1,g=0,v=[];g!==p.length;++g){var b=p[g].trim().split(":");if(b[0]==="cell"){var y=qn(b[1]);if(v.length<=y.r)for(m=v.length;m<=y.r;++m)v[m]||(v[m]=[]);switch(m=y.r,x=y.c,b[2]){case"t":v[m][x]=e(b[3]);break;case"v":v[m][x]=+b[3];break;case"vtf":var w=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[m][x]=!!+b[4];break;default:v[m][x]=+b[4];break}b[2]=="vtf"&&(v[m][x]=[v[m][x],w])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return cm(r(f,h),h)}function a(f,h){return Fd(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,x="",g=Ds(f["!ref"]),v=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var y=g.s.c;y<=g.e.c;++y)if(x=qt({r:b,c:y}),m=v?(f[b]||[])[y]:f[x],!(!m||m.v==null||m.t==="z")){switch(p=["cell",x,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var w=Ja(Fn(m.v));p[2]="vtc",p[3]="nd",p[4]=""+w,p[5]=m.w||qo(m.z||Wt[14],w);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Op=function(){function e(d,f,h,p,m){m.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(_l(d))?isNaN(Tp(d).getDate())?f[h][p]=d:f[h][p]=Fn(d):f[h][p]=_l(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),x=m.length-1;x>=0&&m[x].length===0;)--x;for(var g=10,v=0,b=0;b<=x;++b)v=m[b].indexOf(" "),v==-1?v=m[b].length:v++,g=Math.max(g,v);for(b=0;b<=x;++b){p[b]=[];var y=0;for(e(m[b].slice(0,g).trim(),p,b,y,h),y=1;y<=(m[b].length-g)/10+1;++y)e(m[b].slice(g+(y-1)*10,g+y*10).trim(),p,b,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(x,g){return x[0]-g[0]||n[x[1]]-n[g[1]]}),r[m.pop()[1]]||44}function i(d,f){var h=f||{},p="",m=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var g=0,v=0,b=0,y=0,w=0,N=p.charCodeAt(0),S=!1,j=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?C5e(h.dateNF):null;function R(){var O=d.slice(y,w),E={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)E.t="z";else if(h.raw)E.t="s",E.v=O;else if(O.trim().length===0)E.t="s",E.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(E.t="s",E.v=O.slice(2,-1).replace(/""/g,'"')):rSe(O)?(E.t="n",E.f=O.slice(1)):(E.t="s",E.v=O);else if(O=="TRUE")E.t="b",E.v=!0;else if(O=="FALSE")E.t="b",E.v=!1;else if(!isNaN(b=_l(O)))E.t="n",h.cellText!==!1&&(E.w=O),E.v=b;else if(!isNaN(Tp(O).getDate())||T&&O.match(T)){E.z=h.dateNF||Wt[14];var L=0;T&&O.match(T)&&(O=E5e(O,h.dateNF,O.match(T)||[]),L=1),h.cellDates?(E.t="d",E.v=Fn(O,L)):(E.t="n",E.v=Ja(Fn(O,L))),h.cellText!==!1&&(E.w=qo(E.z,E.v instanceof Date?Ja(E.v):E.v)),h.cellNF||delete E.z}else E.t="s",E.v=O;if(E.t=="z"||(h.dense?(m[g]||(m[g]=[]),m[g][v]=E):m[qt({c:v,r:g})]=E),y=w+1,A=d.charCodeAt(y),x.e.c<v&&(x.e.c=v),x.e.r<g&&(x.e.r=g),j==N)++v;else if(v=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;w<d.length;++w)switch(j=d.charCodeAt(w)){case 34:A===34&&(S=!S);break;case N:case 10:case 13:if(!S&&R())break e;break}return w-y>0&&R(),m["!ref"]=ir(x),m}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):cm(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:SC(d,f);switch(f.type){case"base64":h=lo(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof id<"u"?h=id.utils.decode(f.codepage,d):h=cr&&Buffer.isBuffer(d)?d.toString("binary"):Md(d);break;case"array":h=J0(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=un(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=un(h):f.type=="binary"&&typeof id<"u"&&f.codepage&&(h=id.utils.decode(f.codepage,id.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?wB.to_sheet(f.type=="string"?h:un(h),f):o(h,f)}function c(d,f){return Fd(l(d,f),f)}function u(d){for(var f=[],h=Tr(d["!ref"]),p,m=Array.isArray(d),x=h.s.r;x<=h.e.r;++x){for(var g=[],v=h.s.c;v<=h.e.c;++v){var b=qt({r:x,c:v});if(p=m?(d[x]||[])[v]:d[b],!p||p.v==null){g.push("          ");continue}for(var y=(p.w||(du(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(v===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function UNe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=bB.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Op.to_workbook(e,t)}}var P0=function(){function e(I,P,M){if(I){Ni(I,I.l||0);for(var z=M.Enum||le;I.l<I.length;){var Y=I.read_shift(2),ae=z[Y]||z[65535],ue=I.read_shift(2),ne=I.l+ue,_e=ae.f&&ae.f(I,ue,M);if(I.l=ne,P(_e,ae,Y))return}}}function t(I,P){switch(P.type){case"base64":return r(Zs(lo(I)),P);case"binary":return r(Zs(I),P);case"buffer":case"array":return r(I,P)}throw"Unsupported type "+P.type}function r(I,P){if(!I)return I;var M=P||{},z=M.dense?[]:{},Y="Sheet1",ae="",ue=0,ne={},_e=[],Ce=[],V={s:{r:0,c:0},e:{r:0,c:0}},Me=M.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)M.Enum=le,e(I,function(Oe,oe,de){switch(de){case 0:M.vers=Oe,Oe>=4096&&(M.qpro=!0);break;case 6:V=Oe;break;case 204:Oe&&(ae=Oe);break;case 222:ae=Oe;break;case 15:case 51:M.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:de==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=M.dateNF||Wt[14],M.cellDates&&(Oe[1].t="d",Oe[1].v=h5(Oe[1].v))),M.qpro&&Oe[3]>ue&&(z["!ref"]=ir(V),ne[Y]=z,_e.push(Y),z=M.dense?[]:{},V={s:{r:0,c:0},e:{r:0,c:0}},ue=Oe[3],Y=ae||"Sheet"+(ue+1),ae="");var ye=M.dense?(z[Oe[0].r]||[])[Oe[0].c]:z[qt(Oe[0])];if(ye){ye.t=Oe[1].t,ye.v=Oe[1].v,Oe[1].z!=null&&(ye.z=Oe[1].z),Oe[1].f!=null&&(ye.f=Oe[1].f);break}M.dense?(z[Oe[0].r]||(z[Oe[0].r]=[]),z[Oe[0].r][Oe[0].c]=Oe[1]):z[qt(Oe[0])]=Oe[1];break}},M);else if(I[2]==26||I[2]==14)M.Enum=se,I[2]==14&&(M.qpro=!0,I.l=0),e(I,function(Oe,oe,de){switch(de){case 204:Y=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>ue&&(z["!ref"]=ir(V),ne[Y]=z,_e.push(Y),z=M.dense?[]:{},V={s:{r:0,c:0},e:{r:0,c:0}},ue=Oe[3],Y="Sheet"+(ue+1)),Me>0&&Oe[0].r>=Me)break;M.dense?(z[Oe[0].r]||(z[Oe[0].r]=[]),z[Oe[0].r][Oe[0].c]=Oe[1]):z[qt(Oe[0])]=Oe[1],V.e.c<Oe[0].c&&(V.e.c=Oe[0].c),V.e.r<Oe[0].r&&(V.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(Ce[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:Ce[Oe[0]]=Oe[1],Oe[0]==ue&&(Y=Oe[1]);break}},M);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(z["!ref"]=ir(V),ne[ae||Y]=z,_e.push(ae||Y),!Ce.length)return{SheetNames:_e,Sheets:ne};for(var Ae={},pe=[],re=0;re<Ce.length;++re)ne[_e[re]]?(pe.push(Ce[re]||_e[re]),Ae[Ce[re]]=ne[Ce[re]]||ne[_e[re]]):(pe.push(Ce[re]),Ae[Ce[re]]={"!ref":"A1"});return{SheetNames:pe,Sheets:Ae}}function n(I,P){var M=P||{};if(+M.codepage>=0&&bl(+M.codepage),M.type=="string")throw new Error("Cannot write WK1 to JS string");var z=Ps(),Y=Tr(I["!ref"]),ae=Array.isArray(I),ue=[];ct(z,0,i(1030)),ct(z,6,c(Y));for(var ne=Math.min(Y.e.r,8191),_e=Y.s.r;_e<=ne;++_e)for(var Ce=ba(_e),V=Y.s.c;V<=Y.e.c;++V){_e===Y.s.r&&(ue[V]=Vn(V));var Me=ue[V]+Ce,Ae=ae?(I[_e]||[])[V]:I[Me];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")(Ae.v|0)==Ae.v&&Ae.v>=-32768&&Ae.v<=32767?ct(z,13,p(_e,V,Ae.v)):ct(z,14,x(_e,V,Ae.v));else{var pe=du(Ae);ct(z,15,f(_e,V,pe.slice(0,239)))}}return ct(z,1),z.end()}function a(I,P){var M=P||{};if(+M.codepage>=0&&bl(+M.codepage),M.type=="string")throw new Error("Cannot write WK3 to JS string");var z=Ps();ct(z,0,o(I));for(var Y=0,ae=0;Y<I.SheetNames.length;++Y)(I.Sheets[I.SheetNames[Y]]||{})["!ref"]&&ct(z,27,q(I.SheetNames[Y],ae++));var ue=0;for(Y=0;Y<I.SheetNames.length;++Y){var ne=I.Sheets[I.SheetNames[Y]];if(!(!ne||!ne["!ref"])){for(var _e=Tr(ne["!ref"]),Ce=Array.isArray(ne),V=[],Me=Math.min(_e.e.r,8191),Ae=_e.s.r;Ae<=Me;++Ae)for(var pe=ba(Ae),re=_e.s.c;re<=_e.e.c;++re){Ae===_e.s.r&&(V[re]=Vn(re));var Oe=V[re]+pe,oe=Ce?(ne[Ae]||[])[re]:ne[Oe];if(!(!oe||oe.t=="z"))if(oe.t=="n")ct(z,23,R(Ae,re,ue,oe.v));else{var de=du(oe);ct(z,22,j(Ae,re,ue,de.slice(0,239)))}}++ue}}return ct(z,1),z.end()}function i(I){var P=Ye(2);return P.write_shift(2,I),P}function o(I){var P=Ye(26);P.write_shift(2,4096),P.write_shift(2,4),P.write_shift(4,0);for(var M=0,z=0,Y=0,ae=0;ae<I.SheetNames.length;++ae){var ue=I.SheetNames[ae],ne=I.Sheets[ue];if(!(!ne||!ne["!ref"])){++Y;var _e=Ds(ne["!ref"]);M<_e.e.r&&(M=_e.e.r),z<_e.e.c&&(z=_e.e.c)}}return M>8191&&(M=8191),P.write_shift(2,M),P.write_shift(1,Y),P.write_shift(1,z),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(1,1),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(4,0),P}function l(I,P,M){var z={s:{c:0,r:0},e:{c:0,r:0}};return P==8&&M.qpro?(z.s.c=I.read_shift(1),I.l++,z.s.r=I.read_shift(2),z.e.c=I.read_shift(1),I.l++,z.e.r=I.read_shift(2),z):(z.s.c=I.read_shift(2),z.s.r=I.read_shift(2),P==12&&M.qpro&&(I.l+=2),z.e.c=I.read_shift(2),z.e.r=I.read_shift(2),P==12&&M.qpro&&(I.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(I){var P=Ye(8);return P.write_shift(2,I.s.c),P.write_shift(2,I.s.r),P.write_shift(2,I.e.c),P.write_shift(2,I.e.r),P}function u(I,P,M){var z=[{c:0,r:0},{t:"n",v:0},0,0];return M.qpro&&M.vers!=20768?(z[0].c=I.read_shift(1),z[3]=I.read_shift(1),z[0].r=I.read_shift(2),I.l+=2):(z[2]=I.read_shift(1),z[0].c=I.read_shift(2),z[0].r=I.read_shift(2)),z}function d(I,P,M){var z=I.l+P,Y=u(I,P,M);if(Y[1].t="s",M.vers==20768){I.l++;var ae=I.read_shift(1);return Y[1].v=I.read_shift(ae,"utf8"),Y}return M.qpro&&I.l++,Y[1].v=I.read_shift(z-I.l,"cstr"),Y}function f(I,P,M){var z=Ye(7+M.length);z.write_shift(1,255),z.write_shift(2,P),z.write_shift(2,I),z.write_shift(1,39);for(var Y=0;Y<z.length;++Y){var ae=M.charCodeAt(Y);z.write_shift(1,ae>=128?95:ae)}return z.write_shift(1,0),z}function h(I,P,M){var z=u(I,P,M);return z[1].v=I.read_shift(2,"i"),z}function p(I,P,M){var z=Ye(7);return z.write_shift(1,255),z.write_shift(2,P),z.write_shift(2,I),z.write_shift(2,M,"i"),z}function m(I,P,M){var z=u(I,P,M);return z[1].v=I.read_shift(8,"f"),z}function x(I,P,M){var z=Ye(13);return z.write_shift(1,255),z.write_shift(2,P),z.write_shift(2,I),z.write_shift(8,M,"f"),z}function g(I,P,M){var z=I.l+P,Y=u(I,P,M);if(Y[1].v=I.read_shift(8,"f"),M.qpro)I.l=z;else{var ae=I.read_shift(2);w(I.slice(I.l,I.l+ae),Y),I.l+=ae}return Y}function v(I,P,M){var z=P&32768;return P&=-32769,P=(z?I:0)+(P>=8192?P-16384:P),(z?"":"$")+(M?Vn(P):ba(P))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(I,P){Ni(I,0);for(var M=[],z=0,Y="",ae="",ue="",ne="";I.l<I.length;){var _e=I[I.l++];switch(_e){case 0:M.push(I.read_shift(8,"f"));break;case 1:ae=v(P[0].c,I.read_shift(2),!0),Y=v(P[0].r,I.read_shift(2),!1),M.push(ae+Y);break;case 2:{var Ce=v(P[0].c,I.read_shift(2),!0),V=v(P[0].r,I.read_shift(2),!1);ae=v(P[0].c,I.read_shift(2),!0),Y=v(P[0].r,I.read_shift(2),!1),M.push(Ce+V+":"+ae+Y)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:M.push("("+M.pop()+")");break;case 5:M.push(I.read_shift(2));break;case 6:{for(var Me="";_e=I[I.l++];)Me+=String.fromCharCode(_e);M.push('"'+Me.replace(/"/g,'""')+'"')}break;case 8:M.push("-"+M.pop());break;case 23:M.push("+"+M.pop());break;case 22:M.push("NOT("+M.pop()+")");break;case 20:case 21:ne=M.pop(),ue=M.pop(),M.push(["AND","OR"][_e-20]+"("+ue+","+ne+")");break;default:if(_e<32&&y[_e])ne=M.pop(),ue=M.pop(),M.push(ue+y[_e]+ne);else if(b[_e]){if(z=b[_e][1],z==69&&(z=I[I.l++]),z>M.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+M.join("|")+"|");return}var Ae=M.slice(-z);M.length-=z,M.push(b[_e][0]+"("+Ae.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}M.length==1?P[1].f=""+M[0]:console.error("WK1 bad formula parse |"+M.join("|")+"|")}function N(I){var P=[{c:0,r:0},{t:"n",v:0},0];return P[0].r=I.read_shift(2),P[3]=I[I.l++],P[0].c=I[I.l++],P}function S(I,P){var M=N(I);return M[1].t="s",M[1].v=I.read_shift(P-4,"cstr"),M}function j(I,P,M,z){var Y=Ye(6+z.length);Y.write_shift(2,I),Y.write_shift(1,M),Y.write_shift(1,P),Y.write_shift(1,39);for(var ae=0;ae<z.length;++ae){var ue=z.charCodeAt(ae);Y.write_shift(1,ue>=128?95:ue)}return Y.write_shift(1,0),Y}function A(I,P){var M=N(I);M[1].v=I.read_shift(2);var z=M[1].v>>1;if(M[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return M[1].v=z,M}function T(I,P){var M=N(I),z=I.read_shift(4),Y=I.read_shift(4),ae=I.read_shift(2);if(ae==65535)return z===0&&Y===3221225472?(M[1].t="e",M[1].v=15):z===0&&Y===3489660928?(M[1].t="e",M[1].v=42):M[1].v=0,M;var ue=ae&32768;return ae=(ae&32767)-16446,M[1].v=(1-ue*2)*(Y*Math.pow(2,ae+32)+z*Math.pow(2,ae)),M}function R(I,P,M,z){var Y=Ye(14);if(Y.write_shift(2,I),Y.write_shift(1,M),Y.write_shift(1,P),z==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var ae=0,ue=0,ne=0,_e=0;return z<0&&(ae=1,z=-z),ue=Math.log2(z)|0,z/=Math.pow(2,ue-31),_e=z>>>0,_e&2147483648||(z/=2,++ue,_e=z>>>0),z-=_e,_e|=2147483648,_e>>>=0,z*=Math.pow(2,32),ne=z>>>0,Y.write_shift(4,ne),Y.write_shift(4,_e),ue+=16383+(ae?32768:0),Y.write_shift(2,ue),Y}function O(I,P){var M=T(I);return I.l+=P-14,M}function E(I,P){var M=N(I),z=I.read_shift(4);return M[1].v=z>>6,M}function L(I,P){var M=N(I),z=I.read_shift(8,"f");return M[1].v=z,M}function B(I,P){var M=L(I);return I.l+=P-10,M}function G(I,P){return I[I.l+P-1]==0?I.read_shift(P,"cstr"):""}function U(I,P){var M=I[I.l++];M>P-1&&(M=P-1);for(var z="";z.length<M;)z+=String.fromCharCode(I[I.l++]);return z}function W(I,P,M){if(!(!M.qpro||P<21)){var z=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var Y=I.read_shift(P-21,"cstr");return[z,Y]}}function X(I,P){for(var M={},z=I.l+P;I.l<z;){var Y=I.read_shift(2);if(Y==14e3){for(M[Y]=[0,""],M[Y][0]=I.read_shift(2);I[I.l];)M[Y][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return M}function q(I,P){var M=Ye(5+I.length);M.write_shift(2,14e3),M.write_shift(2,P);for(var z=0;z<I.length;++z){var Y=I.charCodeAt(z);M[M.l++]=Y>127?95:Y}return M[M.l++]=0,M}var le={0:{n:"BOF",f:Ta},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function HNe(e){var t={},r=e.match(Ki),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Gt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=UA[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var WNe=function(){var e=$1("t"),t=$1("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:kr(o[1])},c=i.match(t);return c&&(l.s=HNe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),VNe=function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),qNe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,GNe=/<(?:\w+:)?r>/,YNe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function fC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=kr(un(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=un(e),r&&(n.h=JA(n.t))):e.match(GNe)&&(n.r=un(e),n.t=kr(un((e.replace(YNe,"").match(qNe)||[]).join("").replace(Ki,""))),r&&(n.h=VNe(WNe(n.r)))),n):{t:""}}var XNe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,KNe=/<(?:\w+:)?(?:si|sstItem)>/g,QNe=/<\/(?:\w+:)?(?:si|sstItem)>/;function JNe(e,t){var r=[],n="";if(!e)return r;var a=e.match(XNe);if(a){n=a[2].replace(KNe,"").split(QNe);for(var i=0;i!=n.length;++i){var o=fC(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=Gt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var ZNe=/^\s|\s$|[\t\n\r]/;function _B(e,t){if(!t.bookSST)return"";var r=[wa];r[r.length]=lt("sst",null,{xmlns:wf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(ZNe)&&(i+=' xml:space="preserve"'),i+=">"+en(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function e3e(e){return[e.read_shift(4),e.read_shift(4)]}function t3e(e,t){var r=[],n=!1;return gu(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function r3e(e,t){return t||(t=Ye(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var n3e=h_e;function a3e(e){var t=Ps();et(t,159,r3e(e));for(var r=0;r<e.length;++r)et(t,19,n3e(e[r]));return et(t,160),t.end()}function NB(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Zc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function i3e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Zc(e,4),t.U=Zc(e,4),t.W=Zc(e,4),t}function s3e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function o3e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(s3e(e));return t}function l3e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function c3e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Zc(e,4),t.U=Zc(e,4),t.W=Zc(e,4),t}function u3e(e){var t=c3e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function jB(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function SB(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function d3e(e){var t=Zc(e);switch(t.Minor){case 2:return[t.Minor,f3e(e)];case 3:return[t.Minor,h3e()];case 4:return[t.Minor,p3e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function f3e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=jB(e,r),a=SB(e,e.length-e.l);return{t:"Std",h:n,v:a}}function h3e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function p3e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ki,function(i){var o=Gt(i);switch(vc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function m3e(e,t){var r={},n=r.EncryptionVersionInfo=Zc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=jB(e,a),t-=a,r.EncryptionVerifier=SB(e,t),r}function x3e(e){var t={},r=t.EncryptionVersionInfo=Zc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function hC(e){var t=0,r,n=NB(e),a=n.length+1,i,o,l,c,u;for(r=_d(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var AB=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=NB(o),c=i(l),u=l.length,d=_d(16),f=0;f!=16;++f)d[f]=0;var h,p,m;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=l[l.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,m=15-l.length;m>0;)h=c>>8,d[u]=a(e[m],h),--u,--m,h=c&255,d[u]=a(l[u],h),--u,--m;return d}}(),g3e=function(e,t,r,n,a){a||(a=t),n||(n=AB(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},v3e=function(e){var t=0,r=AB(e);return function(n){var a=g3e("",n,t,r);return t=a[1],a[0]}};function b3e(e,t,r,n){var a={key:Ta(e),verificationBytes:Ta(e)};return r.password&&(a.verifier=hC(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=v3e(r.password)),a}function y3e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=x3e(e):n.Data=m3e(e,t),n}function w3e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?y3e(e,t-2,n):b3e(e,r.biff>=8?t:t-2,r,n),n}var CB=function(){function e(a,i){switch(i.type){case"base64":return t(lo(a),i);case"binary":return t(a,i);case"buffer":return t(cr&&Buffer.isBuffer(a)?a.toString("binary"):Md(a),i);case"array":return t(J0(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,m,x=-1;m=h.exec(d);){switch(m[0]){case"\\cell":var g=d.slice(p,h.lastIndex-m[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var v={v:g,t:"s"};Array.isArray(l)?l[f][x]=v:l[qt({r:f,c:x})]=v}break}p=h.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=ir(u),l}function r(a,i){return Fd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Tr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=qt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(du(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function _3e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function W1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function N3e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function j3e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function Ty(e,t){if(t===0)return e;var r=N3e(_3e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),W1(j3e(r))}var EB=6,S3e=15,A3e=1,Hi=EB;function V1(e){return Math.floor((e+Math.round(128/Hi)/256)*Hi)}function q1(e){return Math.floor((e-5)/Hi*100+.5)/100}function Oy(e){return Math.round((e*Hi+5)/Hi*256)/256}function x4(e){return Oy(q1(V1(e)))}function pC(e){var t=Math.abs(e-x4(e)),r=Hi;if(t>.005)for(Hi=A3e;Hi<S3e;++Hi)Math.abs(e-x4(e))<=t&&(t=Math.abs(e-x4(e)),r=Hi);Hi=r}function Nd(e){e.width?(e.wpx=V1(e.width),e.wch=q1(e.wpx),e.MDW=Hi):e.wpx?(e.wch=q1(e.wpx),e.width=Oy(e.wch),e.MDW=Hi):typeof e.wch=="number"&&(e.width=Oy(e.wch),e.wpx=V1(e.width),e.MDW=Hi),e.customWidth&&delete e.customWidth}var C3e=96,kB=C3e;function G1(e){return e*96/kB}function Pp(e){return e*kB/96}var E3e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function k3e(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(o){var l=Gt(o);switch(vc(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=In(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=In(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function T3e(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(o){var l=Gt(o);switch(vc(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function O3e(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(o){var l=Gt(o);switch(vc(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=un(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?In(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?In(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?In(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?In(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?In(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?In(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?In(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=UA[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=In(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=T0[a.color.index];a.color.index==81&&(c=T0[1]),c||(c=T0[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Ty(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function P3e(e,t,r){t.NumberFmt=[];for(var n=aa(Wt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Wt[n[a]];var i=e[0].match(Ki);if(i)for(a=0;a<i.length;++a){var o=Gt(i[a]);switch(vc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=kr(un(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Jc(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function D3e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=lt("numFmt",null,{numFmtId:n,formatCode:en(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=lt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var l2=["numFmtId","fillId","fontId","borderId","xfId"],c2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function I3e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ki)||[]).forEach(function(i){var o=Gt(i),l=0;switch(vc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<l2.length;++l)n[l2[l]]&&(n[l2[l]]=parseInt(n[l2[l]],10));for(l=0;l<c2.length;++l)n[c2[l]]&&(n[c2[l]]=In(n[c2[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=In(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function M3e(e){var t=[];return t[t.length]=lt("cellXfs",null),e.forEach(function(r){t[t.length]=lt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=lt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var F3e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&P3e(f,d,u),(f=l.match(a))&&O3e(f,d,c,u),(f=l.match(n))&&T3e(f,d,c,u),(f=l.match(i))&&k3e(f,d,c,u),(f=l.match(r))&&I3e(f,d,u),d}}();function TB(e,t){var r=[wa,lt("styleSheet",null,{xmlns:wf[0],"xmlns:vt":Wa.vt})],n;return e.SSF&&(n=D3e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=M3e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function R3e(e,t){var r=e.read_shift(2),n=Yi(e);return[r,n]}function L3e(e,t,r){r||(r=Ye(6+4*t.length)),r.write_shift(2,e),fi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function B3e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=y_e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=b_e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Yi(e),n}function $3e(e,t){t||(t=Ye(25+4*32)),t.write_shift(2,e.sz*20),w_e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Cy(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),fi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var z3e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],g4,U3e=Xi;function yP(e,t){t||(t=Ye(4*3+8*7+16*1)),g4||(g4=d5(z3e));var r=g4[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Cy({auto:1},t),Cy({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function H3e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function OB(e,t,r){r||(r=Ye(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function ix(e,t){return t||(t=Ye(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var W3e=Xi;function V3e(e,t){return t||(t=Ye(51)),t.write_shift(1,0),ix(null,t),ix(null,t),ix(null,t),ix(null,t),ix(null,t),t.length>t.l?t.slice(0,t.l):t}function q3e(e,t){return t||(t=Ye(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Ay(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function G3e(e,t,r){var n=Ye(2052);return n.write_shift(4,e),Ay(t,n),Ay(r,n),n.length>n.l?n.slice(0,n.l):n}function Y3e(e,t,r){var n={};n.NumberFmt=[];for(var a in Wt)n.NumberFmt[a]=Wt[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return gu(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Jc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Ty(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function X3e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(et(e,615,Nl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&et(e,44,L3e(a,t[a]))}),et(e,616))}}function K3e(e){var t=1;et(e,611,Nl(t)),et(e,43,$3e({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),et(e,612)}function Q3e(e){var t=2;et(e,603,Nl(t)),et(e,45,yP({patternType:"none"})),et(e,45,yP({patternType:"gray125"})),et(e,604)}function J3e(e){var t=1;et(e,613,Nl(t)),et(e,46,V3e()),et(e,614)}function Z3e(e){var t=1;et(e,626,Nl(t)),et(e,47,OB({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),et(e,627)}function eje(e,t){et(e,617,Nl(t.length)),t.forEach(function(r){et(e,47,OB(r,0))}),et(e,618)}function tje(e){var t=1;et(e,619,Nl(t)),et(e,48,q3e({xfId:0,builtinId:0,name:"Normal"})),et(e,620)}function rje(e){var t=0;et(e,505,Nl(t)),et(e,506)}function nje(e){var t=0;et(e,508,G3e(t,"TableStyleMedium9","PivotStyleMedium4")),et(e,509)}function aje(e,t){var r=Ps();return et(r,278),X3e(r,e.SSF),K3e(r),Q3e(r),J3e(r),Z3e(r),eje(r,t.cellXfs),tje(r),rje(r),nje(r),et(r,279),r.end()}var ije=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function sje(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ki)||[]).forEach(function(a){var i=Gt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[ije.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function oje(){}function lje(){}var cje=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,uje=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,dje=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function fje(e,t,r){t.themeElements={};var n;[["clrScheme",cje,sje],["fontScheme",uje,oje],["fmtScheme",dje,lje]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var hje=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function PB(e,t){(!e||e.length===0)&&(e=mC());var r,n={};if(!(r=e.match(hje)))throw new Error("themeElements not found in theme");return fje(r[0],n,t),n.raw=e,n}function mC(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[wa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function pje(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=j9(i,{type:"array"})}catch{return}var l=eo(o,"theme/theme/theme1.xml",!0);if(l)return PB(l,r)}}function mje(e){return e.read_shift(4)}function xje(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=gje(e,4);break;case 2:t.xclrValue=dB(e);break;case 3:t.xclrValue=mje(e);break;case 4:e.l+=4;break}return e.l+=8,t}function gje(e,t){return Xi(e,t)}function vje(e,t){return Xi(e,t)}function bje(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=xje(e);break;case 6:n[1]=vje(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function yje(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(bje(e,r-e.l));return{ixfe:n,ext:i}}function wje(e,t){t.forEach(function(r){switch(r[0]){}})}function _je(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Yi(e)}}function Nje(e){var t=Ye(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),fi(e.name,t),t.slice(0,t.l)}function jje(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Sje(e){var t=Ye(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Aje(e,t){var r=Ye(8+2*t.length);return r.write_shift(4,e),fi(t,r),r.slice(0,r.l)}function Cje(e){return e.l+=4,e.read_shift(4)!=0}function Eje(e,t){var r=Ye(8);return r.write_shift(4,e),r.write_shift(4,1),r}function kje(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return gu(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function Tje(){var e=Ps();return et(e,332),et(e,334,Nl(1)),et(e,335,Nje({name:"XLDAPR",version:12e4,flags:3496657072})),et(e,336),et(e,339,Aje(1,"XLDAPR")),et(e,52),et(e,35,Nl(514)),et(e,4096,Nl(0)),et(e,4097,Oo(1)),et(e,36),et(e,53),et(e,340),et(e,337,Eje(1)),et(e,51,Sje([[1,0]])),et(e,338),et(e,333),e.end()}function Oje(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Ki,function(l){var c=Gt(l);switch(vc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function DB(){var e=[wa];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Pje(e){var t=[];if(!e)return t;var r=1;return(e.match(Ki)||[]).forEach(function(n){var a=Gt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Dje(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=qt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Ije(e,t,r){var n=[];return gu(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function Mje(e,t,r,n){if(!e)return e;var a=n||{},i=!1;gu(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function Fje(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Fh=1024;function IB(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[lt("xml",null,{"xmlns:v":Ks.v,"xmlns:o":Ks.o,"xmlns:x":Ks.x,"xmlns:mv":Ks.mv}).replace(/\/>/,">"),lt("o:shapelayout",lt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),lt("v:shapetype",[lt("v:stroke",null,{joinstyle:"miter"}),lt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Fh<e*1e3;)Fh+=1e3;return t.forEach(function(i){var o=qn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?lt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=lt("v:fill",c,l),d={on:"t",obscured:"t"};++Fh,a=a.concat(["<v:shape"+z1({id:"_x0000_s"+Fh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,lt("v:shadow",null,d),lt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Si("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Si("x:AutoFill","False"),Si("x:Row",String(o.r)),Si("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function wP(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=qn(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Tr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=ir(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function Rje(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Gt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=qn(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&fC(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function MB(e){var t=[wa,lt("comments",null,{xmlns:wf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=en(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(en(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Si("t",en(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Si("t",en(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Lje(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ki,function(l,c){var u=Gt(l);switch(vc(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function Bje(e,t,r){var n=[wa,lt("ThreadedComments",null,{xmlns:Wa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(lt("threadedComment",Si("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function $je(e,t){var r=[],n=!1;return e.replace(Ki,function(i){var o=Gt(i);switch(vc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function zje(e){var t=[wa,lt("personList",null,{xmlns:Wa.TCMNT,"xmlns:x":wf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(lt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Uje(e){var t={};t.iauthor=e.read_shift(4);var r=Sf(e);return t.rfx=r.s,t.ref=qt(r.s),e.l+=16,t}function Hje(e,t){return t==null&&(t=Ye(36)),t.write_shift(4,e[1].iauthor),um(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Wje=Yi;function Vje(e){return fi(e.slice(0,54))}function qje(e,t){var r=[],n=[],a={},i=!1;return gu(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Gje(e){var t=Ps(),r=[];return et(t,628),et(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),et(t,632,Vje(a.a)))})}),et(t,631),et(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:qn(n[0]),e:qn(n[0])};et(t,635,Hje([i,a])),a.t&&a.t.length>0&&et(t,637,m_e(a)),et(t,636),delete a.iauthor})}),et(t,634),et(t,629),t.end()}var Yje="application/vnd.ms-office.vbaProject";function Xje(e){var t=Ft.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ft.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ft.write(t)}function Kje(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Ft.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var FB=["xlsb","xlsm","xlam","biff8","xla"];function Qje(){return{"!type":"dialog"}}function Jje(){return{"!type":"dialog"}}function Zje(){return{"!type":"macro"}}function eSe(){return{"!type":"macro"}}var Yh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Vn(d)+(c?"":"$")+ba(u)}return function(a,i){return t=i,a.replace(e,r)}}(),xC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,gC=function(){return function(t,r){return t.replace(xC,function(n,a,i,o,l,c){var u=nC(o)-(i?0:r.c),d=rC(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function RB(e,t){return e.replace(xC,function(r,n,a,i,o,l){return n+(a=="$"?a+i:Vn(nC(i)+t.c))+(o=="$"?o+l:ba(rC(l)+t.r))})}function tSe(e,t,r){var n=Ds(t),a=n.s,i=qn(r),o={r:i.r-a.r,c:i.c-a.c};return RB(e,o)}function rSe(e){return e.length!=1}function _P(e){return e.replace(/_xlfn\./g,"")}function Aa(e){e.l+=1}function jd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function LB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return BB(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=jd(e),l=jd(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function BB(e){var t=jd(e),r=jd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function nSe(e,t,r){if(r.biff<8)return BB(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=jd(e),o=jd(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function $B(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return aSe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=jd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function aSe(e){var t=jd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function iSe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function sSe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return oSe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function oSe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function lSe(e,t,r){var n=(e[e.l++]&96)>>5,a=LB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function cSe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=LB(e,i,r);return[n,a,o]}function uSe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function dSe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function fSe(e,t,r){var n=(e[e.l++]&96)>>5,a=nSe(e,t-1,r);return[n,a]}function hSe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function NP(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function pSe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function mSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function xSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function gSe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function vSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function zB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function bSe(e){return e.read_shift(2),zB(e)}function ySe(e){return e.read_shift(2),zB(e)}function wSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=$B(e,0,r);return[n,a]}function _Se(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=sSe(e,0,r);return[n,a]}function NSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=$B(e,0,r);return[n,a,i]}function jSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[CAe[a],WB[a],n]}function SSe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ASe(e);return[a,(i[0]===0?WB:AAe)[i[1]]]}function ASe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function CSe(e,t,r){e.l+=r&&r.biff==2?3:4}function ESe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function kSe(e){return e.l++,vu[e.read_shift(1)]}function TSe(e){return e.l++,e.read_shift(2)}function OSe(e){return e.l++,e.read_shift(1)!==0}function PSe(e){return e.l++,Wi(e)}function DSe(e,t,r){return e.l++,Sg(e,t-1,r)}function ISe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=vu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Wi(e);break;case 2:r[1]=Af(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function MSe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Sf:p5)(e));return a}function FSe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=ISe(e,r.biff);return o}function RSe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function LSe(e,t,r){if(r.biff==5)return BSe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function BSe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function $Se(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function zSe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function USe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function HSe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var WSe=Xi,VSe=Xi,qSe=Xi;function Cg(e,t,r){return e.l+=2,[iSe(e)]}function vC(e){return e.l+=6,[]}var GSe=Cg,YSe=vC,XSe=vC,KSe=Cg;function UB(e){return e.l+=2,[Ta(e),e.read_shift(2)&1]}var QSe=Cg,JSe=UB,ZSe=vC,eAe=Cg,tAe=Cg,rAe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function nAe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=rAe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function aAe(e){return e.l+=2,[e.read_shift(4)]}function iAe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function sAe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function oAe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function lAe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function cAe(e){return e.l+=4,[0,0]}var jP={1:{n:"PtgExp",f:ESe},2:{n:"PtgTbl",f:qSe},3:{n:"PtgAdd",f:Aa},4:{n:"PtgSub",f:Aa},5:{n:"PtgMul",f:Aa},6:{n:"PtgDiv",f:Aa},7:{n:"PtgPower",f:Aa},8:{n:"PtgConcat",f:Aa},9:{n:"PtgLt",f:Aa},10:{n:"PtgLe",f:Aa},11:{n:"PtgEq",f:Aa},12:{n:"PtgGe",f:Aa},13:{n:"PtgGt",f:Aa},14:{n:"PtgNe",f:Aa},15:{n:"PtgIsect",f:Aa},16:{n:"PtgUnion",f:Aa},17:{n:"PtgRange",f:Aa},18:{n:"PtgUplus",f:Aa},19:{n:"PtgUminus",f:Aa},20:{n:"PtgPercent",f:Aa},21:{n:"PtgParen",f:Aa},22:{n:"PtgMissArg",f:Aa},23:{n:"PtgStr",f:DSe},26:{n:"PtgSheet",f:iAe},27:{n:"PtgEndSheet",f:sAe},28:{n:"PtgErr",f:kSe},29:{n:"PtgBool",f:OSe},30:{n:"PtgInt",f:TSe},31:{n:"PtgNum",f:PSe},32:{n:"PtgArray",f:hSe},33:{n:"PtgFunc",f:jSe},34:{n:"PtgFuncVar",f:SSe},35:{n:"PtgName",f:RSe},36:{n:"PtgRef",f:wSe},37:{n:"PtgArea",f:lSe},38:{n:"PtgMemArea",f:$Se},39:{n:"PtgMemErr",f:WSe},40:{n:"PtgMemNoMem",f:VSe},41:{n:"PtgMemFunc",f:zSe},42:{n:"PtgRefErr",f:USe},43:{n:"PtgAreaErr",f:uSe},44:{n:"PtgRefN",f:_Se},45:{n:"PtgAreaN",f:fSe},46:{n:"PtgMemAreaN",f:oAe},47:{n:"PtgMemNoMemN",f:lAe},57:{n:"PtgNameX",f:LSe},58:{n:"PtgRef3d",f:NSe},59:{n:"PtgArea3d",f:cSe},60:{n:"PtgRefErr3d",f:HSe},61:{n:"PtgAreaErr3d",f:dSe},255:{}},uAe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},dAe={1:{n:"PtgElfLel",f:UB},2:{n:"PtgElfRw",f:eAe},3:{n:"PtgElfCol",f:GSe},6:{n:"PtgElfRwV",f:tAe},7:{n:"PtgElfColV",f:KSe},10:{n:"PtgElfRadical",f:QSe},11:{n:"PtgElfRadicalS",f:ZSe},13:{n:"PtgElfColS",f:YSe},15:{n:"PtgElfColSV",f:XSe},16:{n:"PtgElfRadicalLel",f:JSe},25:{n:"PtgList",f:nAe},29:{n:"PtgSxName",f:aAe},255:{}},fAe={0:{n:"PtgAttrNoop",f:cAe},1:{n:"PtgAttrSemi",f:vSe},2:{n:"PtgAttrIf",f:xSe},4:{n:"PtgAttrChoose",f:pSe},8:{n:"PtgAttrGoto",f:mSe},16:{n:"PtgAttrSum",f:CSe},32:{n:"PtgAttrBaxcel",f:NP},33:{n:"PtgAttrBaxcel",f:NP},64:{n:"PtgAttrSpace",f:bSe},65:{n:"PtgAttrSpaceSemi",f:ySe},128:{n:"PtgAttrIfError",f:gSe},255:{}};function Eg(e,t,r,n){if(n.biff<8)return Xi(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=FSe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=MSe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Xi(e,t)),i}function kg(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=jP[i]||jP[uAe[i]],(i===24||i===25)&&(a=(i===24?dAe:fAe)[e[e.l+1]]),!a||!a.f?Xi(e,t):o.push([a.n,a.f(e,t,r)]);return o}function hAe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var pAe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mAe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function HB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function SP(e,t,r){var n=HB(e,t,r);return n=="#REF"?n:mAe(n,r)}function zi(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var x=-1,g="",v=0,b=e[0].length;v<b;++v){var y=e[0][v];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:g=ea(" ",e[0][x][1][1]);break;case 1:g=ea("\r",e[0][x][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+g,x=-1}l.push(u+pAe[y[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Bx(y[1][1],o,a),l.push($x(d,i));break;case"PtgRefN":d=r?Bx(y[1][1],r,a):y[1][1],l.push($x(d,i));break;case"PtgRef3d":f=y[1][1],d=Bx(y[1][2],o,a),m=SP(n,f,a),l.push(m+"!"+$x(d,i));break;case"PtgFunc":case"PtgFuncVar":var w=y[1][0],N=y[1][1];w||(w=0),w&=127;var S=w==0?[]:l.slice(-w);l.length-=w,N==="User"&&(N=S.shift()),l.push(N+"("+S.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":p=eP(y[1][1],r?{s:r}:o,a),l.push(h4(p,a));break;case"PtgArea":p=eP(y[1][1],o,a),l.push(h4(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],m=SP(n,f,a),l.push(m+"!"+h4(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],A=j?j.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var T=y[1][1];h=y[1][2];var R;if(a.biff<=5)T<0&&(T=-T),n[T]&&(R=n[T][h]);else{var O="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(O=n.SheetNames[n[T][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])O+=n[T][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var E=(HB(n,T,a)||"").split(";;");E[h-1]?O=E[h-1]:O+="SH33TJSERRX"}l.push(O);break}R||(R={Name:"SH33TJSERRY"}),l.push(R.Name);break;case"PtgParen":var L="(",B=")";if(x>=0){switch(g="",e[0][x][1][0]){case 2:L=ea(" ",e[0][x][1][1])+L;break;case 3:L=ea("\r",e[0][x][1][1])+L;break;case 4:B=ea(" ",e[0][x][1][1])+B;break;case 5:B=ea("\r",e[0][x][1][1])+B;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(L+l.pop()+B);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var G={c:r.c,r:r.r};if(n.sharedf[qt(d)]){var U=n.sharedf[qt(d)];l.push(zi(U,o,G,n,a))}else{var W=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(zi(u[1],o,G,n,a)),W=!0;break}W||l.push(y[1])}break;case"PtgArray":l.push("{"+hAe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&X.indexOf(e[0][v][0])==-1){y=e[0][x];var q=!0;switch(y[1][0]){case 4:q=!1;case 0:g=ea(" ",y[1][1]);break;case 5:q=!1;case 1:g=ea("\r",y[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((q?g:"")+l.pop()+(q?"":g)),x=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function xAe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Xi(e,t-2)];var l=kg(e,o,r);return t!==o+a&&(i=Eg(e,t-o-a,l,r)),e.l=n,[l,i]}function gAe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Xi(e,t-2)];var l=kg(e,o,r);return t!==o+a&&(i=Eg(e,t-o-a,l,r)),e.l=n,[l,i]}function vAe(e,t,r,n){var a=e.l+t,i=kg(e,n,r),o;return a!==e.l&&(o=Eg(e,a-e.l,i,r)),[i,o]}function bAe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=kg(e,i,r);return i==65535?[[],Xi(e,t-2)]:(t!==i+2&&(a=Eg(e,n-i-2,o,r)),[o,a])}function yAe(e){var t;if(Vc(e,e.l+6)!==65535)return[Wi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function wAe(e){if(e==null){var t=Ye(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Z0(e);return Z0(0)}function v4(e,t,r){var n=e.l+t,a=bc(e);r.biff==2&&++e.l;var i=yAe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=gAe(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function _Ae(e,t,r,n,a){var i=tf(t,r,a),o=wAe(e.v),l=Ye(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ye(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=di([i,o,l,u]);return f}function m5(e,t,r){var n=e.read_shift(4),a=kg(e,n,r),i=e.read_shift(4),o=i>0?Eg(e,i,a,r):null;return[a,o]}var NAe=m5,x5=m5,jAe=m5,SAe=m5,AAe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},WB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},CAe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function AP(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function EAe(e){var t="of:="+e.replace(xC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function b4(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function kAe(e){return e.replace(/\./,"!")}var Ux={},Xh={},Hx=typeof Map<"u";function bC(e,t,r){var n=0,a=e.length;if(r){if(Hx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Hx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Hx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function g5(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Hi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=q1(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Oy(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function D0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Rd(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Jc(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function VB(e,t,r,n,a,i){try{n.cellNF&&(e.z=Wt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Fn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Wt[t]==null&&Jc(A5e[t]||"General",t),e.t==="e")e.w=e.w||vu[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=B1(e.v);else if(e.t==="d"){var o=Ja(e.v);(o|0)===o?e.w=o.toString(10):e.w=B1(o)}else{if(e.v===void 0)return"";e.w=Q0(e.v,Xh)}else e.t==="d"?e.w=qo(t,Ja(e.v),Xh):e.w=qo(t,e.v,Xh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ty(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ty(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function TAe(e,t,r){if(e&&e["!ref"]){var n=Tr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function OAe(e,t){var r=Tr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ir(r))}var PAe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,DAe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,IAe=/<(?:\w:)?hyperlink [^>]*>/mg,MAe=/"(\w*:\w*)"/,FAe=/<(?:\w:)?col\b[^>]*[\/]?>/g,RAe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,LAe=/<(?:\w:)?pageMargins[^>]*\/>/g,qB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,BAe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,$Ae=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function zAe(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(DAe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(qB);h?yC(h[0],l,a,r):(h=u.match(BAe))&&HAe(h[0],h[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=u.slice(p,p+50).match(MAe);m&&OAe(l,m[1])}var x=u.match($Ae);x&&x[1]&&rCe(x[1],a);var g=[];if(t.cellStyles){var v=u.match(FAe);v&&QAe(g,v)}f&&iCe(f[1],l,t,c,i,o);var b=d.match(RAe);b&&(l["!autofilter"]=ZAe(b[0]));var y=[],w=d.match(PAe);if(w)for(p=0;p!=w.length;++p)y[p]=Tr(w[p].slice(w[p].indexOf('"')+1));var N=d.match(IAe);N&&YAe(l,N,n);var S=d.match(LAe);if(S&&(l["!margins"]=XAe(Gt(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=ir(c)),t.sheetRows>0&&l["!ref"]){var j=Tr(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ir(j))}return g.length>0&&(l["!cols"]=g),y.length>0&&(l["!merges"]=y),l}function UAe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ir(e[r])+'"/>';return t+"</mergeCells>"}function yC(e,t,r,n){var a=Gt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=kr(un(a.codeName)))}function HAe(e,t,r,n,a){yC(e.slice(0,e.indexOf(">")),r,n,a)}function WAe(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Zl(en(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+lt("outlinePr",null,u)}!i&&!l||(a[a.length]=lt("sheetPr",l,o))}var VAe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],qAe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function GAe(e){var t={sheet:1};return VAe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),qAe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=hC(e.password).toString(16).toUpperCase()),lt("sheetProtection",null,t)}function YAe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Gt(un(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+kr(i.location))):(i.Target="#"+kr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Tr(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=qt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function XAe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function KAe(e){return D0(e),lt("pageMargins",null,e)}function QAe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Gt(t[n],!0);a.hidden&&(a.hidden=In(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,pC(a.width)),Nd(a);i<=o;)e[i++]=Rn(a)}}function JAe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=lt("col",null,g5(a,n)));return r[r.length]="</cols>",r.join("")}function ZAe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function eCe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:ir(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ds(a);o.s.r==o.e.r&&(o.e.r=Ds(t["!ref"]).e.r,a=ir(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),lt("autoFilter",null,{ref:a})}var tCe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function rCe(e,t){t.Views||(t.Views=[{}]),(e.match(tCe)||[]).forEach(function(r,n){var a=Gt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),In(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function nCe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),lt("sheetViews",lt("sheetView",null,a),{})}function aCe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=vu[e.v];break;case"d":n&&n.cellDates?a=Fn(e.v,-1).toISOString():(e=Rn(e),e.t="n",a=""+(e.v=Ja(Fn(e.v)))),typeof e.z>"u"&&(e.z=Wt[14]);break;default:a=e.v;break}var l=Si("v",en(a)),c={r:t},u=Rd(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Si("v",""+bC(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=lt("f",en(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),lt("c",l,c)}var iCe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=$1("v"),o=$1("f");return function(c,u,d,f,h,p){for(var m=0,x="",g=[],v=[],b=0,y=0,w=0,N="",S,j,A=0,T=0,R,O,E=0,L=0,B=Array.isArray(p.CellXf),G,U=[],W=[],X=Array.isArray(u),q=[],le={},se=!1,I=!!d.sheetStubs,P=c.split(t),M=0,z=P.length;M!=z;++M){x=P[M].trim();var Y=x.length;if(Y!==0){var ae=0;e:for(m=0;m<Y;++m)switch(x[m]){case">":if(x[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(j=Gt(x.slice(ae,m),!0),A=j.r!=null?parseInt(j.r,10):A+1,T=-1,d.sheetRows&&d.sheetRows<A)continue;le={},se=!1,j.ht&&(se=!0,le.hpt=parseFloat(j.ht),le.hpx=Pp(le.hpt)),j.hidden=="1"&&(se=!0,le.hidden=!0),j.outlineLevel!=null&&(se=!0,le.level=+j.outlineLevel),se&&(q[A-1]=le)}break;case"<":ae=m;break}if(ae>=m)break;if(j=Gt(x.slice(ae,m),!0),A=j.r!=null?parseInt(j.r,10):A+1,T=-1,!(d.sheetRows&&d.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),d&&d.cellStyles&&(le={},se=!1,j.ht&&(se=!0,le.hpt=parseFloat(j.ht),le.hpx=Pp(le.hpt)),j.hidden=="1"&&(se=!0,le.hidden=!0),j.outlineLevel!=null&&(se=!0,le.level=+j.outlineLevel),se&&(q[A-1]=le)),g=x.slice(m).split(e);for(var ue=0;ue!=g.length&&g[ue].trim().charAt(0)=="<";++ue);for(g=g.slice(ue),m=0;m!=g.length;++m)if(x=g[m].trim(),x.length!==0){if(v=x.match(r),b=m,y=0,w=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,v!=null&&v.length===2){for(b=0,N=v[1],y=0;y!=N.length&&!((w=N.charCodeAt(y)-64)<1||w>26);++y)b=26*b+w;--b,T=b}else++T;for(y=0;y!=x.length&&x.charCodeAt(y)!==62;++y);if(++y,j=Gt(x.slice(0,y),!0),j.r||(j.r=qt({r:A-1,c:T})),N=x.slice(y),S={t:""},(v=N.match(i))!=null&&v[1]!==""&&(S.v=kr(v[1])),d.cellFormula){if((v=N.match(o))!=null&&v[1]!==""){if(S.f=kr(un(v[1])).replace(/\r\n/g,`
`),d.xlfn||(S.f=_P(S.f)),v[0].indexOf('t="array"')>-1)S.F=(N.match(a)||[])[1],S.F.indexOf(":")>-1&&U.push([Tr(S.F),S.F]);else if(v[0].indexOf('t="shared"')>-1){O=Gt(v[0]);var ne=kr(un(v[1]));d.xlfn||(ne=_P(ne)),W[parseInt(O.si,10)]=[O,ne,j.r]}}else(v=N.match(/<f[^>]*\/>/))&&(O=Gt(v[0]),W[O.si]&&(S.f=tSe(W[O.si][1],W[O.si][2],j.r)));var _e=qn(j.r);for(y=0;y<U.length;++y)_e.r>=U[y][0].s.r&&_e.r<=U[y][0].e.r&&_e.c>=U[y][0].s.c&&_e.c<=U[y][0].e.c&&(S.F=U[y][1])}if(j.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(I)S.t="z";else continue;else S.t=j.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),S.t){case"n":if(S.v==""||S.v==null){if(!I)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!I)continue;S.t="z"}else R=Ux[parseInt(S.v,10)],S.v=R.t,S.r=R.r,d.cellHTML&&(S.h=R.h);break;case"str":S.t="s",S.v=S.v!=null?un(S.v):"",d.cellHTML&&(S.h=JA(S.v));break;case"inlineStr":v=N.match(n),S.t="s",v!=null&&(R=fC(v[1]))?(S.v=R.t,d.cellHTML&&(S.h=R.h)):S.v="";break;case"b":S.v=In(S.v);break;case"d":d.cellDates?S.v=Fn(S.v,1):(S.v=Ja(Fn(S.v,1)),S.t="n");break;case"e":(!d||d.cellText!==!1)&&(S.w=S.v),S.v=Y9[S.v];break}if(E=L=0,G=null,B&&j.s!==void 0&&(G=p.CellXf[j.s],G!=null&&(G.numFmtId!=null&&(E=G.numFmtId),d.cellStyles&&G.fillId!=null&&(L=G.fillId))),VB(S,E,L,d,h,p),d.cellDates&&B&&S.t=="n"&&om(Wt[E])&&(S.t="d",S.v=h5(S.v)),j.cm&&d.xlmeta){var Ce=(d.xlmeta.Cell||[])[+j.cm-1];Ce&&Ce.type=="XLDAPR"&&(S.D=!0)}if(X){var V=qn(j.r);u[V.r]||(u[V.r]=[]),u[V.r][V.c]=S}else u[j.r]=S}}}}q.length>0&&(u["!rows"]=q)}}();function sCe(e,t,r,n){var a=[],i=[],o=Tr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,p=e["!rows"],m=Array.isArray(e),x={r:u},g,v=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=Vn(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=ba(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var b=m?(e[f]||[])[h]:e[c];b!==void 0&&(l=aCe(b,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(x={r:u},p&&p[f]&&(g=p[f],g.hidden&&(x.hidden=1),v=-1,g.hpx?v=G1(g.hpx):g.hpt&&(v=g.hpt),v>-1&&(x.ht=v,x.customHeight=1),g.level&&(x.outlineLevel=g.level)),a[a.length]=lt("row",i.join(""),x))}if(p)for(;f<p.length;++f)p&&p[f]&&(x={r:f+1},g=p[f],g.hidden&&(x.hidden=1),v=-1,g.hpx?v=G1(g.hpx):g.hpt&&(v=g.hpt),v>-1&&(x.ht=v,x.customHeight=1),g.level&&(x.outlineLevel=g.level),a[a.length]=lt("row","",x));return a.join("")}function GB(e,t,r,n){var a=[wa,lt("worksheet",null,{xmlns:wf[0],"xmlns:r":Wa.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Tr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ir(d)}n||(n={}),c["!comments"]=[];var f=[];WAe(c,r,e,t,a),a[a.length]=lt("dimension",null,{ref:u}),a[a.length]=nCe(c,t,e,r),t.sheetFormat&&(a[a.length]=lt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=JAe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=sCe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=GAe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=eCe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=UAe(c["!merges"]));var h=-1,p,m=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(p={ref:x[0]},x[1].Target.charAt(0)!="#"&&(m=Jr(n,-1,en(x[1].Target).replace(/#.*$/,""),fr.HLINK),p["r:id"]="rId"+m),(h=x[1].Target.indexOf("#"))>-1&&(p.location=en(x[1].Target.slice(h+1))),x[1].Tooltip&&(p.tooltip=en(x[1].Tooltip)),a[a.length]=lt("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=KAe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Si("ignoredErrors",lt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(m=Jr(n,-1,"../drawings/drawing"+(e+1)+".xml",fr.DRAW),a[a.length]=lt("drawing",null,{"r:id":"rId"+m}),c["!drawing"]=f),c["!comments"].length>0&&(m=Jr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",fr.VML),a[a.length]=lt("legacyDrawing",null,{"r:id":"rId"+m}),c["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function oCe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function lCe(e,t,r){var n=Ye(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=G1(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var m=Array.isArray(r)?(r[u.r]||[])[u.c]:r[qt(u)];m&&(f<0&&(f=p),h=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var x=n.l;return n.l=c,n.write_shift(4,l),n.l=x,n.length>n.l?n.slice(0,n.l):n}function cCe(e,t,r,n){var a=lCe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&et(e,0,a)}var uCe=Sf,dCe=um;function fCe(){}function hCe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=x_e(e),r}function pCe(e,t,r){r==null&&(r=Ye(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Cy({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),H9(e,r),r.slice(0,r.l)}function mCe(e){var t=Qo(e);return[t]}function xCe(e,t,r){return r==null&&(r=Ye(8)),_f(t,r)}function gCe(e){var t=Nf(e);return[t]}function vCe(e,t,r){return r==null&&(r=Ye(4)),jf(t,r)}function bCe(e){var t=Qo(e),r=e.read_shift(1);return[t,r,"b"]}function yCe(e,t,r){return r==null&&(r=Ye(9)),_f(t,r),r.write_shift(1,e.v?1:0),r}function wCe(e){var t=Nf(e),r=e.read_shift(1);return[t,r,"b"]}function _Ce(e,t,r){return r==null&&(r=Ye(5)),jf(t,r),r.write_shift(1,e.v?1:0),r}function NCe(e){var t=Qo(e),r=e.read_shift(1);return[t,r,"e"]}function jCe(e,t,r){return r==null&&(r=Ye(9)),_f(t,r),r.write_shift(1,e.v),r}function SCe(e){var t=Nf(e),r=e.read_shift(1);return[t,r,"e"]}function ACe(e,t,r){return r==null&&(r=Ye(8)),jf(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function CCe(e){var t=Qo(e),r=e.read_shift(4);return[t,r,"s"]}function ECe(e,t,r){return r==null&&(r=Ye(12)),_f(t,r),r.write_shift(4,t.v),r}function kCe(e){var t=Nf(e),r=e.read_shift(4);return[t,r,"s"]}function TCe(e,t,r){return r==null&&(r=Ye(8)),jf(t,r),r.write_shift(4,t.v),r}function OCe(e){var t=Qo(e),r=Wi(e);return[t,r,"n"]}function PCe(e,t,r){return r==null&&(r=Ye(16)),_f(t,r),Z0(e.v,r),r}function YB(e){var t=Nf(e),r=Wi(e);return[t,r,"n"]}function DCe(e,t,r){return r==null&&(r=Ye(12)),jf(t,r),Z0(e.v,r),r}function ICe(e){var t=Qo(e),r=oC(e);return[t,r,"n"]}function MCe(e,t,r){return r==null&&(r=Ye(12)),_f(t,r),W9(e.v,r),r}function FCe(e){var t=Nf(e),r=oC(e);return[t,r,"n"]}function RCe(e,t,r){return r==null&&(r=Ye(8)),jf(t,r),W9(e.v,r),r}function LCe(e){var t=Qo(e),r=aC(e);return[t,r,"is"]}function BCe(e){var t=Qo(e),r=Yi(e);return[t,r,"str"]}function $Ce(e,t,r){return r==null&&(r=Ye(12+4*e.v.length)),_f(t,r),fi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function zCe(e){var t=Nf(e),r=Yi(e);return[t,r,"str"]}function UCe(e,t,r){return r==null&&(r=Ye(8+4*e.v.length)),jf(t,r),fi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function HCe(e,t,r){var n=e.l+t,a=Qo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=x5(e,n-e.l,r);o[3]=zi(l,null,a,r.supbooks,r)}else e.l=n;return o}function WCe(e,t,r){var n=e.l+t,a=Qo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=x5(e,n-e.l,r);o[3]=zi(l,null,a,r.supbooks,r)}else e.l=n;return o}function VCe(e,t,r){var n=e.l+t,a=Qo(e);a.r=r["!row"];var i=Wi(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=x5(e,n-e.l,r);o[3]=zi(l,null,a,r.supbooks,r)}else e.l=n;return o}function qCe(e,t,r){var n=e.l+t,a=Qo(e);a.r=r["!row"];var i=Yi(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=x5(e,n-e.l,r);o[3]=zi(l,null,a,r.supbooks,r)}else e.l=n;return o}var GCe=Sf,YCe=um;function XCe(e,t){return t==null&&(t=Ye(4)),t.write_shift(4,e),t}function KCe(e,t){var r=e.l+t,n=Sf(e),a=iC(e),i=Yi(e),o=Yi(e),l=Yi(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function QCe(e,t){var r=Ye(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));um({s:qn(e[0]),e:qn(e[0])},r),sC("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return fi(a||"",r),fi(e[1].Tooltip||"",r),fi("",r),r.slice(0,r.l)}function JCe(){}function ZCe(e,t,r){var n=e.l+t,a=V9(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=NAe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function eEe(e,t,r){var n=e.l+t,a=Sf(e),i=[a];if(r.cellFormula){var o=SAe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function tEe(e,t,r){r==null&&(r=Ye(18));var n=g5(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var XB=["left","right","top","bottom","header","footer"];function rEe(e){var t={};return XB.forEach(function(r){t[r]=Wi(e)}),t}function nEe(e,t){return t==null&&(t=Ye(6*8)),D0(e),XB.forEach(function(r){Z0(e[r],t)}),t}function aEe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function iEe(e,t,r){r==null&&(r=Ye(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function sEe(e){var t=Ye(24);return t.write_shift(4,4),t.write_shift(4,1),um(e,t),t}function oEe(e,t){return t==null&&(t=Ye(16*4+2)),t.write_shift(2,e.password?hC(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function lEe(){}function cEe(){}function uEe(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,x,g,v,b,y,w,N,S=[];l.biff=12,l["!row"]=0;var j=0,A=!1,T=[],R={},O=l.supbooks||a.supbooks||[[]];if(O.sharedf=R,O.arrayf=T,O.SheetNames=a.SheetNames||a.Sheets.map(function(X){return X.name}),!l.supbooks&&(l.supbooks=O,a.Names))for(var E=0;E<a.Names.length;++E)O[0][E+1]=a.Names[E];var L=[],B=[],G=!1;Y1[16]={n:"BrtShortReal",f:YB};var U;if(gu(e,function(q,le,se){if(!h)switch(se){case 148:u=q;break;case 0:p=q,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),w=ba(g=p.r),l["!row"]=p.r,(q.hidden||q.hpt||q.level!=null)&&(q.hpt&&(q.hpx=Pp(q.hpt)),B[q.r]=q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:q[2]},q[2]){case"n":m.v=q[1];break;case"s":y=Ux[q[1]],m.v=y.t,m.r=y.r;break;case"b":m.v=!!q[1];break;case"e":m.v=q[1],l.cellText!==!1&&(m.w=vu[m.v]);break;case"str":m.t="s",m.v=q[1];break;case"is":m.t="s",m.v=q[1].t;break}if((x=o.CellXf[q[0].iStyleRef])&&VB(m,x.numFmtId,null,l,i,o),v=q[0].c==-1?v+1:q[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=m):c[Vn(v)+w]=m,l.cellFormula){for(A=!1,j=0;j<T.length;++j){var I=T[j];p.r>=I[0].s.r&&p.r<=I[0].e.r&&v>=I[0].s.c&&v<=I[0].e.c&&(m.F=ir(I[0]),A=!0)}!A&&q.length>3&&(m.f=q[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),l.cellDates&&x&&m.t=="n"&&om(Wt[x.numFmtId])){var P=_0(m.v);P&&(m.t="d",m.v=new Date(P.y,P.m-1,P.d,P.H,P.M,P.S,P.u))}U&&(U.type=="XLDAPR"&&(m.D=!0),U=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;m={t:"z",v:void 0},v=q[0].c==-1?v+1:q[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=m):c[Vn(v)+w]=m,d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),U&&(U.type=="XLDAPR"&&(m.D=!0),U=void 0);break;case 176:S.push(q);break;case 49:U=((l.xlmeta||{}).Cell||[])[q-1];break;case 494:var M=n["!id"][q.relId];for(M?(q.Target=M.Target,q.loc&&(q.Target+="#"+q.loc),q.Rel=M):q.relId==""&&(q.Target="#"+q.loc),g=q.rfx.s.r;g<=q.rfx.e.r;++g)for(v=q.rfx.s.c;v<=q.rfx.e.c;++v)l.dense?(c[g]||(c[g]=[]),c[g][v]||(c[g][v]={t:"z",v:void 0}),c[g][v].l=q):(b=qt({c:v,r:g}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=q);break;case 426:if(!l.cellFormula)break;T.push(q),N=l.dense?c[g][v]:c[Vn(v)+w],N.f=zi(q[1],d,{r:p.r,c:v},O,l),N.F=ir(q[0]);break;case 427:if(!l.cellFormula)break;R[qt(q[0].s)]=q[1],N=l.dense?c[g][v]:c[Vn(v)+w],N.f=zi(q[1],d,{r:p.r,c:v},O,l);break;case 60:if(!l.cellStyles)break;for(;q.e>=q.s;)L[q.e--]={width:q.w/256,hidden:!!(q.flags&1),level:q.level},G||(G=!0,pC(q.w/256)),Nd(L[q.e+1]);break;case 161:c["!autofilter"]={ref:ir(q)};break;case 476:c["!margins"]=q;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),q.name&&(a.Sheets[r].CodeName=q.name),(q.above||q.left)&&(c["!outline"]={above:q.above,left:q.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),q.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!le.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+se.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=ir(u||d)),l.sheetRows&&c["!ref"]){var W=Tr(c["!ref"]);l.sheetRows<=+W.e.r&&(W.e.r=l.sheetRows-1,W.e.r>d.e.r&&(W.e.r=d.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>d.e.c&&(W.e.c=d.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ir(W))}return S.length>0&&(c["!merges"]=S),L.length>0&&(c["!cols"]=L),B.length>0&&(c["!rows"]=B),c}function dEe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Rn(t),t.z=t.z||Wt[14],t.v=Ja(Fn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Rd(a.cellXfs,t,a),t.l&&i["!links"].push([qt(c),t.l]),t.c&&i["!comments"].push([qt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=bC(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?et(e,18,TCe(t,c)):et(e,7,ECe(t,c))):(c.t="str",o?et(e,17,UCe(t,c)):et(e,6,$Ce(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?et(e,13,RCe(t,c)):et(e,2,MCe(t,c)):o?et(e,16,DCe(t,c)):et(e,5,PCe(t,c)),!0;case"b":return c.t="b",o?et(e,15,_Ce(t,c)):et(e,4,yCe(t,c)),!0;case"e":return c.t="e",o?et(e,14,ACe(t,c)):et(e,3,jCe(t,c)),!0}return o?et(e,12,vCe(t,c)):et(e,1,xCe(t,c)),!0}function fEe(e,t,r,n){var a=Tr(t["!ref"]||"A1"),i,o="",l=[];et(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=ba(d),cCe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=Vn(h)),i=l[h]+o;var p=c?(t[d]||[])[h]:t[i];if(!p){f=!1;continue}f=dEe(e,p,d,h,n,t,f)}}et(e,146)}function hEe(e,t){!t||!t["!merges"]||(et(e,177,XCe(t["!merges"].length)),t["!merges"].forEach(function(r){et(e,176,YCe(r))}),et(e,178))}function pEe(e,t){!t||!t["!cols"]||(et(e,390),t["!cols"].forEach(function(r,n){r&&et(e,60,tEe(n,r))}),et(e,391))}function mEe(e,t){!t||!t["!ref"]||(et(e,648),et(e,649,sEe(Tr(t["!ref"]))),et(e,650))}function xEe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Jr(r,-1,n[1].Target.replace(/#.*$/,""),fr.HLINK);et(e,494,QCe(n,a))}}),delete t["!links"]}function gEe(e,t,r,n){if(t["!comments"].length>0){var a=Jr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",fr.VML);et(e,551,sC("rId"+a)),t["!legacy"]=a}}function vEe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:ir(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ds(i);l.s.r==l.e.r&&(l.e.r=Ds(t["!ref"]).e.r,i=ir(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),et(e,161,um(Tr(i))),et(e,162)}}function bEe(e,t,r){et(e,133),et(e,137,iEe(t,r)),et(e,138),et(e,134)}function yEe(e,t){t["!protect"]&&et(e,535,oEe(t["!protect"]))}function wEe(e,t,r,n){var a=Ps(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Tr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],et(a,129),(r.vbaraw||o["!outline"])&&et(a,147,pCe(l,o["!outline"])),et(a,148,dCe(c)),bEe(a,o,r.Workbook),pEe(a,o),fEe(a,o,e,t),yEe(a,o),vEe(a,o,r,e),hEe(a,o),xEe(a,o,n),o["!margins"]&&et(a,476,nEe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&mEe(a,o),gEe(a,o,e,n),et(a,130),a.end()}function _Ee(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=kr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function NEe(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=_Ee(f);d.s.r=d.s.c=0,d.e.c=l,u=Vn(l),h[0].forEach(function(p,m){o[u+ba(m)]={t:"n",v:p,z:h[1]},c=m}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=ir(d)),o}function jEe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(qB);return l&&yC(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function SEe(e,t){e.l+=10;var r=Yi(e);return{name:r}}function AEe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return gu(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var wC=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],CEe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],EEe=[],kEe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function CP(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=In(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function EP(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=In(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function KB(e){EP(e.WBProps,wC),EP(e.CalcPr,kEe),CP(e.WBView,CEe),CP(e.Sheets,EEe),Xh.date1904=In(e.WBProps.date1904)}function TEe(e){return!e.Workbook||!e.Workbook.WBProps?"false":In(e.Workbook.WBProps.date1904)?"true":"false"}var OEe="][*?/\\".split("");function QB(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return OEe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function PEe(e,t,r){e.forEach(function(n,a){QB(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function DEe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];PEe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)TAe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var IEe=/<\w+:workbook/;function MEe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Ki,function(c,u){var d=Gt(c);switch(vc(d[0])){case"<?xml":break;case"<workbook":c.match(IEe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":wC.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=In(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=un(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=kr(un(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=un(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),In(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=kr(un(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),wf.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return KB(r),r}function JB(e){var t=[wa];t[t.length]=lt("workbook",null,{xmlns:wf[0],"xmlns:r":Wa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(wC.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=lt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:en(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=lt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=lt("definedName",en(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function FEe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=pj(e),r.name=Yi(e),r}function REe(e,t){return t||(t=Ye(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),sC(e.strRelID,t),fi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function LEe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Yi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function BEe(e,t){t||(t=Ye(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),H9(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function $Ee(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function zEe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=g_e(e),o=jAe(e,0,r),l=iC(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function UEe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Y1[16]={n:"BrtFRTArchID$",f:$Ee},gu(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=zi(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),KB(r),r.Names=i,r.supbooks=o,r}function HEe(e,t){et(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};et(e,156,REe(a))}et(e,144)}function WEe(e,t){t||(t=Ye(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return fi("SheetJS",t),fi(yy.version,t),fi(yy.version,t),fi("7262",t),t.length>t.l?t.slice(0,t.l):t}function VEe(e,t){t||(t=Ye(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function qEe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(et(e,135),et(e,158,VEe(a)),et(e,136))}}function GEe(e,t){var r=Ps();return et(r,131),et(r,128,WEe()),et(r,153,BEe(e.Workbook&&e.Workbook.WBProps||null)),qEe(r,e),HEe(r,e),et(r,132),r.end()}function YEe(e,t,r){return t.slice(-4)===".bin"?UEe(e,r):MEe(e,r)}function XEe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?uEe(e,n,r,a,i,o,l):zAe(e,n,r,a,i,o,l)}function KEe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?AEe(e,n,r,a,i):jEe(e,n,r,a,i)}function QEe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?Zje():eSe()}function JEe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?Qje():Jje()}function ZEe(e,t,r,n){return t.slice(-4)===".bin"?Y3e(e,r,n):F3e(e,r,n)}function eke(e,t,r){return PB(e,r)}function tke(e,t,r){return t.slice(-4)===".bin"?t3e(e,r):JNe(e,r)}function rke(e,t,r){return t.slice(-4)===".bin"?qje(e,r):Rje(e,r)}function nke(e,t,r){return t.slice(-4)===".bin"?Ije(e):Pje(e)}function ake(e,t,r,n){return r.slice(-4)===".bin"?Mje(e,t,r,n):void 0}function ike(e,t,r){return t.slice(-4)===".bin"?kje(e,t,r):Oje(e,t,r)}function ske(e,t,r){return(t.slice(-4)===".bin"?GEe:JB)(e)}function oke(e,t,r,n,a){return(t.slice(-4)===".bin"?wEe:GB)(e,r,n,a)}function lke(e,t,r){return(t.slice(-4)===".bin"?aje:TB)(e,r)}function cke(e,t,r){return(t.slice(-4)===".bin"?a3e:_B)(e,r)}function uke(e,t,r){return(t.slice(-4)===".bin"?Gje:MB)(e)}function dke(e){return(e.slice(-4)===".bin"?Tje:DB)()}var ZB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,e$=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ll(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(ZB),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(e$),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function fke(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(ZB),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(e$),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var Wx;function hke(e,t){var r=Wx[e]||kr(e);return r==="General"?Q0(t):qo(r,t)}function pke(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=In(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Fn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[kr(t)]=a}function mke(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||vu[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=B1(e.v):e.w=Q0(e.v):e.w=hke(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Wx[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&om(n)){var a=_0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function xke(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=E3e[n.Pattern]||n.Pattern)}e[t.ID]=t}function gke(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],m=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=In(e);break;case"String":n.t="s",n.r=VO(kr(e)),n.v=e.indexOf("<")>-1?kr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Fn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=kr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Y9[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=VO(t||e));break}if(mke(n,d,u),u.cellFormula!==!1)if(n.Formula){var x=kr(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=Yh(x,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Yh("RC:RC",a):n.ArrayRange&&(n.F=Yh(n.ArrayRange,a),c.push([Tr(n.F),n.F]))}else for(m=0;m<c.length;++m)a.r>=c[m][0].s.r&&a.r<=c[m][0].e.r&&a.c>=c[m][0].s.c&&a.c<=c[m][0].e.c&&(n.F=c[m][1]);u.cellStyles&&(p.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function vke(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function y4(e,t){var r=t||{};lm();var n=yx(ZA(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=un(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Rn(r);return o.type="string",Op.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(oe){a.indexOf("<"+oe)>=0&&(i=!0)}),i)return n6e(n,r);Wx={"General Number":"General","General Date":Wt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Wt[15],"Short Date":Wt[14],"Long Time":Wt[19],"Medium Time":Wt[18],"Short Time":Wt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Wt[2],Standard:Wt[4],Percent:Wt[10],Scientific:Wt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},p="",m={},x={},g=ll('<Data ss:Type="String">'),v=0,b=0,y=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},S={},j="",A=0,T=[],R={},O={},E=0,L=[],B=[],G={},U=[],W,X=!1,q=[],le=[],se={},I=0,P=0,M={Sheets:[],WBProps:{date1904:!1}},z={};U1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";l=U1.exec(n);)switch(l[3]=(Y=l[3]).toLowerCase()){case"data":if(Y=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?gke(n.slice(v,l.index),j,g,c[c.length-1][0]=="comment"?G:m,{c:b,r:y},N,U[b],x,q,r):(j="",g=ll(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(B.length>0&&(m.c=B),(!r.sheetRows||r.sheetRows>y)&&m.v!==void 0&&(r.dense?(h[y]||(h[y]=[]),h[y][b]=m):h[Vn(b)+ba(y)]=m),m.HRef&&(m.l={Target:kr(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(I=b+(parseInt(m.MergeAcross,10)|0),P=y+(parseInt(m.MergeDown,10)|0),T.push({s:{c:b,r:y},e:{c:I,r:P}})),!r.sheetStubs)m.MergeAcross?b=I+1:++b;else if(m.MergeAcross||m.MergeDown){for(var ae=b;ae<=I;++ae)for(var ue=y;ue<=P;++ue)(ae>b||ue>y)&&(r.dense?(h[ue]||(h[ue]=[]),h[ue][ae]={t:"z"}):h[Vn(ae)+ba(ue)]={t:"z"});b=I+1}else++b;else m=fke(l[0]),m.Index&&(b=+m.Index-1),b<w.s.c&&(w.s.c=b),b>w.e.c&&(w.e.c=b),l[0].slice(-2)==="/>"&&++b,B=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(y<w.s.r&&(w.s.r=y),y>w.e.r&&(w.e.r=y),l[0].slice(-2)==="/>"&&(x=ll(l[0]),x.Index&&(y=+x.Index-1)),b=0,++y):(x=ll(l[0]),x.Index&&(y=+x.Index-1),se={},(x.AutoFitHeight=="0"||x.Height)&&(se.hpx=parseInt(x.Height,10),se.hpt=G1(se.hpx),le[y]=se),x.Hidden=="1"&&(se.hidden=!0,le[y]=se));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(h["!ref"]=ir(w),r.sheetRows&&r.sheetRows<=w.e.r&&(h["!fullref"]=h["!ref"],w.e.r=r.sheetRows-1,h["!ref"]=ir(w))),T.length&&(h["!merges"]=T),U.length>0&&(h["!cols"]=U),le.length>0&&(h["!rows"]=le),d[p]=h}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,c.push([l[3],!1]),u=ll(l[0]),p=kr(u.Name),h=r.dense?[]:{},T=[],q=[],le=[],z={name:p,Hidden:0},M.Sheets.push(z);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),U=[],X=!1}break;case"style":l[1]==="/"?xke(N,S,r):S=ll(l[0]);break;case"numberformat":S.nf=kr(ll(l[0]).Format||"General"),Wx[S.nf]&&(S.nf=Wx[S.nf]);for(var ne=0;ne!=392&&Wt[ne]!=S.nf;++ne);if(ne==392){for(ne=57;ne!=392;++ne)if(Wt[ne]==null){Jc(S.nf,ne);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(W=ll(l[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!X&&W.wpx>10){X=!0,Hi=EB;for(var _e=0;_e<U.length;++_e)U[_e]&&Nd(U[_e])}X&&Nd(W),U[W.Index-1||U.length]=W;for(var Ce=0;Ce<+W.Span;++Ce)U[U.length]=Rn(W);break;case"namedrange":if(l[1]==="/")break;M.Names||(M.Names=[]);var V=Gt(l[0]),Me={Name:V.Name,Ref:Yh(V.RefersTo.slice(1),{r:0,c:0})};M.Sheets.length>0&&(Me.Sheet=M.Sheets.length-1),M.Names.push(Me);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(A,l.index):A=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=ll(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?U_e(R,Y,n.slice(E,l.index)):E=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));vke(G),B.push(G)}else c.push([l[3],!1]),u=ll(l[0]),G={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Ae=ll(l[0]);h["!autofilter"]={ref:Yh(Ae.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return DP(n,r);var pe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(l[3]){case"date1904":M.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(E,l.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else E=l.index+l[0].length;break;case"header":h["!margins"]||D0(h["!margins"]={},"xlml"),isNaN(+Gt(l[0]).Margin)||(h["!margins"].header=+Gt(l[0]).Margin);break;case"footer":h["!margins"]||D0(h["!margins"]={},"xlml"),isNaN(+Gt(l[0]).Margin)||(h["!margins"].footer=+Gt(l[0]).Margin);break;case"pagemargins":var re=Gt(l[0]);h["!margins"]||D0(h["!margins"]={},"xlml"),isNaN(+re.Top)||(h["!margins"].top=+re.Top),isNaN(+re.Left)||(h["!margins"].left=+re.Left),isNaN(+re.Right)||(h["!margins"].right=+re.Right),isNaN(+re.Bottom)||(h["!margins"].bottom=+re.Bottom);break;case"displayrighttoleft":M.Views||(M.Views=[]),M.Views[0]||(M.Views[0]={}),M.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?pke(O,Y,L,n.slice(E,l.index)):(L=l,E=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Oe={};return!r.bookSheets&&!r.bookProps&&(Oe.Sheets=d),Oe.SheetNames=f,Oe.Workbook=M,Oe.SSF=Rn(Wt),Oe.Props=R,Oe.Custprops=O,Oe}function wj(e,t){switch(NC(t=t||{}),t.type||"base64"){case"base64":return y4(lo(e),t);case"binary":case"buffer":case"file":return y4(e,t);case"array":return y4(Md(e),t)}}function bke(e,t){var r=[];return e.Props&&r.push(H_e(e.Props,t)),e.Custprops&&r.push(W_e(e.Props,e.Custprops)),r.join("")}function yke(){return""}function wke(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(lt("NumberFormat",null,{"ss:Format":en(Wt[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(lt("Style",i.join(""),o))}),lt("Styles",r.join(""))}function t$(e){return lt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+gC(e.Ref,{r:0,c:0})})}function _ke(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(t$(a)))}return lt("Names",r.join(""))}function Nke(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(t$(l)))}return i.join("")}function jke(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(lt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(lt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(lt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(lt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Si("ProtectContents","True")),e["!protect"].objects&&a.push(Si("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Si("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Si("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Si("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":lt("WorksheetOptions",a.join(""),{xmlns:Ks.x})}function Ske(e){return e.map(function(t){var r=q5e(t.t||""),n=lt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return lt("Comment",n,{"ss:Author":t.a})}).join("")}function Ake(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+en(gC(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=qn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=en(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=en(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=vu[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Wt[14]);break;case"s":f="String",h=V5e(e.v||"");break}var p=Rd(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var m=e.v!=null?h:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+m+"</Data>";return(e.c||[]).length>0&&(x+=Ske(e.c)),lt("Cell",x,l)}function Cke(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Pp(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Eke(e,t,r,n){if(!e["!ref"])return"";var a=Tr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,v){Nd(g);var b=!!g.width,y=g5(v,g),w={"ss:Index":v+1};b&&(w["ss:Width"]=V1(y.width)),g.hidden&&(w["ss:Hidden"]="1"),l.push(lt("Column",null,w))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[Cke(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},m=qt(p),x=c?(e[u]||[])[f]:e[m];d.push(Ake(x,m,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function kke(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?Nke(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?Eke(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(jke(i,t,e,r)),n.join("")}function Tke(e,t){t||(t={}),e.SSF||(e.SSF=Rn(Wt)),e.SSF&&(lm(),u5(e.SSF),t.revssf=f5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Rd(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(bke(e,t)),r.push(yke()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(lt("Worksheet",kke(n,t,e),{"ss:Name":en(e.SheetNames[n])}));return r[2]=wke(e,t),r[3]=_ke(e),wa+lt("Workbook",r.join(""),{xmlns:Ks.ss,"xmlns:o":Ks.o,"xmlns:x":Ks.x,"xmlns:ss":Ks.ss,"xmlns:dt":Ks.dt,"xmlns:html":Ks.html})}function Oke(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=__e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=N_e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Pke=[60,1084,2066,2165,2175];function Dke(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Vc(r,r.l),u=_j[c],d=0;u!=null&&Pke.indexOf(c)>-1;)i=Vc(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=_j[c=Vc(r,r.l)];var f=di(o);Ni(f,0);var h=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(h),h+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Rl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Wt[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||vu[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=B1(e.v):e.w=Q0(e.v):e.w=qo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&om(Wt[n]||String(n))){var a=_0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function u2(e,t,r){return{v:e,ixfe:t,t:r}}function Ike(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,h="",p,m,x,g,v={},b=[],y,w,N=[],S=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},T=function(ft){return ft<8?T0[ft]:ft<64&&S[ft-8]||T0[ft]},R=function(ft,it,Fr){var Dt=it.XF.data;if(!(!Dt||!Dt.patternType||!Fr||!Fr.cellStyles)){it.s={},it.s.patternType=Dt.patternType;var sa;(sa=W1(T(Dt.icvFore)))&&(it.s.fgColor={rgb:sa}),(sa=W1(T(Dt.icvBack)))&&(it.s.bgColor={rgb:sa})}},O=function(ft,it,Fr){if(!(se>1)&&!(Fr.sheetRows&&ft.r>=Fr.sheetRows)){if(Fr.cellStyles&&it.XF&&it.XF.data&&R(ft,it,Fr),delete it.ixfe,delete it.XF,f=ft,h=qt(ft),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ft.r<o.s.r&&(o.s.r=ft.r),ft.c<o.s.c&&(o.s.c=ft.c),ft.r+1>o.e.r&&(o.e.r=ft.r+1),ft.c+1>o.e.c&&(o.e.c=ft.c+1),Fr.cellFormula&&it.f){for(var Dt=0;Dt<b.length;++Dt)if(!(b[Dt][0].s.c>ft.c||b[Dt][0].s.r>ft.r)&&!(b[Dt][0].e.c<ft.c||b[Dt][0].e.r<ft.r)){it.F=ir(b[Dt][0]),(b[Dt][0].s.c!=ft.c||b[Dt][0].s.r!=ft.r)&&delete it.f,it.f&&(it.f=""+zi(b[Dt][1],o,ft,q,E));break}}Fr.dense?(a[ft.r]||(a[ft.r]=[]),a[ft.r][ft.c]=it):a[h]=it}},E={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(E.password=t.password);var L,B=[],G=[],U=[],W=[],X=!1,q=[];q.SheetNames=E.snames,q.sharedf=E.sharedf,q.arrayf=E.arrayf,q.names=[],q.XTI=[];var le=0,se=0,I=0,P=[],M=[],z;E.codepage=1200,bl(1200);for(var Y=!1;e.l<e.length-1;){var ae=e.l,ue=e.read_shift(2);if(ue===0&&le===10)break;var ne=e.l===e.length?0:e.read_shift(2),_e=_j[ue];if(_e&&_e.f){if(t.bookSheets&&le===133&&ue!==133)break;if(le=ue,_e.r===2||_e.r==12){var Ce=e.read_shift(2);if(ne-=2,!E.enc&&Ce!==ue&&((Ce&255)<<8|Ce>>8)!==ue)throw new Error("rt mismatch: "+Ce+"!="+ue);_e.r==12&&(e.l+=10,ne-=10)}var V={};if(ue===10?V=_e.f(e,ne,E):V=Dke(ue,_e,e,ne,E),se==0&&[9,521,1033,2057].indexOf(le)===-1)continue;switch(ue){case 34:r.opts.Date1904=j.WBProps.date1904=V;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(E.enc||(e.l=0),E.enc=V,!t.password)throw new Error("File is password-protected");if(V.valid==null)throw new Error("Encryption scheme unsupported");if(!V.valid)throw new Error("Password is incorrect");break;case 92:E.lastuser=V;break;case 66:var Me=Number(V);switch(Me){case 21010:Me=1200;break;case 32768:Me=1e4;break;case 32769:Me=1252;break}bl(E.codepage=Me),Y=!0;break;case 317:E.rrtabid=V;break;case 25:E.winlocked=V;break;case 439:r.opts.RefreshAll=V;break;case 12:r.opts.CalcCount=V;break;case 16:r.opts.CalcDelta=V;break;case 17:r.opts.CalcIter=V;break;case 13:r.opts.CalcMode=V;break;case 14:r.opts.CalcPrecision=V;break;case 95:r.opts.CalcSaveRecalc=V;break;case 15:E.CalcRefMode=V;break;case 2211:r.opts.FullCalc=V;break;case 129:V.fDialog&&(a["!type"]="dialog"),V.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),V.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:N.push(V);break;case 430:q.push([V]),q[q.length-1].XTI=[];break;case 35:case 547:q[q.length-1].push(V);break;case 24:case 536:z={Name:V.Name,Ref:zi(V.rgce,o,null,q,E)},V.itab>0&&(z.Sheet=V.itab-1),q.names.push(z),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push(V),V.Name=="_xlnm._FilterDatabase"&&V.itab>0&&V.rgce&&V.rgce[0]&&V.rgce[0][0]&&V.rgce[0][0][0]=="PtgArea3d"&&(M[V.itab-1]={ref:ir(V.rgce[0][0][1][2])});break;case 22:E.ExternCount=V;break;case 23:q.length==0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(V),q.XTI=q.XTI.concat(V);break;case 2196:if(E.biff<8)break;z!=null&&(z.Comment=V[1]);break;case 18:a["!protect"]=V;break;case 19:V!==0&&E.WTF&&console.error("Password verifier: "+V);break;case 133:i[V.pos]=V,E.snames.push(V.name);break;case 10:{if(--se)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=ir(o),t.sheetRows&&t.sheetRows<=o.e.r){var Ae=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=ir(o),o.e.r=Ae}o.e.r++,o.e.c++}B.length>0&&(a["!merges"]=B),G.length>0&&(a["!objects"]=G),U.length>0&&(a["!cols"]=U),W.length>0&&(a["!rows"]=W),j.Sheets.push(A)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(E.biff===8&&(E.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[V.BIFFVer]||8),E.biffguess=V.BIFFVer==0,V.BIFFVer==0&&V.dt==4096&&(E.biff=5,Y=!0,bl(E.codepage=28591)),E.biff==8&&V.BIFFVer==0&&V.dt==16&&(E.biff=2),se++)break;if(a=t.dense?[]:{},E.biff<8&&!Y&&(Y=!0,bl(E.codepage=t.codepage||1252)),E.biff<5||V.BIFFVer==0&&V.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:e.l-ne,name:u};i[pe.pos]=pe,E.snames.push(u)}else u=(i[ae]||{name:""}).name;V.dt==32&&(a["!type"]="chart"),V.dt==64&&(a["!type"]="macro"),B=[],G=[],E.arrayf=b=[],U=[],W=[],X=!1,A={Hidden:(i[ae]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[V.r]||[])[V.c]:a[qt({c:V.c,r:V.r})])&&++V.c,y={ixfe:V.ixfe,XF:N[V.ixfe]||{},v:V.val,t:"n"},I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O({c:V.c,r:V.r},y,t);break;case 5:case 517:y={ixfe:V.ixfe,XF:N[V.ixfe],v:V.val,t:V.t},I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O({c:V.c,r:V.r},y,t);break;case 638:y={ixfe:V.ixfe,XF:N[V.ixfe],v:V.rknum,t:"n"},I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O({c:V.c,r:V.r},y,t);break;case 189:for(var re=V.c;re<=V.C;++re){var Oe=V.rkrec[re-V.c][0];y={ixfe:Oe,XF:N[Oe],v:V.rkrec[re-V.c][1],t:"n"},I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O({c:re,r:V.r},y,t)}break;case 6:case 518:case 1030:{if(V.val=="String"){l=V;break}if(y=u2(V.val,V.cell.ixfe,V.tt),y.XF=N[y.ixfe],t.cellFormula){var oe=V.formula;if(oe&&oe[0]&&oe[0][0]&&oe[0][0][0]=="PtgExp"){var de=oe[0][0][1][0],ye=oe[0][0][1][1],Ie=qt({r:de,c:ye});v[Ie]?y.f=""+zi(V.formula,o,V.cell,q,E):y.F=((t.dense?(a[de]||[])[ye]:a[Ie])||{}).F}else y.f=""+zi(V.formula,o,V.cell,q,E)}I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O(V.cell,y,t),l=V}break;case 7:case 519:if(l)l.val=V,y=u2(V,l.cell.ixfe,"s"),y.XF=N[y.ixfe],t.cellFormula&&(y.f=""+zi(l.formula,o,l.cell,q,E)),I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O(l.cell,y,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(V);var Ne=qt(V[0].s);if(p=t.dense?(a[V[0].s.r]||[])[V[0].s.c]:a[Ne],t.cellFormula&&p){if(!l||!Ne||!p)break;p.f=""+zi(V[1],o,V[0],q,E),p.F=ir(V[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;v[qt(l.cell)]=V[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[qt(l.cell)],(p||{}).f=""+zi(V[0],o,f,q,E)}}break;case 253:y=u2(c[V.isst].t,V.ixfe,"s"),c[V.isst].h&&(y.h=c[V.isst].h),y.XF=N[y.ixfe],I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O({c:V.c,r:V.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:V.ixfe,XF:N[V.ixfe],t:"z"},I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O({c:V.c,r:V.r},y,t));break;case 190:if(t.sheetStubs)for(var Pe=V.c;Pe<=V.C;++Pe){var Xe=V.ixfe[Pe-V.c];y={ixfe:Xe,XF:N[Xe],t:"z"},I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O({c:Pe,r:V.r},y,t)}break;case 214:case 516:case 4:y=u2(V.val,V.ixfe,"s"),y.XF=N[y.ixfe],I>0&&(y.z=P[y.ixfe>>8&63]),Rl(y,t,r.opts.Date1904),O({c:V.c,r:V.r},y,t);break;case 0:case 512:se===1&&(o=V);break;case 252:c=V;break;case 1054:if(E.biff==4){P[I++]=V[1];for(var tt=0;tt<I+163&&Wt[tt]!=V[1];++tt);tt>=163&&Jc(V[1],I+163)}else Jc(V[1],V[0]);break;case 30:{P[I++]=V;for(var gt=0;gt<I+163&&Wt[gt]!=V;++gt);gt>=163&&Jc(V,I+163)}break;case 229:B=B.concat(V);break;case 93:G[V.cmo[0]]=E.lastobj=V;break;case 438:E.lastobj.TxO=V;break;case 127:E.lastobj.ImData=V;break;case 440:for(g=V[0].s.r;g<=V[0].e.r;++g)for(x=V[0].s.c;x<=V[0].e.c;++x)p=t.dense?(a[g]||[])[x]:a[qt({c:x,r:g})],p&&(p.l=V[1]);break;case 2048:for(g=V[0].s.r;g<=V[0].e.r;++g)for(x=V[0].s.c;x<=V[0].e.c;++x)p=t.dense?(a[g]||[])[x]:a[qt({c:x,r:g})],p&&p.l&&(p.l.Tooltip=V[1]);break;case 28:{if(E.biff<=5&&E.biff>=2)break;p=t.dense?(a[V[0].r]||[])[V[0].c]:a[qt(V[0])];var Nt=G[V[2]];p||(t.dense?(a[V[0].r]||(a[V[0].r]=[]),p=a[V[0].r][V[0].c]={t:"z"}):p=a[qt(V[0])]={t:"z"},o.e.r=Math.max(o.e.r,V[0].r),o.s.r=Math.min(o.s.r,V[0].r),o.e.c=Math.max(o.e.c,V[0].c),o.s.c=Math.min(o.s.c,V[0].c)),p.c||(p.c=[]),m={a:V[1],t:Nt.TxO.t},p.c.push(m)}break;case 2173:wje(N[V.ixfe],V.ext);break;case 125:{if(!E.cellStyles)break;for(;V.e>=V.s;)U[V.e--]={width:V.w/256,level:V.level||0,hidden:!!(V.flags&1)},X||(X=!0,pC(V.w/256)),Nd(U[V.e+1])}break;case 520:{var Pt={};V.level!=null&&(W[V.r]=Pt,Pt.level=V.level),V.hidden&&(W[V.r]=Pt,Pt.hidden=!0),V.hpt&&(W[V.r]=Pt,Pt.hpt=V.hpt,Pt.hpx=Pp(V.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||D0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=V;break;case 161:a["!margins"]||D0(a["!margins"]={}),a["!margins"].header=V.header,a["!margins"].footer=V.footer;break;case 574:V.RTL&&(j.Views[0].RTL=!0);break;case 146:S=V;break;case 2198:L=V;break;case 140:w=V;break;case 442:u?A.CodeName=V||A.name:j.WBProps.CodeName=V||"ThisWorkbook";break}}else _e||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=ne}return r.SheetNames=aa(i).sort(function(kt,ft){return Number(kt)-Number(ft)}).map(function(kt){return i[kt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&M.forEach(function(kt,ft){r.Sheets[r.SheetNames[ft]]["!autofilter"]=kt}),r.Strings=c,r.SSF=Rn(Wt),E.enc&&(r.Encryption=E.enc),L&&(r.Themes=L),r.Metadata={},w!==void 0&&(r.Metadata.Country=w),q.names.length>0&&(j.Names=q.names),r.Workbook=j,r}var Vx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Mke(e,t,r){var n=Ft.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=cP(n,mj,Vx.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Ft.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=cP(o,xj,Vx.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(eB(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Fke(e,t){var r=[],n=[],a=[],i=0,o,l=BO(mj,"n"),c=BO(xj,"n");if(e.Props)for(o=aa(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=aa(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)oB.indexOf(a[i][0])>-1||Z9.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Ft.utils.cfb_add(t,"/SummaryInformation",uP(n,Vx.SI,c,xj)),(r.length||u.length)&&Ft.utils.cfb_add(t,"/DocumentSummaryInformation",uP(r,Vx.DSI,l,mj,u.length?u:null,Vx.UDI))}function r$(e,t){t||(t={}),NC(t),WA(),t.codepage&&HA(t.codepage);var r,n;if(e.FullPaths){if(Ft.find(e,"/encryption"))throw new Error("File is password-protected");r=Ft.find(e,"!CompObj"),n=Ft.find(e,"/Workbook")||Ft.find(e,"/Book")}else{switch(t.type){case"base64":e=Zs(lo(e));break;case"binary":e=Zs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ni(e,0),n={content:e}}var a,i;if(r&&Oke(r),t.bookProps&&!t.bookSheets)a={};else{var o=cr?"buffer":"array";if(n&&n.content)a=Ike(n.content,t);else if((i=Ft.find(e,"PerfectOffice_MAIN"))&&i.content)a=P0.to_workbook(i.content,(t.type=o,t));else if((i=Ft.find(e,"NativeContent_MAIN"))&&i.content)a=P0.to_workbook(i.content,(t.type=o,t));else throw(i=Ft.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ft.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Xje(e))}var l={};return e.FullPaths&&Mke(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function Rke(e,t){var r=t||{},n=Ft.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ft.utils.cfb_add(n,a,n$(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Fke(e,n),r.biff==8&&e.vbaraw&&Kje(n,Ft.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Y1={0:{f:oCe},1:{f:mCe},2:{f:ICe},3:{f:NCe},4:{f:bCe},5:{f:OCe},6:{f:BCe},7:{f:CCe},8:{f:qCe},9:{f:VCe},10:{f:HCe},11:{f:WCe},12:{f:gCe},13:{f:FCe},14:{f:SCe},15:{f:wCe},16:{f:YB},17:{f:zCe},18:{f:kCe},19:{f:aC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:zEe},40:{},42:{},43:{f:B3e},44:{f:R3e},45:{f:U3e},46:{f:W3e},47:{f:H3e},48:{},49:{f:u_e},50:{},51:{f:jje},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:vB},62:{f:LCe},63:{f:Dje},64:{f:lEe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:aEe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:hCe},148:{f:uCe,p:16},151:{f:JCe},152:{},153:{f:LEe},154:{},155:{},156:{f:FEe},157:{},158:{},159:{T:1,f:e3e},160:{T:-1},161:{T:1,f:Sf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:GCe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_je},336:{T:-1},337:{f:Cje,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:pj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:gB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ZCe},427:{f:eEe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rEe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:fCe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:KCe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:pj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Wje},633:{T:1},634:{T:-1},635:{T:1,f:Uje},636:{T:-1},637:{f:p_e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:SEe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:cEe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},_j={6:{f:v4},10:{f:Lu},12:{f:Ta},13:{f:Ta},14:{f:fa},15:{f:fa},16:{f:Wi},17:{f:fa},18:{f:fa},19:{f:Ta},20:{f:xP},21:{f:xP},23:{f:gB},24:{f:vP},25:{f:fa},26:{},27:{},28:{f:cNe},29:{},34:{f:fa},35:{f:gP},38:{f:Wi},39:{f:Wi},40:{f:Wi},41:{f:Wi},42:{f:fa},43:{f:fa},47:{f:w3e},49:{f:F4e},51:{f:Ta},60:{},61:{f:O4e},64:{f:fa},65:{f:M4e},66:{f:Ta},77:{},80:{},81:{},82:{},85:{f:Ta},89:{},90:{},91:{},92:{f:y4e},93:{f:fNe},94:{},95:{f:fa},96:{},97:{},99:{f:fa},125:{f:vB},128:{f:Q4e},129:{f:_4e},130:{f:Ta},131:{f:fa},132:{f:fa},133:{f:N4e},134:{},140:{f:yNe},141:{f:Ta},144:{},146:{f:NNe},151:{},152:{},153:{},154:{},155:{},156:{f:Ta},157:{},158:{},160:{f:TNe},161:{f:ANe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:G4e},190:{f:Y4e},193:{f:Lu},197:{},198:{},199:{},200:{},201:{},202:{f:fa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ta},220:{},221:{f:fa},222:{},224:{f:K4e},225:{f:b4e},226:{f:Lu},227:{},229:{f:uNe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:S4e},253:{f:L4e},255:{f:C4e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:lB},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fa},353:{f:Lu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:rNe},431:{f:fa},432:{},433:{},434:{},437:{},438:{f:mNe},439:{f:fa},440:{f:xNe},441:{},442:{f:Ag},443:{},444:{f:Ta},445:{},446:{},448:{f:Lu},449:{f:T4e,r:2},450:{f:Lu},512:{f:hP},513:{f:kNe},515:{f:eNe},516:{f:$4e},517:{f:mP},519:{f:ONe},520:{f:E4e},523:{},545:{f:bP},549:{f:fP},566:{},574:{f:D4e},638:{f:q4e},659:{},1048:{},1054:{f:U4e},1084:{},1212:{f:sNe},2048:{f:vNe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:o2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Lu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:jNe,r:12},2173:{f:yje,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:iNe,r:12},2197:{},2198:{f:pje,r:12},2199:{},2200:{},2201:{},2202:{f:oNe,r:12},2203:{f:Lu},2204:{},2205:{},2206:{},2207:{},2211:{f:k4e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ta},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:CNe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:_Ne},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:hP},1:{},2:{f:FNe},3:{f:INe},4:{f:DNe},5:{f:mP},7:{f:LNe},8:{},9:{f:o2},11:{},22:{f:Ta},30:{f:W4e},31:{},32:{},33:{f:bP},36:{},37:{f:fP},50:{f:BNe},62:{},52:{},67:{},68:{f:Ta},69:{},86:{},126:{},127:{f:PNe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:$Ne},223:{},234:{},354:{},421:{},518:{f:v4},521:{f:o2},536:{f:vP},547:{f:gP},561:{},579:{},1030:{f:v4},1033:{f:o2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ct(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&tC(r)&&e.push(r)}}function Lke(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return ct(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Tg(e,t,r){return e||(e=Ye(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Bke(e,t,r,n){var a=Ye(9);return Tg(a,e,t),cB(r,n||"b",a),a}function $ke(e,t,r){var n=Ye(8+2*r.length);return Tg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function zke(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ja(Fn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ct(e,2,RNe(r,n,a)):ct(e,3,MNe(r,n,a));return;case"b":case"e":ct(e,5,Bke(r,n,t.v,t.t));return;case"s":case"str":ct(e,4,$ke(r,n,(t.v||"").slice(0,255)));return}ct(e,1,Tg(null,r,n))}function Uke(e,t,r,n){var a=Array.isArray(t),i=Tr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=ir(i)}for(var u=i.s.r;u<=i.e.r;++u){l=ba(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Vn(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&zke(e,f,u,d)}}}function Hke(e,t){for(var r=t||{},n=Ps(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ct(n,r.biff==4?1033:r.biff==3?521:9,dC(e,16,r)),Uke(n,e.Sheets[e.SheetNames[a]],a,r),ct(n,10),n.end()}function Wke(e,t,r){ct(e,49,R4e({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function Vke(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ct(e,1054,H4e(a,t[a],r))})}function qke(e,t){var r=Ye(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ct(e,2151,r),r=Ye(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),pB(Tr(t["!ref"]||"A1"),r),r.write_shift(4,4),ct(e,2152,r)}function Gke(e,t){for(var r=0;r<16;++r)ct(e,224,pP({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ct(e,224,pP(n,0,t))})}function Yke(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ct(e,440,gNe(n)),n[1].Tooltip&&ct(e,2048,bNe(n))}delete t["!links"]}function Xke(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&ct(e,125,SNe(g5(a,n),a))})}}function Kke(e,t,r,n,a){var i=16+Rd(a.cellXfs,t,a);if(t.v==null&&!t.bf){ct(e,513,tf(r,n,i));return}if(t.bf)ct(e,6,_Ae(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ja(Fn(t.v)):t.v;ct(e,515,tNe(r,n,o,i));break;case"b":case"e":ct(e,517,Z4e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=bC(a.Strings,t.v,a.revStrings);ct(e,253,B4e(r,n,l,i))}else ct(e,516,z4e(r,n,(t.v||"").slice(0,255),i,a));break;default:ct(e,513,tf(r,n,i))}}function Qke(e,t,r){var n=Ps(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],p=Tr(i["!ref"]||"A1"),m=u?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}ct(n,2057,dC(r,16,t)),ct(n,13,Oo(1)),ct(n,12,Oo(100)),ct(n,15,os(!0)),ct(n,17,os(!1)),ct(n,16,Z0(.001)),ct(n,95,os(!0)),ct(n,42,os(!1)),ct(n,43,os(!1)),ct(n,130,Oo(1)),ct(n,128,J4e()),ct(n,131,os(!1)),ct(n,132,os(!1)),u&&Xke(n,i["!cols"]),ct(n,512,V4e(p,t)),u&&(i["!links"]=[]);for(var x=p.s.r;x<=p.e.r;++x){f=ba(x);for(var g=p.s.c;g<=p.e.c;++g){x===p.s.r&&(h[g]=Vn(g)),d=h[g]+f;var v=c?(i[x]||[])[g]:i[d];v&&(Kke(n,v,x,g,t),u&&v.l&&i["!links"].push([d,v.l]))}}var b=l.CodeName||l.name||a;return u&&ct(n,574,I4e((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&ct(n,229,dNe(i["!merges"])),u&&Yke(n,i),ct(n,442,uB(b)),u&&qke(n,i),ct(n,10),n.end()}function Jke(e,t,r){var n=Ps(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(ct(n,2057,dC(e,5,r)),r.bookType=="xla"&&ct(n,135),ct(n,225,l?Oo(1200):null),ct(n,193,Z_e(2)),c&&ct(n,191),c&&ct(n,192),ct(n,226),ct(n,92,w4e("SheetJS",r)),ct(n,66,Oo(l?1200:1252)),l&&ct(n,353,Oo(0)),l&&ct(n,448),ct(n,317,ENe(e.SheetNames.length)),l&&e.vbaraw&&ct(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";ct(n,442,uB(u))}ct(n,156,Oo(17)),ct(n,25,os(!1)),ct(n,18,os(!1)),ct(n,19,Oo(0)),l&&ct(n,431,os(!1)),l&&ct(n,444,Oo(0)),ct(n,61,P4e()),ct(n,64,os(!1)),ct(n,141,Oo(0)),ct(n,34,os(TEe(e)=="true")),ct(n,14,os(!0)),l&&ct(n,439,os(!1)),ct(n,218,Oo(0)),Wke(n,e,r),Vke(n,e.SSF,r),Gke(n,r),l&&ct(n,352,os(!1));var d=n.end(),f=Ps();l&&ct(f,140,wNe()),l&&r.Strings&&Lke(f,252,A4e(r.Strings)),ct(f,10);var h=f.end(),p=Ps(),m=0,x=0;for(x=0;x<e.SheetNames.length;++x)m+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var g=d.length+m+h.length;for(x=0;x<e.SheetNames.length;++x){var v=i[x]||{};ct(p,133,j4e({pos:g,hs:v.Hidden||0,dt:0,name:e.SheetNames[x]},r)),g+=t[x].length}var b=p.end();if(m!=b.length)throw new Error("BS8 "+m+" != "+b.length);var y=[];return d.length&&y.push(d),b.length&&y.push(b),h.length&&y.push(h),di(y)}function Zke(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Rn(Wt)),e&&e.SSF&&(lm(),u5(e.SSF),r.revssf=f5(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,jC(r),r.cellXfs=[],Rd(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Qke(a,r,e);return n.unshift(Jke(e,n,r)),di(n)}function n$(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ds(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Zke(e,t);case 4:case 3:case 2:return Hke(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function kP(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=R5e(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(o=0;o<c.length;++o){var x=c[o].trim(),g=x.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var v=x.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var b=v[l].trim();if(b.match(/<t[dh]/i)){for(var y=b,w=0;y.charAt(0)=="<"&&(w=y.indexOf(">"))>-1;)y=y.slice(w+1);for(var N=0;N<m.length;++N){var S=m[N];S.s.c==d&&S.s.r<u&&u<=S.e.r&&(d=S.e.c+1,N=-1)}var j=Gt(b.slice(0,b.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&m.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var A=j.t||j["data-t"]||"";if(!y.length){d+=h;continue}if(y=C9(y),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!y.length){d+=h;continue}var T={t:"s",v:y};r.raw||!y.trim().length||A=="s"||(y==="TRUE"?T={t:"b",v:!0}:y==="FALSE"?T={t:"b",v:!1}:isNaN(_l(y))?isNaN(Tp(y).getDate())||(T={t:"d",v:Fn(y)},r.cellDates||(T={t:"n",v:Ja(T.v)}),T.z=r.dateNF||Wt[14]):T={t:"n",v:_l(y)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=T):n[qt({r:u,c:d})]=T,d+=h}}}}return n["!ref"]=ir(p),m.length&&(n["!merges"]=m),n}function e6e(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=qt({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||JA(f.w||(du(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(lt("td",h,p))}}var m="<tr>";return m+i.join("")+"</tr>"}var t6e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',r6e="</body></html>";function n6e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Fd(kP(r[0],t),t);var n=CC();return r.forEach(function(a,i){EC(n,kP(a,t),"Sheet"+(i+1))}),n}function a6e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function a$(e,t){var r=t||{},n=r.header!=null?r.header:t6e,a=r.footer!=null?r.footer:r6e,i=[n],o=Ds(e["!ref"]);r.dense=Array.isArray(e),i.push(a6e(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(e6e(e,o,l,r));return i.push("</table>"+a),i.join("")}function i$(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?qn(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Ds(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,x=0,g=0,v=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);m<l.length&&x<c;++m){var w=l[m];if(TP(w)){if(n.display)continue;p[x]={hidden:!0}}var N=w.children;for(g=v=0;g<N.length;++g){var S=N[g];if(!(n.display&&TP(S))){var j=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):C9(S.innerHTML),A=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==v+i&&T.s.r<x+a&&x+a<=T.e.r&&(v=T.e.c+1-i,h=-1)}y=+S.getAttribute("colspan")||1,((b=+S.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:x+a,c:v+i},e:{r:x+a+(b||1)-1,c:v+i+(y||1)-1}});var R={t:"s",v:j},O=S.getAttribute("data-t")||S.getAttribute("t")||"";j!=null&&(j.length==0?R.t=O||"z":n.raw||j.trim().length==0||O=="s"||(j==="TRUE"?R={t:"b",v:!0}:j==="FALSE"?R={t:"b",v:!1}:isNaN(_l(j))?isNaN(Tp(j).getDate())||(R={t:"d",v:Fn(j)},n.cellDates||(R={t:"n",v:Ja(R.v)}),R.z=n.dateNF||Wt[14]):R={t:"n",v:_l(j)})),R.z===void 0&&A!=null&&(R.z=A);var E="",L=S.getElementsByTagName("A");if(L&&L.length)for(var B=0;B<L.length&&!(L[B].hasAttribute("href")&&(E=L[B].getAttribute("href"),E.charAt(0)!="#"));++B);E&&E.charAt(0)!="#"&&(R.l={Target:E}),n.dense?(e[x+a]||(e[x+a]=[]),e[x+a][v+i]=R):e[qt({c:v+i,r:x+a})]=R,u.e.c<v+i&&(u.e.c=v+i),v+=y}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+a),e["!ref"]=ir(u),x>=c&&(e["!fullref"]=ir((u.e.r=l.length-m+x-1+a,u))),e}function s$(e,t){var r=t||{},n=r.dense?[]:{};return i$(n,e,t)}function i6e(e,t){return Fd(s$(e,t),t)}function TP(e){var t="",r=s6e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function s6e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function o6e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=kr(t.replace(/<[^>]*>/g,""));return[r]}var OP={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function o$(e,t){var r=t||{},n=ZA(e),a=[],i,o,l={name:""},c="",u=0,d,f,h={},p=[],m=r.dense?[]:{},x,g,v={value:""},b="",y=0,w=[],N=-1,S=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,T={},R=[],O={},E=0,L=0,B=[],G=1,U=1,W=[],X={Names:[]},q={},le=["",""],se=[],I={},P="",M=0,z=!1,Y=!1,ae=0;for(U1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=U1.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"工作表":x[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?m["!ref"]=ir(j):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(m["!fullref"]=m["!ref"],j.e.r=r.sheetRows-1,m["!ref"]=ir(j)),R.length&&(m["!merges"]=R),B.length&&(m["!rows"]=B),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=m,Y=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=Gt(x[0],!1),N=S=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,m=r.dense?[]:{},R=[],B=[],Y=!0);break;case"table-row-group":x[1]==="/"?--A:++A;break;case"table-row":case"行":if(x[1]==="/"){N+=G,G=1;break}if(f=Gt(x[0],!1),f.行号?N=f.行号-1:N==-1&&(N=0),G=+f["number-rows-repeated"]||1,G<10)for(ae=0;ae<G;++ae)A>0&&(B[N+ae]={level:A});S=-1;break;case"covered-table-cell":x[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(m[N]||(m[N]=[]),m[N][S]={t:"z"}):m[qt({r:N,c:S})]={t:"z"}),b="",w=[];break;case"table-cell":case"数据":if(x[0].charAt(x[0].length-2)==="/")++S,v=Gt(x[0],!1),U=parseInt(v["number-columns-repeated"]||"1",10),g={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(g.f=AP(kr(v.formula))),(v.数据类型||v["value-type"])=="string"&&(g.t="s",g.v=kr(v["string-value"]||""),r.dense?(m[N]||(m[N]=[]),m[N][S]=g):m[qt({r:N,c:S})]=g),S+=U-1;else if(x[1]!=="/"){++S,b="",y=0,w=[],U=1;var ue=G?N+G-1:N;if(S>j.e.c&&(j.e.c=S),S<j.s.c&&(j.s.c=S),N<j.s.r&&(j.s.r=N),ue>j.e.r&&(j.e.r=ue),v=Gt(x[0],!1),se=[],I={},g={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=kr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(E=parseInt(v["number-matrix-rows-spanned"],10)||0,L=parseInt(v["number-matrix-columns-spanned"],10)||0,O={s:{r:N,c:S},e:{r:N+E-1,c:S+L-1}},g.F=ir(O),W.push([O,g.F])),v.formula)g.f=AP(v.formula);else for(ae=0;ae<W.length;++ae)N>=W[ae][0].s.r&&N<=W[ae][0].e.r&&S>=W[ae][0].s.c&&S<=W[ae][0].e.c&&(g.F=W[ae][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(E=parseInt(v["number-rows-spanned"],10)||0,L=parseInt(v["number-columns-spanned"],10)||0,O={s:{r:N,c:S},e:{r:N+E-1,c:S+L-1}},R.push(O)),v["number-columns-repeated"]&&(U=parseInt(v["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=In(v["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(v.value);break;case"percentage":g.t="n",g.v=parseFloat(v.value);break;case"currency":g.t="n",g.v=parseFloat(v.value);break;case"date":g.t="d",g.v=Fn(v["date-value"]),r.cellDates||(g.t="n",g.v=Ja(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=I5e(v["time-value"])/86400,r.cellDates&&(g.t="d",g.v=h5(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(v.数据数值);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",v["string-value"]!=null&&(b=kr(v["string-value"]),w=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(z=!1,g.t==="s"&&(g.v=b||"",w.length&&(g.R=w),z=y==0),q.Target&&(g.l=q),se.length>0&&(g.c=se,se=[]),b&&r.cellText!==!1&&(g.w=b),z&&(g.t="z",delete g.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=N))for(var ne=0;ne<G;++ne){if(U=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(m[N+ne]||(m[N+ne]=[]),m[N+ne][S]=ne==0?g:Rn(g);--U>0;)m[N+ne][S+U]=Rn(g);else for(m[qt({r:N+ne,c:S})]=g;--U>0;)m[qt({r:N+ne,c:S+U})]=Rn(g);j.e.c<=S&&(j.e.c=S)}U=parseInt(v["number-columns-repeated"]||"1",10),S+=U-1,U=0,g={},b="",w=[]}q={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i;I.t=b,w.length&&(I.R=w),I.a=P,se.push(I)}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);P="",M=0,b="",y=0,w=[];break;case"creator":x[1]==="/"?P=n.slice(M,x.index):M=x.index+x[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);b="",y=0,w=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(T[l.name]=c,(i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Gt(x[0],!1),a.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Gt(x[0],!1),c+=OP[x[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Gt(x[0],!1),c+=OP[x[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":o=Gt(x[0],!1),le=b4(o["cell-range-address"]);var _e={Name:o.name,Ref:le[0]+"!"+le[1]};Y&&(_e.Sheet=p.length),X.Names.push(_e);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(x[1]==="/"&&(!v||!v["string-value"])){var Ce=o6e(n.slice(y,x.index));b=(b.length>0?b+`
`:"")+Ce[0]}else Gt(x[0],!1),y=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{le=b4(Gt(x[0])["target-range-address"]),h[le[0]]["!autofilter"]={ref:le[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(q=Gt(x[0],!1),!q.href)break;q.Target=kr(q.href),delete q.href,q.Target.charAt(0)=="#"&&q.Target.indexOf(".")>-1?(le=b4(q.Target.slice(1)),q.Target="#"+le[0]+"!"+le[1]):q.Target.match(/^\.\.[\\\/]/)&&(q.Target=q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(x)}}var V={Sheets:h,SheetNames:p,Workbook:X};return r.bookSheets&&delete V.Sheets,V}function PP(e,t){t=t||{},To(e,"META-INF/manifest.xml")&&I_e(ka(e,"META-INF/manifest.xml"),t);var r=eo(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=o$(un(r),t);return To(e,"meta.xml")&&(n.Props=Q9(ka(e,"meta.xml"))),n}function DP(e,t){return o$(e,t)}var l6e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+z1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return wa+t}}(),IP=function(){var e=function(i){return en(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+en(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Ds(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,m=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var x="",g=i["!rows"]||[];for(u=0;u<f.s.r;++u)x=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=f.e.r;++u){for(x=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,b={},y="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(v=!0),b["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,b["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(v){c.push(r);continue}var w=qt({r:u,c:d}),N=m?(i[u]||[])[d]:i[w];if(N&&N.f&&(b["table:formula"]=en(EAe(N.f)),N.F&&N.F.slice(0,w.length)==w)){var S=Ds(N.F);b["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,b["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":y=N.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=N.v?"true":"false";break;case"n":y=N.w||String(N.v||0),b["office:value-type"]="float",b["office:value"]=N.v||0;break;case"s":case"str":y=N.v==null?"":N.v,b["office:value-type"]="string";break;case"d":y=N.w||Fn(N.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Fn(N.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var j=e(y);if(N.l&&N.l.Target){var A=N.l.Target;A=A.charAt(0)=="#"?"#"+kAe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),j=lt("text:a",j,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+lt("table:table-cell",lt("text:p",j,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Nd(f),f.ods=l;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[wa],u=z1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=z1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(K9().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function l$(e,t){if(t.bookType=="fods")return IP(e,t);var r=XA(),n="",a=[],i=[];return n="mimetype",sr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",sr(r,n,IP(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",sr(r,n,l6e(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",sr(r,n,wa+K9()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",sr(r,n,R_e(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",sr(r,n,M_e(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function rf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Nj(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):un(Md(e))}function c6e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Zs(Zl(e))}function u6e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Sd(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function MP(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function d6e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function f6e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function X1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Yr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ra(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Pr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=X1(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=X1(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function vi(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Yr(n*8+a.type)),a.type==2&&t.push(Yr(a.data.length)),t.push(a.data))})}),Sd(t)}function _C(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Co(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=X1(e,n),i=Pr(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:ra(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Pr(l.data),u=ra(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=ra(i[3][0].data)>>>0>0),r.push(o)}return r}function lh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Yr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Yr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Yr(o.data.length)}],n[2].push({data:vi(o.meta),type:2})});var i=vi(n);t.push(Yr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Sd(t)}function h6e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=X1(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Sd(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Sd(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Eo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(h6e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Sd(t)}function ch(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Yr(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Sd(t)}function p6e(e,t,r,n){var a=rf(e),i=a.getUint32(4,!0),o=(n>1?12:8)+MP(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=MP(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function m6e(e,t,r){var n=rf(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=d6e(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function w4(e,t){var r=new Uint8Array(32),n=rf(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,f6e(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function _4(e,t){var r=new Uint8Array(32),n=rf(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function x6e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return p6e(e,t,r,e[0]);case 5:return m6e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function $i(e){var t=Pr(e);return X1(t[1][0].data)}function FP(e,t){var r=Pr(t.data),n=ra(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=Pr(o.data),c=ra(l[1][0].data)>>>0;switch(n){case 1:i[c]=Nj(l[3][0].data);break;case 8:{var u=e[$i(l[9][0].data)][0],d=Pr(u.data),f=e[$i(d[1][0].data)][0],h=ra(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Pr(f.data);i[c]=p[3].map(function(m){return Nj(m.data)}).join("")}break}}),i}function g6e(e,t){var r,n,a,i,o,l,c,u,d,f,h,p,m,x,g=Pr(e),v=ra(g[1][0].data)>>>0,b=ra(g[2][0].data)>>>0,y=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&ra(g[8][0].data)>0||!1,w,N;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&t!=0)w=(l=(o=g[7])==null?void 0:o[0])==null?void 0:l.data,N=(u=(c=g[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)w=(p=(h=g[4])==null?void 0:h[0])==null?void 0:p.data,N=(x=(m=g[3])==null?void 0:m[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=y?4:1,j=rf(w),A=[],T=0;T<w.length/2;++T){var R=j.getUint16(T*2,!0);R<65535&&A.push([T,R])}if(A.length!=b)throw"Expected ".concat(b," cells, found ").concat(A.length);var O=[];for(T=0;T<A.length-1;++T)O[A[T][0]]=N.subarray(A[T][1]*S,A[T+1][1]*S);return A.length>=1&&(O[A[A.length-1][0]]=N.subarray(A[A.length-1][1]*S)),{R:v,cells:O}}function v6e(e,t){var r,n=Pr(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ra(n[7][0].data)>>>0>0?1:0:-1,i=_C(n[5],function(o){return g6e(o,a)});return{nrows:ra(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function b6e(e,t,r){var n,a=Pr(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ra(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ra(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=ir(i);var o=Pr(a[4][0].data),l=FP(e,e[$i(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?FP(e,e[$i(o[17][0].data)][0]):[],u=Pr(o[3][0].data),d=0;u[1].forEach(function(f){var h=Pr(f.data),p=e[$i(h[2][0].data)][0],m=ra(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var x=v6e(e,p);x.data.forEach(function(g,v){g.forEach(function(b,y){var w=qt({r:d+v,c:y}),N=x6e(b,l,c);N&&(r[w]=N)})}),d+=x.nrows})}function y6e(e,t){var r=Pr(t.data),n={"!ref":"A1"},a=e[$i(r[2][0].data)],i=ra(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return b6e(e,a[0],n),n}function w6e(e,t){var r,n=Pr(t.data),a={name:(r=n[1])!=null&&r[0]?Nj(n[1][0].data):"",sheets:[]},i=_C(n[2],$i);return i.forEach(function(o){e[o].forEach(function(l){var c=ra(l.meta[1][0].data);c==6e3&&a.sheets.push(y6e(e,l))})}),a}function _6e(e,t){var r=CC(),n=Pr(t.data),a=_C(n[1],$i);if(a.forEach(function(i){e[i].forEach(function(o){var l=ra(o.meta[1][0].data);if(l==2){var c=w6e(e,o);c.sheets.forEach(function(u,d){EC(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function N4(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Eo(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Co(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ra(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=ra(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return _6e(i,l)}function N6e(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&ra(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=rf(e[7][0].data),d=0,f=[],h=rf(e[4][0].data),p=0,m=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535);continue}u.setUint16(x*2,d,!0),h.setUint16(x*2,p,!0);var g,v;switch(typeof t[x]){case"string":g=w4({t:"s",v:t[x]},r),v=_4({t:"s",v:t[x]},r);break;case"number":g=w4({t:"n",v:t[x]},r),v=_4({t:"n",v:t[x]},r);break;case"boolean":g=w4({t:"b",v:t[x]},r),v=_4({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(g),d+=g.length,m.push(v),p+=v.length,++c}for(e[2][0].data=Yr(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535,!0);return e[6][0].data=Sd(f),e[3][0].data=Sd(m),c}function j6e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ds(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ir(n)));var i=Py(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(P){return P.forEach(function(M){typeof M=="string"&&o.push(M)})});var l={},c=[],u=Ft.read(t.numbers,{type:"base64"});u.FileIndex.map(function(P,M){return[P,u.FullPaths[M]]}).forEach(function(P){var M=P[0],z=P[1];if(M.type==2&&M.name.match(/\.iwa/)){var Y=M.content,ae=Eo(Y),ue=Co(ae);ue.forEach(function(ne){c.push(ne.id),l[ne.id]={deps:[],location:z,type:ra(ne.messages[0].meta[1][0].data)}})}}),c.sort(function(P,M){return P-M});var d=c.filter(function(P){return P>1}).map(function(P){return[P,Yr(P)]});u.FileIndex.map(function(P,M){return[P,u.FullPaths[M]]}).forEach(function(P){var M=P[0];if(P[1],!!M.name.match(/\.iwa/)){var z=Co(Eo(M.content));z.forEach(function(Y){Y.messages.forEach(function(ae){d.forEach(function(ue){Y.messages.some(function(ne){return ra(ne.meta[1][0].data)!=11006&&u6e(ne.data,ue[1])})&&l[ue[0]].deps.push(Y.id)})})})}});for(var f=Ft.find(u,l[1].location),h=Co(Eo(f.content)),p,m=0;m<h.length;++m){var x=h[m];x.id==1&&(p=x)}var g=$i(Pr(p.messages[0].data)[1][0].data);for(f=Ft.find(u,l[g].location),h=Co(Eo(f.content)),m=0;m<h.length;++m)x=h[m],x.id==g&&(p=x);for(g=$i(Pr(p.messages[0].data)[2][0].data),f=Ft.find(u,l[g].location),h=Co(Eo(f.content)),m=0;m<h.length;++m)x=h[m],x.id==g&&(p=x);for(g=$i(Pr(p.messages[0].data)[2][0].data),f=Ft.find(u,l[g].location),h=Co(Eo(f.content)),m=0;m<h.length;++m)x=h[m],x.id==g&&(p=x);var v=Pr(p.messages[0].data);{v[6][0].data=Yr(n.e.r+1),v[7][0].data=Yr(n.e.c+1);var b=$i(v[46][0].data),y=Ft.find(u,l[b].location),w=Co(Eo(y.content));{for(var N=0;N<w.length&&w[N].id!=b;++N);if(w[N].id!=b)throw"Bad ColumnRowUIDMapArchive";var S=Pr(w[N].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var j=0;j<=n.e.c;++j){var A=[];A[1]=A[2]=[{type:0,data:Yr(j+420690)}],S[1].push({type:2,data:vi(A)}),S[2].push({type:0,data:Yr(j)}),S[3].push({type:0,data:Yr(j)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=n.e.r;++T)A=[],A[1]=A[2]=[{type:0,data:Yr(T+726270)}],S[4].push({type:2,data:vi(A)}),S[5].push({type:0,data:Yr(T)}),S[6].push({type:0,data:Yr(T)});w[N].messages[0].data=vi(S)}y.content=ch(lh(w)),y.size=y.content.length,delete v[46];var R=Pr(v[4][0].data);{R[7][0].data=Yr(n.e.r+1);var O=Pr(R[1][0].data),E=$i(O[2][0].data);y=Ft.find(u,l[E].location),w=Co(Eo(y.content));{if(w[0].id!=E)throw"Bad HeaderStorageBucket";var L=Pr(w[0].messages[0].data);for(T=0;T<i.length;++T){var B=Pr(L[2][0].data);B[1][0].data=Yr(T),B[4][0].data=Yr(i[T].length),L[2][T]={type:L[2][0].type,data:vi(B)}}w[0].messages[0].data=vi(L)}y.content=ch(lh(w)),y.size=y.content.length;var G=$i(R[2][0].data);y=Ft.find(u,l[G].location),w=Co(Eo(y.content));{if(w[0].id!=G)throw"Bad HeaderStorageBucket";for(L=Pr(w[0].messages[0].data),j=0;j<=n.e.c;++j)B=Pr(L[2][0].data),B[1][0].data=Yr(j),B[4][0].data=Yr(n.e.r+1),L[2][j]={type:L[2][0].type,data:vi(B)};w[0].messages[0].data=vi(L)}y.content=ch(lh(w)),y.size=y.content.length;var U=$i(R[4][0].data);(function(){for(var P=Ft.find(u,l[U].location),M=Co(Eo(P.content)),z,Y=0;Y<M.length;++Y){var ae=M[Y];ae.id==U&&(z=ae)}var ue=Pr(z.messages[0].data);{ue[3]=[];var ne=[];o.forEach(function(V,Me){ne[1]=[{type:0,data:Yr(Me)}],ne[2]=[{type:0,data:Yr(1)}],ne[3]=[{type:2,data:c6e(V)}],ue[3].push({type:2,data:vi(ne)})})}z.messages[0].data=vi(ue);var _e=lh(M),Ce=ch(_e);P.content=Ce,P.size=P.content.length})();var W=Pr(R[3][0].data);{var X=W[1][0];delete W[2];var q=Pr(X.data);{var le=$i(q[2][0].data);(function(){for(var P=Ft.find(u,l[le].location),M=Co(Eo(P.content)),z,Y=0;Y<M.length;++Y){var ae=M[Y];ae.id==le&&(z=ae)}var ue=Pr(z.messages[0].data);{delete ue[6],delete W[7];var ne=new Uint8Array(ue[5][0].data);ue[5]=[];for(var _e=0,Ce=0;Ce<=n.e.r;++Ce){var V=Pr(ne);_e+=N6e(V,i[Ce],o),V[1][0].data=Yr(Ce),ue[5].push({data:vi(V),type:2})}ue[1]=[{type:0,data:Yr(n.e.c+1)}],ue[2]=[{type:0,data:Yr(n.e.r+1)}],ue[3]=[{type:0,data:Yr(_e)}],ue[4]=[{type:0,data:Yr(n.e.r+1)}]}z.messages[0].data=vi(ue);var Me=lh(M),Ae=ch(Me);P.content=Ae,P.size=P.content.length})()}X.data=vi(q)}R[3][0].data=vi(W)}v[4][0].data=vi(R)}p.messages[0].data=vi(v);var se=lh(h),I=ch(se);return f.content=I,f.size=f.content.length,u}function c$(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function NC(e){c$([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function jC(e){c$([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function S6e(e){return fr.WS.indexOf(e)>-1?"sheet":e==fr.CS?"chart":e==fr.DS?"dialog":e==fr.MS?"macro":e&&e.length?e:"sheet"}function A6e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,S6e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function C6e(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=zx(eo(e,r,!0),t);var h=ka(e,t),p;switch(l){case"sheet":p=XEe(h,t,a,c,i[n],u,d,f);break;case"chart":if(p=KEe(h,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var m=_x(p["!drawel"].Target,t),x=H1(m),g=Fje(eo(e,m,!0),zx(eo(e,x,!0),m)),v=_x(g,m),b=H1(v);p=NEe(eo(e,v,!0),v,c,zx(eo(e,b,!0),v),u,p);break;case"macro":p=QEe(h,t,a,c,i[n],u,d,f);break;case"dialog":p=JEe(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var y=[];i&&i[n]&&aa(i[n]).forEach(function(w){var N="";if(i[n][w].Type==fr.CMNT){N=_x(i[n][w].Target,t);var S=rke(ka(e,N,!0),N,c);if(!S||!S.length)return;wP(p,S,!1)}i[n][w].Type==fr.TCMNT&&(N=_x(i[n][w].Target,t),y=y.concat(Lje(ka(e,N,!0),c)))}),y&&y.length&&wP(p,y,!0,c.people||[])}catch(w){if(c.WTF)throw w}}function So(e){return e.charAt(0)=="/"?e.slice(1):e}function E6e(e,t){if(lm(),t=t||{},NC(t),To(e,"META-INF/manifest.xml")||To(e,"objectdata.xml"))return PP(e,t);if(To(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof N4<"u"){if(e.FileIndex)return N4(e);var r=Ft.utils.cfb_new();return UO(e).forEach(function(B){sr(r,B,B5e(e,B))}),N4(r)}throw new Error("Unsupported NUMBERS file")}if(!To(e,"[Content_Types].xml"))throw To(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):To(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=UO(e),a=P_e(eo(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",ka(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!ka(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Ux=[],a.sst)try{Ux=tke(ka(e,So(a.sst)),a.sst,t)}catch(B){if(t.WTF)throw B}t.cellStyles&&a.themes.length&&(c=eke(eo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=ZEe(ka(e,So(a.style)),a.style,c,t))}a.links.map(function(B){try{var G=zx(eo(e,H1(So(B))),B);return ake(ka(e,So(B)),G,B,t)}catch{}});var d=YEe(ka(e,So(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ka(e,So(a.coreprops[0]),!0),h&&(f=Q9(h)),a.extprops.length!==0&&(h=ka(e,So(a.extprops[0]),!0),h&&B_e(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=eo(e,So(a.custprops[0]),!0),h&&(p=z_e(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(G){return G.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof o<"u"&&(m.SheetNames=o),t.bookSheets?m.SheetNames:t.bookProps))return m;o={};var x={};t.bookDeps&&a.calcchain&&(x=nke(ka(e,So(a.calcchain)),a.calcchain));var g=0,v={},b,y;{var w=d.Sheets;f.Worksheets=w.length,f.SheetNames=[];for(var N=0;N!=w.length;++N)f.SheetNames[N]=w[N].name}var S=i?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");To(e,A)||(A="xl/_rels/workbook."+S+".rels");var T=zx(eo(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=ike(ka(e,So(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=$je(ka(e,So(a.people[0])),t)),T&&(T=A6e(T,d.Sheets));var R=ka(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var O="sheet";if(T&&T[g]?(b="xl/"+T[g][1].replace(/[\/]?xl\//,""),To(e,b)||(b=T[g][1]),To(e,b)||(b=A.replace(/_rels\/.*$/,"")+T[g][1]),O=T[g][2]):(b="xl/worksheets/sheet"+(g+1-R)+"."+S,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var E=!1,L=0;L!=t.sheets.length;++L)typeof t.sheets[L]=="number"&&t.sheets[L]==g&&(E=1),typeof t.sheets[L]=="string"&&t.sheets[L].toLowerCase()==f.SheetNames[g].toLowerCase()&&(E=1);if(!E)continue e}}C6e(e,b,y,f.SheetNames[g],g,v,o,O,t,d,c,u)}return m={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:x,Sheets:o,SheetNames:f.SheetNames,Strings:Ux,Styles:u,Themes:c,SSF:Rn(Wt)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(B,G){B=B.replace(/^Root Entry[\/]/,""),m.keys.push(B),m.files[B]=e.FileIndex[G]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=ka(e,So(a.vba[0]),!0):a.defaults&&a.defaults.bin===Yje&&(m.vbaraw=ka(e,"xl/vbaProject.bin",!0))),m}function k6e(e,t){var r=t||{},n="Workbook",a=Ft.find(e,n);try{if(n="/!DataSpaces/Version",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(i3e(a.content),n="/!DataSpaces/DataSpaceMap",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=o3e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=l3e(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);u3e(a.content)}catch{}if(n="/EncryptionInfo",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=d3e(a.content);if(n="/EncryptedPackage",a=Ft.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function T6e(e,t){return t.bookType=="ods"?l$(e,t):t.bookType=="numbers"?j6e(e,t):t.bookType=="xlsb"?O6e(e,t):P6e(e,t)}function O6e(e,t){Fh=1024,e&&!e.SSF&&(e.SSF=Rn(Wt)),e&&e.SSF&&(lm(),u5(e.SSF),t.revssf=f5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=FB.indexOf(t.bookType)>-1,a=cC();jC(t=t||{});var i=XA(),o="",l=0;if(t.cellXfs=[],Rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",sr(i,o,J9(e.Props,t)),a.coreprops.push(o),Jr(t.rels,2,o,fr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,sr(i,o,tB(e.Props)),a.extprops.push(o),Jr(t.rels,3,o,fr.EXT_PROPS),e.Custprops!==e.Props&&aa(e.Custprops||{}).length>0&&(o="docProps/custom.xml",sr(i,o,rB(e.Custprops)),a.custprops.push(o),Jr(t.rels,4,o,fr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,sr(i,o,oke(l-1,o,t,e,d)),a.sheets.push(o),Jr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,fr.WS[0])}if(f){var p=f["!comments"],m=!1,x="";p&&p.length>0&&(x="xl/comments"+l+"."+r,sr(i,x,uke(p,x)),a.comments.push(x),Jr(d,-1,"../comments"+l+"."+r,fr.CMNT),m=!0),f["!legacy"]&&m&&sr(i,"xl/drawings/vmlDrawing"+l+".vml",IB(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&sr(i,H1(o),Gh(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,sr(i,o,cke(t.Strings,o,t)),a.strs.push(o),Jr(t.wbrels,-1,"sharedStrings."+r,fr.SST)),o="xl/workbook."+r,sr(i,o,ske(e,o)),a.workbooks.push(o),Jr(t.rels,1,o,fr.WB),o="xl/theme/theme1.xml",sr(i,o,mC(e.Themes,t)),a.themes.push(o),Jr(t.wbrels,-1,"theme/theme1.xml",fr.THEME),o="xl/styles."+r,sr(i,o,lke(e,o,t)),a.styles.push(o),Jr(t.wbrels,-1,"styles."+r,fr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",sr(i,o,e.vbaraw),a.vba.push(o),Jr(t.wbrels,-1,"vbaProject.bin",fr.VBA)),o="xl/metadata."+r,sr(i,o,dke(o)),a.metadata.push(o),Jr(t.wbrels,-1,"metadata."+r,fr.XLMETA),sr(i,"[Content_Types].xml",X9(a,t)),sr(i,"_rels/.rels",Gh(t.rels)),sr(i,"xl/_rels/workbook."+r+".rels",Gh(t.wbrels)),delete t.revssf,delete t.ssf,i}function P6e(e,t){Fh=1024,e&&!e.SSF&&(e.SSF=Rn(Wt)),e&&e.SSF&&(lm(),u5(e.SSF),t.revssf=f5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=FB.indexOf(t.bookType)>-1,a=cC();jC(t=t||{});var i=XA(),o="",l=0;if(t.cellXfs=[],Rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",sr(i,o,J9(e.Props,t)),a.coreprops.push(o),Jr(t.rels,2,o,fr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,sr(i,o,tB(e.Props)),a.extprops.push(o),Jr(t.rels,3,o,fr.EXT_PROPS),e.Custprops!==e.Props&&aa(e.Custprops||{}).length>0&&(o="docProps/custom.xml",sr(i,o,rB(e.Custprops)),a.custprops.push(o),Jr(t.rels,4,o,fr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,sr(i,o,GB(l-1,t,e,f)),a.sheets.push(o),Jr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,fr.WS[0])}if(h){var m=h["!comments"],x=!1,g="";if(m&&m.length>0){var v=!1;m.forEach(function(b){b[1].forEach(function(y){y.T==!0&&(v=!0)})}),v&&(g="xl/threadedComments/threadedComment"+l+"."+r,sr(i,g,Bje(m,d,t)),a.threadedcomments.push(g),Jr(f,-1,"../threadedComments/threadedComment"+l+"."+r,fr.TCMNT)),g="xl/comments"+l+"."+r,sr(i,g,MB(m)),a.comments.push(g),Jr(f,-1,"../comments"+l+"."+r,fr.CMNT),x=!0}h["!legacy"]&&x&&sr(i,"xl/drawings/vmlDrawing"+l+".vml",IB(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&sr(i,H1(o),Gh(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,sr(i,o,_B(t.Strings,t)),a.strs.push(o),Jr(t.wbrels,-1,"sharedStrings."+r,fr.SST)),o="xl/workbook."+r,sr(i,o,JB(e)),a.workbooks.push(o),Jr(t.rels,1,o,fr.WB),o="xl/theme/theme1.xml",sr(i,o,mC(e.Themes,t)),a.themes.push(o),Jr(t.wbrels,-1,"theme/theme1.xml",fr.THEME),o="xl/styles."+r,sr(i,o,TB(e,t)),a.styles.push(o),Jr(t.wbrels,-1,"styles."+r,fr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",sr(i,o,e.vbaraw),a.vba.push(o),Jr(t.wbrels,-1,"vbaProject.bin",fr.VBA)),o="xl/metadata."+r,sr(i,o,DB()),a.metadata.push(o),Jr(t.wbrels,-1,"metadata."+r,fr.XLMETA),d.length>1&&(o="xl/persons/person.xml",sr(i,o,zje(d)),a.people.push(o),Jr(t.wbrels,-1,"persons/person.xml",fr.PEOPLE)),sr(i,"[Content_Types].xml",X9(a,t)),sr(i,"_rels/.rels",Gh(t.rels)),sr(i,"xl/_rels/workbook."+r+".rels",Gh(t.wbrels)),delete t.revssf,delete t.ssf,i}function SC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=lo(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function D6e(e,t){return Ft.find(e,"EncryptedPackage")?k6e(e,t):r$(e,t)}function I6e(e,t){var r,n=e,a=t||{};return a.type||(a.type=cr&&Buffer.isBuffer(e)?"buffer":"base64"),r=j9(n,a),E6e(r,a)}function u$(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return wj(e.slice(r),t);default:break e}return Op.to_workbook(e,t)}function M6e(e,t){var r="",n=SC(e,t);switch(t.type){case"base64":r=lo(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=J0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=un(r)),t.type="binary",u$(r,t)}function F6e(e,t){var r=e;return t.type=="base64"&&(r=lo(r)),r=id.utils.decode(1200,r.slice(2),"str"),t.type="binary",u$(r,t)}function R6e(e){return e.match(/[^\x00-\x7F]/)?Zl(e):e}function j4(e,t,r,n){return n?(r.type="string",Op.to_workbook(e,r)):Op.to_workbook(t,r)}function jj(e,t){WA();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return jj(new Uint8Array(e),(r=Rn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Xh={},r.dateNF&&(Xh.dateNF=r.dateNF),r.type||(r.type=cr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=cr?"buffer":"binary",n=O5e(e),typeof Uint8Array<"u"&&!cr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=R6e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Rn(r),r.type="array",jj(VA(n),r)}switch((a=SC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return D6e(Ft.read(n,r),r);break;case 9:if(a[1]<=8)return r$(n,r);break;case 60:return wj(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return UNe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return yB.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?I6e(n,r):j4(e,n,r,i);case 239:return a[3]===60?wj(n,r):j4(e,n,r,i);case 255:if(a[1]===254)return F6e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return P0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return P0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return yj.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return CB.to_workbook(n,r);break;case 10:case 13:case 32:return M6e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return zNe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?yj.to_workbook(n,r):j4(e,n,r,i)}function d$(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Ng(t.file,Ft.write(e,{type:cr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ft.write(e,t)}function L6e(e,t){var r=Rn(t||{}),n=T6e(e,r);return B6e(n,r)}function B6e(e,t){var r={},n=cr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Ft.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(c5(a))}return t.password&&typeof encrypt_agile<"u"?d$(encrypt_agile(a,t.password),t):t.type==="file"?Ng(t.file,a):t.type=="string"?un(a):a}function $6e(e,t){var r=t||{},n=Rke(e,r);return d$(n,r)}function Bl(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return L1(Zl(n));case"binary":return Zl(n);case"string":return e;case"file":return Ng(t.file,n,"utf8");case"buffer":return cr?xu(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Bl(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function z6e(e,t){switch(t.type){case"base64":return L1(e);case"binary":return e;case"string":return e;case"file":return Ng(t.file,e,"binary");case"buffer":return cr?xu(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function d2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?L1(r):t.type=="string"?un(r):r;case"file":return Ng(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function f$(e,t){WA(),DEe(e);var r=Rn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=f$(e,r);return r.type="array",c5(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Bl(Tke(e,r),r);case"slk":case"sylk":return Bl(bB.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Bl(a$(e.Sheets[e.SheetNames[a]],r),r);case"txt":return z6e(h$(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Bl(AC(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Bl(yB.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return d2(yj.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Bl(Op.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Bl(CB.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Bl(wB.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Bl(l$(e,r),r);case"wk1":return d2(P0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return d2(P0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),d2(n$(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),$6e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return L6e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function U6e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function H6e(e,t,r){var n={};return n.type="file",n.file=t,U6e(n),f$(e,n)}function W6e(e,t,r,n,a,i,o,l){var c=ba(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=o?e[r][p]:e[n[p]+c];if(m===void 0||m.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var x=m.v;switch(m.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[p]!=null){if(x==null)if(m.t=="e"&&x===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&x===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(m.t!=="n"||m.t==="n"&&l.rawNumbers!==!1)?x:du(m,x,l);x!=null&&(f=!1)}}return{row:h,isempty:f}}function Py(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Tr(d);break;case"number":c=Tr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=ba(c.s.r),h=[],p=[],m=0,x=0,g=Array.isArray(e),v=c.s.r,b=0,y={};g&&!e[v]&&(e[v]=[]);var w=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(w[b]||{}).hidden)switch(h[b]=Vn(b),r=g?e[v][b]:e[h[b]+f],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=du(r,null,u),x=y[o]||0,!x)y[o]=1;else{do l=o+"_"+x++;while(y[l]);y[o]=x,y[l]=1}i[b]=l}for(v=c.s.r+a;v<=c.e.r;++v)if(!(N[v]||{}).hidden){var S=W6e(e,c,v,h,n,i,g,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[m++]=S.row)}return p.length=m,p}var RP=/"/g;function V6e(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=ba(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:du(p,null,l));for(var m=0,x=0;m!==d.length;++m)if((x=d.charCodeAt(m))===a||x===i||x===34||l.forceQuotes){d='"'+d.replace(RP,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(RP,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function AC(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Tr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=Vn(m));for(var x=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(d=V6e(e,a,g,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((x++?l:"")+d)));return delete n.dense,r.join("")}function h$(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=AC(e,t);return r}function q6e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Tr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Vn(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=ba(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function p$(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?qn(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Tr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(x,g){aa(x).forEach(function(v){(p=h.indexOf(v))==-1&&(h[p=h.length]=v);var b=x[v],y="z",w="",N=qt({c:l+p,r:o+g+a});u=K1(i,N),b&&typeof b=="object"&&!(b instanceof Date)?i[N]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=Ja(b)),w=n.dateNF||Wt[14]):b===null&&n.nullError&&(y="e",b=0),u?(u.t=y,u.v=b,delete u.w,delete u.R,w&&(u.z=w)):i[N]=u={t:y,v:b},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var m=ba(o);if(a)for(p=0;p<h.length;++p)i[Vn(p+l)+m]={t:"s",v:h[p]};return i["!ref"]=ir(d),i}function G6e(e,t){return p$(null,e,t)}function K1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=qn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?K1(e,qt(t)):K1(e,qt({r:t,c:r||0}))}function Y6e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function CC(){return{SheetNames:[],Sheets:{}}}function EC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(QB(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function X6e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Y6e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function K6e(e,t){return e.z=t,e}function m$(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Q6e(e,t,r){return m$(e,"#"+t,r)}function J6e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Z6e(e,t,r,n){for(var a=typeof t!="string"?t:Tr(t),i=typeof t=="string"?t:ir(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=K1(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var J2={encode_col:Vn,encode_row:ba,encode_cell:qt,encode_range:ir,decode_col:nC,decode_row:rC,split_cell:c_e,decode_cell:qn,decode_range:Ds,format_cell:du,sheet_add_aoa:U9,sheet_add_json:p$,sheet_add_dom:i$,aoa_to_sheet:cm,json_to_sheet:G6e,table_to_sheet:s$,table_to_book:i6e,sheet_to_csv:AC,sheet_to_txt:h$,sheet_to_json:Py,sheet_to_html:a$,sheet_to_formulae:q6e,sheet_to_row_object_array:Py,sheet_get_cell:K1,book_new:CC,book_append_sheet:EC,book_set_sheet_visibility:X6e,cell_set_number_format:K6e,cell_set_hyperlink:m$,cell_set_internal_link:Q6e,cell_add_comment:J6e,sheet_set_array_formula:Z6e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const x$=6048e5,e8e=864e5,v5=6e4,b5=36e5,t8e=1e3,LP=Symbol.for("constructDateFrom");function rn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&LP in e?e[LP](t):e instanceof Date?new e.constructor(t):new Date(t)}function Tt(e,t){return rn(t||e,e)}function jl(e,t,r){const n=Tt(e,r==null?void 0:r.in);return isNaN(t)?rn((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Sl(e,t,r){const n=Tt(e,r==null?void 0:r.in);if(isNaN(t))return rn(e,NaN);if(!t)return n;const a=n.getDate(),i=rn(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function g$(e,t,r){return rn(e,+Tt(e)+t)}function r8e(e,t,r){return g$(e,t*b5)}let n8e={};function Cf(){return n8e}function fu(e,t){var l,c,u,d;const r=Cf(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tt(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Dp(e,t){return fu(e,{...t,weekStartsOn:1})}function v$(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getFullYear(),a=rn(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Dp(a),o=rn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Dp(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Dy(e){const t=Tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function bu(e,...t){const r=rn.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function nf(e,t){const r=Tt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Ip(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t),i=nf(n),o=nf(a),l=+i-Dy(i),c=+o-Dy(o);return Math.round((l-c)/e8e)}function a8e(e,t){const r=v$(e,t),n=rn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Dp(n)}function Sj(e,t,r){const n=Tt(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*v5),n}function kC(e,t,r){return Sl(e,t*3,r)}function i8e(e,t,r){return g$(e,t*1e3)}function Iy(e,t,r){return jl(e,t*7,r)}function eu(e,t,r){return Sl(e,t*12,r)}function BP(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=rn.bind(null,a));const i=Tt(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),rn(n,r||NaN)}function $P(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=rn.bind(null,a));const i=Tt(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),rn(n,r||NaN)}function s8e(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t);return+nf(n)==+nf(a)}function tu(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function My(e){return!(!tu(e)&&typeof e!="number"||isNaN(+Tt(e)))}function Fy(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function I0(e,t){const r=Tt(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function Ry(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),o=I0(n)-I0(a);return i*4+o}function Ly(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function o8e(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t),i=zP(n,a),o=Math.abs(Ip(n,a));n.setDate(n.getDate()-i*o);const l=+(zP(n,a)===-i),c=i*(o-l);return c===0?0:c}function zP(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function b$(e,t){const r=Tt(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function y$(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Aj(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function w$(e,t){const r=Tt(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function _$(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function y5(e,t){const r=Tt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function l8e(e,t){var l,c;const r=Cf(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=Tt(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const c8e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u8e=(e,t,r)=>{let n;const a=c8e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function S4(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const d8e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f8e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h8e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p8e={date:S4({formats:d8e,defaultWidth:"full"}),time:S4({formats:f8e,defaultWidth:"full"}),dateTime:S4({formats:h8e,defaultWidth:"full"})},m8e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x8e=(e,t,r,n)=>m8e[e];function sx(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const g8e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},v8e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b8e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y8e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w8e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_8e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N8e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},j8e={ordinalNumber:N8e,era:sx({values:g8e,defaultWidth:"wide"}),quarter:sx({values:v8e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sx({values:b8e,defaultWidth:"wide"}),day:sx({values:y8e,defaultWidth:"wide"}),dayPeriod:sx({values:w8e,defaultWidth:"wide",formattingValues:_8e,defaultFormattingWidth:"wide"})};function ox(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?A8e(l,f=>f.test(o)):S8e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function S8e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function A8e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function C8e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const E8e=/^(\d+)(th|st|nd|rd)?/i,k8e=/\d+/i,T8e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O8e={any:[/^b/i,/^(a|c)/i]},P8e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},D8e={any:[/1/i,/2/i,/3/i,/4/i]},I8e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M8e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F8e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R8e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L8e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B8e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$8e={ordinalNumber:C8e({matchPattern:E8e,parsePattern:k8e,valueCallback:e=>parseInt(e,10)}),era:ox({matchPatterns:T8e,defaultMatchWidth:"wide",parsePatterns:O8e,defaultParseWidth:"any"}),quarter:ox({matchPatterns:P8e,defaultMatchWidth:"wide",parsePatterns:D8e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ox({matchPatterns:I8e,defaultMatchWidth:"wide",parsePatterns:M8e,defaultParseWidth:"any"}),day:ox({matchPatterns:F8e,defaultMatchWidth:"wide",parsePatterns:R8e,defaultParseWidth:"any"}),dayPeriod:ox({matchPatterns:L8e,defaultMatchWidth:"any",parsePatterns:B8e,defaultParseWidth:"any"})},N$={code:"en-US",formatDistance:u8e,formatLong:p8e,formatRelative:x8e,localize:j8e,match:$8e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z8e(e,t){const r=Tt(e,t==null?void 0:t.in);return Ip(r,y5(r))+1}function TC(e,t){const r=Tt(e,t==null?void 0:t.in),n=+Dp(r)-+a8e(r);return Math.round(n/x$)+1}function OC(e,t){var d,f,h,p;const r=Tt(e,t==null?void 0:t.in),n=r.getFullYear(),a=Cf(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=rn((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=fu(o,t),c=rn((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=fu(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function U8e(e,t){var l,c,u,d;const r=Cf(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=OC(e,t),i=rn((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),fu(i,t)}function j$(e,t){const r=Tt(e,t==null?void 0:t.in),n=+fu(r,t)-+U8e(r,t);return Math.round(n/x$)+1}function Qr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Bu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qr(r+1,2)},d(e,t){return Qr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qr(e.getHours()%12||12,t.length)},H(e,t){return Qr(e.getHours(),t.length)},m(e,t){return Qr(e.getMinutes(),t.length)},s(e,t){return Qr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Qr(a,t.length)}},uh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Bu.y(e,t)},Y:function(e,t,r,n){const a=OC(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Qr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Qr(i,t.length)},R:function(e,t){const r=v$(e);return Qr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Bu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=j$(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Qr(a,t.length)},I:function(e,t,r){const n=TC(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Bu.d(e,t)},D:function(e,t,r){const n=z8e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Qr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Qr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Qr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=uh.noon:n===0?a=uh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=uh.evening:n>=12?a=uh.afternoon:n>=4?a=uh.morning:a=uh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Bu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Bu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Bu.s(e,t)},S:function(e,t){return Bu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return WP(n);case"XXXX":case"XX":return o0(n);case"XXXXX":case"XXX":default:return o0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return WP(n);case"xxxx":case"xx":return o0(n);case"xxxxx":case"xxx":default:return o0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+HP(n,":");case"OOOO":default:return"GMT"+o0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+HP(n,":");case"zzzz":default:return"GMT"+o0(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Qr(n,t.length)},T:function(e,t,r){return Qr(+e,t.length)}};function HP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Qr(i,2)}function WP(e,t){return e%60===0?(e>0?"-":"+")+Qr(Math.abs(e)/60,2):o0(e,t)}function o0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Qr(Math.trunc(n/60),2),i=Qr(n%60,2);return r+a+t+i}const VP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},S$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},H8e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return VP(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",VP(n,t)).replace("{{time}}",S$(a,t))},Cj={p:S$,P:H8e},W8e=/^D+$/,V8e=/^Y+$/,q8e=["D","DD","YY","YYYY"];function G8e(e){return W8e.test(e)}function Y8e(e){return V8e.test(e)}function X8e(e,t,r){const n=K8e(e,t,r);if(console.warn(n),q8e.includes(e))throw new RangeError(n)}function K8e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Q8e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J8e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z8e=/^'([^]*?)'?$/,eTe=/''/g,tTe=/[a-zA-Z]/;function qP(e,t,r){var d,f,h,p,m,x,g,v;const n=Cf(),a=(r==null?void 0:r.locale)??n.locale??N$,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=Tt(e,r==null?void 0:r.in);if(!My(l))throw new RangeError("Invalid time value");let c=t.match(J8e).map(b=>{const y=b[0];if(y==="p"||y==="P"){const w=Cj[y];return w(b,a.formatLong)}return b}).join("").match(Q8e).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:rTe(b)};if(UP[y])return{isToken:!0,value:b};if(y.match(tTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Y8e(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&G8e(y))&&X8e(y,t,String(e));const w=UP[y[0]];return w(l,y,a.localize,u)}).join("")}function rTe(e){const t=e.match(Z8e);return t?t[1].replace(eTe,"'"):e}function GP(e,t){return Tt(e,t==null?void 0:t.in).getDate()}function nTe(e,t){return Tt(e,t==null?void 0:t.in).getDay()}function aTe(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),i=rn(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function iTe(){return Object.assign({},Cf())}function ru(e,t){return Tt(e,t==null?void 0:t.in).getHours()}function sTe(e,t){const r=Tt(e,t==null?void 0:t.in).getDay();return r===0?7:r}function nu(e,t){return Tt(e,t==null?void 0:t.in).getMinutes()}function ps(e,t){return Tt(e,t==null?void 0:t.in).getMonth()}function xd(e){return Tt(e).getSeconds()}function Ej(e){return+Tt(e)}function hr(e,t){return Tt(e,t==null?void 0:t.in).getFullYear()}function Ad(e,t){return+Tt(e)>+Tt(t)}function af(e,t){return+Tt(e)<+Tt(t)}function oTe(e,t){return+Tt(e)==+Tt(t)}function lTe(e,t){const r=cTe(t)?new t(0):rn(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function cTe(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const uTe=10;class A${constructor(){_t(this,"subPriority",0)}validate(t,r){return!0}}class dTe extends A${constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class fTe extends A${constructor(r,n){super();_t(this,"priority",uTe);_t(this,"subPriority",-1);this.context=r||(a=>rn(n,a))}set(r,n){return n.timestampIsSet?r:rn(r,lTe(r,this.context))}}class $r{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new dTe(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class hTe extends $r{constructor(){super(...arguments);_t(this,"priority",140);_t(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const ga={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Gl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function va(e,t){return e&&{value:t(e.value),rest:e.rest}}function Wn(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Yl(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*b5+i*v5+o*t8e),rest:t.slice(r[0].length)}}function C$(e){return Wn(ga.anyDigitsSigned,e)}function ia(e,t){switch(e){case 1:return Wn(ga.singleDigit,t);case 2:return Wn(ga.twoDigits,t);case 3:return Wn(ga.threeDigits,t);case 4:return Wn(ga.fourDigits,t);default:return Wn(new RegExp("^\\d{1,"+e+"}"),t)}}function By(e,t){switch(e){case 1:return Wn(ga.singleDigitSigned,t);case 2:return Wn(ga.twoDigitsSigned,t);case 3:return Wn(ga.threeDigitsSigned,t);case 4:return Wn(ga.fourDigitsSigned,t);default:return Wn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function PC(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function E$(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return r?a:1-a}function k$(e){return e%400===0||e%4===0&&e%100!==0}class pTe extends $r{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return va(ia(4,r),i);case"yo":return va(a.ordinalNumber(r,{unit:"year"}),i);default:return va(ia(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=E$(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class mTe extends $r{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return va(ia(4,r),i);case"Yo":return va(a.ordinalNumber(r,{unit:"year"}),i);default:return va(ia(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const o=OC(r,i);if(a.isTwoDigitYear){const c=E$(a.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),fu(r,i)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),fu(r,i)}}class xTe extends $r{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return By(n==="R"?4:n.length,r)}set(r,n,a){const i=rn(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Dp(i)}}class gTe extends $r{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return By(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class vTe extends $r{constructor(){super(...arguments);_t(this,"priority",120);_t(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return ia(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class bTe extends $r{constructor(){super(...arguments);_t(this,"priority",120);_t(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return ia(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class yTe extends $r{constructor(){super(...arguments);_t(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);_t(this,"priority",110)}parse(r,n,a){const i=o=>o-1;switch(n){case"M":return va(Wn(ga.month,r),i);case"MM":return va(ia(2,r),i);case"Mo":return va(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class wTe extends $r{constructor(){super(...arguments);_t(this,"priority",110);_t(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=o=>o-1;switch(n){case"L":return va(Wn(ga.month,r),i);case"LL":return va(ia(2,r),i);case"Lo":return va(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function _Te(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=j$(n,r)-t;return n.setDate(n.getDate()-a*7),Tt(n,r==null?void 0:r.in)}class NTe extends $r{constructor(){super(...arguments);_t(this,"priority",100);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Wn(ga.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return ia(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return fu(_Te(r,a,i),i)}}function jTe(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=TC(n,r)-t;return n.setDate(n.getDate()-a*7),n}class STe extends $r{constructor(){super(...arguments);_t(this,"priority",100);_t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Wn(ga.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return ia(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Dp(jTe(r,a))}}const ATe=[31,28,31,30,31,30,31,31,30,31,30,31],CTe=[31,29,31,30,31,30,31,31,30,31,30,31];class ETe extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"subPriority",1);_t(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Wn(ga.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return ia(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=k$(a),o=r.getMonth();return i?n>=1&&n<=CTe[o]:n>=1&&n<=ATe[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class kTe extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"subpriority",1);_t(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Wn(ga.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return ia(n.length,r)}}validate(r,n){const a=r.getFullYear();return k$(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function DC(e,t,r){var f,h,p,m;const n=Cf(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=Tt(e,r==null?void 0:r.in),o=i.getDay(),c=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(o+u)%7:(c+u)%7-(o+u)%7;return jl(i,d,r)}class TTe extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=DC(r,a,i),r.setHours(0,0,0,0),r}}class OTe extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return va(ia(n.length,r),o);case"eo":return va(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=DC(r,a,i),r.setHours(0,0,0,0),r}}class PTe extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return va(ia(n.length,r),o);case"co":return va(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=DC(r,a,i),r.setHours(0,0,0,0),r}}function DTe(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=sTe(n,r),i=t-a;return jl(n,i,r)}class ITe extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return ia(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return va(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return va(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return va(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return va(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=DTe(r,a),r.setHours(0,0,0,0),r}}class MTe extends $r{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(PC(a),0,0,0),r}}class FTe extends $r{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(PC(a),0,0,0),r}}class RTe extends $r{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(PC(a),0,0,0),r}}class LTe extends $r{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Wn(ga.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return ia(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class BTe extends $r{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Wn(ga.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return ia(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class $Te extends $r{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Wn(ga.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return ia(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class zTe extends $r{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Wn(ga.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return ia(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class UTe extends $r{constructor(){super(...arguments);_t(this,"priority",60);_t(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Wn(ga.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return ia(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class HTe extends $r{constructor(){super(...arguments);_t(this,"priority",50);_t(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Wn(ga.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return ia(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class WTe extends $r{constructor(){super(...arguments);_t(this,"priority",30);_t(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return va(ia(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class VTe extends $r{constructor(){super(...arguments);_t(this,"priority",10);_t(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Yl(Gl.basicOptionalMinutes,r);case"XX":return Yl(Gl.basic,r);case"XXXX":return Yl(Gl.basicOptionalSeconds,r);case"XXXXX":return Yl(Gl.extendedOptionalSeconds,r);case"XXX":default:return Yl(Gl.extended,r)}}set(r,n,a){return n.timestampIsSet?r:rn(r,r.getTime()-Dy(r)-a)}}class qTe extends $r{constructor(){super(...arguments);_t(this,"priority",10);_t(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Yl(Gl.basicOptionalMinutes,r);case"xx":return Yl(Gl.basic,r);case"xxxx":return Yl(Gl.basicOptionalSeconds,r);case"xxxxx":return Yl(Gl.extendedOptionalSeconds,r);case"xxx":default:return Yl(Gl.extended,r)}}set(r,n,a){return n.timestampIsSet?r:rn(r,r.getTime()-Dy(r)-a)}}class GTe extends $r{constructor(){super(...arguments);_t(this,"priority",40);_t(this,"incompatibleTokens","*")}parse(r){return C$(r)}set(r,n,a){return[rn(r,a*1e3),{timestampIsSet:!0}]}}class YTe extends $r{constructor(){super(...arguments);_t(this,"priority",20);_t(this,"incompatibleTokens","*")}parse(r){return C$(r)}set(r,n,a){return[rn(r,a),{timestampIsSet:!0}]}}const XTe={G:new hTe,y:new pTe,Y:new mTe,R:new xTe,u:new gTe,Q:new vTe,q:new bTe,M:new yTe,L:new wTe,w:new NTe,I:new STe,d:new ETe,D:new kTe,E:new TTe,e:new OTe,c:new PTe,i:new ITe,a:new MTe,b:new FTe,B:new RTe,h:new LTe,H:new BTe,K:new $Te,k:new zTe,m:new UTe,s:new HTe,S:new WTe,X:new VTe,x:new qTe,t:new GTe,T:new YTe},KTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JTe=/^'([^]*?)'?$/,ZTe=/''/g,eOe=/\S/,tOe=/[a-zA-Z]/;function rOe(e,t,r,n){var g,v,b,y,w,N,S,j;const a=()=>rn((n==null?void 0:n.in)||r,NaN),i=iTe(),o=(n==null?void 0:n.locale)??i.locale??N$,l=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(b=i.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((N=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:N.weekStartsOn)??i.weekStartsOn??((j=(S=i.locale)==null?void 0:S.options)==null?void 0:j.weekStartsOn)??0;if(!t)return e?a():Tt(r,n==null?void 0:n.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:o},d=[new fTe(n==null?void 0:n.in,r)],f=t.match(QTe).map(A=>{const T=A[0];if(T in Cj){const R=Cj[T];return R(A,o.formatLong)}return A}).join("").match(KTe),h=[];for(let A of f){const T=A[0],R=XTe[T];if(R){const{incompatibleTokens:O}=R;if(Array.isArray(O)){const L=h.find(B=>O.includes(B.token)||B.token===T);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${A}\` at the same time`)}else if(R.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);h.push({token:T,fullToken:A});const E=R.run(e,A,o.match,u);if(!E)return a();d.push(E.setter),e=E.rest}else{if(T.match(tOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(A==="''"?A="'":T==="'"&&(A=nOe(A)),e.indexOf(A)===0)e=e.slice(A.length);else return a()}}if(e.length>0&&eOe.test(e))return a();const p=d.map(A=>A.priority).sort((A,T)=>T-A).filter((A,T,R)=>R.indexOf(A)===T).map(A=>d.filter(T=>T.priority===A).sort((T,R)=>R.subPriority-T.subPriority)).map(A=>A[0]);let m=Tt(r,n==null?void 0:n.in);if(isNaN(+m))return a();const x={};for(const A of p){if(!A.validate(m,u))return a();const T=A.set(m,x,u);Array.isArray(T)?(m=T[0],Object.assign(x,T[1])):m=T}return m}function nOe(e){return e.match(JTe)[1].replace(ZTe,"'")}function aOe(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function iOe(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t);return+Aj(n)==+Aj(a)}function sOe(e,t,r){const[n,a]=bu(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function Q1(e,t,r){const n=+Tt(e,r==null?void 0:r.in),[a,i]=[+Tt(t.start,r==null?void 0:r.in),+Tt(t.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=a&&n<=i}function oOe(e,t,r){return jl(e,-t,r)}function lOe(e,t){const r=()=>rn(t==null?void 0:t.in,NaN),a=fOe(e);let i;if(a.date){const u=hOe(a.date,2);i=pOe(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(a.time&&(l=mOe(a.time),isNaN(l)))return r();if(a.timezone){if(c=xOe(a.timezone),isNaN(c))return r()}else{const u=new Date(o+l),d=Tt(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Tt(o+l+c,t==null?void 0:t.in)}const f2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cOe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uOe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dOe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fOe(e){const t={},r=e.split(f2.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],f2.timeZoneDelimiter.test(t.date)&&(t.date=e.split(f2.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=f2.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function hOe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function pOe(e,t){if(t===null)return new Date(NaN);const r=e.match(cOe);if(!r)return new Date(NaN);const n=!!r[4],a=lx(r[1]),i=lx(r[2])-1,o=lx(r[3]),l=lx(r[4]),c=lx(r[5])-1;if(n)return wOe(t,l,c)?gOe(t,l,c):new Date(NaN);{const u=new Date(0);return!bOe(t,i,o)||!yOe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function lx(e){return e?parseInt(e):1}function mOe(e){const t=e.match(uOe);if(!t)return NaN;const r=A4(t[1]),n=A4(t[2]),a=A4(t[3]);return _Oe(r,n,a)?r*b5+n*v5+a*1e3:NaN}function A4(e){return e&&parseFloat(e.replace(",","."))||0}function xOe(e){if(e==="Z")return 0;const t=e.match(dOe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return NOe(n,a)?r*(n*b5+a*v5):NaN}function gOe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const vOe=[31,null,31,30,31,30,31,31,30,31,30,31];function T$(e){return e%400===0||e%4===0&&e%100!==0}function bOe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(vOe[t]||(T$(e)?29:28))}function yOe(e,t){return t>=1&&t<=(T$(e)?366:365)}function wOe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function _Oe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function NOe(e,t){return t>=0&&t<=59}function Io(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=n.getFullYear(),i=n.getDate(),o=rn(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=aTe(o);return n.setMonth(t,Math.min(i,l)),n}function Z2(e,t,r){const n=Tt(e,r==null?void 0:r.in);return n.setHours(t),n}function eb(e,t,r){const n=Tt(e,r==null?void 0:r.in);return n.setMinutes(t),n}function Ah(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,i=t-a;return Io(n,n.getMonth()+i*3)}function tb(e,t,r){const n=Tt(e,r==null?void 0:r.in);return n.setSeconds(t),n}function Ul(e,t,r){const n=Tt(e,r==null?void 0:r.in);return isNaN(+n)?rn(e,NaN):(n.setFullYear(t),n)}function M0(e,t,r){return Sl(e,-t,r)}function O$(e,t,r){return kC(e,-t,r)}function YP(e,t,r){return Iy(e,-t,r)}function Mp(e,t,r){return eu(e,-t,r)}function w5(){return typeof window<"u"}function dm(e){return P$(e)?(e.nodeName||"").toLowerCase():"#document"}function oo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yc(e){var t;return(t=(P$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function P$(e){return w5()?e instanceof Node||e instanceof oo(e).Node:!1}function ms(e){return w5()?e instanceof Element||e instanceof oo(e).Element:!1}function dc(e){return w5()?e instanceof HTMLElement||e instanceof oo(e).HTMLElement:!1}function XP(e){return!w5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oo(e).ShadowRoot}function Og(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Go(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function jOe(e){return["table","td","th"].includes(dm(e))}function _5(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function IC(e){const t=MC(),r=ms(e)?Go(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function SOe(e){let t=Cd(e);for(;dc(t)&&!Fp(t);){if(IC(t))return t;if(_5(t))return null;t=Cd(t)}return null}function MC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fp(e){return["html","body","#document"].includes(dm(e))}function Go(e){return oo(e).getComputedStyle(e)}function N5(e){return ms(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cd(e){if(dm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XP(e)&&e.host||yc(e);return XP(t)?t.host:t}function D$(e){const t=Cd(e);return Fp(t)?e.ownerDocument?e.ownerDocument.body:e.body:dc(t)&&Og(t)?t:D$(t)}function J1(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=D$(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=oo(a);if(i){const l=kj(o);return t.concat(o,o.visualViewport||[],Og(a)?a:[],l&&r?J1(l):[])}return t.concat(a,J1(a,[],r))}function kj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Rp=Math.min,F0=Math.max,$y=Math.round,h2=Math.floor,oc=e=>({x:e,y:e}),AOe={left:"right",right:"left",bottom:"top",top:"bottom"},COe={start:"end",end:"start"};function EOe(e,t,r){return F0(e,Rp(t,r))}function j5(e,t){return typeof e=="function"?e(t):e}function Lp(e){return e.split("-")[0]}function Pg(e){return e.split("-")[1]}function kOe(e){return e==="x"?"y":"x"}function FC(e){return e==="y"?"height":"width"}function Z1(e){return["top","bottom"].includes(Lp(e))?"y":"x"}function RC(e){return kOe(Z1(e))}function TOe(e,t,r){r===void 0&&(r=!1);const n=Pg(e),a=RC(e),i=FC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=zy(o)),[o,zy(o)]}function OOe(e){const t=zy(e);return[Tj(e),t,Tj(t)]}function Tj(e){return e.replace(/start|end/g,t=>COe[t])}function POe(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function DOe(e,t,r,n){const a=Pg(e);let i=POe(Lp(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Tj)))),i}function zy(e){return e.replace(/left|right|bottom|top/g,t=>AOe[t])}function IOe(e){return{top:0,right:0,bottom:0,left:0,...e}}function I$(e){return typeof e!="number"?IOe(e):{top:e,right:e,bottom:e,left:e}}function Uy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function KP(e,t,r){let{reference:n,floating:a}=e;const i=Z1(t),o=RC(t),l=FC(o),c=Lp(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Pg(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const MOe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=KP(u,n,c),h=n,p={},m=0;for(let x=0;x<l.length;x++){const{name:g,fn:v}=l[x],{x:b,y,data:w,reset:N}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=y??f,p={...p,[g]:{...p[g],...w}},N&&m<=50&&(m++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=KP(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function FOe(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=j5(t,e),m=I$(p),g=l[h?f==="floating"?"reference":"floating":f],v=Uy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},N=Uy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:y,strategy:c}):b);return{top:(v.top-N.top+m.top)/w.y,bottom:(N.bottom-v.bottom+m.bottom)/w.y,left:(v.left-N.left+m.left)/w.x,right:(N.right-v.right+m.right)/w.x}}const ROe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=j5(e,t)||{};if(u==null)return{};const f=I$(d),h={x:r,y:n},p=RC(a),m=FC(p),x=await o.getDimensions(u),g=p==="y",v=g?"top":"left",b=g?"bottom":"right",y=g?"clientHeight":"clientWidth",w=i.reference[m]+i.reference[p]-h[p]-i.floating[m],N=h[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=S?S[y]:0;(!j||!await(o.isElement==null?void 0:o.isElement(S)))&&(j=l.floating[y]||i.floating[m]);const A=w/2-N/2,T=j/2-x[m]/2-1,R=Rp(f[v],T),O=Rp(f[b],T),E=R,L=j-x[m]-O,B=j/2-x[m]/2+A,G=EOe(E,B,L),U=!c.arrow&&Pg(a)!=null&&B!==G&&i.reference[m]/2-(B<E?R:O)-x[m]/2<0,W=U?B<E?B-E:B-L:0;return{[p]:h[p]+W,data:{[p]:G,centerOffset:B-G-W,...U&&{alignmentOffset:W}},reset:U}}}),LOe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:x=!0,...g}=j5(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Lp(a),b=Z1(l),y=Lp(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(y||!x?[zy(l)]:OOe(l)),S=m!=="none";!h&&S&&N.push(...DOe(l,x,m,w));const j=[l,...N],A=await FOe(t,g),T=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(A[v]),f){const B=TOe(a,o,w);T.push(A[B[0]],A[B[1]])}if(R=[...R,{placement:a,overflows:T}],!T.every(B=>B<=0)){var O,E;const B=(((O=i.flip)==null?void 0:O.index)||0)+1,G=j[B];if(G)return{data:{index:B,overflows:R},reset:{placement:G}};let U=(E=R.filter(W=>W.overflows[0]<=0).sort((W,X)=>W.overflows[1]-X.overflows[1])[0])==null?void 0:E.placement;if(!U)switch(p){case"bestFit":{var L;const W=(L=R.filter(X=>{if(S){const q=Z1(X.placement);return q===b||q==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(q=>q>0).reduce((q,le)=>q+le,0)]).sort((X,q)=>X[1]-q[1])[0])==null?void 0:L[0];W&&(U=W);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};async function BOe(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Lp(r),l=Pg(r),c=Z1(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=j5(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof m=="number"&&(p=l==="end"?m*-1:m),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const $Oe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await BOe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}};function M$(e){const t=Go(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=dc(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=$y(r)!==i||$y(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function LC(e){return ms(e)?e:e.contextElement}function Kh(e){const t=LC(e);if(!dc(t))return oc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=M$(t);let o=(i?$y(r.width):r.width)/n,l=(i?$y(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zOe=oc(0);function F$(e){const t=oo(e);return!MC()||!t.visualViewport?zOe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function UOe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==oo(e)?!1:t}function sf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=LC(e);let o=oc(1);t&&(n?ms(n)&&(o=Kh(n)):o=Kh(e));const l=UOe(i,r,n)?F$(i):oc(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=oo(i),p=n&&ms(n)?oo(n):n;let m=h,x=kj(m);for(;x&&n&&p!==m;){const g=Kh(x),v=x.getBoundingClientRect(),b=Go(x),y=v.left+(x.clientLeft+parseFloat(b.paddingLeft))*g.x,w=v.top+(x.clientTop+parseFloat(b.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=y,u+=w,m=oo(x),x=kj(m)}}return Uy({width:d,height:f,x:c,y:u})}function BC(e,t){const r=N5(e).scrollLeft;return t?t.left+r:sf(yc(e)).left+r}function R$(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:BC(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function HOe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=yc(n),l=t?_5(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=oc(1);const d=oc(0),f=dc(n);if((f||!f&&!i)&&((dm(n)!=="body"||Og(o))&&(c=N5(n)),dc(n))){const p=sf(n);u=Kh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?R$(o,c,!0):oc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function WOe(e){return Array.from(e.getClientRects())}function VOe(e){const t=yc(e),r=N5(e),n=e.ownerDocument.body,a=F0(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=F0(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+BC(e);const l=-r.scrollTop;return Go(n).direction==="rtl"&&(o+=F0(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function qOe(e,t){const r=oo(e),n=yc(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=MC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function GOe(e,t){const r=sf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=dc(e)?Kh(e):oc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function QP(e,t,r){let n;if(t==="viewport")n=qOe(e,r);else if(t==="document")n=VOe(yc(e));else if(ms(t))n=GOe(t,r);else{const a=F$(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Uy(n)}function L$(e,t){const r=Cd(e);return r===t||!ms(r)||Fp(r)?!1:Go(r).position==="fixed"||L$(r,t)}function YOe(e,t){const r=t.get(e);if(r)return r;let n=J1(e,[],!1).filter(l=>ms(l)&&dm(l)!=="body"),a=null;const i=Go(e).position==="fixed";let o=i?Cd(e):e;for(;ms(o)&&!Fp(o);){const l=Go(o),c=IC(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Og(o)&&!c&&L$(e,o))?n=n.filter(d=>d!==o):a=l,o=Cd(o)}return t.set(e,n),n}function XOe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?_5(t)?[]:YOe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=QP(t,d,a);return u.top=F0(f.top,u.top),u.right=Rp(f.right,u.right),u.bottom=Rp(f.bottom,u.bottom),u.left=F0(f.left,u.left),u},QP(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KOe(e){const{width:t,height:r}=M$(e);return{width:t,height:r}}function QOe(e,t,r){const n=dc(t),a=yc(t),i=r==="fixed",o=sf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=oc(0);if(n||!n&&!i)if((dm(t)!=="body"||Og(a))&&(l=N5(t)),n){const h=sf(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=BC(a));const u=a&&!n&&!i?R$(a,l):oc(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function C4(e){return Go(e).position==="static"}function JP(e,t){if(!dc(e)||Go(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return yc(e)===r&&(r=r.ownerDocument.body),r}function B$(e,t){const r=oo(e);if(_5(e))return r;if(!dc(e)){let a=Cd(e);for(;a&&!Fp(a);){if(ms(a)&&!C4(a))return a;a=Cd(a)}return r}let n=JP(e,t);for(;n&&jOe(n)&&C4(n);)n=JP(n,t);return n&&Fp(n)&&C4(n)&&!IC(n)?r:n||SOe(e)||r}const JOe=async function(e){const t=this.getOffsetParent||B$,r=this.getDimensions,n=await r(e.floating);return{reference:QOe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ZOe(e){return Go(e).direction==="rtl"}const ePe={convertOffsetParentRelativeRectToViewportRelativeRect:HOe,getDocumentElement:yc,getClippingRect:XOe,getOffsetParent:B$,getElementRects:JOe,getClientRects:WOe,getDimensions:KOe,getScale:Kh,isElement:ms,isRTL:ZOe};function $$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tPe(e,t){let r=null,n;const a=yc(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const m=h2(f),x=h2(a.clientWidth-(d+h)),g=h2(a.clientHeight-(f+p)),v=h2(d),y={rootMargin:-m+"px "+-x+"px "+-g+"px "+-v+"px",threshold:F0(0,Rp(1,c))||1};let w=!0;function N(S){const j=S[0].intersectionRatio;if(j!==c){if(!w)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!$$(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(N,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return o(!0),i}function rPe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=LC(e),d=a||i?[...u?J1(u):[],...J1(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?tPe(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let m,x=c?sf(e):null;c&&g();function g(){const v=sf(e);x&&!$$(x,v)&&r(),x=v,m=requestAnimationFrame(g)}return r(),()=>{var v;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const nPe=$Oe,aPe=LOe,ZP=ROe,iPe=(e,t,r)=>{const n=new Map,a={platform:ePe,...r},i={...a.platform,_c:n};return MOe(e,t,{...a,platform:i})};var rb=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Hy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Hy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function z$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eD(e,t){const r=z$(e);return Math.round(t*r)/r}function E4(e){const t=k.useRef(e);return rb(()=>{t.current=e}),t}function sPe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=k.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=k.useState(n);Hy(h,n)||p(n);const[m,x]=k.useState(null),[g,v]=k.useState(null),b=k.useCallback(X=>{X!==S.current&&(S.current=X,x(X))},[]),y=k.useCallback(X=>{X!==j.current&&(j.current=X,v(X))},[]),w=i||m,N=o||g,S=k.useRef(null),j=k.useRef(null),A=k.useRef(d),T=c!=null,R=E4(c),O=E4(a),E=E4(u),L=k.useCallback(()=>{if(!S.current||!j.current)return;const X={placement:t,strategy:r,middleware:h};O.current&&(X.platform=O.current),iPe(S.current,j.current,X).then(q=>{const le={...q,isPositioned:E.current!==!1};B.current&&!Hy(A.current,le)&&(A.current=le,jS.flushSync(()=>{f(le)}))})},[h,t,r,O,E]);rb(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(X=>({...X,isPositioned:!1})))},[u]);const B=k.useRef(!1);rb(()=>(B.current=!0,()=>{B.current=!1}),[]),rb(()=>{if(w&&(S.current=w),N&&(j.current=N),w&&N){if(R.current)return R.current(w,N,L);L()}},[w,N,L,R,T]);const G=k.useMemo(()=>({reference:S,floating:j,setReference:b,setFloating:y}),[b,y]),U=k.useMemo(()=>({reference:w,floating:N}),[w,N]),W=k.useMemo(()=>{const X={position:r,left:0,top:0};if(!U.floating)return X;const q=eD(U.floating,d.x),le=eD(U.floating,d.y);return l?{...X,transform:"translate("+q+"px, "+le+"px)",...z$(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:le}},[r,l,U.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:L,refs:G,elements:U,floatingStyles:W}),[d,L,G,U,W])}const oPe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ZP({element:n.current,padding:a}).fn(r):{}:n?ZP({element:n,padding:a}).fn(r):{}}}},lPe=(e,t)=>({...nPe(e),options:[e,t]}),cPe=(e,t)=>({...aPe(e),options:[e,t]}),uPe=(e,t)=>({...oPe(e),options:[e,t]}),U$={...OM},dPe=U$.useInsertionEffect,fPe=dPe||(e=>e());function hPe(e){const t=k.useRef(()=>{});return fPe(()=>{t.current=e}),k.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}var Wy=typeof document<"u"?k.useLayoutEffect:k.useEffect;let tD=!1,pPe=0;const rD=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pPe++;function mPe(){const[e,t]=k.useState(()=>tD?rD():void 0);return Wy(()=>{e==null&&t(rD())},[]),k.useEffect(()=>{tD=!0},[]),e}const xPe=U$.useId,H$=xPe||mPe,gPe=k.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:i,shift:o}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:p,style:{transform:m,...x}={},...g}=t,v=H$(),[b,y]=k.useState(!1);if(Wy(()=>{if(!a)return;Go(a).direction==="rtl"&&y(!0)},[a]),!a)return null;const[w,N]=n.split("-"),S=w==="top"||w==="bottom";let j=f;(S&&o!=null&&o.x||!S&&o!=null&&o.y)&&(j=null);const A=d*2,T=A/2,R=l/2*(u/-8+1),O=c/2*u/4,E=!!p,L=j&&N==="end"?"bottom":"top";let B=j&&N==="end"?"right":"left";j&&b&&(B=N==="end"?"left":"right");const G=(i==null?void 0:i.x)!=null?j||i.x:"",U=(i==null?void 0:i.y)!=null?j||i.y:"",W=p||"M0,0"+(" H"+l)+(" L"+(l-R)+","+(c-O))+(" Q"+l/2+","+c+" "+R+","+(c-O))+" Z",X={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[w];return s.jsxs("svg",{...g,"aria-hidden":!0,ref:r,width:E?l:l+A,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[B]:G,[L]:U,[w]:S||E?"100%":"calc(100% - "+A/2+"px)",transform:[X,m].filter(q=>!!q).join(" "),...x},children:[A>0&&s.jsx("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:A+(p?0:1),d:W}),s.jsx("path",{stroke:A&&!p?g.fill:"none",d:W}),s.jsx("clipPath",{id:v,children:s.jsx("rect",{x:-T,y:T*(E?-1:1),width:l+A,height:l})})]})});function vPe(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(a=>a!==r))||[])}}}const bPe=k.createContext(null),yPe=k.createContext(null),wPe=()=>{var e;return((e=k.useContext(bPe))==null?void 0:e.id)||null},_Pe=()=>k.useContext(yPe);function NPe(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=H$(),i=k.useRef({}),[o]=k.useState(()=>vPe()),l=wPe()!=null,[c,u]=k.useState(n.reference),d=hPe((p,m,x)=>{i.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:x,nested:l}),r==null||r(p,m,x)}),f=k.useMemo(()=>({setPositionReference:u}),[]),h=k.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return k.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:h,events:o,floatingId:a,refs:f}),[t,d,h,o,a,f])}function jPe(e){e===void 0&&(e={});const{nodeId:t}=e,r=NPe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[i,o]=k.useState(null),[l,c]=k.useState(null),d=(a==null?void 0:a.domReference)||i,f=k.useRef(null),h=_Pe();Wy(()=>{d&&(f.current=d)},[d]);const p=sPe({...e,elements:{...a,...l&&{reference:l}}}),m=k.useCallback(y=>{const w=ms(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;c(w),p.refs.setReference(w)},[p.refs]),x=k.useCallback(y=>{(ms(y)||y===null)&&(f.current=y,o(y)),(ms(p.refs.reference.current)||p.refs.reference.current===null||y!==null&&!ms(y))&&p.refs.setReference(y)},[p.refs]),g=k.useMemo(()=>({...p.refs,setReference:x,setPositionReference:m,domReference:f}),[p.refs,x,m]),v=k.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),b=k.useMemo(()=>({...p,...n,refs:g,elements:v,nodeId:t}),[p,g,v,t,n]);return Wy(()=>{n.dataRef.current.floatingContext=b;const y=h==null?void 0:h.nodesRef.current.find(w=>w.id===t);y&&(y.context=b)}),k.useMemo(()=>({...p,context:b,refs:g,elements:v}),[p,g,v,b])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Oj=function(t,r){return Oj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Oj(t,r)};function mi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Oj(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Er=function(){return Er=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Er.apply(this,arguments)};function ec(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var SPe=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,i=e.className,o=e.children,l=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return K.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},APe=function(e,t){var r=k.useRef(null),n=k.useRef(e);n.current=e;var a=k.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;r.current&&!r.current.contains(l)&&(t&&l instanceof HTMLElement&&l.classList.contains(t)||(o=n.current)===null||o===void 0||o.call(n,i))},[t]);return k.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},S5=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,i=e.style,o=e.ignoreClass,l=APe(r,o);return K.createElement("div",{className:n,style:i,ref:function(c){l.current=c,a&&(a.current=c)}},t)},vt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(vt||(vt={}));function $C(){var e=typeof window<"u"?window:globalThis;return e}var Dg=12;function Wr(e){if(e==null)return new Date;var t=typeof e=="string"?lOe(e):Tt(e);return A5(t)?t:new Date}function k4(e,t,r,n,a){a===void 0&&(a=Wr());for(var i=Bp(r)||Bp(zC()),o=Array.isArray(t)?t:[t],l=0,c=o;l<c.length;l++){var u=c[l],d=rOe(e,u,a,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(A5(d)&&(!n||e===$n(d,u,r)))return d}return null}function A5(e,t){return My(e)&&!af(e,new Date("1/1/1800"))}function $n(e,t,r){if(r==="en")return qP(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Bp(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Bp(zC()),qP(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Po(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&$n(e,a,n)||""}function CPe(e,t,r){if(!e)return"";var n=Po(e,r),a=t?Po(t,r):"";return"".concat(n," - ").concat(a)}function EPe(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?Po(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=Po(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function T4(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,i=a===void 0?0:a,o=t.second,l=o===void 0?0:o;return Z2(eb(tb(e,l),i),n)}function kPe(e){return TC(e)}function TPe(e,t){return $n(e,"ddd",t)}function nb(e){return nf(e)}function gd(e,t,r){var n=Bp(t||zC());return fu(e,{locale:n,weekStartsOn:r})}function au(e){return w$(e)}function Nx(e){return y5(e)}function nD(e){return Aj(e)}function aD(){return nf(Wr())}function iD(e){return b$(e)}function OPe(e){return l8e(e)}function PPe(e){return y$(e)}function Wl(e,t){return e&&t?sOe(e,t):!e&&!t}function ls(e,t){return e&&t?aOe(e,t):!e&&!t}function Vy(e,t){return e&&t?iOe(e,t):!e&&!t}function Cr(e,t){return e&&t?s8e(e,t):!e&&!t}function N0(e,t){return e&&t?oTe(e,t):!e&&!t}function jx(e,t,r){var n,a=nf(t),i=b$(r);try{n=Q1(e,{start:a,end:i})}catch{n=!1}return n}function DPe(e,t){var r=$C();r.__localeData__||(r.__localeData__={}),r.__localeData__[e]=t}function zC(){var e=$C();return e.__localeId__}function Bp(e){if(typeof e=="string"){var t=$C();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function IPe(e,t,r){return t($n(e,"EEEE",r))}function MPe(e,t){return $n(e,"EEEEEE",t)}function FPe(e,t){return $n(e,"EEE",t)}function UC(e,t){return $n(Io(Wr(),e),"LLLL",t)}function W$(e,t){return $n(Io(Wr(),e),"LLL",t)}function RPe(e,t){return $n(Ah(Wr(),e),"QQQ",t)}function Mo(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,u=r.filterDate;return Ig(e,{minDate:n,maxDate:a})||i&&i.some(function(d){return d instanceof Date?Cr(e,d):Cr(e,d.date)})||o&&o.some(function(d){var f=d.start,h=d.end;return Q1(e,{start:f,end:h})})||l&&!l.some(function(d){return Cr(e,d)})||c&&!c.some(function(d){var f=d.start,h=d.end;return Q1(e,{start:f,end:h})})||u&&!u(Wr(e))||!1}function HC(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(i){var o=i.start,l=i.end;return Q1(e,{start:o,end:l})}):n&&n.some(function(i){var o;return i instanceof Date?Cr(e,i):Cr(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function V$(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return Ig(e,{minDate:n?w$(n):void 0,maxDate:a?y$(a):void 0})||(i==null?void 0:i.some(function(c){return ls(e,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return ls(e,c)})||l&&!l(Wr(e))||!1}function p2(e,t,r,n){var a=hr(e),i=ps(e),o=hr(t),l=ps(t),c=hr(n);return a===o&&a===c?i<=r&&r<=l:a<o?c===a&&i<=r||c===o&&l>=r||c<o&&c>a:!1}function LPe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.includeDates;return Ig(e,{minDate:n,maxDate:a})||i&&i.some(function(l){return ls(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return ls(l,e)})||!1}function m2(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return Ig(e,{minDate:n,maxDate:a})||(i==null?void 0:i.some(function(c){return Vy(e,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Vy(e,c)})||l&&!l(Wr(e))||!1}function x2(e,t,r){if(!t||!r||!My(t)||!My(r))return!1;var n=hr(t),a=hr(r);return n<=e&&a>=e}function ab(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(e,0,1);return Ig(c,{minDate:n?y5(n):void 0,maxDate:a?_$(a):void 0})||(i==null?void 0:i.some(function(u){return Wl(c,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return Wl(c,u)})||l&&!l(Wr(c))||!1}function g2(e,t,r,n){var a=hr(e),i=I0(e),o=hr(t),l=I0(t),c=hr(n);return a===o&&a===c?i<=r&&r<=l:a<o?c===a&&i<=r||c===o&&l>=r||c<o&&c>a:!1}function Ig(e,t){var r,n=t===void 0?{}:t,a=n.minDate,i=n.maxDate;return(r=a&&Ip(e,a)<0||i&&Ip(e,i)>0)!==null&&r!==void 0?r:!1}function sD(e,t){return t.some(function(r){return ru(r)===ru(e)&&nu(r)===nu(e)&&xd(r)===xd(e)})}function oD(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,i=r.filterTime;return n&&sD(e,n)||a&&!sD(e,a)||i&&!i(e)||!1}function lD(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=Wr();a=Z2(a,ru(e)),a=eb(a,nu(e)),a=tb(a,xd(e));var i=Wr();i=Z2(i,ru(r)),i=eb(i,nu(r)),i=tb(i,xd(r));var o=Wr();o=Z2(o,ru(n)),o=eb(o,nu(n)),o=tb(o,xd(n));var l;try{l=!Q1(a,{start:i,end:o})}catch{l=!1}return l}function cD(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=M0(e,1);return n&&Fy(n,i)>0||a&&a.every(function(o){return Fy(o,i)>0})||!1}function uD(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=Sl(e,1);return n&&Fy(i,n)>0||a&&a.every(function(o){return Fy(i,o)>0})||!1}function BPe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=y5(e),o=O$(i,1);return n&&Ry(n,o)>0||a&&a.every(function(l){return Ry(l,o)>0})||!1}function $Pe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=_$(e),o=kC(i,1);return n&&Ry(o,n)>0||a&&a.every(function(l){return Ry(o,l)>0})||!1}function dD(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=Mp(e,1);return n&&Ly(n,i)>0||a&&a.every(function(o){return Ly(o,i)>0})||!1}function zPe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,i=a===void 0?Dg:a,o=Nx(Mp(e,i)),l=hd(o,i).endPeriod,c=n&&hr(n);return c&&c>l||!1}function fD(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=eu(e,1);return n&&Ly(i,n)>0||a&&a.every(function(o){return Ly(i,o)>0})||!1}function UPe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,i=a===void 0?Dg:a,o=eu(e,i),l=hd(o,i).startPeriod,c=n&&hr(n);return c&&c<l||!1}function q$(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Ip(a,t)>=0});return $P(n)}else return r?$P(r):t}function G$(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Ip(a,t)<=0});return BP(n)}else return r?BP(r):t}function hD(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,i=e.length;a<i;a++){var o=e[a];if(tu(o)){var l=$n(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(t)||(c.push(t),n.set(l,c))}else if(typeof o=="object"){var u=Object.keys(o),d=(r=u[0])!==null&&r!==void 0?r:"",f=o[d];if(typeof d=="string"&&Array.isArray(f))for(var h=0,p=f.length;h<p;h++){var m=f[h];if(m){var l=$n(m,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(d)||(c.push(d),n.set(l,c))}}}}return n}function HPe(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function WPe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,i=n.holidayName;if(tu(a)){var o=$n(a,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&HPe(l.holidayNames,[i]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?ec(ec([],c,!0),[i],!1):[i],r.set(o,l)}}}),r}function VPe(e,t,r,n,a){for(var i=a.length,o=[],l=0;l<i;l++){var c=e,u=a[l];u&&(c=r8e(c,ru(u)),c=Sj(c,nu(u)),c=i8e(c,xd(u)));var d=Sj(e,(r+1)*n);Ad(c,t)&&af(c,d)&&u!=null&&o.push(u)}return o}function pD(e){return e<10?"0".concat(e):"".concat(e)}function hd(e,t){t===void 0&&(t=Dg);var r=Math.ceil(hr(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function qPe(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function mD(e){var t=e.getSeconds(),r=e.getMilliseconds();return Tt(e.getTime()-t*1e3-r)}function GPe(e,t){return mD(e).getTime()===mD(t).getTime()}function xD(e){if(!tu(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function gD(e,t){if(!tu(e)||!tu(t))throw new Error("Invalid date received");var r=xD(e),n=xD(t);return af(r,n)}function Y$(e){return e.key===vt.Space}var YPe=function(e){mi(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=K.createRef(),n.onTimeChange=function(a){var i,o;n.setState({time:a});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),u=c?l:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],h=d[1];u.setHours(Number(f)),u.setMinutes(Number(h))}(o=(i=n.props).onChange)===null||o===void 0||o.call(i,u)},n.renderTimeInput=function(){var a=n.state.time,i=n.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?k.cloneElement(c,{date:o,value:a,onChange:n.onTimeChange}):K.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||l)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return K.createElement("div",{className:"react-datepicker__input-time-container"},K.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),K.createElement("div",{className:"react-datepicker-time__input-container"},K.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(k.Component),XPe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=k.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,i,o=n.key;o===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isSameDay=function(n){return Cr(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),Mo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return HC(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Cr(r.props.day,gd(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Cr(n,gd(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,i=n.highlightDates;if(!i)return!1;var o=$n(a,"MM.dd.yyyy");return i.get(o)},r.getHolidaysClass=function(){var n,a=r.props,i=a.day,o=a.holidays;if(!o)return[void 0];var l=$n(i,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:jx(a,i,o)},r.isInSelectingRange=function(){var n,a=r.props,i=a.day,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(o||l||c)||!h||!u&&r.isDisabled()?!1:o&&f&&(af(h,f)||N0(h,f))?jx(i,h,f):l&&d&&(Ad(h,d)||N0(h,d))||c&&d&&!f&&(Ad(h,d)||N0(h,d))?jx(i,d,h):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,o=a.startDate,l=a.selectsStart,c=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Cr(i,c):Cr(i,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,o=a.endDate,l=a.selectsEnd,c=a.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l||c?Cr(i,u):Cr(i,o)},r.isRangeStart=function(){var n=r.props,a=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Cr(i,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Cr(o,a)},r.isWeekend=function(){var n=nTe(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===ps(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(ps(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Wr())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return Ot("react-datepicker__day",a,"react-datepicker__day--"+TPe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,i=n.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,u=r.isDisabled()||r.isExcluded()?c:o;return"".concat(u," ").concat($n(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,i=n.holidays,o=i===void 0?new Map:i,l=n.excludeDates,c=$n(a,"MM.dd.yyyy"),u=[];return o.has(c)&&u.push.apply(u,o.get(c).holidayNames),r.isExcluded()&&u.push(l==null?void 0:l.filter(function(d){return d instanceof Date?Cr(d,a):Cr(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Cr(a,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(GP(r.props.day),r.props.day):GP(r.props.day)},r.render=function(){return K.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&K.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(k.Component),KPe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=k.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,i,o=n.key;o===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Cr(r.props.date,r.props.selected)&&Cr(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Cr(r.props.date,r.props.selected)&&Cr(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Cr(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,i=r.ariaLabelPrefix,o=i===void 0?t.defaultProps.ariaLabelPrefix:i,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&Cr(this.props.date,this.props.selected)};return K.createElement("div",{ref:this.weekNumberEl,className:Ot(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(k.Component),QPe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return Mo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,i){for(var o,l,c,u=new Date(n),d=0;d<7;d++){var f=new Date(n);f.setDate(f.getDate()+d);var h=!r.isDisabled(f);if(h){u=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,i),r.props.showWeekPicker&&r.handleDayClick(u,i),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):kPe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=jl(n,6),i=new Date(n);i<=a;){if(!r.isDisabled(i))return!1;i=jl(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;a.push(K.createElement(KPe,Er({key:"W"},t.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=jl(n,l);return K.createElement(XPe,Er({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return gd(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Cr(r.startOfWeek(),r.props.selected)&&Cr(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Cr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return K.createElement("div",{className:Ot(r)},this.renderDays())},t}(k.Component),cx,JPe=6,Qh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},O4=(cx={},cx[Qh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},cx[Qh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},cx[Qh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},cx),v2=1;function vD(e,t){return e?Qh.FOUR_COLUMNS:t?Qh.TWO_COLUMNS:Qh.THREE_COLUMNS}var ZPe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=ec([],Array(12),!0).map(function(){return k.createRef()}),r.QUARTER_REFS=ec([],Array(4),!0).map(function(){return k.createRef()}),r.isDisabled=function(n){return Mo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return HC(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var i,o;(o=(i=r.props).onDayClick)===null||o===void 0||o.call(i,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,i;(i=(a=r.props).onDayMouseEnter)===null||i===void 0||i.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:ls(Io(i,n),o)},r.isRangeStartQuarter=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Vy(Ah(i,n),o)},r.isRangeEndMonth=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:ls(Io(i,n),l)},r.isRangeEndQuarter=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Vy(Ah(i,n),l)},r.isInSelectingRangeMonth=function(n){var a,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.startDate,f=i.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!h?!1:l&&f?p2(h,f,n,o):c&&d||u&&d&&!f?p2(d,h,n,o):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.startDate,c=i.selectsStart,u=Io(o,n),d=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?ls(u,d):ls(u,l)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.endDate,c=i.selectsEnd,u=i.selectsRange,d=Io(o,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||u?ls(d,f):ls(d,l)},r.isInSelectingRangeQuarter=function(n){var a,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.startDate,f=i.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!h?!1:l&&f?g2(h,f,n,o):c&&d||u&&d&&!f?g2(d,h,n,o):!1},r.isWeekInMonth=function(n){var a=r.props.day,i=jl(n,6);return ls(n,a)||ls(i,a)},r.isCurrentMonth=function(n,a){return hr(n)===hr(Wr())&&a===ps(Wr())},r.isCurrentQuarter=function(n,a){return hr(n)===hr(Wr())&&a===I0(Wr())},r.isSelectedMonth=function(n,a,i){return ps(i)===a&&hr(n)===hr(i)},r.isSelectMonthInList=function(n,a,i){return i.some(function(o){return r.isSelectedMonth(n,a,o)})},r.isSelectedQuarter=function(n,a,i){return I0(n)===a&&hr(n)===hr(i)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,i=0,o=!1,l=gd(au(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(m){return r.props.showWeekPicker?gd(m,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(m){return r.props.showWeekPicker?gd(m,r.props.locale,r.props.calendarStartDay):r.props.selected},d=r.props.selected?u(r.props.selected):void 0,f=r.props.preSelection?c(r.props.preSelection):void 0;n.push(K.createElement(QPe,Er({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:l,month:ps(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!o;){i++,l=Iy(l,1);var h=a&&i>=JPe,p=!a&&!r.isWeekInMonth(l);if(h||p)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,a){var i=r.isMonthDisabledForLabelDate(a),o=i.isDisabled,l=i.labelDate;o||r.handleDayClick(au(l),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),i=a.isDisabled,o=a.labelDate;i||r.handleDayMouseEnter(au(o))},r.handleMonthNavigation=function(n,a){var i,o,l,c;(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,a),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,i){var o,l=r.props,c=l.selected,u=l.preSelection,d=l.setPreSelection,f=l.minDate,h=l.maxDate,p=l.showFourColumnMonthYearPicker,m=l.showTwoColumnMonthYearPicker;if(u){var x=vD(p,m),g=r.getVerticalOffset(x),v=(o=O4[x])===null||o===void 0?void 0:o.grid,b=function(j,A,T){var R,O,E=A,L=T;switch(j){case vt.ArrowRight:E=Sl(A,v2),L=T===11?0:T+v2;break;case vt.ArrowLeft:E=M0(A,v2),L=T===0?11:T-v2;break;case vt.ArrowUp:E=M0(A,g),L=!((R=v==null?void 0:v[0])===null||R===void 0)&&R.includes(T)?T+12-g:T-g;break;case vt.ArrowDown:E=Sl(A,g),L=!((O=v==null?void 0:v[v.length-1])===null||O===void 0)&&O.includes(T)?T-12+g:T+g;break}return{newCalculatedDate:E,newCalculatedMonth:L}},y=function(j,A,T){for(var R=40,O=j,E=!1,L=0,B=b(O,A,T),G=B.newCalculatedDate,U=B.newCalculatedMonth;!E;){if(L>=R){G=A,U=T;break}if(f&&G<f){O=vt.ArrowRight;var W=b(O,G,U);G=W.newCalculatedDate,U=W.newCalculatedMonth}if(h&&G>h){O=vt.ArrowLeft;var W=b(O,G,U);G=W.newCalculatedDate,U=W.newCalculatedMonth}if(LPe(G,r.props)){var W=b(O,G,U);G=W.newCalculatedDate,U=W.newCalculatedMonth}else E=!0;L++}return{newCalculatedDate:G,newCalculatedMonth:U}};if(a===vt.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),d==null||d(c));return}var w=y(a,u,i),N=w.newCalculatedDate,S=w.newCalculatedMonth;switch(a){case vt.ArrowRight:case vt.ArrowLeft:case vt.ArrowUp:case vt.ArrowDown:r.handleMonthNavigation(S,N);break}}},r.getVerticalOffset=function(n){var a,i;return(i=(a=O4[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,a){var i=r.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=n.key;c!==vt.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,a),l&&l(n)},r.onQuarterClick=function(n,a){var i=Ah(r.props.day,a);m2(i,r.props)||r.handleDayClick(nD(i),n)},r.onQuarterMouseEnter=function(n){var a=Ah(r.props.day,n);m2(a,r.props)||r.handleDayMouseEnter(nD(a))},r.handleQuarterNavigation=function(n,a){var i,o,l,c;r.isDisabled(a)||r.isExcluded(a)||((o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,a),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var i,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case vt.Enter:r.onQuarterClick(n,a),(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,r.props.selected);break;case vt.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,kC(r.props.preSelection,1));break;case vt.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,O$(r.props.preSelection,1));break}},r.isMonthDisabledForLabelDate=function(n){var a,i=r.props,o=i.day,l=i.minDate,c=i.maxDate,u=i.excludeDates,d=i.includeDates,f=Io(o,n);return{isDisabled:(a=(l||c||u||d)&&V$(f,r.props))!==null&&a!==void 0?a:!1,labelDate:f}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate,c=a.preSelection,u=a.monthClassName,d=u?u(Io(i,n)):void 0,f=r.getSelection();return Ot("react-datepicker__month-text","react-datepicker__month-".concat(n),d,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(i,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(i,n,c)&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?p2(o,l,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=ps(r.props.preSelection),i=r.isMonthDisabledForLabelDate(a).isDisabled,o=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=I0(r.props.preSelection),i=m2(r.props.day,r.props),o=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var a=r.props,i=a.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,u=a.day,d=a.locale,f=Io(u,n),h=r.isDisabled(f)||r.isExcluded(f)?c:o;return"".concat(h," ").concat($n(f,"MMMM yyyy",d))},r.getQuarterClassNames=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate,c=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,h=a.includeDates,p=a.filterDate,m=a.preSelection,x=a.disabledKeyboardNavigation,g=(u||d||f||h||p)&&m2(Ah(i,n),r.props);return Ot("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(i,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!x&&m&&r.isSelectedQuarter(i,n,m)&&!g,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?g2(o,l,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var a=r.props,i=a.showFullMonthYearPicker,o=a.renderMonthContent,l=a.locale,c=a.day,u=W$(n,l),d=UC(n,l);return o?o(n,u,d,c):i?d:u},r.getQuarterContent=function(n){var a,i=r.props,o=i.renderQuarterContent,l=i.locale,c=RPe(n,l);return(a=o==null?void 0:o(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,i=a.showTwoColumnMonthYearPicker,o=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,u=(n=O4[vD(o,i)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(d,f){return K.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,p){return K.createElement("div",{ref:r.MONTH_REFS[h],key:p,onClick:function(m){r.onMonthClick(m,h)},onKeyDown:function(m){Y$(m)&&(m.preventDefault(),m.key=vt.Enter),r.onMonthKeyDown(m,h)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(h)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(h)}:void 0,tabIndex:Number(r.getTabIndex(h)),className:r.getMonthClassNames(h),"aria-disabled":r.isMonthDisabled(h),role:"option","aria-label":r.getAriaLabel(h),"aria-current":r.isCurrentMonth(l,h)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,h,c):void 0},r.getMonthContent(h))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,i=n.selected,o=[1,2,3,4];return K.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return K.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(u){r.onQuarterClick(u,l)},onKeyDown:function(u){r.onQuarterKeyDown(u,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":i?r.isSelectedQuarter(a,l,i):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(a,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,i=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,u=n.showWeekPicker;return Ot("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,i=r.selectsMultiple;if(i)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,i=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"";return K.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat($n(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(k.Component),eDe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,a){return K.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?K.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return K.createElement(S5,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(k.Component),tDe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,i){return K.createElement("option",{key:a,value:i},a)})},r.renderSelectMode=function(n){return K.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return K.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},K.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return K.createElement(eDe,Er({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,i=[r.renderReadView(!a,n)];return a&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return W$(i,r.props.locale)}:function(i){return UC(i,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return K.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(k.Component);function rDe(e,t){for(var r=[],n=au(e),a=au(t);!Ad(n,a);)r.push(Wr(n)),n=Sl(n,1);return r}var nDe=function(e){mi(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var i=Ej(a),o=Wl(n.props.date,a)&&ls(n.props.date,a);return K.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":o?"true":void 0},o?K.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",$n(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:rDe(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=Ot({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return K.createElement(S5,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(k.Component),aDe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=au(r.props.minDate),a=au(r.props.maxDate),i=[];!Ad(n,a);){var o=Ej(n);i.push(K.createElement("option",{key:o,value:o},$n(n,r.props.dateFormat,r.props.locale))),n=Sl(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return K.createElement("select",{value:Ej(au(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=$n(r.props.date,r.props.dateFormat,r.props.locale);return K.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},K.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return K.createElement(nDe,Er({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=Wr(n);Wl(r.props.date,a)&&ls(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return K.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(k.Component),iDe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var a,i;(r.props.minTime||r.props.maxTime)&&lD(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&oD(n,r.props)||(i=(a=r.props).onChange)===null||i===void 0||i.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&GPe(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&lD(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&oD(n,r.props)},r.liClasses=function(n){var a,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(ru(n)*3600+nu(n)*60+xd(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,a){var i,o;n.key===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(n.key===vt.ArrowUp||n.key===vt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===vt.ArrowDown||n.key===vt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===vt.Enter&&r.handleClick(a),(o=(i=r.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},r.renderTimes=function(){for(var n,a=[],i=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,l=r.props.selected||r.props.openToDate||Wr(),c=nb(l),u=r.props.injectTimes&&r.props.injectTimes.sort(function(g,v){return g.getTime()-v.getTime()}),d=60*qPe(l),f=d/o,h=0;h<f;h++){var p=Sj(c,h*o);if(a.push(p),u){var m=VPe(c,p,h,o,u);a=a.concat(m)}}var x=a.reduce(function(g,v){return v.getTime()<=l.getTime()?v:g},a[0]);return a.map(function(g){return K.createElement("li",{key:g.valueOf(),onClick:r.handleClick.bind(r,g),className:r.liClasses(g),ref:function(v){g===x&&(r.centerLi=v)},onKeyDown:function(v){r.handleOnKeyDown(v,g)},tabIndex:g===x?0:-1,role:"option","aria-selected":r.isSelectedTime(g)?"true":void 0,"aria-disabled":r.isDisabledTime(g)?"true":void 0},$n(g,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?K.createElement(K.Fragment,null):K.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},K.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,a=this.state.height;return K.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),K.createElement("div",{className:"react-datepicker__time"},K.createElement("div",{className:"react-datepicker__time-box"},K.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(k.Component),bD=3,sDe=function(e){mi(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=ec([],Array(n.props.yearItemNumber),!0).map(function(){return k.createRef()}),n.isDisabled=function(a){return Mo(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return HC(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var i=function(){var o,l;(l=(o=n.YEAR_REFS[a])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(a,i){n.props.onDayClick&&n.props.onDayClick(a,i)},n.handleYearNavigation=function(a,i){var o,l,c,u,d=n.props,f=d.date,h=d.yearItemNumber;if(!(f===void 0||h===void 0)){var p=hd(f,h).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,i),a-p<0?n.updateFocusOnPaginate(h-(p-a)):a-p>=h?n.updateFocusOnPaginate(Math.abs(h-(a-p))):(u=(c=n.YEAR_REFS[a-p])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,i){return Cr(a,i)},n.isCurrentYear=function(a){return a===hr(Wr())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Wl(Ul(Wr(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Wl(Ul(Wr(),a),n.props.endDate)},n.isInRange=function(a){return x2(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var i=n.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,d=i.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&d?x2(a,n.selectingDate(),d):l&&u||c&&u&&!d?x2(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var i;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,u=Ul(Wr(),a);return c?Wl(u,(i=n.selectingDate())!==null&&i!==void 0?i:null):Wl(u,l??null)},n.isSelectingRangeEnd=function(a){var i;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,u=o.selectsRange,d=Ul(Wr(),a);return c||u?Wl(d,(i=n.selectingDate())!==null&&i!==void 0?i:null):Wl(d,l??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var i=n.props,o=i.minDate,l=i.maxDate,c=i.excludeDates,u=i.includeDates,d=i.filterDate,f=Nx(Ul(n.props.date,a)),h=(o||l||c||u||d)&&ab(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Cr(f,Nx(n.props.selected))&&Cr(f,Nx(n.props.preSelection))&&!h}},n.onYearClick=function(a,i){var o=n.props.date;o!==void 0&&n.handleYearClick(Nx(Ul(o,i)),a)},n.onYearKeyDown=function(a,i){var o,l,c=a.key,u=n.props,d=u.date,f=u.yearItemNumber,h=u.handleOnKeyDown;if(c!==vt.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case vt.Enter:if(n.props.selected==null)break;n.onYearClick(a,i),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case vt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,eu(n.props.preSelection,1));break;case vt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,Mp(n.props.preSelection,1));break;case vt.ArrowUp:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var p=hd(d,f).startPeriod,m=bD,x=i-m;if(x<p){var g=f%m;i>=p&&i<p+g?m=g:m+=g,x=i-m}n.handleYearNavigation(x,Mp(n.props.preSelection,m));break}case vt.ArrowDown:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var v=hd(d,f).endPeriod,m=bD,x=i+m;if(x>v){var g=f%m;i<=v&&i>v-g?m=g:m+=g,x=i+m}n.handleYearNavigation(x,eu(n.props.preSelection,m));break}}h&&h(a)},n.getYearClassNames=function(a){var i=n.props,o=i.date,l=i.minDate,c=i.maxDate,u=i.selected,d=i.excludeDates,f=i.includeDates,h=i.filterDate,p=i.yearClassName;return Ot("react-datepicker__year-text","react-datepicker__year-".concat(a),o?p==null?void 0:p(Ul(o,a)):void 0,{"react-datepicker__year-text--selected":u?a===hr(u):void 0,"react-datepicker__year-text--disabled":(l||c||d||f||h)&&ab(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=hr(n.props.preSelection),o=ab(a,n.props);return a===i&&!o?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,i=a.date,o=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(i===void 0)return null;for(var u=hd(i,o),d=u.startPeriod,f=u.endPeriod,h=function(x){n.push(K.createElement("div",{ref:p.YEAR_REFS[x-d],onClick:function(g){r.onYearClick(g,x)},onKeyDown:function(g){Y$(g)&&(g.preventDefault(),g.key=vt.Enter),r.onYearKeyDown(g,x)},tabIndex:Number(p.getYearTabIndex(x)),className:p.getYearClassNames(x),onMouseEnter:p.props.usePointerEvent?void 0:function(g){return l(g,x)},onPointerEnter:p.props.usePointerEvent?function(g){return l(g,x)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(g){return c(g,x)},onPointerLeave:p.props.usePointerEvent?function(g){return c(g,x)}:void 0,key:x,"aria-current":p.isCurrentYear(x)?"date":void 0},p.getYearContent(x)))},p=this,m=d;m<=f;m++)h(m);return K.createElement("div",{className:"react-datepicker__year"},K.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(k.Component);function oDe(e,t,r,n){for(var a=[],i=0;i<2*t+1;i++){var o=e+t-i,l=!0;r&&(l=hr(r)<=o),n&&l&&(l=hr(n)>=o),l&&a.push(o)}return a}var lDe=function(e){mi(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var l=n.props.year,c=n.state.yearsList.map(function(f){return K.createElement("div",{className:l===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),"aria-selected":l===f?"true":void 0},l===f?K.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=n.props.minDate?hr(n.props.minDate):null,d=n.props.maxDate?hr(n.props.maxDate):null;return(!d||!n.state.yearsList.find(function(f){return f===d}))&&c.unshift(K.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},K.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(f){return f===u}))&&c.push(K.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},K.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(u){return u+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,o=a||(i?10:5);return n.state={yearsList:oDe(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=k.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=Ot({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return K.createElement(S5,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(k.Component),cDe=function(e){mi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?hr(r.props.minDate):1900,a=r.props.maxDate?hr(r.props.maxDate):2100,i=[],o=n;o<=a;o++)i.push(K.createElement("option",{key:o,value:o},o));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return K.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return K.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},K.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return K.createElement(lDe,Er({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var i,o;(o=(i=r.props).onSelect)===null||o===void 0||o.call(i,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return K.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(k.Component),uDe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],dDe=function(e){var t=(e.className||"").split(/\s+/);return uDe.some(function(r){return t.indexOf(r)>=0})},fDe=function(e){mi(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var i,o;dDe(a.target)&&((o=(i=n.props).onDropdownFocus)===null||o===void 0||o.call(i,a))},n.getDateInView=function(){var a=n.props,i=a.preSelection,o=a.selected,l=a.openToDate,c=q$(n.props),u=G$(n.props),d=Wr(),f=l||o||i;return f||(c&&af(d,c)?c:u&&Ad(d,u)?u:d)},n.increaseMonth=function(){n.setState(function(a){var i=a.date;return{date:Sl(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var i=a.date;return{date:M0(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,i,o){n.props.onSelect(a,i,o),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,i){n.setState({selectingDate:Ul(Wr(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,i)},n.handleYearMouseLeave=function(a,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,i)},n.handleYearChange=function(a){var i,o,l,c;(o=(i=n.props).onYearChange)===null||o===void 0||o.call(i,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!Mo(a,n.props))return a;for(var i=au(a),o=PPe(a),l=o8e(o,i),c=null,u=0;u<=l;u++){var d=jl(i,u);if(!Mo(d,n.props)){c=d;break}}return c},n.handleMonthChange=function(a){var i,o,l,c=(i=n.getEnabledPreSelectionDateForMonth(a))!==null&&i!==void 0?i:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var i,o;(o=(i=n.props).onMonthChange)===null||o===void 0||o.call(i,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(i){var o=i.date;return{date:Ul(o,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(i){var o=i.date;return{date:Io(o,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(i){var o=i.date;return{date:Ul(Io(o,ps(a)),hr(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var i=gd(a,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(K.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(l){var c=jl(i,l),u=n.formatWeekday(c,n.props.locale),d=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return K.createElement("div",{key:l,"aria-label":$n(c,"EEEE",n.props.locale),className:Ot("react-datepicker__day-name",d)},u)}))},n.formatWeekday=function(a,i){return n.props.formatWeekDay?IPe(a,n.props.formatWeekDay,i):n.props.useWeekdaysShort?FPe(a,i):MPe(a,i)},n.decreaseYear=function(){n.setState(function(a){var i,o=a.date;return{date:Mp(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,i,o;if(!n.props.renderCustomHeader){var l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,d=M0(n.state.date,u),f;switch(!0){case n.props.showMonthYearPicker:f=dD(n.state.date,n.props);break;case n.props.showYearPicker:f=zPe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=BPe(n.state.date,n.props);break;default:f=cD(d,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),m=void 0);var x=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,g=n.props,v=g.previousMonthButtonLabel,b=v===void 0?t.defaultProps.previousMonthButtonLabel:v,y=g.previousYearButtonLabel,w=y===void 0?t.defaultProps.previousYearButtonLabel:y,N=n.props,S=N.previousMonthAriaLabel,j=S===void 0?typeof b=="string"?b:"Previous Month":S,A=N.previousYearAriaLabel,T=A===void 0?typeof w=="string"?w:"Previous Year":A;return K.createElement("button",{type:"button",className:p.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":x?T:j},K.createElement("span",{className:h.join(" ")},x?w:b))}}},n.increaseYear=function(){n.setState(function(a){var i,o=a.date;return{date:eu(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=fD(n.state.date,n.props);break;case n.props.showYearPicker:i=UPe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=$Pe(n.state.date,n.props);break;default:i=uD(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,d=n.props,f=d.nextMonthButtonLabel,h=f===void 0?t.defaultProps.nextMonthButtonLabel:f,p=d.nextYearButtonLabel,m=p===void 0?t.defaultProps.nextYearButtonLabel:p,x=n.props,g=x.nextMonthAriaLabel,v=g===void 0?typeof h=="string"?h:"Next Month":g,b=x.nextYearAriaLabel,y=b===void 0?typeof m=="string"?m:"Next Year":b;return K.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?y:v},K.createElement("span",{className:l.join(" ")},u?m:h))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),K.createElement("h2",{className:i.join(" ")},$n(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return K.createElement(cDe,Er({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:hr(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return K.createElement(tDe,Er({},t.defaultProps,n.props,{month:ps(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return K.createElement(aDe,Er({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(aD(),a),n.props.setPreSelection&&n.props.setPreSelection(aD())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return K.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var i=a.monthDate,o=a.i;return K.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),K.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),K.createElement("div",{className:"react-datepicker__day-names"},n.header(i)))},n.renderCustomHeader=function(a){var i,o,l=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=cD(n.state.date,n.props),d=uD(n.state.date,n.props),f=dD(n.state.date,n.props),h=fD(n.state.date,n.props),p=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return K.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(i=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,Er(Er({},n.state),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:h})),p&&K.createElement("div",{className:"react-datepicker__day-names"},n.header(l)))},n.renderYearHeader=function(a){var i=a.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,u=c===void 0?t.defaultProps.yearItemNumber:c,d=hd(i,u),f=d.startPeriod,h=d.endPeriod;return K.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(f," - ").concat(h):hr(i))},n.renderHeader=function(a){var i=a.monthDate,o=a.i,l=o===void 0?0:o,c={monthDate:i,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?eu(n.state.date,c):M0(n.state.date,c),d=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,f=0;f<l;++f){var h=f-d+c,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?eu(u,h):Sl(u,h),m="month-".concat(f),x=f<l-1,g=f>0;o.push(K.createElement("div",{key:m,ref:function(v){n.monthContainer=v??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:f}),K.createElement(ZPe,Er({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:x,monthShowsDuplicateDaysStart:g}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return K.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),K.createElement(sDe,Er({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return K.createElement(iDe,Er({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,i=a&&A5(a)&&!!n.props.selected,o=i?"".concat(pD(a.getHours()),":").concat(pD(a.getMinutes())):"";if(n.props.showTimeInput)return K.createElement(YPe,Er({},t.defaultProps,n.props,{date:a,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,i=hd(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=hr(n.state.date):c="".concat(UC(ps(n.state.date),n.props.locale)," ").concat(hr(n.state.date)),K.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return K.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=k.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Dg}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Cr(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!ls(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Cr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||SPe;return K.createElement(S5,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},K.createElement("div",{style:{display:"contents"},ref:this.containerRef},K.createElement(r,{className:Ot("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(k.Component),hDe=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,i="react-datepicker__calendar-icon";if(typeof t=="string")return K.createElement("i",{className:"".concat(i," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(K.isValidElement(t)){var o=t;return K.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof a=="function"&&a(l)}})}return K.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},K.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},X$=function(e){mi(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return PM.createPortal(this.props.children,this.el)},t}(k.Component),pDe="[tabindex], a, button, input, select, textarea",mDe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},K$=function(e){mi(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(pDe),1,-1).filter(mDe)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=k.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?K.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},K.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,K.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(k.Component);function xDe(e){var t=function(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=k.useRef(null),o=jPe(Er({open:!a,whileElementsMounted:rPe,placement:r.popperPlacement,middleware:ec([cPe({padding:15}),lPe(10),uPe({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=Er(Er({},r),{hidePopper:a,popperProps:Er(Er({},o),{arrowRef:i})});return K.createElement(e,Er({},l))};return t}var gDe=function(e){mi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,a=r.wrapperClassName,i=r.hidePopper,o=i===void 0?t.defaultProps.hidePopper:i,l=r.popperComponent,c=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,h=r.portalHost,p=r.popperProps,m=r.showArrow,x=void 0;if(!o){var g=Ot("react-datepicker-popper",n);x=K.createElement(K$,{enableTabLoop:u},K.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:g,"data-placement":p.placement,onKeyDown:d},l,m&&K.createElement(gPe,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(x=k.createElement(this.props.popperContainer,{},x)),f&&!o&&(x=K.createElement(X$,{portalId:f,portalHost:h},x));var v=Ot("react-datepicker-wrapper",a);return K.createElement(K.Fragment,null,K.createElement("div",{ref:p.refs.setReference,className:v},c),x)},t}(k.Component),vDe=xDe(gDe),yD="react-datepicker-ignore-onclickoutside";function bDe(e,t){return e&&t?ps(e)!==ps(t)||hr(e)!==hr(t):e!==t}var P4="Date input not valid.",yDe=function(e){mi(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Wr()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,o){var l=new Date(o.date);return A5(l)?ec(ec([],i,!0),[Er(Er({},o),{date:l})],!1):i},[])},n.calcInitialState=function(){var a,i=n.getPreSelection(),o=q$(n.props),l=G$(n.props),c=o&&af(i,nb(o))?o:l&&Ad(i,iD(l))?l:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:hD(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Er(Er({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Er(Er({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.focus)===null||i===void 0||i.call(a,{preventScroll:!0})},n.setBlur=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.blur)===null||i===void 0||i.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,i){i===void 0&&(i=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:D4},function(){a||n.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return tu(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var i,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(i=n.props).onFocus)===null||o===void 0||o.call(i,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var i,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(i=n.props).onBlur)===null||o===void 0||o.call(i,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var i,o;n.props.inline||n.setOpen(!1),(o=(i=n.props).onClickOutside)===null||o===void 0||o.call(i,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,i,o,l,c,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){n.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:wDe});var h=n.props,p=h.selectsRange,m=h.startDate,x=h.endDate,g=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,v=(i=n.props.strictParsing)!==null&&i!==void 0?i:t.defaultProps.strictParsing,b=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(p){var y=b.split("-",2).map(function(O){return O.trim()}),w=y[0],N=y[1],S=k4(w??"",g,n.props.locale,v),j=k4(N??"",g,n.props.locale,v),A=(m==null?void 0:m.getTime())!==(S==null?void 0:S.getTime()),T=(x==null?void 0:x.getTime())!==(j==null?void 0:j.getTime());if(!A&&!T||S&&Mo(S,n.props)||j&&Mo(j,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[S,j],f)}else{var R=k4(b,g,n.props.locale,v,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(R||!b)&&n.setSelected(R,f,!0)}}},n.handleSelect=function(a,i,o){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(a,i,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var l=n.props,c=l.startDate,u=l.endDate;c&&!u&&(n.props.swapRange||!gD(a,c))&&n.setOpen(!1)}},n.setSelected=function(a,i,o,l){var c,u,d=a;if(n.props.showYearPicker){if(d!==null&&ab(hr(d),n.props))return}else if(n.props.showMonthYearPicker){if(d!==null&&V$(d,n.props))return}else if(d!==null&&Mo(d,n.props))return;var f=n.props,h=f.onChange,p=f.selectsRange,m=f.startDate,x=f.endDate,g=f.selectsMultiple,v=f.selectedDates,b=f.minTime,y=f.swapRange;if(!N0(n.props.selected,d)||n.props.allowSameDay||p||g)if(d!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(d=T4(d,{hour:ru(n.props.selected),minute:nu(n.props.selected),second:xd(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&b&&(d=T4(d,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),n.props.inline||n.setState({preSelection:d}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),p){var w=!m&&!x,N=m&&!x,S=m&&x;w?h==null||h([d,null],i):N&&(d===null?h==null||h([null,null],i):gD(d,m)?y?h==null||h([d,m],i):h==null||h([d,null],i):h==null||h([m,d],i)),S&&(h==null||h([d,null],i))}else if(g){if(d!==null)if(!(v!=null&&v.length))h==null||h([d],i);else{var j=v.some(function(T){return Cr(T,d)});if(j){var A=v.filter(function(T){return!Cr(T,d)});h==null||h(A,i)}else h==null||h(ec(ec([],v,!0),[d],!1),i)}}else h==null||h(d,i);o||((u=(c=n.props).onSelect)===null||u===void 0||u.call(c,d,i),n.setState({inputValue:null}))},n.setPreSelection=function(a){var i=tu(n.props.minDate),o=tu(n.props.maxDate),l=!0;if(a){var c=nb(a);if(i&&o)l=jx(a,n.props.minDate,n.props.maxDate);else if(i){var u=nb(n.props.minDate);l=Ad(a,u)||N0(c,u)}else if(o){var d=iD(n.props.maxDate);l=af(a,d)||N0(c,d)}}l&&n.setState({preSelection:a})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var i,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?a:T4(l,{hour:ru(a),minute:nu(a)});n.setState({preSelection:c}),(o=(i=n.props).onChange)===null||o===void 0||o.call(i,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(a=n.props).onInputClick)===null||i===void 0||i.call(a)},n.onInputKeyDown=function(a){var i,o,l,c,u,d;(o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,a);var f=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===vt.ArrowDown||f===vt.ArrowUp||f===vt.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(f===vt.ArrowDown||f===vt.ArrowUp){a.preventDefault();var h=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(h);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var m=Wr(n.state.preSelection);f===vt.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===D4?(n.handleSelect(m,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(m)):n.setOpen(!1)):f===vt.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===vt.Tab&&n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:P4})}},n.onPortalKeyDown=function(a){var i=a.key;i===vt.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var i,o,l,c,u,d,f=n.props,h=f.minDate,p=f.maxDate,m=f.disabledKeyboardNavigation,x=f.showWeekPicker,g=f.shouldCloseOnSelect,v=f.locale,b=f.calendarStartDay,y=f.adjustDateOnChange,w=f.inline;if((o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,a),!m){var N=a.key,S=a.shiftKey,j=Wr(n.state.preSelection),A=function(G,U){var W=U;switch(G){case vt.ArrowRight:W=x?Iy(U,1):jl(U,1);break;case vt.ArrowLeft:W=x?YP(U,1):oOe(U,1);break;case vt.ArrowUp:W=YP(U,1);break;case vt.ArrowDown:W=Iy(U,1);break;case vt.PageUp:W=S?Mp(U,1):M0(U,1);break;case vt.PageDown:W=S?eu(U,1):Sl(U,1);break;case vt.Home:W=gd(U,v,b);break;case vt.End:W=OPe(U);break}return W},T=function(G,U){for(var W=40,X=G,q=!1,le=0,se=A(G,U);!q;){if(le>=W){se=U;break}h&&se<h&&(X=vt.ArrowRight,se=Mo(h,n.props)?A(X,se):h),p&&se>p&&(X=vt.ArrowLeft,se=Mo(p,n.props)?A(X,se):p),Mo(se,n.props)?((X===vt.PageUp||X===vt.Home)&&(X=vt.ArrowRight),(X===vt.PageDown||X===vt.End)&&(X=vt.ArrowLeft),se=A(X,se)):q=!0,le++}return se};if(N===vt.Enter){a.preventDefault(),n.handleSelect(j,a),!g&&n.setPreSelection(j);return}else if(N===vt.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:P4});return}var R=null;switch(N){case vt.ArrowLeft:case vt.ArrowRight:case vt.ArrowUp:case vt.ArrowDown:case vt.PageUp:case vt.PageDown:case vt.Home:case vt.End:R=T(N,j);break}if(!R){(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:P4});return}if(a.preventDefault(),n.setState({lastPreSelectChange:D4}),y&&n.setSelected(R),n.setPreSelection(R),w){var O=ps(j),E=ps(R),L=hr(j),B=hr(R);O!==E||L!==B?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var i=a.key;i===vt.Escape&&(a.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var i=n.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],a):l==null||l(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,i;return!n.props.inline&&!n.isCalendarOpen()?null:K.createElement(fDe,Er({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:WPe(n.modifyHolidays()),outsideClickIgnoreClass:yD,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,i=a.dateFormat,o=i===void 0?t.defaultProps.dateFormat:i,l=a.locale,c=n.props.showTimeInput||n.props.showTimeSelect,u=c?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(Po(n.props.startDate,{dateFormat:u,locale:l}),". ").concat(n.props.endDate?"End date: "+Po(n.props.endDate,{dateFormat:u,locale:l}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(Po(n.props.selected,{dateFormat:o,locale:l})):n.props.showYearPicker?d="Selected year: ".concat(Po(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?d="Selected month: ".concat(Po(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(Po(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):d="Selected date: ".concat(Po(n.props.selected,{dateFormat:u,locale:l})),K.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,i,o,l=Ot(n.props.className,(a={},a[yD]=n.state.open,a)),c=n.props.customInput||K.createElement("input",{type:"text"}),u=n.props.customInputRef||"ref",d=n.props,f=d.dateFormat,h=f===void 0?t.defaultProps.dateFormat:f,p=d.locale,m=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?CPe(n.props.startDate,n.props.endDate,{dateFormat:h,locale:p}):n.props.selectsMultiple?EPe((o=n.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:h,locale:p}):Po(n.props.selected,{dateFormat:h,locale:p});return k.cloneElement(c,(i={},i[u]=function(x){n.input=x},i.value=m,i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=Ot(c.props.className,l),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var a=n.props,i=a.isClearable,o=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,h=f===void 0?"":f,p=a.ariaLabelClose,m=p===void 0?"Close":p,x=a.selectedDates;return i&&(l!=null||c!=null||u!=null||x!=null&&x.length)?K.createElement("button",{type:"button",className:Ot("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":m,onClick:n.onClearClick,title:d,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Dg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,i,o,l;r.inline&&bDe(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:hD(this.props.highlightDates)}),!n.focused&&!N0(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(a=this.props).onCalendarOpen)===null||i===void 0||i.call(a)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,i=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),K.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&K.createElement(hDe,Er({icon:a,className:Ot(o,!o&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?K.createElement(K$,{enableTabLoop:this.props.enableTabLoop},K.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=K.createElement(X$,Er({portalId:this.props.portalId},this.props),n)),K.createElement("div",null,this.renderInputContainer(),n)}return K.createElement(vDe,Er({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(k.Component),wDe="input",D4="navigate";const _De="modulepreload",NDe=function(e,t){return new URL(e,t).href},wD={},fc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(u=>{if(u=NDe(u,n),u in wD)return;wD[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let m=o.length-1;m>=0;m--){const x=o[m];if(x.href===u&&(!d||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":_De,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((m,x)=>{p.addEventListener("load",m),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function tn(e){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}var Vi=Uint8Array,ro=Uint16Array,WC=Int32Array,C5=new Vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E5=new Vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Pj=new Vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Q$=function(e,t){for(var r=new ro(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new WC(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},J$=Q$(C5,2),Z$=J$.b,Dj=J$.r;Z$[28]=258,Dj[258]=28;var ez=Q$(E5,0),jDe=ez.b,_D=ez.r,Ij=new ro(32768);for(var Mn=0;Mn<32768;++Mn){var $u=(Mn&43690)>>1|(Mn&21845)<<1;$u=($u&52428)>>2|($u&13107)<<2,$u=($u&61680)>>4|($u&3855)<<4,Ij[Mn]=(($u&65280)>>8|($u&255)<<8)>>1}var lc=function(e,t,r){for(var n=e.length,a=0,i=new ro(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new ro(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new ro(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[Ij[f]>>c]=u}else for(l=new ro(n),a=0;a<n;++a)e[a]&&(l[a]=Ij[o[e[a]-1]++]>>15-e[a]);return l},Ed=new Vi(288);for(var Mn=0;Mn<144;++Mn)Ed[Mn]=8;for(var Mn=144;Mn<256;++Mn)Ed[Mn]=9;for(var Mn=256;Mn<280;++Mn)Ed[Mn]=7;for(var Mn=280;Mn<288;++Mn)Ed[Mn]=8;var eg=new Vi(32);for(var Mn=0;Mn<32;++Mn)eg[Mn]=5;var SDe=lc(Ed,9,0),ADe=lc(Ed,9,1),CDe=lc(eg,5,0),EDe=lc(eg,5,1),I4=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},cl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},M4=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},VC=function(e){return(e+7)/8|0},tz=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Vi(e.subarray(t,r))},kDe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fl=function(e,t,r){var n=new Error(t||kDe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,fl),!r)throw n;return n},TDe=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Vi(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Vi(a*3));var u=function(Ce){var V=r.length;if(Ce>V){var Me=new Vi(Math.max(V*2,Ce));Me.set(r),r=Me}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,m=t.d,x=t.m,g=t.n,v=a*8;do{if(!p){d=cl(e,f,1);var b=cl(e,f+1,3);if(f+=3,b)if(b==1)p=ADe,m=EDe,x=9,g=5;else if(b==2){var S=cl(e,f,31)+257,j=cl(e,f+10,15)+4,A=S+cl(e,f+5,31)+1;f+=14;for(var T=new Vi(A),R=new Vi(19),O=0;O<j;++O)R[Pj[O]]=cl(e,f+O*3,7);f+=j*3;for(var E=I4(R),L=(1<<E)-1,B=lc(R,E,1),O=0;O<A;){var G=B[cl(e,f,L)];f+=G&15;var y=G>>4;if(y<16)T[O++]=y;else{var U=0,W=0;for(y==16?(W=3+cl(e,f,3),f+=2,U=T[O-1]):y==17?(W=3+cl(e,f,7),f+=3):y==18&&(W=11+cl(e,f,127),f+=7);W--;)T[O++]=U}}var X=T.subarray(0,S),q=T.subarray(S);x=I4(X),g=I4(q),p=lc(X,x,1),m=lc(q,g,1)}else fl(1);else{var y=VC(f)+4,w=e[y-4]|e[y-3]<<8,N=y+w;if(N>a){c&&fl(0);break}l&&u(h+w),r.set(e.subarray(y,N),h),t.b=h+=w,t.p=f=N*8,t.f=d;continue}if(f>v){c&&fl(0);break}}l&&u(h+131072);for(var le=(1<<x)-1,se=(1<<g)-1,I=f;;I=f){var U=p[M4(e,f)&le],P=U>>4;if(f+=U&15,f>v){c&&fl(0);break}if(U||fl(2),P<256)r[h++]=P;else if(P==256){I=f,p=null;break}else{var M=P-254;if(P>264){var O=P-257,z=C5[O];M=cl(e,f,(1<<z)-1)+Z$[O],f+=z}var Y=m[M4(e,f)&se],ae=Y>>4;Y||fl(3),f+=Y&15;var q=jDe[ae];if(ae>3){var z=E5[ae];q+=M4(e,f)&(1<<z)-1,f+=z}if(f>v){c&&fl(0);break}l&&u(h+131072);var ue=h+M;if(h<q){var ne=i-q,_e=Math.min(q,ue);for(ne+h<0&&fl(3);h<_e;++h)r[h]=n[ne+h]}for(;h<ue;++h)r[h]=r[h-q]}}t.l=p,t.p=I,t.b=h,t.f=d,p&&(d=1,t.m=x,t.d=m,t.n=g)}while(!d);return h!=r.length&&o?tz(r,0,h):r.subarray(0,h)},Rc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ux=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},F4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:nz,l:0};if(a==1){var o=new Vi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,S){return N.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new ro(h+1),m=Mj(r[d-1],p,0);if(m>t){var n=0,x=0,g=m-t,v=1<<g;for(i.sort(function(S,j){return p[j.s]-p[S.s]||S.f-j.f});n<a;++n){var b=i[n].s;if(p[b]>t)x+=v-(1<<m-p[b]),p[b]=t;else break}for(x>>=g;x>0;){var y=i[n].s;p[y]<t?x-=1<<t-p[y]++-1:++n}for(;n>=0&&x;--n){var w=i[n].s;p[w]==t&&(--p[w],++x)}m=t}return{t:new Vi(p),l:m}},Mj=function(e,t,r){return e.s==-1?Math.max(Mj(e.l,t,r+1),Mj(e.r,t,r+1)):t[e.s]=r},ND=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ro(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},dx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},rz=function(e,t,r){var n=r.length,a=VC(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},jD=function(e,t,r,n,a,i,o,l,c,u,d){Rc(t,d++,r),++a[256];for(var f=F4(a,15),h=f.t,p=f.l,m=F4(i,15),x=m.t,g=m.l,v=ND(h),b=v.c,y=v.n,w=ND(x),N=w.c,S=w.n,j=new ro(19),A=0;A<b.length;++A)++j[b[A]&31];for(var A=0;A<N.length;++A)++j[N[A]&31];for(var T=F4(j,7),R=T.t,O=T.l,E=19;E>4&&!R[Pj[E-1]];--E);var L=u+5<<3,B=dx(a,Ed)+dx(i,eg)+o,G=dx(a,h)+dx(i,x)+o+14+3*E+dx(j,R)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&L<=B&&L<=G)return rz(t,d,e.subarray(c,c+u));var U,W,X,q;if(Rc(t,d,1+(G<B)),d+=2,G<B){U=lc(h,p,0),W=h,X=lc(x,g,0),q=x;var le=lc(R,O,0);Rc(t,d,y-257),Rc(t,d+5,S-1),Rc(t,d+10,E-4),d+=14;for(var A=0;A<E;++A)Rc(t,d+3*A,R[Pj[A]]);d+=3*E;for(var se=[b,N],I=0;I<2;++I)for(var P=se[I],A=0;A<P.length;++A){var M=P[A]&31;Rc(t,d,le[M]),d+=R[M],M>15&&(Rc(t,d,P[A]>>5&127),d+=P[A]>>12)}}else U=SDe,W=Ed,X=CDe,q=eg;for(var A=0;A<l;++A){var z=n[A];if(z>255){var M=z>>18&31;ux(t,d,U[M+257]),d+=W[M+257],M>7&&(Rc(t,d,z>>23&31),d+=C5[M]);var Y=z&31;ux(t,d,X[Y]),d+=q[Y],Y>3&&(ux(t,d,z>>5&8191),d+=E5[Y])}else ux(t,d,U[z]),d+=W[z]}return ux(t,d,U[256]),d+W[256]},ODe=new WC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nz=new Vi(0),PDe=function(e,t,r,n,a,i){var o=i.z||e.length,l=new Vi(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=ODe[t-1],h=f>>13,p=f&8191,m=(1<<r)-1,x=i.p||new ro(32768),g=i.h||new ro(m+1),v=Math.ceil(r/3),b=2*v,y=function(Ae){return(e[Ae]^e[Ae+1]<<v^e[Ae+2]<<b)&m},w=new WC(25e3),N=new ro(288),S=new ro(32),j=0,A=0,T=i.i||0,R=0,O=i.w||0,E=0;T+2<o;++T){var L=y(T),B=T&32767,G=g[L];if(x[B]=G,g[L]=B,O<=T){var U=o-T;if((j>7e3||R>24576)&&(U>423||!u)){d=jD(e,c,0,w,N,S,A,R,E,T-E,d),R=j=A=0,E=T;for(var W=0;W<286;++W)N[W]=0;for(var W=0;W<30;++W)S[W]=0}var X=2,q=0,le=p,se=B-G&32767;if(U>2&&L==y(T-se))for(var I=Math.min(h,U)-1,P=Math.min(32767,T),M=Math.min(258,U);se<=P&&--le&&B!=G;){if(e[T+X]==e[T+X-se]){for(var z=0;z<M&&e[T+z]==e[T+z-se];++z);if(z>X){if(X=z,q=se,z>I)break;for(var Y=Math.min(se,z-2),ae=0,W=0;W<Y;++W){var ue=T-se+W&32767,ne=x[ue],_e=ue-ne&32767;_e>ae&&(ae=_e,G=ue)}}}B=G,G=x[B],se+=B-G&32767}if(q){w[R++]=268435456|Dj[X]<<18|_D[q];var Ce=Dj[X]&31,V=_D[q]&31;A+=C5[Ce]+E5[V],++N[257+Ce],++S[V],O=T+X,++j}else w[R++]=e[T],++N[e[T]]}}for(T=Math.max(T,O);T<o;++T)w[R++]=e[T],++N[e[T]];d=jD(e,c,u,w,N,S,A,R,E,T-E,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=g,i.p=x,i.i=T,i.w=O)}else{for(var T=i.w||0;T<o+u;T+=65535){var Me=T+65535;Me>=o&&(c[d/8|0]=u,Me=o),d=rz(c,d+1,e.subarray(T,Me))}i.i=o}return tz(l,0,n+VC(d)+a)},az=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},DDe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Vi(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return PDe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},iz=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},IDe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=az();a.p(t.dictionary),iz(e,2,a.d())}},MDe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&fl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&fl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Fj(e,t){t||(t={});var r=az();r.p(e);var n=DDe(e,t,t.dictionary?6:2,4);return IDe(n,t),iz(n,n.length-4,r.d()),n}function FDe(e,t){return TDe(e.subarray(MDe(e,t),-4),{i:2},t,t)}var RDe=typeof TextDecoder<"u"&&new TextDecoder,LDe=0;try{RDe.decode(nz,{stream:!0}),LDe=1}catch{}var Vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function R4(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var mn={log:R4,warn:function(e){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):R4.call(null,arguments))},error:function(e){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):R4(e))}};function L4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){l0(n.response,t,r)},n.onerror=function(){mn.error("could not download file")},n.send()}function SD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function b2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var qx,Rj,l0=Vt.saveAs||((typeof window>"u"?"undefined":tn(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Vt.URL||Vt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?SD(a.href)?L4(e,t,r):b2(a,a.target="_blank"):b2(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){b2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(SD(e))L4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){b2(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:tn(i)!=="object"&&(mn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return L4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Vt.HTMLElement)||Vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":tn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Vt.URL||Vt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function sz(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function B4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Di(r,n,a,i,t[0],7,-680876936),i=Di(i,r,n,a,t[1],12,-389564586),a=Di(a,i,r,n,t[2],17,606105819),n=Di(n,a,i,r,t[3],22,-1044525330),r=Di(r,n,a,i,t[4],7,-176418897),i=Di(i,r,n,a,t[5],12,1200080426),a=Di(a,i,r,n,t[6],17,-1473231341),n=Di(n,a,i,r,t[7],22,-45705983),r=Di(r,n,a,i,t[8],7,1770035416),i=Di(i,r,n,a,t[9],12,-1958414417),a=Di(a,i,r,n,t[10],17,-42063),n=Di(n,a,i,r,t[11],22,-1990404162),r=Di(r,n,a,i,t[12],7,1804603682),i=Di(i,r,n,a,t[13],12,-40341101),a=Di(a,i,r,n,t[14],17,-1502002290),r=Ii(r,n=Di(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ii(i,r,n,a,t[6],9,-1069501632),a=Ii(a,i,r,n,t[11],14,643717713),n=Ii(n,a,i,r,t[0],20,-373897302),r=Ii(r,n,a,i,t[5],5,-701558691),i=Ii(i,r,n,a,t[10],9,38016083),a=Ii(a,i,r,n,t[15],14,-660478335),n=Ii(n,a,i,r,t[4],20,-405537848),r=Ii(r,n,a,i,t[9],5,568446438),i=Ii(i,r,n,a,t[14],9,-1019803690),a=Ii(a,i,r,n,t[3],14,-187363961),n=Ii(n,a,i,r,t[8],20,1163531501),r=Ii(r,n,a,i,t[13],5,-1444681467),i=Ii(i,r,n,a,t[2],9,-51403784),a=Ii(a,i,r,n,t[7],14,1735328473),r=Mi(r,n=Ii(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Mi(i,r,n,a,t[8],11,-2022574463),a=Mi(a,i,r,n,t[11],16,1839030562),n=Mi(n,a,i,r,t[14],23,-35309556),r=Mi(r,n,a,i,t[1],4,-1530992060),i=Mi(i,r,n,a,t[4],11,1272893353),a=Mi(a,i,r,n,t[7],16,-155497632),n=Mi(n,a,i,r,t[10],23,-1094730640),r=Mi(r,n,a,i,t[13],4,681279174),i=Mi(i,r,n,a,t[0],11,-358537222),a=Mi(a,i,r,n,t[3],16,-722521979),n=Mi(n,a,i,r,t[6],23,76029189),r=Mi(r,n,a,i,t[9],4,-640364487),i=Mi(i,r,n,a,t[12],11,-421815835),a=Mi(a,i,r,n,t[15],16,530742520),r=Fi(r,n=Mi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Fi(i,r,n,a,t[7],10,1126891415),a=Fi(a,i,r,n,t[14],15,-1416354905),n=Fi(n,a,i,r,t[5],21,-57434055),r=Fi(r,n,a,i,t[12],6,1700485571),i=Fi(i,r,n,a,t[3],10,-1894986606),a=Fi(a,i,r,n,t[10],15,-1051523),n=Fi(n,a,i,r,t[1],21,-2054922799),r=Fi(r,n,a,i,t[8],6,1873313359),i=Fi(i,r,n,a,t[15],10,-30611744),a=Fi(a,i,r,n,t[6],15,-1560198380),n=Fi(n,a,i,r,t[13],21,1309151649),r=Fi(r,n,a,i,t[4],6,-145523070),i=Fi(i,r,n,a,t[11],10,-1120210379),a=Fi(a,i,r,n,t[2],15,718787259),n=Fi(n,a,i,r,t[9],21,-343485551),e[0]=pd(r,e[0]),e[1]=pd(n,e[1]),e[2]=pd(a,e[2]),e[3]=pd(i,e[3])}function k5(e,t,r,n,a,i){return t=pd(pd(t,e),pd(n,i)),pd(t<<a|t>>>32-a,r)}function Di(e,t,r,n,a,i,o){return k5(t&r|~t&n,e,t,a,i,o)}function Ii(e,t,r,n,a,i,o){return k5(t&n|r&~n,e,t,a,i,o)}function Mi(e,t,r,n,a,i,o){return k5(t^r^n,e,t,a,i,o)}function Fi(e,t,r,n,a,i,o){return k5(r^(t|~n),e,t,a,i,o)}function oz(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)B4(n,BDe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(B4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,B4(n,a),n}function BDe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}qx=Vt.atob.bind(Vt),Rj=Vt.btoa.bind(Vt);var AD="0123456789abcdef".split("");function $De(e){for(var t="",r=0;r<4;r++)t+=AD[e>>8*r+4&15]+AD[e>>8*r&15];return t}function zDe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Lj(e){return oz(e).map(zDe).join("")}var UDe=function(e){for(var t=0;t<e.length;t++)e[t]=$De(e[t]);return e.join("")}(oz("hello"))!="5d41402abc4b2a76b9719d911017c592";function pd(e,t){if(UDe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bj(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,m="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,o=l[(l[h]+l[p])%256],m+=String.fromCharCode(t.charCodeAt(c)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var CD={print:4,modify:8,copy:16,"annot-forms":32};function Ch(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(CD.perm!==void 0)throw new Error("Invalid permission: "+l);a+=CD[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=Lj(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Bj(this.encryptionKey,this.padding)}function Eh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function ED(e){if(tn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Vt.console&&mn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function tg(e){if(!(this instanceof tg))return new tg(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function lz(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function sd(e,t,r,n,a){if(!(this instanceof sd))return new sd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,lz.call(this,n,a)}function j0(e,t,r,n,a){if(!(this instanceof j0))return new j0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,lz.call(this,n,a)}function Mt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;tn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=ED;var m="1.3",x=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(D){m=D};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var v=p.__private__.getPageFormat=function(D){return g[D]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},y=b.COMPAT;function w(){this.saveGraphicsState(),re(new Bt(it,0,0,-it,0,Su()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),u="n",y=b.ADVANCED}function N(){this.restoreGraphicsState(),u="S",y=b.COMPAT}var S=p.__private__.combineFontStyleAndFontWeight=function(D,J){if(D=="bold"&&J=="normal"||D=="bold"&&J==400||D=="normal"&&J=="italic"||D=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(D=J==400||J==="normal"?D==="italic"?"italic":"normal":J!=700&&J!=="bold"||D!=="normal"?(J==700?"bold":J)+""+D:"bold"),D};p.advancedAPI=function(D){var J=y===b.COMPAT;return J&&w.call(this),typeof D!="function"||(D(this),J&&N.call(this)),this},p.compatAPI=function(D){var J=y===b.ADVANCED;return J&&N.call(this),typeof D!="function"||(D(this),J&&w.call(this)),this},p.isAdvancedAPI=function(){return y===b.ADVANCED};var j,A=function(D){if(y!==b.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=p.roundToPrecision=p.__private__.roundToPrecision=function(D,J){var we=t||J;if(isNaN(D)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(we).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,16)};var R=p.f2=p.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return T(D,2)},O=p.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return T(D,3)},E=p.scale=p.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return y===b.COMPAT?D*it:y===b.ADVANCED?D:void 0},L=function(D){return y===b.COMPAT?Su()-D:y===b.ADVANCED?D:void 0},B=function(D){return E(L(D))};p.__private__.setPrecision=p.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var G,U="00000000000000000000000000000000",W=p.__private__.getFileId=function(){return U},X=p.__private__.setFileId=function(D){return U=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ki=new Ch(d.userPermissions,d.userPassword,d.ownerPassword,U)),U};p.setFileId=function(D){return X(D),this},p.getFileId=function(){return W()};var q=p.__private__.convertDateToPDFDate=function(D){var J=D.getTimezoneOffset(),we=J<0?"+":"-",Se=Math.floor(Math.abs(J/60)),Fe=Math.abs(J%60),qe=[we,M(Se),"'",M(Fe),"'"].join("");return["D:",D.getFullYear(),M(D.getMonth()+1),M(D.getDate()),M(D.getHours()),M(D.getMinutes()),M(D.getSeconds()),qe].join("")},le=p.__private__.convertPDFDateToDate=function(D){var J=parseInt(D.substr(2,4),10),we=parseInt(D.substr(6,2),10)-1,Se=parseInt(D.substr(8,2),10),Fe=parseInt(D.substr(10,2),10),qe=parseInt(D.substr(12,2),10),nt=parseInt(D.substr(14,2),10);return new Date(J,we,Se,Fe,qe,nt,0)},se=p.__private__.setCreationDate=function(D){var J;if(D===void 0&&(D=new Date),D instanceof Date)J=q(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=D}return G=J},I=p.__private__.getCreationDate=function(D){var J=G;return D==="jsDate"&&(J=le(G)),J};p.setCreationDate=function(D){return se(D),this},p.getCreationDate=function(D){return I(D)};var P,M=p.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},z=p.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Y=0,ae=[],ue=[],ne=0,_e=[],Ce=[],V=!1,Me=ue,Ae=function(){Y=0,ne=0,ue=[],ae=[],_e=[],fe=Gn(),he=Gn()};p.__private__.setCustomOutputDestination=function(D){V=!0,Me=D};var pe=function(D){V||(Me=D)};p.__private__.resetCustomOutputDestination=function(){V=!1,Me=ue};var re=p.__private__.out=function(D){return D=D.toString(),ne+=D.length+1,Me.push(D),Me},Oe=p.__private__.write=function(D){return re(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},oe=p.__private__.getArrayBuffer=function(D){for(var J=D.length,we=new ArrayBuffer(J),Se=new Uint8Array(we);J--;)Se[J]=D.charCodeAt(J);return we},de=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return de};var ye=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(D){return ye=y===b.ADVANCED?D/it:D,this};var Ie,Ne=p.__private__.getFontSize=p.getFontSize=function(){return y===b.COMPAT?ye:ye*it},Pe=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(D){return Pe=D,this},p.__private__.getR2L=p.getR2L=function(){return Pe};var Xe,tt=p.__private__.setZoomMode=function(D){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Ie=D;else if(isNaN(D)){if(J.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Ie=D}else Ie=parseInt(D,10)};p.__private__.getZoomMode=function(){return Ie};var gt,Nt=p.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Xe=D};p.__private__.getPageMode=function(){return Xe};var Pt=p.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');gt=D};p.__private__.getLayoutMode=function(){return gt},p.__private__.setDisplayMode=p.setDisplayMode=function(D,J,we){return tt(D),Pt(J),Nt(we),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(D){if(Object.keys(kt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[D]},p.__private__.getDocumentProperties=function(){return kt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(D){for(var J in kt)kt.hasOwnProperty(J)&&D[J]&&(kt[J]=D[J]);return this},p.__private__.setDocumentProperty=function(D,J){if(Object.keys(kt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[D]=J};var ft,it,Fr,Dt,sa,Nr={},vn={},fo=[],jr={},Tl={},En={},Ls={},Zo=null,fn=0,Qt=[],Or=new ED(p),Nc=e.hotfixes||[],Ia={},ho={},po=[],Bt=function D(J,we,Se,Fe,qe,nt){if(!(this instanceof D))return new D(J,we,Se,Fe,qe,nt);isNaN(J)&&(J=1),isNaN(we)&&(we=0),isNaN(Se)&&(Se=0),isNaN(Fe)&&(Fe=1),isNaN(qe)&&(qe=0),isNaN(nt)&&(nt=0),this._matrix=[J,we,Se,Fe,qe,nt]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(D)},Bt.prototype.multiply=function(D){var J=D.sx*this.sx+D.shy*this.shx,we=D.sx*this.shy+D.shy*this.sy,Se=D.shx*this.sx+D.sy*this.shx,Fe=D.shx*this.shy+D.sy*this.sy,qe=D.tx*this.sx+D.ty*this.shx+this.tx,nt=D.tx*this.shy+D.ty*this.sy+this.ty;return new Bt(J,we,Se,Fe,qe,nt)},Bt.prototype.decompose=function(){var D=this.sx,J=this.shy,we=this.shx,Se=this.sy,Fe=this.tx,qe=this.ty,nt=Math.sqrt(D*D+J*J),bt=(D/=nt)*we+(J/=nt)*Se;we-=D*bt,Se-=J*bt;var It=Math.sqrt(we*we+Se*Se);return bt/=It,D*(Se/=It)<J*(we/=It)&&(D=-D,J=-J,bt=-bt,nt=-nt),{scale:new Bt(nt,0,0,It,0,0),translate:new Bt(1,0,0,1,Fe,qe),rotate:new Bt(D,J,-J,D,0,0),skew:new Bt(1,0,bt,1,0,0)}},Bt.prototype.toString=function(D){return this.join(" ")},Bt.prototype.inversed=function(){var D=this.sx,J=this.shy,we=this.shx,Se=this.sy,Fe=this.tx,qe=this.ty,nt=1/(D*Se-J*we),bt=Se*nt,It=-J*nt,rr=-we*nt,Zt=D*nt;return new Bt(bt,It,rr,Zt,-bt*Fe-rr*qe,-It*Fe-Zt*qe)},Bt.prototype.applyToPoint=function(D){var J=D.x*this.sx+D.y*this.shx+this.tx,we=D.x*this.shy+D.y*this.sy+this.ty;return new Lf(J,we)},Bt.prototype.applyToRectangle=function(D){var J=this.applyToPoint(D),we=this.applyToPoint(new Lf(D.x+D.w,D.y+D.h));return new Em(J.x,J.y,we.x-J.x,we.y-J.y)},Bt.prototype.clone=function(){var D=this.sx,J=this.shy,we=this.shx,Se=this.sy,Fe=this.tx,qe=this.ty;return new Bt(D,J,we,Se,Fe,qe)},p.Matrix=Bt;var Bs=p.matrixMult=function(D,J){return J.multiply(D)},bs=new Bt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=bs;var Ei=function(D,J){if(!Tl[D]){var we=(J instanceof sd?"Sh":"P")+(Object.keys(jr).length+1).toString(10);J.id=we,Tl[D]=we,jr[we]=J,Or.publish("addPattern",J)}};p.ShadingPattern=sd,p.TilingPattern=j0,p.addShadingPattern=function(D,J){return A("addShadingPattern()"),Ei(D,J),this},p.beginTilingPattern=function(D){A("beginTilingPattern()"),cv(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},p.endTilingPattern=function(D,J){A("endTilingPattern()"),J.stream=Ce[P].join(`
`),Ei(D,J),Or.publish("endTilingPattern",J),po.pop().restore()};var oa=p.__private__.newObject=function(){var D=Gn();return ee(D,!0),D},Gn=p.__private__.newObjectDeferred=function(){return Y++,ae[Y]=function(){return ne},Y},ee=function(D,J){return J=typeof J=="boolean"&&J,ae[D]=ne,J&&re(D+" 0 obj"),D},ve=p.__private__.newAdditionalObject=function(){var D={objId:Gn(),content:""};return _e.push(D),D},fe=Gn(),he=Gn(),ge=p.__private__.decodeColorString=function(D){var J=D.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var we=parseFloat(J[0]);J=[we,we,we,"r"]}for(var Se="#",Fe=0;Fe<3;Fe++)Se+=("0"+Math.floor(255*parseFloat(J[Fe])).toString(16)).slice(-2);return Se},be=p.__private__.encodeColorString=function(D){var J;typeof D=="string"&&(D={ch1:D});var we=D.ch1,Se=D.ch2,Fe=D.ch3,qe=D.ch4,nt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var bt=new sz(we);if(bt.ok)we=bt.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var It=parseInt(we.substr(1),16);we=It>>16&255,Se=It>>8&255,Fe=255&It}if(Se===void 0||qe===void 0&&we===Se&&Se===Fe)if(typeof we=="string")J=we+" "+nt[0];else switch(D.precision){case 2:J=R(we/255)+" "+nt[0];break;case 3:default:J=O(we/255)+" "+nt[0]}else if(qe===void 0||tn(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return J=["1.","1.","1.",nt[1]].join(" ");if(typeof we=="string")J=[we,Se,Fe,nt[1]].join(" ");else switch(D.precision){case 2:J=[R(we/255),R(Se/255),R(Fe/255),nt[1]].join(" ");break;default:case 3:J=[O(we/255),O(Se/255),O(Fe/255),nt[1]].join(" ")}}else if(typeof we=="string")J=[we,Se,Fe,qe,nt[2]].join(" ");else switch(D.precision){case 2:J=[R(we),R(Se),R(Fe),R(qe),nt[2]].join(" ");break;case 3:default:J=[O(we),O(Se),O(Fe),O(qe),nt[2]].join(" ")}return J},Le=p.__private__.getFilters=function(){return o},We=p.__private__.putStream=function(D){var J=(D=D||{}).data||"",we=D.filters||Le(),Se=D.alreadyAppliedFilters||[],Fe=D.addLength1||!1,qe=J.length,nt=D.objectId,bt=function(Ti){return Ti};if(d!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(bt=ki.encryptor(nt,0));var It={};we===!0&&(we=["FlateEncode"]);var rr=D.additionalKeyValues||[],Zt=(It=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(J,we):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(It.data.length!==0&&(rr.push({key:"Length",value:It.data.length}),Fe===!0&&rr.push({key:"Length1",value:qe})),Zt.length!=0)if(Zt.split("/").length-1==1)rr.push({key:"Filter",value:Zt});else{rr.push({key:"Filter",value:"["+Zt+"]"});for(var yr=0;yr<rr.length;yr+=1)if(rr[yr].key==="DecodeParms"){for(var zn=[],Yn=0;Yn<It.reverseChain.split("/").length-1;Yn+=1)zn.push("null");zn.push(rr[yr].value),rr[yr].value="["+zn.join(" ")+"]"}}re("<<");for(var Na=0;Na<rr.length;Na++)re("/"+rr[Na].key+" "+rr[Na].value);re(">>"),It.data.length!==0&&(re("stream"),re(bt(It.data)),re("endstream"))},Re=p.__private__.putPage=function(D){var J=D.number,we=D.data,Se=D.objId,Fe=D.contentsObjId;ee(Se,!0),re("<</Type /Page"),re("/Parent "+D.rootDictionaryObjId+" 0 R"),re("/Resources "+D.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(j(D.mediaBox.bottomLeftX))+" "+parseFloat(j(D.mediaBox.bottomLeftY))+" "+j(D.mediaBox.topRightX)+" "+j(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&re("/CropBox ["+j(D.cropBox.bottomLeftX)+" "+j(D.cropBox.bottomLeftY)+" "+j(D.cropBox.topRightX)+" "+j(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&re("/BleedBox ["+j(D.bleedBox.bottomLeftX)+" "+j(D.bleedBox.bottomLeftY)+" "+j(D.bleedBox.topRightX)+" "+j(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&re("/TrimBox ["+j(D.trimBox.bottomLeftX)+" "+j(D.trimBox.bottomLeftY)+" "+j(D.trimBox.topRightX)+" "+j(D.trimBox.topRightY)+"]"),D.artBox!==null&&re("/ArtBox ["+j(D.artBox.bottomLeftX)+" "+j(D.artBox.bottomLeftY)+" "+j(D.artBox.topRightX)+" "+j(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&re("/UserUnit "+D.userUnit),Or.publish("putPage",{objId:Se,pageContext:Qt[J],pageNumber:J,page:we}),re("/Contents "+Fe+" 0 R"),re(">>"),re("endobj");var qe=we.join(`
`);return y===b.ADVANCED&&(qe+=`
Q`),ee(Fe,!0),We({data:qe,filters:Le(),objectId:Fe}),re("endobj"),Se},Ue=p.__private__.putPages=function(){var D,J,we=[];for(D=1;D<=fn;D++)Qt[D].objId=Gn(),Qt[D].contentsObjId=Gn();for(D=1;D<=fn;D++)we.push(Re({number:D,data:Ce[D],objId:Qt[D].objId,contentsObjId:Qt[D].contentsObjId,mediaBox:Qt[D].mediaBox,cropBox:Qt[D].cropBox,bleedBox:Qt[D].bleedBox,trimBox:Qt[D].trimBox,artBox:Qt[D].artBox,userUnit:Qt[D].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:he}));ee(fe,!0),re("<</Type /Pages");var Se="/Kids [";for(J=0;J<fn;J++)Se+=we[J]+" 0 R ";re(Se+"]"),re("/Count "+fn),re(">>"),re("endobj"),Or.publish("postPutPages")},He=function(D){Or.publish("putFont",{font:D,out:re,newObject:oa,putStream:We}),D.isAlreadyPutted!==!0&&(D.objectNumber=oa(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Eh(D.postScriptName)),re("/Subtype /Type1"),typeof D.encoding=="string"&&re("/Encoding /"+D.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},at=function(){for(var D in Nr)Nr.hasOwnProperty(D)&&(f===!1||f===!0&&h.hasOwnProperty(D))&&He(Nr[D])},ot=function(D){D.objectNumber=oa();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[j(D.x),j(D.y),j(D.x+D.width),j(D.y+D.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var we=D.pages[1].join(`
`);We({data:we,additionalKeyValues:J,objectId:D.objectNumber}),re("endobj")},xt=function(){for(var D in Ia)Ia.hasOwnProperty(D)&&ot(Ia[D])},st=function(D,J){var we,Se=[],Fe=1/(J-1);for(we=0;we<1;we+=Fe)Se.push(we);if(Se.push(1),D[0].offset!=0){var qe={offset:0,color:D[0].color};D.unshift(qe)}if(D[D.length-1].offset!=1){var nt={offset:1,color:D[D.length-1].color};D.push(nt)}for(var bt="",It=0,rr=0;rr<Se.length;rr++){for(we=Se[rr];we>D[It+1].offset;)It++;var Zt=D[It].offset,yr=(we-Zt)/(D[It+1].offset-Zt),zn=D[It].color,Yn=D[It+1].color;bt+=z(Math.round((1-yr)*zn[0]+yr*Yn[0]).toString(16))+z(Math.round((1-yr)*zn[1]+yr*Yn[1]).toString(16))+z(Math.round((1-yr)*zn[2]+yr*Yn[2]).toString(16))}return bt.trim()},mt=function(D,J){J||(J=21);var we=oa(),Se=st(D.colors,J),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+J+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We({data:Se,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),re("endobj"),D.objectNumber=oa(),re("<< /ShadingType "+D.type),re("/ColorSpace /DeviceRGB");var qe="/Coords ["+j(parseFloat(D.coords[0]))+" "+j(parseFloat(D.coords[1]))+" ";D.type===2?qe+=j(parseFloat(D.coords[2]))+" "+j(parseFloat(D.coords[3])):qe+=j(parseFloat(D.coords[2]))+" "+j(parseFloat(D.coords[3]))+" "+j(parseFloat(D.coords[4]))+" "+j(parseFloat(D.coords[5])),re(qe+="]"),D.matrix&&re("/Matrix ["+D.matrix.toString()+"]"),re("/Function "+we+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Yt=function(D,J){var we=Gn(),Se=oa();J.push({resourcesOid:we,objectOid:Se}),D.objectNumber=Se;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+D.boundingBox.map(j).join(" ")+"]"}),Fe.push({key:"XStep",value:j(D.xStep)}),Fe.push({key:"YStep",value:j(D.yStep)}),Fe.push({key:"Resources",value:we+" 0 R"}),D.matrix&&Fe.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),We({data:D.stream,additionalKeyValues:Fe,objectId:D.objectNumber}),re("endobj")},zr=function(D){var J;for(J in jr)jr.hasOwnProperty(J)&&(jr[J]instanceof sd?mt(jr[J]):jr[J]instanceof j0&&Yt(jr[J],D))},sn=function(D){for(var J in D.objectNumber=oa(),re("<<"),D)switch(J){case"opacity":re("/ca "+R(D[J]));break;case"stroke-opacity":re("/CA "+R(D[J]))}re(">>"),re("endobj")},_a=function(){var D;for(D in En)En.hasOwnProperty(D)&&sn(En[D])},el=function(){for(var D in re("/XObject <<"),Ia)Ia.hasOwnProperty(D)&&Ia[D].objectNumber>=0&&re("/"+D+" "+Ia[D].objectNumber+" 0 R");Or.publish("putXobjectDict"),re(">>")},jc=function(){ki.oid=oa(),re("<<"),re("/Filter /Standard"),re("/V "+ki.v),re("/R "+ki.r),re("/U <"+ki.toHexString(ki.U)+">"),re("/O <"+ki.toHexString(ki.O)+">"),re("/P "+ki.P),re(">>"),re("endobj")},Ol=function(){for(var D in re("/Font <<"),Nr)Nr.hasOwnProperty(D)&&(f===!1||f===!0&&h.hasOwnProperty(D))&&re("/"+D+" "+Nr[D].objectNumber+" 0 R");re(">>")},tl=function(){if(Object.keys(jr).length>0){for(var D in re("/Shading <<"),jr)jr.hasOwnProperty(D)&&jr[D]instanceof sd&&jr[D].objectNumber>=0&&re("/"+D+" "+jr[D].objectNumber+" 0 R");Or.publish("putShadingPatternDict"),re(">>")}},Pl=function(D){if(Object.keys(jr).length>0){for(var J in re("/Pattern <<"),jr)jr.hasOwnProperty(J)&&jr[J]instanceof p.TilingPattern&&jr[J].objectNumber>=0&&jr[J].objectNumber<D&&re("/"+J+" "+jr[J].objectNumber+" 0 R");Or.publish("putTilingPatternDict"),re(">>")}},$s=function(){if(Object.keys(En).length>0){var D;for(D in re("/ExtGState <<"),En)En.hasOwnProperty(D)&&En[D].objectNumber>=0&&re("/"+D+" "+En[D].objectNumber+" 0 R");Or.publish("putGStateDict"),re(">>")}},la=function(D){ee(D.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ol(),tl(),Pl(D.objectOid),$s(),el(),re(">>"),re("endobj")},Yg=function(){var D=[];at(),_a(),xt(),zr(D),Or.publish("putResources"),D.forEach(la),la({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),Or.publish("postPutResources")},Xg=function(){Or.publish("putAdditionalObjects");for(var D=0;D<_e.length;D++){var J=_e[D];ee(J.objId,!0),re(J.content),re("endobj")}Or.publish("postPutAdditionalObjects")},Kg=function(D){vn[D.fontName]=vn[D.fontName]||{},vn[D.fontName][D.fontStyle]=D.id},bm=function(D,J,we,Se,Fe){var qe={id:"F"+(Object.keys(Nr).length+1).toString(10),postScriptName:D,fontName:J,fontStyle:we,encoding:Se,isStandardFont:Fe||!1,metadata:{}};return Or.publish("addFont",{font:qe,instance:this}),Nr[qe.id]=qe,Kg(qe),qe.id},G5=function(D){for(var J=0,we=de.length;J<we;J++){var Se=bm.call(this,D[J][0],D[J][1],D[J][2],de[J][3],!0);f===!1&&(h[Se]=!0);var Fe=D[J][0].split("-");Kg({id:Se,fontName:Fe[0],fontStyle:Fe[1]||""})}Or.publish("addFonts",{fonts:Nr,dictionary:vn})},rl=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Se){var J=Se.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var we="Error in function "+J.split(`
`)[0].split("<")[0]+": "+Se.message;if(!Vt.console)throw new Error(we);Vt.console.error(we,Se),Vt.alert&&alert(we)}},D.foo.bar=D,D.foo},Pf=function(D,J){var we,Se,Fe,qe,nt,bt,It,rr,Zt;if(Fe=(J=J||{}).sourceEncoding||"Unicode",nt=J.outputEncoding,(J.autoencode||nt)&&Nr[ft].metadata&&Nr[ft].metadata[Fe]&&Nr[ft].metadata[Fe].encoding&&(qe=Nr[ft].metadata[Fe].encoding,!nt&&Nr[ft].encoding&&(nt=Nr[ft].encoding),!nt&&qe.codePages&&(nt=qe.codePages[0]),typeof nt=="string"&&(nt=qe[nt]),nt)){for(It=!1,bt=[],we=0,Se=D.length;we<Se;we++)(rr=nt[D.charCodeAt(we)])?bt.push(String.fromCharCode(rr)):bt.push(D[we]),bt[we].charCodeAt(0)>>8&&(It=!0);D=bt.join("")}for(we=D.length;It===void 0&&we!==0;)D.charCodeAt(we-1)>>8&&(It=!0),we--;if(!It)return D;for(bt=J.noBOM?[]:[254,255],we=0,Se=D.length;we<Se;we++){if((Zt=(rr=D.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(Zt),bt.push(rr-(Zt<<8))}return String.fromCharCode.apply(void 0,bt)},ys=p.__private__.pdfEscape=p.pdfEscape=function(D,J){return Pf(D,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ym=p.__private__.beginPage=function(D){Ce[++fn]=[],Qt[fn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Jg(fn),pe(Ce[P])},Qg=function(D,J){var we,Se,Fe;switch(r=J||r,typeof D=="string"&&(we=v(D.toLowerCase()),Array.isArray(we)&&(Se=we[0],Fe=we[1])),Array.isArray(D)&&(Se=D[0]*it,Fe=D[1]*it),isNaN(Se)&&(Se=a[0],Fe=a[1]),(Se>14400||Fe>14400)&&(mn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),Fe=Math.min(14400,Fe)),a=[Se,Fe],r.substr(0,1)){case"l":Fe>Se&&(a=[Fe,Se]);break;case"p":Se>Fe&&(a=[Fe,Se])}ym(a),av(jm),re(nl),Am!==0&&re(Am+" J"),Cm!==0&&re(Cm+" j"),Or.publish("addPage",{pageNumber:fn})},Y5=function(D){D>0&&D<=fn&&(Ce.splice(D,1),Qt.splice(D,1),fn--,P>fn&&(P=fn),this.setPage(P))},Jg=function(D){D>0&&D<=fn&&(P=D)},X5=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ce.length-1},Zg=function(D,J,we){var Se,Fe=void 0;return we=we||{},D=D!==void 0?D:Nr[ft].fontName,J=J!==void 0?J:Nr[ft].fontStyle,Se=D.toLowerCase(),vn[Se]!==void 0&&vn[Se][J]!==void 0?Fe=vn[Se][J]:vn[D]!==void 0&&vn[D][J]!==void 0?Fe=vn[D][J]:we.disableWarning===!1&&mn.warn("Unable to look up font label for font '"+D+"', '"+J+"'. Refer to getFontList() for available fonts."),Fe||we.noFallback||(Fe=vn.times[J])==null&&(Fe=vn.times.normal),Fe},K5=p.__private__.putInfo=function(){var D=oa(),J=function(Se){return Se};for(var we in d!==null&&(J=ki.encryptor(D,0)),re("<<"),re("/Producer ("+ys(J("jsPDF "+Mt.version))+")"),kt)kt.hasOwnProperty(we)&&kt[we]&&re("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+ys(J(kt[we]))+")");re("/CreationDate ("+ys(J(G))+")"),re(">>"),re("endobj")},wm=p.__private__.putCatalog=function(D){var J=(D=D||{}).rootDictionaryObjId||fe;switch(oa(),re("<<"),re("/Type /Catalog"),re("/Pages "+J+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+Ie;we.substr(we.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&re("/OpenAction [3 0 R /XYZ null null "+R(Ie)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Xe&&re("/PageMode /"+Xe),Or.publish("putCatalog"),re(">>"),re("endobj")},Q5=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(Y+1)),re("/Root "+Y+" 0 R"),re("/Info "+(Y-1)+" 0 R"),d!==null&&re("/Encrypt "+ki.oid+" 0 R"),re("/ID [ <"+U+"> <"+U+"> ]"),re(">>")},J5=p.__private__.putHeader=function(){re("%PDF-"+m),re("%ºß¬à")},Z5=p.__private__.putXRef=function(){var D="0000000000";re("xref"),re("0 "+(Y+1)),re("0000000000 65535 f ");for(var J=1;J<=Y;J++)typeof ae[J]=="function"?re((D+ae[J]()).slice(-10)+" 00000 n "):ae[J]!==void 0?re((D+ae[J]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Sc=p.__private__.buildDocument=function(){Ae(),pe(ue),Or.publish("buildDocument"),J5(),Ue(),Xg(),Yg(),d!==null&&jc(),K5(),wm();var D=ne;return Z5(),Q5(),re("startxref"),re(""+D),re("%%EOF"),pe(Ce[P]),ue.join(`
`)},Df=p.__private__.getBlob=function(D){return new Blob([oe(D)],{type:"application/pdf"})},If=p.output=p.__private__.output=rl(function(D,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",D){case void 0:return Sc();case"save":p.save(J.filename);break;case"arraybuffer":return oe(Sc());case"blob":return Df(Sc());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(Df(Sc()))||void 0;mn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Se=Sc();try{we=Rj(Se)}catch{we=Rj(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+J.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Fe=J.pdfObjectUrl,qe="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",bt=Vt.open();return bt!==null&&bt.document.write(nt),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',rr=Vt.open();if(rr!==null){rr.document.write(It);var Zt=this;rr.document.documentElement.querySelector("#pdfViewer").onload=function(){rr.document.title=J.filename,rr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return rr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',zn=Vt.open();if(zn!==null&&(zn.document.write(yr),zn.document.title=J.filename),zn||typeof safari>"u")return zn;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",J);default:return null}}),ev=function(D){return Array.isArray(Nc)===!0&&Nc.indexOf(D)>-1};switch(n){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=ev("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);it=n}var ki=null;se(),X();var e_=function(D){return d!==null?ki.encryptor(D,0):function(J){return J}},tv=p.__private__.getPageInfo=p.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qt[D].objId,pageNumber:D,pageContext:Qt[D]}},Jt=p.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Qt)if(Qt[J].objId===D)break;return tv(J)},t_=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Qt[P].objId,pageNumber:P,pageContext:Qt[P]}};p.addPage=function(){return Qg.apply(this,arguments),this},p.setPage=function(){return Jg.apply(this,arguments),pe.call(this,Ce[P]),this},p.insertPage=function(D){return this.addPage(),this.movePage(P,D),this},p.movePage=function(D,J){var we,Se;if(D>J){we=Ce[D],Se=Qt[D];for(var Fe=D;Fe>J;Fe--)Ce[Fe]=Ce[Fe-1],Qt[Fe]=Qt[Fe-1];Ce[J]=we,Qt[J]=Se,this.setPage(J)}else if(D<J){we=Ce[D],Se=Qt[D];for(var qe=D;qe<J;qe++)Ce[qe]=Ce[qe+1],Qt[qe]=Qt[qe+1];Ce[J]=we,Qt[J]=Se,this.setPage(J)}return this},p.deletePage=function(){return Y5.apply(this,arguments),this},p.__private__.text=p.text=function(D,J,we,Se,Fe){var qe,nt,bt,It,rr,Zt,yr,zn,Yn,Na=(Se=Se||{}).scope||this;if(typeof D=="number"&&typeof J=="number"&&(typeof we=="string"||Array.isArray(we))){var Ti=we;we=J,J=D,D=Ti}if(arguments[3]instanceof Bt?(A("The transform parameter of text() with a Matrix value"),Yn=Fe):(bt=arguments[4],It=arguments[5],tn(yr=arguments[3])==="object"&&yr!==null||(typeof bt=="string"&&(It=bt,bt=null),typeof yr=="string"&&(It=yr,yr=null),typeof yr=="number"&&(bt=yr,yr=null),Se={flags:yr,angle:bt,align:It})),isNaN(J)||isNaN(we)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return Na;var ti="",al=!1,zs=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Bd,Ml=Na.internal.scaleFactor;function uv(bn){return bn=bn.split("	").join(Array(Se.TabLen||9).join(" ")),ys(bn,yr)}function Pm(bn){for(var yn,ua=bn.concat(),Ma=[],Tc=ua.length;Tc--;)typeof(yn=ua.shift())=="string"?Ma.push(yn):Array.isArray(bn)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?Ma.push(yn[0]):Ma.push([yn[0],yn[1],yn[2]]);return Ma}function Dm(bn,yn){var ua;if(typeof bn=="string")ua=yn(bn)[0];else if(Array.isArray(bn)){for(var Ma,Tc,zm=bn.concat(),Xf=[],mv=zm.length;mv--;)typeof(Ma=zm.shift())=="string"?Xf.push(yn(Ma)[0]):Array.isArray(Ma)&&typeof Ma[0]=="string"&&(Tc=yn(Ma[0],Ma[1],Ma[2]),Xf.push([Tc[0],Tc[1],Tc[2]]));ua=Xf}return ua}var $f=!1,Im=!0;if(typeof D=="string")$f=!0;else if(Array.isArray(D)){var Mm=D.concat();nt=[];for(var zf,xi=Mm.length;xi--;)(typeof(zf=Mm.shift())!="string"||Array.isArray(zf)&&typeof zf[0]!="string")&&(Im=!1);$f=Im}if($f===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Uf=ye/Na.internal.scaleFactor,Hf=Uf*(zs-1);switch(Se.baseline){case"bottom":we-=Hf;break;case"top":we+=Uf-Hf;break;case"hanging":we+=Uf-2*Hf;break;case"middle":we+=Uf/2-Hf}if((Zt=Se.maxWidth||0)>0&&(typeof D=="string"?D=Na.splitTextToSize(D,Zt):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(bn,yn){return bn.concat(Na.splitTextToSize(yn,Zt))},[]))),qe={text:D,x:J,y:we,options:Se,mutex:{pdfEscape:ys,activeFontKey:ft,fonts:Nr,activeFontSize:ye}},Or.publish("preProcessText",qe),D=qe.text,bt=(Se=qe.options).angle,!(Yn instanceof Bt)&&bt&&typeof bt=="number"){bt*=Math.PI/180,Se.rotationDirection===0&&(bt=-bt),y===b.ADVANCED&&(bt=-bt);var Wf=Math.cos(bt),Fm=Math.sin(bt);Yn=new Bt(Wf,Fm,-Fm,Wf,0,0)}else bt&&bt instanceof Bt&&(Yn=bt);y!==b.ADVANCED||Yn||(Yn=bs),(rr=Se.charSpace||Rf)!==void 0&&(ti+=j(E(rr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zn=Se.horizontalScale)!==void 0&&(ti+=j(100*zn)+` Tz
`),Se.lang;var ws=-1,d_=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,Rm=Na.internal.getCurrentPageInfo().pageContext;switch(d_){case 0:case!1:case"fill":ws=0;break;case 1:case!0:case"stroke":ws=1;break;case 2:case"fillThenStroke":ws=2;break;case 3:case"invisible":ws=3;break;case 4:case"fillAndAddForClipping":ws=4;break;case 5:case"strokeAndAddPathForClipping":ws=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ws=6;break;case 7:case"addToPathForClipping":ws=7}var dv=Rm.usedRenderingMode!==void 0?Rm.usedRenderingMode:-1;ws!==-1?ti+=ws+` Tr
`:dv!==-1&&(ti+=`0 Tr
`),ws!==-1&&(Rm.usedRenderingMode=ws),It=Se.align||"left";var mo,Vf=ye*zs,fv=Na.internal.pageSize.getWidth(),hv=Nr[ft];rr=Se.charSpace||Rf,Zt=Se.maxWidth||0,yr=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var Au=[],Ud=function(bn){return Na.getStringUnitWidth(bn,{font:hv,charSpace:rr,fontSize:ye,doKerning:!1})*ye/Ml};if(Object.prototype.toString.call(D)==="[object Array]"){var _s;nt=Pm(D),It!=="left"&&(mo=nt.map(Ud));var Ji,Cu=0;if(It==="right"){J-=mo[0],D=[],xi=nt.length;for(var Cc=0;Cc<xi;Cc++)Cc===0?(Ji=Il(J),_s=Ac(we)):(Ji=E(Cu-mo[Cc]),_s=-Vf),D.push([nt[Cc],Ji,_s]),Cu=mo[Cc]}else if(It==="center"){J-=mo[0]/2,D=[],xi=nt.length;for(var Ec=0;Ec<xi;Ec++)Ec===0?(Ji=Il(J),_s=Ac(we)):(Ji=E((Cu-mo[Ec])/2),_s=-Vf),D.push([nt[Ec],Ji,_s]),Cu=mo[Ec]}else if(It==="left"){D=[],xi=nt.length;for(var qf=0;qf<xi;qf++)D.push(nt[qf])}else if(It==="justify"&&hv.encoding==="Identity-H"){D=[],xi=nt.length,Zt=Zt!==0?Zt:fv;for(var kc=0,ca=0;ca<xi;ca++)if(_s=ca===0?Ac(we):-Vf,Ji=ca===0?Il(J):kc,ca<xi-1){var Lm=E((Zt-mo[ca])/(nt[ca].split(" ").length-1)),Zi=nt[ca].split(" ");D.push([Zi[0]+" ",Ji,_s]),kc=0;for(var xo=1;xo<Zi.length;xo++){var Gf=(Ud(Zi[xo-1]+" "+Zi[xo])-Ud(Zi[xo]))*Ml+Lm;xo==Zi.length-1?D.push([Zi[xo],Gf,0]):D.push([Zi[xo]+" ",Gf,0]),kc-=Gf}}else D.push([nt[ca],Ji,_s]);D.push(["",kc,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],xi=nt.length,Zt=Zt!==0?Zt:fv,ca=0;ca<xi;ca++)_s=ca===0?Ac(we):-Vf,Ji=ca===0?Il(J):0,ca<xi-1?Au.push(j(E((Zt-mo[ca])/(nt[ca].split(" ").length-1)))):Au.push(0),D.push([nt[ca],Ji,_s])}}var pv=typeof Se.R2L=="boolean"?Se.R2L:Pe;pv===!0&&(D=Dm(D,function(bn,yn,ua){return[bn.split("").reverse().join(""),yn,ua]})),qe={text:D,x:J,y:we,options:Se,mutex:{pdfEscape:ys,activeFontKey:ft,fonts:Nr,activeFontSize:ye}},Or.publish("postProcessText",qe),D=qe.text,al=qe.mutex.isHex||!1;var Bm=Nr[ft].encoding;Bm!=="WinAnsiEncoding"&&Bm!=="StandardEncoding"||(D=Dm(D,function(bn,yn,ua){return[uv(bn),yn,ua]})),nt=Pm(D),D=[];for(var Hd,Wd,Eu,Vd=0,Yf=1,qd=Array.isArray(nt[0])?Yf:Vd,ku="",$m=function(bn,yn,ua){var Ma="";return ua instanceof Bt?(ua=typeof Se.angle=="number"?Bs(ua,new Bt(1,0,0,1,bn,yn)):Bs(new Bt(1,0,0,1,bn,yn),ua),y===b.ADVANCED&&(ua=Bs(new Bt(1,0,0,-1,0,0),ua)),Ma=ua.join(" ")+` Tm
`):Ma=j(bn)+" "+j(yn)+` Td
`,Ma},go=0;go<nt.length;go++){switch(ku="",qd){case Yf:Eu=(al?"<":"(")+nt[go][0]+(al?">":")"),Hd=parseFloat(nt[go][1]),Wd=parseFloat(nt[go][2]);break;case Vd:Eu=(al?"<":"(")+nt[go]+(al?">":")"),Hd=Il(J),Wd=Ac(we)}Au!==void 0&&Au[go]!==void 0&&(ku=Au[go]+` Tw
`),go===0?D.push(ku+$m(Hd,Wd,Yn)+Eu):qd===Vd?D.push(ku+Eu):qd===Yf&&D.push(ku+$m(Hd,Wd,Yn)+Eu)}D=qd===Vd?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var vo=`BT
/`;return vo+=ft+" "+ye+` Tf
`,vo+=j(ye*zs)+` TL
`,vo+=$d+`
`,vo+=ti,vo+=D,re(vo+="ET"),h[ft]=!0,Na};var r_=p.__private__.clip=p.clip=function(D){return re(D==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return r_("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Dl=p.__private__.isValidStyle=function(D){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(J=!0),J};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(D){return Dl(D)&&(u=D),this};var rv=p.__private__.getStyle=p.getStyle=function(D){var J=u;switch(D){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=D}return J},nv=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(D){return Mf("f",D),this},p.fillEvenOdd=function(D){return Mf("f*",D),this},p.fillStroke=function(D){return Mf("B",D),this},p.fillStrokeEvenOdd=function(D){return Mf("B*",D),this};var Mf=function(D,J){tn(J)==="object"?a_(J,D):re(D)},_m=function(D){D===null||y===b.ADVANCED&&D===void 0||(D=rv(D),re(D))};function n_(D,J,we,Se,Fe){var qe=new j0(J||this.boundingBox,we||this.xStep,Se||this.yStep,this.gState,Fe||this.matrix);qe.stream=this.stream;var nt=D+"$$"+this.cloneIndex+++"$$";return Ei(nt,qe),qe}var a_=function(D,J){var we=Tl[D.key],Se=jr[we];if(Se instanceof sd)re("q"),re(i_(J)),Se.gState&&p.setGState(Se.gState),re(D.matrix.toString()+" cm"),re("/"+we+" sh"),re("Q");else if(Se instanceof j0){var Fe=new Bt(1,0,0,-1,0,Su());D.matrix&&(Fe=Fe.multiply(D.matrix||bs),we=n_.call(Se,D.key,D.boundingBox,D.xStep,D.yStep,Fe).id),re("q"),re("/Pattern cs"),re("/"+we+" scn"),Se.gState&&p.setGState(Se.gState),re(J),re("Q")}},i_=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Nm=p.moveTo=function(D,J){return re(j(E(D))+" "+j(B(J))+" m"),this},Ld=p.lineTo=function(D,J){return re(j(E(D))+" "+j(B(J))+" l"),this},Nu=p.curveTo=function(D,J,we,Se,Fe,qe){return re([j(E(D)),j(B(J)),j(E(we)),j(B(Se)),j(E(Fe)),j(B(qe)),"c"].join(" ")),this};p.__private__.line=p.line=function(D,J,we,Se,Fe){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(Se)||!Dl(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return y===b.COMPAT?this.lines([[we-D,Se-J]],D,J,[1,1],Fe||"S"):this.lines([[we-D,Se-J]],D,J,[1,1]).stroke()},p.__private__.lines=p.lines=function(D,J,we,Se,Fe,qe){var nt,bt,It,rr,Zt,yr,zn,Yn,Na,Ti,ti,al;if(typeof D=="number"&&(al=we,we=J,J=D,D=al),Se=Se||[1,1],qe=qe||!1,isNaN(J)||isNaN(we)||!Array.isArray(D)||!Array.isArray(Se)||!Dl(Fe)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Nm(J,we),nt=Se[0],bt=Se[1],rr=D.length,Ti=J,ti=we,It=0;It<rr;It++)(Zt=D[It]).length===2?(Ti=Zt[0]*nt+Ti,ti=Zt[1]*bt+ti,Ld(Ti,ti)):(yr=Zt[0]*nt+Ti,zn=Zt[1]*bt+ti,Yn=Zt[2]*nt+Ti,Na=Zt[3]*bt+ti,Ti=Zt[4]*nt+Ti,ti=Zt[5]*bt+ti,Nu(yr,zn,Yn,Na,Ti,ti));return qe&&nv(),_m(Fe),this},p.path=function(D){for(var J=0;J<D.length;J++){var we=D[J],Se=we.c;switch(we.op){case"m":Nm(Se[0],Se[1]);break;case"l":Ld(Se[0],Se[1]);break;case"c":Nu.apply(this,Se);break;case"h":nv()}}return this},p.__private__.rect=p.rect=function(D,J,we,Se,Fe){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(Se)||!Dl(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return y===b.COMPAT&&(Se=-Se),re([j(E(D)),j(B(J)),j(E(we)),j(E(Se)),"re"].join(" ")),_m(Fe),this},p.__private__.triangle=p.triangle=function(D,J,we,Se,Fe,qe,nt){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(Se)||isNaN(Fe)||isNaN(qe)||!Dl(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-D,Se-J],[Fe-we,qe-Se],[D-Fe,J-qe]],D,J,[1,1],nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(D,J,we,Se,Fe,qe,nt){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(Se)||isNaN(Fe)||isNaN(qe)||!Dl(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*we),qe=Math.min(qe,.5*Se),this.lines([[we-2*Fe,0],[Fe*bt,0,Fe,qe-qe*bt,Fe,qe],[0,Se-2*qe],[0,qe*bt,-Fe*bt,qe,-Fe,qe],[2*Fe-we,0],[-Fe*bt,0,-Fe,-qe*bt,-Fe,-qe],[0,2*qe-Se],[0,-qe*bt,Fe*bt,-qe,Fe,-qe]],D+Fe,J,[1,1],nt,!0),this},p.__private__.ellipse=p.ellipse=function(D,J,we,Se,Fe){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(Se)||!Dl(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*we,nt=4/3*(Math.SQRT2-1)*Se;return Nm(D+we,J),Nu(D+we,J-nt,D+qe,J-Se,D,J-Se),Nu(D-qe,J-Se,D-we,J-nt,D-we,J),Nu(D-we,J+nt,D-qe,J+Se,D,J+Se),Nu(D+qe,J+Se,D+we,J+nt,D+we,J),_m(Fe),this},p.__private__.circle=p.circle=function(D,J,we,Se){if(isNaN(D)||isNaN(J)||isNaN(we)||!Dl(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,J,we,we,Se)},p.setFont=function(D,J,we){return we&&(J=S(J,we)),ft=Zg(D,J,{disableWarning:!1}),this};var s_=p.__private__.getFont=p.getFont=function(){return Nr[Zg.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var D,J,we={};for(D in vn)if(vn.hasOwnProperty(D))for(J in we[D]=[],vn[D])vn[D].hasOwnProperty(J)&&we[D].push(J);return we},p.addFont=function(D,J,we,Se,Fe){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(we=S(we,Se)),Fe=Fe||"Identity-H",bm.call(this,D,J,we,Fe)};var Bd,jm=e.lineWidth||.200025,Ff=p.__private__.getLineWidth=p.getLineWidth=function(){return jm},av=p.__private__.setLineWidth=p.setLineWidth=function(D){return jm=D,re(j(E(D))+" w"),this};p.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(D,J){if(D=D||[],J=J||0,isNaN(J)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(we){return j(E(we))}).join(" "),J=j(E(J)),re("["+D+"] "+J+" d"),this};var iv=p.__private__.getLineHeight=p.getLineHeight=function(){return ye*Bd};p.__private__.getLineHeight=p.getLineHeight=function(){return ye*Bd};var sv=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Bd=D),this},ov=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Bd};sv(e.lineHeight);var Il=p.__private__.getHorizontalCoordinate=function(D){return E(D)},Ac=p.__private__.getVerticalCoordinate=function(D){return y===b.ADVANCED?D:Qt[P].mediaBox.topRightY-Qt[P].mediaBox.bottomLeftY-E(D)},o_=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(D){return j(Il(D))},ju=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(D){return j(Ac(D))},nl=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ge(nl)},p.__private__.setStrokeColor=p.setDrawColor=function(D,J,we,Se){return nl=be({ch1:D,ch2:J,ch3:we,ch4:Se,pdfColorType:"draw",precision:2}),re(nl),this};var Sm=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ge(Sm)},p.__private__.setFillColor=p.setFillColor=function(D,J,we,Se){return Sm=be({ch1:D,ch2:J,ch3:we,ch4:Se,pdfColorType:"fill",precision:2}),re(Sm),this};var $d=e.textColor||"0 g",l_=p.__private__.getTextColor=p.getTextColor=function(){return ge($d)};p.__private__.setTextColor=p.setTextColor=function(D,J,we,Se){return $d=be({ch1:D,ch2:J,ch3:we,ch4:Se,pdfColorType:"text",precision:3}),this};var Rf=e.charSpace,c_=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Rf||0)};p.__private__.setCharSpace=p.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rf=D,this};var Am=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(D){var J=p.CapJoinStyles[D];if(J===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Am=J,re(J+" J"),this};var Cm=0;p.__private__.setLineJoin=p.setLineJoin=function(D){var J=p.CapJoinStyles[D];if(J===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cm=J,re(J+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(j(E(D))+" M"),this},p.GState=tg,p.setGState=function(D){(D=typeof D=="string"?En[Ls[D]]:lv(null,D)).equals(Zo)||(re("/"+D.id+" gs"),Zo=D)};var lv=function(D,J){if(!D||!Ls[D]){var we=!1;for(var Se in En)if(En.hasOwnProperty(Se)&&En[Se].equals(J)){we=!0;break}if(we)J=En[Se];else{var Fe="GS"+(Object.keys(En).length+1).toString(10);En[Fe]=J,J.id=Fe}return D&&(Ls[D]=J.id),Or.publish("addGState",J),J}};p.addGState=function(D,J){return lv(D,J),this},p.saveGraphicsState=function(){return re("q"),fo.push({key:ft,size:ye,color:$d}),this},p.restoreGraphicsState=function(){re("Q");var D=fo.pop();return ft=D.key,ye=D.size,$d=D.color,Zo=null,this},p.setCurrentTransformationMatrix=function(D){return re(D.toString()+" cm"),this},p.comment=function(D){return re("#"+D),this};var Lf=function(D,J){var we=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(qe){isNaN(qe)||(we=parseFloat(qe))}});var Se=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(qe){isNaN(qe)||(Se=parseFloat(qe))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(qe){Fe=qe.toString()}}),this},Em=function(D,J,we,Se){Lf.call(this,D,J),this.type="rect";var Fe=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(nt){isNaN(nt)||(Fe=parseFloat(nt))}});var qe=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(nt){isNaN(nt)||(qe=parseFloat(nt))}}),this},km=function(){this.page=fn,this.currentPage=P,this.pages=Ce.slice(0),this.pagesContext=Qt.slice(0),this.x=Fr,this.y=Dt,this.matrix=sa,this.width=zd(P),this.height=Su(P),this.outputDestination=Me,this.id="",this.objectNumber=-1};km.prototype.restore=function(){fn=this.page,P=this.currentPage,Qt=this.pagesContext,Ce=this.pages,Fr=this.x,Dt=this.y,sa=this.matrix,Tm(P,this.width),Om(P,this.height),Me=this.outputDestination};var cv=function(D,J,we,Se,Fe){po.push(new km),fn=P=0,Ce=[],Fr=D,Dt=J,sa=Fe,ym([we,Se])},u_=function(D){if(ho[D])po.pop().restore();else{var J=new km,we="Xo"+(Object.keys(Ia).length+1).toString(10);J.id=we,ho[D]=we,Ia[we]=J,Or.publish("addFormObject",J),po.pop().restore()}};for(var Bf in p.beginFormObject=function(D,J,we,Se,Fe){return cv(D,J,we,Se,Fe),this},p.endFormObject=function(D){return u_(D),this},p.doFormObject=function(D,J){var we=Ia[ho[D]];return re("q"),re(J.toString()+" cm"),re("/"+we.id+" Do"),re("Q"),this},p.getFormObject=function(D){var J=Ia[ho[D]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},p.save=function(D,J){return D=D||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(l0(Df(Sc()),D),typeof l0.unload=="function"&&Vt.setTimeout&&setTimeout(l0.unload,911),this):new Promise(function(we,Se){try{var Fe=l0(Df(Sc()),D);typeof l0.unload=="function"&&Vt.setTimeout&&setTimeout(l0.unload,911),we(Fe)}catch(qe){Se(qe.message)}})},Mt.API)Mt.API.hasOwnProperty(Bf)&&(Bf==="events"&&Mt.API.events.length?function(D,J){var we,Se,Fe;for(Fe=J.length-1;Fe!==-1;Fe--)we=J[Fe][0],Se=J[Fe][1],D.subscribe.apply(D,[we].concat(typeof Se=="function"?[Se]:Se))}(Or,Mt.API.events):p[Bf]=Mt.API[Bf]);var zd=p.getPageWidth=function(D){return(Qt[D=D||P].mediaBox.topRightX-Qt[D].mediaBox.bottomLeftX)/it},Tm=p.setPageWidth=function(D,J){Qt[D].mediaBox.topRightX=J*it+Qt[D].mediaBox.bottomLeftX},Su=p.getPageHeight=function(D){return(Qt[D=D||P].mediaBox.topRightY-Qt[D].mediaBox.bottomLeftY)/it},Om=p.setPageHeight=function(D,J){Qt[D].mediaBox.topRightY=J*it+Qt[D].mediaBox.bottomLeftY};return p.internal={pdfEscape:ys,getStyle:rv,getFont:s_,getFontSize:Ne,getCharSpace:c_,getTextColor:l_,getLineHeight:iv,getLineHeightFactor:ov,getLineWidth:Ff,write:Oe,getHorizontalCoordinate:Il,getVerticalCoordinate:Ac,getCoordinateString:o_,getVerticalCoordinateString:ju,collections:{},newObject:oa,newAdditionalObject:ve,newObjectDeferred:Gn,newObjectDeferredBegin:ee,getFilters:Le,putStream:We,events:Or,scaleFactor:it,pageSize:{getWidth:function(){return zd(P)},setWidth:function(D){Tm(P,D)},getHeight:function(){return Su(P)},setHeight:function(D){Om(P,D)}},encryptionOptions:d,encryption:ki,getEncryptor:e_,output:If,getNumberOfPages:X5,pages:Ce,out:re,f2:R,f3:O,getPageInfo:tv,getPageInfoByObjId:Jt,getCurrentPageInfo:t_,getPDFVersion:x,Point:Lf,Rectangle:Em,Matrix:Bt,hasHotfix:ev},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return zd(P)},set:function(D){Tm(P,D)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Su(P)},set:function(D){Om(P,D)},enumerable:!0,configurable:!0}),G5.call(p,de),ft="F1",Qg(a,r),Or.publish("initialized"),p}Ch.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Ch.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ch.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Ch.prototype.processOwnerPassword=function(e,t){return Bj(Lj(t).substr(0,5),e)},Ch.prototype.encryptor=function(e,t){var r=Lj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Bj(r,n)}},tg.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||tn(e)!==tn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Mt.API={events:[]},Mt.version="2.5.2";var Jn=Mt.API,qC=1,Ef=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},er=function(e){return e.toFixed(2)},zu=function(e){return e.toFixed(5)};Jn.__acroform__={};var Fs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kD=function(e){return e*qC},$l=function(e){var t=new uz,r=St.internal.getHeight(e)||0,n=St.internal.getWidth(e)||0;return t.BBox=[0,0,Number(er(n)),Number(er(r))],t},HDe=Jn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},WDe=Jn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},VDe=Jn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},pa=Jn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VDe(e,t-1)},ma=Jn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HDe(e,t-1)},xa=Jn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WDe(e,t-1)},qDe=Jn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(er(c.lowerLeft_X)),Number(er(c.lowerLeft_Y)),Number(er(c.upperRight_X)),Number(er(c.upperRight_Y))]},GDe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=$j(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+er(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=$l(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},$j=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var i=r,o=St.internal.getHeight(e)||0;o=o<0?-o:o;var l=St.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(O,E,L){if(O+1<a.length){var B=E+" "+a[O+1][0];return y2(B,e,L).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=y2("3",e,i).height,h=e.multiline?o-i:(o-f)/2,p=h+=2,m=0,x=0,g=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+y2(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var v="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var w=!1;if(a[y].length!==1&&g!==a[y].length-1){if((f+2)*(b+2)+2>o)continue e;v+=a[y][g],w=!0,x=y,y--}else{v=(v+=a[y][g]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var N=parseInt(y),S=c(N,v,i),j=y>=a.length-1;if(S&&!j){v+=" ",g=0;continue}if(S||j){if(j)x=N;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;x=N}}for(var A="",T=m;T<=x;T++){var R=a[T];if(e.multiline){if(T===x){A+=R[g]+" ",g=(g+1)%R.length;continue}if(T===m){A+=R[R.length-1]+" ";continue}}A+=R[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=y2(A,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=er(u)+" "+er(p)+` Td
`,t+="("+Ef(A)+`) Tj
`,t+=-er(u)+` 0 Td
`,p=-(i+2),d=0,m=w?x:x+1,b++,v=""}break}return n.text=t,n.fontSize=i,n},y2=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},YDe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XDe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},KDe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),tn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},QDe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Cl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(YDe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");qC=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new dz,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&XDe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=qDe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=St.createDefaultAppearanceStream(l),tn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=GDe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var m=p[o];typeof m=="function"&&(m=m.call(a,l)),f+="/"+o+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(a,l)),f+="/"+o+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&KDe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},cz=Jn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),tn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ef(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ef(n(e))+")"},tc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tc.prototype.toString=function(){return this.objId+" 0 R"},tc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},tc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:cz(a,this.objId,this.scope)}):a instanceof tc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var uz=function(){tc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Fs(uz,tc);var dz=function(){tc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ef(r(e))+")"}},set:function(r){e=r}})};Fs(dz,tc);var Cl=function e(){tc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pa(t,3)},set:function(v){v?this.F=ma(t,3):this.F=xa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof qy)return;i="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Ef(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/qC:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof qy||this instanceof vd))return $4(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $a?h:$4(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof $a?v:v.substr(0,1)==="("?dh(v.substr(1,v.length-2)):dh(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a?dh(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof $a?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof $a?p:$4(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof $a?v:v.substr(0,1)==="("?dh(v.substr(1,v.length-2)):dh(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a?dh(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof $a?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,1)},set:function(v){v?this.Ff=ma(this.Ff,1):this.Ff=xa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,2)},set:function(v){v?this.Ff=ma(this.Ff,2):this.Ff=xa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,3)},set:function(v){v?this.Ff=ma(this.Ff,3):this.Ff=xa(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');g=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(g){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Fs(Cl,tc);var R0=function(){Cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cz(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,18)},set:function(r){r?this.Ff=ma(this.Ff,18):this.Ff=xa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ma(this.Ff,19):this.Ff=xa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,20)},set:function(r){r?(this.Ff=ma(this.Ff,20),t.sort()):this.Ff=xa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,22)},set:function(r){r?this.Ff=ma(this.Ff,22):this.Ff=xa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(r){r?this.Ff=ma(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,27)},set:function(r){r?this.Ff=ma(this.Ff,27):this.Ff=xa(this.Ff,27)}}),this.hasAppearanceStream=!1};Fs(R0,Cl);var L0=function(){R0.call(this),this.fontName="helvetica",this.combo=!1};Fs(L0,R0);var B0=function(){L0.call(this),this.combo=!0};Fs(B0,L0);var Gx=function(){B0.call(this),this.edit=!0};Fs(Gx,B0);var $a=function(){Cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,15)},set:function(r){r?this.Ff=ma(this.Ff,15):this.Ff=xa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,16)},set:function(r){r?this.Ff=ma(this.Ff,16):this.Ff=xa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,17)},set:function(r){r?this.Ff=ma(this.Ff,17):this.Ff=xa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(r){r?this.Ff=ma(this.Ff,26):this.Ff=xa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ef(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){tn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Fs($a,Cl);var Yx=function(){$a.call(this),this.pushButton=!0};Fs(Yx,$a);var $0=function(){$a.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Fs($0,$a);var qy=function(){var e,t;Cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Ef(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){tn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fs(qy,Cl),$0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},$0.prototype.createOption=function(e){var t=new qy;return t.Parent=this,t.optionName=e,this.Kids.push(t),JDe.call(this.scope,t),t};var Xx=function(){$a.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Fs(Xx,$a);var vd=function(){Cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,13)},set:function(t){t?this.Ff=ma(this.Ff,13):this.Ff=xa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,21)},set:function(t){t?this.Ff=ma(this.Ff,21):this.Ff=xa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(t){t?this.Ff=ma(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,24)},set:function(t){t?this.Ff=ma(this.Ff,24):this.Ff=xa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,25)},set:function(t){t?this.Ff=ma(this.Ff,25):this.Ff=xa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(t){t?this.Ff=ma(this.Ff,26):this.Ff=xa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fs(vd,Cl);var Kx=function(){vd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,14)},set:function(e){e?this.Ff=ma(this.Ff,14):this.Ff=xa(this.Ff,14)}}),this.password=!0};Fs(Kx,vd);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=$j(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+er(St.internal.getWidth(e))+" "+er(St.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+er(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=$l(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=St.internal.getHeight(e),o=St.internal.getWidth(e),l=$j(e,e.caption);return a.push("1 g"),a.push("0 0 "+er(o)+" "+er(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+er(o-1)+" "+er(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+er(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+er(St.internal.getWidth(e))+" "+er(St.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Circle.YesNormal,t.D[e]=St.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=St.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+zu(St.internal.getWidth(e)/2)+" "+zu(St.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*St.internal.Bezier_C).toFixed(5)),o=Number((n*St.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+zu(St.internal.getWidth(e)/2)+" "+zu(St.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+zu(St.internal.getWidth(e)/2)+" "+zu(St.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*St.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+zu(St.internal.getWidth(e)/2)+" "+zu(St.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Cross.YesNormal,t.D[e]=St.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=St.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+er(St.internal.getWidth(e)-2)+" "+er(St.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(er(n.x1.x)+" "+er(n.x1.y)+" m"),r.push(er(n.x2.x)+" "+er(n.x2.y)+" l"),r.push(er(n.x4.x)+" "+er(n.x4.y)+" m"),r.push(er(n.x3.x)+" "+er(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=St.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+er(St.internal.getWidth(e))+" "+er(St.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+er(St.internal.getWidth(e)-2)+" "+er(St.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(er(r.x1.x)+" "+er(r.x1.y)+" m"),n.push(er(r.x2.x)+" "+er(r.x2.y)+" l"),n.push(er(r.x4.x)+" "+er(r.x4.y)+" m"),n.push(er(r.x3.x)+" "+er(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+er(St.internal.getWidth(e))+" "+er(St.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};St.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=St.internal.getWidth(e),r=St.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},St.internal.getWidth=function(e){var t=0;return tn(e)==="object"&&(t=kD(e.Rect[2])),t},St.internal.getHeight=function(e){var t=0;return tn(e)==="object"&&(t=kD(e.Rect[3])),t};var JDe=Jn.addField=function(e){if(QDe(this,e),!(e instanceof Cl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Jn.AcroFormChoiceField=R0,Jn.AcroFormListBox=L0,Jn.AcroFormComboBox=B0,Jn.AcroFormEditBox=Gx,Jn.AcroFormButton=$a,Jn.AcroFormPushButton=Yx,Jn.AcroFormRadioButton=$0,Jn.AcroFormCheckBox=Xx,Jn.AcroFormTextField=vd,Jn.AcroFormPasswordField=Kx,Jn.AcroFormAppearance=St,Jn.AcroForm={ChoiceField:R0,ListBox:L0,ComboBox:B0,EditBox:Gx,Button:$a,PushButton:Yx,RadioButton:$0,CheckBox:Xx,TextField:vd,PasswordField:Kx,Appearance:St},Mt.AcroForm={ChoiceField:R0,ListBox:L0,ComboBox:B0,EditBox:Gx,Button:$a,PushButton:Yx,RadioButton:$0,CheckBox:Xx,TextField:vd,PasswordField:Kx,Appearance:St};var ZDe=Mt.AcroForm;function fz(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,E){var L,B,G,U,W,X=t;if((E=E||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(S(O))for(W in r)for(G=r[W],L=0;L<G.length;L+=1){for(U=!0,B=0;B<G[L].length;B+=1)if(G[L][B]!==void 0&&G[L][B]!==O[B]){U=!1;break}if(U===!0){X=W;break}}else for(W in r)for(G=r[W],L=0;L<G.length;L+=1){for(U=!0,B=0;B<G[L].length;B+=1)if(G[L][B]!==void 0&&G[L][B]!==O.charCodeAt(B)){U=!1;break}if(U===!0){X=W;break}}return X===t&&E!==t&&(X=E),X},a=function O(E){for(var L=this.internal.write,B=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:E.width}),U.push({key:"Height",value:E.height}),E.colorSpace===g.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===g.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var W="",X=0,q=E.transparency.length;X<q;X++)W+=E.transparency[X]+" "+E.transparency[X]+" ";U.push({key:"Mask",value:"["+W+"]"})}E.sMask!==void 0&&U.push({key:"SMask",value:E.objectId+1+" 0 R"});var le=E.filter!==void 0?["/"+E.filter]:void 0;if(B({data:E.data,additionalKeyValues:U,alreadyAppliedFilters:le,objectId:E.objectId}),L("endobj"),"sMask"in E&&E.sMask!==void 0){var se="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,I={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:se,data:E.sMask};"filter"in E&&(I.filter=E.filter),O.call(this,I)}if(E.colorSpace===g.INDEXED){var P=this.internal.newObject();B({data:A(new Uint8Array(E.palette)),objectId:P}),L("endobj")}},i=function(){var O=this.internal.collections.addImage_images;for(var E in O)a.call(this,O[E])},o=function(){var O,E=this.internal.collections.addImage_images,L=this.internal.write;for(var B in E)L("/I"+(O=E[B]).index,O.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var O=this.internal.collections.addImage_images;return l.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(O){return typeof e["process"+O.toUpperCase()]=="function"},f=function(O){return tn(O)==="object"&&O.nodeType===1},h=function(O,E){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var L=""+O.getAttribute("src");if(L.indexOf("data:image/")===0)return qx(unescape(L).split("base64,").pop());var B=e.loadFile(L,!0);if(B!==void 0)return B}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var G;switch(E){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return qx(O.toDataURL(G,1).split("base64,").pop())}},p=function(O){var E=this.internal.collections.addImage_images;if(E){for(var L in E)if(O===E[L].alias)return E[L]}},m=function(O,E,L){return O||E||(O=-96,E=-96),O<0&&(O=-1*L.width*72/O/this.internal.scaleFactor),E<0&&(E=-1*L.height*72/E/this.internal.scaleFactor),O===0&&(O=E*L.width/L.height),E===0&&(E=O*L.height/L.width),[O,E]},x=function(O,E,L,B,G,U){var W=m.call(this,L,B,G),X=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,le=c.call(this);if(L=W[0],B=W[1],le[G.index]=G,U){U*=Math.PI/180;var se=Math.cos(U),I=Math.sin(U),P=function(z){return z.toFixed(4)},M=[P(se),P(I),P(-1*I),P(se),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,X(O),q(E+B),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([X(L),"0","0",X(B),"0","0","cm"].join(" "))):this.internal.write([X(L),"0","0",X(B),X(O),q(E+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(O){var E,L,B=0;if(typeof O=="string")for(L=O.length,E=0;E<L;E++)B=(B<<5)-B+O.charCodeAt(E),B|=0;else if(S(O))for(L=O.byteLength/2,E=0;E<L;E++)B=(B<<5)-B+O[E],B|=0;return B},y=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var E=!0;return O.length===0&&(E=!1),O.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(E=!1),E},w=e.__addimage__.extractImageFromDataUrl=function(O){var E=(O=O||"").split("base64,"),L=null;if(E.length===2){var B=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(B)&&(L={mimeType:B[1],charset:B[2],data:E[1]})}return L},N=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return N()&&O instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(O){return N()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(O){for(var E=O.length,L=new Uint8Array(E),B=0;B<E;B++)L[B]=O.charCodeAt(B);return L},A=e.__addimage__.arrayBufferToBinaryString=function(O){for(var E="",L=S(O)?O:new Uint8Array(O),B=0;B<L.length;B+=8192)E+=String.fromCharCode.apply(null,L.subarray(B,B+8192));return E};e.addImage=function(){var O,E,L,B,G,U,W,X,q;if(typeof arguments[1]=="number"?(E=t,L=arguments[1],B=arguments[2],G=arguments[3],U=arguments[4],W=arguments[5],X=arguments[6],q=arguments[7]):(E=arguments[1],L=arguments[2],B=arguments[3],G=arguments[4],U=arguments[5],W=arguments[6],X=arguments[7],q=arguments[8]),tn(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var le=O;O=le.imageData,E=le.format||E||t,L=le.x||L||0,B=le.y||B||0,G=le.w||le.width||G,U=le.h||le.height||U,W=le.alias||W,X=le.compression||X,q=le.rotation||le.angle||q}var se=this.internal.getFilters();if(X===void 0&&se.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(L)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=T.call(this,O,E,W,X);return x.call(this,L,B,G,U,I,q),this};var T=function(O,E,L,B){var G,U,W;if(typeof O=="string"&&n(O)===t){O=unescape(O);var X=R(O,!1);(X!==""||(X=e.loadFile(O,!0))!==void 0)&&(O=X)}if(f(O)&&(O=h(O,E)),E=n(O,E),!d(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((W=L)==null||W.length===0)&&(L=function(q){return typeof q=="string"||S(q)?b(q):S(q.data)?b(q.data):null}(O)),(G=p.call(this,L))||(N()&&(O instanceof Uint8Array||E==="RGBA"||(U=O,O=j(O))),G=this["process"+E.toUpperCase()](O,u.call(this),L,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:v.NONE}(B),U)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},R=e.__addimage__.convertBase64ToBinaryString=function(O,E){var L;E=typeof E!="boolean"||E;var B,G="";if(typeof O=="string"){B=(L=w(O))!==null?L.data:O;try{G=qx(B)}catch(U){if(E)throw y(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(O){var E,L,B="";if(f(O)&&(O=h(O)),typeof O=="string"&&n(O)===t&&((B=R(O,!1))===""&&(B=e.loadFile(O)||""),O=B),L=n(O),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!N()||O instanceof Uint8Array||(O=j(O)),!(E=this["process"+L.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=L,E}})(Mt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Mt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(v(b))+") >>",x.content=i;var y=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(x.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var S=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Mt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(x){var g=0,v=r,b="",y=0;for(g=0;g<x.length;g+=1)v[x.charCodeAt(g)]!==void 0?(y++,typeof(v=v[x.charCodeAt(g)])=="number"&&(b+=String.fromCharCode(v),v=r,y=0),g===x.length-1&&(v=r,b+=x.charAt(g-(y-1)),g-=y-1,y=0)):(v=r,b+=x.charAt(g-y),g-=y,y=0);return b};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(x,g,v){return o(x)?i(x)===!1?-1:!u(x)||!o(g)&&!o(v)||!o(v)&&l(g)||l(x)&&!o(g)||l(x)&&c(g)||l(x)&&l(g)?0:d(x)&&o(g)&&!l(g)&&o(v)&&u(v)?3:l(x)||!o(v)?1:2:-1},p=function(x){var g=0,v=0,b=0,y="",w="",N="",S=(x=x||"").split("\\s+"),j=[];for(g=0;g<S.length;g+=1){for(j.push(""),v=0;v<S[g].length;v+=1)y=S[g][v],w=S[g][v-1],N=S[g][v+1],o(y)?(b=h(y,w,N),j[g]+=b!==-1?String.fromCharCode(t[y.charCodeAt(0)][b]):y):j[g]+=y;j[g]=f(j[g])}return j.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var x,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(g)){var b=0;for(v=[],b=0;b<g.length;b+=1)Array.isArray(g[b])?v.push([p(g[b][0]),g[b][1],g[b][2]]):v.push([p(g[b])]);x=v}else x=p(g);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",m])}(Mt.API),Mt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Mt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(x){m=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,m=0,x=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,w){return y.concat(g.splitTextToSize(w,v))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)p<(x=this.getStringUnitWidth(c[b],{font:f})*d)&&(p=x);return p!==0&&(m=c.length),{w:p/=h,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,m,x,g,v=[],b=[],y=[],w={},N={},S=[],j=[],A=(h=h||{}).autoSize||!1,T=h.printHeaders!==!1,R=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},t),E=typeof h.padding=="number"?h.padding:3,L=h.headerBackgroundColor||"#c8c8c8",B=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=B,this.setFontSize(R),f==null)b=v=Object.keys(d[0]),y=v.map(function(){return"left"});else if(Array.isArray(f)&&tn(f[0])==="object")for(v=f.map(function(le){return le.name}),b=f.map(function(le){return le.prompt||le.name||""}),y=f.map(function(le){return le.align||"left"}),p=0;p<f.length;p+=1)N[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,y=v.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(w[g=v[p]]=d.map(function(le){return le[g]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=w[g],this.setFont(void 0,"normal"),x=0;x<m.length;x+=1)S.push(this.getTextDimensions(m[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[g]=Math.max.apply(null,S)+E+E,S=[]}if(T){var G={};for(p=0;p<v.length;p+=1)G[v[p]]={},G[v[p]].text=b[p],G[v[p]].align=y[p];var U=l.call(this,G,N);j=v.map(function(le){return new i(c,u,N[le],U,G[le].text,void 0,G[le].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var W=f.reduce(function(le,se){return le[se.name]=se.align,le},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var X=l.call(this,d[p],N);for(x=0;x<v.length;x+=1){var q=d[p][v[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:x,data:q},this),o.call(this,new i(c,u,N[v[x]],X,q,p+2,W[v[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var m=c[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,m){return Math.max(p,m)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Mt.API);var hz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zj=fz(pz),mz=[100,200,300,400,500,600,700,800,900],eIe=fz(mz);function Uj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return hz[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof zj[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function TD(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var tIe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},OD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function rIe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},tIe,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=Uj(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+PD(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=zj[c],f=d<=zj.normal?-1:1,h=TD(u,pz,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=hz[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=eIe[c],f=TD(u,mz,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+PD(i)+"'.");return o}function DD(e){return e.trimLeft()}function nIe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function aIe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var w2,ID,MD,z4=["times"];(function(e){var t,r,n,a,i,o,l,c,u,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=I;Object.defineProperty(this,"pdf",{get:function(){return P}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(pe){M=!!pe}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(pe){z=!!pe}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(pe){isNaN(pe)||(Y=pe)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(pe){isNaN(pe)||(ae=pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(pe){var re;typeof pe=="number"?re=[pe,pe,pe,pe]:((re=new Array(4))[0]=pe[0],re[1]=pe.length>=2?pe[1]:re[0],re[2]=pe.length>=3?pe[2]:re[0],re[3]=pe.length>=4?pe[3]:re[1]),u.margin=re}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(pe){ue=pe}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(pe){ne=pe}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(pe){_e=pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(pe){pe instanceof d&&(u=pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(pe){u.path=pe}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(pe){Ce=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var re;re=h(pe),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var re=h(pe);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var V=null;function Me(pe,re){if(V===null){var Oe=function(oe){var de=[];return Object.keys(oe).forEach(function(ye){oe[ye].forEach(function(Ie){var Ne=null;switch(Ie){case"bold":Ne={family:ye,weight:"bold"};break;case"italic":Ne={family:ye,style:"italic"};break;case"bolditalic":Ne={family:ye,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:ye}}Ne!==null&&(Ne.ref={name:ye,style:Ie},de.push(Ne))})}),de}(pe.getFontList());V=function(oe){for(var de={},ye=0;ye<oe.length;++ye){var Ie=Uj(oe[ye]),Ne=Ie.family,Pe=Ie.stretch,Xe=Ie.style,tt=Ie.weight;de[Ne]=de[Ne]||{},de[Ne][Pe]=de[Ne][Pe]||{},de[Ne][Pe][Xe]=de[Ne][Pe][Xe]||{},de[Ne][Pe][Xe][tt]=Ie}return de}(Oe.concat(re))}return V}var Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(pe){V=null,Ae=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var re;if(this.ctx.font=pe,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var Oe=re[1],oe=(re[2],re[3]),de=re[4],ye=(re[5],re[6]),Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(de)[2];de=Math.floor(Ie==="px"?parseFloat(de)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(de)*this.pdf.getFontSize():parseFloat(de)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(de);var Ne=function(kt){var ft,it,Fr=[],Dt=kt.trim();if(Dt==="")return z4;if(Dt in OD)return[OD[Dt]];for(;Dt!=="";){switch(it=null,ft=(Dt=DD(Dt)).charAt(0)){case'"':case"'":it=nIe(Dt.substring(1),ft);break;default:it=aIe(Dt)}if(it===null||(Fr.push(it[0]),(Dt=DD(it[1]))!==""&&Dt.charAt(0)!==","))return z4;Dt=Dt.replace(/^,/,"")}return Fr}(ye);if(this.fontFaces){var Pe=rIe(Me(this.pdf,this.fontFaces),Ne.map(function(kt){return{family:kt,stretch:"normal",weight:oe,style:Oe}}));this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var Xe="";(oe==="bold"||parseInt(oe,10)>=700||Oe==="bold")&&(Xe="bold"),Oe==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var tt="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<Ne.length;Nt++){if(this.pdf.internal.getFont(Ne[Nt],Xe,{noFallback:!0,disableWarning:!0})!==void 0){tt=Ne[Nt];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(Ne[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=Ne[Nt],Xe="bold";else if(this.pdf.internal.getFont(Ne[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=Ne[Nt],Xe="normal";break}}if(tt===""){for(var Pt=0;Pt<Ne.length;Pt++)if(gt[Ne[Pt]]){tt=gt[Ne[Pt]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,P){if(isNaN(I)||isNaN(P))throw mn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new o(I,P));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new o(I,P)},f.prototype.closePath=function(){var I=new o(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&tn(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){I=new o(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},f.prototype.lineTo=function(I,P){if(isNaN(I)||isNaN(P))throw mn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new o(I,P));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new o(M.x,M.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,P,M,z){if(isNaN(M)||isNaN(z)||isNaN(I)||isNaN(P))throw mn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new o(M,z)),ae=this.ctx.transform.applyToPoint(new o(I,P));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},f.prototype.bezierCurveTo=function(I,P,M,z,Y,ae){if(isNaN(Y)||isNaN(ae)||isNaN(I)||isNaN(P)||isNaN(M)||isNaN(z))throw mn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(Y,ae)),ne=this.ctx.transform.applyToPoint(new o(I,P)),_e=this.ctx.transform.applyToPoint(new o(M,z));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:_e.x,y2:_e.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.arc=function(I,P,M,z,Y,ae){if(isNaN(I)||isNaN(P)||isNaN(M)||isNaN(z)||isNaN(Y))throw mn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(I,P));I=ue.x,P=ue.y;var ne=this.ctx.transform.applyToPoint(new o(0,M)),_e=this.ctx.transform.applyToPoint(new o(0,0));M=Math.sqrt(Math.pow(ne.x-_e.x,2)+Math.pow(ne.y-_e.y,2))}Math.abs(Y-z)>=2*Math.PI&&(z=0,Y=2*Math.PI),this.path.push({type:"arc",x:I,y:P,radius:M,startAngle:z,endAngle:Y,counterclockwise:ae})},f.prototype.arcTo=function(I,P,M,z,Y){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,P,M,z){if(isNaN(I)||isNaN(P)||isNaN(M)||isNaN(z))throw mn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,P),this.lineTo(I+M,P),this.lineTo(I+M,P+z),this.lineTo(I,P+z),this.lineTo(I,P),this.lineTo(I+M,P),this.lineTo(I,P)},f.prototype.fillRect=function(I,P,M,z){if(isNaN(I)||isNaN(P)||isNaN(M)||isNaN(z))throw mn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,P,M,z),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},f.prototype.strokeRect=function(I,P,M,z){if(isNaN(I)||isNaN(P)||isNaN(M)||isNaN(z))throw mn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(I,P,M,z),this.stroke())},f.prototype.clearRect=function(I,P,M,z){if(isNaN(I)||isNaN(P)||isNaN(M)||isNaN(z))throw mn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,P,M,z))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(P),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(I){var P,M,z,Y;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))P=0,M=0,z=0,Y=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ae!==null)P=parseInt(ae[1]),M=parseInt(ae[2]),z=parseInt(ae[3]),Y=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)P=parseInt(ae[1]),M=parseInt(ae[2]),z=parseInt(ae[3]),Y=parseFloat(ae[4]);else{if(Y=1,typeof I=="string"&&I.charAt(0)!=="#"){var ue=new sz(I);I=ue.ok?ue.toHex():"#000000"}I.length===4?(P=I.substring(1,2),P+=P,M=I.substring(2,3),M+=M,z=I.substring(3,4),z+=z):(P=I.substring(1,3),M=I.substring(3,5),z=I.substring(5,7)),P=parseInt(P,16),M=parseInt(M,16),z=parseInt(z,16)}}return{r:P,g:M,b:z,a:Y,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,P,M,z){if(isNaN(P)||isNaN(M)||typeof I!="string")throw mn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!p.call(this)){var Y=X(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;E.call(this,{text:I,x:P,y:M,scale:ae,angle:Y,align:this.textAlign,maxWidth:z})}},f.prototype.strokeText=function(I,P,M,z){if(isNaN(P)||isNaN(M)||typeof I!="string")throw mn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){z=isNaN(z)?void 0:z;var Y=X(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;E.call(this,{text:I,x:P,y:M,scale:ae,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:z})}},f.prototype.measureText=function(I){if(typeof I!="string")throw mn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,M=this.pdf.internal.scaleFactor,z=P.internal.getFontSize(),Y=P.getStringUnitWidth(I)*z/P.internal.scaleFactor,ae=function(ue){var ne=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new ae({width:Y*=Math.round(96*M/72*1e4)/1e4})},f.prototype.scale=function(I,P){if(isNaN(I)||isNaN(P))throw mn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new c(I,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},f.prototype.rotate=function(I){if(isNaN(I))throw mn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},f.prototype.translate=function(I,P){if(isNaN(I)||isNaN(P))throw mn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new c(1,0,0,1,I,P);this.ctx.transform=this.ctx.transform.multiply(M)},f.prototype.transform=function(I,P,M,z,Y,ae){if(isNaN(I)||isNaN(P)||isNaN(M)||isNaN(z)||isNaN(Y)||isNaN(ae))throw mn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(I,P,M,z,Y,ae);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(I,P,M,z,Y,ae){I=isNaN(I)?1:I,P=isNaN(P)?0:P,M=isNaN(M)?0:M,z=isNaN(z)?1:z,Y=isNaN(Y)?0:Y,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(I,P,M,z,Y,ae)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,P,M,z,Y,ae,ue,ne,_e){var Ce=this.pdf.getImageProperties(I),V=1,Me=1,Ae=1,pe=1;z!==void 0&&ne!==void 0&&(Ae=ne/z,pe=_e/Y,V=Ce.width/z*ne/z,Me=Ce.height/Y*_e/Y),ae===void 0&&(ae=P,ue=M,P=0,M=0),z!==void 0&&ne===void 0&&(ne=z,_e=Y),z===void 0&&ne===void 0&&(ne=Ce.width,_e=Ce.height);for(var re,Oe=this.ctx.transform.decompose(),oe=X(Oe.rotate.shx),de=new c,ye=(de=(de=(de=de.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new l(ae-P*Ae,ue-M*pe,z*V,Y*Me)),Ie=g.call(this,ye),Ne=[],Pe=0;Pe<Ie.length;Pe+=1)Ne.indexOf(Ie[Pe])===-1&&Ne.push(Ie[Pe]);if(y(Ne),this.autoPaging)for(var Xe=Ne[0],tt=Ne[Ne.length-1],gt=Xe;gt<tt+1;gt++){this.pdf.setPage(gt);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=gt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=gt===1?0:kt+(gt-2)*ft;if(this.ctx.clip_path.length!==0){var Fr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(re,this.posX+this.margin[3],-it+Pt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Fr}var Dt=JSON.parse(JSON.stringify(ye));Dt=b([Dt],this.posX+this.margin[3],-it+Pt+this.ctx.prevPageLastElemOffset)[0];var sa=(gt>Xe||gt<tt)&&x.call(this);sa&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,ft,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,oe),sa&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,oe)};var g=function(I,P,M){var z=[];P=P||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":z.push(Math.floor((I.y+Y)/M)+1);break;case"arc":z.push(Math.floor((I.y+Y-I.radius)/M)+1),z.push(Math.floor((I.y+Y+I.radius)/M)+1);break;case"qct":var ae=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);z.push(Math.floor((ae.y+Y)/M)+1),z.push(Math.floor((ae.y+ae.h+Y)/M)+1);break;case"bct":var ue=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);z.push(Math.floor((ue.y+Y)/M)+1),z.push(Math.floor((ue.y+ue.h+Y)/M)+1);break;case"rect":z.push(Math.floor((I.y+Y)/M)+1),z.push(Math.floor((I.y+I.h+Y)/M)+1)}for(var ne=0;ne<z.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<z[ne];)v.call(this);return z},v=function(){var I=this.fillStyle,P=this.strokeStyle,M=this.font,z=this.lineCap,Y=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=P,this.font=M,this.lineCap=z,this.lineWidth=Y,this.lineJoin=ae},b=function(I,P,M){for(var z=0;z<I.length;z++)switch(I[z].type){case"bct":I[z].x2+=P,I[z].y2+=M;case"qct":I[z].x1+=P,I[z].y1+=M;case"mt":case"lt":case"arc":default:I[z].x+=P,I[z].y+=M}return I},y=function(I){return I.sort(function(P,M){return P-M})},w=function(I,P){for(var M,z,Y=this.fillStyle,ae=this.strokeStyle,ue=this.lineCap,ne=this.lineWidth,_e=Math.abs(ne*this.ctx.transform.scaleX),Ce=this.lineJoin,V=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Ae=[],pe=0;pe<Me.length;pe++)if(Me[pe].x!==void 0)for(var re=g.call(this,Me[pe]),Oe=0;Oe<re.length;Oe+=1)Ae.indexOf(re[Oe])===-1&&Ae.push(re[Oe]);for(var oe=0;oe<Ae.length;oe++)for(;this.pdf.internal.getNumberOfPages()<Ae[oe];)v.call(this);if(y(Ae),this.autoPaging)for(var de=Ae[0],ye=Ae[Ae.length-1],Ie=de;Ie<ye+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=Y,this.strokeStyle=ae,this.lineCap=ue,this.lineWidth=_e,this.lineJoin=Ce;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=Ie===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Ie===1?0:Xe+(Ie-2)*tt;if(this.ctx.clip_path.length!==0){var Nt=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(M,this.posX+this.margin[3],-gt+Pe+this.ctx.prevPageLastElemOffset),N.call(this,I,!0),this.path=Nt}if(z=JSON.parse(JSON.stringify(V)),this.path=b(z,this.posX+this.margin[3],-gt+Pe+this.ctx.prevPageLastElemOffset),P===!1||Ie===0){var Pt=(Ie>de||Ie<ye)&&x.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,tt,null).clip().discardPath()),N.call(this,I,P),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=_e,N.call(this,I,P),this.lineWidth=ne;this.path=V},N=function(I,P){if((I!=="stroke"||P||!m.call(this))&&(I==="stroke"||P||!p.call(this))){for(var M,z,Y=[],ae=this.path,ue=0;ue<ae.length;ue++){var ne=ae[ue];switch(ne.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:ne,deltas:[],abs:[]});break;case"lt":var _e=Y.length;if(ae[ue-1]&&!isNaN(ae[ue-1].x)&&(M=[ne.x-ae[ue-1].x,ne.y-ae[ue-1].y],_e>0)){for(;_e>=0;_e--)if(Y[_e-1].close!==!0&&Y[_e-1].begin!==!0){Y[_e-1].deltas.push(M),Y[_e-1].abs.push(ne);break}}break;case"bct":M=[ne.x1-ae[ue-1].x,ne.y1-ae[ue-1].y,ne.x2-ae[ue-1].x,ne.y2-ae[ue-1].y,ne.x-ae[ue-1].x,ne.y-ae[ue-1].y],Y[Y.length-1].deltas.push(M);break;case"qct":var Ce=ae[ue-1].x+2/3*(ne.x1-ae[ue-1].x),V=ae[ue-1].y+2/3*(ne.y1-ae[ue-1].y),Me=ne.x+2/3*(ne.x1-ne.x),Ae=ne.y+2/3*(ne.y1-ne.y),pe=ne.x,re=ne.y;M=[Ce-ae[ue-1].x,V-ae[ue-1].y,Me-ae[ue-1].x,Ae-ae[ue-1].y,pe-ae[ue-1].x,re-ae[ue-1].y],Y[Y.length-1].deltas.push(M);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(ne)}}z=P?null:I==="stroke"?"stroke":"fill";for(var Oe=!1,oe=0;oe<Y.length;oe++)if(Y[oe].arc)for(var de=Y[oe].abs,ye=0;ye<de.length;ye++){var Ie=de[ye];Ie.type==="arc"?A.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,P,!Oe):L.call(this,Ie.x,Ie.y),Oe=!0}else if(Y[oe].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(Y[oe].begin!==!0){var Ne=Y[oe].start.x,Pe=Y[oe].start.y;B.call(this,Y[oe].deltas,Ne,Pe),Oe=!0}z&&T.call(this,z),P&&R.call(this)}},S=function(I){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-M;case"top":return I+P-M;case"hanging":return I+P-2*M;case"middle":return I+P/2-M;case"ideographic":return I;case"alphabetic":default:return I}},j=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(P,M){this.colorStops.push([P,M])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(I,P,M,z,Y,ae,ue,ne,_e){for(var Ce=U.call(this,M,z,Y,ae),V=0;V<Ce.length;V++){var Me=Ce[V];V===0&&(_e?O.call(this,Me.x1+I,Me.y1+P):L.call(this,Me.x1+I,Me.y1+P)),G.call(this,I,P,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}ne?R.call(this):T.call(this,ue)},T=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(I,P){this.pdf.internal.out(r(I)+" "+n(P)+" m")},E=function(I){var P;switch(I.align){case"right":case"end":P="right";break;case"center":P="center";break;case"left":case"start":default:P="left"}var M=this.pdf.getTextDimensions(I.text),z=S.call(this,I.y),Y=j.call(this,z)-M.h,ae=this.ctx.transform.applyToPoint(new o(I.x,z)),ue=this.ctx.transform.decompose(),ne=new c;ne=(ne=(ne=ne.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var _e,Ce,V,Me=this.ctx.transform.applyToRectangle(new l(I.x,z,M.w,M.h)),Ae=ne.applyToRectangle(new l(I.x,Y,M.w,M.h)),pe=g.call(this,Ae),re=[],Oe=0;Oe<pe.length;Oe+=1)re.indexOf(pe[Oe])===-1&&re.push(pe[Oe]);if(y(re),this.autoPaging)for(var oe=re[0],de=re[re.length-1],ye=oe;ye<de+1;ye++){this.pdf.setPage(ye);var Ie=ye===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],Xe=Pe-this.margin[0],tt=this.pdf.internal.pageSize.width-this.margin[1],gt=tt-this.margin[3],Nt=ye===1?0:Ne+(ye-2)*Xe;if(this.ctx.clip_path.length!==0){var Pt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(_e,this.posX+this.margin[3],-1*Nt+Ie),N.call(this,"fill",!0),this.path=Pt}var kt=b([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-Nt+Ie+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*I.scale),V=this.lineWidth,this.lineWidth=V*I.scale);var ft=this.autoPaging!=="text";if(ft||kt.y+kt.h<=Pe){if(ft||kt.y>=Ie&&kt.x<=tt){var it=ft?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||tt-kt.x)[0],Fr=b([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-Nt+Ie+this.ctx.prevPageLastElemOffset)[0],Dt=ft&&(ye>oe||ye<de)&&x.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Xe,null).clip().discardPath()),this.pdf.text(it,Fr.x,Fr.y,{angle:I.angle,align:P,renderingMode:I.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else kt.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-kt.y);I.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=V)}else I.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*I.scale),V=this.lineWidth,this.lineWidth=V*I.scale),this.pdf.text(I.text,ae.x+this.posX,ae.y+this.posY,{angle:I.angle,align:P,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=V)},L=function(I,P,M,z){M=M||0,z=z||0,this.pdf.internal.out(r(I+M)+" "+n(P+z)+" l")},B=function(I,P,M){return this.pdf.lines(I,P,M,null,null)},G=function(I,P,M,z,Y,ae,ue,ne){this.pdf.internal.out([t(a(M+I)),t(i(z+P)),t(a(Y+I)),t(i(ae+P)),t(a(ue+I)),t(i(ne+P)),"c"].join(" "))},U=function(I,P,M,z){for(var Y=2*Math.PI,ae=Math.PI/2;P>M;)P-=Y;var ue=Math.abs(M-P);ue<Y&&z&&(ue=Y-ue);for(var ne=[],_e=z?-1:1,Ce=P;ue>1e-5;){var V=Ce+_e*Math.min(ue,ae);ne.push(W.call(this,I,Ce,V)),ue-=Math.abs(V-Ce),Ce=V}return ne},W=function(I,P,M){var z=(M-P)/2,Y=I*Math.cos(z),ae=I*Math.sin(z),ue=Y,ne=-ae,_e=ue*ue+ne*ne,Ce=_e+ue*Y+ne*ae,V=4/3*(Math.sqrt(2*_e*Ce)-Ce)/(ue*ae-ne*Y),Me=ue-V*ne,Ae=ne+V*ue,pe=Me,re=-Ae,Oe=z+P,oe=Math.cos(Oe),de=Math.sin(Oe);return{x1:I*Math.cos(P),y1:I*Math.sin(P),x2:Me*oe-Ae*de,y2:Me*de+Ae*oe,x3:pe*oe-re*de,y3:pe*de+re*oe,x4:I*Math.cos(M),y4:I*Math.sin(M)}},X=function(I){return 180*I/Math.PI},q=function(I,P,M,z,Y,ae){var ue=I+.5*(M-I),ne=P+.5*(z-P),_e=Y+.5*(M-Y),Ce=ae+.5*(z-ae),V=Math.min(I,Y,ue,_e),Me=Math.max(I,Y,ue,_e),Ae=Math.min(P,ae,ne,Ce),pe=Math.max(P,ae,ne,Ce);return new l(V,Ae,Me-V,pe-Ae)},le=function(I,P,M,z,Y,ae,ue,ne){var _e,Ce,V,Me,Ae,pe,re,Oe,oe,de,ye,Ie,Ne,Pe,Xe=M-I,tt=z-P,gt=Y-M,Nt=ae-z,Pt=ue-Y,kt=ne-ae;for(Ce=0;Ce<41;Ce++)oe=(re=(V=I+(_e=Ce/40)*Xe)+_e*((Ae=M+_e*gt)-V))+_e*(Ae+_e*(Y+_e*Pt-Ae)-re),de=(Oe=(Me=P+_e*tt)+_e*((pe=z+_e*Nt)-Me))+_e*(pe+_e*(ae+_e*kt-pe)-Oe),Ce==0?(ye=oe,Ie=de,Ne=oe,Pe=de):(ye=Math.min(ye,oe),Ie=Math.min(Ie,de),Ne=Math.max(Ne,oe),Pe=Math.max(Pe,de));return new l(Math.round(ye),Math.round(Ie),Math.round(Ne-ye),Math.round(Pe-Ie))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,P,M=(I=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:P}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(Mt.API),function(e){var t=function(i){var o,l,c,u,d,f,h,p,m,x;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(x=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,m+33,x+33)):l.push(122);return function(g,v){for(var b=v;b>0;b--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,f=String,h="length",p=255,m="charCodeAt",x="slice",g="replace";for(i[x](-2),i=i[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[x](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[m](u)-33)+614125*(i[m](u+1)-33)+7225*(i[m](u+2)-33)+85*(i[m](u+3)-33)+(i[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(v,b){for(var y=b;y>0;y--)v.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=Fj(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Mt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(m){var x=m.length,g=[],v=String.fromCharCode;for(h=0;h<x;h+=1)g.push(v(255&m.charCodeAt(h)));return g.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Mt.API),function(e){function t(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):fc(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):fc(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=tn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],m=p.src.find(function(x){return x.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Mt.getPageSize=function(o,l,c){if(tn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,x=0;if(h.hasOwnProperty(f))m=h[f][1]/d,x=h[f][0]/d;else try{m=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>m&&(p=x,x=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>x&&(p=x,x=m,m=p)}return{width:x,height:m,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Uj):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(Mt.API),Mt.API.addJS=function(e){return MD=e,this.internal.events.subscribe("postPutResources",function(){w2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(w2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ID=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+MD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){w2!==void 0&&ID!==void 0&&this.internal.out("/Names <</JavaScript "+w2+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Mt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,x={width:0,height:0,numcomponents:1},g=4;g<m;g+=2){if(g+=p,t.indexOf(f.charCodeAt(g+1))!==-1){h=256*f.charCodeAt(g+5)+f.charCodeAt(g+6),x={width:256*f.charCodeAt(g+7)+f.charCodeAt(g+8),height:h,numcomponents:f.charCodeAt(g+9)};break}p=256*f.charCodeAt(g+2)+f.charCodeAt(g+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Mt.API);var fh,_2,FD,RD,LD,iIe=function(){var e,t,r;function n(i){var o,l,c,u,d,f,h,p,m,x,g,v,b,y;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),m=(function(){var w,N;for(N=[],w=0;w<4;++w)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(b=0;0<=x?b<x:b>x;0<=x?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(g=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,g.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,g.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,m){var x,g,v,b,y,w,N,S,j,A,T,R,O,E,L,B,G,U,W,X,q,le=Math.ceil((u.width-f)/p),se=Math.ceil((u.height-h)/m),I=u.width==le&&u.height==se;for(E=o*le,R=I?l:new Uint8Array(E*se),w=i.length,O=0,g=0;O<se&&c<w;){switch(i[c++]){case 0:for(b=G=0;G<E;b=G+=1)R[g++]=i[c++];break;case 1:for(b=U=0;U<E;b=U+=1)x=i[c++],y=b<o?0:R[g-o],R[g++]=(x+y)%256;break;case 2:for(b=W=0;W<E;b=W+=1)x=i[c++],v=(b-b%o)/o,L=O&&R[(O-1)*E+v*o+b%o],R[g++]=(L+x)%256;break;case 3:for(b=X=0;X<E;b=X+=1)x=i[c++],v=(b-b%o)/o,y=b<o?0:R[g-o],L=O&&R[(O-1)*E+v*o+b%o],R[g++]=(x+Math.floor((y+L)/2))%256;break;case 4:for(b=q=0;q<E;b=q+=1)x=i[c++],v=(b-b%o)/o,y=b<o?0:R[g-o],O===0?L=B=0:(L=R[(O-1)*E+v*o+b%o],B=v&&R[(O-1)*E+(v-1)*o+b%o]),N=y+L-B,S=Math.abs(N-y),A=Math.abs(N-L),T=Math.abs(N-B),j=S<=A&&S<=T?y:A<=T?L:B,R[g++]=(x+j)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!I){var P=((h+O*m)*u.width+f)*o,M=O*E;for(b=0;b<le;b+=1){for(var z=0;z<o;z+=1)l[P++]=R[M++];P+=(p-1)*o}}O++}}return i=FDe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,d,f,h,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=f=0,h=l.length;f<h;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,d,f,h,p,m,x,g,v;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,l=!0),m=(u=i.data||i).length,f=x||o,d=h=0,c===1)for(;d<m;)p=x?4*o[d/4]:h,g=f[p++],u[d++]=g,u[d++]=g,u[d++]=g,u[d++]=l?f[p++]:255,h=p;else for(;d<m;)p=x?4*o[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Vt)==="[object Window]"){try{t=Vt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,d,f,h,p;if(this.animation){for(p=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)o=h[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var p,m;if(p=l++%u,m=c[p],h.renderFrame(i,p),u>1&&l/u<d)return h.animation._timeout=setTimeout(o,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function sIe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,p=0,m=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&x)&&(h=null),p=x>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++],N=w>>6&1,S=1<<(7&w)+1,j=l,A=c,T=!1;w>>7&&(T=!0,j=t,A=S,t+=3*S);var R=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}d.push({x:g,y:v,width:b,height:y,has_local_palette:T,palette_offset:j,palette_size:A,data_offset:R,data_length:t-R,transparent_index:h,interlaced:!!N,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,L){var B=this.frameInfo(E),G=B.width*B.height,U=new Uint8Array(G);BD(e,B.data_offset,U,G);var W=B.palette_offset,X=B.transparent_index;X===null&&(X=256);var q=B.width,le=r-q,se=q,I=4*(B.y*r+B.x),P=4*((B.y+B.height)*r+B.x),M=I,z=4*le;B.interlaced===!0&&(z+=4*r*7);for(var Y=8,ae=0,ue=U.length;ae<ue;++ae){var ne=U[ae];if(se===0&&(se=q,(M+=z)>=P&&(z=4*le+4*r*(Y-1),M=I+(q+le)*(Y<<1),Y>>=1)),ne===X)M+=4;else{var _e=e[W+3*ne],Ce=e[W+3*ne+1],V=e[W+3*ne+2];L[M++]=V,L[M++]=Ce,L[M++]=_e,L[M++]=255}--se}},this.decodeAndBlitFrameRGBA=function(E,L){var B=this.frameInfo(E),G=B.width*B.height,U=new Uint8Array(G);BD(e,B.data_offset,U,G);var W=B.palette_offset,X=B.transparent_index;X===null&&(X=256);var q=B.width,le=r-q,se=q,I=4*(B.y*r+B.x),P=4*((B.y+B.height)*r+B.x),M=I,z=4*le;B.interlaced===!0&&(z+=4*r*7);for(var Y=8,ae=0,ue=U.length;ae<ue;++ae){var ne=U[ae];if(se===0&&(se=q,(M+=z)>=P&&(z=4*le+4*r*(Y-1),M=I+(q+le)*(Y<<1),Y>>=1)),ne===X)M+=4;else{var _e=e[W+3*ne],Ce=e[W+3*ne+1],V=e[W+3*ne+2];L[M++]=_e,L[M++]=Ce,L[M++]=V,L[M++]=255}--se}}}function BD(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],m=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var g=f&u;if(f>>=c,d-=c,g!==i){if(g===o)break;for(var v=g<l?g:x,b=0,y=v;y>i;)y=m[y]>>8,++b;var w=y;if(h+b+(v!==g?1:0)>n)return void mn.log("Warning, gif stream longer than expected.");r[h++]=w;var N=h+=b;for(v!==g&&(r[h++]=w),y=v;b--;)y=m[y],r[--N]=255&y,y>>=8;x!==null&&l<4096&&(m[l++]=x<<8|w,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=g}else l=o+1,u=(1<<(c=a+1))-1,x=null}return h!==n&&mn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U4(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),x=[],g=0,v=7,b=new Array(64),y=new Array(64),w=new Array(64),N=new Array(256),S=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(I,P){for(var M=0,z=0,Y=new Array,ae=1;ae<=16;ae++){for(var ue=1;ue<=I[ae];ue++)Y[P[z]]=[],Y[P[z]][0]=M,Y[P[z]][1]=ae,z++,M++;M*=2}return Y}function W(I){for(var P=I[0],M=I[1]-1;M>=0;)P&1<<M&&(g|=1<<v),M--,--v<0&&(g==255?(X(255),X(0)):X(g),v=7,g=0)}function X(I){x.push(I)}function q(I){X(I>>8&255),X(255&I)}function le(I,P,M,z,Y){for(var ae,ue=Y[0],ne=Y[240],_e=function(de,ye){var Ie,Ne,Pe,Xe,tt,gt,Nt,Pt,kt,ft,it=0;for(kt=0;kt<8;++kt){Ie=de[it],Ne=de[it+1],Pe=de[it+2],Xe=de[it+3],tt=de[it+4],gt=de[it+5],Nt=de[it+6];var Fr=Ie+(Pt=de[it+7]),Dt=Ie-Pt,sa=Ne+Nt,Nr=Ne-Nt,vn=Pe+gt,fo=Pe-gt,jr=Xe+tt,Tl=Xe-tt,En=Fr+jr,Ls=Fr-jr,Zo=sa+vn,fn=sa-vn;de[it]=En+Zo,de[it+4]=En-Zo;var Qt=.707106781*(fn+Ls);de[it+2]=Ls+Qt,de[it+6]=Ls-Qt;var Or=.382683433*((En=Tl+fo)-(fn=Nr+Dt)),Nc=.5411961*En+Or,Ia=1.306562965*fn+Or,ho=.707106781*(Zo=fo+Nr),po=Dt+ho,Bt=Dt-ho;de[it+5]=Bt+Nc,de[it+3]=Bt-Nc,de[it+1]=po+Ia,de[it+7]=po-Ia,it+=8}for(it=0,kt=0;kt<8;++kt){Ie=de[it],Ne=de[it+8],Pe=de[it+16],Xe=de[it+24],tt=de[it+32],gt=de[it+40],Nt=de[it+48];var Bs=Ie+(Pt=de[it+56]),bs=Ie-Pt,Ei=Ne+Nt,oa=Ne-Nt,Gn=Pe+gt,ee=Pe-gt,ve=Xe+tt,fe=Xe-tt,he=Bs+ve,ge=Bs-ve,be=Ei+Gn,Le=Ei-Gn;de[it]=he+be,de[it+32]=he-be;var We=.707106781*(Le+ge);de[it+16]=ge+We,de[it+48]=ge-We;var Re=.382683433*((he=fe+ee)-(Le=oa+bs)),Ue=.5411961*he+Re,He=1.306562965*Le+Re,at=.707106781*(be=ee+oa),ot=bs+at,xt=bs-at;de[it+40]=xt+Ue,de[it+24]=xt-Ue,de[it+8]=ot+He,de[it+56]=ot-He,it++}for(kt=0;kt<64;++kt)ft=de[kt]*ye[kt],p[kt]=ft>0?ft+.5|0:ft-.5|0;return p}(I,P),Ce=0;Ce<64;++Ce)m[j[Ce]]=_e[Ce];var V=m[0]-M;M=m[0],V==0?W(z[0]):(W(z[h[ae=32767+V]]),W(f[ae]));for(var Me=63;Me>0&&m[Me]==0;)Me--;if(Me==0)return W(ue),M;for(var Ae,pe=1;pe<=Me;){for(var re=pe;m[pe]==0&&pe<=Me;)++pe;var Oe=pe-re;if(Oe>=16){Ae=Oe>>4;for(var oe=1;oe<=Ae;++oe)W(ne);Oe&=15}ae=32767+m[pe],W(Y[(Oe<<4)+h[ae]]),W(f[ae]),pe++}return Me!=63&&W(ue),M}function se(I){I=Math.min(Math.max(I,1),100),i!=I&&(function(P){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var Y=o((M[z]*P+50)/100);Y=Math.min(Math.max(Y,1),255),l[j[z]]=Y}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ne=o((ae[ue]*P+50)/100);ne=Math.min(Math.max(ne,1),255),c[j[ue]]=ne}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,V=0;V<8;V++)for(var Me=0;Me<8;Me++)u[Ce]=1/(l[j[Ce]]*_e[V]*_e[Me]*8),d[Ce]=1/(c[j[Ce]]*_e[V]*_e[Me]*8),Ce++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,P){P&&se(P),x=new Array,g=0,v=7,q(65496),q(65504),q(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),q(1),q(1),X(0),X(0),function(){q(65499),q(132),X(0);for(var Ne=0;Ne<64;Ne++)X(l[Ne]);X(1);for(var Pe=0;Pe<64;Pe++)X(c[Pe])}(),function(Ne,Pe){q(65472),q(17),X(8),q(Pe),q(Ne),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(I.width,I.height),function(){q(65476),q(418),X(0);for(var Ne=0;Ne<16;Ne++)X(A[Ne+1]);for(var Pe=0;Pe<=11;Pe++)X(T[Pe]);X(16);for(var Xe=0;Xe<16;Xe++)X(R[Xe+1]);for(var tt=0;tt<=161;tt++)X(O[tt]);X(1);for(var gt=0;gt<16;gt++)X(E[gt+1]);for(var Nt=0;Nt<=11;Nt++)X(L[Nt]);X(17);for(var Pt=0;Pt<16;Pt++)X(B[Pt+1]);for(var kt=0;kt<=161;kt++)X(G[kt])}(),q(65498),q(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var M=0,z=0,Y=0;g=0,v=7,this.encode.displayName="_encode_";for(var ae,ue,ne,_e,Ce,V,Me,Ae,pe,re=I.data,Oe=I.width,oe=I.height,de=4*Oe,ye=0;ye<oe;){for(ae=0;ae<de;){for(Ce=de*ye+ae,Me=-1,Ae=0,pe=0;pe<64;pe++)V=Ce+(Ae=pe>>3)*de+(Me=4*(7&pe)),ye+Ae>=oe&&(V-=de*(ye+1+Ae-oe)),ae+Me>=de&&(V-=ae+Me-de+4),ue=re[V++],ne=re[V++],_e=re[V++],b[pe]=(S[ue]+S[ne+256>>0]+S[_e+512>>0]>>16)-128,y[pe]=(S[ue+768>>0]+S[ne+1024>>0]+S[_e+1280>>0]>>16)-128,w[pe]=(S[ue+1280>>0]+S[ne+1536>>0]+S[_e+1792>>0]>>16)-128;M=le(b,u,M,t,n),z=le(y,d,z,r,a),Y=le(w,d,Y,r,a),ae+=32}ye+=8}if(v>=0){var Ie=[];Ie[1]=v+1,Ie[0]=(1<<v+1)-1,W(Ie)}return q(65497),new Uint8Array(x)},e=e||50,function(){for(var I=String.fromCharCode,P=0;P<256;P++)N[P]=I(P)}(),t=U(A,T),r=U(E,L),n=U(R,O),a=U(B,G),function(){for(var I=1,P=2,M=1;M<=15;M++){for(var z=I;z<P;z++)h[32767+z]=M,f[32767+z]=[],f[32767+z][1]=M,f[32767+z][0]=z;for(var Y=-(P-1);Y<=-I;Y++)h[32767+Y]=M,f[32767+Y]=[],f[32767+Y][1]=M,f[32767+Y][0]=P-1+Y;I<<=1,P<<=1}}(),function(){for(var I=0;I<256;I++)S[I]=19595*I,S[I+256>>0]=38470*I,S[I+512>>0]=7471*I+32768,S[I+768>>0]=-11059*I,S[I+1024>>0]=-21709*I,S[I+1280>>0]=32768*I+8421375,S[I+1536>>0]=-27439*I,S[I+1792>>0]=-5329*I}(),se(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ul(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $D(e){function t(A){if(!A)throw Error("assert :P")}function r(A,T,R){for(var O=0;4>O;O++)if(A[T+O]!=R.charCodeAt(O))return!0;return!1}function n(A,T,R,O,E){for(var L=0;L<E;L++)A[T+L]=R[O+L]}function a(A,T,R,O){for(var E=0;E<O;E++)A[T+E]=R}function i(A){return new Int32Array(A)}function o(A,T){for(var R=[],O=0;O<A;O++)R.push(new T);return R}function l(A,T){var R=[];return function O(E,L,B){for(var G=B[L],U=0;U<G&&(E.push(B.length>L+1?[]:new T),!(B.length<L+1));U++)O(E[U],L+1,B)}(R,0,A),R}var c=function(){var A=this;function T(_,C){for(var F=1<<C-1>>>0;_&F;)F>>>=1;return F?(_&F-1)+F:_}function R(_,C,F,H,Q){t(!(H%F));do _[C+(H-=F)]=Q;while(0<H)}function O(_,C,F,H,Q){if(t(2328>=Q),512>=Q)var Z=i(512);else if((Z=i(Q))==null)return 0;return function(te,ie,ce,xe,Ee,Be){var $e,De,Ze=ie,Ve=1<<ce,ke=i(16),Te=i(16);for(t(Ee!=0),t(xe!=null),t(te!=null),t(0<ce),De=0;De<Ee;++De){if(15<xe[De])return 0;++ke[xe[De]]}if(ke[0]==Ee)return 0;for(Te[1]=0,$e=1;15>$e;++$e){if(ke[$e]>1<<$e)return 0;Te[$e+1]=Te[$e]+ke[$e]}for(De=0;De<Ee;++De)$e=xe[De],0<xe[De]&&(Be[Te[$e]++]=De);if(Te[15]==1)return(xe=new E).g=0,xe.value=Be[0],R(te,Ze,1,Ve,xe),Ve;var Qe,rt=-1,Je=Ve-1,yt=0,ht=1,$t=1,pt=1<<ce;for(De=0,$e=1,Ee=2;$e<=ce;++$e,Ee<<=1){if(ht+=$t<<=1,0>($t-=ke[$e]))return 0;for(;0<ke[$e];--ke[$e])(xe=new E).g=$e,xe.value=Be[De++],R(te,Ze+yt,Ee,pt,xe),yt=T(yt,$e)}for($e=ce+1,Ee=2;15>=$e;++$e,Ee<<=1){if(ht+=$t<<=1,0>($t-=ke[$e]))return 0;for(;0<ke[$e];--ke[$e]){if(xe=new E,(yt&Je)!=rt){for(Ze+=pt,Qe=1<<(rt=$e)-ce;15>rt&&!(0>=(Qe-=ke[rt]));)++rt,Qe<<=1;Ve+=pt=1<<(Qe=rt-ce),te[ie+(rt=yt&Je)].g=Qe+ce,te[ie+rt].value=Ze-ie-rt}xe.g=$e-ce,xe.value=Be[De++],R(te,Ze+(yt>>ce),Ee,pt,xe),yt=T(yt,$e)}}return ht!=2*Te[15]-1?0:Ve}(_,C,F,H,Q,Z)}function E(){this.value=this.g=0}function L(){this.value=this.g=0}function B(){this.G=o(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(xi,L)}function G(_,C,F,H){t(_!=null),t(C!=null),t(2147483648>H),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=C,_.pa=F,_.Jd=C,_.Yc=F+H,_.Zc=4<=H?F+H-4+1:F,ae(_)}function U(_,C){for(var F=0;0<C--;)F|=ne(_,128)<<C;return F}function W(_,C){var F=U(_,C);return ue(_)?-F:F}function X(_,C,F,H){var Q,Z=0;for(t(_!=null),t(C!=null),t(4294967288>H),_.Sb=H,_.Ra=0,_.u=0,_.h=0,4<H&&(H=4),Q=0;Q<H;++Q)Z+=C[F+Q]<<8*Q;_.Ra=Z,_.bb=H,_.oa=C,_.pa=F}function q(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Wf-8>>>0,++_.bb,_.u-=8;M(_)&&(_.h=1,_.u=0)}function le(_,C){if(t(0<=C),!_.h&&C<=Hf){var F=P(_)&Uf[C];return _.u+=C,q(_),F}return _.h=1,_.u=0}function se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function P(_){return _.Ra>>>(_.u&Wf-1)>>>0}function M(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Wf}function z(_,C){_.u=C,_.h=M(_)}function Y(_){_.u>=Fm&&(t(_.u>=Fm),q(_))}function ae(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function ue(_){return U(_,1)}function ne(_,C){var F=_.Ca;0>_.b&&ae(_);var H=_.b,Q=F*C>>>8,Z=(_.I>>>H>Q)+0;for(Z?(F-=Q,_.I-=Q+1<<H>>>0):F=Q+1,H=F,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+ws[H],_.b-=H,_.Ca=(F<<H)-1,Z}function _e(_,C,F){_[C+0]=F>>24&255,_[C+1]=F>>16&255,_[C+2]=F>>8&255,_[C+3]=F>>0&255}function Ce(_,C){return _[C+0]<<0|_[C+1]<<8}function V(_,C){return Ce(_,C)|_[C+2]<<16}function Me(_,C){return Ce(_,C)|Ce(_,C+2)<<16}function Ae(_,C){var F=1<<C;return t(_!=null),t(0<C),_.X=i(F),_.X==null?0:(_.Mb=32-C,_.Xa=C,1)}function pe(_,C){t(_!=null),t(C!=null),t(_.Xa==C.Xa),n(C.X,0,_.X,0,1<<C.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Oe(_,C,F,H){t(F!=null),t(H!=null);var Q=F[0],Z=H[0];return Q==0&&(Q=(_*Z+C/2)/C),Z==0&&(Z=(C*Q+_/2)/_),0>=Q||0>=Z?0:(F[0]=Q,H[0]=Z,1)}function oe(_,C){return _+(1<<C)-1>>>C}function de(_,C){return((4278255360&_)+(4278255360&C)>>>0&4278255360)+((16711935&_)+(16711935&C)>>>0&16711935)>>>0}function ye(_,C){A[C]=function(F,H,Q,Z,te,ie,ce){var xe;for(xe=0;xe<te;++xe){var Ee=A[_](ie[ce+xe-1],Q,Z+xe);ie[ce+xe]=de(F[H+xe],Ee)}}}function Ie(){this.ud=this.hd=this.jd=0}function Ne(_,C){return((4278124286&(_^C))>>>1)+(_&C)>>>0}function Pe(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Xe(_,C){return Pe(_+(_-C+.5>>1))}function tt(_,C,F){return Math.abs(C-F)-Math.abs(_-F)}function gt(_,C,F,H,Q,Z,te){for(H=Z[te-1],F=0;F<Q;++F)Z[te+F]=H=de(_[C+F],H)}function Nt(_,C,F,H,Q){var Z;for(Z=0;Z<F;++Z){var te=_[C+Z],ie=te>>8&255,ce=16711935&(ce=(ce=16711935&te)+((ie<<16)+ie));H[Q+Z]=(4278255360&te)+ce>>>0}}function Pt(_,C){C.jd=_>>0&255,C.hd=_>>8&255,C.ud=_>>16&255}function kt(_,C,F,H,Q,Z){var te;for(te=0;te<H;++te){var ie=C[F+te],ce=ie>>>8,xe=ie,Ee=255&(Ee=(Ee=ie>>>16)+((_.jd<<24>>24)*(ce<<24>>24)>>>5));xe=255&(xe=(xe=xe+((_.hd<<24>>24)*(ce<<24>>24)>>>5))+((_.ud<<24>>24)*(Ee<<24>>24)>>>5)),Q[Z+te]=(4278255360&ie)+(Ee<<16)+xe}}function ft(_,C,F,H,Q){A[C]=function(Z,te,ie,ce,xe,Ee,Be,$e,De){for(ce=Be;ce<$e;++ce)for(Be=0;Be<De;++Be)xe[Ee++]=Q(ie[H(Z[te++])])},A[_]=function(Z,te,ie,ce,xe,Ee,Be){var $e=8>>Z.b,De=Z.Ea,Ze=Z.K[0],Ve=Z.w;if(8>$e)for(Z=(1<<Z.b)-1,Ve=(1<<$e)-1;te<ie;++te){var ke,Te=0;for(ke=0;ke<De;++ke)ke&Z||(Te=H(ce[xe++])),Ee[Be++]=Q(Ze[Te&Ve]),Te>>=$e}else A["VP8LMapColor"+F](ce,xe,Ze,Ve,Ee,Be,te,ie,De)}}function it(_,C,F,H,Q){for(F=C+F;C<F;){var Z=_[C++];H[Q++]=Z>>16&255,H[Q++]=Z>>8&255,H[Q++]=Z>>0&255}}function Fr(_,C,F,H,Q){for(F=C+F;C<F;){var Z=_[C++];H[Q++]=Z>>16&255,H[Q++]=Z>>8&255,H[Q++]=Z>>0&255,H[Q++]=Z>>24&255}}function Dt(_,C,F,H,Q){for(F=C+F;C<F;){var Z=(te=_[C++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;H[Q++]=Z,H[Q++]=te}}function sa(_,C,F,H,Q){for(F=C+F;C<F;){var Z=(te=_[C++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;H[Q++]=Z,H[Q++]=te}}function Nr(_,C,F,H,Q){for(F=C+F;C<F;){var Z=_[C++];H[Q++]=Z>>0&255,H[Q++]=Z>>8&255,H[Q++]=Z>>16&255}}function vn(_,C,F,H,Q,Z){if(Z==0)for(F=C+F;C<F;)_e(H,((Z=_[C++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),Q+=32;else n(H,Q,_,C,F)}function fo(_,C){A[C][0]=A[_+"0"],A[C][1]=A[_+"1"],A[C][2]=A[_+"2"],A[C][3]=A[_+"3"],A[C][4]=A[_+"4"],A[C][5]=A[_+"5"],A[C][6]=A[_+"6"],A[C][7]=A[_+"7"],A[C][8]=A[_+"8"],A[C][9]=A[_+"9"],A[C][10]=A[_+"10"],A[C][11]=A[_+"11"],A[C][12]=A[_+"12"],A[C][13]=A[_+"13"],A[C][14]=A[_+"0"],A[C][15]=A[_+"0"]}function jr(_){return _==p_||_==m_||_==wv||_==x_}function Tl(){this.eb=[],this.size=this.A=this.fb=0}function En(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ls(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tl,this.f.kb=new En,this.sd=null}function Zo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qt(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Or(_,C){var F=_.T,H=C.ba.f.RGBA,Q=H.eb,Z=H.fb+_.ka*H.A,te=yo[C.ba.S],ie=_.y,ce=_.O,xe=_.f,Ee=_.N,Be=_.ea,$e=_.W,De=C.cc,Ze=C.dc,Ve=C.Mc,ke=C.Nc,Te=_.ka,Qe=_.ka+_.T,rt=_.U,Je=rt+1>>1;for(Te==0?te(ie,ce,null,null,xe,Ee,Be,$e,xe,Ee,Be,$e,Q,Z,null,null,rt):(te(C.ec,C.fc,ie,ce,De,Ze,Ve,ke,xe,Ee,Be,$e,Q,Z-H.A,Q,Z,rt),++F);Te+2<Qe;Te+=2)De=xe,Ze=Ee,Ve=Be,ke=$e,Ee+=_.Rc,$e+=_.Rc,Z+=2*H.A,te(ie,(ce+=2*_.fa)-_.fa,ie,ce,De,Ze,Ve,ke,xe,Ee,Be,$e,Q,Z-H.A,Q,Z,rt);return ce+=_.fa,_.j+Qe<_.o?(n(C.ec,C.fc,ie,ce,rt),n(C.cc,C.dc,xe,Ee,Je),n(C.Mc,C.Nc,Be,$e,Je),F--):1&Qe||te(ie,ce,null,null,xe,Ee,Be,$e,xe,Ee,Be,$e,Q,Z+H.A,null,null,rt),F}function Nc(_,C,F){var H=_.F,Q=[_.J];if(H!=null){var Z=_.U,te=C.ba.S,ie=te==yv||te==wv;C=C.ba.f.RGBA;var ce=[0],xe=_.ka;ce[0]=_.T,_.Kb&&(xe==0?--ce[0]:(--xe,Q[0]-=_.width),_.j+_.ka+_.T==_.o&&(ce[0]=_.o-_.j-xe));var Ee=C.eb;xe=C.fb+xe*C.A,_=yn(H,Q[0],_.width,Z,ce,Ee,xe+(ie?0:3),C.A),t(F==ce),_&&jr(te)&&vo(Ee,xe,ie,Z,ce,C.A)}return 0}function Ia(_){var C=_.ma,F=C.ba.S,H=11>F,Q=F==vv||F==bv||F==yv||F==h_||F==12||jr(F);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Im(C.Oa,_,Q?11:12))return 0;if(Q&&jr(F)&&nt(),_.da)alert("todo:use_scaling");else{if(H){if(C.Ib=Qt,_.Kb){if(F=_.U+1>>1,C.memory=i(_.U+2*F),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+_.U,C.Mc=C.cc,C.Nc=C.dc+F,C.Ib=Or,nt()}}else alert("todo:EmitYUV");Q&&(C.Jb=Nc,H&&Fe())}if(H&&!FE){for(_=0;256>_;++_)FW[_]=89858*(_-128)+Nv>>_v,BW[_]=-22014*(_-128)+Nv,LW[_]=-45773*(_-128),RW[_]=113618*(_-128)+Nv>>_v;for(_=Hm;_<b_;++_)C=76283*(_-16)+Nv>>_v,$W[_-Hm]=zs(C,255),zW[_-Hm]=zs(C+8>>4,15);FE=1}return 1}function ho(_){var C=_.ma,F=_.U,H=_.T;return t(!(1&_.ka)),0>=F||0>=H?0:(F=C.Ib(_,C),C.Jb!=null&&C.Jb(_,C,F),C.Dc+=F,1)}function po(_){_.ma.memory=null}function Bt(_,C,F,H){return le(_,8)!=47?0:(C[0]=le(_,14)+1,F[0]=le(_,14)+1,H[0]=le(_,1),le(_,3)!=0?0:!_.h)}function Bs(_,C){if(4>_)return _+1;var F=_-2>>1;return(2+(1&_)<<F)+le(C,F)+1}function bs(_,C){return 120<C?C-120:1<=(F=((F=_W[C-1])>>4)*_+(8-(15&F)))?F:1;var F}function Ei(_,C,F){var H=P(F),Q=_[C+=255&H].g-8;return 0<Q&&(z(F,F.u+8),H=P(F),C+=_[C].value,C+=H&(1<<Q)-1),z(F,F.u+_[C].g),_[C].value}function oa(_,C,F){return F.g+=_.g,F.value+=_.value<<C>>>0,t(8>=F.g),_.g}function Gn(_,C,F){var H=_.xc;return t((C=H==0?0:_.vc[_.md*(F>>H)+(C>>H)])<_.Wb),_.Ya[C]}function ee(_,C,F,H){var Q=_.ab,Z=_.c*C,te=_.C;C=te+C;var ie=F,ce=H;for(H=_.Ta,F=_.Ua;0<Q--;){var xe=_.gc[Q],Ee=te,Be=C,$e=ie,De=ce,Ze=(ce=H,ie=F,xe.Ea);switch(t(Ee<Be),t(Be<=xe.nc),xe.hc){case 2:dv($e,De,(Be-Ee)*Ze,ce,ie);break;case 0:var Ve=Ee,ke=Be,Te=ce,Qe=ie,rt=(pt=xe).Ea;Ve==0&&(d_($e,De,null,null,1,Te,Qe),gt($e,De+1,0,0,rt-1,Te,Qe+1),De+=rt,Qe+=rt,++Ve);for(var Je=1<<pt.b,yt=Je-1,ht=oe(rt,pt.b),$t=pt.K,pt=pt.w+(Ve>>pt.b)*ht;Ve<ke;){var Rr=$t,Vr=pt,Sr=1;for(Rm($e,De,Te,Qe-rt,1,Te,Qe);Sr<rt;){var mr=(Sr&~yt)+Je;mr>rt&&(mr=rt),(0,Au[Rr[Vr++]>>8&15])($e,De+ +Sr,Te,Qe+Sr-rt,mr-Sr,Te,Qe+Sr),Sr=mr}De+=rt,Qe+=rt,++Ve&yt||(pt+=ht)}Be!=xe.nc&&n(ce,ie-Ze,ce,ie+(Be-Ee-1)*Ze,Ze);break;case 1:for(Ze=$e,ke=De,rt=($e=xe.Ea)-(Qe=$e&~(Te=(De=1<<xe.b)-1)),Ve=oe($e,xe.b),Je=xe.K,xe=xe.w+(Ee>>xe.b)*Ve;Ee<Be;){for(yt=Je,ht=xe,$t=new Ie,pt=ke+Qe,Rr=ke+$e;ke<pt;)Pt(yt[ht++],$t),Ud($t,Ze,ke,De,ce,ie),ke+=De,ie+=De;ke<Rr&&(Pt(yt[ht++],$t),Ud($t,Ze,ke,rt,ce,ie),ke+=rt,ie+=rt),++Ee&Te||(xe+=Ve)}break;case 3:if($e==ce&&De==ie&&0<xe.b){for(ke=ce,$e=Ze=ie+(Be-Ee)*Ze-(Qe=(Be-Ee)*oe(xe.Ea,xe.b)),De=ce,Te=ie,Ve=[],Qe=(rt=Qe)-1;0<=Qe;--Qe)Ve[Qe]=De[Te+Qe];for(Qe=rt-1;0<=Qe;--Qe)ke[$e+Qe]=Ve[Qe];mo(xe,Ee,Be,ce,Ze,ce,ie)}else mo(xe,Ee,Be,$e,De,ce,ie)}ie=H,ce=F}ce!=F&&n(H,F,ie,ce,Z)}function ve(_,C){var F=_.V,H=_.Ba+_.c*_.C,Q=C-_.C;if(t(C<=_.l.o),t(16>=Q),0<Q){var Z=_.l,te=_.Ta,ie=_.Ua,ce=Z.width;if(ee(_,Q,F,H),Q=ie=[ie],t((F=_.C)<(H=C)),t(Z.v<Z.va),H>Z.o&&(H=Z.o),F<Z.j){var xe=Z.j-F;F=Z.j,Q[0]+=xe*ce}if(F>=H?F=0:(Q[0]+=4*Z.v,Z.ka=F-Z.j,Z.U=Z.va-Z.v,Z.T=H-F,F=1),F){if(ie=ie[0],11>(F=_.ca).S){var Ee=F.f.RGBA,Be=(H=F.S,Q=Z.U,Z=Z.T,xe=Ee.eb,Ee.A),$e=Z;for(Ee=Ee.fb+_.Ma*Ee.A;0<$e--;){var De=te,Ze=ie,Ve=Q,ke=xe,Te=Ee;switch(H){case gv:_s(De,Ze,Ve,ke,Te);break;case vv:Ji(De,Ze,Ve,ke,Te);break;case p_:Ji(De,Ze,Ve,ke,Te),vo(ke,Te,0,Ve,1,0);break;case AE:Ec(De,Ze,Ve,ke,Te);break;case bv:vn(De,Ze,Ve,ke,Te,1);break;case m_:vn(De,Ze,Ve,ke,Te,1),vo(ke,Te,0,Ve,1,0);break;case yv:vn(De,Ze,Ve,ke,Te,0);break;case wv:vn(De,Ze,Ve,ke,Te,0),vo(ke,Te,1,Ve,1,0);break;case h_:Cu(De,Ze,Ve,ke,Te);break;case x_:Cu(De,Ze,Ve,ke,Te),bn(ke,Te,Ve,1,0);break;case CE:Cc(De,Ze,Ve,ke,Te);break;default:t(0)}ie+=ce,Ee+=Be}_.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=F.height)}}_.C=C,t(_.C<=_.i)}function fe(_){var C;if(0<_.ua)return 0;for(C=0;C<_.Wb;++C){var F=_.Ya[C].G,H=_.Ya[C].H;if(0<F[1][H[1]+0].g||0<F[2][H[2]+0].g||0<F[3][H[3]+0].g)return 0}return 1}function he(_,C,F,H,Q,Z){if(_.Z!=0){var te=_.qd,ie=_.rd;for(t(Ou[_.Z]!=null);C<F;++C)Ou[_.Z](te,ie,H,Q,H,Q,Z),te=H,ie=Q,Q+=Z;_.qd=te,_.rd=ie}}function ge(_,C){var F=_.l.ma,H=F.Z==0||F.Z==1?_.l.j:_.C;if(H=_.C<H?H:_.C,t(C<=_.l.o),C>H){var Q=_.l.width,Z=F.ca,te=F.tb+Q*H,ie=_.V,ce=_.Ba+_.c*H,xe=_.gc;t(_.ab==1),t(xe[0].hc==3),fv(xe[0],H,C,ie,ce,Z,te),he(F,H,C,Z,te,Q)}_.C=_.Ma=C}function be(_,C,F,H,Q,Z,te){var ie=_.$/H,ce=_.$%H,xe=_.m,Ee=_.s,Be=F+_.$,$e=Be;Q=F+H*Q;var De=F+H*Z,Ze=280+Ee.ua,Ve=_.Pb?ie:16777216,ke=0<Ee.ua?Ee.Wa:null,Te=Ee.wc,Qe=Be<De?Gn(Ee,ce,ie):null;t(_.C<Z),t(De<=Q);var rt=!1;e:for(;;){for(;rt||Be<De;){var Je=0;if(ie>=Ve){var yt=Be-F;t((Ve=_).Pb),Ve.wd=Ve.m,Ve.xd=yt,0<Ve.s.ua&&pe(Ve.s.Wa,Ve.s.vb),Ve=ie+jW}if(ce&Te||(Qe=Gn(Ee,ce,ie)),t(Qe!=null),Qe.Qb&&(C[Be]=Qe.qb,rt=!0),!rt)if(Y(xe),Qe.jc){Je=xe,yt=C;var ht=Be,$t=Qe.pd[P(Je)&xi-1];t(Qe.jc),256>$t.g?(z(Je,Je.u+$t.g),yt[ht]=$t.value,Je=0):(z(Je,Je.u+$t.g-256),t(256<=$t.value),Je=$t.value),Je==0&&(rt=!0)}else Je=Ei(Qe.G[0],Qe.H[0],xe);if(xe.h)break;if(rt||256>Je){if(!rt)if(Qe.nd)C[Be]=(Qe.qb|Je<<8)>>>0;else{if(Y(xe),rt=Ei(Qe.G[1],Qe.H[1],xe),Y(xe),yt=Ei(Qe.G[2],Qe.H[2],xe),ht=Ei(Qe.G[3],Qe.H[3],xe),xe.h)break;C[Be]=(ht<<24|rt<<16|Je<<8|yt)>>>0}if(rt=!1,++Be,++ce>=H&&(ce=0,++ie,te!=null&&ie<=Z&&!(ie%16)&&te(_,ie),ke!=null))for(;$e<Be;)Je=C[$e++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je}else if(280>Je){if(Je=Bs(Je-256,xe),yt=Ei(Qe.G[4],Qe.H[4],xe),Y(xe),yt=bs(H,yt=Bs(yt,xe)),xe.h)break;if(Be-F<yt||Q-Be<Je)break e;for(ht=0;ht<Je;++ht)C[Be+ht]=C[Be+ht-yt];for(Be+=Je,ce+=Je;ce>=H;)ce-=H,++ie,te!=null&&ie<=Z&&!(ie%16)&&te(_,ie);if(t(Be<=Q),ce&Te&&(Qe=Gn(Ee,ce,ie)),ke!=null)for(;$e<Be;)Je=C[$e++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je}else{if(!(Je<Ze))break e;for(rt=Je-280,t(ke!=null);$e<Be;)Je=C[$e++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je;Je=Be,t(!(rt>>>(yt=ke).Xa)),C[Je]=yt.X[rt],rt=!0}rt||t(xe.h==M(xe))}if(_.Pb&&xe.h&&Be<Q)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&pe(_.s.vb,_.s.Wa);else{if(xe.h)break e;te!=null&&te(_,ie>Z?Z:ie),_.a=0,_.$=Be-F}return 1}return _.a=3,0}function Le(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var C=_.Wa;C!=null&&(C.X=null),_.vb=null,t(_!=null)}function We(){var _=new u_;return _==null?null:(_.a=0,_.xb=TE,fo("Predictor","VP8LPredictors"),fo("Predictor","VP8LPredictors_C"),fo("PredictorAdd","VP8LPredictorsAdd"),fo("PredictorAdd","VP8LPredictorsAdd_C"),dv=Nt,Ud=kt,_s=it,Ji=Fr,Cu=Dt,Cc=sa,Ec=Nr,A.VP8LMapColor32b=Vf,A.VP8LMapColor8b=hv,_)}function Re(_,C,F,H,Q){var Z=1,te=[_],ie=[C],ce=H.m,xe=H.s,Ee=null,Be=0;e:for(;;){if(F)for(;Z&&le(ce,1);){var $e=te,De=ie,Ze=H,Ve=1,ke=Ze.m,Te=Ze.gc[Ze.ab],Qe=le(ke,2);if(Ze.Oc&1<<Qe)Z=0;else{switch(Ze.Oc|=1<<Qe,Te.hc=Qe,Te.Ea=$e[0],Te.nc=De[0],Te.K=[null],++Ze.ab,t(4>=Ze.ab),Qe){case 0:case 1:Te.b=le(ke,3)+2,Ve=Re(oe(Te.Ea,Te.b),oe(Te.nc,Te.b),0,Ze,Te.K),Te.K=Te.K[0];break;case 3:var rt,Je=le(ke,8)+1,yt=16<Je?0:4<Je?1:2<Je?2:3;if($e[0]=oe(Te.Ea,yt),Te.b=yt,rt=Ve=Re(Je,1,0,Ze,Te.K)){var ht,$t=Je,pt=Te,Rr=1<<(8>>pt.b),Vr=i(Rr);if(Vr==null)rt=0;else{var Sr=pt.K[0],mr=pt.w;for(Vr[0]=pt.K[0][0],ht=1;ht<1*$t;++ht)Vr[ht]=de(Sr[mr+ht],Vr[ht-1]);for(;ht<4*Rr;++ht)Vr[ht]=0;pt.K[0]=null,pt.K[0]=Vr,rt=1}}Ve=rt;break;case 2:break;default:t(0)}Z=Ve}}if(te=te[0],ie=ie[0],Z&&le(ce,1)&&!(Z=1<=(Be=le(ce,4))&&11>=Be)){H.a=3;break e}var hn;if(hn=Z)t:{var on,ar,ja,Ns=H,Sa=te,js=ie,qr=Be,Hs=F,Ws=Ns.m,ri=Ns.s,gi=[null],es=1,wo=0,Fl=NW[qr];r:for(;;){if(Hs&&le(Ws,1)){var ni=le(Ws,3)+2,Pc=oe(Sa,ni),Gd=oe(js,ni),Kf=Pc*Gd;if(!Re(Pc,Gd,0,Ns,gi))break r;for(gi=gi[0],ri.xc=ni,on=0;on<Kf;++on){var Pu=gi[on]>>8&65535;gi[on]=Pu,Pu>=es&&(es=Pu+1)}}if(Ws.h)break r;for(ar=0;5>ar;++ar){var Xn=EE[ar];!ar&&0<qr&&(Xn+=1<<qr),wo<Xn&&(wo=Xn)}var y_=o(es*Fl,E),BE=es,$E=o(BE,B);if($E==null)var Sv=null;else t(65536>=BE),Sv=$E;var Wm=i(wo);if(Sv==null||Wm==null||y_==null){Ns.a=1;break r}var Av=y_;for(on=ja=0;on<es;++on){var sl=Sv[on],Qf=sl.G,Jf=sl.H,zE=0,Cv=1,UE=0;for(ar=0;5>ar;++ar){Xn=EE[ar],Qf[ar]=Av,Jf[ar]=ja,!ar&&0<qr&&(Xn+=1<<qr);a:{var Ev,w_=Xn,kv=Ns,Vm=Wm,WW=Av,VW=ja,__=0,Du=kv.m,qW=le(Du,1);if(a(Vm,0,0,w_),qW){var GW=le(Du,1)+1,YW=le(Du,1),HE=le(Du,YW==0?1:8);Vm[HE]=1,GW==2&&(Vm[HE=le(Du,8)]=1);var Tv=1}else{var WE=i(19),VE=le(Du,4)+4;if(19<VE){kv.a=3;var Ov=0;break a}for(Ev=0;Ev<VE;++Ev)WE[wW[Ev]]=le(Du,3);var N_=void 0,qm=void 0,qE=kv,XW=WE,Pv=w_,GE=Vm,j_=0,Iu=qE.m,YE=8,XE=o(128,E);n:for(;O(XE,0,7,XW,19);){if(le(Iu,1)){var KW=2+2*le(Iu,3);if((N_=2+le(Iu,KW))>Pv)break n}else N_=Pv;for(qm=0;qm<Pv&&N_--;){Y(Iu);var KE=XE[0+(127&P(Iu))];z(Iu,Iu.u+KE.g);var Zf=KE.value;if(16>Zf)GE[qm++]=Zf,Zf!=0&&(YE=Zf);else{var QW=Zf==16,QE=Zf-16,JW=bW[QE],JE=le(Iu,vW[QE])+JW;if(qm+JE>Pv)break n;for(var ZW=QW?YE:0;0<JE--;)GE[qm++]=ZW}}j_=1;break n}j_||(qE.a=3),Tv=j_}(Tv=Tv&&!Du.h)&&(__=O(WW,VW,8,Vm,w_)),Tv&&__!=0?Ov=__:(kv.a=3,Ov=0)}if(Ov==0)break r;if(Cv&&yW[ar]==1&&(Cv=Av[ja].g==0),zE+=Av[ja].g,ja+=Ov,3>=ar){var Gm,S_=Wm[0];for(Gm=1;Gm<Xn;++Gm)Wm[Gm]>S_&&(S_=Wm[Gm]);UE+=S_}}if(sl.nd=Cv,sl.Qb=0,Cv&&(sl.qb=(Qf[3][Jf[3]+0].value<<24|Qf[1][Jf[1]+0].value<<16|Qf[2][Jf[2]+0].value)>>>0,zE==0&&256>Qf[0][Jf[0]+0].value&&(sl.Qb=1,sl.qb+=Qf[0][Jf[0]+0].value<<8)),sl.jc=!sl.Qb&&6>UE,sl.jc){var Dv,Dc=sl;for(Dv=0;Dv<xi;++Dv){var Mu=Dv,Fu=Dc.pd[Mu],Iv=Dc.G[0][Dc.H[0]+Mu];256<=Iv.value?(Fu.g=Iv.g+256,Fu.value=Iv.value):(Fu.g=0,Fu.value=0,Mu>>=oa(Iv,8,Fu),Mu>>=oa(Dc.G[1][Dc.H[1]+Mu],16,Fu),Mu>>=oa(Dc.G[2][Dc.H[2]+Mu],0,Fu),oa(Dc.G[3][Dc.H[3]+Mu],24,Fu))}}}ri.vc=gi,ri.Wb=es,ri.Ya=Sv,ri.yc=y_,hn=1;break t}hn=0}if(!(Z=hn)){H.a=3;break e}if(0<Be){if(xe.ua=1<<Be,!Ae(xe.Wa,Be)){H.a=1,Z=0;break e}}else xe.ua=0;var A_=H,ZE=te,eV=ie,C_=A_.s,E_=C_.xc;if(A_.c=ZE,A_.i=eV,C_.md=oe(ZE,E_),C_.wc=E_==0?-1:(1<<E_)-1,F){H.xb=OW;break e}if((Ee=i(te*ie))==null){H.a=1,Z=0;break e}Z=(Z=be(H,Ee,0,te,ie,ie,null))&&!ce.h;break e}return Z?(Q!=null?Q[0]=Ee:(t(Ee==null),t(F)),H.$=0,F||Le(xe)):Le(xe),Z}function Ue(_,C){var F=_.c*_.i,H=F+C+16*C;return t(_.c<=C),_.V=i(H),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+F+C,1)}function He(_,C){var F=_.C,H=C-F,Q=_.V,Z=_.Ba+_.c*F;for(t(C<=_.l.o);0<H;){var te=16<H?16:H,ie=_.l.ma,ce=_.l.width,xe=ce*te,Ee=ie.ca,Be=ie.tb+ce*F,$e=_.Ta,De=_.Ua;ee(_,te,Q,Z),ua($e,De,Ee,Be,xe),he(ie,F,F+te,Ee,Be,ce),H-=te,Q+=te*_.c,F+=te}t(F==C),_.C=_.Ma=C}function at(){this.ub=this.yd=this.td=this.Rb=0}function ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function st(){this.Yb=function(){var _=[];return function C(F,H,Q){for(var Z=Q[H],te=0;te<Z&&(F.push(Q.length>H+1?[]:0),!(Q.length<H+1));te++)C(F[te],H+1,Q)}(_,0,[3,11]),_}()}function mt(){this.jb=i(3),this.Wc=l([4,8],st),this.Xc=l([4,17],st)}function Yt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zr(){this.ld=this.La=this.dd=this.tc=0}function sn(){this.Na=this.la=0}function _a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function el(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jc(){this.uc=this.M=this.Nb=0,this.wa=Array(new zr),this.Y=0,this.ya=Array(new el),this.aa=0,this.l=new Pl}function Ol(){this.y=i(16),this.f=i(8),this.ea=i(8)}function tl(){this.cb=this.a=0,this.sc="",this.m=new se,this.Od=new at,this.Kc=new ot,this.ed=new Yt,this.Qa=new xt,this.Ic=this.$c=this.Aa=0,this.D=new jc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,se),this.ia=0,this.pb=o(4,_a),this.Pa=new mt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ol),this.Hd=0,this.rb=Array(new sn),this.sb=0,this.wa=Array(new zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new el),this.L=this.aa=0,this.gd=l([4,2],zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $s(){var _=new tl;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Um||(Um=Kg)),_}function la(_,C,F){return _.a==0&&(_.a=C,_.sc=F,_.cb=0),0}function Yg(_,C,F){return 3<=F&&_[C+0]==157&&_[C+1]==1&&_[C+2]==42}function Xg(_,C){if(_==null)return 0;if(_.a=0,_.sc="OK",C==null)return la(_,2,"null VP8Io passed to VP8GetHeaders()");var F=C.data,H=C.w,Q=C.ha;if(4>Q)return la(_,7,"Truncated header.");var Z=F[H+0]|F[H+1]<<8|F[H+2]<<16,te=_.Od;if(te.Rb=!(1&Z),te.td=Z>>1&7,te.yd=Z>>4&1,te.ub=Z>>5,3<te.td)return la(_,3,"Incorrect keyframe parameters.");if(!te.yd)return la(_,4,"Frame not displayable.");H+=3,Q-=3;var ie=_.Kc;if(te.Rb){if(7>Q)return la(_,7,"cannot parse picture header");if(!Yg(F,H,Q))return la(_,3,"Bad code word");ie.c=16383&(F[H+4]<<8|F[H+3]),ie.Td=F[H+4]>>6,ie.i=16383&(F[H+6]<<8|F[H+5]),ie.Ud=F[H+6]>>6,H+=7,Q-=7,_.za=ie.c+15>>4,_.Ub=ie.i+15>>4,C.width=ie.c,C.height=ie.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((Z=_.Pa).jb,0,255,Z.jb.length),t((Z=_.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,a(Z.Zb,0,0,Z.Zb.length),a(Z.Lb,0,0,Z.Lb)}if(te.ub>Q)return la(_,7,"bad partition length");G(Z=_.m,F,H,te.ub),H+=te.ub,Q-=te.ub,te.Rb&&(ie.Ld=ue(Z),ie.Kd=ue(Z)),ie=_.Qa;var ce,xe=_.Pa;if(t(Z!=null),t(ie!=null),ie.Cb=ue(Z),ie.Cb){if(ie.Bb=ue(Z),ue(Z)){for(ie.Fb=ue(Z),ce=0;4>ce;++ce)ie.Zb[ce]=ue(Z)?W(Z,7):0;for(ce=0;4>ce;++ce)ie.Lb[ce]=ue(Z)?W(Z,6):0}if(ie.Bb)for(ce=0;3>ce;++ce)xe.jb[ce]=ue(Z)?U(Z,8):255}else ie.Bb=0;if(Z.Ka)return la(_,3,"cannot parse segment header");if((ie=_.ed).zd=ue(Z),ie.Tb=U(Z,6),ie.wb=U(Z,3),ie.Pc=ue(Z),ie.Pc&&ue(Z)){for(xe=0;4>xe;++xe)ue(Z)&&(ie.vd[xe]=W(Z,6));for(xe=0;4>xe;++xe)ue(Z)&&(ie.od[xe]=W(Z,6))}if(_.L=ie.Tb==0?0:ie.zd?1:2,Z.Ka)return la(_,3,"cannot parse filter header");var Ee=Q;if(Q=ce=H,H=ce+Ee,ie=Ee,_.Xb=(1<<U(_.m,2))-1,Ee<3*(xe=_.Xb))F=7;else{for(ce+=3*xe,ie-=3*xe,Ee=0;Ee<xe;++Ee){var Be=F[Q+0]|F[Q+1]<<8|F[Q+2]<<16;Be>ie&&(Be=ie),G(_.Jc[+Ee],F,ce,Be),ce+=Be,ie-=Be,Q+=3}G(_.Jc[+xe],F,ce,ie),F=ce<H?0:5}if(F!=0)return la(_,F,"cannot parse partitions");for(F=U(ce=_.m,7),Q=ue(ce)?W(ce,4):0,H=ue(ce)?W(ce,4):0,ie=ue(ce)?W(ce,4):0,xe=ue(ce)?W(ce,4):0,ce=ue(ce)?W(ce,4):0,Ee=_.Qa,Be=0;4>Be;++Be){if(Ee.Cb){var $e=Ee.Zb[Be];Ee.Fb||($e+=F)}else{if(0<Be){_.pb[Be]=_.pb[0];continue}$e=F}var De=_.pb[Be];De.Sc[0]=g_[zs($e+Q,127)],De.Sc[1]=v_[zs($e+0,127)],De.Eb[0]=2*g_[zs($e+H,127)],De.Eb[1]=101581*v_[zs($e+ie,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=g_[zs($e+xe,117)],De.Qc[1]=v_[zs($e+ce,127)],De.lc=$e+ce}if(!te.Rb)return la(_,4,"Not a key frame.");for(ue(Z),te=_.Pa,F=0;4>F;++F){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(ie=0;11>ie;++ie)xe=ne(Z,kW[F][Q][H][ie])?U(Z,8):CW[F][Q][H][ie],te.Wc[F][Q].Yb[H][ie]=xe;for(Q=0;17>Q;++Q)te.Xc[F][Q]=te.Wc[F][TW[Q]]}return _.kc=ue(Z),_.kc&&(_.Bd=U(Z,8)),_.cb=1}function Kg(_,C,F,H,Q,Z,te){var ie=C[Q].Yb[F];for(F=0;16>Q;++Q){if(!ne(_,ie[F+0]))return Q;for(;!ne(_,ie[F+1]);)if(ie=C[++Q].Yb[0],F=0,Q==16)return 16;var ce=C[Q+1].Yb;if(ne(_,ie[F+2])){var xe=_,Ee=0;if(ne(xe,($e=ie)[(Be=F)+3]))if(ne(xe,$e[Be+6])){for(ie=0,Be=2*(Ee=ne(xe,$e[Be+8]))+($e=ne(xe,$e[Be+9+Ee])),Ee=0,$e=SW[Be];$e[ie];++ie)Ee+=Ee+ne(xe,$e[ie]);Ee+=3+(8<<Be)}else ne(xe,$e[Be+7])?(Ee=7+2*ne(xe,165),Ee+=ne(xe,145)):Ee=5+ne(xe,159);else Ee=ne(xe,$e[Be+4])?3+ne(xe,$e[Be+5]):2;ie=ce[2]}else Ee=1,ie=ce[1];ce=te+AW[Q],0>(xe=_).b&&ae(xe);var Be,$e=xe.b,De=(Be=xe.Ca>>1)-(xe.I>>$e)>>31;--xe.b,xe.Ca+=De,xe.Ca|=1,xe.I-=(Be+1&De)<<$e,Z[ce]=((Ee^De)-De)*H[(0<Q)+0]}return 16}function bm(_){var C=_.rb[_.sb-1];C.la=0,C.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function G5(_,C){if(_==null)return 0;if(C==null)return la(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!Xg(_,C))return 0;if(t(_.cb),C.ac==null||C.ac(C)){C.ob&&(_.L=0);var F=jv[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=C.v-F>>4,_.zb=C.j-F>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=C.o+15+F>>4,_.Hb=C.va+15+F>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var H=_.ed;for(F=0;4>F;++F){var Q;if(_.Qa.Cb){var Z=_.Qa.Lb[F];_.Qa.Fb||(Z+=H.Tb)}else Z=H.Tb;for(Q=0;1>=Q;++Q){var te=_.gd[F][Q],ie=Z;if(H.Pc&&(ie+=H.vd[0],Q&&(ie+=H.od[0])),0<(ie=0>ie?0:63<ie?63:ie)){var ce=ie;0<H.wb&&(ce=4<H.wb?ce>>2:ce>>1)>9-H.wb&&(ce=9-H.wb),1>ce&&(ce=1),te.dd=ce,te.tc=2*ie+ce,te.ld=40<=ie?2:15<=ie?1:0}else te.tc=0;te.La=Q}}}F=0}else la(_,6,"Frame setup failed"),F=_.a;if(F=F==0){if(F){_.$c=0,0<_.Aa||(_.Ic=HW);e:{F=_.Ic,H=4*(ce=_.za);var xe=32*ce,Ee=ce+1,Be=0<_.L?ce*(0<_.Aa?2:1):0,$e=(_.Aa==2?2:1)*ce;if((te=H+832+(Q=3*(16*F+jv[_.L])/2*xe)+(Z=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=te)F=0;else{if(te>_.Vb){if(_.Vb=0,_.Ec=i(te),_.Fc=0,_.Ec==null){F=la(_,1,"no memory during frame initialization.");break e}_.Vb=te}te=_.Ec,ie=_.Fc,_.Ac=te,_.Bc=ie,ie+=H,_.Gd=o(xe,Ol),_.Hd=0,_.rb=o(Ee+1,sn),_.sb=1,_.wa=Be?o(Be,zr):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=ce),t(!0),_.oc=te,_.pc=ie,ie+=832,_.ya=o($e,el),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=ce),_.R=16*ce,_.B=8*ce,ce=(xe=jv[_.L])*_.R,xe=xe/2*_.B,_.sa=te,_.ta=ie+ce,_.qa=_.sa,_.ra=_.ta+16*F*_.R+xe,_.Ha=_.qa,_.Ia=_.ra+8*F*_.B+xe,_.$c=0,ie+=Q,_.mb=Z?te:null,_.nb=Z?ie:null,t(ie+Z<=_.Fc+_.Vb),bm(_),a(_.Ac,_.Bc,0,H),F=1}}if(F){if(C.ka=0,C.y=_.sa,C.O=_.ta,C.f=_.qa,C.N=_.ra,C.ea=_.Ha,C.Vd=_.Ia,C.fa=_.R,C.Rc=_.B,C.F=null,C.J=0,!mv){for(F=-255;255>=F;++F)Ma[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)Tc[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)zm[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Xf[255+F]=0>F?0:255<F?255:F;mv=1}qf=K5,kc=Y5,Lm=Jg,Zi=X5,xo=Zg,ca=Qg,Gf=Sm,pv=$d,Bm=c_,Hd=Am,Wd=l_,Eu=Rf,Vd=Cm,Yf=lv,qd=ov,ku=Il,$m=Ac,go=o_,il[0]=Dl,il[1]=Q5,il[2]=t_,il[3]=r_,il[4]=rv,il[5]=Mf,il[6]=nv,il[7]=_m,il[8]=a_,il[9]=n_,Tu[0]=ev,Tu[1]=Z5,Tu[2]=Sc,Tu[3]=Df,Tu[4]=ki,Tu[5]=e_,Tu[6]=tv,Oc[0]=Nu,Oc[1]=J5,Oc[2]=i_,Oc[3]=Nm,Oc[4]=Bd,Oc[5]=s_,Oc[6]=jm,F=1}else F=0}F&&(F=function(De,Ze){for(De.M=0;De.M<De.Va;++De.M){var Ve,ke=De.Jc[De.M&De.Xb],Te=De.m,Qe=De;for(Ve=0;Ve<Qe.za;++Ve){var rt=Te,Je=Qe,yt=Je.Ac,ht=Je.Bc+4*Ve,$t=Je.zc,pt=Je.ya[Je.aa+Ve];if(Je.Qa.Bb?pt.$b=ne(rt,Je.Pa.jb[0])?2+ne(rt,Je.Pa.jb[2]):ne(rt,Je.Pa.jb[1]):pt.$b=0,Je.kc&&(pt.Ad=ne(rt,Je.Bd)),pt.Za=!ne(rt,145)+0,pt.Za){var Rr=pt.Ob,Vr=0;for(Je=0;4>Je;++Je){var Sr,mr=$t[0+Je];for(Sr=0;4>Sr;++Sr){mr=EW[yt[ht+Sr]][mr];for(var hn=kE[ne(rt,mr[0])];0<hn;)hn=kE[2*hn+ne(rt,mr[hn])];mr=-hn,yt[ht+Sr]=mr}n(Rr,Vr,yt,ht,4),Vr+=4,$t[0+Je]=mr}}else mr=ne(rt,156)?ne(rt,128)?1:3:ne(rt,163)?2:0,pt.Ob[0]=mr,a(yt,ht,mr,4),a($t,0,mr,4);pt.Dd=ne(rt,142)?ne(rt,114)?ne(rt,183)?1:3:2:0}if(Qe.m.Ka)return la(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(Qe=ke,rt=(Te=De).rb[Te.sb-1],yt=Te.rb[Te.sb+Te.ja],Ve=Te.ya[Te.aa+Te.ja],ht=Te.kc?Ve.Ad:0)rt.la=yt.la=0,Ve.Za||(rt.Na=yt.Na=0),Ve.Hc=0,Ve.Gc=0,Ve.ia=0;else{var on,ar;if(rt=yt,yt=Qe,ht=Te.Pa.Xc,$t=Te.ya[Te.aa+Te.ja],pt=Te.pb[$t.$b],Je=$t.ad,Rr=0,Vr=Te.rb[Te.sb-1],mr=Sr=0,a(Je,Rr,0,384),$t.Za)var ja=0,Ns=ht[3];else{hn=i(16);var Sa=rt.Na+Vr.Na;if(Sa=Um(yt,ht[1],Sa,pt.Eb,0,hn,0),rt.Na=Vr.Na=(0<Sa)+0,1<Sa)qf(hn,0,Je,Rr);else{var js=hn[0]+3>>3;for(hn=0;256>hn;hn+=16)Je[Rr+hn]=js}ja=1,Ns=ht[0]}var qr=15&rt.la,Hs=15&Vr.la;for(hn=0;4>hn;++hn){var Ws=1&Hs;for(js=ar=0;4>js;++js)qr=qr>>1|(Ws=(Sa=Um(yt,Ns,Sa=Ws+(1&qr),pt.Sc,ja,Je,Rr))>ja)<<7,ar=ar<<2|(3<Sa?3:1<Sa?2:Je[Rr+0]!=0),Rr+=16;qr>>=4,Hs=Hs>>1|Ws<<7,Sr=(Sr<<8|ar)>>>0}for(Ns=qr,ja=Hs>>4,on=0;4>on;on+=2){for(ar=0,qr=rt.la>>4+on,Hs=Vr.la>>4+on,hn=0;2>hn;++hn){for(Ws=1&Hs,js=0;2>js;++js)Sa=Ws+(1&qr),qr=qr>>1|(Ws=0<(Sa=Um(yt,ht[2],Sa,pt.Qc,0,Je,Rr)))<<3,ar=ar<<2|(3<Sa?3:1<Sa?2:Je[Rr+0]!=0),Rr+=16;qr>>=2,Hs=Hs>>1|Ws<<5}mr|=ar<<4*on,Ns|=qr<<4<<on,ja|=(240&Hs)<<on}rt.la=Ns,Vr.la=ja,$t.Hc=Sr,$t.Gc=mr,$t.ia=43690&mr?0:pt.ia,ht=!(Sr|mr)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[Ve.$b][Ve.Za],Te.wa[Te.Y+Te.ja].La|=!ht),Qe.Ka)return la(De,7,"Premature end-of-file encountered.")}if(bm(De),Te=Ze,Qe=1,Ve=(ke=De).D,rt=0<ke.L&&ke.M>=ke.zb&&ke.M<=ke.Va,ke.Aa==0)e:{if(Ve.M=ke.M,Ve.uc=rt,Dm(ke,Ve),Qe=1,Ve=(ar=ke.D).Nb,rt=(mr=jv[ke.L])*ke.R,yt=mr/2*ke.B,hn=16*Ve*ke.R,js=8*Ve*ke.B,ht=ke.sa,$t=ke.ta-rt+hn,pt=ke.qa,Je=ke.ra-yt+js,Rr=ke.Ha,Vr=ke.Ia-yt+js,Hs=(qr=ar.M)==0,Sr=qr>=ke.Va-1,ke.Aa==2&&Dm(ke,ar),ar.uc)for(Ws=(Sa=ke).D.M,t(Sa.D.uc),ar=Sa.yb;ar<Sa.Hb;++ar){ja=ar,Ns=Ws;var ri=(gi=(Xn=Sa).D).Nb;on=Xn.R;var gi=gi.wa[gi.Y+ja],es=Xn.sa,wo=Xn.ta+16*ri*on+16*ja,Fl=gi.dd,ni=gi.tc;if(ni!=0)if(t(3<=ni),Xn.L==1)0<ja&&ku(es,wo,on,ni+4),gi.La&&go(es,wo,on,ni),0<Ns&&qd(es,wo,on,ni+4),gi.La&&$m(es,wo,on,ni);else{var Pc=Xn.B,Gd=Xn.qa,Kf=Xn.ra+8*ri*Pc+8*ja,Pu=Xn.Ha,Xn=Xn.Ia+8*ri*Pc+8*ja;ri=gi.ld,0<ja&&(pv(es,wo,on,ni+4,Fl,ri),Hd(Gd,Kf,Pu,Xn,Pc,ni+4,Fl,ri)),gi.La&&(Eu(es,wo,on,ni,Fl,ri),Yf(Gd,Kf,Pu,Xn,Pc,ni,Fl,ri)),0<Ns&&(Gf(es,wo,on,ni+4,Fl,ri),Bm(Gd,Kf,Pu,Xn,Pc,ni+4,Fl,ri)),gi.La&&(Wd(es,wo,on,ni,Fl,ri),Vd(Gd,Kf,Pu,Xn,Pc,ni,Fl,ri))}}if(ke.ia&&alert("todo:DitherRow"),Te.put!=null){if(ar=16*qr,qr=16*(qr+1),Hs?(Te.y=ke.sa,Te.O=ke.ta+hn,Te.f=ke.qa,Te.N=ke.ra+js,Te.ea=ke.Ha,Te.W=ke.Ia+js):(ar-=mr,Te.y=ht,Te.O=$t,Te.f=pt,Te.N=Je,Te.ea=Rr,Te.W=Vr),Sr||(qr-=mr),qr>Te.o&&(qr=Te.o),Te.F=null,Te.J=null,ke.Fa!=null&&0<ke.Fa.length&&ar<qr&&(Te.J=Om(ke,Te,ar,qr-ar),Te.F=ke.mb,Te.F==null&&Te.F.length==0)){Qe=la(ke,3,"Could not decode alpha data.");break e}ar<Te.j&&(mr=Te.j-ar,ar=Te.j,t(!(1&mr)),Te.O+=ke.R*mr,Te.N+=ke.B*(mr>>1),Te.W+=ke.B*(mr>>1),Te.F!=null&&(Te.J+=Te.width*mr)),ar<qr&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=ar-Te.j,Te.U=Te.va-Te.v,Te.T=qr-ar,Qe=Te.put(Te))}Ve+1!=ke.Ic||Sr||(n(ke.sa,ke.ta-rt,ht,$t+16*ke.R,rt),n(ke.qa,ke.ra-yt,pt,Je+8*ke.B,yt),n(ke.Ha,ke.Ia-yt,Rr,Vr+8*ke.B,yt))}if(!Qe)return la(De,6,"Output aborted.")}return 1}(_,C)),C.bc!=null&&C.bc(C),F&=1}return F?(_.cb=0,F):0}function rl(_,C,F,H,Q){Q=_[C+F+32*H]+(Q>>3),_[C+F+32*H]=-256&Q?0>Q?0:255:Q}function Pf(_,C,F,H,Q,Z){rl(_,C,0,F,H+Q),rl(_,C,1,F,H+Z),rl(_,C,2,F,H-Z),rl(_,C,3,F,H-Q)}function ys(_){return(20091*_>>16)+_}function ym(_,C,F,H){var Q,Z=0,te=i(16);for(Q=0;4>Q;++Q){var ie=_[C+0]+_[C+8],ce=_[C+0]-_[C+8],xe=(35468*_[C+4]>>16)-ys(_[C+12]),Ee=ys(_[C+4])+(35468*_[C+12]>>16);te[Z+0]=ie+Ee,te[Z+1]=ce+xe,te[Z+2]=ce-xe,te[Z+3]=ie-Ee,Z+=4,C++}for(Q=Z=0;4>Q;++Q)ie=(_=te[Z+0]+4)+te[Z+8],ce=_-te[Z+8],xe=(35468*te[Z+4]>>16)-ys(te[Z+12]),rl(F,H,0,0,ie+(Ee=ys(te[Z+4])+(35468*te[Z+12]>>16))),rl(F,H,1,0,ce+xe),rl(F,H,2,0,ce-xe),rl(F,H,3,0,ie-Ee),Z++,H+=32}function Qg(_,C,F,H){var Q=_[C+0]+4,Z=35468*_[C+4]>>16,te=ys(_[C+4]),ie=35468*_[C+1]>>16;Pf(F,H,0,Q+te,_=ys(_[C+1]),ie),Pf(F,H,1,Q+Z,_,ie),Pf(F,H,2,Q-Z,_,ie),Pf(F,H,3,Q-te,_,ie)}function Y5(_,C,F,H,Q){ym(_,C,F,H),Q&&ym(_,C+16,F,H+4)}function Jg(_,C,F,H){kc(_,C+0,F,H,1),kc(_,C+32,F,H+128,1)}function X5(_,C,F,H){var Q;for(_=_[C+0]+4,Q=0;4>Q;++Q)for(C=0;4>C;++C)rl(F,H,C,Q,_)}function Zg(_,C,F,H){_[C+0]&&Zi(_,C+0,F,H),_[C+16]&&Zi(_,C+16,F,H+4),_[C+32]&&Zi(_,C+32,F,H+128),_[C+48]&&Zi(_,C+48,F,H+128+4)}function K5(_,C,F,H){var Q,Z=i(16);for(Q=0;4>Q;++Q){var te=_[C+0+Q]+_[C+12+Q],ie=_[C+4+Q]+_[C+8+Q],ce=_[C+4+Q]-_[C+8+Q],xe=_[C+0+Q]-_[C+12+Q];Z[0+Q]=te+ie,Z[8+Q]=te-ie,Z[4+Q]=xe+ce,Z[12+Q]=xe-ce}for(Q=0;4>Q;++Q)te=(_=Z[0+4*Q]+3)+Z[3+4*Q],ie=Z[1+4*Q]+Z[2+4*Q],ce=Z[1+4*Q]-Z[2+4*Q],xe=_-Z[3+4*Q],F[H+0]=te+ie>>3,F[H+16]=xe+ce>>3,F[H+32]=te-ie>>3,F[H+48]=xe-ce>>3,H+=64}function wm(_,C,F){var H,Q=C-32,Z=Us,te=255-_[Q-1];for(H=0;H<F;++H){var ie,ce=Z,xe=te+_[C-1];for(ie=0;ie<F;++ie)_[C+ie]=ce[xe+_[Q+ie]];C+=32}}function Q5(_,C){wm(_,C,4)}function J5(_,C){wm(_,C,8)}function Z5(_,C){wm(_,C,16)}function Sc(_,C){var F;for(F=0;16>F;++F)n(_,C+32*F,_,C-32,16)}function Df(_,C){var F;for(F=16;0<F;--F)a(_,C,_[C-1],16),C+=32}function If(_,C,F){var H;for(H=0;16>H;++H)a(C,F+32*H,_,16)}function ev(_,C){var F,H=16;for(F=0;16>F;++F)H+=_[C-1+32*F]+_[C+F-32];If(H>>5,_,C)}function ki(_,C){var F,H=8;for(F=0;16>F;++F)H+=_[C-1+32*F];If(H>>4,_,C)}function e_(_,C){var F,H=8;for(F=0;16>F;++F)H+=_[C+F-32];If(H>>4,_,C)}function tv(_,C){If(128,_,C)}function Jt(_,C,F){return _+2*C+F+2>>2}function t_(_,C){var F,H=C-32;for(H=new Uint8Array([Jt(_[H-1],_[H+0],_[H+1]),Jt(_[H+0],_[H+1],_[H+2]),Jt(_[H+1],_[H+2],_[H+3]),Jt(_[H+2],_[H+3],_[H+4])]),F=0;4>F;++F)n(_,C+32*F,H,0,H.length)}function r_(_,C){var F=_[C-1],H=_[C-1+32],Q=_[C-1+64],Z=_[C-1+96];_e(_,C+0,16843009*Jt(_[C-1-32],F,H)),_e(_,C+32,16843009*Jt(F,H,Q)),_e(_,C+64,16843009*Jt(H,Q,Z)),_e(_,C+96,16843009*Jt(Q,Z,Z))}function Dl(_,C){var F,H=4;for(F=0;4>F;++F)H+=_[C+F-32]+_[C-1+32*F];for(H>>=3,F=0;4>F;++F)a(_,C+32*F,H,4)}function rv(_,C){var F=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],Z=_[C-1-32],te=_[C+0-32],ie=_[C+1-32],ce=_[C+2-32],xe=_[C+3-32];_[C+0+96]=Jt(H,Q,_[C-1+96]),_[C+1+96]=_[C+0+64]=Jt(F,H,Q),_[C+2+96]=_[C+1+64]=_[C+0+32]=Jt(Z,F,H),_[C+3+96]=_[C+2+64]=_[C+1+32]=_[C+0+0]=Jt(te,Z,F),_[C+3+64]=_[C+2+32]=_[C+1+0]=Jt(ie,te,Z),_[C+3+32]=_[C+2+0]=Jt(ce,ie,te),_[C+3+0]=Jt(xe,ce,ie)}function nv(_,C){var F=_[C+1-32],H=_[C+2-32],Q=_[C+3-32],Z=_[C+4-32],te=_[C+5-32],ie=_[C+6-32],ce=_[C+7-32];_[C+0+0]=Jt(_[C+0-32],F,H),_[C+1+0]=_[C+0+32]=Jt(F,H,Q),_[C+2+0]=_[C+1+32]=_[C+0+64]=Jt(H,Q,Z),_[C+3+0]=_[C+2+32]=_[C+1+64]=_[C+0+96]=Jt(Q,Z,te),_[C+3+32]=_[C+2+64]=_[C+1+96]=Jt(Z,te,ie),_[C+3+64]=_[C+2+96]=Jt(te,ie,ce),_[C+3+96]=Jt(ie,ce,ce)}function Mf(_,C){var F=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],Z=_[C-1-32],te=_[C+0-32],ie=_[C+1-32],ce=_[C+2-32],xe=_[C+3-32];_[C+0+0]=_[C+1+64]=Z+te+1>>1,_[C+1+0]=_[C+2+64]=te+ie+1>>1,_[C+2+0]=_[C+3+64]=ie+ce+1>>1,_[C+3+0]=ce+xe+1>>1,_[C+0+96]=Jt(Q,H,F),_[C+0+64]=Jt(H,F,Z),_[C+0+32]=_[C+1+96]=Jt(F,Z,te),_[C+1+32]=_[C+2+96]=Jt(Z,te,ie),_[C+2+32]=_[C+3+96]=Jt(te,ie,ce),_[C+3+32]=Jt(ie,ce,xe)}function _m(_,C){var F=_[C+0-32],H=_[C+1-32],Q=_[C+2-32],Z=_[C+3-32],te=_[C+4-32],ie=_[C+5-32],ce=_[C+6-32],xe=_[C+7-32];_[C+0+0]=F+H+1>>1,_[C+1+0]=_[C+0+64]=H+Q+1>>1,_[C+2+0]=_[C+1+64]=Q+Z+1>>1,_[C+3+0]=_[C+2+64]=Z+te+1>>1,_[C+0+32]=Jt(F,H,Q),_[C+1+32]=_[C+0+96]=Jt(H,Q,Z),_[C+2+32]=_[C+1+96]=Jt(Q,Z,te),_[C+3+32]=_[C+2+96]=Jt(Z,te,ie),_[C+3+64]=Jt(te,ie,ce),_[C+3+96]=Jt(ie,ce,xe)}function n_(_,C){var F=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],Z=_[C-1+96];_[C+0+0]=F+H+1>>1,_[C+2+0]=_[C+0+32]=H+Q+1>>1,_[C+2+32]=_[C+0+64]=Q+Z+1>>1,_[C+1+0]=Jt(F,H,Q),_[C+3+0]=_[C+1+32]=Jt(H,Q,Z),_[C+3+32]=_[C+1+64]=Jt(Q,Z,Z),_[C+3+64]=_[C+2+64]=_[C+0+96]=_[C+1+96]=_[C+2+96]=_[C+3+96]=Z}function a_(_,C){var F=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],Z=_[C-1+96],te=_[C-1-32],ie=_[C+0-32],ce=_[C+1-32],xe=_[C+2-32];_[C+0+0]=_[C+2+32]=F+te+1>>1,_[C+0+32]=_[C+2+64]=H+F+1>>1,_[C+0+64]=_[C+2+96]=Q+H+1>>1,_[C+0+96]=Z+Q+1>>1,_[C+3+0]=Jt(ie,ce,xe),_[C+2+0]=Jt(te,ie,ce),_[C+1+0]=_[C+3+32]=Jt(F,te,ie),_[C+1+32]=_[C+3+64]=Jt(H,F,te),_[C+1+64]=_[C+3+96]=Jt(Q,H,F),_[C+1+96]=Jt(Z,Q,H)}function i_(_,C){var F;for(F=0;8>F;++F)n(_,C+32*F,_,C-32,8)}function Nm(_,C){var F;for(F=0;8>F;++F)a(_,C,_[C-1],8),C+=32}function Ld(_,C,F){var H;for(H=0;8>H;++H)a(C,F+32*H,_,8)}function Nu(_,C){var F,H=8;for(F=0;8>F;++F)H+=_[C+F-32]+_[C-1+32*F];Ld(H>>4,_,C)}function s_(_,C){var F,H=4;for(F=0;8>F;++F)H+=_[C+F-32];Ld(H>>3,_,C)}function Bd(_,C){var F,H=4;for(F=0;8>F;++F)H+=_[C-1+32*F];Ld(H>>3,_,C)}function jm(_,C){Ld(128,_,C)}function Ff(_,C,F){var H=_[C-F],Q=_[C+0],Z=3*(Q-H)+f_[1020+_[C-2*F]-_[C+F]],te=xv[112+(Z+4>>3)];_[C-F]=Us[255+H+xv[112+(Z+3>>3)]],_[C+0]=Us[255+Q-te]}function av(_,C,F,H){var Q=_[C+0],Z=_[C+F];return bo[255+_[C-2*F]-_[C-F]]>H||bo[255+Z-Q]>H}function iv(_,C,F,H){return 4*bo[255+_[C-F]-_[C+0]]+bo[255+_[C-2*F]-_[C+F]]<=H}function sv(_,C,F,H,Q){var Z=_[C-3*F],te=_[C-2*F],ie=_[C-F],ce=_[C+0],xe=_[C+F],Ee=_[C+2*F],Be=_[C+3*F];return 4*bo[255+ie-ce]+bo[255+te-xe]>H?0:bo[255+_[C-4*F]-Z]<=Q&&bo[255+Z-te]<=Q&&bo[255+te-ie]<=Q&&bo[255+Be-Ee]<=Q&&bo[255+Ee-xe]<=Q&&bo[255+xe-ce]<=Q}function ov(_,C,F,H){var Q=2*H+1;for(H=0;16>H;++H)iv(_,C+H,F,Q)&&Ff(_,C+H,F)}function Il(_,C,F,H){var Q=2*H+1;for(H=0;16>H;++H)iv(_,C+H*F,1,Q)&&Ff(_,C+H*F,1)}function Ac(_,C,F,H){var Q;for(Q=3;0<Q;--Q)ov(_,C+=4*F,F,H)}function o_(_,C,F,H){var Q;for(Q=3;0<Q;--Q)Il(_,C+=4,F,H)}function ju(_,C,F,H,Q,Z,te,ie){for(Z=2*Z+1;0<Q--;){if(sv(_,C,F,Z,te))if(av(_,C,F,ie))Ff(_,C,F);else{var ce=_,xe=C,Ee=F,Be=ce[xe-2*Ee],$e=ce[xe-Ee],De=ce[xe+0],Ze=ce[xe+Ee],Ve=ce[xe+2*Ee],ke=27*(Qe=f_[1020+3*(De-$e)+f_[1020+Be-Ze]])+63>>7,Te=18*Qe+63>>7,Qe=9*Qe+63>>7;ce[xe-3*Ee]=Us[255+ce[xe-3*Ee]+Qe],ce[xe-2*Ee]=Us[255+Be+Te],ce[xe-Ee]=Us[255+$e+ke],ce[xe+0]=Us[255+De-ke],ce[xe+Ee]=Us[255+Ze-Te],ce[xe+2*Ee]=Us[255+Ve-Qe]}C+=H}}function nl(_,C,F,H,Q,Z,te,ie){for(Z=2*Z+1;0<Q--;){if(sv(_,C,F,Z,te))if(av(_,C,F,ie))Ff(_,C,F);else{var ce=_,xe=C,Ee=F,Be=ce[xe-Ee],$e=ce[xe+0],De=ce[xe+Ee],Ze=xv[112+((Ve=3*($e-Be))+4>>3)],Ve=xv[112+(Ve+3>>3)],ke=Ze+1>>1;ce[xe-2*Ee]=Us[255+ce[xe-2*Ee]+ke],ce[xe-Ee]=Us[255+Be+Ve],ce[xe+0]=Us[255+$e-Ze],ce[xe+Ee]=Us[255+De-ke]}C+=H}}function Sm(_,C,F,H,Q,Z){ju(_,C,F,1,16,H,Q,Z)}function $d(_,C,F,H,Q,Z){ju(_,C,1,F,16,H,Q,Z)}function l_(_,C,F,H,Q,Z){var te;for(te=3;0<te;--te)nl(_,C+=4*F,F,1,16,H,Q,Z)}function Rf(_,C,F,H,Q,Z){var te;for(te=3;0<te;--te)nl(_,C+=4,1,F,16,H,Q,Z)}function c_(_,C,F,H,Q,Z,te,ie){ju(_,C,Q,1,8,Z,te,ie),ju(F,H,Q,1,8,Z,te,ie)}function Am(_,C,F,H,Q,Z,te,ie){ju(_,C,1,Q,8,Z,te,ie),ju(F,H,1,Q,8,Z,te,ie)}function Cm(_,C,F,H,Q,Z,te,ie){nl(_,C+4*Q,Q,1,8,Z,te,ie),nl(F,H+4*Q,Q,1,8,Z,te,ie)}function lv(_,C,F,H,Q,Z,te,ie){nl(_,C+4,1,Q,8,Z,te,ie),nl(F,H+4,1,Q,8,Z,te,ie)}function Lf(){this.ba=new Ls,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Em(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function km(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cv(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new E}function u_(){this.xb=this.a=0,this.l=new Pl,this.ca=new Ls,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cv,this.ab=0,this.gc=o(4,km),this.Oc=0}function Bf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zd(_,C,F,H,Q,Z,te){for(_=_==null?0:_[C+0],C=0;C<te;++C)Q[Z+C]=_+F[H+C]&255,_=Q[Z+C]}function Tm(_,C,F,H,Q,Z,te){var ie;if(_==null)zd(null,null,F,H,Q,Z,te);else for(ie=0;ie<te;++ie)Q[Z+ie]=_[C+ie]+F[H+ie]&255}function Su(_,C,F,H,Q,Z,te){if(_==null)zd(null,null,F,H,Q,Z,te);else{var ie,ce=_[C+0],xe=ce,Ee=ce;for(ie=0;ie<te;++ie)xe=Ee+(ce=_[C+ie])-xe,Ee=F[H+ie]+(-256&xe?0>xe?0:255:xe)&255,xe=ce,Q[Z+ie]=Ee}}function Om(_,C,F,H){var Q=C.width,Z=C.o;if(t(_!=null&&C!=null),0>F||0>=H||F+H>Z)return null;if(!_.Cc){if(_.ga==null){var te;if(_.ga=new Bf,(te=_.ga==null)||(te=C.width*C.o,t(_.Gb.length==0),_.Gb=i(te),_.Uc=0,_.Gb==null?te=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,te=1),te=!te),!te){te=_.ga;var ie=_.Fa,ce=_.P,xe=_.qc,Ee=_.mb,Be=_.nb,$e=ce+1,De=xe-1,Ze=te.l;if(t(ie!=null&&Ee!=null&&C!=null),Ou[0]=null,Ou[1]=zd,Ou[2]=Tm,Ou[3]=Su,te.ca=Ee,te.tb=Be,te.c=C.width,te.i=C.height,t(0<te.c&&0<te.i),1>=xe)C=0;else if(te.$a=ie[ce+0]>>0&3,te.Z=ie[ce+0]>>2&3,te.Lc=ie[ce+0]>>4&3,ce=ie[ce+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ce)C=0;else if(Ze.put=ho,Ze.ac=Ia,Ze.bc=po,Ze.ma=te,Ze.width=C.width,Ze.height=C.height,Ze.Da=C.Da,Ze.v=C.v,Ze.va=C.va,Ze.j=C.j,Ze.o=C.o,te.$a)e:{t(te.$a==1),C=We();t:for(;;){if(C==null){C=0;break e}if(t(te!=null),te.mc=C,C.c=te.c,C.i=te.i,C.l=te.l,C.l.ma=te,C.l.width=te.c,C.l.height=te.i,C.a=0,X(C.m,ie,$e,De),!Re(te.c,te.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&fe(C.s)?(te.ic=1,ie=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(ie),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(te.ic=0,C=Ue(C,te.c)),!C))break t;C=1;break e}te.mc=null,C=0}else C=De>=te.c*te.i;te=!C}if(te)return null;_.ga.Lc!=1?_.Ga=0:H=Z-F}t(_.ga!=null),t(F+H<=Z);e:{if(C=(ie=_.ga).c,Z=ie.l.o,ie.$a==0){if($e=_.rc,De=_.Vc,Ze=_.Fa,ce=_.P+1+F*C,xe=_.mb,Ee=_.nb+F*C,t(ce<=_.P+_.qc),ie.Z!=0)for(t(Ou[ie.Z]!=null),te=0;te<H;++te)Ou[ie.Z]($e,De,Ze,ce,xe,Ee,C),$e=xe,De=Ee,Ee+=C,ce+=C;else for(te=0;te<H;++te)n(xe,Ee,Ze,ce,C),$e=xe,De=Ee,Ee+=C,ce+=C;_.rc=$e,_.Vc=De}else{if(t(ie.mc!=null),C=F+H,t((te=ie.mc)!=null),t(C<=te.i),te.C>=C)C=1;else if(ie.ic||Fe(),ie.ic){ie=te.V,$e=te.Ba,De=te.c;var Ve=te.i,ke=(Ze=1,ce=te.$/De,xe=te.$%De,Ee=te.m,Be=te.s,te.$),Te=De*Ve,Qe=De*C,rt=Be.wc,Je=ke<Qe?Gn(Be,xe,ce):null;t(ke<=Te),t(C<=Ve),t(fe(Be));t:for(;;){for(;!Ee.h&&ke<Qe;){if(xe&rt||(Je=Gn(Be,xe,ce)),t(Je!=null),Y(Ee),256>(Ve=Ei(Je.G[0],Je.H[0],Ee)))ie[$e+ke]=Ve,++ke,++xe>=De&&(xe=0,++ce<=C&&!(ce%16)&&ge(te,ce));else{if(!(280>Ve)){Ze=0;break t}Ve=Bs(Ve-256,Ee);var yt,ht=Ei(Je.G[4],Je.H[4],Ee);if(Y(Ee),!(ke>=(ht=bs(De,ht=Bs(ht,Ee)))&&Te-ke>=Ve)){Ze=0;break t}for(yt=0;yt<Ve;++yt)ie[$e+ke+yt]=ie[$e+ke+yt-ht];for(ke+=Ve,xe+=Ve;xe>=De;)xe-=De,++ce<=C&&!(ce%16)&&ge(te,ce);ke<Qe&&xe&rt&&(Je=Gn(Be,xe,ce))}t(Ee.h==M(Ee))}ge(te,ce>C?C:ce);break t}!Ze||Ee.h&&ke<Te?(Ze=0,te.a=Ee.h?5:3):te.$=ke,C=Ze}else C=be(te,te.V,te.Ba,te.c,te.i,C,He);if(!C){H=0;break e}}F+H>=Z&&(_.Cc=1),H=1}if(!H)return null;if(_.Cc&&((H=_.ga)!=null&&(H.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+F*Q}function D(_,C,F,H,Q,Z){for(;0<Q--;){var te,ie=_,ce=C+(F?1:0),xe=_,Ee=C+(F?0:3);for(te=0;te<H;++te){var Be=xe[Ee+4*te];Be!=255&&(Be*=32897,ie[ce+4*te+0]=ie[ce+4*te+0]*Be>>23,ie[ce+4*te+1]=ie[ce+4*te+1]*Be>>23,ie[ce+4*te+2]=ie[ce+4*te+2]*Be>>23)}C+=Z}}function J(_,C,F,H,Q){for(;0<H--;){var Z;for(Z=0;Z<F;++Z){var te=_[C+2*Z+0],ie=15&(xe=_[C+2*Z+1]),ce=4369*ie,xe=(240&xe|xe>>4)*ce>>16;_[C+2*Z+0]=(240&te|te>>4)*ce>>16&240|(15&te|te<<4)*ce>>16>>4&15,_[C+2*Z+1]=240&xe|ie}C+=Q}}function we(_,C,F,H,Q,Z,te,ie){var ce,xe,Ee=255;for(xe=0;xe<Q;++xe){for(ce=0;ce<H;++ce){var Be=_[C+ce];Z[te+4*ce]=Be,Ee&=Be}C+=F,te+=ie}return Ee!=255}function Se(_,C,F,H,Q){var Z;for(Z=0;Z<Q;++Z)F[H+Z]=_[C+Z]>>8}function Fe(){vo=D,bn=J,yn=we,ua=Se}function qe(_,C,F){A[_]=function(H,Q,Z,te,ie,ce,xe,Ee,Be,$e,De,Ze,Ve,ke,Te,Qe,rt){var Je,yt=rt-1>>1,ht=ie[ce+0]|xe[Ee+0]<<16,$t=Be[$e+0]|De[Ze+0]<<16;t(H!=null);var pt=3*ht+$t+131074>>2;for(C(H[Q+0],255&pt,pt>>16,Ve,ke),Z!=null&&(pt=3*$t+ht+131074>>2,C(Z[te+0],255&pt,pt>>16,Te,Qe)),Je=1;Je<=yt;++Je){var Rr=ie[ce+Je]|xe[Ee+Je]<<16,Vr=Be[$e+Je]|De[Ze+Je]<<16,Sr=ht+Rr+$t+Vr+524296,mr=Sr+2*(Rr+$t)>>3;pt=mr+ht>>1,ht=(Sr=Sr+2*(ht+Vr)>>3)+Rr>>1,C(H[Q+2*Je-1],255&pt,pt>>16,Ve,ke+(2*Je-1)*F),C(H[Q+2*Je-0],255&ht,ht>>16,Ve,ke+(2*Je-0)*F),Z!=null&&(pt=Sr+$t>>1,ht=mr+Vr>>1,C(Z[te+2*Je-1],255&pt,pt>>16,Te,Qe+(2*Je-1)*F),C(Z[te+2*Je+0],255&ht,ht>>16,Te,Qe+(2*Je+0)*F)),ht=Rr,$t=Vr}1&rt||(pt=3*ht+$t+131074>>2,C(H[Q+rt-1],255&pt,pt>>16,Ve,ke+(rt-1)*F),Z!=null&&(pt=3*$t+ht+131074>>2,C(Z[te+rt-1],255&pt,pt>>16,Te,Qe+(rt-1)*F)))}}function nt(){yo[gv]=PW,yo[vv]=OE,yo[AE]=DW,yo[bv]=PE,yo[yv]=DE,yo[h_]=IE,yo[CE]=IW,yo[p_]=OE,yo[m_]=PE,yo[wv]=DE,yo[x_]=IE}function bt(_){return _&~MW?0>_?0:255:_>>ME}function It(_,C){return bt((19077*_>>8)+(26149*C>>8)-14234)}function rr(_,C,F){return bt((19077*_>>8)-(6419*C>>8)-(13320*F>>8)+8708)}function Zt(_,C){return bt((19077*_>>8)+(33050*C>>8)-17685)}function yr(_,C,F,H,Q){H[Q+0]=It(_,F),H[Q+1]=rr(_,C,F),H[Q+2]=Zt(_,C)}function zn(_,C,F,H,Q){H[Q+0]=Zt(_,C),H[Q+1]=rr(_,C,F),H[Q+2]=It(_,F)}function Yn(_,C,F,H,Q){var Z=rr(_,C,F);C=Z<<3&224|Zt(_,C)>>3,H[Q+0]=248&It(_,F)|Z>>5,H[Q+1]=C}function Na(_,C,F,H,Q){var Z=240&Zt(_,C)|15;H[Q+0]=240&It(_,F)|rr(_,C,F)>>4,H[Q+1]=Z}function Ti(_,C,F,H,Q){H[Q+0]=255,yr(_,C,F,H,Q+1)}function ti(_,C,F,H,Q){zn(_,C,F,H,Q),H[Q+3]=255}function al(_,C,F,H,Q){yr(_,C,F,H,Q),H[Q+3]=255}function zs(_,C){return 0>_?0:_>C?C:_}function Ml(_,C,F){A[_]=function(H,Q,Z,te,ie,ce,xe,Ee,Be){for(var $e=Ee+(-2&Be)*F;Ee!=$e;)C(H[Q+0],Z[te+0],ie[ce+0],xe,Ee),C(H[Q+1],Z[te+0],ie[ce+0],xe,Ee+F),Q+=2,++te,++ce,Ee+=2*F;1&Be&&C(H[Q+0],Z[te+0],ie[ce+0],xe,Ee)}}function uv(_,C,F){return F==0?_==0?C==0?6:5:C==0?4:0:F}function Pm(_,C,F,H,Q){switch(_>>>30){case 3:kc(C,F,H,Q,0);break;case 2:ca(C,F,H,Q);break;case 1:Zi(C,F,H,Q)}}function Dm(_,C){var F,H,Q=C.M,Z=C.Nb,te=_.oc,ie=_.pc+40,ce=_.oc,xe=_.pc+584,Ee=_.oc,Be=_.pc+600;for(F=0;16>F;++F)te[ie+32*F-1]=129;for(F=0;8>F;++F)ce[xe+32*F-1]=129,Ee[Be+32*F-1]=129;for(0<Q?te[ie-1-32]=ce[xe-1-32]=Ee[Be-1-32]=129:(a(te,ie-32-1,127,21),a(ce,xe-32-1,127,9),a(Ee,Be-32-1,127,9)),H=0;H<_.za;++H){var $e=C.ya[C.aa+H];if(0<H){for(F=-1;16>F;++F)n(te,ie+32*F-4,te,ie+32*F+12,4);for(F=-1;8>F;++F)n(ce,xe+32*F-4,ce,xe+32*F+4,4),n(Ee,Be+32*F-4,Ee,Be+32*F+4,4)}var De=_.Gd,Ze=_.Hd+H,Ve=$e.ad,ke=$e.Hc;if(0<Q&&(n(te,ie-32,De[Ze].y,0,16),n(ce,xe-32,De[Ze].f,0,8),n(Ee,Be-32,De[Ze].ea,0,8)),$e.Za){var Te=te,Qe=ie-32+16;for(0<Q&&(H>=_.za-1?a(Te,Qe,De[Ze].y[15],4):n(Te,Qe,De[Ze+1].y,0,4)),F=0;4>F;F++)Te[Qe+128+F]=Te[Qe+256+F]=Te[Qe+384+F]=Te[Qe+0+F];for(F=0;16>F;++F,ke<<=2)Te=te,Qe=ie+RE[F],il[$e.Ob[F]](Te,Qe),Pm(ke,Ve,16*+F,Te,Qe)}else if(Te=uv(H,Q,$e.Ob[0]),Tu[Te](te,ie),ke!=0)for(F=0;16>F;++F,ke<<=2)Pm(ke,Ve,16*+F,te,ie+RE[F]);for(F=$e.Gc,Te=uv(H,Q,$e.Dd),Oc[Te](ce,xe),Oc[Te](Ee,Be),ke=Ve,Te=ce,Qe=xe,255&($e=F>>0)&&(170&$e?Lm(ke,256,Te,Qe):xo(ke,256,Te,Qe)),$e=Ee,ke=Be,255&(F>>=8)&&(170&F?Lm(Ve,320,$e,ke):xo(Ve,320,$e,ke)),Q<_.Ub-1&&(n(De[Ze].y,0,te,ie+480,16),n(De[Ze].f,0,ce,xe+224,8),n(De[Ze].ea,0,Ee,Be+224,8)),F=8*Z*_.B,De=_.sa,Ze=_.ta+16*H+16*Z*_.R,Ve=_.qa,$e=_.ra+8*H+F,ke=_.Ha,Te=_.Ia+8*H+F,F=0;16>F;++F)n(De,Ze+F*_.R,te,ie+32*F,16);for(F=0;8>F;++F)n(Ve,$e+F*_.B,ce,xe+32*F,8),n(ke,Te+F*_.B,Ee,Be+32*F,8)}}function $f(_,C,F,H,Q,Z,te,ie,ce){var xe=[0],Ee=[0],Be=0,$e=ce!=null?ce.kd:0,De=ce??new Em;if(_==null||12>F)return 7;De.data=_,De.w=C,De.ha=F,C=[C],F=[F],De.gb=[De.gb];e:{var Ze=C,Ve=F,ke=De.gb;if(t(_!=null),t(Ve!=null),t(ke!=null),ke[0]=0,12<=Ve[0]&&!r(_,Ze[0],"RIFF")){if(r(_,Ze[0]+8,"WEBP")){ke=3;break e}var Te=Me(_,Ze[0]+4);if(12>Te||4294967286<Te){ke=3;break e}if($e&&Te>Ve[0]-8){ke=7;break e}ke[0]=Te,Ze[0]+=12,Ve[0]-=12}ke=0}if(ke!=0)return ke;for(Te=0<De.gb[0],F=F[0];;){e:{var Qe=_;Ve=C,ke=F;var rt=xe,Je=Ee,yt=Ze=[0];if((pt=Be=[Be])[0]=0,8>ke[0])ke=7;else{if(!r(Qe,Ve[0],"VP8X")){if(Me(Qe,Ve[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var ht=Me(Qe,Ve[0]+8),$t=1+V(Qe,Ve[0]+12);if(2147483648<=$t*(Qe=1+V(Qe,Ve[0]+15))){ke=3;break e}yt!=null&&(yt[0]=ht),rt!=null&&(rt[0]=$t),Je!=null&&(Je[0]=Qe),Ve[0]+=18,ke[0]-=18,pt[0]=1}ke=0}}if(Be=Be[0],Ze=Ze[0],ke!=0)return ke;if(Ve=!!(2&Ze),!Te&&Be)return 3;if(Z!=null&&(Z[0]=!!(16&Ze)),te!=null&&(te[0]=Ve),ie!=null&&(ie[0]=0),te=xe[0],Ze=Ee[0],Be&&Ve&&ce==null){ke=0;break}if(4>F){ke=7;break}if(Te&&Be||!Te&&!Be&&!r(_,C[0],"ALPH")){F=[F],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{ht=_,ke=C,Te=F;var pt=De.gb;rt=De.na,Je=De.P,yt=De.Sa,$t=22,t(ht!=null),t(Te!=null),Qe=ke[0];var Rr=Te[0];for(t(rt!=null),t(yt!=null),rt[0]=null,Je[0]=null,yt[0]=0;;){if(ke[0]=Qe,Te[0]=Rr,8>Rr){ke=7;break e}var Vr=Me(ht,Qe+4);if(4294967286<Vr){ke=3;break e}var Sr=8+Vr+1&-2;if($t+=Sr,0<pt&&$t>pt){ke=3;break e}if(!r(ht,Qe,"VP8 ")||!r(ht,Qe,"VP8L")){ke=0;break e}if(Rr[0]<Sr){ke=7;break e}r(ht,Qe,"ALPH")||(rt[0]=ht,Je[0]=Qe+8,yt[0]=Vr),Qe+=Sr,Rr-=Sr}}if(F=F[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],ke!=0)break}F=[F],De.Ja=[De.Ja],De.xa=[De.xa];e:if(pt=_,ke=C,Te=F,rt=De.gb[0],Je=De.Ja,yt=De.xa,ht=ke[0],Qe=!r(pt,ht,"VP8 "),$t=!r(pt,ht,"VP8L"),t(pt!=null),t(Te!=null),t(Je!=null),t(yt!=null),8>Te[0])ke=7;else{if(Qe||$t){if(pt=Me(pt,ht+4),12<=rt&&pt>rt-12){ke=3;break e}if($e&&pt>Te[0]-8){ke=7;break e}Je[0]=pt,ke[0]+=8,Te[0]-=8,yt[0]=$t}else yt[0]=5<=Te[0]&&pt[ht+0]==47&&!(pt[ht+4]>>5),Je[0]=Te[0];ke=0}if(F=F[0],De.Ja=De.Ja[0],De.xa=De.xa[0],C=C[0],ke!=0)break;if(4294967286<De.Ja)return 3;if(ie==null||Ve||(ie[0]=De.xa?2:1),te=[te],Ze=[Ze],De.xa){if(5>F){ke=7;break}ie=te,$e=Ze,Ve=Z,_==null||5>F?_=0:5<=F&&_[C+0]==47&&!(_[C+4]>>5)?(Te=[0],pt=[0],rt=[0],X(Je=new I,_,C,F),Bt(Je,Te,pt,rt)?(ie!=null&&(ie[0]=Te[0]),$e!=null&&($e[0]=pt[0]),Ve!=null&&(Ve[0]=rt[0]),_=1):_=0):_=0}else{if(10>F){ke=7;break}ie=Ze,_==null||10>F||!Yg(_,C+3,F-3)?_=0:($e=_[C+0]|_[C+1]<<8|_[C+2]<<16,Ve=16383&(_[C+7]<<8|_[C+6]),_=16383&(_[C+9]<<8|_[C+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=De.Ja||!Ve||!_?_=0:(te&&(te[0]=Ve),ie&&(ie[0]=_),_=1))}if(!_||(te=te[0],Ze=Ze[0],Be&&(xe[0]!=te||Ee[0]!=Ze)))return 3;ce!=null&&(ce[0]=De,ce.offset=C-ce.w,t(4294967286>C-ce.w),t(ce.offset==ce.ha-F));break}return ke==0||ke==7&&Be&&ce==null?(Z!=null&&(Z[0]|=De.na!=null&&0<De.na.length),H!=null&&(H[0]=te),Q!=null&&(Q[0]=Ze),0):ke}function Im(_,C,F){var H=C.width,Q=C.height,Z=0,te=0,ie=H,ce=Q;if(C.Da=_!=null&&0<_.Da,C.Da&&(ie=_.cd,ce=_.bd,Z=_.v,te=_.j,11>F||(Z&=-2,te&=-2),0>Z||0>te||0>=ie||0>=ce||Z+ie>H||te+ce>Q))return 0;if(C.v=Z,C.j=te,C.va=Z+ie,C.o=te+ce,C.U=ie,C.T=ce,C.da=_!=null&&0<_.da,C.da){if(!Oe(ie,ce,F=[_.ib],Z=[_.hb]))return 0;C.ib=F[0],C.hb=Z[0]}return C.ob=_!=null&&_.ob,C.Kb=_==null||!_.Sd,C.da&&(C.ob=C.ib<3*H/4&&C.hb<3*Q/4,C.Kb=0),1}function Mm(_){if(_==null)return 2;if(11>_.S){var C=_.f.RGBA;C.fb+=(_.height-1)*C.A,C.A=-C.A}else C=_.f.kb,_=_.height,C.O+=(_-1)*C.fa,C.fa=-C.fa,C.N+=(_-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(_-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(_-1)*C.lb,C.lb=-C.lb);return 0}function zf(_,C,F,H){if(H==null||0>=_||0>=C)return 2;if(F!=null){if(F.Da){var Q=F.cd,Z=F.bd,te=-2&F.v,ie=-2&F.j;if(0>te||0>ie||0>=Q||0>=Z||te+Q>_||ie+Z>C)return 2;_=Q,C=Z}if(F.da){if(!Oe(_,C,Q=[F.ib],Z=[F.hb]))return 2;_=Q[0],C=Z[0]}}H.width=_,H.height=C;e:{var ce=H.width,xe=H.height;if(_=H.S,0>=ce||0>=xe||!(_>=gv&&13>_))_=2;else{if(0>=H.Rd&&H.sd==null){te=Z=Q=C=0;var Ee=(ie=ce*LE[_])*xe;if(11>_||(Z=(xe+1)/2*(C=(ce+1)/2),_==12&&(te=(Q=ce)*xe)),(xe=i(Ee+2*Z+te))==null){_=1;break e}H.sd=xe,11>_?((ce=H.f.RGBA).eb=xe,ce.fb=0,ce.A=ie,ce.size=Ee):((ce=H.f.kb).y=xe,ce.O=0,ce.fa=ie,ce.Fd=Ee,ce.f=xe,ce.N=0+Ee,ce.Ab=C,ce.Cd=Z,ce.ea=xe,ce.W=0+Ee+Z,ce.Db=C,ce.Ed=Z,_==12&&(ce.F=xe,ce.J=0+Ee+2*Z),ce.Tc=te,ce.lb=Q)}if(C=1,Q=H.S,Z=H.width,te=H.height,Q>=gv&&13>Q)if(11>Q)_=H.f.RGBA,C&=(ie=Math.abs(_.A))*(te-1)+Z<=_.size,C&=ie>=Z*LE[Q],C&=_.eb!=null;else{_=H.f.kb,ie=(Z+1)/2,Ee=(te+1)/2,ce=Math.abs(_.fa),xe=Math.abs(_.Ab);var Be=Math.abs(_.Db),$e=Math.abs(_.lb),De=$e*(te-1)+Z;C&=ce*(te-1)+Z<=_.Fd,C&=xe*(Ee-1)+ie<=_.Cd,C=(C&=Be*(Ee-1)+ie<=_.Ed)&ce>=Z&xe>=ie&Be>=ie,C&=_.y!=null,C&=_.f!=null,C&=_.ea!=null,Q==12&&(C&=$e>=Z,C&=De<=_.Tc,C&=_.F!=null)}else C=0;_=C?0:2}}return _!=0||F!=null&&F.fd&&(_=Mm(H)),_}var xi=64,Uf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hf=24,Wf=32,Fm=8,ws=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ye("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(_){return _},A.Predictor2=function(_,C,F){return C[F+0]},A.Predictor3=function(_,C,F){return C[F+1]},A.Predictor4=function(_,C,F){return C[F-1]},A.Predictor5=function(_,C,F){return Ne(Ne(_,C[F+1]),C[F+0])},A.Predictor6=function(_,C,F){return Ne(_,C[F-1])},A.Predictor7=function(_,C,F){return Ne(_,C[F+0])},A.Predictor8=function(_,C,F){return Ne(C[F-1],C[F+0])},A.Predictor9=function(_,C,F){return Ne(C[F+0],C[F+1])},A.Predictor10=function(_,C,F){return Ne(Ne(_,C[F-1]),Ne(C[F+0],C[F+1]))},A.Predictor11=function(_,C,F){var H=C[F+0];return 0>=tt(H>>24&255,_>>24&255,(C=C[F-1])>>24&255)+tt(H>>16&255,_>>16&255,C>>16&255)+tt(H>>8&255,_>>8&255,C>>8&255)+tt(255&H,255&_,255&C)?H:_},A.Predictor12=function(_,C,F){var H=C[F+0];return(Pe((_>>24&255)+(H>>24&255)-((C=C[F-1])>>24&255))<<24|Pe((_>>16&255)+(H>>16&255)-(C>>16&255))<<16|Pe((_>>8&255)+(H>>8&255)-(C>>8&255))<<8|Pe((255&_)+(255&H)-(255&C)))>>>0},A.Predictor13=function(_,C,F){var H=C[F-1];return(Xe((_=Ne(_,C[F+0]))>>24&255,H>>24&255)<<24|Xe(_>>16&255,H>>16&255)<<16|Xe(_>>8&255,H>>8&255)<<8|Xe(_>>0&255,H>>0&255))>>>0};var d_=A.PredictorAdd0;A.PredictorAdd1=gt,ye("Predictor2","PredictorAdd2"),ye("Predictor3","PredictorAdd3"),ye("Predictor4","PredictorAdd4"),ye("Predictor5","PredictorAdd5"),ye("Predictor6","PredictorAdd6"),ye("Predictor7","PredictorAdd7"),ye("Predictor8","PredictorAdd8"),ye("Predictor9","PredictorAdd9"),ye("Predictor10","PredictorAdd10"),ye("Predictor11","PredictorAdd11"),ye("Predictor12","PredictorAdd12"),ye("Predictor13","PredictorAdd13");var Rm=A.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var dv,mo=A.ColorIndexInverseTransform,Vf=A.MapARGB,fv=A.VP8LColorIndexInverseTransformAlpha,hv=A.MapAlpha,Au=A.VP8LPredictorsAdd=[];Au.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Ud,_s,Ji,Cu,Cc,Ec,qf,kc,ca,Lm,Zi,xo,Gf,pv,Bm,Hd,Wd,Eu,Vd,Yf,qd,ku,$m,go,vo,bn,yn,ua,Ma=i(511),Tc=i(2041),zm=i(225),Xf=i(767),mv=0,f_=Tc,xv=zm,Us=Xf,bo=Ma,gv=0,vv=1,AE=2,bv=3,yv=4,h_=5,CE=6,p_=7,m_=8,wv=9,x_=10,vW=[2,3,7],bW=[3,3,11],EE=[280,256,256,256,40],yW=[0,1,1,1,0],wW=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_W=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],NW=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jW=8,g_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],v_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Um=null,SW=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],AW=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],CW=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],EW=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],kW=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],TW=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Tu=[],il=[],Oc=[],OW=1,TE=2,Ou=[],yo=[];qe("UpsampleRgbLinePair",yr,3),qe("UpsampleBgrLinePair",zn,3),qe("UpsampleRgbaLinePair",al,4),qe("UpsampleBgraLinePair",ti,4),qe("UpsampleArgbLinePair",Ti,4),qe("UpsampleRgba4444LinePair",Na,2),qe("UpsampleRgb565LinePair",Yn,2);var PW=A.UpsampleRgbLinePair,DW=A.UpsampleBgrLinePair,OE=A.UpsampleRgbaLinePair,PE=A.UpsampleBgraLinePair,DE=A.UpsampleArgbLinePair,IE=A.UpsampleRgba4444LinePair,IW=A.UpsampleRgb565LinePair,_v=16,Nv=1<<_v-1,Hm=-227,b_=482,ME=6,MW=(256<<ME)-1,FE=0,FW=i(256),RW=i(256),LW=i(256),BW=i(256),$W=i(b_-Hm),zW=i(b_-Hm);Ml("YuvToRgbRow",yr,3),Ml("YuvToBgrRow",zn,3),Ml("YuvToRgbaRow",al,4),Ml("YuvToBgraRow",ti,4),Ml("YuvToArgbRow",Ti,4),Ml("YuvToRgba4444Row",Na,2),Ml("YuvToRgb565Row",Yn,2);var RE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jv=[0,2,8],UW=[8,7,6,4,4,2,2,2,1,1,1,1],HW=1;this.WebPDecodeRGBA=function(_,C,F,H,Q){var Z=vv,te=new Lf,ie=new Ls;te.ba=ie,ie.S=Z,ie.width=[ie.width],ie.height=[ie.height];var ce=ie.width,xe=ie.height,Ee=new Zo;if(Ee==null||_==null)var Be=2;else t(Ee!=null),Be=$f(_,C,F,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if(Be!=0?ce=0:(ce!=null&&(ce[0]=Ee.width[0]),xe!=null&&(xe[0]=Ee.height[0]),ce=1),ce){ie.width=ie.width[0],ie.height=ie.height[0],H!=null&&(H[0]=ie.width),Q!=null&&(Q[0]=ie.height);e:{if(H=new Pl,(Q=new Em).data=_,Q.w=C,Q.ha=F,Q.kd=1,C=[0],t(Q!=null),((_=$f(Q.data,Q.w,Q.ha,null,null,null,C,null,Q))==0||_==7)&&C[0]&&(_=4),(C=_)==0){if(t(te!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=ho,H.ac=Ia,H.bc=po,H.ma=te,Q.xa){if((_=We())==null){te=1;break e}if(function($e,De){var Ze=[0],Ve=[0],ke=[0];t:for(;;){if($e==null)return 0;if(De==null)return $e.a=2,0;if($e.l=De,$e.a=0,X($e.m,De.data,De.w,De.ha),!Bt($e.m,Ze,Ve,ke)){$e.a=3;break t}if($e.xb=TE,De.width=Ze[0],De.height=Ve[0],!Re(Ze[0],Ve[0],1,$e,null))break t;return 1}return t($e.a!=0),0}(_,H)){if(H=(C=zf(H.width,H.height,te.Oa,te.ba))==0){t:{H=_;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((F=H.l)!=null),t((Q=F.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,t(H.ca!=null),!Im(Q.Oa,F,bv)){H.a=2;break r}if(!Ue(H,F.width)||F.da)break r;if((F.da||jr(H.ca.S))&&Fe(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Fe()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Ae(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!be(H,H.V,H.Ba,H.c,H.i,F.o,ve))break r;Q.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(C=_.a)}else C=_.a}else{if((_=new $s)==null){te=1;break e}if(_.Fa=Q.na,_.P=Q.P,_.qc=Q.Sa,Xg(_,H)){if((C=zf(H.width,H.height,te.Oa,te.ba))==0){if(_.Aa=0,F=te.Oa,t((Q=_)!=null),F!=null){if(0<(ce=0>(ce=F.Md)?0:100<ce?255:255*ce/100)){for(xe=Ee=0;4>xe;++xe)12>(Be=Q.pb[xe]).lc&&(Be.ia=ce*UW[0>Be.lc?0:Be.lc]>>3),Ee|=Be.ia;Ee&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=F.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}G5(_,H)||(C=_.a)}}else C=_.a}C==0&&te.Oa!=null&&te.Oa.fd&&(C=Mm(te.ba))}te=C}Z=te!=0?null:11>Z?ie.f.RGBA.eb:ie.f.kb.y}else Z=null;return Z};var LE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(A,T){for(var R="",O=0;O<4;O++)R+=String.fromCharCode(A[T++]);return R}function d(A,T){return(A[T+0]<<0|A[T+1]<<8|A[T+2]<<16)>>>0}function f(A,T){return(A[T+0]<<0|A[T+1]<<8|A[T+2]<<16|A[T+3]<<24)>>>0}new c;var h=[0],p=[0],m=[],x=new c,g=e,v=function(A,T){var R={},O=0,E=!1,L=0,B=0;if(R.frames=[],!function(P,M,z,Y){for(var ae=0;ae<Y;ae++)if(P[M+ae]!=z.charCodeAt(ae))return!0;return!1}(A,T,"RIFF",4)){var G,U;for(f(A,T+=4),T+=8;T<A.length;){var W=u(A,T),X=f(A,T+=4);T+=4;var q=X+(1&X);switch(W){case"VP8 ":case"VP8L":R.frames[O]===void 0&&(R.frames[O]={}),(I=R.frames[O]).src_off=E?B:T-8,I.src_size=L+X+8,O++,E&&(E=!1,L=0,B=0);break;case"VP8X":(I=R.header={}).feature_flags=A[T];var le=T+4;I.canvas_width=1+d(A,le),le+=3,I.canvas_height=1+d(A,le),le+=3;break;case"ALPH":E=!0,L=q+8,B=T-8;break;case"ANIM":(I=R.header).bgcolor=f(A,T),le=T+4,I.loop_count=(G=A)[(U=le)+0]<<0|G[U+1]<<8,le+=2;break;case"ANMF":var se,I;(I=R.frames[O]={}).offset_x=2*d(A,T),T+=3,I.offset_y=2*d(A,T),T+=3,I.width=1+d(A,T),T+=3,I.height=1+d(A,T),T+=3,I.duration=d(A,T),T+=3,se=A[T++],I.dispose=1&se,I.blend=se>>1&1}W!="ANMF"&&(T+=q)}return R}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,y=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var w=0;w<y.length&&y[w].blend!=0;w++);}var N=y[0],S=x.WebPDecodeRGBA(g,N.src_off,N.src_size,p,h);N.rgba=S,N.imgwidth=p[0],N.imgheight=h[0];for(var j=0;j<p[0]*h[0]*4;j++)m[j]=S[j];return this.width=p,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof Fj=="function"},r=function(h,p,m,x){var g=4,v=o;switch(x){case e.image_compression.FAST:g=1,v=i;break;case e.image_compression.MEDIUM:g=6,v=l;break;case e.image_compression.SLOW:g=9,v=c}h=n(h,p,m,v);var b=Fj(h,{level:g});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,m,x){for(var g,v,b,y=h.length/p,w=new Uint8Array(h.length+y),N=d(),S=0;S<y;S+=1){if(b=S*p,g=h.subarray(b,b+p),x)w.set(x(g,m,v),b+S);else{for(var j,A=N.length,T=[];j<A;j+=1)T[j]=N[j](g,m,v);var R=f(T.concat());w.set(T[R],b+S)}v=g}return w},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var m,x=[],g=h.length;x[0]=1;for(var v=0;v<g;v+=1)m=h[v-p]||0,x[v+1]=h[v]-m+256&255;return x},o=function(h,p,m){var x,g=[],v=h.length;g[0]=2;for(var b=0;b<v;b+=1)x=m&&m[b]||0,g[b+1]=h[b]-x+256&255;return g},l=function(h,p,m){var x,g,v=[],b=h.length;v[0]=3;for(var y=0;y<b;y+=1)x=h[y-p]||0,g=m&&m[y]||0,v[y+1]=h[y]+256-(x+g>>>1)&255;return v},c=function(h,p,m){var x,g,v,b,y=[],w=h.length;y[0]=4;for(var N=0;N<w;N+=1)x=h[N-p]||0,g=m&&m[N]||0,v=m&&m[N-p]||0,b=u(x,g,v),y[N+1]=h[N]-b+256&255;return y},u=function(h,p,m){if(h===p&&p===m)return h;var x=Math.abs(p-m),g=Math.abs(h-m),v=Math.abs(h+p-m-m);return x<=g&&x<=v?h:g<=v?p:m},d=function(){return[a,i,o,l,c]},f=function(h){var p=h.map(function(m){return m.reduce(function(x,g){return x+Math.abs(g)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,m,x){var g,v,b,y,w,N,S,j,A,T,R,O,E,L,B,G=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new iIe(h)).imgData,v=b.bits,g=b.colorSpace,w=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){A=(j=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,R=new Uint8Array(A*b.colors),T=new Uint8Array(A);var W,X=b.pixelBitlength-b.bits;for(L=0,B=0;L<A;L++){for(E=j[L],W=0;W<X;)R[B++]=E>>>W&255,W+=b.bits;T[L]=E>>>W&255}}if(b.bits===16){A=(j=new Uint32Array(b.decodePixels().buffer)).length,R=new Uint8Array(A*(32/b.pixelBitlength)*b.colors),T=new Uint8Array(A*(32/b.pixelBitlength)),O=b.colors>1,L=0,B=0;for(var q=0;L<A;)E=j[L++],R[B++]=E>>>0&255,O&&(R[B++]=E>>>16&255,E=j[L++],R[B++]=E>>>0&255),T[q++]=E>>>16&255;v=8}x!==e.image_compression.NONE&&t()?(h=r(R,b.width*b.colors,b.colors,x),S=r(T,b.width,1,x)):(h=R,S=T,G=void 0)}if(b.colorType===3&&(g=this.color_spaces.INDEXED,N=b.palette,b.transparency.indexed)){var le=b.transparency.indexed,se=0;for(L=0,A=le.length;L<A;++L)se+=le[L];if((se/=255)===A-1&&le.indexOf(0)!==-1)y=[le.indexOf(0)];else if(se!==A){for(j=b.decodePixels(),T=new Uint8Array(j.length),L=0,A=j.length;L<A;L++)T[L]=le[j[L]];S=r(T,b.width,1)}}var I=function(P){var M;switch(P){case e.image_compression.FAST:M=11;break;case e.image_compression.MEDIUM:M=13;break;case e.image_compression.SLOW:M=14;break;default:M=12}return M}(x);return G===this.decode.FLATE_DECODE&&(U="/Predictor "+I+" "),U+="/Colors "+w+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:m,data:h,index:p,filter:G,decodeParameters:U,transparency:y,palette:N,sMask:S,predictor:I,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:g}}}})(Mt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new sIe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new U4(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Mt.API),ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ul.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){mn.log("bit decode error:"+r)}},ul.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ul.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ul.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ul.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},ul.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},ul.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ul.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},ul.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new ul(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new U4(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Mt.API),$D.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new $D(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new U4(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Mt.API),Mt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,o[c++]=p}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Mt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fh=Mt.API,_2=fh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,m=0,x=l[0]||c,g=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&tn(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,g.push((l[n]||x)/c+h)),m=n;return g},FD=fh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return fh.processArabic&&(e=fh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:_2.apply(this,arguments).reduce(function(i,o){return i+o},0)},RD=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},LD=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,m=0,x=e.split(" "),g=_2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),b=[];x.map(function(w){(w=w.split(/\s*\n/)).length>1?b=b.concat(w.map(function(N,S){return(S&&N.length?`
`:"")+N})):b.push(w[0])}),x=b,c=FD.apply(this,[v,r])}for(i=0,o=x.length;i<o;i++){var y=0;if(n=x[i],c&&n[0]==`
`&&(n=n.substr(1),y=1),h+p+(m=(a=_2.apply(this,[n,r])).reduce(function(w,N){return w+N},0))>t||y){if(m>t){for(l=RD.apply(this,[n,a,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);m=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(w,N){return w+N},0)}else d=[n];f.push(d),h=m+c,p=g}else d.push(n),h+=p+m,p=g}return u=c?function(w,N){return(N?v:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},fh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(LD.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,p,m,x,g=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=i(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),x="-"):(m=i(h).slice(2),x=""),m=x+m.slice(0,-1)+n[m.slice(-1)];else{if(tn(h)!=="object")throw new Error("Don't know what to do with value type "+tn(h)+".");m=o(h)}g.push(p+m)}return g.push("}"),g.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,x,g={},v=1,b=g,y=[],w="",N="",S=f.length-1,j=1;j<S;j+=1)(x=f[j])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(y.push([b,m]),b={},m=void 0):x=="}"?((p=y.pop())[0][p[1]]=b,m=void 0,b=p[0]):x=="-"?v=-1:m===void 0?r.hasOwnProperty(x)?(w+=r[x],m=parseInt(w,16)*v,v=1,w=""):w+=x:r.hasOwnProperty(x)?(N+=r[x],b[m]=parseInt(N,16)*v,v=1,m=void 0,N=""):N+=x;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Mt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(qx(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Mt),function(e){function t(){return(Vt.canvg?Promise.resolve(Vt.canvg):fc(()=>import("./index.es-DUXxOsLc.js"),__vite__mapDeps([0,1]),import.meta.url)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Mt.API.addSvgAsImage=function(r,n,a,i,o,l,c,u){if(isNaN(n)||isNaN(a))throw mn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw mn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),Mt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Mt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(m,x){var g,v=!1;for(g=0;g<m.length;g+=1)m[g]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(tn(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,x=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?x.push("/"+m+" /"+r[m].value):x.push("/"+m+" "+r[m].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Mt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(p,m){return p-m})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var x=u();d({data:p,addLength1:!0,objectId:x}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Eh(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Eh(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+Eh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Eh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Eh(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,m=f.fonts,x=p,g="",v=0,b="",y=m[x].encoding;if(m[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(b=l,x=p,Array.isArray(l)&&(b=l[0]),v=0;v<b.length;v+=1)m[x].metadata.hasOwnProperty("cmap")&&(o=m[x].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),o||b[v].charCodeAt(0)<256&&m[x].metadata.hasOwnProperty("Unicode")?g+=b[v]:g+="";var w="";return parseInt(x.slice(1))<14||y==="WinAnsiEncoding"?w=h(g,x).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(w=r(g,m[x])),f.isHex=!0,{text:w,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Mt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Mt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,y=0;this.__bidiEngine__={};var w=function(O){var E=O.charCodeAt(),L=E>>8,B=x[L];return B!==void 0?f[256*B+(255&E)]:L===252||L===253?"AL":v.test(L)?"L":L===8?"R":"N"},N=function(O){for(var E,L=0;L<O.length;L++){if((E=w(O.charAt(L)))==="L")return!1;if(E==="R")return!0}return!1},S=function(O,E,L,B){var G,U,W,X,q=E[B];switch(q){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(q="AN");break;case"AL":b=!0,q="R";break;case"WS":q="N";break;case"CS":B<1||B+1>=E.length||(G=L[B-1])!=="EN"&&G!=="AN"||(U=E[B+1])!=="EN"&&U!=="AN"?q="N":b&&(U="AN"),q=U===G?U:"N";break;case"ES":q=(G=B>0?L[B-1]:"B")==="EN"&&B+1<E.length&&E[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&L[B-1]==="EN"){q="EN";break}if(b){q="N";break}for(W=B+1,X=E.length;W<X&&E[W]==="ET";)W++;q=W<X&&E[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(X=E.length,W=B+1;W<X&&E[W]==="NSM";)W++;if(W<X){var le=O[B],se=le>=1425&&le<=2303||le===64286;if(G=E[W],se&&(G==="R"||G==="AL")){q="R";break}}}q=B<1||(G=E[B-1])==="B"?"N":L[B-1];break;case"B":b=!1,a=!0,q=y;break;case"S":i=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":q="N"}return q},j=function(O,E,L){var B=O.split("");return L&&A(B,L,{hiLevel:y}),B.reverse(),E&&E.reverse(),B.join("")},A=function(O,E,L){var B,G,U,W,X,q=-1,le=O.length,se=0,I=[],P=y?p:h,M=[];for(b=!1,a=!1,i=!1,G=0;G<le;G++)M[G]=w(O[G]);for(U=0;U<le;U++){if(X=se,I[U]=S(O,M,I,U),B=240&(se=P[X][m[I[U]]]),se&=15,E[U]=W=P[se][5],B>0)if(B===16){for(G=q;G<U;G++)E[G]=1;q=-1}else q=-1;if(P[se][6])q===-1&&(q=U);else if(q>-1){for(G=q;G<U;G++)E[G]=W;q=-1}M[U]==="B"&&(E[U]=0),L.hiLevel|=W}i&&function(z,Y,ae){for(var ue=0;ue<ae;ue++)if(z[ue]==="S"){Y[ue]=y;for(var ne=ue-1;ne>=0&&z[ne]==="WS";ne--)Y[ne]=y}}(M,E,le)},T=function(O,E,L,B,G){if(!(G.hiLevel<O)){if(O===1&&y===1&&!a)return E.reverse(),void(L&&L.reverse());for(var U,W,X,q,le=E.length,se=0;se<le;){if(B[se]>=O){for(X=se+1;X<le&&B[X]>=O;)X++;for(q=se,W=X-1;q<W;q++,W--)U=E[q],E[q]=E[W],E[W]=U,L&&(U=L[q],L[q]=L[W],L[W]=U);se=X}se++}}},R=function(O,E,L){var B=O.split(""),G={hiLevel:y};return L||(L=[]),A(B,L,G),function(U,W,X){if(X.hiLevel!==0&&d)for(var q,le=0;le<U.length;le++)W[le]===1&&(q=g.indexOf(U[le]))>=0&&(U[le]=g[q+1])}(B,L,G),T(2,B,E,L,G),T(1,B,E,L,G),B.join("")};return this.__bidiEngine__.doBidiReorder=function(O,E,L){if(function(G,U){if(U)for(var W=0;W<G.length;W++)U[W]=W;l===void 0&&(l=N(G)),u===void 0&&(u=N(G))}(O,E),o||!c||u)if(o&&c&&l^u)y=l?1:0,O=j(O,E,L);else if(!o&&c&&u)y=l?1:0,O=R(O,E,L),O=j(O,E);else if(!o||l||c||u){if(o&&!c&&l^u)O=j(O,E),l?(y=0,O=R(O,E,L)):(y=1,O=R(O,E,L),O=j(O,E));else if(o&&l&&!c&&u)y=1,O=R(O,E,L),O=j(O,E);else if(!o&&!c&&l^u){var B=d;l?(y=1,O=R(O,E,L),y=0,d=!1,O=R(O,E,L),d=B):(y=0,O=R(O,E,L),O=j(O,E),y=1,d=!1,O=R(O,E,L),d=B,O=j(O,E))}}else y=0,O=R(O,E,L);else y=l?1:0,O=R(O,E,L);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,u=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new kd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wIe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new oIe(this.contents),this.head=new cIe(this),this.name=new pIe(this),this.cmap=new xz(this),this.toUnicode={},this.hhea=new uIe(this),this.maxp=new mIe(this),this.hmtx=new xIe(this),this.post=new fIe(this),this.os2=new dIe(this),this.loca=new yIe(this),this.glyf=new gIe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var El,kd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),oIe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,h,p,m,x;for(x in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),d=16*p-f,(a=new kd).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*p,u=a.pos+i,l=null,m=[],r)for(h=r[x],a.writeString(x),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),m=m.concat(h),x==="head"&&(l=u),u+=h.length;u%4;)m.push(0),u++;return a.write(m),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=gz.call(r);r.length%4;)r.push(0);for(i=new kd(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),lIe={}.hasOwnProperty,wc=function(e,t){for(var r in t)lIe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};El=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var cIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new kd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),zD=function(){function e(t,r){var n,a,i,o,l,c,u,d,f,h,p,m,x,g,v,b,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var w,N;for(N=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)N.push(t.readUInt16());return N}(),t.pos+=2,x=function(){var w,N;for(N=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)N.push(t.readUInt16());return N}(),u=function(){var w,N;for(N=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)N.push(t.readUInt16());return N}(),d=function(){var w,N;for(N=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)N.push(t.readUInt16());return N}(),a=(this.length-t.pos+this.offset)/2,l=function(){var w,N;for(N=[],c=w=0;0<=a?w<a:w>a;c=0<=a?++w:--w)N.push(t.readUInt16());return N}(),c=v=0,y=i.length;v<y;c=++v)for(g=i[c],n=b=m=x[c];m<=g?b<=g:b>=g;n=m<=g?++b:--b)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-m)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,m,x,g,v,b,y,w,N,S,j,A,T,R,O,E,L,B,G,U,W,X,q,le,se,I,P,M,z,Y,ae,ue,ne,_e,Ce,V;switch(B=new kd,o=Object.keys(t).sort(function(Me,Ae){return Me-Ae}),r){case"macroman":for(x=0,g=function(){var Me=[];for(m=0;m<256;++m)Me.push(0);return Me}(),b={0:0},i={},G=0,q=o.length;G<q;G++)b[ne=t[a=o[G]]]==null&&(b[ne]=++x),i[a]={old:t[a],new:b[t[a]]},g[a]=b[t[a]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(g),{charMap:i,subtable:B.data,maxGlyphID:x+1};case"unicode":for(E=[],f=[],y=0,b={},n={},v=u=null,U=0,le=o.length;U<le;U++)b[N=t[a=o[U]]]==null&&(b[N]=++y),n[a]={old:N,new:b[N]},l=b[N]-a,v!=null&&l===u||(v&&f.push(v),E.push(a),u=l),v=a;for(v&&f.push(v),f.push(65535),E.push(65535),R=2*(T=E.length),A=2*Math.pow(Math.log(T)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,j=2*T-A,c=[],S=[],p=[],m=W=0,se=E.length;W<se;m=++W){if(O=E[m],d=f[m],O===65535){c.push(0),S.push(0);break}if(O-(L=n[O].new)>=32768)for(c.push(0),S.push(2*(p.length+T-m)),a=X=O;O<=d?X<=d:X>=d;a=O<=d?++X:--X)p.push(n[a].new);else c.push(L-O),S.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*T+2*p.length),B.writeUInt16(0),B.writeUInt16(R),B.writeUInt16(A),B.writeUInt16(h),B.writeUInt16(j),ae=0,I=f.length;ae<I;ae++)a=f[ae],B.writeUInt16(a);for(B.writeUInt16(0),ue=0,P=E.length;ue<P;ue++)a=E[ue],B.writeUInt16(a);for(_e=0,M=c.length;_e<M;_e++)l=c[_e],B.writeUInt16(l);for(Ce=0,z=S.length;Ce<z;Ce++)w=S[Ce],B.writeUInt16(w);for(V=0,Y=p.length;V<Y;V++)x=p[V],B.writeUInt16(x);return{charMap:n,subtable:B.data,maxGlyphID:y+1}}},e}(),xz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new zD(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=zD.encode(r,n),(i=new kd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),uIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),dIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),fIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),hIe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},pIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,l,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),l=new hIe(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),mIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),xIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),gz=[].slice,gIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new kd(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new bIe(c,d,h,u,f):new vIe(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),vIe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),bIe=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new kd(gz.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),yIe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wc(t,El),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),wIe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,m,x,g,v;for(a in n=xz.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},v=n.charMap)p[(c=v[a]).old]=c.new;for(m in h=n.maxGlyphID,o)m in p||(p[m]=h++);return d=function(b){var y,w;for(y in w={},b)w[b[y]]=y;return w}(p),f=Object.keys(d).sort(function(b,y){return b-y}),x=function(){var b,y,w;for(w=[],b=0,y=f.length;b<y;b++)l=f[b],w.push(d[l]);return w}(),i=this.font.glyf.encode(o,x,p),u=this.font.loca.encode(i.offsets,x),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();Mt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const _Ie=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:ZDe,AcroFormAppearance:St,AcroFormButton:$a,AcroFormCheckBox:Xx,AcroFormChoiceField:R0,AcroFormComboBox:B0,AcroFormEditBox:Gx,AcroFormListBox:L0,AcroFormPasswordField:Kx,AcroFormPushButton:Yx,AcroFormRadioButton:$0,AcroFormTextField:vd,GState:tg,ShadingPattern:sd,TilingPattern:j0,default:Mt,jsPDF:Mt},Symbol.toStringTag,{value:"Module"}));var NIe={exports:{}};const jIe=DM(_Ie);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return jIe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof qa<"u"?qa:typeof window<"u"?window:typeof self<"u"?self:qa,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,g){x.__proto__=g}||function(x,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(x[v]=g[v])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function x(){this.constructor=p}p.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(p,m,x){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=x,this.doc=p.getDocument()}return h}();c.HookData=d;var f=function(h){u(p,h);function p(m,x,g,v,b,y){var w=h.call(this,m,x,y)||this;return w.cell=g,w.row=v,w.column=b,w.section=v.section,w}return p}(d);c.CellHookData=f},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),m=u(664),x=u(972);function g(v){v.API.autoTable=function(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];var w;b.length===1?w=b[0]:(console.error("Use of deprecated autoTable initiation"),w=b[2]||{},w.columns=b[0],w.body=b[1]);var N=(0,p.parseInput)(this,w),S=(0,x.createTable)(this,N);return(0,m.drawTable)(this,S),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(b,y,w,N){(0,f.default)(b,y,w,N,this)},v.API.autoTableSetDefaults=function(b){return h.DocHandler.setDefaults(b,this),this},v.autoTableSetDefaults=function(b,y){h.DocHandler.setDefaults(b,y)},v.API.autoTableHtmlToJson=function(b,y){var w;if(y===void 0&&(y=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var N=new h.DocHandler(this),S=(0,d.parseHtml)(N,b,window,y,!1),j=S.head,A=S.body,T=((w=j[0])===null||w===void 0?void 0:w.map(function(R){return R.content}))||[];return{columns:T,rows:A,data:A}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},v.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=b,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=g},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,p,m){p=p||{};var x=1.15,g=m.internal.scaleFactor,v=m.internal.getFontSize()/g,b=m.getLineHeightFactor?m.getLineHeightFactor():x,y=v*b,w=/\r\n|\r|\n/g,N="",S=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(N=typeof d=="string"?d.split(w):d,S=N.length||1),h+=v*(2-x),p.valign==="middle"?h-=S/2*y:p.valign==="bottom"&&(h-=S*y),p.halign==="center"||p.halign==="right"){var j=v;if(p.halign==="center"&&(j*=.5),N&&S>=1){for(var A=0;A<N.length;A++)m.text(N[A],f-m.getStringUnitWidth(N[A])*j,h),h+=y;return m}f-=m.getStringUnitWidth(d)*j}return p.halign==="justify"?m.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):m.text(d,f,h),m}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(m,x,g){g.applyStyles(x,!0);var v=Array.isArray(m)?m:[m],b=v.map(function(y){return g.getTextWidth(y)}).reduce(function(y,w){return Math.max(y,w)},0);return b}c.getStringWidth=u;function d(m,x,g,v){var b=x.settings.tableLineWidth,y=x.settings.tableLineColor;m.applyStyles({lineWidth:b,lineColor:y});var w=f(b,!1);w&&m.rect(g.x,g.y,x.getWidth(m.pageSize().width),v.y-g.y,w)}c.addTableBorder=d;function f(m,x){var g=m>0,v=x||x===0;return g&&v?"DF":g?"S":v?"F":null}c.getFillStyle=f;function h(m,x){var g,v,b,y;if(m=m||x,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=x}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(g=m.left)!==null&&g!==void 0?g:x,top:(v=m.top)!==null&&v!==void 0?v:x,right:(b=m.right)!==null&&b!==void 0?b:x,bottom:(y=m.bottom)!==null&&y!==void 0?y:x}):(typeof m!="number"&&(m=x),{top:m,right:m,bottom:m,left:m})}c.parseSpacing=h;function p(m,x){var g=h(x.settings.margin,0);return m.pageSize().width-(g.left+g.right)}c.getPageAvailableWidth=p},796:function(l,c){var u=this&&this.__extends||function(){var p=function(m,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(g[b]=v[b])},p(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(m,x);function g(){this.constructor=m}m.prototype=x===null?Object.create(x):(g.prototype=x.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(m,p);function m(x){var g=p.call(this)||this;return g._element=x,g}return m}(Array);c.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(p){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[p]}c.getTheme=h},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(g,v,b,y,w){var N={},S=1.3333333333333333,j=p(v,function(q){return w.getComputedStyle(q).backgroundColor});j!=null&&(N.fillColor=j);var A=p(v,function(q){return w.getComputedStyle(q).color});A!=null&&(N.textColor=A);var T=x(y,b);T&&(N.cellPadding=T);var R="borderTopColor",O=S*b,E=y.borderTopWidth;if(y.borderBottomWidth===E&&y.borderRightWidth===E&&y.borderLeftWidth===E){var L=(parseFloat(E)||0)/O;L&&(N.lineWidth=L)}else N.lineWidth={top:(parseFloat(y.borderTopWidth)||0)/O,right:(parseFloat(y.borderRightWidth)||0)/O,bottom:(parseFloat(y.borderBottomWidth)||0)/O,left:(parseFloat(y.borderLeftWidth)||0)/O},N.lineWidth.top||(N.lineWidth.right?R="borderRightColor":N.lineWidth.bottom?R="borderBottomColor":N.lineWidth.left&&(R="borderLeftColor"));var B=p(v,function(q){return w.getComputedStyle(q)[R]});B!=null&&(N.lineColor=B);var G=["left","right","center","justify"];G.indexOf(y.textAlign)!==-1&&(N.halign=y.textAlign),G=["middle","bottom","top"],G.indexOf(y.verticalAlign)!==-1&&(N.valign=y.verticalAlign);var U=parseInt(y.fontSize||"");isNaN(U)||(N.fontSize=U/S);var W=h(y);W&&(N.fontStyle=W);var X=(y.fontFamily||"").toLowerCase();return g.indexOf(X)!==-1&&(N.font=X),N}c.parseCss=f;function h(g){var v="";return(g.fontWeight==="bold"||g.fontWeight==="bolder"||parseInt(g.fontWeight)>=700)&&(v="bold"),(g.fontStyle==="italic"||g.fontStyle==="oblique")&&(v+="italic"),v}function p(g,v){var b=m(g,v);if(!b)return null;var y=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!y||!Array.isArray(y))return null;var w=[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])],N=parseInt(y[4]);return N===0||isNaN(w[0])||isNaN(w[1])||isNaN(w[2])?null:w}function m(g,v){var b=v(g);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?g.parentElement==null?null:m(g.parentElement,v):b}function x(g,v){var b=[g.paddingTop,g.paddingRight,g.paddingBottom,g.paddingLeft],y=96/(72/v),w=(parseInt(g.lineHeight)-parseInt(g.fontSize))/v/2,N=b.map(function(j){return parseInt(j||"0")/y}),S=(0,d.parseSpacing)(N,0);return w>S.top&&(S.top=w),w>S.bottom&&(S.bottom=w),S}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var m,x,g;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var v=this.jsPDFDocument.internal.getFont(),b=v.fontStyle,y=v.fontName;if(h.font&&(y=h.font),h.fontStyle){b=h.fontStyle;var w=this.getFontList()[y];w&&w.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(w[0]),b=w[0])}if(this.jsPDFDocument.setFont(y,b),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var N=f.unifyColor(h.fillColor);N&&(m=this.jsPDFDocument).setFillColor.apply(m,N),N=f.unifyColor(h.textColor),N&&(x=this.jsPDFDocument).setTextColor.apply(x,N),N=f.unifyColor(h.lineColor),N&&(g=this.jsPDFDocument).setDrawColor.apply(g,N),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,m){return this.jsPDFDocument.splitTextToSize(h,p,m)},f.prototype.rect=function(h,p,m,x,g){return this.jsPDFDocument.rect(h,p,m,x,g)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(x,g,v,b,y){var w,N;b===void 0&&(b=!1),y===void 0&&(y=!1);var S;typeof g=="string"?S=v.document.querySelector(g):S=g;var j=Object.keys(x.getFontList()),A=x.scaleFactor(),T=[],R=[],O=[];if(!S)return console.error("Html table could not be found with input: ",g),{head:T,body:R,foot:O};for(var E=0;E<S.rows.length;E++){var L=S.rows[E],B=(N=(w=L==null?void 0:L.parentElement)===null||w===void 0?void 0:w.tagName)===null||N===void 0?void 0:N.toLowerCase(),G=p(j,A,v,L,b,y);G&&(B==="thead"?T.push(G):B==="tfoot"?O.push(G):R.push(G))}return{head:T,body:R,foot:O}}c.parseHtml=h;function p(x,g,v,b,y,w){for(var N=new f.HtmlRowInput(b),S=0;S<b.cells.length;S++){var j=b.cells[S],A=v.getComputedStyle(j);if(y||A.display!=="none"){var T=void 0;w&&(T=(0,d.parseCss)(x,j,g,A,v)),N.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:T,_element:j,content:m(j)})}}var R=v.getComputedStyle(b);if(N.length>0&&(y||R.display!=="none"))return N}function m(x){var g=x.cloneNode(!0);return g.innerHTML=g.innerHTML.replace(/\n/g,"").replace(/ +/g," "),g.innerHTML=g.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),g.innerText||g.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),m=u(792);function x(S,j){var A=new p.DocHandler(S),T=A.getDocumentOptions(),R=A.getGlobalOptions();(0,m.default)(A,R,T,j);var O=(0,f.assign)({},R,T,j),E;typeof window<"u"&&(E=window);var L=g(R,T,j),B=v(R,T,j),G=b(A,O),U=w(A,O,E);return{id:j.tableId,content:U,hooks:B,styles:L,settings:G}}c.parseInput=x;function g(S,j,A){for(var T={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},R=function(B){if(B==="columnStyles"){var G=S[B],U=j[B],W=A[B];T.columnStyles=(0,f.assign)({},G,U,W)}else{var X=[S,j,A],q=X.map(function(le){return le[B]||{}});T[B]=(0,f.assign)({},q[0],q[1],q[2])}},O=0,E=Object.keys(T);O<E.length;O++){var L=E[O];R(L)}return T}function v(S,j,A){for(var T=[S,j,A],R={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,E=T;O<E.length;O++){var L=E[O];L.didParseCell&&R.didParseCell.push(L.didParseCell),L.willDrawCell&&R.willDrawCell.push(L.willDrawCell),L.didDrawCell&&R.didDrawCell.push(L.didDrawCell),L.willDrawPage&&R.willDrawPage.push(L.willDrawPage),L.didDrawPage&&R.didDrawPage.push(L.didDrawPage)}return R}function b(S,j){var A,T,R,O,E,L,B,G,U,W,X,q,le=(0,h.parseSpacing)(j.margin,40/S.scaleFactor()),se=(A=y(S,j.startY))!==null&&A!==void 0?A:le.top,I;j.showFoot===!0?I="everyPage":j.showFoot===!1?I="never":I=(T=j.showFoot)!==null&&T!==void 0?T:"everyPage";var P;j.showHead===!0?P="everyPage":j.showHead===!1?P="never":P=(R=j.showHead)!==null&&R!==void 0?R:"everyPage";var M=(O=j.useCss)!==null&&O!==void 0?O:!1,z=j.theme||(M?"plain":"striped"),Y=!!j.horizontalPageBreak,ae=(E=j.horizontalPageBreakRepeat)!==null&&E!==void 0?E:null;return{includeHiddenHtml:(L=j.includeHiddenHtml)!==null&&L!==void 0?L:!1,useCss:M,theme:z,startY:se,margin:le,pageBreak:(B=j.pageBreak)!==null&&B!==void 0?B:"auto",rowPageBreak:(G=j.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(U=j.tableWidth)!==null&&U!==void 0?U:"auto",showHead:P,showFoot:I,tableLineWidth:(W=j.tableLineWidth)!==null&&W!==void 0?W:0,tableLineColor:(X=j.tableLineColor)!==null&&X!==void 0?X:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:ae,horizontalPageBreakBehaviour:(q=j.horizontalPageBreakBehaviour)!==null&&q!==void 0?q:"afterAllRows"}}function y(S,j){var A=S.getLastAutoTable(),T=S.scaleFactor(),R=S.pageNumber(),O=!1;if(A&&A.startPageNumber){var E=A.startPageNumber+A.pageNumber-1;O=E===R}return typeof j=="number"?j:(j==null||j===!1)&&O&&(A==null?void 0:A.finalY)!=null?A.finalY+20/T:null}function w(S,j,A){var T=j.head||[],R=j.body||[],O=j.foot||[];if(j.html){var E=j.includeHiddenHtml;if(A){var L=(0,d.parseHtml)(S,j.html,A,E,j.useCss)||{};T=L.head||T,R=L.body||T,O=L.foot||T}else console.error("Cannot parse html in non browser environment")}var B=j.columns||N(T,R,O);return{columns:B,head:T,body:R,foot:O}}function N(S,j,A){var T=S[0]||j[0]||A[0]||[],R=[];return Object.keys(T).filter(function(O){return O!=="_element"}).forEach(function(O){var E=1,L;Array.isArray(T)?L=T[parseInt(O)]:L=T[O],typeof L=="object"&&!Array.isArray(L)&&(E=(L==null?void 0:L.colSpan)||1);for(var B=0;B<E;B++){var G=void 0;Array.isArray(T)?G=R.length:G=O+(B>0?"_".concat(B):"");var U={dataKey:G};R.push(U)}}),R}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,p,m){for(var x=function(y){y&&typeof y!="object"&&console.error("The options parameter should be of type object, is: "+typeof y),typeof y.extendWidth<"u"&&(y.tableWidth=y.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof y.margins<"u"&&(typeof y.margin>"u"&&(y.margin=y.margins),console.error("Use of deprecated option: margins, use margin instead.")),y.startY&&typeof y.startY!="number"&&(console.error("Invalid value for startY option",y.startY),delete y.startY),!y.didDrawPage&&(y.afterPageContent||y.beforePageContent||y.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),y.didDrawPage=function(O){f.applyStyles(f.userStyles),y.beforePageContent&&y.beforePageContent(O),f.applyStyles(f.userStyles),y.afterPageContent&&y.afterPageContent(O),f.applyStyles(f.userStyles),y.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){y[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var E=O[0],L=O[1];y[L]&&(console.error("Use of deprecated option ".concat(L,". Use ").concat(E," instead")),y[E]=y[L])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var E=typeof O=="string"?O:O[0],L=typeof O=="string"?O:O[1];typeof y[E]<"u"&&(typeof y.styles[L]>"u"&&(y.styles[L]=y[E]),console.error("Use of deprecated option: "+E+", use the style "+L+" instead."))});for(var w=0,N=["styles","bodyStyles","headStyles","footStyles"];w<N.length;w++){var S=N[w];d(y[S]||{})}for(var j=y.columnStyles||{},A=0,T=Object.keys(j);A<T.length;A++){var R=T[A];d(j[R]||{})}},g=0,v=[h,p,m];g<v.length;g++){var b=v[g];x(b)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function v(b,y){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=y.columns,this.head=y.head,this.body=y.body,this.foot=y.foot}return v.prototype.getHeadHeight=function(b){return this.head.reduce(function(y,w){return y+w.getMaxCellHeight(b)},0)},v.prototype.getFootHeight=function(b){return this.foot.reduce(function(y,w){return y+w.getMaxCellHeight(b)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(b,y,w,N,S,j){for(var A=0,T=y;A<T.length;A++){var R=T[A],O=new f.CellHookData(b,this,w,N,S,j),E=R(O)===!1;if(w.text=Array.isArray(w.text)?w.text:[w.text],E)return!1}return!0},v.prototype.callEndPageHooks=function(b,y){b.applyStyles(b.userStyles);for(var w=0,N=this.hooks.didDrawPage;w<N.length;w++){var S=N[w];S(new f.HookData(b,this,y))}},v.prototype.callWillDrawPageHooks=function(b,y){for(var w=0,N=this.hooks.willDrawPage;w<N.length;w++){var S=N[w];S(new f.HookData(b,this,y))}},v.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var y=this.columns.reduce(function(N,S){return N+S.wrappedWidth},0);return y}else{var w=this.settings.margin;return b-w.left-w.right}},v}();c.Table=p;var m=function(){function v(b,y,w,N,S){S===void 0&&(S=!1),this.height=0,this.raw=b,b instanceof d.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=y,this.section=w,this.cells=N,this.spansMultiplePages=S}return v.prototype.getMaxCellHeight=function(b){var y=this;return b.reduce(function(w,N){var S;return Math.max(w,((S=y.cells[N.index])===null||S===void 0?void 0:S.height)||0)},0)},v.prototype.hasRowSpan=function(b){var y=this;return b.filter(function(w){var N=y.cells[w.index];return N?N.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(b,y){return this.getMaxCellHeight(y)<=b},v.prototype.getMinimumRowHeight=function(b,y){var w=this;return b.reduce(function(N,S){var j=w.cells[S.index];if(!j)return 0;var A=y.getLineHeight(j.styles.fontSize),T=j.padding("vertical"),R=T+A;return R>N?R:N},0)},v}();c.Row=m;var x=function(){function v(b,y,w){var N,S;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=y,this.section=w,this.raw=b;var j=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,j=(S=(N=b.content)!==null&&N!==void 0?N:b.title)!==null&&S!==void 0?S:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var A=j!=null?""+j:"",T=/\r\n|\r|\n/g;this.text=A.split(T)}return v.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var y=this.height-this.padding("vertical");b=this.y+y/2+this.padding("top")}var w;if(this.styles.halign==="right")w=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var N=this.width-this.padding("horizontal");w=this.x+N/2+this.padding("left")}else w=this.x+this.padding("left");return{x:w,y:b}},v.prototype.getContentHeight=function(b,y){y===void 0&&(y=1.15);var w=Array.isArray(this.text)?this.text.length:1,N=this.styles.fontSize/b*y,S=w*N+this.padding("vertical");return Math.max(S,this.styles.minCellHeight)},v.prototype.padding=function(b){var y=(0,h.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?y.top+y.bottom:b==="horizontal"?y.left+y.right:y[b]},v}();c.Cell=x;var g=function(){function v(b,y,w){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=y,this.index=w}return v.prototype.getMaxCustomCellWidth=function(b){for(var y=0,w=0,N=b.allRows();w<N.length;w++){var S=N[w],j=S.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(y=Math.max(y,j.styles.cellWidth))}return y},v}();c.Column=g},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,p,m){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(d),g=1;g<arguments.length;g++){var v=arguments[g];if(v!=null)for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(x[b]=v[b])}return x}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),m=u(356);function x(S,j){var A=new d.DocHandler(S),T=g(j,A.scaleFactor()),R=new f.Table(j,T);return(0,h.calculateWidths)(A,R),A.applyStyles(A.userStyles),R}c.createTable=x;function g(S,j){var A=S.content,T=w(A.columns);if(A.head.length===0){var R=b(T,"head");R&&A.head.push(R)}if(A.foot.length===0){var R=b(T,"foot");R&&A.foot.push(R)}var O=S.settings.theme,E=S.styles;return{columns:T,head:v("head",A.head,T,E,O,j),body:v("body",A.body,T,E,O,j),foot:v("foot",A.foot,T,E,O,j)}}function v(S,j,A,T,R,O){var E={},L=j.map(function(B,G){for(var U=0,W={},X=0,q=0,le=0,se=A;le<se.length;le++){var I=se[le];if(E[I.index]==null||E[I.index].left===0)if(q===0){var P=void 0;Array.isArray(B)?P=B[I.index-X-U]:P=B[I.dataKey];var M={};typeof P=="object"&&!Array.isArray(P)&&(M=(P==null?void 0:P.styles)||{});var z=N(S,I,G,R,T,O,M),Y=new f.Cell(P,z,S);W[I.dataKey]=Y,W[I.index]=Y,q=Y.colSpan-1,E[I.index]={left:Y.rowSpan-1,times:q}}else q--,X++;else E[I.index].left--,q=E[I.index].times,U++}return new f.Row(B,G,S,W)});return L}function b(S,j){var A={};return S.forEach(function(T){if(T.raw!=null){var R=y(j,T.raw);R!=null&&(A[T.dataKey]=R)}}),Object.keys(A).length>0?A:null}function y(S,j){if(S==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(S==="foot"&&typeof j=="object")return j.footer;return null}function w(S){return S.map(function(j,A){var T,R,O;return typeof j=="object"?O=(R=(T=j.dataKey)!==null&&T!==void 0?T:j.key)!==null&&R!==void 0?R:A:O=A,new f.Column(O,j,A)})}function N(S,j,A,T,R,O,E){var L=(0,p.getTheme)(T),B;S==="head"?B=R.headStyles:S==="body"?B=R.bodyStyles:S==="foot"&&(B=R.footStyles);var G=(0,m.assign)({},L.table,L[S],R.styles,B),U=R.columnStyles[j.dataKey]||R.columnStyles[j.index]||{},W=S==="body"?U:{},X=S==="body"&&A%2===0?(0,m.assign)({},L.alternateRow,R.alternateRowStyles):{},q=(0,p.defaultStyles)(O),le=(0,m.assign)({},q,G,X,W);return(0,m.assign)(le,E)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),m=u(136),x=u(224);function g(U,W){var X=W.settings,q=X.startY,le=X.margin,se={x:le.left,y:q},I=W.getHeadHeight(W.columns)+W.getFootHeight(W.columns),P=q+le.bottom+I;if(X.pageBreak==="avoid"){var M=W.body,z=M.reduce(function(ue,ne){return ue+ne.height},0);P+=z}var Y=new h.DocHandler(U);(X.pageBreak==="always"||X.startY!=null&&P>Y.pageSize().height)&&(G(Y),se.y=le.top),W.callWillDrawPageHooks(Y,se);var ae=(0,p.assign)({},se);W.startPageNumber=Y.pageNumber(),X.horizontalPageBreak?v(Y,W,ae,se):(Y.applyStyles(Y.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&W.head.forEach(function(ue){return R(Y,W,ue,se,W.columns)}),Y.applyStyles(Y.userStyles),W.body.forEach(function(ue,ne){var _e=ne===W.body.length-1;T(Y,W,ue,_e,ae,se,W.columns)}),Y.applyStyles(Y.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&W.foot.forEach(function(ue){return R(Y,W,ue,se,W.columns)})),(0,d.addTableBorder)(Y,W,ae,se),W.callEndPageHooks(Y,se),W.finalY=se.y,U.lastAutoTable=W,U.previousAutoTable=W,U.autoTable&&(U.autoTable.previous=W),Y.applyStyles(Y.userStyles)}c.drawTable=g;function v(U,W,X,q){var le=(0,x.calculateAllColumnsCanFitInPage)(U,W),se=W.settings;if(se.horizontalPageBreakBehaviour==="afterAllRows")le.forEach(function(z,Y){U.applyStyles(U.userStyles),Y>0?B(U,W,X,q,z.columns,!0):b(U,W,q,z.columns),y(U,W,X,q,z.columns),N(U,W,q,z.columns)});else for(var I=-1,P=le[0],M=function(){var z=I;if(P){U.applyStyles(U.userStyles);var Y=P.columns;I>=0?B(U,W,X,q,Y,!0):b(U,W,q,Y),z=w(U,W,I+1,q,Y),N(U,W,q,Y)}var ae=z-I;le.slice(1).forEach(function(ue){U.applyStyles(U.userStyles),B(U,W,X,q,ue.columns,!0),w(U,W,I+1,q,ue.columns,ae),N(U,W,q,ue.columns)}),I=z};I<W.body.length-1;)M()}function b(U,W,X,q){var le=W.settings;U.applyStyles(U.userStyles),(le.showHead==="firstPage"||le.showHead==="everyPage")&&W.head.forEach(function(se){return R(U,W,se,X,q)})}function y(U,W,X,q,le){U.applyStyles(U.userStyles),W.body.forEach(function(se,I){var P=I===W.body.length-1;T(U,W,se,P,X,q,le)})}function w(U,W,X,q,le,se){U.applyStyles(U.userStyles),se=se??W.body.length;var I=Math.min(X+se,W.body.length),P=-1;return W.body.slice(X,I).forEach(function(M,z){var Y=X+z===W.body.length-1,ae=L(U,W,Y,q);M.canEntireRowFit(ae,le)&&(R(U,W,M,q,le),P=X+z)}),P}function N(U,W,X,q){var le=W.settings;U.applyStyles(U.userStyles),(le.showFoot==="lastPage"||le.showFoot==="everyPage")&&W.foot.forEach(function(se){return R(U,W,se,X,q)})}function S(U,W,X){var q=X.getLineHeight(U.styles.fontSize),le=U.padding("vertical"),se=Math.floor((W-le)/q);return Math.max(0,se)}function j(U,W,X,q){var le={};U.spansMultiplePages=!0,U.height=0;for(var se=0,I=0,P=X.columns;I<P.length;I++){var M=P[I],z=U.cells[M.index];if(z){Array.isArray(z.text)||(z.text=[z.text]);var Y=new f.Cell(z.raw,z.styles,z.section);Y=(0,p.assign)(Y,z),Y.text=[];var ae=S(z,W,q);z.text.length>ae&&(Y.text=z.text.splice(ae,z.text.length));var ue=q.scaleFactor(),ne=q.getLineHeightFactor();z.contentHeight=z.getContentHeight(ue,ne),z.contentHeight>=W&&(z.contentHeight=W,Y.styles.minCellHeight-=W),z.contentHeight>U.height&&(U.height=z.contentHeight),Y.contentHeight=Y.getContentHeight(ue,ne),Y.contentHeight>se&&(se=Y.contentHeight),le[M.index]=Y}}var _e=new f.Row(U.raw,-1,U.section,le,!0);_e.height=se;for(var Ce=0,V=X.columns;Ce<V.length;Ce++){var M=V[Ce],Y=_e.cells[M.index];Y&&(Y.height=_e.height);var z=U.cells[M.index];z&&(z.height=U.height)}return _e}function A(U,W,X,q){var le=U.pageSize().height,se=q.settings.margin,I=se.top+se.bottom,P=le-I;W.section==="body"&&(P-=q.getHeadHeight(q.columns)+q.getFootHeight(q.columns));var M=W.getMinimumRowHeight(q.columns,U),z=M<X;if(M>P)return console.error("Will not be able to print row ".concat(W.index," correctly since it's minimum height is larger than page height")),!0;if(!z)return!1;var Y=W.hasRowSpan(q.columns),ae=W.getMaxCellHeight(q.columns)>P;return ae?(Y&&console.error("The content of row ".concat(W.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Y||q.settings.rowPageBreak==="avoid")}function T(U,W,X,q,le,se,I){var P=L(U,W,q,se);if(X.canEntireRowFit(P,I))R(U,W,X,se,I);else if(A(U,X,P,W)){var M=j(X,P,W,U);R(U,W,X,se,I),B(U,W,le,se,I),T(U,W,M,q,le,se,I)}else B(U,W,le,se,I),T(U,W,X,q,le,se,I)}function R(U,W,X,q,le){q.x=W.settings.margin.left;for(var se=0,I=le;se<I.length;se++){var P=I[se],M=X.cells[P.index];if(!M){q.x+=P.width;continue}U.applyStyles(M.styles),M.x=q.x,M.y=q.y;var z=W.callCellHooks(U,W.hooks.willDrawCell,M,X,P,q);if(z===!1){q.x+=P.width;continue}O(U,M,q);var Y=M.getTextPos();(0,m.default)(M.text,Y.x,Y.y,{halign:M.styles.halign,valign:M.styles.valign,maxWidth:Math.ceil(M.width-M.padding("left")-M.padding("right"))},U.getDocument()),W.callCellHooks(U,W.hooks.didDrawCell,M,X,P,q),q.x+=P.width}q.y+=X.height}function O(U,W,X){var q=W.styles;if(U.getDocument().setFillColor(U.getDocument().getFillColor()),typeof q.lineWidth=="number"){var le=(0,d.getFillStyle)(q.lineWidth,q.fillColor);le&&U.rect(W.x,X.y,W.width,W.height,le)}else typeof q.lineWidth=="object"&&(q.fillColor&&U.rect(W.x,X.y,W.width,W.height,"F"),E(U,W,X,q.lineWidth))}function E(U,W,X,q){var le,se,I,P;q.top&&(le=X.x,se=X.y,I=X.x+W.width,P=X.y,q.right&&(I+=.5*q.right),q.left&&(le-=.5*q.left),M(q.top,le,se,I,P)),q.bottom&&(le=X.x,se=X.y+W.height,I=X.x+W.width,P=X.y+W.height,q.right&&(I+=.5*q.right),q.left&&(le-=.5*q.left),M(q.bottom,le,se,I,P)),q.left&&(le=X.x,se=X.y,I=X.x,P=X.y+W.height,q.top&&(se-=.5*q.top),q.bottom&&(P+=.5*q.bottom),M(q.left,le,se,I,P)),q.right&&(le=X.x+W.width,se=X.y,I=X.x+W.width,P=X.y+W.height,q.top&&(se-=.5*q.top),q.bottom&&(P+=.5*q.bottom),M(q.right,le,se,I,P));function M(z,Y,ae,ue,ne){U.getDocument().setLineWidth(z),U.getDocument().line(Y,ae,ue,ne,"S")}}function L(U,W,X,q){var le=W.settings.margin.bottom,se=W.settings.showFoot;return(se==="everyPage"||se==="lastPage"&&X)&&(le+=W.getFootHeight(W.columns)),U.pageSize().height-q.y-le}function B(U,W,X,q,le,se){le===void 0&&(le=[]),se===void 0&&(se=!1),U.applyStyles(U.userStyles),W.settings.showFoot==="everyPage"&&!se&&W.foot.forEach(function(P){return R(U,W,P,q,le)}),W.callEndPageHooks(U,q);var I=W.settings.margin;(0,d.addTableBorder)(U,W,X,q),G(U),W.pageNumber++,W.pageCount++,q.x=I.left,q.y=I.top,X.y=I.top,W.callWillDrawPageHooks(U,q),W.settings.showHead==="everyPage"&&(W.head.forEach(function(P){return R(U,W,P,q,le)}),U.applyStyles(U.userStyles))}c.addPage=B;function G(U){var W=U.pageNumber();U.setPage(W+1);var X=U.pageNumber();return X===W?(U.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,m,x){var g;x===void 0&&(x={});var v=(0,d.getPageAvailableWidth)(p,m),b=new Map,y=[],w=[],N=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?N=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(N=[m.settings.horizontalPageBreakRepeat]),N.forEach(function(T){var R=m.columns.find(function(O){return O.dataKey===T||O.index===T});R&&!b.has(R.index)&&(b.set(R.index,!0),y.push(R.index),w.push(m.columns[R.index]),v-=R.wrappedWidth)});for(var S=!0,j=(g=x==null?void 0:x.start)!==null&&g!==void 0?g:0;j<m.columns.length;){if(b.has(j)){j++;continue}var A=m.columns[j].wrappedWidth;if(S||v>=A)S=!1,y.push(j),w.push(m.columns[j]),v-=A;else break;j++}return{colIndexes:y,columns:w,lastIndex:j-1}}function h(p,m){for(var x=[],g=0;g<m.columns.length;g++){var v=f(p,m,{start:g});v.columns.length&&(x.push(v),g=v.lastIndex)}return x}c.calculateAllColumnsCanFitInPage=h},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(y,w){h(y,w);var N=[],S=0;w.columns.forEach(function(A){var T=A.getMaxCustomCellWidth(w);T?A.width=T:(A.width=A.wrappedWidth,N.push(A)),S+=A.width});var j=w.getWidth(y.pageSize().width)-S;j&&(j=p(N,j,function(A){return Math.max(A.minReadableWidth,A.minWidth)})),j&&(j=p(N,j,function(A){return A.minWidth})),j=Math.abs(j),!w.settings.horizontalPageBreak&&j>.1/y.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),x(w),g(w,y),m(w)}c.calculateWidths=f;function h(y,w){var N=y.scaleFactor(),S=w.settings.horizontalPageBreak,j=(0,d.getPageAvailableWidth)(y,w);w.allRows().forEach(function(A){for(var T=0,R=w.columns;T<R.length;T++){var O=R[T],E=A.cells[O.index];if(E){var L=w.hooks.didParseCell;w.callCellHooks(y,L,E,A,O,null);var B=E.padding("horizontal");E.contentWidth=(0,d.getStringWidth)(E.text,E.styles,y)+B;var G=(0,d.getStringWidth)(E.text.join(" ").split(/[^\S\u00A0]+/),E.styles,y);if(E.minReadableWidth=G+E.padding("horizontal"),typeof E.styles.cellWidth=="number")E.minWidth=E.styles.cellWidth,E.wrappedWidth=E.styles.cellWidth;else if(E.styles.cellWidth==="wrap"||S===!0)E.contentWidth>j?(E.minWidth=j,E.wrappedWidth=j):(E.minWidth=E.contentWidth,E.wrappedWidth=E.contentWidth);else{var U=10/N;E.minWidth=E.styles.minCellWidth||U,E.wrappedWidth=E.contentWidth,E.minWidth>E.wrappedWidth&&(E.wrappedWidth=E.minWidth)}}}}),w.allRows().forEach(function(A){for(var T=0,R=w.columns;T<R.length;T++){var O=R[T],E=A.cells[O.index];if(E&&E.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,E.wrappedWidth),O.minWidth=Math.max(O.minWidth,E.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,E.minReadableWidth);else{var L=w.styles.columnStyles[O.dataKey]||w.styles.columnStyles[O.index]||{},B=L.cellWidth||L.minCellWidth;B&&typeof B=="number"&&(O.minWidth=B,O.wrappedWidth=B)}E&&(E.colSpan>1&&!O.minWidth&&(O.minWidth=E.minWidth),E.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=E.minWidth))}})}function p(y,w,N){for(var S=w,j=y.reduce(function(U,W){return U+W.wrappedWidth},0),A=0;A<y.length;A++){var T=y[A],R=T.wrappedWidth/j,O=S*R,E=T.width+O,L=N(T),B=E<L?L:E;w-=B-T.width,T.width=B}if(w=Math.round(w*1e10)/1e10,w){var G=y.filter(function(U){return w<0?U.width>N(U):!0});G.length&&(w=p(G,w,N))}return w}c.resizeColumns=p;function m(y){for(var w={},N=1,S=y.allRows(),j=0;j<S.length;j++)for(var A=S[j],T=0,R=y.columns;T<R.length;T++){var O=R[T],E=w[O.index];if(N>1)N--,delete A.cells[O.index];else if(E)E.cell.height+=A.height,N=E.cell.colSpan,delete A.cells[O.index],E.left--,E.left<=1&&delete w[O.index];else{var L=A.cells[O.index];if(!L)continue;if(L.height=A.height,L.rowSpan>1){var B=S.length-j,G=L.rowSpan>B?B:L.rowSpan;w[O.index]={cell:L,left:G,row:A}}}}}function x(y){for(var w=y.allRows(),N=0;N<w.length;N++)for(var S=w[N],j=null,A=0,T=0,R=0;R<y.columns.length;R++){var O=y.columns[R];if(T-=1,T>1&&y.columns[R+1])A+=O.width,delete S.cells[O.index];else if(j){var E=j;delete S.cells[O.index],j=null,E.width=O.width+A}else{var E=S.cells[O.index];if(!E)continue;if(T=E.colSpan,A=0,E.colSpan>1){j=E,A+=O.width;continue}E.width=O.width+A}}}function g(y,w){for(var N={count:0,height:0},S=0,j=y.allRows();S<j.length;S++){for(var A=j[S],T=0,R=y.columns;T<R.length;T++){var O=R[T],E=A.cells[O.index];if(E){w.applyStyles(E.styles,!0);var L=E.width-E.padding("horizontal");if(E.styles.overflow==="linebreak")E.text=w.splitTextToSize(E.text,L+1/w.scaleFactor(),{fontSize:E.styles.fontSize});else if(E.styles.overflow==="ellipsize")E.text=v(E.text,L,E.styles,w,"...");else if(E.styles.overflow==="hidden")E.text=v(E.text,L,E.styles,w,"");else if(typeof E.styles.overflow=="function"){var B=E.styles.overflow(E.text,L);typeof B=="string"?E.text=[B]:E.text=B}E.contentHeight=E.getContentHeight(w.scaleFactor(),w.getLineHeightFactor());var G=E.contentHeight/E.rowSpan;E.rowSpan>1&&N.count*N.height<G*E.rowSpan?N={height:G,count:E.rowSpan}:N&&N.count>0&&N.height>G&&(G=N.height),G>A.height&&(A.height=G)}}N.count--}}function v(y,w,N,S,j){return y.map(function(A){return b(A,w,N,S,j)})}c.ellipsize=v;function b(y,w,N,S,j){var A=1e4*S.scaleFactor();if(w=Math.ceil(w*A)/A,w>=(0,d.getStringWidth)(y,N,S))return y;for(;w<(0,d.getStringWidth)(y+j,N,S)&&!(y.length<=1);)y=y.substring(0,y.length-1);return y.trim()+j}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={exports:{}};return n[l].call(u.exports,u,u.exports,i),u.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),u=i(776),d=i(664),f=i(972),h=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var m=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return m.Row}});function x(w){(0,c.default)(w)}l.applyPlugin=x;function g(w,N){var S=(0,u.parseInput)(w,N),j=(0,f.createTable)(w,S);(0,d.drawTable)(w,j)}function v(w,N){var S=(0,u.parseInput)(w,N);return(0,f.createTable)(w,S)}l.__createTable=v;function b(w,N){(0,d.drawTable)(w,N)}l.__drawTable=b;try{var y=i(964);y.jsPDF&&(y=y.jsPDF),x(y)}catch{}l.default=g}(),o}()})})(NIe);const kh=({isOpen:e,onClose:t,title:r,children:n})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.95) 0%, rgba(20, 100, 100, 0.85) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 24px -2px, rgba(0, 200, 200, 0.1) 0px 4px 12px -2px, rgba(255, 255, 255, 0.05) 0px -1px 2px 0px inset"},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-cyan-500/20",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-cyan-500/10 transition-colors",children:s.jsx(zt,{className:"w-5 h-5 text-cyan-400"})})]}),s.jsx("div",{className:"p-4",children:n})]})]}):null,z0=(e="",t="")=>{const r=new Date,n=r.getFullYear().toString().slice(-2),a=(r.getMonth()+1).toString().padStart(2,"0"),i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${n}${a}-${e?e==="triploide"?"T":"D":""}${t||""}-${i}`},SIe=({cell:e,onClose:t,onSave:r})=>{var v,b;const[n,a]=k.useState(e.ropeCount||0),[i,o]=k.useState(((v=e.spat)==null?void 0:v.name)||"France naissain"),[l,c]=k.useState(Gy[0].id),[u,d]=k.useState(Yy[0].id),[f,h]=k.useState(((b=e.spat)==null?void 0:b.batchNumber)||z0(l,u)),[p,m]=k.useState(null),x=[{id:"1",nom:"Lot Huîtres Triploïdes #NORD-101",numeroLot:"NORD-101",statut:"EN_TRANSIT",origine:"Charente Maritime",destination:"Trempe",quantite:10,estimationRemplissage:15,unite:"pochons",mortalite:16.9,datePrevue:"2025-05-02T11:00:00"},{id:"2",nom:"Lot Huîtres Plates #SUD-202",numeroLot:"SUD-202",statut:"EN_TRANSIT",origine:"Arcachon",destination:"Trempe",quantite:8,estimationRemplissage:12,unite:"pochons",mortalite:12.5,datePrevue:"2025-05-03T14:00:00"}];k.useEffect(()=>{p&&(h(p.numeroLot),o(p.origine||"France naissain"),p.nom.toLowerCase().includes("triploïde")?c("triploide"):p.nom.toLowerCase().includes("diploïde")&&c("diploide"))},[p]);const g=()=>{const w={date:new Date().toISOString(),action:"Ajout de cordes",details:`${n} cordes ajoutées`,naissain:i,lotNumber:f,mortalityRate:0,notes:"",type:"add"};r({...e,ropeCount:(e.ropeCount||0)+n,spat:{name:i,batchNumber:f,dateAdded:new Date().toISOString()},history:[...e.history||[],w]}),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50",onClick:y=>{y.target===y.currentTarget&&t()},children:s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-xl w-[580px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",onClick:y=>y.stopPropagation(),children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsxs("div",{className:"relative",children:[s.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ajouter des cordes"}),s.jsxs("div",{className:"mt-4 mb-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Lot en cours"}),s.jsx("div",{className:"grid gap-3",children:x.map(y=>s.jsxs("button",{onClick:()=>m(y),className:`flex items-center justify-between p-3 rounded-lg border transition-all duration-300 ${(p==null?void 0:p.id)===y.id?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-400/50":"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] border-white/10 hover:border-cyan-400/30"}`,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-white font-medium",children:y.nom}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[s.jsx(na,{size:14}),s.jsx("span",{children:y.origine}),s.jsx(cd,{size:14}),s.jsx("span",{children:y.destination})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-white/60",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jn,{size:14}),s.jsxs("span",{children:[y.quantite," ",y.unite]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(SS,{size:14}),s.jsxs("span",{children:[y.mortalite,"%"]})]})]})]},y.id))})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Nombre de cordes"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",value:n,onChange:y=>a(Number(y.target.value)),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)]",min:"0",placeholder:"Nombre de cordes"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-cyan-400/40",children:s.jsx(wV,{size:20})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Type d'huître"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Gy.map(y=>s.jsx("button",{onClick:()=>{c(y.id),f||h(z0(y.id,u))},className:`flex items-center justify-center px-4 py-2 rounded-lg border transition-all duration-300 transform hover:-translate-y-1 ${l===y.id?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)]":"bg-white/5 border-white/10 text-white hover:bg-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)]"}`,children:y.label},y.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Taille"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:Yy.map(y=>s.jsx("button",{onClick:()=>{d(y.id),f||h(z0(l,y.id))},className:`flex items-center justify-center px-4 py-2 rounded-lg border transition-all duration-300 transform hover:-translate-y-1 ${u===y.id?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)]":"bg-white/5 border-white/10 text-white hover:bg-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)]"}`,children:y.label},y.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Provenance du naissain"}),s.jsx("input",{type:"text",value:i,onChange:y=>o(y.target.value),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)]",placeholder:"Provenance du naissain"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Numéro de lot"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:f,onChange:y=>h(y.target.value),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)]",placeholder:"Numéro de lot"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(_V,{size:20})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[s.jsx("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 text-white/70 hover:text-white",children:"Annuler"}),s.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-cyan-500/20 to-blue-500/20 text-cyan-400 border border-cyan-400/30 hover:border-cyan-400/50 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(dw,{size:20}),"Enregistrer"]})]})]})]})]})})})},AIe=({cell:e,onClose:t,onSave:r})=>{var f,h,p,m;const[n,a]=k.useState(1),l=10*5,c=150,u=()=>{var w,N;const x=new Date().toISOString(),g=e.ropeCount||l,v=Math.max(0,g-n),b=v===0,y={date:x,action:"Récolte",details:`${n} cordes récoltées`,naissain:((w=e.spat)==null?void 0:w.name)||"",lotNumber:((N=e.spat)==null?void 0:N.batchNumber)||"",mortalityRate:0,notes:"",type:"harvest"};r({...e,filled:!b,ropeCount:v,spat:b?void 0:e.spat,history:[...e.history||[],y]}),t()},d=x=>x*c;return s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50",onClick:x=>{x.target===x.currentTarget&&t()},children:s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-xl w-[580px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",onClick:x=>x.stopPropagation(),children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsxs("div",{className:"relative",children:[s.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Récolter des cordes"}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Nombre de cordes à récolter"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:n,onChange:x=>a(Math.min(Math.max(1,Number(x.target.value)),e.ropeCount||l)),className:"flex-1 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",min:"1",max:e.ropeCount||l}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("button",{onClick:()=>a(x=>Math.min(x+1,e.ropeCount||l)),className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:s.jsx(ES,{size:16})}),s.jsx("button",{onClick:()=>a(x=>Math.max(1,x-1)),className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:s.jsx(ff,{size:16})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm text-white/70",children:[s.jsx("span",{className:"font-medium",children:"Numéro de lot :"})," ",s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-2 rounded-lg border border-white/10",children:s.jsx("span",{className:"text-white",children:((f=e.spat)==null?void 0:f.batchNumber)||z0()})}),s.jsx("button",{onClick:()=>{var v;const x=z0(),g={date:new Date().toISOString(),action:"Mise à jour du numéro de lot",details:`Nouveau numéro de lot : ${x}`,naissain:((v=e.spat)==null?void 0:v.name)||"",lotNumber:x,mortalityRate:0,notes:"",type:"update"};r({...e,spat:{...e.spat,batchNumber:x},history:[...e.history||[],g]})},className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:s.jsx(DN,{size:14})})]})]}),s.jsxs("div",{className:"text-sm text-white/70",children:[s.jsx("span",{className:"font-medium",children:"Naissain à récolter :"})," ",s.jsx("span",{className:"text-white",children:"Marennes-Oléron"})]}),s.jsxs("div",{className:"text-sm text-white/70",children:[s.jsx("span",{className:"font-medium",children:"Cordes restantes après récolte :"})," ",s.jsx("span",{className:"text-white",children:(e.ropeCount||l)-n})]}),s.jsxs("div",{className:"text-sm text-white/70",children:[s.jsx("span",{className:"font-medium",children:"Huîtres restantes après récolte :"})," ",s.jsx("span",{className:"text-white",children:d((e.ropeCount||l)-n)})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{var b;const x=new Date().toISOString(),g=(((b=e.exondation)==null?void 0:b.exondationCount)||0)+1,v={date:x,action:"Exondation",details:`Exondation #${g}`,naissain:"",lotNumber:"",mortalityRate:0,notes:"",type:"exondation"};r({...e,exondation:{startTime:x,isExonded:!0,exondationCount:g},history:[...e.history||[],v]}),setTimeout(()=>{var y;(y=e.exondation)!=null&&y.isExonded&&alert("⚠️ ATTENTION : Cette table est exondée depuis plus de 24 heures !")},24*60*60*1e3)},className:`px-4 py-2 rounded-lg ${(h=e.exondation)!=null&&h.isExonded?"bg-orange-500/20 border-orange-500/30 hover:bg-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10 text-white/70"} transition-colors`,"aria-label":(p=e.exondation)!=null&&p.isExonded?"Table exondée":"Exonder",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{size:16}),(m=e.exondation)!=null&&m.isExonded?"Exondé":"Exonder"]})}),s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-white/70",children:"Annuler"}),s.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors",children:"Récolter"})]})]})]})]})})})},CIe=({isOpen:e,onClose:t,table:r})=>{const[n,a]=k.useState(null);k.useEffect(()=>{DPe("fr",gX)},[]);const i=()=>{var h,p;const l=new Mt;l.setFontSize(24),l.setTextColor(0,150,180),l.text("OYSTER CULT",20,20),l.setFontSize(16),l.setTextColor(100,100,100),l.text("Historique de la table",20,30),l.setFontSize(12),l.setTextColor(60,60,60),l.text(`Table ${r.name}`,20,45),l.text(`Type: ${r.type||"Standard"}`,20,52),l.text(`Zone: ${r.zone||"Non spécifiée"}`,20,59),l.text(`Naissain: ${r.origin||"Non spécifié"}`,20,66),l.text(`Période: ${n?Kt(n,"dd/MM/yyyy"):"Toutes les dates"}`,20,73),l.setFontSize(14),l.setTextColor(0,150,180),l.text("Statistiques globales",20,88),l.setFontSize(11),l.setTextColor(60,60,60);const c=o(r.history);l.text(`Mortalité moyenne: ${c.avgMortality}%`,25,95),l.text(`Temps de croissance: ${c.growthTime} mois`,25,102),l.text(`Nombre d'interventions: ${((h=r.history)==null?void 0:h.length)||0}`,25,109),l.text(`Dernière mise à jour: ${Kt(new Date(c.lastUpdate),"dd/MM/yyyy")}`,25,116),l.text(`Nombre de cordes: ${c.totalRopes||"N/A"}`,120,95),l.text(`Tonnage estimé: ${c.estimatedTonnage.toFixed(1)||"N/A"} tonnes`,120,102),l.text(`Densité moyenne: ${c.avgDensity||"N/A"} huîtres/m²`,120,109),l.text(`Taille moyenne: ${c.avgSize||"N/A"}mm`,120,116),l.setFontSize(14),l.setTextColor(0,150,180),l.text("Évolution de la mortalité",20,131),l.setFontSize(11),l.setTextColor(60,60,60),l.text(`Initial: ${c.initialMortality||0}%`,25,138),l.text(`Maximum: ${c.maxMortality||0}%`,85,138),l.text(`Actuel: ${c.currentMortality||0}%`,145,138),l.setDrawColor(0,150,180),l.line(20,145,190,145),l.setFontSize(14),l.setTextColor(0,150,180),l.text("Données de production",20,160),l.setFontSize(11),l.setTextColor(60,60,60),l.text(`Quantité initiale: ${c.initialQuantity||"N/A"} pièces`,25,167),l.text(`Quantité actuelle: ${c.currentQuantity||"N/A"} pièces`,25,174),l.text(`Perte estimée: ${c.estimatedLoss||"N/A"} pièces`,25,181),l.text(`Rendement: ${c.productionYield||"N/A"}%`,25,188),l.line(20,195,190,195),l.setFontSize(14),l.setTextColor(0,150,180),l.text("Détail des interventions",20,210);let u=225;l.setFontSize(11),l.setTextColor(0,0,0);const d=n?(p=r.history)==null?void 0:p.filter(m=>{const x=new Date(m.date);return Kt(x,"yyyy-MM-dd")===Kt(n,"yyyy-MM-dd")}):r.history;d==null||d.forEach(m=>{l.setFont(void 0,"bold"),l.text(`${Kt(new Date(m.date),"dd/MM/yyyy")} - ${m.action}`,20,u),u+=7,l.setFont(void 0,"normal"),m.details&&(l.text(`Détails: ${m.details}`,30,u),u+=7),m.mortalityRate&&(l.text(`Mortalité: ${m.mortalityRate}%`,30,u),u+=7),m.naissain&&(l.text(`Naissain: ${m.naissain}`,30,u),u+=7),m.lotNumber&&(l.text(`N° de lot: ${m.lotNumber}`,30,u),u+=7),m.quantity&&(l.text(`Quantité: ${m.quantity} pièces`,30,u),u+=7),m.density&&(l.text(`Densité: ${m.density} huîtres/m²`,30,u),u+=7),m.size&&(l.text(`Taille moyenne: ${m.size}mm`,30,u),u+=7),m.ropes&&(l.text(`Nombre de cordes: ${m.ropes}`,30,u),u+=7),m.tonnage&&(l.text(`Tonnage: ${m.tonnage} tonnes`,30,u),u+=7),u+=5,u>270&&(l.addPage(),u=20)});const f=l.getNumberOfPages();for(let m=1;m<=f;m++)l.setPage(m),l.setFontSize(10),l.setTextColor(100,100,100),l.text(`Page ${m} sur ${f}`,l.internal.pageSize.width/2,l.internal.pageSize.height-10,{align:"center"}),l.text(`Généré le ${Kt(new Date,"dd/MM/yyyy à HH:mm")}`,20,l.internal.pageSize.height-10);l.save(`historique_table_${r.name}_${Kt(new Date,"yyyy-MM-dd")}.pdf`)},o=l=>{if(!(l!=null&&l.length))return{avgMortality:0,growthTime:0,lastUpdate:new Date,totalRopes:0,estimatedTonnage:0,avgDensity:0,avgSize:0,initialMortality:0,maxMortality:0,currentMortality:0,initialQuantity:0,currentQuantity:0,estimatedLoss:0,productionYield:0};const c=l.filter(E=>E.mortalityRate).map(E=>Number(E.mortalityRate)),u=c.length?(c.reduce((E,L)=>E+L,0)/c.length).toFixed(1):0,d=new Date(l[0].date),f=new Date(l[l.length-1].date),h=Math.ceil($G(f,d)),p=l[l.length-1],m=l[0],x=p.ropes||0,g=x*.5,v=l.filter(E=>E.density).map(E=>Number(E.density)),b=v.length?Math.round(v.reduce((E,L)=>E+L,0)/v.length):0,y=l.filter(E=>E.size).map(E=>Number(E.size)),w=y.length?Math.round(y.reduce((E,L)=>E+L,0)/y.length):0,N=Number(m.mortalityRate)||0,S=Math.max(...c,0),j=Number(p.mortalityRate)||0,A=Number(m.quantity)||0,T=Number(p.quantity)||0,R=A-T,O=A?Math.round(T/A*100):0;return{avgMortality:u,growthTime:h,lastUpdate:f,totalRopes:x,estimatedTonnage:g,avgDensity:b,avgSize:w,initialMortality:N,maxMortality:S,currentMortality:j,initialQuantity:A,currentQuantity:T,estimatedLoss:R,productionYield:O}};return s.jsx(_r,{children:e&&s.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),s.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 pt-[15vh]",children:s.jsxs(je.div,{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0px)"},exit:{opacity:0,transform:"translateY(30px)"},className:"bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[900px] border border-white/10 relative overflow-hidden shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Historique ",r.name]}),s.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Suivi détaillé des lots et performances"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/5 flex flex-col items-center",children:[s.jsx("span",{className:"text-white/70 text-sm mb-1",children:"Mortalité moyenne"}),s.jsx("span",{className:"text-2xl font-bold text-emerald-400",children:"15%"})]}),s.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/5 flex flex-col items-center",children:[s.jsx("span",{className:"text-white/70 text-sm mb-1",children:"Temps de croissance"}),s.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:"11 mois"})]}),s.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/5 flex flex-col items-center",children:[s.jsx("span",{className:"text-white/70 text-sm mb-1",children:"Dernière mise à jour"}),s.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:Kt(new Date,"dd/MM/yyyy")})]})]}),s.jsxs("div",{className:"flex justify-end items-center gap-4",children:[s.jsx("button",{onClick:()=>{const l=document.getElementById("date-picker");l&&l.click()},className:"h-[52px] w-[52px] flex items-center justify-center rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300","aria-label":"Filtrer par date",children:s.jsx(ta,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("div",{className:"hidden",children:s.jsx(yDe,{id:"date-picker",selected:n,onChange:l=>a(l),locale:"fr",dateFormat:"dd/MM/yyyy",isClearable:!0,showPopperArrow:!1,popperClassName:"datepicker-popper",popperPlacement:"bottom-end",customInput:s.jsx("div",{})})}),s.jsxs("button",{onClick:i,className:"h-[52px] px-6 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 flex items-center gap-2",children:[s.jsx(ao,{size:18,className:"text-cyan-400","aria-hidden":"true"}),s.jsx("span",{className:"text-white font-medium",children:"Exporter PDF"})]})]}),s.jsx("div",{className:"bg-gray-800/50 rounded-lg border border-white/5 divide-y divide-white/5",children:[1,2,3].map((l,c)=>s.jsx("div",{className:"group p-5 first:rounded-t-lg last:rounded-b-lg hover:bg-white/5 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-cyan-500/10 border border-cyan-400/20",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.3)]"}),s.jsx("span",{className:"text-sm font-medium text-cyan-400",children:"Naissain Premium"})]}),s.jsx("div",{className:"h-3.5 w-[1px] bg-white/10"}),s.jsx("span",{className:"text-sm text-white/70",children:Kt(new Date(2025,3-c,1),"dd/MM/yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[s.jsx(na,{size:14,className:"text-cyan-400"}),s.jsxs("span",{className:"font-medium",children:["Lot T15-",1e3+c]})]}),s.jsx("div",{className:"h-3.5 w-[1px] bg-white/10"}),s.jsx("span",{className:"text-white/70",children:"Bretagne Sud"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-400/20",children:[s.jsx(kM,{size:14,className:"text-emerald-400"}),s.jsxs("span",{className:"text-sm font-medium text-emerald-400",children:["Mortalité: ",14+c,"%"]})]}),s.jsx("div",{className:"h-5 w-5 rounded-full bg-emerald-500/20 border border-emerald-400/20 flex items-center justify-center shadow-[0_0_15px_rgba(52,211,153,0.2)]",children:s.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400"})})]})]})},c))})]})]})})]})})},EIe=({isOpen:e,onClose:t,onUpload:r})=>{const n=()=>{const a=J2.json_to_sheet([{ropeCount:10,spatName:"Naissain exemple",batchNumber:"2503-001",dateAdded:new Date().toISOString()}]),i=J2.book_new();J2.book_append_sheet(i,a,"Template"),H6e(i,"template_import_table.xlsx")};return s.jsx(_r,{children:e&&s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg w-[600px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Import Excel"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(zt,{size:20})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"Format requis"}),s.jsx("p",{className:"text-white/70",children:"Le fichier Excel doit contenir les colonnes suivantes :"}),s.jsxs("ul",{className:"mt-2 space-y-2 text-white/70",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 bg-cyan-400 rounded-full"}),s.jsx("strong",{children:"ropeCount"})," - Nombre de cordes (requis)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 bg-cyan-400 rounded-full"}),s.jsx("strong",{children:"spatName"})," - Nom du naissain (requis)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 bg-white/30 rounded-full"}),s.jsx("strong",{children:"batchNumber"})," - Numéro de lot (optionnel)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 bg-white/30 rounded-full"}),s.jsx("strong",{children:"dateAdded"})," - Date d'ajout (optionnel)"]})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[s.jsx(hb,{size:20,className:"text-cyan-400"}),"Exemple de format"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left text-white/70 px-4 py-2",children:"ropeCount"}),s.jsx("th",{className:"text-left text-white/70 px-4 py-2",children:"spatName"}),s.jsx("th",{className:"text-left text-white/70 px-4 py-2",children:"batchNumber"}),s.jsx("th",{className:"text-left text-white/70 px-4 py-2",children:"dateAdded"})]})}),s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsx("td",{className:"text-white px-4 py-2",children:"10"}),s.jsx("td",{className:"text-white px-4 py-2",children:"Naissain exemple"}),s.jsx("td",{className:"text-white px-4 py-2",children:"2503-001"}),s.jsx("td",{className:"text-white px-4 py-2",children:"2025-04-01"})]})})]})})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/30 hover:border-cyan-400/50 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 flex items-center gap-2",children:[s.jsx(Wo,{size:20}),"Télécharger le modèle Excel"]}),s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:[s.jsx(Ho,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-white",children:"Importer un fichier Excel"}),s.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:r,className:"hidden","aria-label":"Importer un fichier Excel"})]})]})]})]})]})})})})},Gy=[{id:"triploide",label:"Triploïde"},{id:"diploide",label:"Diploïde"}],Yy=[{id:"T5",label:"T5"},{id:"T10",label:"T10"},{id:"T15",label:"T15"},{id:"T30",label:"T30"},{id:"N4",label:"N°4"},{id:"N3",label:"N°3"},{id:"N2",label:"N°2"},{id:"N1",label:"N°1"}],kIe=({isOpen:e,onClose:t,onFill:r,table:n})=>{const[a,i]=k.useState(!1),[o,l]=k.useState(null),[c,u]=k.useState(""),[d,f]=k.useState("France naissain"),[h,p]=k.useState(Gy[0].id),[m,x]=k.useState(Yy[0].id),g=b=>{l(b),c||u(z0(h,m)),i(!0)},v=()=>{o&&(r(o,{origin:d,lotNumber:c,type:h,size:m}),i(!1),t())};return s.jsx(_r,{children:e&&s.jsx(kh,{isOpen:e,onClose:t,title:"Remplir la table",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Table ",n.name," - Bouzigues"]}),s.jsx("p",{className:"text-white/70 mt-2",children:"Choisissez la partie de la table à remplir"})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Numéro de lot"}),s.jsx("input",{type:"text",value:c,onChange:b=>u(b.target.value),placeholder:"Généré automatiquement si vide",className:"w-full p-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400/30 focus:ring-1 focus:ring-cyan-400/30 transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Provenance du naissain"}),s.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value),className:"w-full p-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400/30 focus:ring-1 focus:ring-cyan-400/30 transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Type d'huître"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Gy.map(b=>s.jsx("button",{onClick:()=>p(b.id),className:`p-2 rounded-lg border ${h===b.id?"bg-cyan-500/20 border-cyan-400/30 text-cyan-300":"bg-white/5 border-white/10 text-white/70 hover:bg-white/10"} 
                            transition-colors`,children:b.label},b.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Taille"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:Yy.map(b=>s.jsx("button",{onClick:()=>x(b.id),className:`p-2 rounded-lg border ${m===b.id?"bg-cyan-500/20 border-cyan-400/30 text-cyan-300":"bg-white/5 border-white/10 text-white/70 hover:bg-white/10"} 
                            transition-colors`,children:b.label},b.id))})]})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:v,className:"px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors",children:"Confirmer"})]})]}):s.jsx("div",{className:"grid gap-4",children:s.jsxs("button",{onClick:()=>g("all"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(hb,{className:"text-cyan-400",size:20}),s.jsx("span",{className:"ml-3 text-white",children:"Remplir toute la table"})]}),s.jsx(Fo,{size:20,className:"text-cyan-400"})]})})]})})})},TIe=({table:e,onClose:t,onTableUpdate:r})=>{var se,I,P;const[n,a]=k.useState(null),[i,o]=k.useState(!1),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[p,m]=k.useState(!1),[x,g]=k.useState(!1),[v,b]=k.useState("all"),[y,w]=k.useState([]),[N,S]=k.useState(!1),[j,A]=k.useState(!1),[T,R]=k.useState(!1),[O,E]=k.useState(null),[L,B]=k.useState("");k.useEffect(()=>{if(j&&O){const M=setInterval(()=>{const z=new Date,ae=new Date(O).getTime()-z.getTime();if(ae<=0){A(!1),E(null),B(""),clearInterval(M);return}const ue=Math.floor(ae/(1e3*60*60)),ne=Math.floor(ae%(1e3*60*60)/(1e3*60));B(`${ue}h ${ne}m`)},1e3);return()=>clearInterval(M)}},[j,O]);const G=(M,z)=>{const Y=new Date().toISOString(),ae=e.cells.map(ue=>(parseInt(ue.id),M==="all"?{...ue,filled:!0,spat:{name:z.origin,batchNumber:z.lotNumber,dateAdded:Y},history:[...ue.history||[],{date:Y,action:"Remplissage",details:`Ajout de naissain ${z.origin}`,naissain:z.origin,lotNumber:z.lotNumber,mortalityRate:0,notes:""}]}:ue));r({...e,cells:ae,history:[...e.history||[],{date:Y,action:"Remplissage table entière",naissain:z.origin,lotNumber:z.lotNumber}]})};K.useEffect(()=>{if(e.id==="1"&&r){const M=[...e.cells];M[3]&&(M[3]={...M[3],filled:!0,ropeCount:7}),M[8]&&(M[8]={...M[8],filled:!0}),M[16]&&(M[16]={...M[16],filled:!0}),r({...e,cells:M})}},[e.id,r]);const U=M=>{var ae,ue;const z=[...e.cells],Y=z.findIndex(ne=>ne.id===M.id);if(Y!==-1){z[Y]=M;const ne={date:new Date().toISOString(),action:"Mise à jour cellule",details:`Cellule ${Y+1} mise à jour avec ${M.ropeCount} cordes`,naissain:((ae=M.spat)==null?void 0:ae.name)||"",lotNumber:((ue=M.spat)==null?void 0:ue.batchNumber)||"",mortalityRate:0,notes:"",type:"update",ropes:M.ropeCount,tonnage:M.ropeCount*.5};r({...e,cells:z,history:[...e.history,ne]})}o(!1)},W=M=>{var ae,ue;const z=[...e.cells],Y=z.findIndex(ne=>ne.id===M.id);if(Y!==-1){z[Y]=M;const ne={date:new Date().toISOString(),action:"Récolte de cordes",details:`Cellule ${Y+1} récoltée`,naissain:((ae=M.spat)==null?void 0:ae.name)||"",lotNumber:((ue=M.spat)==null?void 0:ue.batchNumber)||"",mortalityRate:0,notes:"",type:"harvest",ropes:M.ropeCount,tonnage:M.ropeCount*.5};r({...e,cells:z,history:[...e.history,ne]})}g(!1)},X=M=>{var Y;const z=(Y=M.target.files)==null?void 0:Y[0];if(z){const ae=new FileReader;ae.onload=ue=>{var Me;const ne=new Uint8Array((Me=ue.target)==null?void 0:Me.result),_e=jj(ne,{type:"array"}),Ce=_e.Sheets[_e.SheetNames[0]],V=J2.sheet_to_json(Ce);if(V.length>0){const Ae={...e,cells:e.cells.map((pe,re)=>{const Oe=V[re];return Oe?{...pe,ropeCount:Oe.ropeCount||pe.ropeCount,spat:Oe.spatName?{name:Oe.spatName,batchNumber:Oe.batchNumber||z0(),dateAdded:Oe.dateAdded||new Date().toISOString()}:pe.spat}:pe})};r(Ae)}},ae.readAsArrayBuffer(z)}},q=M=>{a(M),M.filled?g(!0):o(!0)},le=()=>{console.log("Début de la génération du PDF");try{const M=new Mt;M.setFontSize(22),M.setTextColor(0,150,180),M.text("OYSTER CULT",105,20,{align:"center"}),M.setFontSize(16),M.setTextColor(80,80,80),M.text("Table: Table Nord #128",105,30,{align:"center"}),M.setFontSize(10),M.setTextColor(100,100,100),M.text("Exporté le: 01/04/2025 à 23:34",20,40),M.setFontSize(12),M.setTextColor(60,60,60),M.text("Informations générales",20,50);const z=[["Type","Table Standard"],["Origine","France naissain"],["Temps de grossissement","1 an et 44 jours (65% de progression)"],["Dernier échantillonnage","17/03/25"],["Taux de mortalité","18%"],["Température","12°C"],["Nombre d'exondations","29 fois"],["Provenance naissain","France naissain"]];M.autoTable({startY:55,head:[["Propriété","Valeur"]],body:z,theme:"grid",headStyles:{fillColor:[0,150,180],textColor:[255,255,255]},styles:{fontSize:10},margin:{top:60}});const Y=[["Carrés remplis","17 sur 20"],["Nombre d'exondations","29 fois"]],ae=M.lastAutoTable.finalY+10;M.setFontSize(12),M.setTextColor(60,60,60),M.text("Statistiques",20,ae),M.autoTable({startY:ae+5,head:[["Métrique","Valeur"]],body:Y,theme:"grid",headStyles:{fillColor:[0,150,180],textColor:[255,255,255]},styles:{fontSize:10}});const ue=[["Carré 1","Vide","0","0","-","-","-","Non","-","-"],["Carré 2","Vide","0","0","-","-","-","Non","-","-"],["Carré 3","Vide","0","0","-","-","-","Non","-","-"],["Carré 4","Rempli","48","7200","France naissain","2504-388","25/02/2025","Non","3","01/03/2025"],["Carré 5","Rempli","45","6750","France naissain","2503-577","20/03/2025","Non","2","15/03/2025"],["Carré 6","Rempli","50","7500","France naissain","2502-144","18/02/2025","Non","3","12/03/2025"],["Carré 7","Rempli","47","7050","France naissain","2502-144","18/02/2025","Non","3","12/03/2025"],["Carré 8","Rempli","43","6450","France naissain","2503-577","20/03/2025","Non","2","15/03/2025"],["Carré 9","Rempli","50","7500","France naissain","2502-144","18/02/2025","Oui","5","12/03/2025"],["Carré 10","Rempli","48","7200","France naissain","2504-388","25/02/2025","Oui","6","01/03/2025"],["Carré 11","Rempli","45","6750","France naissain","2503-577","20/03/2025","Oui","4","15/03/2025"],["Carré 12","Rempli","50","7500","France naissain","2502-144","18/02/2025","Oui","3","12/03/2025"],["Carré 13","Rempli","47","7050","France naissain","2503-577","20/03/2025","Oui","2","15/03/2025"],["Carré 14","Rempli","43","6450","France naissain","2502-144","18/02/2025","Non","3","12/03/2025"],["Carré 15","Rempli","50","7500","France naissain","2504-388","25/02/2025","Non","3","01/03/2025"],["Carré 16","Rempli","48","7200","France naissain","2503-577","20/03/2025","Non","2","15/03/2025"],["Carré 17","Rempli","45","6750","France naissain","2502-144","18/02/2025","Oui","3","12/03/2025"],["Carré 18","Rempli","50","7500","France naissain","2503-577","20/03/2025","Oui","2","15/03/2025"],["Carré 19","Rempli","47","7050","France naissain","2504-388","25/02/2025","Oui","3","01/03/2025"],["Carré 20","Rempli","43","6450","France naissain","2503-577","20/03/2025","Oui","2","15/03/2025"]],ne=M.lastAutoTable.finalY+10;M.setFontSize(12),M.setTextColor(60,60,60),M.text("Détails des carrés",20,ne),M.autoTable({startY:ne+5,head:[["Position","État","Cordes","Huîtres","Naissain","Lot","Date ajout","Exondé","Nb exondations","Date exondation"]],body:ue,theme:"grid",headStyles:{fillColor:[0,150,180],textColor:[255,255,255]},styles:{fontSize:8},columnStyles:{0:{cellWidth:15},1:{cellWidth:15},2:{cellWidth:12},3:{cellWidth:15},4:{cellWidth:25},5:{cellWidth:20},6:{cellWidth:20},7:{cellWidth:12},8:{cellWidth:15},9:{cellWidth:20}}});const _e=M.getNumberOfPages();for(let Ce=1;Ce<=_e;Ce++)M.setPage(Ce),M.setFontSize(10),M.setTextColor(100,100,100),M.text(`Page ${Ce} sur ${_e}`,M.internal.pageSize.width/2,M.internal.pageSize.height-10,{align:"center"}),M.text("Généré le 01/04/2025 à 23:34",20,M.internal.pageSize.height-10);console.log("Sauvegarde du PDF"),M.save(`table_Nord_128_${Kt(new Date,"yyyy-MM-dd")}.pdf`),console.log("PDF généré avec succès")}catch(M){console.error("Erreur lors de la génération du PDF:",M),alert("Une erreur est survenue lors de la génération du PDF. Veuillez réessayer.")}};return s.jsxs(s.Fragment,{children:[s.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:t}),s.jsxs(je.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-6 rounded-xl max-w-4xl w-full border border-white/10",onClick:M=>M.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hb,{size:24,className:"text-cyan-400"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xl",children:[s.jsx(na,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-white/80 font-semibold",children:"Bouzigues"})]})]}),s.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Huîtres creuses • Calibre en cours N°2"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/30 hover:border-cyan-400/50 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 flex items-center gap-2",children:[s.jsx(Ho,{size:20}),s.jsx("span",{children:"Importer depuis Excel"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-white/5",children:[s.jsx("h3",{className:"text-xl font-semibold text-cyan-300",children:"Informations générales"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qa,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-gray-300",children:"Temps de grossissement"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx("span",{className:"text-white font-medium",children:"1 an et 44 jours"}),s.jsx("div",{className:"w-32 h-1.5 bg-gray-700/50 rounded-full overflow-hidden shadow-[0_1px_3px_rgba(0,0,0,0.3)_inset]",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 via-green-400 to-yellow-300 rounded-full shadow-[0_0_8px_rgba(34,211,238,0.4)] transition-all duration-500",style:{width:"65%"}})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ta,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-gray-300",children:"Dernier échantillonnage"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"px-2.5 py-1 rounded-lg bg-cyan-500/5 border border-cyan-400/20 shadow-[0_2px_5px_rgba(0,0,0,0.1),0_0_10px_rgba(34,211,238,0.1)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.15),0_0_12px_rgba(34,211,238,0.2)] transition-all duration-300",children:s.jsx("span",{className:"text-cyan-400 font-medium",children:"17/03/25"})}),s.jsx("div",{className:"px-2.5 py-1 rounded-lg bg-emerald-500/5 border border-emerald-400/20 shadow-[0_2px_5px_rgba(0,0,0,0.1),0_0_10px_rgba(52,211,153,0.1)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.15),0_0_12px_rgba(52,211,153,0.2)] transition-all duration-300",children:s.jsx("span",{className:"text-emerald-400 font-medium",children:"18% mortalité"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(to,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-gray-300",children:"Température"})]}),s.jsx("span",{className:"text-white font-medium",children:"12°C"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ji,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-gray-300",children:"Nombre d'exondations"})]}),s.jsx("span",{className:"text-white font-medium",children:"29 fois"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(na,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-gray-300",children:"Provenance naissain"})]}),s.jsx("span",{className:"text-white font-medium",children:"France naissain"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qa,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-gray-300",children:"Dernière mise à jour"})]}),s.jsx("span",{className:"text-white font-medium",children:"02/04/2025"})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-white/5",children:[s.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-8",children:"Actions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(ji,{className:(se=e.exondation)!=null&&se.isExonded?"text-orange-400":"text-cyan-400",size:20}),s.jsx("span",{className:"ml-3 text-white",children:(I=e.exondation)!=null&&I.isExonded?"Exondé":"Exonder"})]}),s.jsx(Fo,{size:20,className:(P=e.exondation)!=null&&P.isExonded?"text-orange-400":"text-cyan-400"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(ig,{className:"text-cyan-400",size:20}),s.jsx("span",{className:"ml-3 text-white",children:"Échantillonnage"})]}),s.jsx(Fo,{size:20,className:"text-cyan-400"})]}),s.jsxs("button",{onClick:()=>S(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(hb,{className:"text-cyan-400",size:20}),s.jsx("span",{className:"ml-3 text-white",children:"Remplir table"})]}),s.jsx(Fo,{size:20,className:"text-cyan-400"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(su,{className:"text-cyan-400",size:20}),s.jsx("span",{className:"ml-3 text-white",children:"Historique"})]}),s.jsx(Fo,{size:20,className:"text-cyan-400"})]}),s.jsxs("button",{onClick:()=>{console.log("Bouton Exporter cliqué"),le()},className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(ao,{className:"text-cyan-400",size:20}),s.jsx("span",{className:"ml-3 text-white",children:"Exporter"})]}),s.jsx(Fo,{size:20,className:"text-cyan-400"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-10 gap-1",children:e.cells.map((M,z)=>s.jsxs("div",{onClick:()=>q(M),className:`h-8 rounded-sm border cursor-pointer transition-colors flex items-center justify-center relative backdrop-blur-sm ${M.filled?z===3?"bg-gradient-to-l from-cyan-500/40 to-transparent from-[87.5%] to-[87.5%] border-cyan-500/30":"bg-cyan-500/40 border-cyan-500/30 hover:bg-cyan-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[s.jsx("div",{className:"absolute bottom-1 right-1 text-[10px] text-white/40",children:z+1}),M.filled&&M.ropeCount&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white/70",children:M.ropeCount})})]},M.id))}),i&&n&&s.jsx(SIe,{cell:n,onClose:()=>o(!1),onSave:U}),x&&n&&s.jsx(AIe,{cell:n,onClose:()=>g(!1),onSave:W})]})]}),f&&s.jsx(CIe,{isOpen:f,onClose:()=>h(!1),table:e}),s.jsx(EIe,{isOpen:p,onClose:()=>m(!1),onUpload:X}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50",onClick:M=>{M.target===M.currentTarget&&d(!1)},children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-sm p-8 rounded-xl w-[600px] border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Échantillonnage"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(zt,{size:20})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("p",{className:"text-gray-300",children:"Voulez-vous effectuer un contrôle d'échantillonnage sur cette table ?"}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-700 text-gray-300 transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>{const M={date:new Date().toISOString(),action:"Échantillonnage",details:"Contrôle de croissance effectué",naissain:"",lotNumber:"",mortalityRate:0,notes:"",type:"sampling"};r({...e,lastSampling:{date:new Date().toISOString(),mortality:Math.round(Math.random()*5).toString()},history:[...e.history,M]}),d(!1)},className:"px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors",children:"Confirmer"})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50",onClick:M=>{M.target===M.currentTarget&&c(!1)},children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] p-6 rounded-lg w-96 shadow-xl border border-white/10",onClick:M=>M.stopPropagation(),children:[s.jsx("h3",{className:"text-xl font-semibold text-cyan-500 mb-4",children:"Sélectionner la zone à exonder"}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsx("button",{onClick:()=>b("all"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${v==="all"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Table complète"}),s.jsx("button",{onClick:()=>b("custom"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${v==="custom"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Sélection personnalisée"})]}),v==="custom"&&s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"grid grid-cols-10 gap-1 mb-4",children:e.cells.map((M,z)=>s.jsx("div",{onClick:()=>{w(Y=>Y.includes(z)?Y.filter(ae=>ae!==z):[...Y,z])},className:`w-8 h-8 rounded-sm border cursor-pointer transition-colors flex items-center justify-center relative backdrop-blur-sm ${y.includes(z)?"bg-cyan-500/50 border-cyan-400":z<3?"bg-white/5 border-white/10 hover:bg-white/10":z===3?"bg-cyan-500/20 border-cyan-500/30 hover:bg-cyan-500/30":"bg-cyan-500/40 border-cyan-500/30 hover:bg-cyan-500/50"}`,children:s.jsx("div",{className:"absolute bottom-1 right-1 text-[10px] text-white/40 flex items-center justify-center relative",children:z+1})},M.id))}),s.jsx("p",{className:"text-white/70 text-sm",children:"Sélectionnez les cellules à exonder"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-white/70",children:"Annuler"}),s.jsx("button",{onClick:()=>R(!0),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:"Confirmer"})]})]})}),T&&s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-md flex items-center justify-center z-50",onClick:M=>{M.target===M.currentTarget&&R(!1)},children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] p-6 rounded-lg w-96 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",onClick:M=>M.stopPropagation(),children:[s.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mb-4",children:"Confirmation d'exondation"}),s.jsxs("div",{className:"space-y-4 mb-6 text-white/70",children:[s.jsx("p",{children:"Un timer de 24h sera lancé à partir de la confirmation."}),s.jsx("p",{children:"Une notification de rappel sera envoyée toutes les 12h pour éviter d'oublier les huîtres hors de l'eau."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>R(!1),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Annuler"}),s.jsx("button",{onClick:()=>{A(!0),R(!1),c(!1);const M=new Date,z=new Date(M.getTime()+24*60*60*1e3);E(z)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/30 hover:border-cyan-400/50 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Confirmer"})]})]})}),s.jsx(kIe,{isOpen:N,onClose:()=>S(!1),onFill:G,table:e}),j&&L&&s.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-orange-500/20 border-b border-orange-500/30 text-orange-300 px-4 py-2 flex items-center justify-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-waves",children:[s.jsx("path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),s.jsx("path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),s.jsx("path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"})]}),"Exondation en cours - ",L," restant"]})]})};var Mg=e=>e.type==="checkbox",S0=e=>e instanceof Date,cs=e=>e==null;const vz=e=>typeof e=="object";var ya=e=>!cs(e)&&!Array.isArray(e)&&vz(e)&&!S0(e),OIe=e=>ya(e)&&e.target?Mg(e.target)?e.target.checked:e.target.value:e,PIe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,DIe=(e,t)=>e.has(PIe(t)),IIe=e=>{const t=e.constructor&&e.constructor.prototype;return ya(t)&&t.hasOwnProperty("isPrototypeOf")},GC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _i(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(GC&&(e instanceof Blob||n))&&(r||ya(e)))if(t=r?[]:{},!r&&!IIe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=_i(e[a]));else return e;return t}var Fg=e=>Array.isArray(e)?e.filter(Boolean):[],Ln=e=>e===void 0,wt=(e,t,r)=>{if(!t||!ya(e))return r;const n=Fg(t.split(/[,[\].]+?/)).reduce((a,i)=>cs(a)?a:a[i],e);return Ln(n)||n===e?Ln(e[t])?r:e[t]:n},Hl=e=>typeof e=="boolean",YC=e=>/^\w*$/.test(e),bz=e=>Fg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pn=(e,t,r)=>{let n=-1;const a=YC(t)?[t]:bz(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=ya(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}return e};const UD={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Lo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MIe=K.createContext(null),FIe=()=>K.useContext(MIe);var RIe=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Lo.all&&(t._proxyFormState[o]=!n||Lo.all),e[o]}});return a},is=e=>ya(e)&&!Object.keys(e).length,LIe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return is(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===Lo.all)},no=e=>Array.isArray(e)?e:[e];function yz(e){const t=K.useRef(e);t.current=e,K.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var rc=e=>typeof e=="string",BIe=(e,t,r,n,a)=>rc(e)?(n&&t.watch.add(e),wt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),wt(r,i))):(n&&(t.watchAll=!0),r),$Ie=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Uu=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},H4=(e,t,r={})=>r.shouldFocus||Ln(r.shouldFocus)?r.focusName||`${e}.${Ln(r.focusIndex)?t:r.focusIndex}.`:"",Qx=e=>({isOnSubmit:!e||e===Lo.onSubmit,isOnBlur:e===Lo.onBlur,isOnChange:e===Lo.onChange,isOnAll:e===Lo.all,isOnTouch:e===Lo.onTouched}),Hj=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Jh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=wt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Jh(l,t))break}else if(ya(l)&&Jh(l,t))break}}};var wz=(e,t,r)=>{const n=no(wt(e,r));return pn(n,"root",t[r]),pn(e,r,n),e},XC=e=>e.type==="file",Xl=e=>typeof e=="function",Xy=e=>{if(!GC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ib=e=>rc(e),KC=e=>e.type==="radio",Ky=e=>e instanceof RegExp;const HD={value:!1,isValid:!1},WD={value:!0,isValid:!0};var _z=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ln(e[0].attributes.value)?Ln(e[0].value)||e[0].value===""?WD:{value:e[0].value,isValid:!0}:WD:HD}return HD};const VD={isValid:!1,value:null};var Nz=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,VD):VD;function qD(e,t,r="validate"){if(ib(e)||Array.isArray(e)&&e.every(ib)||Hl(e)&&!e)return{type:r,message:ib(e)?e:"",ref:t}}var hh=e=>ya(e)&&!Ky(e)?e:{value:e,message:""},Wj=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:m,name:x,valueAsNumber:g,mount:v}=e._f,b=wt(r,x);if(!v||t.has(x))return{};const y=l?l[0]:o,w=E=>{a&&y.reportValidity&&(y.setCustomValidity(Hl(E)?"":E||""),y.reportValidity())},N={},S=KC(o),j=Mg(o),A=S||j,T=(g||XC(o))&&Ln(o.value)&&Ln(b)||Xy(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,R=$Ie.bind(null,x,n,N),O=(E,L,B,G=Lc.maxLength,U=Lc.minLength)=>{const W=E?L:B;N[x]={type:E?G:U,message:W,ref:o,...R(E?G:U,W)}};if(i?!Array.isArray(b)||!b.length:c&&(!A&&(T||cs(b))||Hl(b)&&!b||j&&!_z(l).isValid||S&&!Nz(l).isValid)){const{value:E,message:L}=ib(c)?{value:!!c,message:c}:hh(c);if(E&&(N[x]={type:Lc.required,message:L,ref:y,...R(Lc.required,L)},!n))return w(L),N}if(!T&&(!cs(f)||!cs(h))){let E,L;const B=hh(h),G=hh(f);if(!cs(b)&&!isNaN(b)){const U=o.valueAsNumber||b&&+b;cs(B.value)||(E=U>B.value),cs(G.value)||(L=U<G.value)}else{const U=o.valueAsDate||new Date(b),W=le=>new Date(new Date().toDateString()+" "+le),X=o.type=="time",q=o.type=="week";rc(B.value)&&b&&(E=X?W(b)>W(B.value):q?b>B.value:U>new Date(B.value)),rc(G.value)&&b&&(L=X?W(b)<W(G.value):q?b<G.value:U<new Date(G.value))}if((E||L)&&(O(!!E,B.message,G.message,Lc.max,Lc.min),!n))return w(N[x].message),N}if((u||d)&&!T&&(rc(b)||i&&Array.isArray(b))){const E=hh(u),L=hh(d),B=!cs(E.value)&&b.length>+E.value,G=!cs(L.value)&&b.length<+L.value;if((B||G)&&(O(B,E.message,L.message),!n))return w(N[x].message),N}if(p&&!T&&rc(b)){const{value:E,message:L}=hh(p);if(Ky(E)&&!b.match(E)&&(N[x]={type:Lc.pattern,message:L,ref:o,...R(Lc.pattern,L)},!n))return w(L),N}if(m){if(Xl(m)){const E=await m(b,r),L=qD(E,y);if(L&&(N[x]={...L,...R(Lc.validate,L.message)},!n))return w(L.message),N}else if(ya(m)){let E={};for(const L in m){if(!is(E)&&!n)break;const B=qD(await m[L](b,r),y,L);B&&(E={...B,...R(L,B.message)},w(B.message),n&&(N[x]=E))}if(!is(E)&&(N[x]={ref:y,...E},!n))return N}}return w(!0),N},W4=(e,t)=>[...e,...no(t)],V4=e=>Array.isArray(e)?e.map(()=>{}):void 0;function q4(e,t,r){return[...e.slice(0,t),...no(r),...e.slice(t)]}var G4=(e,t,r)=>Array.isArray(e)?(Ln(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Y4=(e,t)=>[...no(t),...no(e)];function zIe(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return Fg(n).length?n:[]}var X4=(e,t)=>Ln(t)?[]:zIe(e,no(t).sort((r,n)=>r-n)),K4=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function UIe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ln(e)?n++:e[t[n++]];return e}function HIe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ln(e[t]))return!1;return!0}function Ca(e,t){const r=Array.isArray(t)?t:YC(t)?[t]:bz(t),n=r.length===1?e:UIe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(ya(n)&&is(n)||Array.isArray(n)&&HIe(n))&&Ca(e,r.slice(0,-1)),e}var GD=(e,t,r)=>(e[t]=r,e);function WIe(e){const t=FIe(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,c]=K.useState(r._getFieldArray(n)),u=K.useRef(r._getFieldArray(n).map(Uu)),d=K.useRef(l),f=K.useRef(n),h=K.useRef(!1);f.current=n,d.current=l,r._names.array.add(n),o&&r.register(n,o),yz({next:({values:S,name:j})=>{if(j===f.current||!j){const A=wt(S,f.current);Array.isArray(A)&&(c(A),u.current=A.map(Uu))}},subject:r._subjects.array});const p=K.useCallback(S=>{h.current=!0,r._updateFieldArray(n,S)},[r,n]),m=(S,j)=>{const A=no(_i(S)),T=W4(r._getFieldArray(n),A);r._names.focus=H4(n,T.length-1,j),u.current=W4(u.current,A.map(Uu)),p(T),c(T),r._updateFieldArray(n,T,W4,{argA:V4(S)})},x=(S,j)=>{const A=no(_i(S)),T=Y4(r._getFieldArray(n),A);r._names.focus=H4(n,0,j),u.current=Y4(u.current,A.map(Uu)),p(T),c(T),r._updateFieldArray(n,T,Y4,{argA:V4(S)})},g=S=>{const j=X4(r._getFieldArray(n),S);u.current=X4(u.current,S),p(j),c(j),!Array.isArray(wt(r._fields,n))&&pn(r._fields,n,void 0),r._updateFieldArray(n,j,X4,{argA:S})},v=(S,j,A)=>{const T=no(_i(j)),R=q4(r._getFieldArray(n),S,T);r._names.focus=H4(n,S,A),u.current=q4(u.current,S,T.map(Uu)),p(R),c(R),r._updateFieldArray(n,R,q4,{argA:S,argB:V4(j)})},b=(S,j)=>{const A=r._getFieldArray(n);K4(A,S,j),K4(u.current,S,j),p(A),c(A),r._updateFieldArray(n,A,K4,{argA:S,argB:j},!1)},y=(S,j)=>{const A=r._getFieldArray(n);G4(A,S,j),G4(u.current,S,j),p(A),c(A),r._updateFieldArray(n,A,G4,{argA:S,argB:j},!1)},w=(S,j)=>{const A=_i(j),T=GD(r._getFieldArray(n),S,A);u.current=[...T].map((R,O)=>!R||O===S?Uu():u.current[O]),p(T),c([...T]),r._updateFieldArray(n,T,GD,{argA:S,argB:A},!0,!1)},N=S=>{const j=no(_i(S));u.current=j.map(Uu),p([...j]),c([...j]),r._updateFieldArray(n,[...j],A=>A,{},!0,!1)};return K.useEffect(()=>{if(r._state.action=!1,Hj(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!Qx(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(S=>{const j=wt(S.errors,n),A=wt(r._formState.errors,n);(A?!j&&A.type||j&&(A.type!==j.type||A.message!==j.message):j&&j.type)&&(j?pn(r._formState.errors,n,j):Ca(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const S=wt(r._fields,n);S&&S._f&&!(Qx(r._options.reValidateMode).isOnSubmit&&Qx(r._options.mode).isOnSubmit)&&Wj(S,r._names.disabled,r._formValues,r._options.criteriaMode===Lo.all,r._options.shouldUseNativeValidation,!0).then(j=>!is(j)&&r._subjects.state.next({errors:wz(r._formState.errors,j,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&Jh(r._fields,(S,j)=>{if(r._names.focus&&j.startsWith(r._names.focus)&&S.focus)return S.focus(),1}),r._names.focus="",r._updateValid(),h.current=!1},[l,n,r]),K.useEffect(()=>(!wt(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||i)&&r.unregister(n)}),[n,r,a,i]),{swap:K.useCallback(b,[p,n,r]),move:K.useCallback(y,[p,n,r]),prepend:K.useCallback(x,[p,n,r]),append:K.useCallback(m,[p,n,r]),remove:K.useCallback(g,[p,n,r]),insert:K.useCallback(v,[p,n,r]),update:K.useCallback(w,[p,n,r]),replace:K.useCallback(N,[p,n,r]),fields:K.useMemo(()=>l.map((S,j)=>({...S,[a]:u.current[j]||Uu()})),[l,a])}}var Q4=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Vj=e=>cs(e)||!vz(e);function od(e,t){if(Vj(e)||Vj(t))return e===t;if(S0(e)&&S0(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(S0(i)&&S0(o)||ya(i)&&ya(o)||Array.isArray(i)&&Array.isArray(o)?!od(i,o):i!==o)return!1}}return!0}var jz=e=>e.type==="select-multiple",VIe=e=>KC(e)||Mg(e),J4=e=>Xy(e)&&e.isConnected,Sz=e=>{for(const t in e)if(Xl(e[t]))return!0;return!1};function Qy(e,t={}){const r=Array.isArray(e);if(ya(e)||r)for(const n in e)Array.isArray(e[n])||ya(e[n])&&!Sz(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Qy(e[n],t[n])):cs(e[n])||(t[n]=!0);return t}function Az(e,t,r){const n=Array.isArray(e);if(ya(e)||n)for(const a in e)Array.isArray(e[a])||ya(e[a])&&!Sz(e[a])?Ln(t)||Vj(r[a])?r[a]=Array.isArray(e[a])?Qy(e[a],[]):{...Qy(e[a])}:Az(e[a],cs(t)?{}:t[a],r[a]):r[a]=!od(e[a],t[a]);return r}var fx=(e,t)=>Az(e,t,Qy(t)),Cz=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ln(e)?e:t?e===""?NaN:e&&+e:r&&rc(e)?new Date(e):n?n(e):e;function Z4(e){const t=e.ref;return XC(t)?t.files:KC(t)?Nz(e.refs).value:jz(t)?[...t.selectedOptions].map(({value:r})=>r):Mg(t)?_z(e.refs).value:Cz(Ln(t.value)?e.ref.value:t.value,e)}var qIe=(e,t,r,n)=>{const a={};for(const i of e){const o=wt(t,i);o&&pn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},hx=e=>Ln(e)?e:Ky(e)?e.source:ya(e)?Ky(e.value)?e.value.source:e.value:e;const YD="AsyncFunction";var GIe=e=>!!e&&!!e.validate&&!!(Xl(e.validate)&&e.validate.constructor.name===YD||ya(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===YD)),YIe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function XD(e,t,r){const n=wt(e,r);if(n||YC(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=wt(t,i),l=wt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var XIe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,KIe=(e,t)=>!Fg(wt(e,t)).length&&Ca(e,t);const QIe={mode:Lo.onSubmit,reValidateMode:Lo.onChange,shouldFocusError:!0};function JIe(e={}){let t={...QIe,...e},r={submitCount:0,isDirty:!1,isLoading:Xl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=ya(t.defaultValues)||ya(t.values)?_i(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:_i(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Q4(),array:Q4(),state:Q4()},h=Qx(t.mode),p=Qx(t.reValidateMode),m=t.criteriaMode===Lo.all,x=oe=>de=>{clearTimeout(u),u=setTimeout(oe,de)},g=async oe=>{if(!t.disabled&&(d.isValid||oe)){const de=t.resolver?is((await A()).errors):await R(n,!0);de!==r.isValid&&f.state.next({isValid:de})}},v=(oe,de)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((oe||Array.from(l.mount)).forEach(ye=>{ye&&(de?pn(r.validatingFields,ye,de):Ca(r.validatingFields,ye))}),f.state.next({validatingFields:r.validatingFields,isValidating:!is(r.validatingFields)}))},b=(oe,de=[],ye,Ie,Ne=!0,Pe=!0)=>{if(Ie&&ye&&!t.disabled){if(o.action=!0,Pe&&Array.isArray(wt(n,oe))){const Xe=ye(wt(n,oe),Ie.argA,Ie.argB);Ne&&pn(n,oe,Xe)}if(Pe&&Array.isArray(wt(r.errors,oe))){const Xe=ye(wt(r.errors,oe),Ie.argA,Ie.argB);Ne&&pn(r.errors,oe,Xe),KIe(r.errors,oe)}if(d.touchedFields&&Pe&&Array.isArray(wt(r.touchedFields,oe))){const Xe=ye(wt(r.touchedFields,oe),Ie.argA,Ie.argB);Ne&&pn(r.touchedFields,oe,Xe)}d.dirtyFields&&(r.dirtyFields=fx(a,i)),f.state.next({name:oe,isDirty:E(oe,de),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pn(i,oe,de)},y=(oe,de)=>{pn(r.errors,oe,de),f.state.next({errors:r.errors})},w=oe=>{r.errors=oe,f.state.next({errors:r.errors,isValid:!1})},N=(oe,de,ye,Ie)=>{const Ne=wt(n,oe);if(Ne){const Pe=wt(i,oe,Ln(ye)?wt(a,oe):ye);Ln(Pe)||Ie&&Ie.defaultChecked||de?pn(i,oe,de?Pe:Z4(Ne._f)):G(oe,Pe),o.mount&&g()}},S=(oe,de,ye,Ie,Ne)=>{let Pe=!1,Xe=!1;const tt={name:oe};if(!t.disabled){const gt=!!(wt(n,oe)&&wt(n,oe)._f&&wt(n,oe)._f.disabled);if(!ye||Ie){d.isDirty&&(Xe=r.isDirty,r.isDirty=tt.isDirty=E(),Pe=Xe!==tt.isDirty);const Nt=gt||od(wt(a,oe),de);Xe=!!(!gt&&wt(r.dirtyFields,oe)),Nt||gt?Ca(r.dirtyFields,oe):pn(r.dirtyFields,oe,!0),tt.dirtyFields=r.dirtyFields,Pe=Pe||d.dirtyFields&&Xe!==!Nt}if(ye){const Nt=wt(r.touchedFields,oe);Nt||(pn(r.touchedFields,oe,ye),tt.touchedFields=r.touchedFields,Pe=Pe||d.touchedFields&&Nt!==ye)}Pe&&Ne&&f.state.next(tt)}return Pe?tt:{}},j=(oe,de,ye,Ie)=>{const Ne=wt(r.errors,oe),Pe=d.isValid&&Hl(de)&&r.isValid!==de;if(t.delayError&&ye?(c=x(()=>y(oe,ye)),c(t.delayError)):(clearTimeout(u),c=null,ye?pn(r.errors,oe,ye):Ca(r.errors,oe)),(ye?!od(Ne,ye):Ne)||!is(Ie)||Pe){const Xe={...Ie,...Pe&&Hl(de)?{isValid:de}:{},errors:r.errors,name:oe};r={...r,...Xe},f.state.next(Xe)}},A=async oe=>{v(oe,!0);const de=await t.resolver(i,t.context,qIe(oe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(oe),de},T=async oe=>{const{errors:de}=await A(oe);if(oe)for(const ye of oe){const Ie=wt(de,ye);Ie?pn(r.errors,ye,Ie):Ca(r.errors,ye)}else r.errors=de;return de},R=async(oe,de,ye={valid:!0})=>{for(const Ie in oe){const Ne=oe[Ie];if(Ne){const{_f:Pe,...Xe}=Ne;if(Pe){const tt=l.array.has(Pe.name),gt=Ne._f&&GIe(Ne._f);gt&&d.validatingFields&&v([Ie],!0);const Nt=await Wj(Ne,l.disabled,i,m,t.shouldUseNativeValidation&&!de,tt);if(gt&&d.validatingFields&&v([Ie]),Nt[Pe.name]&&(ye.valid=!1,de))break;!de&&(wt(Nt,Pe.name)?tt?wz(r.errors,Nt,Pe.name):pn(r.errors,Pe.name,Nt[Pe.name]):Ca(r.errors,Pe.name))}!is(Xe)&&await R(Xe,de,ye)}}return ye.valid},O=()=>{for(const oe of l.unMount){const de=wt(n,oe);de&&(de._f.refs?de._f.refs.every(ye=>!J4(ye)):!J4(de._f.ref))&&Y(oe)}l.unMount=new Set},E=(oe,de)=>!t.disabled&&(oe&&de&&pn(i,oe,de),!od(se(),a)),L=(oe,de,ye)=>BIe(oe,l,{...o.mount?i:Ln(de)?a:rc(oe)?{[oe]:de}:de},ye,de),B=oe=>Fg(wt(o.mount?i:a,oe,t.shouldUnregister?wt(a,oe,[]):[])),G=(oe,de,ye={})=>{const Ie=wt(n,oe);let Ne=de;if(Ie){const Pe=Ie._f;Pe&&(!Pe.disabled&&pn(i,oe,Cz(de,Pe)),Ne=Xy(Pe.ref)&&cs(de)?"":de,jz(Pe.ref)?[...Pe.ref.options].forEach(Xe=>Xe.selected=Ne.includes(Xe.value)):Pe.refs?Mg(Pe.ref)?Pe.refs.length>1?Pe.refs.forEach(Xe=>(!Xe.defaultChecked||!Xe.disabled)&&(Xe.checked=Array.isArray(Ne)?!!Ne.find(tt=>tt===Xe.value):Ne===Xe.value)):Pe.refs[0]&&(Pe.refs[0].checked=!!Ne):Pe.refs.forEach(Xe=>Xe.checked=Xe.value===Ne):XC(Pe.ref)?Pe.ref.value="":(Pe.ref.value=Ne,Pe.ref.type||f.values.next({name:oe,values:{...i}})))}(ye.shouldDirty||ye.shouldTouch)&&S(oe,Ne,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&le(oe)},U=(oe,de,ye)=>{for(const Ie in de){const Ne=de[Ie],Pe=`${oe}.${Ie}`,Xe=wt(n,Pe);(l.array.has(oe)||ya(Ne)||Xe&&!Xe._f)&&!S0(Ne)?U(Pe,Ne,ye):G(Pe,Ne,ye)}},W=(oe,de,ye={})=>{const Ie=wt(n,oe),Ne=l.array.has(oe),Pe=_i(de);pn(i,oe,Pe),Ne?(f.array.next({name:oe,values:{...i}}),(d.isDirty||d.dirtyFields)&&ye.shouldDirty&&f.state.next({name:oe,dirtyFields:fx(a,i),isDirty:E(oe,Pe)})):Ie&&!Ie._f&&!cs(Pe)?U(oe,Pe,ye):G(oe,Pe,ye),Hj(oe,l)&&f.state.next({...r}),f.values.next({name:o.mount?oe:void 0,values:{...i}})},X=async oe=>{o.mount=!0;const de=oe.target;let ye=de.name,Ie=!0;const Ne=wt(n,ye),Pe=()=>de.type?Z4(Ne._f):OIe(oe),Xe=tt=>{Ie=Number.isNaN(tt)||S0(tt)&&isNaN(tt.getTime())||od(tt,wt(i,ye,tt))};if(Ne){let tt,gt;const Nt=Pe(),Pt=oe.type===UD.BLUR||oe.type===UD.FOCUS_OUT,kt=!YIe(Ne._f)&&!t.resolver&&!wt(r.errors,ye)&&!Ne._f.deps||XIe(Pt,wt(r.touchedFields,ye),r.isSubmitted,p,h),ft=Hj(ye,l,Pt);pn(i,ye,Nt),Pt?(Ne._f.onBlur&&Ne._f.onBlur(oe),c&&c(0)):Ne._f.onChange&&Ne._f.onChange(oe);const it=S(ye,Nt,Pt,!1),Fr=!is(it)||ft;if(!Pt&&f.values.next({name:ye,type:oe.type,values:{...i}}),kt)return d.isValid&&(t.mode==="onBlur"&&Pt?g():Pt||g()),Fr&&f.state.next({name:ye,...ft?{}:it});if(!Pt&&ft&&f.state.next({...r}),t.resolver){const{errors:Dt}=await A([ye]);if(Xe(Nt),Ie){const sa=XD(r.errors,n,ye),Nr=XD(Dt,n,sa.name||ye);tt=Nr.error,ye=Nr.name,gt=is(Dt)}}else v([ye],!0),tt=(await Wj(Ne,l.disabled,i,m,t.shouldUseNativeValidation))[ye],v([ye]),Xe(Nt),Ie&&(tt?gt=!1:d.isValid&&(gt=await R(n,!0)));Ie&&(Ne._f.deps&&le(Ne._f.deps),j(ye,gt,tt,it))}},q=(oe,de)=>{if(wt(r.errors,de)&&oe.focus)return oe.focus(),1},le=async(oe,de={})=>{let ye,Ie;const Ne=no(oe);if(t.resolver){const Pe=await T(Ln(oe)?oe:Ne);ye=is(Pe),Ie=oe?!Ne.some(Xe=>wt(Pe,Xe)):ye}else oe?(Ie=(await Promise.all(Ne.map(async Pe=>{const Xe=wt(n,Pe);return await R(Xe&&Xe._f?{[Pe]:Xe}:Xe)}))).every(Boolean),!(!Ie&&!r.isValid)&&g()):Ie=ye=await R(n);return f.state.next({...!rc(oe)||d.isValid&&ye!==r.isValid?{}:{name:oe},...t.resolver||!oe?{isValid:ye}:{},errors:r.errors}),de.shouldFocus&&!Ie&&Jh(n,q,oe?Ne:l.mount),Ie},se=oe=>{const de={...o.mount?i:a};return Ln(oe)?de:rc(oe)?wt(de,oe):oe.map(ye=>wt(de,ye))},I=(oe,de)=>({invalid:!!wt((de||r).errors,oe),isDirty:!!wt((de||r).dirtyFields,oe),error:wt((de||r).errors,oe),isValidating:!!wt(r.validatingFields,oe),isTouched:!!wt((de||r).touchedFields,oe)}),P=oe=>{oe&&no(oe).forEach(de=>Ca(r.errors,de)),f.state.next({errors:oe?r.errors:{}})},M=(oe,de,ye)=>{const Ie=(wt(n,oe,{_f:{}})._f||{}).ref,Ne=wt(r.errors,oe)||{},{ref:Pe,message:Xe,type:tt,...gt}=Ne;pn(r.errors,oe,{...gt,...de,ref:Ie}),f.state.next({name:oe,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Ie&&Ie.focus&&Ie.focus()},z=(oe,de)=>Xl(oe)?f.values.subscribe({next:ye=>oe(L(void 0,de),ye)}):L(oe,de,!0),Y=(oe,de={})=>{for(const ye of oe?no(oe):l.mount)l.mount.delete(ye),l.array.delete(ye),de.keepValue||(Ca(n,ye),Ca(i,ye)),!de.keepError&&Ca(r.errors,ye),!de.keepDirty&&Ca(r.dirtyFields,ye),!de.keepTouched&&Ca(r.touchedFields,ye),!de.keepIsValidating&&Ca(r.validatingFields,ye),!t.shouldUnregister&&!de.keepDefaultValue&&Ca(a,ye);f.values.next({values:{...i}}),f.state.next({...r,...de.keepDirty?{isDirty:E()}:{}}),!de.keepIsValid&&g()},ae=({disabled:oe,name:de,field:ye,fields:Ie})=>{(Hl(oe)&&o.mount||oe||l.disabled.has(de))&&(oe?l.disabled.add(de):l.disabled.delete(de),S(de,Z4(ye?ye._f:wt(Ie,de)._f),!1,!1,!0))},ue=(oe,de={})=>{let ye=wt(n,oe);const Ie=Hl(de.disabled)||Hl(t.disabled);return pn(n,oe,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:oe}},name:oe,mount:!0,...de}}),l.mount.add(oe),ye?ae({field:ye,disabled:Hl(de.disabled)?de.disabled:t.disabled,name:oe}):N(oe,!0,de.value),{...Ie?{disabled:de.disabled||t.disabled}:{},...t.progressive?{required:!!de.required,min:hx(de.min),max:hx(de.max),minLength:hx(de.minLength),maxLength:hx(de.maxLength),pattern:hx(de.pattern)}:{},name:oe,onChange:X,onBlur:X,ref:Ne=>{if(Ne){ue(oe,de),ye=wt(n,oe);const Pe=Ln(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,Xe=VIe(Pe),tt=ye._f.refs||[];if(Xe?tt.find(gt=>gt===Pe):Pe===ye._f.ref)return;pn(n,oe,{_f:{...ye._f,...Xe?{refs:[...tt.filter(J4),Pe,...Array.isArray(wt(a,oe))?[{}]:[]],ref:{type:Pe.type,name:oe}}:{ref:Pe}}}),N(oe,!1,void 0,Pe)}else ye=wt(n,oe,{}),ye._f&&(ye._f.mount=!1),(t.shouldUnregister||de.shouldUnregister)&&!(DIe(l.array,oe)&&o.action)&&l.unMount.add(oe)}}},ne=()=>t.shouldFocusError&&Jh(n,q,l.mount),_e=oe=>{Hl(oe)&&(f.state.next({disabled:oe}),Jh(n,(de,ye)=>{const Ie=wt(n,ye);Ie&&(de.disabled=Ie._f.disabled||oe,Array.isArray(Ie._f.refs)&&Ie._f.refs.forEach(Ne=>{Ne.disabled=Ie._f.disabled||oe}))},0,!1))},Ce=(oe,de)=>async ye=>{let Ie;ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let Ne=_i(i);if(l.disabled.size)for(const Pe of l.disabled)pn(Ne,Pe,void 0);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Pe,values:Xe}=await A();r.errors=Pe,Ne=Xe}else await R(n);if(Ca(r.errors,"root"),is(r.errors)){f.state.next({errors:{}});try{await oe(Ne,ye)}catch(Pe){Ie=Pe}}else de&&await de({...r.errors},ye),ne(),setTimeout(ne);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:is(r.errors)&&!Ie,submitCount:r.submitCount+1,errors:r.errors}),Ie)throw Ie},V=(oe,de={})=>{wt(n,oe)&&(Ln(de.defaultValue)?W(oe,_i(wt(a,oe))):(W(oe,de.defaultValue),pn(a,oe,_i(de.defaultValue))),de.keepTouched||Ca(r.touchedFields,oe),de.keepDirty||(Ca(r.dirtyFields,oe),r.isDirty=de.defaultValue?E(oe,_i(wt(a,oe))):E()),de.keepError||(Ca(r.errors,oe),d.isValid&&g()),f.state.next({...r}))},Me=(oe,de={})=>{const ye=oe?_i(oe):a,Ie=_i(ye),Ne=is(oe),Pe=Ne?a:Ie;if(de.keepDefaultValues||(a=ye),!de.keepValues){if(de.keepDirtyValues){const Xe=new Set([...l.mount,...Object.keys(fx(a,i))]);for(const tt of Array.from(Xe))wt(r.dirtyFields,tt)?pn(Pe,tt,wt(i,tt)):W(tt,wt(Pe,tt))}else{if(GC&&Ln(oe))for(const Xe of l.mount){const tt=wt(n,Xe);if(tt&&tt._f){const gt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(Xy(gt)){const Nt=gt.closest("form");if(Nt){Nt.reset();break}}}}n={}}i=t.shouldUnregister?de.keepDefaultValues?_i(a):{}:_i(Pe),f.array.next({values:{...Pe}}),f.values.next({values:{...Pe}})}l={mount:de.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!de.keepIsValid||!!de.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:de.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:de.keepDirty?r.isDirty:!!(de.keepDefaultValues&&!od(oe,a)),isSubmitted:de.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:de.keepDirtyValues?de.keepDefaultValues&&i?fx(a,i):r.dirtyFields:de.keepDefaultValues&&oe?fx(a,oe):de.keepDirty?r.dirtyFields:{},touchedFields:de.keepTouched?r.touchedFields:{},errors:de.keepErrors?r.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ae=(oe,de)=>Me(Xl(oe)?oe(i):oe,de);return{control:{register:ue,unregister:Y,getFieldState:I,handleSubmit:Ce,setError:M,_executeSchema:A,_getWatch:L,_getDirty:E,_updateValid:g,_removeUnmounted:O,_updateFieldArray:b,_updateDisabledField:ae,_getFieldArray:B,_reset:Me,_resetDefaultValues:()=>Xl(t.defaultValues)&&t.defaultValues().then(oe=>{Ae(oe,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:oe=>{r={...r,...oe}},_disableForm:_e,_subjects:f,_proxyFormState:d,_setErrors:w,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(oe){o=oe},get _defaultValues(){return a},get _names(){return l},set _names(oe){l=oe},get _formState(){return r},set _formState(oe){r=oe},get _options(){return t},set _options(oe){t={...t,...oe}}},trigger:le,register:ue,handleSubmit:Ce,watch:z,setValue:W,getValues:se,reset:Ae,resetField:V,clearErrors:P,unregister:Y,setError:M,setFocus:(oe,de={})=>{const ye=wt(n,oe),Ie=ye&&ye._f;if(Ie){const Ne=Ie.refs?Ie.refs[0]:Ie.ref;Ne.focus&&(Ne.focus(),de.shouldSelect&&Xl(Ne.select)&&Ne.select())}},getFieldState:I}}function fm(e={}){const t=K.useRef(void 0),r=K.useRef(void 0),[n,a]=K.useState({isDirty:!1,isValidating:!1,isLoading:Xl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Xl(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...JIe(e),formState:n});const i=t.current.control;return i._options=e,yz({subject:i._subjects.state,next:o=>{LIe(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),K.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),K.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),K.useEffect(()=>{e.values&&!od(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),K.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),K.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),K.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=RIe(n,i),t.current}function ZIe({isOpen:e,onClose:t}){const{register:r,handleSubmit:n,formState:{errors:a}}=fm(),i=o=>{console.log(o),t()};return s.jsx(Gi,{isOpen:e,onClose:t,title:"Nouvel Article",size:"xl",children:s.jsxs("form",{onSubmit:n(i),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'article"}),s.jsx("input",{...r("name",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.name&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"SKU"}),s.jsx("input",{...r("sku",{required:"Le SKU est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.sku&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.sku.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{...r("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),s.jsxs("select",{...r("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"huitres",children:"Huîtres"}),s.jsx("option",{value:"materiels",children:"Matériels"}),s.jsx("option",{value:"emballages",children:"Emballages"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),s.jsxs("select",{...r("unit"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"douzaines",children:"Douzaines"}),s.jsx("option",{value:"unites",children:"Unités"}),s.jsx("option",{value:"kg",children:"Kilogrammes"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock actuel"}),s.jsx("input",{type:"number",...r("currentStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock minimum"}),s.jsx("input",{type:"number",...r("minimumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock maximum"}),s.jsx("input",{type:"number",...r("maximumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix d'achat"}),s.jsx("input",{type:"number",step:"0.01",...r("costPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix de vente"}),s.jsx("input",{type:"number",step:"0.01",...r("sellingPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Emplacement"}),s.jsx("input",{...r("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Fournisseur"}),s.jsxs("select",{...r("supplier"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[s.jsx("option",{value:"",children:"Sélectionner un fournisseur"}),s.jsx("option",{value:"supplier1",children:"Fournisseur 1"}),s.jsx("option",{value:"supplier2",children:"Fournisseur 2"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Créer l'article"})]})]})})}const eMe=[{label:"Huîtres",value:"huitres"},{label:"Matériels",value:"materiels"},{label:"Emballages",value:"emballages"}],tMe=[{label:"Zone A",value:"zone_a"},{label:"Zone B",value:"zone_b"},{label:"Zone C",value:"zone_c"}],rMe=[{label:"En stock",value:"in_stock"},{label:"Stock faible",value:"low_stock"},{label:"Rupture",value:"out_of_stock"}];function nMe({isOpen:e,onClose:t,onApplyFilters:r}){const[n,a]=K.useState([]),[i,o]=K.useState([]),[l,c]=K.useState([]),[u,d]=K.useState({min:"",max:""}),f=()=>{r({categories:n,locations:i,status:l,priceRange:u}),t()},h=()=>{a([]),o([]),c([]),d({min:"",max:""})};return s.jsx(Gi,{isOpen:e,onClose:t,title:"Filtres avancés",size:"xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:eMe.map(p=>s.jsx("button",{onClick:()=>{a(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Emplacement"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:tMe.map(p=>s.jsx("button",{onClick:()=>{o(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${i.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut du stock"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:rMe.map(p=>s.jsx("button",{onClick:()=>{c(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${l.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Fourchette de prix"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix minimum"}),s.jsx("input",{type:"number",value:u.min,onChange:p=>d({...u,min:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix maximum"}),s.jsx("input",{type:"number",value:u.max,onChange:p=>d({...u,max:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"100"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[s.jsx("button",{onClick:h,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:f,className:"px-4 py-2 bg-brand-primary rounded-lg text-sm text-white hover:bg-brand-primary/90 transition-colors",children:"Appliquer les filtres"})]})]})]})})}const QC="-",aMe=e=>{const t=sMe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(QC);return l[0]===""&&l.length!==1&&l.shift(),Ez(l,t)||iMe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Ez=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Ez(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(QC);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},KD=/^\[(.+)\]$/,iMe=e=>{if(KD.test(e)){const t=KD.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sMe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)qj(r[a],n,a,t);return n},qj=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:QD(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(oMe(a)){qj(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{qj(o,QD(t,i),r,n)})})},QD=(e,t)=>{let r=e;return t.split(QC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},oMe=e=>e.isThemeGetter,lMe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Gj="!",Yj=":",cMe=Yj.length,uMe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;for(let m=0;m<a.length;m++){let x=a[m];if(o===0&&l===0){if(x===Yj){i.push(a.slice(c,m)),c=m+cMe;continue}if(x==="/"){u=m;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const d=i.length===0?a:a.substring(c),f=dMe(d),h=f!==d,p=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const a=t+Yj,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},dMe=e=>e.endsWith(Gj)?e.substring(0,e.length-1):e.startsWith(Gj)?e.substring(1):e,fMe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},hMe=e=>({cache:lMe(e.cacheSize),parseClassName:uMe(e),sortModifiers:fMe(e),...aMe(e)}),pMe=/\s+/,mMe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(pMe);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:x}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let g=!!x,v=n(g?m.substring(0,x):m);if(!v){if(!g){c=d+(c.length>0?" "+c:c);continue}if(v=n(m),!v){c=d+(c.length>0?" "+c:c);continue}g=!1}const b=i(h).join(":"),y=p?b+Gj:b,w=y+v;if(o.includes(w))continue;o.push(w);const N=a(v,g);for(let S=0;S<N.length;++S){const j=N[S];o.push(y+j)}c=d+(c.length>0?" "+c:c)}return c};function xMe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=kz(t))&&(n&&(n+=" "),n+=r);return n}const kz=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=kz(e[n]))&&(r&&(r+=" "),r+=t);return r};function gMe(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=hMe(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=mMe(c,r);return a(c,d),d}return function(){return i(xMe.apply(null,arguments))}}const ai=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Tz=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Oz=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vMe=/^\d+\/\d+$/,bMe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yMe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wMe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_Me=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NMe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ph=e=>vMe.test(e),xr=e=>!!e&&!Number.isNaN(Number(e)),Qd=e=>!!e&&Number.isInteger(Number(e)),JD=e=>e.endsWith("%")&&xr(e.slice(0,-1)),Hu=e=>bMe.test(e),jMe=()=>!0,SMe=e=>yMe.test(e)&&!wMe.test(e),JC=()=>!1,AMe=e=>_Me.test(e),CMe=e=>NMe.test(e),EMe=e=>!At(e)&&!Ct(e),kMe=e=>hm(e,Iz,JC),At=e=>Tz.test(e),Jd=e=>hm(e,Mz,SMe),eN=e=>hm(e,$Me,xr),TMe=e=>hm(e,Pz,JC),OMe=e=>hm(e,Dz,CMe),PMe=e=>hm(e,JC,AMe),Ct=e=>Oz.test(e),N2=e=>pm(e,Mz),DMe=e=>pm(e,zMe),IMe=e=>pm(e,Pz),MMe=e=>pm(e,Iz),FMe=e=>pm(e,Dz),RMe=e=>pm(e,UMe,!0),hm=(e,t,r)=>{const n=Tz.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},pm=(e,t,r=!1)=>{const n=Oz.exec(e);return n?n[1]?t(n[1]):r:!1},Pz=e=>e==="position",LMe=new Set(["image","url"]),Dz=e=>LMe.has(e),BMe=new Set(["length","size","percentage"]),Iz=e=>BMe.has(e),Mz=e=>e==="length",$Me=e=>e==="number",zMe=e=>e==="family-name",UMe=e=>e==="shadow",HMe=()=>{const e=ai("color"),t=ai("font"),r=ai("text"),n=ai("font-weight"),a=ai("tracking"),i=ai("leading"),o=ai("breakpoint"),l=ai("container"),c=ai("spacing"),u=ai("radius"),d=ai("shadow"),f=ai("inset-shadow"),h=ai("drop-shadow"),p=ai("blur"),m=ai("perspective"),x=ai("aspect"),g=ai("ease"),v=ai("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],w=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[Ct,At,c],j=()=>[ph,"full","auto",...S()],A=()=>[Qd,"none","subgrid",Ct,At],T=()=>["auto",{span:["full",Qd,Ct,At]},Ct,At],R=()=>[Qd,"auto",Ct,At],O=()=>["auto","min","max","fr",Ct,At],E=()=>["start","end","center","between","around","evenly","stretch","baseline"],L=()=>["start","end","center","stretch"],B=()=>["auto",...S()],G=()=>[ph,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],U=()=>[e,Ct,At],W=()=>[JD,Jd],X=()=>["","none","full",u,Ct,At],q=()=>["",xr,N2,Jd],le=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["","none",p,Ct,At],P=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ct,At],M=()=>["none",xr,Ct,At],z=()=>["none",xr,Ct,At],Y=()=>[xr,Ct,At],ae=()=>[ph,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hu],breakpoint:[Hu],color:[jMe],container:[Hu],"drop-shadow":[Hu],ease:["in","out","in-out"],font:[EMe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hu],shadow:[Hu],spacing:["px",xr],text:[Hu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ph,At,Ct,x]}],container:["container"],columns:[{columns:[xr,At,Ct,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...y(),At,Ct]}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Qd,"auto",Ct,At]}],basis:[{basis:[ph,"full","auto",l,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xr,ph,"auto","initial","none",At]}],grow:[{grow:["",xr,Ct,At]}],shrink:[{shrink:["",xr,Ct,At]}],order:[{order:[Qd,"first","last","none",Ct,At]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...E(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...E()]}],"align-items":[{items:[...L(),"baseline"]}],"align-self":[{self:["auto",...L(),"baseline"]}],"place-content":[{"place-content":E()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...G()]}],h:[{h:["screen",...G()]}],"min-h":[{"min-h":["screen","none",...G()]}],"max-h":[{"max-h":["screen",...G()]}],"font-size":[{text:["base",r,N2,Jd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ct,eN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",JD,At]}],"font-family":[{font:[DMe,At,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ct,At]}],"line-clamp":[{"line-clamp":[xr,"none",Ct,eN]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",Ct,At]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ct,At]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[xr,"from-font","auto",Ct,Jd]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[xr,"auto",Ct,At]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct,At]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct,At]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...y(),IMe,TMe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",MMe,kMe]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qd,Ct,At],radial:["",Ct,At],conic:[Qd,Ct,At]},FMe,OMe]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xr,Ct,At]}],"outline-w":[{outline:["",xr,N2,Jd]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",d,RMe,PMe]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",Ct,At,f]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[xr,Jd]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":U()}],opacity:[{opacity:[xr,Ct,At]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none",Ct,At]}],blur:[{blur:I()}],brightness:[{brightness:[xr,Ct,At]}],contrast:[{contrast:[xr,Ct,At]}],"drop-shadow":[{"drop-shadow":["","none",h,Ct,At]}],grayscale:[{grayscale:["",xr,Ct,At]}],"hue-rotate":[{"hue-rotate":[xr,Ct,At]}],invert:[{invert:["",xr,Ct,At]}],saturate:[{saturate:[xr,Ct,At]}],sepia:[{sepia:["",xr,Ct,At]}],"backdrop-filter":[{"backdrop-filter":["","none",Ct,At]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[xr,Ct,At]}],"backdrop-contrast":[{"backdrop-contrast":[xr,Ct,At]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xr,Ct,At]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xr,Ct,At]}],"backdrop-invert":[{"backdrop-invert":["",xr,Ct,At]}],"backdrop-opacity":[{"backdrop-opacity":[xr,Ct,At]}],"backdrop-saturate":[{"backdrop-saturate":[xr,Ct,At]}],"backdrop-sepia":[{"backdrop-sepia":["",xr,Ct,At]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ct,At]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xr,"initial",Ct,At]}],ease:[{ease:["linear","initial",g,Ct,At]}],delay:[{delay:[xr,Ct,At]}],animate:[{animate:["none",v,Ct,At]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Ct,At]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:M()}],"rotate-x":[{"rotate-x":M()}],"rotate-y":[{"rotate-y":M()}],"rotate-z":[{"rotate-z":M()}],scale:[{scale:z()}],"scale-x":[{"scale-x":z()}],"scale-y":[{"scale-y":z()}],"scale-z":[{"scale-z":z()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[Ct,At,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ae()}],"translate-x":[{"translate-x":ae()}],"translate-y":[{"translate-y":ae()}],"translate-z":[{"translate-z":ae()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct,At]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct,At]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[xr,N2,Jd,eN]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},WMe=gMe(HMe);function Za(...e){return WMe(Ot(e))}function sb({children:e,className:t,...r}){return s.jsx("div",{className:Za("border border-white/10 rounded-lg overflow-hidden",t),style:{background:"linear-gradient(135deg, rgba(0, 20, 40, 0.98) 0%, rgba(0, 80, 80, 0.95) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px, rgba(0, 180, 180, 0.1) 0px 0px 10px inset"},...r,children:e})}const tr=k.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:`flex h-10 w-full rounded-md border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))] px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--color-brand-primary))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:n,...r}));tr.displayName="Input";function iu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ZD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Fz(...e){return t=>{let r=!1;const n=e.map(a=>{const i=ZD(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():ZD(e[a],null)}}}}function yu(...e){return k.useCallback(Fz(...e),e)}function VMe(e,t){const r=k.createContext(t),n=i=>{const{children:o,...l}=i,c=k.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=k.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Rz(e,t=[]){let r=[];function n(i,o){const l=k.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...m}=f,x=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=k.useMemo(()=>m,Object.values(m));return s.jsx(x.Provider,{value:g,children:p})};u.displayName=i+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,m=k.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>k.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return k.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,qMe(a,...t)]}function qMe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Jy=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},GMe=OM.useId||(()=>{}),YMe=0;function tN(e){const[t,r]=k.useState(GMe());return Jy(()=>{e||r(n=>n??String(YMe++))},[e]),e||(t?`radix-${t}`:"")}function of(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function XMe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=KMe({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=of(r),c=k.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function KMe({defaultProp:e,onChange:t}){const r=k.useState(e),[n]=r,a=k.useRef(n),i=of(t);return k.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var ZC=k.forwardRef((e,t)=>{const{children:r,...n}=e,a=k.Children.toArray(r),i=a.find(QMe);if(i){const o=i.props.children,l=a.map(c=>c===i?k.Children.count(o)>1?k.Children.only(null):k.isValidElement(o)?o.props.children:null:c);return s.jsx(Xj,{...n,ref:t,children:k.isValidElement(o)?k.cloneElement(o,void 0,l):null})}return s.jsx(Xj,{...n,ref:t,children:r})});ZC.displayName="Slot";var Xj=k.forwardRef((e,t)=>{const{children:r,...n}=e;if(k.isValidElement(r)){const a=ZMe(r),i=JMe(n,r.props);return r.type!==k.Fragment&&(i.ref=t?Fz(t,a):a),k.cloneElement(r,i)}return k.Children.count(r)>1?k.Children.only(null):null});Xj.displayName="SlotClone";var Lz=({children:e})=>s.jsx(s.Fragment,{children:e});function QMe(e){return k.isValidElement(e)&&e.type===Lz}function JMe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function ZMe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var e7e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wu=e7e.reduce((e,t)=>{const r=k.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?ZC:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function t7e(e,t){e&&jS.flushSync(()=>e.dispatchEvent(t))}function r7e(e,t=globalThis==null?void 0:globalThis.document){const r=of(e);k.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var n7e="DismissableLayer",Kj="dismissableLayer.update",a7e="dismissableLayer.pointerDownOutside",i7e="dismissableLayer.focusOutside",eI,Bz=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$z=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=k.useContext(Bz),[d,f]=k.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=k.useState({}),m=yu(t,j=>f(j)),x=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(g),b=d?x.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=v,N=l7e(j=>{const A=j.target,T=[...u.branches].some(R=>R.contains(A));!w||T||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),S=c7e(j=>{const A=j.target;[...u.branches].some(R=>R.contains(A))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return r7e(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),k.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=eI)}},[d,h,r,u]),k.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tI())},[d,u]),k.useEffect(()=>{const j=()=>p({});return document.addEventListener(Kj,j),()=>document.removeEventListener(Kj,j)},[]),s.jsx(wu.div,{...c,ref:m,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:iu(e.onFocusCapture,S.onFocusCapture),onBlurCapture:iu(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:iu(e.onPointerDownCapture,N.onPointerDownCapture)})});$z.displayName=n7e;var s7e="DismissableLayerBranch",o7e=k.forwardRef((e,t)=>{const r=k.useContext(Bz),n=k.useRef(null),a=yu(t,n);return k.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(wu.div,{...e,ref:a})});o7e.displayName=s7e;function l7e(e,t=globalThis==null?void 0:globalThis.document){const r=of(e),n=k.useRef(!1),a=k.useRef(()=>{});return k.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){zz(a7e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function c7e(e,t=globalThis==null?void 0:globalThis.document){const r=of(e),n=k.useRef(!1);return k.useEffect(()=>{const a=i=>{i.target&&!n.current&&zz(i7e,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tI(){const e=new CustomEvent(Kj);document.dispatchEvent(e)}function zz(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?t7e(a,i):a.dispatchEvent(i)}var rN="focusScope.autoFocusOnMount",nN="focusScope.autoFocusOnUnmount",rI={bubbles:!1,cancelable:!0},u7e="FocusScope",Uz=k.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=k.useState(null),u=of(a),d=of(i),f=k.useRef(null),h=yu(t,x=>c(x)),p=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let x=function(y){if(p.paused||!l)return;const w=y.target;l.contains(w)?f.current=w:Ku(f.current,{select:!0})},g=function(y){if(p.paused||!l)return;const w=y.relatedTarget;w!==null&&(l.contains(w)||Ku(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const N of y)N.removedNodes.length>0&&Ku(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),b.disconnect()}}},[n,l,p.paused]),k.useEffect(()=>{if(l){aI.add(p);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(rN,rI);l.addEventListener(rN,u),l.dispatchEvent(v),v.defaultPrevented||(d7e(x7e(Hz(l)),{select:!0}),document.activeElement===x&&Ku(l))}return()=>{l.removeEventListener(rN,u),setTimeout(()=>{const v=new CustomEvent(nN,rI);l.addEventListener(nN,d),l.dispatchEvent(v),v.defaultPrevented||Ku(x??document.body,{select:!0}),l.removeEventListener(nN,d),aI.remove(p)},0)}}},[l,u,d,p]);const m=k.useCallback(x=>{if(!r&&!n||p.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(g&&v){const b=x.currentTarget,[y,w]=f7e(b);y&&w?!x.shiftKey&&v===w?(x.preventDefault(),r&&Ku(y,{select:!0})):x.shiftKey&&v===y&&(x.preventDefault(),r&&Ku(w,{select:!0})):v===b&&x.preventDefault()}},[r,n,p.paused]);return s.jsx(wu.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});Uz.displayName=u7e;function d7e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ku(n,{select:t}),document.activeElement!==r)return}function f7e(e){const t=Hz(e),r=nI(t,e),n=nI(t.reverse(),e);return[r,n]}function Hz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nI(e,t){for(const r of e)if(!h7e(r,{upTo:t}))return r}function h7e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function p7e(e){return e instanceof HTMLInputElement&&"select"in e}function Ku(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&p7e(e)&&t&&e.select()}}var aI=m7e();function m7e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=iI(e,t),e.unshift(t)},remove(t){var r;e=iI(e,t),(r=e[0])==null||r.resume()}}}function iI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function x7e(e){return e.filter(t=>t.tagName!=="A")}var g7e="Portal",Wz=k.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=k.useState(!1);Jy(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PM.createPortal(s.jsx(wu.div,{...n,ref:t}),o):null});Wz.displayName=g7e;function v7e(e,t){return k.useReducer((r,n)=>t[r][n]??r,e)}var T5=e=>{const{present:t,children:r}=e,n=b7e(t),a=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),i=yu(n.ref,y7e(a));return typeof r=="function"||n.isPresent?k.cloneElement(a,{ref:i}):null};T5.displayName="Presence";function b7e(e){const[t,r]=k.useState(),n=k.useRef({}),a=k.useRef(e),i=k.useRef("none"),o=e?"mounted":"unmounted",[l,c]=v7e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const u=j2(n.current);i.current=l==="mounted"?u:"none"},[l]),Jy(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=j2(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Jy(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=j2(n.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=j2(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function j2(e){return(e==null?void 0:e.animationName)||"none"}function y7e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aN=0;function w7e(){k.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sI()),document.body.insertAdjacentElement("beforeend",e[1]??sI()),aN++,()=>{aN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aN--}},[])}function sI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kl=function(){return Kl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Kl.apply(this,arguments)};function Vz(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function _7e(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ob="right-scroll-bar-position",lb="width-before-scroll-bar",N7e="with-scroll-bars-hidden",j7e="--removed-body-scroll-bar-size";function iN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function S7e(e,t){var r=k.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var A7e=typeof window<"u"?k.useLayoutEffect:k.useEffect,oI=new WeakMap;function C7e(e,t){var r=S7e(null,function(n){return e.forEach(function(a){return iN(a,n)})});return A7e(function(){var n=oI.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||iN(l,null)}),i.forEach(function(l){a.has(l)||iN(l,o)})}oI.set(r,e)},[e]),r}function E7e(e){return e}function k7e(e,t){t===void 0&&(t=E7e);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function T7e(e){e===void 0&&(e={});var t=k7e(null);return t.options=Kl({async:!0,ssr:!1},e),t}var qz=function(e){var t=e.sideCar,r=Vz(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,Kl({},r))};qz.isSideCarExport=!0;function O7e(e,t){return e.useMedium(t),qz}var Gz=T7e(),sN=function(){},O5=k.forwardRef(function(e,t){var r=k.useRef(null),n=k.useState({onScrollCapture:sN,onWheelCapture:sN,onTouchMoveCapture:sN}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,m=e.inert,x=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,b=e.gapMode,y=Vz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=C7e([r,t]),S=Kl(Kl({},y),a);return k.createElement(k.Fragment,null,d&&k.createElement(w,{sideCar:Gz,removeScrollBar:u,shards:f,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:b}),o?k.cloneElement(k.Children.only(l),Kl(Kl({},S),{ref:N})):k.createElement(v,Kl({},S,{className:c,ref:N}),l))});O5.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};O5.classNames={fullWidth:lb,zeroRight:ob};var P7e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D7e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=P7e();return t&&e.setAttribute("nonce",t),e}function I7e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function M7e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var F7e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=D7e())&&(I7e(t,r),M7e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R7e=function(){var e=F7e();return function(t,r){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Yz=function(){var e=R7e(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},L7e={left:0,top:0,right:0,gap:0},oN=function(e){return parseInt(e||"",10)||0},B7e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[oN(r),oN(n),oN(a)]},$7e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return L7e;var t=B7e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},z7e=Yz(),Zh="data-scroll-locked",U7e=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(N7e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Zh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ob,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lb,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ob," .").concat(ob,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lb," .").concat(lb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zh,`] {
    `).concat(j7e,": ").concat(l,`px;
  }
`)},lI=function(){var e=parseInt(document.body.getAttribute(Zh)||"0",10);return isFinite(e)?e:0},H7e=function(){k.useEffect(function(){return document.body.setAttribute(Zh,(lI()+1).toString()),function(){var e=lI()-1;e<=0?document.body.removeAttribute(Zh):document.body.setAttribute(Zh,e.toString())}},[])},W7e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;H7e();var i=k.useMemo(function(){return $7e(a)},[a]);return k.createElement(z7e,{styles:U7e(i,!t,a,r?"":"!important")})},Qj=!1;if(typeof window<"u")try{var S2=Object.defineProperty({},"passive",{get:function(){return Qj=!0,!0}});window.addEventListener("test",S2,S2),window.removeEventListener("test",S2,S2)}catch{Qj=!1}var mh=Qj?{passive:!1}:!1,V7e=function(e){return e.tagName==="TEXTAREA"},Xz=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!V7e(e)&&r[t]==="visible")},q7e=function(e){return Xz(e,"overflowY")},G7e=function(e){return Xz(e,"overflowX")},cI=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Kz(e,n);if(a){var i=Qz(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Y7e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},X7e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Kz=function(e,t){return e==="v"?q7e(t):G7e(t)},Qz=function(e,t){return e==="v"?Y7e(t):X7e(t)},K7e=function(e,t){return e==="h"&&t==="rtl"?-1:1},Q7e=function(e,t,r,n,a){var i=K7e(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=Qz(e,l),m=p[0],x=p[1],g=p[2],v=x-g-i*m;(m||v)&&Kz(e,l)&&(f+=v,h+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},A2=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uI=function(e){return[e.deltaX,e.deltaY]},dI=function(e){return e&&"current"in e?e.current:e},J7e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Z7e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eFe=0,xh=[];function tFe(e){var t=k.useRef([]),r=k.useRef([0,0]),n=k.useRef(),a=k.useState(eFe++)[0],i=k.useState(Yz)[0],o=k.useRef(e);k.useEffect(function(){o.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=_7e([e.lockRef.current],(e.shards||[]).map(dI),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=k.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var v=A2(x),b=r.current,y="deltaX"in x?x.deltaX:b[0]-v[0],w="deltaY"in x?x.deltaY:b[1]-v[1],N,S=x.target,j=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in x&&j==="h"&&S.type==="range")return!1;var A=cI(j,S);if(!A)return!0;if(A?N=j:(N=j==="v"?"h":"v",A=cI(j,S)),!A)return!1;if(!n.current&&"changedTouches"in x&&(y||w)&&(n.current=N),!N)return!0;var T=n.current||N;return Q7e(T,g,x,T==="h"?y:w,!0)},[]),c=k.useCallback(function(x){var g=x;if(!(!xh.length||xh[xh.length-1]!==i)){var v="deltaY"in g?uI(g):A2(g),b=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&J7e(N.delta,v)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var y=(o.current.shards||[]).map(dI).filter(Boolean).filter(function(N){return N.contains(g.target)}),w=y.length>0?l(g,y[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),u=k.useCallback(function(x,g,v,b){var y={name:x,delta:g,target:v,should:b,shadowParent:rFe(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),d=k.useCallback(function(x){r.current=A2(x),n.current=void 0},[]),f=k.useCallback(function(x){u(x.type,uI(x),x.target,l(x,e.lockRef.current))},[]),h=k.useCallback(function(x){u(x.type,A2(x),x.target,l(x,e.lockRef.current))},[]);k.useEffect(function(){return xh.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,mh),document.addEventListener("touchmove",c,mh),document.addEventListener("touchstart",d,mh),function(){xh=xh.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,mh),document.removeEventListener("touchmove",c,mh),document.removeEventListener("touchstart",d,mh)}},[]);var p=e.removeScrollBar,m=e.inert;return k.createElement(k.Fragment,null,m?k.createElement(i,{styles:Z7e(a)}):null,p?k.createElement(W7e,{gapMode:e.gapMode}):null)}function rFe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nFe=O7e(Gz,tFe);var Jz=k.forwardRef(function(e,t){return k.createElement(O5,Kl({},e,{ref:t,sideCar:nFe}))});Jz.classNames=O5.classNames;var aFe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},gh=new WeakMap,C2=new WeakMap,E2={},lN=0,Zz=function(e){return e&&(e.host||Zz(e.parentNode))},iFe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Zz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sFe=function(e,t,r,n){var a=iFe(t,Array.isArray(e)?e:[e]);E2[r]||(E2[r]=new WeakMap);var i=E2[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",x=(gh.get(h)||0)+1,g=(i.get(h)||0)+1;gh.set(h,x),i.set(h,g),o.push(h),x===1&&m&&C2.set(h,!0),g===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),lN++,function(){o.forEach(function(f){var h=gh.get(f)-1,p=i.get(f)-1;gh.set(f,h),i.set(f,p),h||(C2.has(f)||f.removeAttribute(n),C2.delete(f)),p||f.removeAttribute(r)}),lN--,lN||(gh=new WeakMap,gh=new WeakMap,C2=new WeakMap,E2={})}},oFe=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=aFe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),sFe(n,a,r,"aria-hidden")):function(){return null}},eE="Dialog",[eU,tU]=Rz(eE),[lFe,kl]=eU(eE),rU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=k.useRef(null),c=k.useRef(null),[u=!1,d]=XMe({prop:n,defaultProp:a,onChange:i});return s.jsx(lFe,{scope:t,triggerRef:l,contentRef:c,contentId:tN(),titleId:tN(),descriptionId:tN(),open:u,onOpenChange:d,onOpenToggle:k.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};rU.displayName=eE;var nU="DialogTrigger",aU=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kl(nU,r),i=yu(t,a.triggerRef);return s.jsx(wu.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nE(a.open),...n,ref:i,onClick:iu(e.onClick,a.onOpenToggle)})});aU.displayName=nU;var tE="DialogPortal",[cFe,iU]=eU(tE,{forceMount:void 0}),sU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=kl(tE,t);return s.jsx(cFe,{scope:t,forceMount:r,children:k.Children.map(n,o=>s.jsx(T5,{present:r||i.open,children:s.jsx(Wz,{asChild:!0,container:a,children:o})}))})};sU.displayName=tE;var Zy="DialogOverlay",oU=k.forwardRef((e,t)=>{const r=iU(Zy,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=kl(Zy,e.__scopeDialog);return i.modal?s.jsx(T5,{present:n||i.open,children:s.jsx(uFe,{...a,ref:t})}):null});oU.displayName=Zy;var uFe=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kl(Zy,r);return s.jsx(Jz,{as:ZC,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(wu.div,{"data-state":nE(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),lf="DialogContent",lU=k.forwardRef((e,t)=>{const r=iU(lf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=kl(lf,e.__scopeDialog);return s.jsx(T5,{present:n||i.open,children:i.modal?s.jsx(dFe,{...a,ref:t}):s.jsx(fFe,{...a,ref:t})})});lU.displayName=lf;var dFe=k.forwardRef((e,t)=>{const r=kl(lf,e.__scopeDialog),n=k.useRef(null),a=yu(t,r.contentRef,n);return k.useEffect(()=>{const i=n.current;if(i)return oFe(i)},[]),s.jsx(cU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:iu(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:iu(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:iu(e.onFocusOutside,i=>i.preventDefault())})}),fFe=k.forwardRef((e,t)=>{const r=kl(lf,e.__scopeDialog),n=k.useRef(!1),a=k.useRef(!1);return s.jsx(cU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),cU=k.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=kl(lf,r),c=k.useRef(null),u=yu(t,c);return w7e(),s.jsxs(s.Fragment,{children:[s.jsx(Uz,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($z,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(pFe,{titleId:l.titleId}),s.jsx(xFe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),rE="DialogTitle",uU=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kl(rE,r);return s.jsx(wu.h2,{id:a.titleId,...n,ref:t})});uU.displayName=rE;var dU="DialogDescription",fU=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kl(dU,r);return s.jsx(wu.p,{id:a.descriptionId,...n,ref:t})});fU.displayName=dU;var hU="DialogClose",pU=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kl(hU,r);return s.jsx(wu.button,{type:"button",...n,ref:t,onClick:iu(e.onClick,()=>a.onOpenChange(!1))})});pU.displayName=hU;function nE(e){return e?"open":"closed"}var mU="DialogTitleWarning",[hFe,xU]=VMe(mU,{contentName:lf,titleName:rE,docsSlug:"dialog"}),pFe=({titleId:e})=>{const t=xU(mU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mFe="DialogDescriptionWarning",xFe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xU(mFe).contentName}}.`;return k.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},aE=rU,gFe=aU,iE=sU,Rg=oU,Lg=lU,Bg=uU,$g=fU,P5=pU;const gU=aE,vFe=iE,vU=k.forwardRef(({className:e,...t},r)=>s.jsx(Rg,{ref:r,className:`fixed inset-0 z-50 bg-black/80 backdrop-blur-sm ${e||""}`,...t}));vU.displayName=Rg.displayName;const sE=k.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(vFe,{children:[s.jsx(vU,{}),s.jsxs(Lg,{ref:n,className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-background/95 p-6 shadow-lg duration-200 sm:rounded-lg md:w-full ${e||""}`,...r,children:[t,s.jsxs(P5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sE.displayName=Lg.displayName;const oE=({className:e,...t})=>s.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${e||""}`,...t});oE.displayName="DialogHeader";const bU=({className:e,...t})=>s.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${e||""}`,...t});bU.displayName="DialogFooter";const lE=k.forwardRef(({className:e,...t},r)=>s.jsx(Bg,{ref:r,className:`text-lg font-semibold leading-none tracking-tight ${e||""}`,...t}));lE.displayName=Bg.displayName;const yU=k.forwardRef(({className:e,...t},r)=>s.jsx($g,{ref:r,className:`text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] ${e||""}`,...t}));yU.displayName=$g.displayName;const fI=[{id:"M001",name:"Moules de Méditerranée",type:"moules",price:4.5,unit:"kg",minOrder:100,description:"Moules de Méditerranée, chair généreuse et iodée",origin:"Méditerranée",calibre:"40/50",conservation:"5 jours",certification:["Label Rouge","Pêche durable"]},{id:"P001",name:"Palourdes de l'étang de Thau",type:"palourdes",price:12.9,unit:"kg",minOrder:50,description:"Palourdes sauvages de l'étang de Thau, qualité exceptionnelle",origin:"Étang de Thau",calibre:"20/30",conservation:"7 jours",certification:["IGP Thau"]}],bFe=[{id:"CDB",name:"CDB - Coquillages De Bretagne",address:"12 Quai des Marées, 56000 Vannes",contact:"02.97.54.32.10",preferredProducts:["Moules","Palourdes"],lastDelivery:"2025-02-24",reliability:97,status:"active"},{id:"1",name:"Fournisseur A",address:"123 Rue de la Mer",contact:"0123456789",preferredProducts:["Huîtres","Palourdes"],lastDelivery:"2025-02-20",reliability:98,status:"active"}];function yFe(){const[e,t]=k.useState(null),[r,n]=k.useState(0),[a,i]=k.useState(null),[o,l]=k.useState(null),[c,u]=k.useState(!1),[d,f]=k.useState(0),[h,p]=k.useState({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),m=w=>{const N=parseInt(w,10);!isNaN(N)&&N>=0&&n(N)},x=()=>e&&r?(e.price*r).toFixed(2):"0.00",g=w=>{switch(w){case"moules":return s.jsx(Qn,{className:"w-4 h-4"});case"palourdes":return s.jsx(IM,{className:"w-4 h-4"});default:return s.jsx(jn,{className:"w-4 h-4"})}},v=()=>{console.log("Commande confirmée:",{product:e==null?void 0:e.name,quantity:r,total:x()}),t(null),n(0)},b=w=>{var S;const N=(S=w.target.files)==null?void 0:S[0];N&&p(j=>({...j,invoice:N}))},y=w=>{w.preventDefault(),console.log("Nouveau achat:",{...h,rating:d}),u(!1),p({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),f(0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configuration des achats"}),s.jsxs(xn,{onClick:()=>u(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-brand-blue/90 text-white",children:[s.jsx(gr,{className:"w-4 h-4"}),"Nouvel achat"]})]}),s.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:bFe.map(w=>s.jsxs(sb,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),s.jsx("div",{className:"relative p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e1,{className:"w-5 h-5 text-brand-burgundy"}),s.jsx("h3",{className:"text-base font-medium text-white",children:w.name})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-white/60",children:w.address}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[s.jsx(vs,{className:"w-4 h-4"}),w.contact]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-green-500/20 text-green-500 rounded-lg",children:["Fiabilité ",w.reliability,"%"]}),s.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-blue-500/20 text-blue-500 rounded-lg",children:["Dernière livraison : ",w.lastDelivery]})]})]})})})]},w.id))}),o==="CDB"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Catalogue CDB"}),s.jsx("p",{className:"text-sm text-white/60",children:"Sélectionnez vos produits et passez commande"})]}),s.jsxs(xn,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(gr,{className:"w-4 h-4"}),"Nouveau produit"]})]}),s.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:fI.map(w=>s.jsxs(sb,{className:`relative overflow-hidden cursor-pointer transition-all duration-200 ${(e==null?void 0:e.id)===w.id?"ring-2 ring-brand-burgundy ring-offset-2 ring-offset-black":"hover:bg-white/5"}`,onClick:()=>t(w),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),s.jsxs("div",{className:"relative p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-base font-medium text-white",children:w.name}),s.jsx("p",{className:"text-sm text-white/60",children:w.description})]}),s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-brand-burgundy/20 rounded-lg",children:[g(w.type),s.jsx("span",{className:"text-xs font-medium text-brand-burgundy",children:w.type})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V0,{className:"w-4 h-4 text-white/40"}),s.jsx("span",{className:"text-sm text-white",children:w.origin})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(IN,{className:"w-4 h-4 text-white/40"}),s.jsxs("span",{className:"text-sm text-white",children:[w.price,"€/",w.unit]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ig,{className:"w-4 h-4 text-white/40"}),s.jsxs("span",{className:"text-sm text-white",children:["Min. ",w.minOrder,w.unit]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(NV,{className:"w-4 h-4 text-white/40"}),s.jsx("span",{className:"text-sm text-white",children:w.calibre})]})]}),w.certification&&s.jsx("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:w.certification.map((N,S)=>s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-lg",children:N},S))})]})]},w.id))})]}),e&&s.jsxs(sb,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),s.jsx("div",{className:"relative p-4",children:s.jsx("div",{className:"flex items-start gap-4",children:s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-base font-medium text-white",children:["Commander ",e.name]}),s.jsx(xn,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",onClick:()=>i(e.id),children:s.jsx(W0,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm text-white/60",children:["Quantité (",e.unit,")"]}),s.jsx(tr,{type:"number",value:r,onChange:w=>m(w.target.value),min:0,className:"bg-white/5 border-white/10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-white/60",children:"Total estimé"}),s.jsx("div",{className:"h-9 px-3 flex items-center bg-white/5 rounded-md border border-white/10",children:s.jsxs("span",{className:"text-white font-medium",children:[x(),"€"]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[s.jsxs("p",{className:"text-sm text-white/60",children:["Minimum de commande : ",e.minOrder,e.unit]}),s.jsx(xn,{variant:"default",size:"sm",disabled:r<e.minOrder,className:"bg-brand-burgundy hover:bg-brand-burgundy/90",onClick:v,children:"Confirmer la commande"})]})]})})})]}),a&&s.jsx(gU,{open:!!a,children:s.jsxs(sE,{children:[s.jsx(oE,{children:s.jsx(lE,{children:"Détails du produit"})}),(()=>{var N;const w=fI.find(S=>S.id===a);return w?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white/5 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-brand-burgundy/20 rounded-lg",children:g(w.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white",children:w.name}),s.jsx("p",{className:"text-sm text-white/60",children:w.description})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-white mb-2",children:"Caractéristiques"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Calibre"}),s.jsx("span",{className:"text-sm text-white",children:w.calibre})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Conservation"}),s.jsx("span",{className:"text-sm text-white",children:w.conservation})]})]})]}),s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-white mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(N=w.certification)==null?void 0:N.map((S,j)=>s.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 rounded-lg text-sm",children:S},j))})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(xn,{variant:"outline",onClick:()=>i(null),children:"Fermer"})})]}):null})()]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:s.jsx(zt,{className:"text-white/60",size:20})})]}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),s.jsx(tr,{type:"text",value:h.supplier,onChange:w=>p(N=>({...N,supplier:w.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du produit"}),s.jsx(tr,{type:"text",value:h.product,onChange:w=>p(N=>({...N,product:w.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),s.jsx(tr,{type:"date",value:h.expiryDate,onChange:w=>p(N=>({...N,expiryDate:w.target.value})),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Lieu de stockage"}),s.jsxs("select",{value:h.storageLocation,onChange:w=>p(N=>({...N,storageLocation:w.target.value})),className:"w-full px-3 py-2 rounded-md bg-brand-dark/80 border border-brand-blue/30 text-white focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",required:!0,children:[s.jsx("option",{value:"",children:"Sélectionner un lieu de stockage"}),s.jsx("option",{value:"Frigo 1",children:"Frigo 1"}),s.jsx("option",{value:"Frigo 2",children:"Frigo 2"}),s.jsx("option",{value:"Congélateur 1",children:"Congélateur 1"}),s.jsx("option",{value:"Congélateur 2",children:"Congélateur 2"}),s.jsx("option",{value:"Remise",children:"Remise"}),s.jsx("option",{value:"Cave",children:"Cave"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation du produit"}),s.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(w=>s.jsx("button",{type:"button",onClick:()=>f(w),className:"focus:outline-none",children:s.jsx(co,{size:24,className:w<=d?"text-yellow-400 fill-yellow-400":"text-white/20"})},w))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:b,className:"hidden"}),s.jsx(Ho,{className:"w-5 h-5 text-white/60 mr-2"}),s.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),s.jsxs(xn,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[s.jsx(Wp,{className:"w-4 h-4"}),"Photo"]}),s.jsxs(xn,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[s.jsx(jV,{className:"w-4 h-4"}),"Scanner"]})]}),h.invoice&&s.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",h.invoice.name]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(xn,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Annuler"}),s.jsx(xn,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function wFe({isOpen:e,onClose:t}){const{register:r,handleSubmit:n,formState:{errors:a},setValue:i,watch:o}=fm({defaultValues:{rating:0,quantity:1,unitPrice:0}}),[l,c]=k.useState(null),u=o("rating"),d=p=>{console.log(p),t()},f=p=>{var x;const m=(x=p.target.files)==null?void 0:x[0];if(m){const g=new FileReader;g.onloadend=()=>{c(g.result)},g.readAsDataURL(m)}},h=p=>{i("rating",p)};return s.jsx(Gi,{isOpen:e,onClose:t,title:"Nouvel achat",size:"lg",children:s.jsxs("form",{onSubmit:n(d),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),s.jsx("input",{...r("productName",{required:"Le nom du produit est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.productName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.productName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),s.jsx("input",{...r("supplierName",{required:"Le nom du fournisseur est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.supplierName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.supplierName.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"DLC"}),s.jsx("input",{type:"date",...r("expiryDate",{required:"La DLC est requise"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.expiryDate&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.expiryDate.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),s.jsx("input",{...r("storageLocation",{required:"Le lieu de stockage est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.storageLocation&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.storageLocation.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Quantité"}),s.jsx("input",{type:"number",min:"1",...r("quantity",{required:"La quantité est requise",min:{value:1,message:"La quantité doit être supérieure à 0"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.quantity.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix unitaire (€)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",...r("unitPrice",{required:"Le prix unitaire est requis",min:{value:0,message:"Le prix doit être positif"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.unitPrice&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.unitPrice.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Note de qualité"}),s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(p=>s.jsx("button",{type:"button",onClick:()=>h(p),className:"focus:outline-none",children:s.jsx(co,{size:24,className:`${p<=u?"text-yellow-400 fill-current":"text-white/20"} transition-colors`})},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes / Commentaires"}),s.jsx("textarea",{...r("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez des notes ou commentaires sur l'achat..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),s.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:l?s.jsxs("div",{className:"w-full space-y-3",children:[s.jsx("img",{src:l,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>c(null),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):s.jsxs("div",{className:"w-full space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[s.jsx(Ho,{size:20,className:"mr-2"}),s.jsx("span",{children:"Choisir un fichier"}),s.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:f})]})}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[s.jsx(Wp,{size:20,className:"mr-2"}),s.jsx("span",{children:"Prendre une photo"})]})})]})}),s.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Traçabilité et Comptabilité"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})})}const _Fe=()=>{var de,ye,Ie;const[e,t]=k.useState("tables"),[r,n]=k.useState(""),[a,i]=k.useState(null),[o,l]=k.useState(null),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,p]=k.useState(!1),[m,x]=k.useState(null),[g,v]=k.useState(!1),[b,y]=k.useState(!1),[w,N]=k.useState(null),[S,j]=k.useState(""),[A,T]=k.useState({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),[R,O]=k.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]}),E=K.useRef(null),L=Ne=>{const Pe=Math.floor(Math.random()*1e4);return`${Ne}-${Pe.toString().padStart(5,"0")}`},B=()=>{if(!m||!A.name||!A.quantity)return;let Ne="";m.includes("Frigo")?Ne="F":m.includes("Congélateur")?Ne="C":m==="Remise"?Ne="R":m==="Cave"&&(Ne="CA");const Pe={id:L(Ne),name:A.name,quantity:`${A.quantity}${A.unit==="unités"?" unités":A.unit==="bouteilles"?" bouteilles":A.unit}`,arrivalDate:A.arrivalDate,expiryDate:A.expiryDate===""?"N/A":A.expiryDate};O({...R,[m]:[...R[m],Pe]}),T({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),v(!1)},G=(Ne,Pe)=>{N({id:Pe.id,name:Pe.name,quantity:Pe.quantity});const Xe=Pe.quantity.match(/^(\d+(?:\.\d+)?)/);Xe&&Xe[1]?j(Xe[1]):j(""),y(!0)},U=Ne=>{const Pe=Ne.match(/[a-zA-Z]+|unités|bouteilles/);return Pe?Pe[0]:""},W=Ne=>{const Pe=Ne.match(/^(\d+(?:\.\d+)?)/);return Pe?parseFloat(Pe[1]):0},X=()=>{if(!m||!w)return;const Ne=W(w.quantity),Pe=parseFloat(S),Xe=U(w.quantity),tt=[...R[m]],gt=tt.findIndex(Nt=>Nt.id===w.id);if(gt!==-1){if(Pe>=Ne){const Nt=tt.filter(Pt=>Pt.id!==w.id);O({...R,[m]:Nt}),console.log(`Produit ${w.id} entièrement retiré de ${m}`)}else{const Nt={...tt[gt],quantity:`${(Ne-Pe).toFixed(2).replace(/\.00$/,"")}${Xe}`};tt[gt]=Nt,O({...R,[m]:tt}),console.log(`${S}${Xe} de ${w.name} retiré de ${m}`)}y(!1),N(null),j("")}};k.useState(0),k.useState(0),k.useRef(null);const q=()=>{switch(e){case"tables":return"Tables";case"trempe":return"Tables de trempe";case"pools":return"Bassins";case"autres":return"Autres emplacements";case"achats":return"Achats";case"charges":return"Charges";default:return""}},le=Ne=>{switch(Ne){case"tables":return s.jsx(jn,{size:20,className:"text-cyan-400","aria-hidden":"true"});case"trempe":return s.jsx(ji,{size:20,className:"text-cyan-400","aria-hidden":"true"});case"pools":return s.jsx(Ka,{size:20,className:"text-cyan-400","aria-hidden":"true"});case"autres":return s.jsx(x0,{size:20,className:"text-cyan-400","aria-hidden":"true"});case"achats":return s.jsx(rp,{size:20,className:"text-cyan-400","aria-hidden":"true"});case"charges":return s.jsx(Uh,{size:20,className:"text-cyan-400","aria-hidden":"true"});default:return s.jsx(jn,{size:20,className:"text-cyan-400","aria-hidden":"true"})}},[se,I]=k.useState(!1),{register:P,handleSubmit:M,formState:{errors:z}}=fm({defaultValues:{chargeName:"",amount:0,description:"",invoice:null}}),[Y,ae]=k.useState(null),ue=Ne=>{console.log(Ne),I(!1)},ne=Ne=>{var Xe;const Pe=(Xe=Ne.target.files)==null?void 0:Xe[0];if(Pe){const tt=new FileReader;tt.onloadend=()=>{ae(tt.result)},tt.readAsDataURL(Pe)}},_e=()=>{ae(null)};k.useState(!1);const Ce=[{id:"CH-001",name:"Carburant voiture",amount:50,date:"2025-03-01"},{id:"CH-002",name:"Carburant bateau",amount:75,date:"2025-03-03"},{id:"CH-003",name:"Réparation équipement",amount:200,date:"2025-03-05"}],[V,Me]=k.useState(!1),[Ae,pe]=k.useState(null),[re,Oe]=k.useState(!1),oe=Ne=>{pe(Ne),Oe(!0)};return s.jsxs("div",{ref:E,className:"p-6 space-y-6",children:[s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-12 -ml-[10px] w-[calc(100%+40px)]",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:s.jsx(SM,{size:28,className:"text-white"})})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Inventaire"})]}),s.jsx("div",{className:"mb-10 -ml-[10px] w-[calc(100%+40px)]",children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] px-8 py-7 rounded-lg border border-white/10 hover:border-white/20 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px]",children:[s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10 mb-7",children:[s.jsxs("button",{onClick:()=>t("tables"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 ${e==="tables"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(jn,{size:16,"aria-hidden":"true"}),"Tables"]}),s.jsxs("button",{onClick:()=>t("trempe"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 ${e==="trempe"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(ji,{size:16,"aria-hidden":"true"}),"Tables de trempe"]}),s.jsxs("button",{onClick:()=>t("pools"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 ${e==="pools"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(Ka,{size:16,"aria-hidden":"true"}),"Bassins"]}),s.jsxs("button",{onClick:()=>t("autres"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 ${e==="autres"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(x0,{size:16,"aria-hidden":"true"}),"Autres emplacements"]}),s.jsxs("button",{onClick:()=>t("achats"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 ${e==="achats"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(rp,{size:16,"aria-hidden":"true"}),"Achats"]}),s.jsxs("button",{onClick:()=>t("charges"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 ${e==="charges"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(Uh,{size:16,"aria-hidden":"true"}),"Charges"]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-1 relative flex items-center bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsx("input",{type:"text",value:r,onChange:Ne=>n(Ne.target.value),placeholder:"Rechercher...",className:"w-full bg-transparent border-none p-3 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg"})}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(qi,{size:16,"aria-hidden":"true"}),s.jsx("span",{children:"Filtres"})]})]})]})}),e==="tables"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-10 -ml-[10px] w-[calc(100%+40px)] pl-6",children:s.jsxs("h1",{className:"inline-flex items-center gap-3 text-2xl font-bold px-4 py-2 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] border border-white/10 backdrop-filter backdrop-blur-[10px]",children:[le(e),s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:q()})]})}),s.jsx($we,{onTableSelect:i,onTableHover:l,onTableUpdate:Ne=>{console.log("Table updated:",Ne)},hoveredTable:o,selectedTable:a})]}),e==="trempe"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-10 -ml-[10px] w-[calc(100%+40px)] pl-6",children:s.jsxs("h1",{className:"inline-flex items-center gap-3 text-2xl font-bold px-4 py-2 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] border border-white/10 backdrop-filter backdrop-blur-[10px]",children:[le(e),s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:q()})]})}),s.jsx(Jwe,{onTableSelect:Ne=>{},onTableHover:Ne=>{},onTableUpdate:Ne=>{}})]}),e==="pools"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-10 -ml-[10px] w-[calc(100%+40px)] pl-6",children:s.jsxs("h1",{className:"inline-flex items-center gap-3 text-2xl font-bold px-4 py-2 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] border border-white/10 backdrop-filter backdrop-blur-[10px]",children:[le(e),s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:q()})]})}),s.jsx(Wwe,{})]}),e==="autres"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-10 -ml-[10px] w-[calc(100%+40px)] pl-6",children:s.jsxs("h1",{className:"inline-flex items-center gap-3 text-2xl font-bold px-4 py-2 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] border border-white/10 backdrop-filter backdrop-blur-[10px]",children:[le(e),s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:q()})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Lieux de stockage alternatifs"}),s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(gr,{size:18,className:"mr-2"}),"Ajouter lieu de stockage"]})]}),s.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 210, 200, 0.15) 0px -1px 5px 0px inset, rgba(0, 65, 255, 0.05) 0px 0px 8px inset, rgba(0, 0, 0, 0.05) 0px 0px 1px inset",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer",onClick:()=>x("Frigo 1"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:s.jsx(ji,{size:18,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h3",{className:"text-xl font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Frigo 1"})]}),s.jsx("div",{className:"px-3 py-1 rounded-full bg-cyan-500/20 text-cyan-400 text-sm border border-white/10 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:"Frigo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"500 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"65%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2 shadow-[0_2px_4px_rgba(0,0,0,0.2)_inset]",children:s.jsx("div",{className:"bg-cyan-400 h-full rounded-full shadow-[0_0_10px_rgba(0,210,200,0.3)]",style:{width:"65%"}})}),s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer",onClick:()=>x("Frigo 2"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:s.jsx(ji,{size:18,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h3",{className:"text-xl font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Frigo 2"})]}),s.jsx("div",{className:"px-3 py-1 rounded-full bg-cyan-500/20 text-cyan-400 text-sm border border-white/10 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:"Frigo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"300 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"30%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2 shadow-[0_2px_4px_rgba(0,0,0,0.2)_inset]",children:s.jsx("div",{className:"bg-cyan-400 h-full rounded-full shadow-[0_0_10px_rgba(0,210,200,0.3)]",style:{width:"30%"}})}),s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer",onClick:()=>x("Congélateur 1"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:s.jsx(Y2,{size:18,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h3",{className:"text-xl font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Congélateur 1"})]}),s.jsx("div",{className:"px-3 py-1 rounded-full bg-cyan-500/20 text-cyan-400 text-sm border border-white/10 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:"Congélateur"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"200 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"85%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2 shadow-[0_2px_4px_rgba(0,0,0,0.2)_inset]",children:s.jsx("div",{className:"bg-cyan-400 h-full rounded-full shadow-[0_0_10px_rgba(0,210,200,0.3)]",style:{width:"85%"}})}),s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer",onClick:()=>x("Congélateur 2"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:s.jsx(Y2,{size:18,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h3",{className:"text-xl font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Congélateur 2"})]}),s.jsx("div",{className:"px-3 py-1 rounded-full bg-cyan-500/20 text-cyan-400 text-sm border border-white/10 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:"Congélateur"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"150 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"40%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2 shadow-[0_2px_4px_rgba(0,0,0,0.2)_inset]",children:s.jsx("div",{className:"bg-cyan-400 h-full rounded-full shadow-[0_0_10px_rgba(0,210,200,0.3)]",style:{width:"40%"}})}),s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer",onClick:()=>x("Remise"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:s.jsx(jn,{size:18,className:"text-amber-400","aria-hidden":"true"})}),s.jsx("h3",{className:"text-xl font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Remise"})]}),s.jsx("div",{className:"px-3 py-1 rounded-full bg-amber-500/20 text-amber-400 text-sm border border-white/10 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:"Remise"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"1000 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"55%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2 shadow-[0_2px_4px_rgba(0,0,0,0.2)_inset]",children:s.jsx("div",{className:"bg-amber-400 h-full rounded-full shadow-[0_0_10px_rgba(0,210,200,0.3)]",style:{width:"55%"}})}),s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer",onClick:()=>x("Cave"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:s.jsx(x0,{size:18,className:"text-purple-400","aria-hidden":"true"})}),s.jsx("h3",{className:"text-xl font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Cave"})]}),s.jsx("div",{className:"px-3 py-1 rounded-full bg-purple-500/20 text-purple-400 text-sm border border-white/10 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:"Remise"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsx("span",{className:"text-white",children:"800 kg"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsx("span",{className:"text-white",children:"25%"})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2 shadow-[0_2px_4px_rgba(0,0,0,0.2)_inset]",children:s.jsx("div",{className:"bg-purple-400 h-full rounded-full shadow-[0_0_10px_rgba(0,210,200,0.3)]",style:{width:"25%"}})}),s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})})]}),e==="achats"&&s.jsx(yFe,{}),a&&s.jsx(TIe,{table:a,onClose:()=>i(null),onTableUpdate:Ne=>{console.log("Table updated:",Ne)}}),c&&e!=="achats"&&s.jsx(ZIe,{isOpen:c,onClose:()=>u(!1)}),c&&e==="achats"&&s.jsx(wFe,{isOpen:c,onClose:()=>u(!1)}),d&&s.jsx(nMe,{isOpen:d,onClose:()=>f(!1),onApplyFilters:Ne=>{console.log("Filters applied:",Ne),f(!1)}}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${m.includes("Frigo")?"bg-blue-500/20":m.includes("Congélateur")?"bg-cyan-500/20":m==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:m.includes("Frigo")?s.jsx(ji,{size:20,className:"text-blue-400"}):m.includes("Congélateur")?s.jsx(Y2,{size:20,className:"text-cyan-400"}):m==="Remise"?s.jsx(jn,{size:20,className:"text-amber-400"}):s.jsx(x0,{size:20,className:"text-purple-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:m})]}),s.jsx("button",{onClick:()=>x(null),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-white/70",children:[(de=R[m])==null?void 0:de.length," produits stockés"]})}),s.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors flex items-center gap-2",children:[s.jsx(gr,{size:16}),"Ajouter un produit"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[s.jsx("div",{children:"Produit"}),s.jsx("div",{children:"Quantité"}),s.jsx("div",{children:"Date d'arrivée"}),s.jsx("div",{children:"DLC"}),s.jsx("div",{className:"text-right",children:"Actions"})]}),((ye=R[m])==null?void 0:ye.length)>0?(Ie=R[m])==null?void 0:Ie.map(Ne=>s.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[s.jsx("div",{className:"font-medium",children:Ne.name}),s.jsx("div",{children:Ne.quantity}),s.jsx("div",{children:Ne.arrivalDate}),s.jsx("div",{children:Ne.expiryDate==="N/A"?s.jsx("span",{className:"text-white/50",children:"N/A"}):s.jsx("span",{className:`${new Date(Ne.expiryDate)<new Date?"text-red-400":new Date(Ne.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:Ne.expiryDate})}),s.jsx("div",{className:"flex items-center justify-end gap-2",children:s.jsx("button",{onClick:Pe=>{Pe.stopPropagation(),G(m,Ne)},className:"px-3 py-1 bg-brand-burgundy/80 hover:bg-brand-burgundy text-white text-xs rounded-lg transition-colors",children:"Sortir"})})]},Ne.id)):s.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})}),g&&m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white",children:["Ajouter un produit - ",m]}),s.jsx("button",{onClick:()=>v(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),s.jsxs("form",{onSubmit:Ne=>{Ne.preventDefault(),B()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Nom du produit"}),s.jsx("input",{type:"text",value:A.name,onChange:Ne=>T({...A,name:Ne.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: Huîtres Fines de Claire"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité"}),s.jsx("input",{type:"text",value:A.quantity,onChange:Ne=>T({...A,quantity:Ne.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: 50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Unité"}),s.jsxs("select",{value:A.unit,onChange:Ne=>T({...A,unit:Ne.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"tonnes",children:"tonnes"}),s.jsx("option",{value:"unités",children:"unités"}),s.jsx("option",{value:"bouteilles",children:"bouteilles"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'arrivée"}),s.jsx("input",{type:"date",value:A.arrivalDate,onChange:Ne=>T({...A,arrivalDate:Ne.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'expiration (DLC)"}),s.jsx("input",{type:"date",value:A.expiryDate,onChange:Ne=>T({...A,expiryDate:Ne.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"}),s.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Laissez vide si non applicable"})]}),s.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter"})]})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Nouveau lieu de stockage"}),s.jsx("button",{onClick:()=>p(!1),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),s.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Entrepôt principal"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type de stockage"}),s.jsxs("select",{className:"w-full p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[s.jsx("option",{value:"",children:"Sélectionner un type"}),s.jsx("option",{value:"frigo",children:"Frigo"}),s.jsx("option",{value:"congelateur",children:"Congélateur"}),s.jsx("option",{value:"remise",children:"Remise"}),s.jsx("option",{value:"other",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Capacité (estimée)"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: 1000"}),s.jsxs("select",{className:"p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"tonnes",children:"tonnes"}),s.jsx("option",{value:"units",children:"unités"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"w-full py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})]})}),b&&w&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Sortir un produit"}),s.jsx("button",{onClick:()=>{y(!1),N(null)},className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-white text-lg mb-2",children:w.name}),s.jsxs("p",{className:"text-white/70",children:["Quantité disponible: ",w.quantity]})]}),s.jsxs("form",{onSubmit:Ne=>{Ne.preventDefault(),X()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité à sortir"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",min:"0.01",step:"0.01",max:W(w.quantity),value:S,onChange:Ne=>j(Ne.target.value),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-l-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Quantité"}),s.jsx("span",{className:"bg-white/10 text-white px-4 py-3 rounded-r-lg border-t border-r border-b border-brand-blue/30",children:U(w.quantity)})]})]}),s.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>{y(!1),N(null)},className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Confirmer"})]})]})]})}),e==="charges"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Charges"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(Uh,{size:18,className:"mr-2"}),"Nouvelle Charge"]}),s.jsxs("button",{onClick:()=>Me(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(su,{size:18,className:"mr-2"}),"Calendrier"]})]})]}),s.jsxs("div",{className:"space-y-4 mt-6",children:[s.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:s.jsx(ao,{className:"text-brand-blue",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Carburant voiture"}),s.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-01"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("p",{className:"text-white font-medium",children:"50 €"}),s.jsx("button",{onClick:()=>oe(Ce[0]),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(qc,{size:20})})]})]}),s.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:s.jsx(ao,{className:"text-brand-blue",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Carburant bateau"}),s.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-03"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("p",{className:"text-white font-medium",children:"75 €"}),s.jsx("button",{onClick:()=>oe(Ce[1]),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(qc,{size:20})})]})]}),s.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:s.jsx(ao,{className:"text-brand-blue",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Réparation équipement"}),s.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-05"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("p",{className:"text-white font-medium",children:"200 €"}),s.jsx("button",{onClick:()=>oe(Ce[2]),className:"text-white/60 hover:text-white transition-colors",children:s.jsx(qc,{size:20})})]})]})]}),se&&s.jsx(Gi,{isOpen:se,onClose:()=>I(!1),title:"Nouvelle Charge",size:"lg",children:s.jsxs("form",{onSubmit:M(ue),className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la charge"}),s.jsx("input",{...P("chargeName",{required:"Le nom de la charge est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),z.chargeName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:z.chargeName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Montant (€)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",...P("amount",{required:"Le montant est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),z.amount&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:z.amount.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{...P("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez une description..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),s.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:Y?s.jsxs("div",{className:"w-full space-y-3",children:[s.jsx("img",{src:Y,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),s.jsx("button",{type:"button",onClick:_e,className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):s.jsxs("div",{className:"w-full space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[s.jsx(Ho,{size:20,className:"mr-2"}),s.jsx("span",{children:"Choisir un fichier"}),s.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:ne})]})}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[s.jsx(Wp,{size:20,className:"mr-2"}),s.jsx("span",{children:"Prendre une photo"})]})})]})}),s.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Comptabilité"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})}),V&&s.jsx(Gi,{isOpen:V,onClose:()=>Me(!1),title:"Calendrier",size:"lg",children:s.jsx("div",{className:"p-4",children:s.jsx("p",{className:"text-white",children:"Ici, vous pouvez intégrer un composant de calendrier."})})})]}),re&&Ae&&s.jsx(Gi,{isOpen:re,onClose:()=>Oe(!1),title:"Détails de la facture",size:"lg",children:s.jsx("div",{className:"p-4",children:s.jsxs("p",{className:"text-white",children:["Détails de la facture pour ",Ae.name]})})})]})},NFe=[{id:"1",name:"Frigo 1",type:"frigo",capacity:500,occupation:65,icon:"droplets"},{id:"2",name:"Frigo 2",type:"frigo",capacity:300,occupation:30,icon:"droplets"},{id:"3",name:"Congélateur 1",type:"congélateur",capacity:200,occupation:85,icon:"thermometer"},{id:"4",name:"Congélateur 2",type:"congélateur",capacity:150,occupation:40,icon:"thermometer"},{id:"5",name:"Remise",type:"remise",capacity:1e3,occupation:55,icon:"package"},{id:"6",name:"Cave",type:"remise",capacity:800,occupation:25,icon:"map"}],jFe=(e,t)=>{switch(e){case"droplets":return s.jsx(ji,{className:t});case"thermometer":return s.jsx(Y2,{className:t});case"package":return s.jsx(jn,{className:t});case"map":return s.jsx(x0,{className:t})}},SFe=e=>{switch(e){case"frigo":return"blue";case"congélateur":return"cyan";case"remise":return e==="remise"?"amber":"purple";default:return"blue"}},AFe=()=>{const[e,t]=k.useState(null);return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:NFe.map(r=>{const n=SFe(r.type);return s.jsxs("div",{className:"relative p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors cursor-pointer group",onClick:()=>t(r.id),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-md bg-${n}-500/20 flex items-center justify-center mr-3`,children:jFe(r.icon,`text-${n}-400`)}),s.jsx("h3",{className:"text-white font-medium",children:r.name})]}),s.jsx("div",{className:`bg-${n}-500/20 text-${n}-400 text-xs px-2 py-1 rounded-full`,children:r.type.charAt(0).toUpperCase()+r.type.slice(1)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Capacité"}),s.jsxs("span",{className:"text-white",children:[r.capacity," kg"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Occupation"}),s.jsxs("span",{className:"text-white",children:[r.occupation,"%"]})]}),s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:s.jsx("div",{className:`bg-${n}-400 h-full rounded-full`,style:{width:`${r.occupation}%`}})}),s.jsx("div",{className:"hidden group-hover:block mt-3",children:s.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]},r.id)})})},CFe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},EFe={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},kFe=[{id:"1",name:"Huîtres N°3",quantity:1e3,unit:"pièces",location:"Bassin A",lastUpdate:new Date},{id:"2",name:"Huîtres N°2",quantity:500,unit:"pièces",location:"Bassin B",lastUpdate:new Date},{id:"3",name:"Huîtres N°1",quantity:300,unit:"pièces",location:"Bassin C",lastUpdate:new Date}],TFe=()=>{const[e,t]=K.useState(kFe),[r,n]=K.useState(""),[a,i]=k.useState("current"),o=Is(),l=d=>{o(`/tables/${d}`)},c=d=>{i(d)},u=[{id:"current",label:"Stock actuel",icon:s.jsx(jn,{size:20,className:"text-cyan-400"}),count:3},{id:"movements",label:"Mouvements",icon:s.jsx(ik,{size:20,className:"text-cyan-400"})},{id:"history",label:"Historique",icon:s.jsx(su,{size:20,className:"text-cyan-400"})},{id:"analytics",label:"Statistiques",icon:s.jsx(sk,{size:20,className:"text-cyan-400"})}];return k.useEffect(()=>{},[a]),s.jsxs("div",{className:"w-full p-6 min-h-screen animate-fadeIn",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion des Stocks"}),s.jsx("p",{className:"text-white/70 mt-2",children:"Gestion centralisée des stocks pour tous vos produits."})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(Xa,{className:"absolute left-3 text-white/50",size:18,"aria-hidden":"true"}),s.jsx("input",{type:"text",placeholder:"Rechercher un stock...",value:r,onChange:d=>n(d.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-auto min-w-[280px] rounded-lg bg-white/5 border border-white/10 focus:border-cyan-400/30 text-white shadow-[0_4px_10px_rgba(0,0,0,0.25)] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher un stock"}),s.jsx(qi,{className:"absolute right-3 text-white/50",size:18,"aria-hidden":"true"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un nouveau stock",children:[s.jsx(gr,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Nouveau stock"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les stocks",children:[s.jsx(qi,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Filtres"})]})]}),s.jsx("div",{className:"relative mb-6 mt-4",children:s.jsx("div",{id:"stock-page-tabs",className:"w-full overflow-x-auto hide-scrollbar",children:s.jsx("div",{className:"flex gap-4",role:"tablist",style:{padding:"4px",borderRadius:"12px"},children:u.map(d=>s.jsxs("button",{onClick:()=>c(d.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",transition:"all 0.3s ease",minWidth:"44px",minHeight:"44px",backgroundColor:a===d.id?"rgba(6, 182, 212, 0.2)":"transparent",color:a===d.id?"#22d3ee":"rgba(255, 255, 255, 0.6)",boxShadow:a===d.id?"0 4px 10px rgba(0, 0, 0, 0.25), 0 0 15px rgba(0, 210, 200, 0.2)":"none",border:a===d.id?"1px solid rgba(6, 182, 212, 0.3)":"1px solid rgba(255, 255, 255, 0.1)"},className:`stockpage-tab ${a===d.id?"stockpage-tab-active":"stockpage-tab-inactive"}`,role:"tab","aria-selected":a===d.id,children:[d.icon,s.jsx("span",{children:d.label}),d.count!==void 0&&s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:a===d.id?"rgba(6, 182, 212, 0.3)":"rgba(255, 255, 255, 0.1)",borderRadius:"9999px",padding:"2px 8px",fontSize:"0.75rem",fontWeight:"bold"},children:d.count})]},d.id))})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",role:"tabpanel",id:`tab-panel-${a}`,"aria-labelledby":`tab-${a}`,children:[a==="current"&&s.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(jn,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Inventaire actuel"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'inventaire",children:[s.jsx(qi,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Exporter"})]})})]}),s.jsx(je.div,{initial:"hidden",animate:"visible",variants:CFe,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>s.jsxs(je.div,{variants:EFe,className:"glass p-4 rounded-lg border border-white/10 hover:border-white/20 transition-duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),s.jsx("span",{className:"text-white/60 text-sm",children:d.lastUpdate.toLocaleDateString()})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Quantité"}),s.jsxs("span",{className:"font-medium text-white",children:[d.quantity," ",d.unit]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Emplacement"}),s.jsx("span",{className:"font-medium text-white",children:d.location})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1.5 text-sm rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":`Voir les détails de ${d.name}`,children:"Voir détails"})})]},d.id))})]}),a==="movements"&&s.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(ik,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Mouvements de stock"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Nouveau mouvement",children:[s.jsx(gr,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Nouveau mouvement"})]})})]}),s.jsx("div",{className:"text-center py-10 text-white/60",children:'Aucun mouvement récent. Utilisez le bouton "Nouveau mouvement" pour en créer un.'})]}),a==="history"&&s.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(su,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Historique des stocks"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'historique",children:[s.jsx(qi,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Exporter"})]})})]}),s.jsx("div",{className:"text-center py-10 text-white/60",children:"L'historique des mouvements de stock sera affiché ici."})]}),a==="analytics"&&s.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(sk,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Statistiques des stocks"]})}),s.jsx("div",{className:"text-center py-10 text-white/60",children:"Les statistiques et graphiques de performance des stocks seront affichés ici."})]})]}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-white/90",children:"Autres emplacements"}),s.jsx(AFe,{})]})]})};class rg extends k.PureComponent{render(){const{series:t,height:r,showGrid:n,showLegend:a}=this.props;if(!t||t.length===0||!t[0].data)return s.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-white/5 rounded-lg border border-white/10",children:s.jsx("p",{className:"text-white/60",children:"Aucune donnée disponible"})});const i=t[0].data.map((o,l)=>{const c={name:o.name};return t.forEach(u=>{u.data[l]&&(c[u.name]=u.data[l].value)}),c});return s.jsx(Pb,{width:"100%",height:r,children:s.jsxs(wwe,{data:i,children:[n&&s.jsx(BA,{strokeDasharray:"3 3",stroke:"rgb(var(--color-border) / 0.5)"}),s.jsx(im,{dataKey:"name",stroke:"rgb(var(--color-text-secondary))",fontSize:12}),s.jsx(sm,{stroke:"rgb(var(--color-text-secondary))",fontSize:12}),s.jsx(Do,{contentStyle:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a&&s.jsx(C0,{verticalAlign:"top",height:36,iconType:"circle",formatter:o=>s.jsx("span",{style:{color:"rgb(var(--color-text))"},children:o})}),t.map(o=>s.jsx(wg,{type:"monotone",dataKey:o.name,stroke:o.color,strokeWidth:2,dot:{fill:o.color,strokeWidth:0},activeDot:{r:6,strokeWidth:0}},o.name))]})})}}_t(rg,"defaultProps",{height:300,showGrid:!0,showLegend:!0});const OFe=[{id:"1",name:"À réception",days:0},{id:"2",name:"30 jours",days:30},{id:"3",name:"60 jours",days:60}],PFe=[{id:"1",name:"TVA 20%",rate:20,isDefault:!0},{id:"2",name:"TVA 10%",rate:10,isDefault:!1},{id:"3",name:"TVA 5.5%",rate:5.5,isDefault:!1}];function wU({type:e,initialData:t,onSubmit:r,onCancel:n}){const{register:a,control:i,handleSubmit:o,watch:l,setValue:c,formState:{errors:u}}=fm({defaultValues:{type:e,status:"draft",date:Kt(new Date,"yyyy-MM-dd"),items:(t==null?void 0:t.items)||[{description:"",quantity:1,unit_price:0,tax_rate:20}],...t}}),{fields:d,append:f,remove:h}=WIe({control:i,name:"items"}),p=l("items"),m=()=>p.reduce((v,b)=>v+b.quantity*b.unit_price,0),x=()=>p.reduce((v,b)=>{const y=b.tax_rate||20;return v+b.quantity*b.unit_price*(y/100)},0),g=()=>m()+x();return s.jsxs("form",{onSubmit:o(r),className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:e==="sale"?"Nouvelle Facture":"Nouvelle Facture Fournisseur"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[s.jsx(hf,{size:20,className:"mr-2"}),"Enregistrer"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:e==="sale"?"Client":"Fournisseur"}),s.jsx("select",{...a("customer_id"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:s.jsx("option",{value:"",children:"Sélectionner..."})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),s.jsx("input",{type:"date",...a("date"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Conditions de paiement"}),s.jsx("select",{...a("payment_terms"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:OFe.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Articles"}),s.jsxs("button",{type:"button",onClick:()=>f({description:"",quantity:1,unit_price:0,tax_rate:20}),className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Ajouter un article"]})]}),s.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white",children:"Description"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Quantité"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Prix unitaire"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"TVA"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Total HT"}),s.jsx("th",{className:"px-4 py-3 w-16"})]})}),s.jsx("tbody",{children:d.map((v,b)=>{var y,w;return s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{...a(`items.${b}.description`),className:"w-full px-3 py-1 bg-white/5 border border-white/10 rounded text-white",placeholder:"Description de l'article"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"number",...a(`items.${b}.quantity`),className:"w-24 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"1"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"number",step:"0.01",...a(`items.${b}.unit_price`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"0"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("select",{...a(`items.${b}.tax_rate`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white",children:PFe.map(N=>s.jsx("option",{value:N.rate,children:N.name},N.id))})}),s.jsxs("td",{className:"px-4 py-3 text-right text-white",children:[(((y=p[b])==null?void 0:y.quantity)*((w=p[b])==null?void 0:w.unit_price)).toFixed(2),"€"]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{type:"button",onClick:()=>h(b),className:"p-1 text-white/60 hover:text-white transition-colors",children:s.jsx(Ci,{size:16})})})]},v.id)})})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-64 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Sous-total HT"}),s.jsxs("span",{className:"text-white",children:[m().toFixed(2),"€"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"TVA"}),s.jsxs("span",{className:"text-white",children:[x().toFixed(2),"€"]})]}),s.jsxs("div",{className:"flex justify-between text-base font-medium pt-2 border-t border-white/10",children:[s.jsx("span",{className:"text-white",children:"Total TTC"}),s.jsxs("span",{className:"text-white",children:[g().toFixed(2),"€"]})]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes"}),s.jsx("textarea",{...a("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Notes ou conditions particulières..."})]})]})}const hI=[{month:"Jan",revenue:45e3,expenses:32e3},{month:"Fév",revenue:52e3,expenses:35e3},{month:"Mar",revenue:48e3,expenses:33e3},{month:"Avr",revenue:51e3,expenses:36e3},{month:"Mai",revenue:58e3,expenses:38e3},{month:"Juin",revenue:53e3,expenses:34e3}],pI=[{month:"Jan",inflow:55e3,outflow:42e3},{month:"Fév",inflow:62e3,outflow:45e3},{month:"Mar",inflow:58e3,outflow:43e3},{month:"Avr",inflow:61e3,outflow:46e3},{month:"Mai",inflow:68e3,outflow:48e3},{month:"Juin",inflow:63e3,outflow:44e3}],ew=(e,t)=>({data:e.map(r=>({name:r.month,value:r[t]}))}),DFe=[{name:"Revenus",color:"#22d3ee",...ew(hI,"revenue")},{name:"Dépenses",color:"#fb7185",...ew(hI,"expenses")}],IFe=[{name:"Entrées",color:"#22d3ee",...ew(pI,"inflow")},{name:"Sorties",color:"#fb7185",...ew(pI,"outflow")}];function MFe(){const[e,t]=k.useState(!0),[r,n]=k.useState(""),[a,i]=k.useState(!1);k.useState("month");const o=l=>{console.log("Creating invoice:",l),i(!1)};return s.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:s.jsx(ok,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Comptabilité"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(gr,{size:20,"aria-hidden":"true"}),"Nouvelle Facture"]}),s.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(MM,{size:20,"aria-hidden":"true"}),"Statistiques"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(FM,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Chiffre d'affaires"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"58,000 €"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(SV,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Bénéfice net"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"12,500 €"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(ok,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Dépenses"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"45,500 €"}),s.jsx("p",{className:"text-sm text-rose-400",children:"+5% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(AV,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Trésorerie"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"25,800 €"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+3% ce mois"})]})]})})]}),e&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Revenus et Dépenses"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),s.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),s.jsx(rg,{series:DFe,height:300})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Flux de Trésorerie"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),s.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),s.jsx(rg,{series:IFe,height:300})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transactions récentes"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xa,{size:20,className:"absolute left-3 -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),s.jsx("input",{type:"text",placeholder:"Rechercher...",className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",value:r,onChange:l=>n(l.target.value)})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(qi,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-white/60",children:[s.jsx("th",{className:"pb-4",children:"Date"}),s.jsx("th",{className:"pb-4",children:"Description"}),s.jsx("th",{className:"pb-4",children:"Type"}),s.jsx("th",{className:"pb-4 text-right",children:"Montant"}),s.jsx("th",{className:"pb-4",children:"Statut"})]})}),s.jsxs("tbody",{className:"text-white",children:[s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-4",children:"15/06/2023"}),s.jsx("td",{children:"Facture #2023-156"}),s.jsx("td",{children:"Vente"}),s.jsx("td",{className:"text-right text-cyan-400",children:"+3,500€"}),s.jsx("td",{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Payée"})})]}),s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-4",children:"14/06/2023"}),s.jsx("td",{children:"Fournitures bureau"}),s.jsx("td",{children:"Dépense"}),s.jsx("td",{className:"text-right text-red-400",children:"-250€"}),s.jsx("td",{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"Traitée"})})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1,transform:"translate3d(0px, 0px, 0px)"},className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Facture"}),s.jsx("button",{onClick:()=>i(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:s.jsx(zt,{size:24})})]}),s.jsx(wU,{type:"sale",onSubmit:o,onCancel:()=>i(!1)})]})})]})}const FFe=[{id:"1",type:"sale",number:"FACT-2025-001",date:"2025-02-20",due_date:"2025-03-20",customer_id:"1",customer:{id:"1",name:"Restaurant La Marée",email:"contact@lamaree.fr",address:"123 Avenue de la Mer, 17000 La Rochelle"},status:"sent",subtotal:1250,tax:250,total:1500,notes:"",items:[{id:"1",invoice_id:"1",description:"Huîtres Plates N°3",quantity:50,unit_price:25,tax_rate:20,total:1500}]},{id:"2",type:"purchase",number:"FACT-2025-002",date:"2025-02-19",due_date:"2025-03-19",supplier_id:"1",supplier:{id:"1",name:"Naissain Express",email:"contact@naissain-express.fr",address:"456 Route des Parcs, 17560 Bourcefranc-le-Chapus"},status:"paid",subtotal:800,tax:160,total:960,notes:"",items:[{id:"2",invoice_id:"2",description:"Naissain d'huîtres",quantity:1e3,unit_price:.8,tax_rate:20,total:960}]}],RFe={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",paid:"bg-green-500/20 text-green-300",overdue:"bg-red-500/20 text-red-300",cancelled:"bg-yellow-500/20 text-yellow-300"},LFe={draft:Qa,sent:fw,paid:MN,overdue:Ka,cancelled:RM};function BFe({type:e,onEdit:t,onDelete:r}){const[n,a]=k.useState(null),i=FFe.filter(c=>c.type===e),o=c=>{console.log("Downloading invoice:",c.number)},l=c=>{console.log("Sending invoice:",c.number)};return s.jsx("div",{className:"space-y-4",children:i.map(c=>{var d,f;const u=LFe[c.status];return s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:s.jsx(ao,{size:20,className:"text-brand-burgundy"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:c.number}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center ${RFe[c.status]}`,children:[s.jsx(u,{size:12,className:"mr-1"}),c.status]})]}),s.jsx("div",{className:"mt-1 text-sm text-white/60",children:e==="sale"?(d=c.customer)==null?void 0:d.name:(f=c.supplier)==null?void 0:f.name}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60",children:"Date"}),s.jsx("div",{className:"text-white",children:Kt(new Date(c.date),"PP",{locale:Zr})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60",children:"Échéance"}),s.jsx("div",{className:"text-white",children:Kt(new Date(c.due_date),"PP",{locale:Zr})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60",children:"Montant TTC"}),s.jsxs("div",{className:"text-white font-medium",children:[c.total.toFixed(2),"€"]})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>a(n===c.id?null:c.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(sg,{size:20,className:"text-white/60"})}),n===c.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[s.jsxs("button",{onClick:()=>o(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(Wo,{size:16,className:"mr-2"}),"Télécharger"]}),c.status==="draft"&&s.jsxs("button",{onClick:()=>l(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(fw,{size:16,className:"mr-2"}),"Envoyer"]}),s.jsxs("button",{onClick:()=>t(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(kS,{size:16,className:"mr-2"}),"Modifier"]}),s.jsxs("button",{onClick:()=>r(c),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[s.jsx(Ci,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},c.id)})})}function $Fe(){const[e,t]=k.useState("sales"),[r,n]=k.useState(!1),[a,i]=k.useState(""),[o,l]=k.useState(null),c=f=>{console.log("Creating invoice:",f),n(!1)},u=f=>{l(f)},d=f=>{confirm(`Êtes-vous sûr de vouloir supprimer la facture ${f.number} ?`)&&console.log("Deleting invoice:",f.number)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Factures"}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle Facture"]})})]}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[s.jsx("button",{onClick:()=>t("sales"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="sales"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ao,{size:16,className:"mr-2"}),"Factures Clients"]})}),s.jsx("button",{onClick:()=>t("purchases"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="purchases"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wo,{size:16,className:"mr-2"}),"Factures Fournisseurs"]})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xa,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),s.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),placeholder:"Rechercher une facture...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(qi,{size:20,className:"mr-2"}),"Filtres"]})]}),s.jsx(BFe,{type:e==="sales"?"sale":"purchase",onEdit:u,onDelete:d}),(r||o)&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:s.jsx(wU,{type:e==="sales"?"sale":"purchase",initialData:o||void 0,onSubmit:c,onCancel:()=>{n(!1),l(null)}})})})]})}const zFe=[{id:"1",date:"2025-02-19",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"18:00"}},{id:"2",date:"2025-02-20",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"}},{id:"3",date:"2025-02-21",morning:{start:"07:30",end:"12:00"}}];function UFe({date:e,period:t,currentSchedule:r,onSave:n,onDelete:a}){const[i,o]=k.useState((r==null?void 0:r.start)||(t==="morning"?"08:00":"14:00")),[l,c]=k.useState((r==null?void 0:r.end)||(t==="morning"?"12:00":"18:00")),u=()=>{n({start:i,end:l})};return s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-white font-medium",children:[t==="morning"?"Matin":"Après-midi"," - ",Kt(e,"EEEE d MMMM",{locale:Zr})]}),r&&a&&s.jsx("button",{onClick:a,className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5","aria-label":"Supprimer le créneau",children:s.jsx(Ci,{size:16})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`start-${t}`,className:"block text-sm text-white/60 mb-1",children:"Début"}),s.jsx("input",{id:`start-${t}`,type:"time",value:i,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:`end-${t}`,className:"block text-sm text-white/60 mb-1",children:"Fin"}),s.jsx("input",{id:`end-${t}`,type:"time",value:l,onChange:d=>c(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsx("button",{onClick:u,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})}function _U({employee:e,onClose:t}){var v,b,y;const[r,n]=k.useState(new Date),[a,i]=k.useState(zFe),[o,l]=k.useState(null),{session:c}=Yo();(v=c==null?void 0:c.user)==null||v.role;const u=ap(r,{weekStartsOn:1}),d=HG(r,{weekStartsOn:1}),f=zG({start:u,end:d}),h=()=>n(zY(r,1)),p=()=>n(n7(r,1)),m=w=>a.find(N=>TG(new Date(N.date),w)),x=(w,N,S)=>{i(j=>{const A=Kt(w,"yyyy-MM-dd"),T=j.findIndex(R=>R.date===A);if(T>=0){const R=[...j];return R[T]={...R[T],[N]:S},R}else return[...j,{id:crypto.randomUUID(),date:A,[N]:S}]}),l(null)},g=(w,N)=>{i(S=>{const j=Kt(w,"yyyy-MM-dd"),A=S.findIndex(T=>T.date===j);if(A>=0){const T=[...S],R=T[A];return N==="morning"?delete R.morning:delete R.afternoon,!R.morning&&!R.afternoon&&T.splice(A,1),T}return S}),l(null)};return s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-white/10",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:e.name}),s.jsx("p",{className:"text-white/60",children:"Planning hebdomadaire"})]})})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsx("button",{onClick:h,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine précédente",children:s.jsx(LM,{size:20,className:"text-white/60"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ta,{size:20,className:"text-white/60"}),s.jsx("span",{className:"text-white font-medium",children:Kt(u,"MMMM yyyy",{locale:Zr})})]}),s.jsx("button",{onClick:p,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine suivante",children:s.jsx(Fo,{size:20,className:"text-white/60"})})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-1 p-6",children:s.jsx("div",{className:"grid grid-cols-7 gap-4",children:f.map((w,N)=>{var S,j,A,T,R,O,E,L,B,G,U,W;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-white/60",children:Kt(w,"EEEE",{locale:Zr})}),s.jsx("div",{className:"text-lg font-medium text-white",children:Kt(w,"d",{locale:Zr})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(je.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(S=m(w))!=null&&S.morning?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:w,period:"morning"}),whileHover:{scale:1.02},children:[s.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Matin"}),s.jsx("div",{className:"text-sm text-white/60",children:(j=m(w))!=null&&j.morning?`${(T=(A=m(w))==null?void 0:A.morning)==null?void 0:T.start} - ${(O=(R=m(w))==null?void 0:R.morning)==null?void 0:O.end}`:"-"})]}),s.jsxs(je.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(E=m(w))!=null&&E.afternoon?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:w,period:"afternoon"}),whileHover:{scale:1.02},children:[s.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Après-midi"}),s.jsx("div",{className:"text-sm text-white/60",children:(L=m(w))!=null&&L.afternoon?`${(G=(B=m(w))==null?void 0:B.afternoon)==null?void 0:G.start} - ${(W=(U=m(w))==null?void 0:U.afternoon)==null?void 0:W.end}`:"-"})]})]})]},N)})})}),s.jsx(_r,{children:o&&s.jsx(je.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 overflow-hidden",children:s.jsx("div",{className:"w-80 p-6",children:s.jsx(UFe,{date:o.date,period:o.period,currentSchedule:(b=m(o.date))==null?void 0:b[o.period],onSave:w=>x(o.date,o.period,w),onDelete:(y=m(o.date))!=null&&y[o.period]?()=>g(o.date,o.period):void 0})})})})]})]})}const HFe=[{id:"1",name:"Jean Dupont",position:"Responsable Production",department:"Production",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"Site A",status:"active",hireDate:"2024-01-15"},{id:"2",name:"Marie Martin",position:"Technicienne Maintenance",department:"Maintenance",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Site B",status:"active",hireDate:"2024-02-01"}];function WFe({searchQuery:e}){const[t,r]=k.useState(null),[n,a]=k.useState(!1),i=HFe.filter(l=>l.name.toLowerCase().includes(e.toLowerCase())||l.position.toLowerCase().includes(e.toLowerCase())||l.department.toLowerCase().includes(e.toLowerCase())),o=(l,c)=>{c.stopPropagation(),r(l),a(!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(l=>s.jsx("div",{className:"bg-white/5 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-200 group",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#00D1FF]/20 rounded-full flex items-center justify-center",children:l.avatar?s.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full rounded-full"}):s.jsx("span",{className:"text-white text-lg font-medium",children:l.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),s.jsx("p",{className:"text-sm text-white/60",children:l.position})]})]}),s.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:s.jsx(sg,{size:20})})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(uo,{size:16,className:"mr-2"}),l.email]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(vs,{size:16,className:"mr-2"}),l.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(na,{size:16,className:"mr-2"}),l.location]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-white/60",children:["Embauché le ",new Date(l.hireDate).toLocaleDateString("fr-FR")]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.status==="active"?"bg-[#00D1FF]/20 text-[#00D1FF]":"bg-yellow-500/20 text-yellow-300"}`,children:l.status==="active"?"Actif":"Inactif"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:s.jsxs("button",{onClick:c=>o(l,c),className:"w-full flex items-center justify-center px-4 py-2 bg-[#00D1FF]/20 rounded-lg text-[#00D1FF] hover:bg-[#00D1FF]/30 transition-colors",children:[s.jsx(ta,{size:16,className:"mr-2"}),"Voir le planning"]})})]})},l.id))}),n&&t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>a(!1),children:s.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:s.jsx(_U,{employee:t,onClose:()=>a(!1)})})})]})}function VFe({onClose:e}){const{register:t,handleSubmit:r,formState:{errors:n}}=fm(),a=i=>{console.log(i),e()};return s.jsxs("form",{onSubmit:r(a),className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Nouvel Employé"}),s.jsx("button",{type:"button",onClick:e,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),s.jsx("input",{...t("firstName",{required:"Le prénom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.firstName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.firstName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),s.jsx("input",{...t("lastName",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.lastName&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.lastName.message})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),s.jsx("input",{type:"email",...t("email",{required:"L'email est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.email&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),s.jsx("input",{...t("phone"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Poste"}),s.jsx("input",{...t("position",{required:"Le poste est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.position&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.position.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),s.jsxs("select",{...t("department"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[s.jsx("option",{value:"production",children:"Production"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"quality",children:"Contrôle Qualité"}),s.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),s.jsx("input",{...t("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),s.jsx("input",{type:"date",...t("startDate"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Identifiant employé"}),s.jsx("input",{...t("employeeId"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),s.jsx("input",{...t("emergencyContact"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'employé"})]})]})}const qFe=[{id:"1",type:"Congés payés",startDate:"2025-03-15",endDate:"2025-03-22",status:"approved",reason:"Vacances"},{id:"2",type:"Maladie",startDate:"2025-02-10",endDate:"2025-02-12",status:"approved",reason:"Grippe"},{id:"3",type:"RTT",startDate:"2025-04-01",endDate:"2025-04-01",status:"pending",reason:"Personnel"}];function GFe({isOpen:e,onClose:t,onConfirm:r,action:n}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:n==="approve"?"Confirmer l'approbation":"Confirmer le refus"}),s.jsx("p",{className:"text-white/70 mb-6",children:n==="approve"?"Êtes-vous sûr de vouloir approuver cette demande de congé ?":"Êtes-vous sûr de vouloir refuser cette demande de congé ?"}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>r(n==="approve"),className:`px-4 py-2 rounded-lg text-white transition-colors ${n==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:n==="approve"?"Approuver":"Refuser"})]})]})}):null}function YFe({request:e,onClose:t,onValidate:r}){const[n,a]=k.useState(""),[i,o]=k.useState(null),l=c=>{r(e.id,c,n),o(null),t()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Validation de congé"}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Type"}),s.jsx("div",{className:"text-white font-medium",children:e.type})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Période"}),s.jsxs("div",{className:"text-white font-medium",children:[Kt(new Date(e.startDate),"dd/MM/yyyy")," - ",Kt(new Date(e.endDate),"dd/MM/yyyy")]})]})]}),e.reason&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Motif"}),s.jsx("div",{className:"text-white",children:e.reason})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de validation"}),s.jsx("textarea",{value:n,onChange:c=>a(c.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes optionnelles..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>o("reject"),className:"px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Refuser"}),s.jsx("button",{onClick:()=>o("approve"),className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approuver"})]})]})]})}),s.jsx(GFe,{isOpen:i!==null,onClose:()=>o(null),onConfirm:c=>l(c),action:i||"approve"})]})}function XFe(){const[e,t]=k.useState(qFe),[r,n]=k.useState(null),[a,i]=k.useState({start:"",end:""}),o=(c,u,d)=>{t(e.map(f=>f.id===c?{...f,status:u?"approved":"rejected",notes:d}:f)),n(null)},l=e.filter(c=>{if(!a.start&&!a.end)return!0;const u=new Date(c.startDate),d=a.start?new Date(a.start):null,f=a.end?new Date(a.end):null;return d&&f?u>=d&&u<=f:d?u>=d:f?u<=f:!0});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Gestion des Congés"}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle demande"]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Solde congés payés"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"15 jours"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-white/60 text-sm",children:"RTT restants"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"5 jours"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Congés pris"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"12 jours"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Congés à venir"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"7 jours"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),s.jsx("input",{type:"date",value:a.start,onChange:c=>i(u=>({...u,start:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),s.jsx("input",{type:"date",value:a.end,onChange:c=>i(u=>({...u,end:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsx("button",{onClick:()=>i({start:"",end:""}),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Réinitialiser"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsx("h3",{className:"text-lg font-medium text-white",children:"Demandes de congés"})}),s.jsx("div",{className:"divide-y divide-white/10",children:l.map(c=>s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:s.jsx(ta,{size:20,className:"text-white/60"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:c.type}),s.jsxs("div",{className:"text-sm text-white/60",children:["Du ",Kt(new Date(c.startDate),"dd/MM/yyyy",{locale:Zr})," au"," ",Kt(new Date(c.endDate),"dd/MM/yyyy",{locale:Zr})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.status==="approved"?"bg-green-500/20 text-green-300":c.status==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:c.status==="approved"?"Approuvé":c.status==="rejected"?"Refusé":"En attente"}),c.status==="pending"&&s.jsx("button",{onClick:()=>n(c.id),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Valider"})]})]}),c.reason&&s.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Motif : ",c.reason]}),c.notes&&s.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Notes : ",c.notes]})]},c.id))})]}),r&&s.jsx(YFe,{request:e.find(c=>c.id===r),onClose:()=>n(null),onValidate:o})]})}const KFe=[{id:"1",employeeName:"Jean Dupont",position:"Responsable Production",date:"2025-01-15",overallRating:4.5,status:"completed",strengths:["Leadership","Organisation","Communication"],improvements:["Délégation"],goals:["Formation équipe","Optimisation processus"],taskPerformance:{averageScore:92,tasksCompleted:45,onTimeCompletion:95,efficiencyRate:88}},{id:"2",employeeName:"Marie Martin",position:"Technicienne Maintenance",date:"2025-02-01",overallRating:4.2,status:"draft",strengths:["Expertise technique","Résolution problèmes"],improvements:["Documentation"],goals:["Certification avancée"],taskPerformance:{averageScore:87,tasksCompleted:38,onTimeCompletion:92,efficiencyRate:85}}];function QFe(){const[e,t]=k.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Évaluations de Performance"}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle évaluation"]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-6",children:KFe.map(r=>s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:r.employeeName}),s.jsx("p",{className:"text-sm text-white/60",children:r.position})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.status==="completed"?"bg-green-500/20 text-green-300":r.status==="acknowledged"?"bg-blue-500/20 text-blue-300":"bg-yellow-500/20 text-yellow-300"}`,children:r.status==="completed"?"Terminé":r.status==="acknowledged"?"Validé":"Brouillon"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Performance des tâches"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Score moyen"}),s.jsxs("div",{className:`text-xl font-bold ${r.taskPerformance.averageScore>=90?"text-green-400":r.taskPerformance.averageScore>=80?"text-yellow-400":"text-red-400"}`,children:[r.taskPerformance.averageScore,"%"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Tâches complétées"}),s.jsx("div",{className:"text-xl font-bold text-white",children:r.taskPerformance.tasksCompleted})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Respect des délais"}),s.jsxs("div",{className:"text-xl font-bold text-green-400",children:[r.taskPerformance.onTimeCompletion,"%"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Taux d'efficacité"}),s.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[r.taskPerformance.efficiencyRate,"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2,3,4,5].map(n=>s.jsx(co,{size:20,className:n<=r.overallRating?"text-yellow-400 fill-current":"text-white/20"},n)),s.jsxs("span",{className:"text-white/60 text-sm ml-2",children:[r.overallRating,"/5"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Points forts"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.strengths.map((n,a)=>s.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:n},a))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Axes d'amélioration"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.improvements.map((n,a)=>s.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm",children:n},a))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Objectifs"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.goals.map((n,a)=>s.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:n},a))})]})]})]},r.id))})]})}const JFe={id:"default",name:"Planning Global"};function ZFe(){const[e,t]=CV(),[r,n]=k.useState(()=>e.get("tab")||"employees"),[a,i]=k.useState(!1),[o,l]=k.useState("");k.useEffect(()=>{const u=e.get("tab");u&&u!==r&&n(u)},[e]);const c=u=>{n(u),t({tab:u})};return s.jsxs(je.div,{initial:"hidden",animate:"visible",className:"space-y-6 mt-12",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:s.jsx(xs,{size:28,className:"text-white"})})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion RH"})]}),r==="employees"&&s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(gr,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-cyan-400",children:"Nouvel Employé"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[s.jsxs("button",{onClick:()=>c("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="employees"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(xs,{size:16}),s.jsx("span",{children:"Employés"})]}),s.jsxs("button",{onClick:()=>c("schedule"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="schedule"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(ta,{size:16}),s.jsx("span",{children:"Planning"})]}),s.jsxs("button",{onClick:()=>c("leave"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="leave"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(ta,{size:16}),s.jsx("span",{children:"Congés"})]}),s.jsxs("button",{onClick:()=>c("performance"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="performance"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s.jsx(co,{size:16}),s.jsx("span",{children:"Évaluations"})]})]}),r==="employees"&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xa,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"26%"},"aria-label":"Search icon"}),s.jsx("input",{type:"text",value:o,onChange:u=>l(u.target.value),placeholder:"Rechercher un employé...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(qi,{size:20,className:"text-cyan-400"}),s.jsx("span",{className:"text-cyan-400",children:"Filtres"})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(VFe,{onClose:()=>i(!1)})})}),r==="employees"&&s.jsx(WFe,{searchQuery:o}),r==="leave"&&s.jsx(XFe,{}),r==="performance"&&s.jsx(QFe,{}),r==="schedule"&&s.jsx(_U,{employee:JFe,onClose:()=>c("employees")})]})}const eRe=[{id:"1",name:"Réparation Marine Pro",location:"Bouzigues, France",skills:["Réparateur de Bateau","Maintenance"],contact:{email:"contact@rmp.fr",phone:"05 46 12 34 56",website:"www.rmp.fr"},rating:4.8,certifications:["Certification Marine","Expert Agréé"],isVerified:!0,description:"Spécialiste de la réparation et maintenance de bateaux professionnels"},{id:"2",name:"Transport Maritime Express",location:"Marennes, France",skills:["Transport","Logistique"],contact:{email:"info@tme.fr",phone:"05 46 23 45 67"},rating:4.5,certifications:["Transport Maritime"],isVerified:!1,description:"Transport maritime professionnel"}];function tRe({searchQuery:e,selectedSkill:t}){const[r,n]=k.useState(null),a=eRe.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.location.toLowerCase().includes(e.toLowerCase())||i.skills.some(o=>o.toLowerCase().includes(e.toLowerCase()))).filter(i=>!t||i.skills.includes(t)).sort((i,o)=>i.isVerified!==o.isVerified?o.isVerified?1:-1:o.rating-i.rating);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-2",children:a.map(i=>s.jsx("div",{onClick:()=>n(i),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:i.name}),i.isVerified&&s.jsx("span",{className:"text-brand-primary",children:s.jsx(MN,{size:20})})]}),s.jsxs("div",{className:"flex items-center mt-1 space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(na,{size:14,className:"mr-1"}),i.location]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(co,{size:14,className:"mr-1 text-brand-primary"}),i.rating]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.skills.map((o,l)=>s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:o},l))})]}),s.jsx(Fo,{size:20,className:"text-white/20 group-hover:text-white/60 transition-colors"})]})},i.id))}),r&&s.jsx(Gi,{isOpen:!0,onClose:()=>n(null),title:r.name,size:"xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center text-white/70",children:[s.jsx(na,{size:20,className:"mr-3"}),r.location]}),s.jsxs("div",{className:"flex items-center text-white/70",children:[s.jsx(uo,{size:20,className:"mr-3"}),r.contact.email]}),s.jsxs("div",{className:"flex items-center text-white/70",children:[s.jsx(vs,{size:20,className:"mr-3"}),r.contact.phone]}),r.contact.website&&s.jsxs("div",{className:"flex items-center text-white/70",children:[s.jsx(df,{size:20,className:"mr-3"}),r.contact.website]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Certifications"}),s.jsx("div",{className:"space-y-2",children:r.certifications.map((i,o)=>s.jsxs("div",{className:"flex items-center px-3 py-2 bg-brand-primary/20 text-brand-primary rounded-lg",children:[s.jsx(MN,{size:16,className:"mr-2"}),i]},o))})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"À propos"}),s.jsx("p",{className:"text-white/70",children:r.description})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[s.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),s.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Contacter"})]})]})})]})}const rRe=[{id:"1",title:"Gestion de la mortalité hivernale",content:"Quelles sont vos techniques pour minimiser la mortalité pendant l'hiver ?",category:"Production",author:{name:"Jean Dupont"},postedAt:"2025-02-19T10:00:00",likes:15,views:234,replies:8,tags:["Mortalité","Hiver","Techniques"]},{id:"2",title:"Nouvelle réglementation sanitaire",content:"Discussion sur les impacts de la nouvelle réglementation sanitaire",category:"Réglementation",author:{name:"Marie Martin"},postedAt:"2025-02-19T09:00:00",likes:23,views:567,replies:12,tags:["Réglementation","Sanitaire"]}];function nRe({searchQuery:e}){const t=rRe.filter(r=>r.title.toLowerCase().includes(e.toLowerCase())||r.content.toLowerCase().includes(e.toLowerCase())||r.tags.some(n=>n.toLowerCase().includes(e.toLowerCase())));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"256"}),s.jsx("div",{className:"text-sm text-white/60",children:"Discussions"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"1,234"}),s.jsx("div",{className:"text-sm text-white/60",children:"Messages"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"89"}),s.jsx("div",{className:"text-sm text-white/60",children:"Membres actifs"})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"15"}),s.jsx("div",{className:"text-sm text-white/60",children:"Nouveaux aujourd'hui"})]})]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:t.map((r,n)=>s.jsx("div",{className:`p-6 ${n<t.length-1?"border-b border-white/10":""}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center flex-shrink-0",children:r.author.avatar?s.jsx("img",{src:r.author.avatar,alt:r.author.name,className:"w-full h-full rounded-full"}):s.jsx(pf,{size:20,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:r.title}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsx("span",{className:"text-sm text-white/60",children:r.author.name}),s.jsx("span",{className:"text-sm text-white/60",children:new Date(r.postedAt).toLocaleDateString("fr-FR")}),s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(BM,{size:16,className:"mr-1"}),r.likes]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(qc,{size:16,className:"mr-1"}),r.views]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(pc,{size:16,className:"mr-1"}),r.replies]})]})]}),s.jsx("p",{className:"mt-4 text-white/70",children:r.content}),s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.tags.map((a,i)=>s.jsxs("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["#",a]},i))})]})]})},r.id))})]})}const aRe=[{id:"1",author:{name:"Jean Dupont",company:"Huîtres Dupont & Fils"},content:"Nouvelle livraison d'huîtres plates de qualité exceptionnelle disponible. N'hésitez pas à me contacter pour plus d'informations.",timestamp:"2025-02-19T10:30:00",likes:15,comments:3,shares:2,visibility:"public"},{id:"2",author:{name:"Marie Martin",company:"Ostréiculture Martin"},content:"Recherche fournisseur de poches d'élevage pour livraison urgente. Merci de me contacter en MP.",timestamp:"2025-02-19T09:15:00",likes:8,comments:5,shares:1,visibility:"network"}],iRe={public:df,network:xs,private:t1};function sRe(){const[e,t]=K.useState(null);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:"M"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{placeholder:"Partagez une actualité...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:s.jsx(df,{size:20})}),s.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm",children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"network",children:"Mon réseau"}),s.jsx("option",{value:"private",children:"Privé"})]})]}),s.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Publier"})]})]})]})}),s.jsx("div",{className:"space-y-6",children:aRe.map(r=>{const n=iRe[r.visibility];return s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:r.author.name.charAt(0)})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-white font-medium",children:r.author.name}),s.jsx("span",{className:"text-white/40",children:"•"}),s.jsx("span",{className:"text-white/60",children:r.author.company})]}),s.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/40",children:[s.jsx(n,{size:14,className:"mr-1"}),new Date(r.timestamp).toLocaleString()]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>t(e===r.id?null:r.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(sg,{size:20,className:"text-white/60"})}),e===r.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[s.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Signaler"}),s.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Masquer"})]})]})]}),s.jsx("p",{className:"mt-4 text-white/80",children:r.content}),s.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-white/10",children:[s.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[s.jsx(BM,{size:20,className:"mr-2"}),r.likes]}),s.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[s.jsx(pc,{size:20,className:"mr-2"}),r.comments]}),s.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[s.jsx(EV,{size:20,className:"mr-2"}),r.shares]})]})]})},r.id)})})]})}const oRe=[{id:"1",name:"Jean Dupont",company:"Huîtres Dupont & Fils",position:"Directeur Commercial",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"La Rochelle",status:"online",favorite:!0,tags:["Fournisseur","Huîtres"]},{id:"2",name:"Marie Martin",company:"Ostréiculture Martin",position:"Responsable Production",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Marennes",status:"offline",lastActive:"2025-02-19T09:15:00",favorite:!1,tags:["Client","Production"]}];function lRe({searchQuery:e,onSelectContact:t}){const[r,n]=K.useState(null),a=oRe.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.company.toLowerCase().includes(e.toLowerCase())||i.tags.some(o=>o.toLowerCase().includes(e.toLowerCase())));return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(i=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-colors",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-burgundy rounded-full flex items-center justify-center",children:i.avatar?s.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full rounded-full"}):s.jsx(pf,{size:24,className:"text-white"})}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-brand-dark ${i.status==="online"?"bg-green-500":i.status==="away"?"bg-yellow-500":"bg-gray-500"}`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:i.name}),s.jsx("p",{className:"text-sm text-white/60",children:i.position}),s.jsx("p",{className:"text-sm text-white/40",children:i.company})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>n(r===i.id?null:i.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(sg,{size:20,className:"text-white/60"})}),r===i.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[s.jsxs("button",{onClick:()=>t(i.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(pc,{size:16,className:"mr-2"}),"Message"]}),s.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(co,{size:16,className:"mr-2"}),i.favorite?"Retirer des favoris":"Ajouter aux favoris"]})]})]})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(uo,{size:16,className:"mr-2"}),i.email]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(vs,{size:16,className:"mr-2"}),i.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(na,{size:16,className:"mr-2"}),i.location]})]}),i.tags.length>0&&s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:i.tags.map((o,l)=>s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:o},l))}),s.jsxs("div",{className:"mt-6 flex space-x-3",children:[s.jsx("button",{onClick:()=>t(i.id),className:"flex-1 px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Message"}),s.jsx("button",{className:"px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Profil"})]})]})},i.id))})}const cE=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}],cN={1:[{id:"1",content:"Bonjour, comment allez-vous ?",sender:"Jean Dupont",timestamp:"10:00",isMe:!1},{id:"2",content:"Très bien, merci ! Et vous ?",sender:"Moi",timestamp:"10:15",isMe:!0},{id:"3",content:"Parfait, merci !",sender:"Jean Dupont",timestamp:"10:30",isMe:!1}],2:[{id:"1",content:"Hey, on se voit demain ?",sender:"Marie Martin",timestamp:"09:15",isMe:!1}],3:[{id:"1",content:"Bonjour, pouvez-vous me donner les prix pour vos services ?",sender:"Pierre Durand",timestamp:"Hier",isMe:!1}],4:[{id:"1",content:"Je vous envoie les documents demandés en pièce jointe.",sender:"Sophie Dubois",timestamp:"Lun",isMe:!1}],5:[{id:"1",content:"Merci pour votre réponse rapide !",sender:"Luc Moreau",timestamp:"23/02",isMe:!1}]},cRe=e=>cE.find(t=>t.id===e);function NU({contactId:e,onClose:t}){const[r,n]=k.useState("");k.useState("");const a=K.useRef(null),[i,o]=k.useState(e),l=()=>{var f;(f=a.current)==null||f.scrollIntoView({behavior:"smooth"})};K.useEffect(()=>{l()},[cN[i]]),K.useEffect(()=>{o(e)},[e]);const c=f=>{f.preventDefault(),r.trim()&&(console.log("Message envoyé:",r),n(""))},u=f=>{o(f)},d=cRe(i);return s.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[s.jsx("div",{className:"hidden md:block w-80 border-r border-white/10",children:s.jsx("div",{className:"divide-y divide-white/10",children:cE.map(f=>s.jsx("div",{onClick:()=>u(f.id),className:`p-4 hover:bg-white/5 cursor-pointer transition-colors ${f.id===i?"bg-white/5":""}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:f.name.charAt(0)})}),f.online&&s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-brand-dark"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-white font-medium truncate",children:f.name}),f.lastMessageTime&&s.jsx("span",{className:"text-xs text-white/40",children:f.lastMessageTime})]}),f.lastMessage&&s.jsx("p",{className:"text-sm text-white/60 truncate",children:f.lastMessage})]}),f.unreadCount&&f.unreadCount>0&&s.jsx("div",{className:"w-5 h-5 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white",children:f.unreadCount})})]})},f.id))})}),s.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[s.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[s.jsx("button",{onClick:t,className:"p-1.5 md:p-2 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors","aria-label":"Retour à la liste des contacts",children:s.jsx(pb,{size:18,className:"md:w-5 md:h-5"})}),s.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:(d==null?void 0:d.name.charAt(0))||"?"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-medium text-sm md:text-base",children:(d==null?void 0:d.name)||"Contact"}),s.jsx("p",{className:"text-xs md:text-sm text-green-400",children:d!=null&&d.online?"En ligne":"Hors ligne"})]})]})})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[cN[i]?cN[i].map(f=>s.jsx("div",{className:`flex ${f.isMe?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg p-2 md:p-3 ${f.isMe?"bg-brand-burgundy text-white":"bg-white/5 text-white"}`,children:[s.jsx("p",{className:"text-sm md:text-base",children:f.content}),s.jsx("div",{className:`text-[10px] md:text-xs mt-1 ${f.isMe?"text-white/60":"text-white/40"}`,children:f.timestamp})]})},f.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[s.jsx(pc,{size:36,className:"mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Aucun message disponible"})]}),s.jsx("div",{ref:a})]}),s.jsx("form",{onSubmit:c,className:"p-3 md:p-4 border-t border-white/10",children:s.jsxs("div",{className:"flex space-x-2 md:space-x-4",children:[s.jsxs("div",{className:"flex-1 relative flex",children:[s.jsx("textarea",{value:r,onChange:f=>n(f.target.value),placeholder:"Écrivez votre message...",className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/5 border border-white/10 rounded-lg text-white text-sm md:text-base placeholder-white/40 resize-none h-full min-h-[40px] md:min-h-[46px]",rows:1}),s.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 md:right-3 flex items-center space-x-1 md:space-x-2",children:[s.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:s.jsx(kV,{size:16,className:"md:w-5 md:h-5"})}),s.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:s.jsx($M,{size:16,className:"md:w-5 md:h-5"})}),s.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:s.jsx(TV,{size:16,className:"md:w-5 md:h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:!r.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center self-stretch min-h-[40px] md:min-h-[46px]",children:s.jsx(fw,{size:18,className:"md:w-5 md:h-5"})})]})})]})]})}function uRe({onClose:e,type:t}){const r=()=>{switch(t){case"directory":return"Mettre à jour mon profil";case"marketplace":return"Nouvelle annonce";case"forum":return"Nouvelle discussion";default:return""}};return s.jsx(Gi,{isOpen:!0,onClose:e,title:r(),size:"xl",children:s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Titre"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Titre de votre publication..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Contenu de votre publication..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Tags"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des tags séparés par des virgules..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Publier"})]})]})})}function dRe({onClose:e}){const[t,r]=k.useState(""),[n,a]=k.useState(null),[i,o]=k.useState(!1),l=async c=>{c.preventDefault(),a(null),o(!0);try{if(!mI(t))throw new Error("Format de code invalide");await new Promise(u=>setTimeout(u,1e3)),e()}catch(u){a(u instanceof Error?u.message:"Une erreur est survenue")}finally{o(!1)}};return s.jsx(Gi,{isOpen:!0,onClose:e,title:"Ajouter un contact",size:"md",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/20 rounded-full flex items-center justify-center",children:s.jsx(xs,{size:32,className:"text-brand-burgundy"})})}),s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Code ami"}),s.jsx("input",{type:"text",value:t,onChange:c=>{const u=fRe(c.target.value);r(u),a(null)},placeholder:"XXXX-XXXX-XXXX",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-center font-mono text-xl tracking-wider",maxLength:14}),s.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Entrez le code ami de la personne que vous souhaitez ajouter"})]}),n&&s.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-center text-red-400",children:[s.jsx(Ka,{size:20,className:"mr-2"}),n]})}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:!mI(t)||i,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Recherche...":"Ajouter"})]})]}),s.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment obtenir un code ami ?"}),s.jsx("p",{className:"text-sm text-white/60",children:"Chaque utilisateur dispose d'un code ami unique disponible dans son profil. Demandez à votre contact de partager son code avec vous pour l'ajouter à votre réseau."})]})]})})}function fRe(e){return(e.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-")}function mI(e){return/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(e)}function hRe(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="";for(let n=0;n<8;n++){const a=Math.floor(Math.random()*e.length);r+=e[a]}return r}const Wu=[{id:"HBC",name:"Huîtres Bouzigues.com",email:"contact@huitres-bouzigues.com",phone:"04 67 43 XX XX",address:"Zone Conchylicole, 34140 Bouzigues",friend_code:"HBC34BZ",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"EW",name:"ERWEMA",email:"contact@erwema.fr",phone:"04 67 46 XX XX",address:"Port de pêche, 34200 Sète",friend_code:"EW34SE",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"CDB",name:"Société CDB",email:"contact@societe-cdb.fr",phone:"02 97 56 XX XX",address:"Zone Conchylicole, 56950 Crac'h",friend_code:"CDB56CR",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"TB",name:"Tarbouriech",email:"contact@tarbouriech.fr",phone:"04 67 77 XX XX",address:"Lagune de Thau, 34340 Marseillan",friend_code:"TB34MA",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],pRe={HBC:[{id:"1",supplier_id:"HBC",name:"Huîtres Spéciales N°3",description:"Huîtres charnues de qualité supérieure, affinées en claire pendant 2 mois minimum",price:8.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:450,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",supplier_id:"HBC",name:"Huîtres Fines de Claire N°2",description:"Huîtres raffinées, affinées en claire pendant 3 semaines minimum",price:9.5,unit:"douzaine",category:"Fines de Claire",image:"/placeholder.jpg",available:!0,stock:300,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],EW:[{id:"3",supplier_id:"EW",name:"Huîtres Spéciales N°2",description:"Huîtres de qualité supérieure",price:10.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:200,minOrder:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],CDB:[{id:"4",supplier_id:"CDB",name:"Huîtres Plates de Belon",description:"Huîtres plates de Belon, goût unique et iodé",price:14.5,unit:"douzaine",category:"Plates",image:"/placeholder.jpg",available:!0,stock:150,minOrder:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],TB:[{id:"5",supplier_id:"TB",name:"Huîtres Label Rouge",description:"Huîtres labellisées Label Rouge, qualité supérieure garantie",price:12,unit:"douzaine",category:"Label Rouge",image:"/placeholder.jpg",available:!0,stock:400,minOrder:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]};function D5(){const e=zM(),{data:t=Wu,isLoading:r}=TS({queryKey:["suppliers"],queryFn:async()=>Wu}),n=kx({mutationFn:async o=>{const l=hRe(),c={...o,friend_code:l,is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return Wu.push({...c,id:String(Wu.length+1)}),c},onSuccess:()=>{e.invalidateQueries({queryKey:["suppliers"]})}}),a=kx({mutationFn:async o=>{const l=Wu.findIndex(c=>c.id===o.id);return l!==-1&&o.deleted!==void 0&&(Wu[l]={...Wu[l],deleted:o.deleted,updated_at:new Date().toISOString()}),Wu[l]},onSuccess:()=>{e.invalidateQueries({queryKey:["suppliers"]})}});return{suppliers:t,isLoading:r,createSupplier:n,updateSupplier:a,getSupplierProducts:async o=>pRe[o]||[]}}function Jj({children:e,variant:t="default",className:r="",...n}){const a="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",i={default:"bg-[rgb(var(--color-brand-muted))] text-[rgb(var(--color-text-primary))]",success:"bg-green-500/10 text-green-500",warning:"bg-yellow-500/10 text-yellow-500",error:"bg-red-500/10 text-red-500"};return s.jsx("div",{className:`${a} ${i[t]} ${r}`,...n,children:e})}function mRe(){const{suppliers:e}=D5(),t=e.filter(r=>r.is_friend);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Fournisseurs Partenaires"}),s.jsxs(Jj,{variant:"outline",className:"text-[rgb(var(--color-brand-primary))]",children:[t.length," partenaires"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(r=>s.jsx("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:r.name}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[s.jsx(OS,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-sm font-mono",children:r.friend_code})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[s.jsx(uo,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-sm truncate",children:r.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[s.jsx(vs,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-sm",children:r.phone})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[s.jsx(na,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-sm truncate",children:r.address})]})]})]})},r.id))})]})}function xRe({messageView:e=!1,activeTab:t}){const r=Hp(),n=Is(),[a,i]=k.useState(t||e?"messages":"feed"),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState("");k.useState(null);const[h,p]=k.useState(null),[m,x]=k.useState(window.innerWidth<=768),{unreadCount:g}=Yo();return k.useEffect(()=>{var v;(v=r.state)!=null&&v.activeTab&&i(r.state.activeTab)},[r.state]),k.useEffect(()=>{t?i(t):e&&i("messages")},[e,t]),k.useEffect(()=>{r.pathname==="/network/messages"&&a!=="messages"&&i("messages")},[r.pathname,a]),k.useEffect(()=>{const v=()=>{x(window.innerWidth<=768)};return window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[]),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:s.jsx(xs,{size:28,className:"text-cyan-400"})})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Entre Pro"})]}),s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(OV,{size:20}),"Ajouter un contact"]}),a==="feed"&&s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(gr,{size:20}),"Nouvelle publication"]})]})}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10 mb-6",children:[s.jsxs("button",{onClick:()=>i("feed"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="feed"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="feed"?"page":void 0,children:[s.jsx(PV,{size:16}),"Fil d'actualités"]}),s.jsxs("button",{onClick:()=>i("contacts"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="contacts"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="contacts"?"page":void 0,children:[s.jsx(xs,{size:16}),"Contacts"]}),s.jsxs("button",{onClick:()=>i("directory"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="directory"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="directory"?"page":void 0,children:[s.jsx(df,{size:16}),"Annuaire Prestataires"]}),s.jsxs("button",{onClick:()=>i("forum"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="forum"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="forum"?"page":void 0,children:[s.jsx(pc,{size:16}),"Forum"]}),s.jsxs("button",{onClick:()=>{i("messages"),n("/network/messages",{replace:!0})},className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 relative ${a==="messages"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="messages"?"page":void 0,children:[s.jsx(DV,{size:16}),"Messagerie",g>0&&s.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-cyan-400 to-blue-500 flex items-center justify-center text-xs font-medium text-white shadow-lg",children:g})]}),s.jsxs("button",{onClick:()=>i("suppliers"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="suppliers"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="suppliers"?"page":void 0,children:[s.jsx(xs,{size:16}),"Fournisseurs Amis"]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xa,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"30%",zIndex:1},"aria-label":"Search icon"}),s.jsx("input",{type:"text",value:d,onChange:v=>f(v.target.value),placeholder:"Rechercher...",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx(qi,{size:18}),"Filtres"]}),s.jsxs("button",{className:"relative p-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx(Vp,{size:18,className:"text-cyan-400"}),g>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-cyan-500 rounded-full flex items-center justify-center text-xs font-bold shadow-[0_0_10px_rgba(0,210,200,0.5)]",children:g})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a==="feed"&&s.jsx(sRe,{}),a==="contacts"&&s.jsx(lRe,{searchQuery:d,onSelectContact:v=>{p(v),i("messages")}}),a==="messages"&&s.jsx(NU,{contactId:h,onClose:()=>p(null)}),a==="directory"&&s.jsx(tRe,{searchQuery:d,selectedSkill:null}),a==="forum"&&s.jsx(nRe,{searchQuery:d}),a==="suppliers"&&s.jsx(mRe,{})]}),o&&s.jsx(uRe,{onClose:()=>l(!1),type:"forum"}),c&&s.jsx(dRe,{onClose:()=>u(!1)})]})}const gRe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Vu={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function vRe(){const{companyInfo:e,setCompanyInfo:t}=Yo(),[r,n]=k.useState({name:(e==null?void 0:e.name)||"",siret:(e==null?void 0:e.siret)||"",logo:(e==null?void 0:e.logo)||"",description:(e==null?void 0:e.description)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",website:(e==null?void 0:e.website)||""});k.useEffect(()=>{e&&n({name:e.name,siret:e.siret,logo:e.logo||"",description:e.description||"",email:e.email,phone:e.phone,address:e.address,website:e.website||""})},[e]);const a=o=>{const{name:l,value:c}=o.target;n(u=>({...u,[l]:c}))},i=o=>{o.preventDefault(),t(r),jh.success("Informations de l'entreprise enregistrées avec succès")};return s.jsxs(je.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:gRe,children:[s.jsxs(je.div,{variants:Vu,children:[s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mb-2",children:"Informations de l'entreprise"}),s.jsx("p",{className:"text-white/60 mb-6",children:"Gérez les informations principales de votre entreprise"})]}),s.jsxs("form",{className:"space-y-6",onSubmit:i,children:[s.jsxs(je.div,{className:"grid grid-cols-2 gap-6",variants:Vu,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"name",children:"Nom de l'entreprise"}),s.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:a,className:"config-input",placeholder:"Oyster Cult Enterprise",required:!0,"aria-required":"true"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"siret",children:"Numéro SIRET"}),s.jsx("input",{type:"text",id:"siret",name:"siret",value:r.siret,onChange:a,className:"config-input",placeholder:"123 456 789 00012",required:!0,"aria-required":"true"})]})]}),s.jsxs(je.div,{variants:Vu,children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"logo",children:"Logo de l'entreprise"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-white/10 border-dashed rounded-xl transition-all duration-200 hover:border-white/30 group config-container",children:s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx(Ho,{className:"mx-auto h-12 w-12 text-white/40 group-hover:text-white/60 transition-colors duration-200"}),s.jsxs("div",{className:"flex text-sm text-white/60",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-white hover:text-white/80 focus-within:outline-none focus-within:ring-2 focus-within:ring-white/20 transition-colors duration-200",children:[s.jsx("span",{children:"Télécharger un fichier"}),s.jsx("input",{id:"file-upload",name:"logo",type:"file",className:"sr-only",onChange:o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];l&&n(u=>({...u,logo:l.name}))},accept:"image/*"})]}),s.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),s.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG, GIF jusqu'à 10MB"})]})})]}),s.jsxs(je.div,{variants:Vu,children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"description",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:a,className:"config-input",placeholder:"Une brève description de votre entreprise...",rows:4})]}),s.jsxs(je.div,{className:"grid grid-cols-2 gap-6",variants:Vu,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(uo,{className:"absolute left-3 top-[30%] transform -translate-y-1/2 text-white/40",size:20,"aria-label":"Email icon"}),s.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:a,className:"pl-10 config-input",placeholder:"contact@oystercult.com",required:!0,"aria-required":"true"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"phone",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(vs,{"aria-label":"Phone icon",className:"absolute left-3 top-[30%] transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:a,className:"pl-10 config-input",placeholder:"+33 1 23 45 67 89",required:!0,"aria-required":"true"})]})]})]}),s.jsxs(je.div,{variants:Vu,children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"address",children:"Adresse"}),s.jsxs("div",{className:"relative",children:[s.jsx(na,{"aria-label":"Map pin icon",className:"absolute left-3 top-[28%] transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:a,className:"pl-10 config-input",placeholder:"123 rue de la Mer, 75001 Paris",required:!0,"aria-required":"true"})]})]}),s.jsxs(je.div,{variants:Vu,children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"website",children:"Site web"}),s.jsxs("div",{className:"relative",children:[s.jsx(df,{"aria-label":"Globe icon",className:"absolute left-3 top-[28%] transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"url",id:"website",name:"website",value:r.website,onChange:a,className:"pl-10 config-input",placeholder:"https://www.oystercult.com"})]})]}),s.jsx(je.div,{className:"flex justify-end",variants:Vu,children:s.jsx("button",{type:"submit",className:"config-button bg-white/10 text-white hover:bg-white/15",children:"Enregistrer les modifications"})})]})]})}const k2={firstName:"",lastName:"",email:"",phone:"",position:"",department:"production",location:"",startDate:"",employeeId:"",emergencyContact:"",role:"1"},bRe=[{id:"1",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:["all"],users:[]},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches",permissions:["read:all","write:tasks","manage:users"],users:[]},{id:"3",name:"Opérateur",description:"Exécution des tâches quotidiennes",permissions:["read:tasks","write:tasks"],users:[]},{id:"4",name:"Comptable",description:"Gestion de la comptabilité et des finances",permissions:["read:sales","write:sales","read:purchases","write:purchases","read:inventory","read:reports"],users:[]}];function yRe(){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let r="";for(let n=0;n<12;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}const xI={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},gI={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}},vI={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.9,transition:{duration:.2}}};function wRe(){const{addUser:e,deleteUser:t,updateUser:r,users:n}=Yo(),[a,i]=k.useState(!1),[o,l]=k.useState(null);k.useState(null);const[c,u]=k.useState(null),[d,f]=k.useState(k2),[h,p]=k.useState({}),m=S=>{l(S);const j={firstName:S.firstName,lastName:S.lastName,email:S.email,phone:S.phone,position:S.position,department:S.department,location:S.location,startDate:S.startDate,employeeId:S.employeeId,emergencyContact:S.emergencyContact,role:S.role};f(j),i(!0)},x=()=>{const S={};return d.firstName||(S.firstName="Le prénom est requis"),d.lastName||(S.lastName="Le nom est requis"),d.email||(S.email="L'email est requis"),d.phone||(S.phone="Le téléphone est requis"),d.position||(S.position="Le poste est requis"),d.employeeId||(S.employeeId="L'ID employé est requis"),p(S),Object.keys(S).length===0},g=async S=>{if(S.preventDefault(),!x())return;const j=yRe();try{const A={...d,password:j};await e(A),jh.success("Utilisateur ajouté avec succès"),f(k2),i(!1)}catch{jh.error("Erreur lors de l'ajout de l'utilisateur")}},v=async S=>{if(S.preventDefault(),!(!(o!=null&&o.id)||!x()))try{await r(o.id,d),jh.success("Utilisateur modifié avec succès"),l(null),f(k2),i(!1)}catch{jh.error("Erreur lors de la modification de l'utilisateur")}},b=S=>{const{name:j,value:A}=S.target;if(f(T=>({...T,[j]:A})),h[j]){const T={...h};delete T[j],p(T)}},y=()=>{i(!1),l(null),f(k2),p({})},w=S=>{S.preventDefault();const j={};d.firstName||(j.firstName="Le prénom est obligatoire"),d.lastName||(j.lastName="Le nom est obligatoire"),d.email||(j.email="L'email est obligatoire"),d.phone||(j.phone="Le téléphone est obligatoire"),d.position||(j.position="Le rôle est obligatoire"),d.startDate||(j.startDate="La date de début est obligatoire"),p(j),Object.keys(j).length===0&&g(S)},N=S=>{t(S),u(null),jh.success("Utilisateur supprimé avec succès")};return s.jsxs(je.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:xI,children:[s.jsxs(je.div,{variants:gI,className:"flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),s.jsx(X2,{size:24,className:"text-[#00D1FF] relative z-10"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Rôles & Permissions"}),s.jsx("p",{className:"text-white/60",children:"Gérez les rôles et les permissions des utilisateurs"})]})]}),s.jsxs(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:[s.jsx(gr,{size:20,className:"inline-block mr-2"}),"Ajouter un utilisateur"]})]}),s.jsx(je.div,{className:"grid grid-cols-1 gap-6",variants:xI,children:bRe.map(S=>s.jsx(je.div,{variants:gI,className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 10px 20px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#00D1FF]/10 flex items-center justify-center",children:s.jsx(X2,{size:24,className:"text-[#00D1FF]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent mb-1",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:S.name}),s.jsx("p",{className:"text-white/60",children:S.description}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("h4",{className:"text-lg font-medium text-white/80",children:"Utilisateurs"}),s.jsx("div",{className:"space-y-3",children:n.filter(j=>j.role===S.id).map(j=>s.jsx(je.div,{className:"bg-white/5 rounded-xl p-4 group hover:bg-white/10 transition-all duration-200",whileHover:{scale:1.02},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-white font-medium",children:[j.firstName," ",j.lastName]}),s.jsx("div",{className:"text-sm text-white/60 mt-1",children:j.position})]}),s.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[s.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(j),className:"p-2 hover:bg-[#00D1FF]/10 rounded-lg transition-colors",children:s.jsx(Os,{size:16,className:"text-[#00D1FF]"})}),s.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(j.id),className:"p-2 hover:bg-red-500/10 rounded-lg transition-colors",children:s.jsx(Ci,{size:16,className:"text-red-400"})})]})]})},j.id))})]})]})]})})},S.id))}),s.jsx(_r,{children:(a||o)&&s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx(je.div,{variants:vI,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-xl rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-6",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:o?"Modifier l'utilisateur":"Nouvel utilisateur"}),s.jsxs("form",{className:"space-y-6",onSubmit:o?v:w,children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Prénom"}),s.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:b,className:`w-full px-4 py-3 bg-white/5 border ${h.firstName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),h.firstName&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-1"}),h.firstName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom"}),s.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:b,className:`w-full px-4 py-3 bg-white/5 border ${h.lastName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),h.lastName&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-1"}),h.lastName]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"email",name:"email",value:d.email,onChange:b,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.email?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.email&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-1"}),h.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:b,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.phone?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.phone&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-1"}),h.phone]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Rôle"}),s.jsxs("div",{className:"relative",children:[s.jsx(X2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsxs("select",{name:"position",value:d.position,onChange:b,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.position?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none appearance-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0,children:[s.jsx("option",{value:"",children:"Sélectionner un rôle"}),s.jsx("option",{value:"manageur",children:"Manageur"}),s.jsx("option",{value:"operateur",children:"Opérateur"}),s.jsx("option",{value:"comptable_full",children:"Comptable Tout accès"}),s.jsx("option",{value:"comptable",children:"Comptable"})]})]}),h.position&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-1"}),h.position]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Date de début"}),s.jsxs("div",{className:"relative",children:[s.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),s.jsx("input",{type:"date",name:"startDate",value:d.startDate,onChange:b,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.startDate?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.startDate&&s.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[s.jsx(Oa,{size:16,className:"mr-1"}),h.startDate]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[s.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:y,className:"px-6 py-3 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),s.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:o?"Mettre à jour":"Ajouter"})]})]})]})})})}),s.jsx(_r,{children:c&&s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx(je.div,{variants:vI,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer la suppression"}),s.jsx("p",{className:"text-white/70 mb-6",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),s.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c&&N(c),className:"px-4 py-2 bg-red-500/80 hover:bg-red-500 text-white rounded-xl transition-colors",children:"Supprimer"})]})]})})})})]})}const _Re=[{id:"1",name:"Huîtres Plates",category:"Huîtres",description:"Huîtres plates de qualité supérieure",sizes:["2","3","4"],unit:"douzaine",minStock:100,maxStock:1e3},{id:"2",name:"Huîtres Creuses",category:"Huîtres",description:"Huîtres creuses standard",sizes:["2","3","4","5"],unit:"douzaine",minStock:200,maxStock:2e3}];function NRe(){const[e,t]=k.useState(!1),[r,n]=k.useState(null),[a,i]=k.useState(null),[o,l]=k.useState(_Re),c=f=>{n(f),t(!0)},u=f=>{l(o.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(o.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...o,h])}t(!1),n(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuration des Produits"}),s.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Nouveau produit"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(f=>s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:s.jsx(jn,{size:20,className:"text-brand-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:f.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Os,{size:20,className:"text-white/60"})}),s.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Ci,{size:20,className:"text-white/60"})})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Calibres disponibles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.sizes.map(h=>s.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["N°",h]},h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Gestion du stock"}),s.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[s.jsxs("div",{children:["Stock minimum: ",f.minStock," ",f.unit,"s"]}),s.jsxs("div",{children:["Stock maximum: ",f.maxStock," ",f.unit,"s"]})]})]})]})]},f.id))}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le produit":"Nouveau produit"}),s.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p=Object.fromEntries(h.entries());d(p)},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),s.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Huîtres Plates",defaultValue:r==null?void 0:r.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),s.jsxs("select",{name:"category",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.category,required:!0,children:[s.jsx("option",{value:"huitres",children:"Huîtres"}),s.jsx("option",{value:"materiels",children:"Matériels"}),s.jsx("option",{value:"emballages",children:"Emballages"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description du produit...",defaultValue:r==null?void 0:r.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Calibres disponibles"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4","5"].map(f=>s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",name:"sizes",value:f,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.sizes.includes(f)}),s.jsxs("span",{className:"text-white",children:["N°",f]})]},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),s.jsxs("select",{name:"unit",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.unit,required:!0,children:[s.jsx("option",{value:"douzaine",children:"Douzaine"}),s.jsx("option",{value:"piece",children:"Pièce"}),s.jsx("option",{value:"kg",children:"Kilogramme"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le produit"})]})]})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Oa,{size:24,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),s.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible."}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const jRe=[{id:"1",name:"Naissain Express",type:"Naissain",contact:{name:"Jean Martin",email:"jean.martin@naissain-express.fr",phone:"01 23 45 67 89"},address:"123 Route de la Mer, 17000 La Rochelle",products:["Naissain d'huîtres plates","Naissain d'huîtres creuses"],status:"active"},{id:"2",name:"Emballages Océan",type:"Emballages",contact:{name:"Marie Dubois",email:"contact@emballages-ocean.fr",phone:"02 34 56 78 90"},address:"456 Avenue du Port, 44000 Nantes",products:["Bourriches","Cagettes","Étiquettes"],status:"active"}];function SRe(){const[e,t]=k.useState(!1),[r,n]=k.useState(null),[a,i]=k.useState(null),[o,l]=k.useState(jRe),c=f=>{n(f),t(!0)},u=f=>{l(o.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(o.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...o,h])}t(!1),n(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Fournisseurs"}),s.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Nouveau fournisseur"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(f=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:s.jsx(V0,{size:20,className:"text-brand-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:f.type})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(uo,{size:16,className:"mr-2"}),f.contact.email]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(vs,{size:16,className:"mr-2"}),f.contact.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[s.jsx(na,{size:16,className:"mr-2"}),f.address]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produits fournis"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.products.map((h,p)=>s.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:h},p))})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Os,{size:20,className:"text-white/60"})}),s.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Ci,{size:20,className:"text-white/60"})})]})]})},f.id))}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le fournisseur":"Nouveau fournisseur"}),s.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p={name:h.get("name"),type:h.get("type"),contact:{name:h.get("contactName"),email:h.get("email"),phone:h.get("phone")},address:h.get("address"),products:h.getAll("products"),status:"active"};d(p)},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),s.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Naissain Express",defaultValue:r==null?void 0:r.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),s.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[s.jsx("option",{value:"naissain",children:"Naissain"}),s.jsx("option",{value:"emballages",children:"Emballages"}),s.jsx("option",{value:"materiels",children:"Matériels"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Contact"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nom du contact"}),s.jsx("input",{type:"text",name:"contactName",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.email,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Téléphone"}),s.jsx("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.phone,required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),s.jsx("textarea",{name:"address",rows:2,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",defaultValue:r==null?void 0:r.address,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Produits fournis"}),s.jsx("div",{className:"space-y-2",children:["Naissain","Bourriches","Matériel d'élevage"].map(f=>s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",name:"products",value:f,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.products.includes(f)}),s.jsx("span",{className:"text-white",children:f})]},f))})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le fournisseur"})]})]})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Oa,{size:24,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),s.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const ARe=[{id:"1",name:"Prix Détail 2025",description:"Liste des prix pour la vente au détail",type:"retail",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:24.9},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:19.9}],validFrom:"2025-01-01",validTo:"2025-12-31"},{id:"2",name:"Prix Grossiste 2025",description:"Liste des prix pour la vente en gros",type:"wholesale",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:18.9,minQuantity:100},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:14.9,minQuantity:100}],validFrom:"2025-01-01",validTo:"2025-12-31"}];function CRe(){const[e,t]=k.useState(!1),[r,n]=k.useState(null),[a,i]=k.useState(null),[o,l]=k.useState(ARe),c=f=>{n(f),t(!0)},u=f=>{l(o.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(o.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...o,h])}t(!1),n(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Tarification"}),s.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle liste de prix"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(f=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:s.jsx(Uh,{size:20,className:"text-brand-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${f.type==="retail"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:f.type==="retail"?"Détail":"Gros"})]}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:f.description}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"text-sm text-white/60",children:["Valide du ",new Date(f.validFrom).toLocaleDateString("fr-FR"),f.validTo&&` au ${new Date(f.validTo).toLocaleDateString("fr-FR")}`]}),s.jsx("div",{className:"mt-4",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-sm text-white/60",children:[s.jsx("th",{className:"text-left pb-2",children:"Produit"}),s.jsx("th",{className:"text-left pb-2",children:"Calibre"}),s.jsx("th",{className:"text-right pb-2",children:"Prix"}),f.type==="wholesale"&&s.jsx("th",{className:"text-right pb-2",children:"Qté min."})]})}),s.jsx("tbody",{className:"text-white",children:f.products.map((h,p)=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2",children:h.name}),s.jsxs("td",{className:"py-2",children:["N°",h.size]}),s.jsxs("td",{className:"text-right py-2",children:[h.price.toFixed(2),"€/",h.unit]}),f.type==="wholesale"&&s.jsx("td",{className:"text-right py-2",children:h.minQuantity})]},p))})]})})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Os,{size:20,className:"text-white/60"})}),s.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Ci,{size:20,className:"text-white/60"})})]})]})},f.id))}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Oa,{size:24,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),s.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cette liste de prix ? Cette action est irréversible."}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la liste de prix":"Nouvelle liste de prix"}),s.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p={name:h.get("name"),description:h.get("description"),type:h.get("type"),validFrom:h.get("validFrom"),validTo:h.get("validTo"),products:[]};d(p)},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la liste"}),s.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Prix Détail 2025",defaultValue:r==null?void 0:r.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),s.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[s.jsx("option",{value:"retail",children:"Vente au détail"}),s.jsx("option",{value:"wholesale",children:"Vente en gros"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de la liste de prix...",defaultValue:r==null?void 0:r.description,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide à partir du"}),s.jsx("input",{type:"date",name:"validFrom",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validFrom,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide jusqu'au"}),s.jsx("input",{type:"date",name:"validTo",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validTo})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Produits"}),s.jsxs("div",{className:"space-y-4",children:[((r==null?void 0:r.products)||[]).map((f,h)=>s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Produit"}),s.jsxs("select",{name:`products[${h}].name`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.name,children:[s.jsx("option",{value:"plates",children:"Huîtres Plates"}),s.jsx("option",{value:"creuses",children:"Huîtres Creuses"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Calibre"}),s.jsxs("select",{name:`products[${h}].size`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.size,children:[s.jsx("option",{value:"2",children:"N°2"}),s.jsx("option",{value:"3",children:"N°3"}),s.jsx("option",{value:"4",children:"N°4"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix"}),s.jsx("input",{type:"number",step:"0.01",name:`products[${h}].price`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.price})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Qté min."}),s.jsx("input",{type:"number",name:`products[${h}].minQuantity`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.minQuantity})]})]},h)),s.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>{const f=[...(r==null?void 0:r.products)||[]];f.push({name:"plates",size:"3",price:0,minQuantity:1}),n({...r||{name:"",description:"",type:"retail",validFrom:"",validTo:"",products:[]},products:f})},children:"+ Ajouter un produit"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer la liste"})]})]})]})})]})}const ERe=[{id:"1",name:"Zone Nord",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1558,longitude:-1.1532},status:"active"},{id:"2",name:"Zone Sud",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1498,longitude:-1.1502},status:"active"}];function kRe(){var f,h;const[e,t]=k.useState(!1),[r,n]=k.useState(null),[a,i]=k.useState(null),[o,l]=k.useState(ERe),c=p=>{n(p),t(!0)},u=p=>{l(o.filter(m=>m.id!==p)),i(null)},d=p=>{if(r)l(o.map(m=>m.id===r.id?{...m,...p}:m));else{const m={id:crypto.randomUUID(),...p};l([...o,m])}t(!1),n(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Emplacements des tables"}),s.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Configuration table"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(p=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:s.jsx(x0,{size:20,className:"text-brand-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.status==="active"?"bg-green-500/20 text-green-300":p.status==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:p.status==="active"?"Actif":p.status==="maintenance"?"Maintenance":"Inactif"})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-white/60",children:"Type"}),s.jsx("div",{className:"text-white",children:p.type}),s.jsx("div",{className:"text-sm text-white/60 mt-4",children:"Nombre de perches"}),s.jsx("div",{className:"text-white",children:p.capacity})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Nombre de corde par perches"}),s.jsx("div",{className:"text-white",children:p.cordCount})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(p),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Os,{size:20,className:"text-white/60"})}),s.jsx("button",{onClick:()=>i(p.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Ci,{size:20,className:"text-white/60"})})]})]})},p.id))}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Oa,{size:24,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),s.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cet emplacement ? Cette action est irréversible."}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la table":"Nouvelle table"}),s.jsxs("form",{onSubmit:p=>{p.preventDefault();const m=new FormData(p.currentTarget),x={name:m.get("name"),type:m.get("type"),capacity:Number(m.get("capacity")),cordCount:Number(m.get("cordCount")),cordLength:Number(m.get("cordLength")),oystersPerCord:Number(m.get("oystersPerCord")),coordinates:{latitude:Number(m.get("latitude")),longitude:Number(m.get("longitude"))}};d(x)},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'emplacement"}),s.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Table Nord",defaultValue:r==null?void 0:r.name,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),s.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.type)||"table",required:!0,children:[s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"tableTrempe",children:"Table de trempe"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de perches"}),s.jsx("input",{type:"number",name:"capacity",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.capacity)||100,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de corde par perches"}),s.jsx("input",{type:"number",name:"cordCount",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.cordCount)||10,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Longueur de corde"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",name:"cordLength",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-l-lg text-white",defaultValue:(r==null?void 0:r.cordLength)||3,required:!0}),s.jsx("span",{className:"bg-white/10 px-3 py-2 rounded-r-lg text-white/60",children:"mètres"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre d'huitres par cordes"}),s.jsx("input",{type:"number",name:"oystersPerCord",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.oystersPerCord)||130,required:!0})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Coordonnées GPS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Latitude"}),s.jsx("input",{type:"number",name:"latitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(f=r==null?void 0:r.coordinates)==null?void 0:f.latitude,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Longitude"}),s.jsx("input",{type:"number",name:"longitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(h=r==null?void 0:r.coordinates)==null?void 0:h.longitude,required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer table"})]})]})]})})]})}const bI=[{id:"1",name:"Douzaine",symbol:"dz",type:"quantity",description:"Unité de base pour les huîtres"},{id:"2",name:"Kilogramme",symbol:"kg",type:"weight",description:"Unité de poids standard"},{id:"3",name:"Pochon",symbol:"pch",type:"quantity",baseUnit:"douzaine",conversionFactor:12,description:"Contenant standard pour l'élevage"},{id:"4",name:"Caisse de conditionnement",symbol:"ccon",type:"quantity",baseUnit:"douzaine",conversionFactor:24,description:"Caisse utilisée pour le conditionnement des huîtres"},{id:"5",name:"Caisse de stockage bassin",symbol:"cstk",type:"quantity",baseUnit:"douzaine",conversionFactor:36,description:"Caisse pour le stockage en bassin"}];function TRe(){const[e,t]=k.useState(!1);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Unités & Mesures"}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[s.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle unité"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:bI.map(r=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:s.jsx(ig,{size:20,className:"text-brand-burgundy"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:r.name}),s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.symbol}),s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.type})]}),r.description&&s.jsx("p",{className:"text-sm text-white/60 mt-1",children:r.description}),r.baseUnit&&s.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["1 ",r.symbol," = ",r.conversionFactor," ",r.baseUnit]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Os,{size:20,className:"text-white/60"})}),s.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(Ci,{size:20,className:"text-white/60"})})]})]})},r.id))}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Nouvelle unité"}),s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'unité"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Douzaine"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Symbole"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: dz"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),s.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[s.jsx("option",{value:"weight",children:"Poids"}),s.jsx("option",{value:"volume",children:"Volume"}),s.jsx("option",{value:"quantity",children:"Quantité"}),s.jsx("option",{value:"dimension",children:"Dimension"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),s.jsx("textarea",{rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de l'unité..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité de base"}),s.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[s.jsx("option",{value:"",children:"Aucune"}),bI.map(r=>s.jsxs("option",{value:r.symbol,children:[r.name," (",r.symbol,")"]},r.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Facteur de conversion"}),s.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'unité"})]})]})]})})]})}const ORe=[{id:"company",label:"Entreprise",icon:s.jsx(OS,{size:20}),description:"Informations et paramètres de l'entreprise"},{id:"roles",label:"Rôles & Permissions",icon:s.jsx(xs,{size:20}),description:"Gestion des accès et des droits utilisateurs"},{id:"products",label:"Produits",icon:s.jsx(jn,{size:20}),description:"Configuration des produits et du catalogue"},{id:"pricing",label:"Tarification",icon:s.jsx(Uh,{size:20}),description:"Configuration des prix et remises"},{id:"locations",label:"Emplacements",icon:s.jsx(x0,{size:20}),description:"Configuration des tables"},{id:"units",label:"Unités & Mesures",icon:s.jsx(ig,{size:20}),description:"Configuration des unités de mesure"}];function jU(){const[e,t]=k.useState("company"),r=()=>{switch(e){case"company":return s.jsx(vRe,{});case"roles":return s.jsx(wRe,{});case"products":return s.jsx(NRe,{});case"suppliers":return s.jsx(SRe,{});case"pricing":return s.jsx(CRe,{});case"locations":return s.jsx(kRe,{});case"units":return s.jsx(TRe,{});default:return null}};return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 p-6 animate-fadeIn",children:[s.jsx("div",{className:"config-container",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-lg"}),s.jsx(hw,{size:24,className:"text-cyan-400 relative z-10","aria-hidden":"true"})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Configuration"})]})}),s.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[s.jsx("nav",{className:"col-span-3",children:s.jsx("div",{className:"config-container space-y-2",children:ORe.map(n=>s.jsxs("button",{onClick:()=>t(n.id),className:`
                  flex items-center w-full gap-3 px-4 py-3 rounded-lg transition-all duration-300
                  ${e===n.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}
                  min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40
                `,"aria-selected":e===n.id,role:"tab",children:[s.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:n.icon}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium",children:n.label}),s.jsx("span",{className:"text-sm text-white/70",children:n.description})]})]},n.id))})}),s.jsx("main",{className:"col-span-9",children:s.jsx("div",{className:"config-container",children:s.jsx(_r,{mode:"wait",children:s.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r()},e)})})})]})]})}const PRe=[{id:"1",type:"alert",title:"Alerte stock critique",message:"Le stock d'huîtres plates N°3 est en dessous du seuil minimum",timestamp:"2025-02-19T10:30:00",read:!1,important:!0,category:"inventory",link:"/inventory"},{id:"2",type:"success",title:"Tâche terminée",message:"Marie Martin a terminé l'inspection des tables",timestamp:"2025-02-19T09:15:00",read:!1,important:!1,category:"task",link:"/tasks"},{id:"3",type:"warning",title:"Contrôle qualité requis",message:"Le lot LOT-2025-001 nécessite un contrôle qualité",timestamp:"2025-02-19T08:45:00",read:!0,important:!0,category:"quality",link:"/quality"},{id:"4",type:"info",title:"Nouveau congé",message:"Jean Dupont a déposé une demande de congés",timestamp:"2025-02-19T08:30:00",read:!0,important:!1,category:"hr",link:"/hr"}],DRe={alert:Ka,success:uf,info:Vp,warning:Qa},IRe={system:Vp,task:ta,inventory:jn,quality:ao,hr:xs},yI={alert:"bg-red-500/20 text-red-300",success:"bg-green-500/20 text-green-300",info:"bg-blue-500/20 text-blue-300",warning:"bg-yellow-500/20 text-yellow-300"};function MRe({searchQuery:e,filter:t}){const[r,n]=k.useState(null),[a,i]=k.useState(PRe),o=a.filter(d=>{const f=d.title.toLowerCase().includes(e.toLowerCase())||d.message.toLowerCase().includes(e.toLowerCase()),h=t==="all"||t==="unread"&&!d.read||t==="important"&&d.important;return f&&h}),l=d=>{i(a.map(f=>f.id===d?{...f,read:!0}:f))},c=d=>{i(a.map(f=>f.id===d?{...f,important:!f.important}:f))},u=d=>{i(a.filter(f=>f.id!==d))};return s.jsx("div",{className:"space-y-4",children:o.map(d=>{const f=DRe[d.type],h=IRe[d.category];return s.jsx("div",{className:`bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors ${d.read?"":"bg-white/10"}`,children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg ${yI[d.type].split(" ")[0]} flex items-center justify-center`,children:s.jsx(f,{size:20,className:yI[d.type].split(" ")[1]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:d.title}),d.important&&s.jsx("span",{className:"px-2 py-1 bg-brand-burgundy/20 text-brand-burgundy rounded-full text-xs",children:"Important"}),!d.read&&s.jsx("span",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),s.jsx("p",{className:"text-white/70 mt-1",children:d.message}),s.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qa,{size:16,className:"mr-1"}),Kt(new Date(d.timestamp),"PPp",{locale:Zr})]}),s.jsx("div",{children:"•"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(h,{size:16,className:"mr-1"}),d.category]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>n(r===d.id?null:d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(sg,{size:20,className:"text-white/60"})}),r===d.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[!d.read&&s.jsxs("button",{onClick:()=>l(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(kN,{size:16,className:"mr-2"}),"Marquer comme lu"]}),s.jsxs("button",{onClick:()=>c(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[s.jsx(co,{size:16,className:"mr-2"}),d.important?"Retirer important":"Marquer important"]}),s.jsxs("button",{onClick:()=>u(d.id),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[s.jsx(Ci,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},d.id)})})}const uN=[{name:"Alertes",value:15},{name:"Succès",value:25},{name:"Informations",value:40},{name:"Avertissements",value:20}],FRe=[{date:"Lun",count:12},{date:"Mar",count:15},{date:"Mer",count:8},{date:"Jeu",count:20},{date:"Ven",count:14}],dN=["#ef4444","#22c55e","#3b82f6","#eab308"];function RRe(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:s.jsx(Vp,{size:20,className:"text-brand-burgundy"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Total notifications"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"156"}),s.jsx("div",{className:"text-sm text-white/60",children:"Cette semaine"})]})]})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:s.jsx(Ka,{size:20,className:"text-red-300"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Non lues"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"8"}),s.jsx("div",{className:"text-sm text-red-300",children:"Nécessite attention"})]})]})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:s.jsx(uf,{size:20,className:"text-green-300"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Traitées"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),s.jsx("div",{className:"text-sm text-green-300",children:"91% de résolution"})]})]})}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:s.jsx(Qa,{size:20,className:"text-yellow-300"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 text-sm",children:"Temps moyen"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5h"}),s.jsx("div",{className:"text-sm text-white/60",children:"De résolution"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Notifications par type"}),s.jsx("div",{className:"h-80",children:s.jsx(Pb,{width:"100%",height:"100%",children:s.jsxs(t9,{children:[s.jsx(gc,{data:uN,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:uN.map((e,t)=>s.jsx(pg,{fill:dN[t%dN.length]},`cell-${t}`))}),s.jsx(Do,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},formatter:e=>`${e}%`})]})})}),s.jsx("div",{className:"mt-6 space-y-4",children:uN.map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:dN[t]}}),s.jsx("span",{className:"text-white/70",children:e.name})]}),s.jsxs("span",{className:"text-white",children:[e.value,"%"]})]},e.name))})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Volume par jour"}),s.jsx("div",{className:"h-80",children:s.jsx(Pb,{width:"100%",height:"100%",children:s.jsxs(_we,{data:FRe,children:[s.jsx(BA,{strokeDasharray:"3 3",stroke:"#ffffff10"}),s.jsx(im,{dataKey:"date",stroke:"#ffffff60"}),s.jsx(sm,{stroke:"#ffffff60"}),s.jsx(Do,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},itemStyle:{color:"#fff"}}),s.jsx(yf,{dataKey:"count",name:"Notifications",fill:"#8B0000"})]})})})]})]})]})}function LRe({onClose:e}){return s.jsx(Gi,{isOpen:!0,onClose:e,title:"Paramètres des notifications",size:"xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Canaux de notification"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vp,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Application"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications dans l'interface"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(uo,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Email"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications par email"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(UM,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Mobile"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications push sur mobile"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vs,{size:20,className:"text-white/60"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"SMS"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications par SMS"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Types de notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Alertes système"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications critiques du système"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Tâches"}),s.jsx("div",{className:"text-sm text-white/60",children:"Mises à jour des tâches assignées"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Stock"}),s.jsx("div",{className:"text-sm text-white/60",children:"Alertes de niveau de stock"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"Qualité"}),s.jsx("div",{className:"text-sm text-white/60",children:"Rapports de contrôle qualité"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white",children:"RH"}),s.jsx("div",{className:"text-sm text-white/60",children:"Notifications RH et congés"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})})}function BRe(){const[e,t]=k.useState(!0),[r,n]=k.useState(!1),[a,i]=k.useState(""),[o,l]=k.useState("all");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notifications"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>t(!e),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(MM,{size:20,className:"mr-2"}),"Statistiques"]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(hw,{size:20,className:"mr-2"}),"Paramètres"]})]})]}),e&&s.jsx(RRe,{}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xa,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),s.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg transition-colors ${o==="all"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Toutes"}),s.jsx("button",{onClick:()=>l("unread"),className:`px-4 py-2 rounded-lg transition-colors ${o==="unread"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Non lues"}),s.jsx("button",{onClick:()=>l("important"),className:`px-4 py-2 rounded-lg transition-colors ${o==="important"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Importantes"})]})]}),s.jsx(MRe,{searchQuery:a,filter:o}),r&&s.jsx(LRe,{onClose:()=>n(!1)})]})}const Zj=({onClose:e,task:t})=>{const n=(x=>!x||!Array.isArray(x)?"":x.map(g=>{if(typeof g=="object"&&g!==null){const v=typeof g.author=="string"?g.author:g.author&&typeof g.author=="object"&&g.author.name?g.author.name:"Utilisateur",b=typeof g.content=="string"?g.content:JSON.stringify(g.content);return`${v}: ${b}`}return typeof g=="string"?g:JSON.stringify(g)}).join(`

`))(t==null?void 0:t.comments),{register:a,handleSubmit:i,formState:{errors:o},watch:l}=fm({defaultValues:{...t||{},comments:n}}),[c,u]=k.useState("details"),[d,f]=k.useState(null),p=l("status")==="completed",m=async x=>{try{const g={...x,comments:(t==null?void 0:t.comments)||x.comments};console.log("Mise à jour de tâche:",g),e()}catch(g){console.error("Error updating task:",g)}};return s.jsx("div",{className:"modal-container",children:s.jsxs("form",{onSubmit:i(m),className:"space-y-6",children:[p&&s.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[s.jsx("button",{type:"button",className:`px-4 py-2 mr-2 transition-all ${c==="details"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>u("details"),"aria-label":"Afficher les détails de la tâche",children:s.jsx("div",{className:"flex items-center",children:"Détails"})}),s.jsx("button",{type:"button",className:`px-4 py-2 transition-all ${c==="performance"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>u("performance"),"aria-label":"Afficher la performance de la tâche",children:s.jsx("div",{className:"flex items-center",children:"Performance"})})]}),c==="details"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"title",children:"Titre de la tâche"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",...a("title",{required:"Le titre est requis"}),id:"title",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Entrez le titre de la tâche","aria-required":"true"})}),o.title&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"description",children:"Description"}),s.jsx("textarea",{...a("description"),id:"description",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[100px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Décrivez la tâche en détail"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"dueDate",children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(ta,{size:16})}),s.jsx("input",{type:"date",...a("dueDate",{required:"La date est requise"}),id:"dueDate",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-required":"true"})]}),o.dueDate&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.dueDate.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"assignedTo",children:"Assigné à"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(pf,{size:16})}),s.jsxs("select",{...a("assignedTo"),id:"assignedTo",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white appearance-none focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx("option",{value:"",children:"Sélectionner un utilisateur"}),s.jsx("option",{value:"John Doe",children:"John Doe"}),s.jsx("option",{value:"Jane Smith",children:"Jane Smith"}),s.jsx("option",{value:"Alex Johnson",children:"Alex Johnson"})]}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{className:"w-4 h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"estimatedHours",children:"Heures estimées"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(Qa,{size:16})}),s.jsx("input",{type:"number",step:"0.5",...a("estimatedHours",{required:"Ce champ est requis",min:{value:.5,message:"Minimum 0.5 heure"},max:{value:100,message:"Maximum 100 heures"}}),id:"estimatedHours",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Heures","aria-required":"true"})]}),o.estimatedHours&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.estimatedHours.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"comments",children:"Commentaires"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-4 text-white/40",children:s.jsx(pc,{size:16})}),s.jsx("textarea",{...a("comments"),id:"comments",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[80px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Ajoutez vos commentaires ici..."})]})]})]}),c==="performance"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-4 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Évaluation de la tâche"}),s.jsx("div",{className:"flex flex-wrap justify-center sm:justify-start space-x-1",children:[1,2,3,4,5].map(x=>s.jsx("button",{type:"button",onClick:()=>f(x),className:`p-1 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-md transition-colors ${d&&d>=x?"text-yellow-400":"text-white/30 hover:text-white/50"}`,"aria-label":`Évaluer ${x} sur 5`,children:s.jsx(co,{className:"w-5 h-5 sm:w-6 sm:h-6",fill:d&&d>=x?"currentColor":"none"})},x))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white mb-1",htmlFor:"delay",children:"Retard (en jours)"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s.jsx(Oa,{size:16})}),s.jsx("input",{type:"number",step:"1",...a("delay"),id:"delay",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"0"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/30 text-white/70 hover:text-white transition-all min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Enregistrer"})]})]})})},$Re={low:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400",gradientClass:"from-green-500/10 to-transparent"},medium:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400",gradientClass:"from-amber-500/10 to-transparent"},high:{badgeClass:"text-red-300 bg-red-500/20 border-red-500/30",iconColor:"text-red-400",gradientClass:"from-red-500/10 to-transparent"}},zRe={pending:{badgeClass:"text-blue-300 bg-blue-500/20 border-blue-500/30",iconColor:"text-blue-400"},inProgress:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400"},completed:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400"},cancelled:{badgeClass:"text-gray-300 bg-gray-500/20 border-gray-500/30",iconColor:"text-gray-400"}},wI={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2}},exit:{opacity:0,y:20,transition:{duration:.2}}},URe=[{id:"1",title:"Nettoyage des poches d'huîtres",description:"Nettoyer les poches d'huîtres dans la zone A pour éliminer les algues et sédiments. Vérifier l'état des attaches.",status:"completed",priority:"medium",dueDate:"2023-09-15",assignedTo:"Thomas Moreau",category:"Entretien",location:"Zone A - Parc 3",tags:["Nettoyage","Poches"],estimatedTime:6,actualTime:5,comments:[{author:"Jean Dupont",content:"J'ai remarqué que les attaches des poches 45 à 52 sont usées et devront être remplacées prochainement.",date:"2023-09-10T14:30:00",rating:4,attachments:[]},{author:"Thomas Moreau",content:"Nettoyage terminé avec efficacité. J'ai également remplacé quelques attaches qui étaient trop abîmées.",date:"2023-09-12T09:45:00",rating:5,attachments:["rapport-entretien.pdf"]}],delay:0,performance:{efficiency:100,quality:92,timeliness:100}},{id:"2",title:"Retournement des poches d'huîtres",description:"Retourner les poches dans les parcs 5 à 8 pour assurer une croissance uniforme des huîtres et réduire les déformations.",status:"in_progress",priority:"high",dueDate:"2023-09-25",assignedTo:"Marie Lefèvre",category:"Manipulation",location:"Zone B - Parcs 5-8",tags:["Retournement","Croissance"],estimatedTime:10,actualTime:8,comments:[{author:"Marie Lefèvre",content:"Les parcs 5 et 6 sont terminés. J'ai remarqué une forte présence de naissain naturel sur certaines poches.",date:"2023-09-18T10:15:00",rating:3,attachments:["observations.jpg"]}],delay:0,performance:{efficiency:70,quality:85,timeliness:90}},{id:"3",title:"Tri et calibrage des huîtres",description:"Trier et calibrer les huîtres du lot 2023-B pour séparer les différentes tailles et déterminer celles prêtes pour la vente.",status:"pending",priority:"medium",dueDate:"2023-09-30",assignedTo:"Pierre Dubois",category:"Tri",location:"Atelier principal",tags:["Calibrage","Tri","Vente"],estimatedTime:8,actualTime:0,comments:[{author:"Pierre Dubois",content:"J'ai préparé la zone de tri et vérifié l'état de la calibreuse automatique.",date:"2023-09-17T11:00:00",rating:0,attachments:["vérification-machine.pdf"]}],delay:0},{id:"4",title:"Mise en claire des huîtres spéciales",description:"Transférer les huîtres spéciales sélectionnées vers les claires pour l'affinage avant la période de fêtes. Vérifier la salinité et le phytoplancton.",status:"pending",priority:"low",dueDate:"2023-10-05",assignedTo:"Sophie Martin",category:"Affinage",location:"Claires - Marais Est",tags:["Affinage","Spéciales","Préparation fêtes"],estimatedTime:5,actualTime:0,comments:[]}];function HRe({searchQuery:e,onTaskSelect:t}){const[r,n]=k.useState(null),[a,i]=k.useState([]),[o,l]=k.useState(null),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,p]=k.useState(""),[m,x]=k.useState(null),[g,v]=k.useState(!1),[b,y]=k.useState({}),[w,N]=k.useState(""),[S,j]=k.useState("");k.useState(!0),k.useState({top:0,left:0});const[A,T]=k.useState(!1),[R,O]=k.useState(null),[E,L]=k.useState(URe),B=k.useMemo(()=>E.filter(V=>V.title.toLowerCase().includes(e.toLowerCase())||V.description&&V.description.toLowerCase().includes(e.toLowerCase())),[E,e]),G=V=>{const Me=B.find(Oe=>Oe.id===V);if(!Me)return 0;const Ae=Me.estimatedTime||8,pe=Me.actualTime||Math.random()*Ae*1.5;let re=0;if(pe<Ae)re=Math.round(Ae/pe*100);else if(pe===Ae)re=100;else{const Oe=pe/Ae;Oe<=1.1?re=90:Oe<=1.25?re=75:Oe<=1.5?re=60:Oe<=2?re=40:re=20}return Math.round(re)},U=V=>V>=100||V>=90?"text-green-500":V>=75?"text-green-400":V>=60?"text-yellow-400":V>=40?"text-amber-500":"text-red-500",W=V=>{i(Me=>Me.includes(V)?Me.filter(Ae=>Ae!==V):[...Me,V])},X=(V,Me)=>{Me&&Me.stopPropagation(),x(V.id),n(V)},q=V=>{O(V),T(!0)},le=()=>{R&&(L(V=>V.filter(Me=>Me.id!==R)),o&&o.id===R&&l(null),r&&r.id===R&&n(null),console.log(`Task deleted: ${R}`),T(!1),O(null))},se=()=>{T(!1),O(null)},I=V=>{g&&x(V.id)},P=V=>new Date(V).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),M=(V,Me)=>{Me.stopPropagation(),x(V),u(!0)},z=(V,Me)=>{Me.stopPropagation(),x(V),f(!0)},Y=(V,Me)=>{V&&V.stopPropagation(),typeof Me=="function"&&Me(Me===l||Me===n?null:!1)},ae=V=>{V&&(V.stopPropagation(),V.preventDefault()),n(null)},ue=V=>{V.stopPropagation(),V.preventDefault()},ne=()=>{m&&h&&(console.log(`Commentaire ajouté pour la tâche ${m}:`,h),p(""),u(!1))},_e=()=>{m&&w&&(console.log(`Retard signalé pour la tâche ${m}:`,{raison:w,durée:S}),N(""),j(""),f(!1))};k.useEffect(()=>{const V={};B.forEach(Me=>{V[Me.id]=K.createRef()}),y(V)},[B]),k.useEffect(()=>{const V=()=>{v(window.innerWidth<=768)};return V(),window.addEventListener("resize",V),()=>{window.removeEventListener("resize",V)}},[]);const Ce=!g;return s.jsxs("div",{className:`task-list ${g?"isResponsive":""}`,children:[B.length===0?s.jsxs("div",{className:"empty-task-state",children:[s.jsx("div",{className:"empty-task-icon",children:s.jsx(IV,{size:40})}),s.jsx("h3",{className:"empty-task-title",children:"Aucune tâche trouvée"}),s.jsx("p",{className:"empty-task-text",children:"Commencez à ajouter de nouvelles tâches ou modifiez vos critères de recherche."})]}):s.jsx("div",{className:"task-grid",children:B.map(V=>{var oe,de;const Me=V.priority,Ae=V.status,pe=a.includes(V.id),re=Ae==="completed"?"Terminée":Ae==="in_progress"?"En cours":"En attente",Oe=Ae==="completed"?"completed":Ae==="in_progress"?"inProgress":"pending";return s.jsxs("div",{className:"task-card-wrapper",ref:b[V.id],children:[g&&m===V.id&&s.jsxs(s.Fragment,{children:[c&&s.jsx("div",{className:"modal-responsive-container",onClick:ye=>Y(ye,u),children:s.jsxs("div",{className:"modal-responsive-content",onClick:ue,children:[s.jsxs("div",{className:"modal-responsive-header",children:[s.jsx("h3",{children:"Ajouter un commentaire"}),s.jsx("button",{onClick:ye=>Y(ye,u),className:"modal-responsive-close",children:s.jsx(zt,{size:20})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("textarea",{value:h,onChange:ye=>p(ye.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),s.jsxs("div",{className:"flex justify-end mt-4",children:[s.jsx("button",{onClick:ye=>Y(ye,u),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),s.jsx("button",{onClick:ne,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!h.trim(),children:"Envoyer"})]})]})]})}),d&&s.jsx("div",{className:"modal-responsive-container",onClick:ye=>Y(ye,f),children:s.jsxs("div",{className:"modal-responsive-content",onClick:ue,children:[s.jsxs("div",{className:"modal-responsive-header",children:[s.jsx("h3",{children:"Signaler un retard"}),s.jsx("button",{onClick:ye=>Y(ye,f),className:"modal-responsive-close",children:s.jsx(zt,{size:20})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),s.jsx("textarea",{value:w,onChange:ye=>N(ye.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),s.jsx("input",{type:"text",value:S,onChange:ye=>j(ye.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),s.jsxs("div",{className:"flex justify-end mt-4",children:[s.jsx("button",{onClick:ye=>Y(ye,f),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),s.jsx("button",{onClick:_e,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!w.trim(),children:"Signaler"})]})]})]})}),s.jsx(_r,{children:r&&r.id===V.id&&s.jsx(je.div,{className:"modal-responsive-container edit-modal-responsive",onClick:ae,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs(je.div,{className:"modal-responsive-content edit-modal-responsive-content",onClick:ue,variants:wI,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsxs("div",{className:"modal-responsive-header",children:[s.jsx("h3",{children:"Modifier la tâche"}),s.jsx("button",{onClick:ae,className:"modal-responsive-close",children:s.jsx(zt,{size:20})})]}),s.jsx("div",{className:"p-4",children:s.jsx(Zj,{onClose:ae,task:r})})]})})})]}),s.jsxs("div",{className:"task-card",onClick:()=>I(V),children:[s.jsx("div",{className:`task-card-header ${$Re[Me].gradientClass}`,children:s.jsxs("div",{className:"task-header-content",children:[s.jsxs("div",{className:"task-header-left",children:[V.status==="completed"&&s.jsx("div",{className:"ml-2 flex items-center",children:s.jsxs("div",{className:"efficiency-indicator flex items-center",title:"Pourcentage de rendement basé sur le temps",children:[s.jsx("span",{className:"text-xs text-white/60 mr-1",children:"Rendement:"}),s.jsxs("span",{className:`text-sm font-medium ${U(G(V.id))}`,children:[G(V.id),"%"]})]})}),s.jsx("div",{className:"status-container",children:s.jsx("div",{className:`status-badge ${zRe[Oe].badgeClass}`,children:s.jsx("span",{children:re})})})]}),s.jsx("div",{className:"task-header-right",children:s.jsx("button",{className:"expand-task-btn p-1.5 rounded-full hover:bg-white/10 transition-colors",onClick:ye=>{ye.stopPropagation(),W(V.id)},"aria-label":pe?"Réduire":"Développer",children:pe?s.jsx(ES,{className:"transition-transform duration-200",size:16}):s.jsx(ff,{className:"transition-transform duration-200",size:16})})})]})}),s.jsxs("div",{className:`task-card-body ${pe?"expanded":""}`,children:[s.jsx("h3",{className:"task-title",children:V.title}),s.jsx("p",{className:"task-description",children:V.description}),s.jsxs("div",{className:"task-metadata",children:[V.dueDate&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(ta,{size:14,className:"metadata-icon"}),s.jsx("span",{children:P(V.dueDate)})]}),V.assignedTo&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(pf,{size:14,className:"metadata-icon"}),s.jsx("span",{children:V.assignedTo})]}),V.location&&s.jsxs("div",{className:"metadata-item",children:[s.jsx(na,{size:14,className:"metadata-icon"}),s.jsx("span",{children:V.location})]})]}),s.jsxs("div",{className:`expanded-content ${pe?"expanded":""}`,children:[s.jsxs("div",{className:"task-tags",children:[V.category&&s.jsxs("div",{className:"task-tag",children:[s.jsx(m0,{size:12}),s.jsx("span",{children:V.category})]}),V.title.toLowerCase().includes("inspection")&&s.jsxs("div",{className:"task-tag",children:[s.jsx(m0,{size:12}),s.jsx("span",{children:"inspection"})]}),V.title.toLowerCase().includes("qualité")||((oe=V.description)==null?void 0:oe.toLowerCase().includes("qualité"))&&s.jsxs("div",{className:"task-tag",children:[s.jsx(m0,{size:12}),s.jsx("span",{children:"qualité"})]}),V.title.toLowerCase().includes("huître")||((de=V.description)==null?void 0:de.toLowerCase().includes("huître"))&&s.jsxs("div",{className:"task-tag",children:[s.jsx(m0,{size:12}),s.jsx("span",{children:"huîtres"})]})]}),s.jsxs("div",{className:"task-actions flex flex-col gap-2 w-full",children:[s.jsxs("div",{className:"flex justify-between w-full gap-2",children:[s.jsxs("button",{className:"delay-btn comment-btn p-1.5 rounded-md hover:bg-white/10 transition-colors flex items-center justify-center w-1/2",onClick:ye=>M(V.id,ye),"aria-label":"Commenter",title:"Commenter",children:[s.jsx(pc,{size:16,className:"text-blue-400 mr-2"}),s.jsx("span",{className:"text-s",children:"Commenter"})]}),s.jsxs("button",{className:"delay-btn p-1.5 rounded-md hover:bg-white/10 transition-colors flex items-center justify-center w-1/2",onClick:ye=>z(V.id,ye),"aria-label":"Signaler un retard",title:"Signaler un retard",children:[s.jsx(Oa,{size:16,className:"text-amber-400 mr-2"}),s.jsx("span",{className:"text-s",children:"Signaler un retard"})]})]}),s.jsxs("div",{className:"flex justify-between w-full gap-2",children:[s.jsxs("button",{className:"task-action-btn edit w-1/2",onClick:ye=>X(V,ye),"aria-label":"Modifier",title:"Modifier",children:[s.jsx(kS,{size:14}),s.jsx("span",{children:"Modifier"})]}),s.jsxs("button",{className:"task-action-btn delete w-1/2",onClick:ye=>{ye.stopPropagation(),q(V.id)},children:[s.jsx(Ci,{size:14}),s.jsx("span",{children:"Supprimer"})]})]})]})]}),s.jsx("div",{className:"performance-details",children:pe&&V.status==="completed"&&s.jsxs("div",{className:"bg-white/5 mt-3 p-3 rounded-lg border border-white/10",children:[s.jsxs("h4",{className:"text-sm font-medium text-white mb-2 flex items-center",children:[s.jsx(Qa,{size:14,className:"mr-1.5 text-yellow-400"}),"Évaluation du temps de réalisation"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps prévu"}),s.jsxs("div",{className:"text-sm text-white",children:[V.estimatedTime||8," heures"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps réel"}),s.jsxs("div",{className:"text-sm text-white",children:[V.actualTime||Math.round((Math.random()*.5+.75)*(V.estimatedTime||8)*10)/10," heures"]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Rendement"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full",children:s.jsx("div",{className:"h-full rounded-full bg-green-500",style:{width:`${Math.min(100,G(V.id))}%`}})}),s.jsxs("span",{className:`ml-2 text-sm font-medium ${U(G(V.id))}`,children:[G(V.id),"%"]})]})]})]})]})})]})]}),A&&R===V.id&&s.jsx("div",{className:"modal-responsive-container",onClick:se,children:s.jsxs("div",{className:"modal-responsive-content",onClick:ye=>ye.stopPropagation(),children:[s.jsxs("div",{className:"modal-responsive-header",children:[s.jsx("h3",{className:"text-white text-lg font-medium",children:"Confirmer la suppression"}),s.jsx("button",{onClick:se,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center",children:s.jsx(zt,{size:20})})]}),s.jsx("div",{className:"modal-responsive-body",children:s.jsx("p",{className:"text-white/90",children:"Êtes-vous sûr de vouloir supprimer cette tâche ? Cette action est irréversible."})}),s.jsxs("div",{className:"modal-responsive-footer",children:[s.jsx("button",{onClick:se,className:"px-4 py-2 text-white/80 hover:text-white",children:"Annuler"}),s.jsx("button",{onClick:le,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Supprimer"})]})]})})]},V.id)})}),s.jsx(_r,{}),s.jsx(_r,{children:r&&Ce&&s.jsx(je.div,{className:"fixed inset-0 bg-black/70 z-50 motion-div-overlay task-list-container-modal edit-task-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:V=>Y(V,n),children:s.jsxs(je.div,{className:"p-4 sm:p-6 rounded-lg max-w-2xl w-full mx-2 sm:mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20 edit-modal-content task-list-container-modal-content",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:ue,variants:wI,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-white text-lg font-medium",children:"Modifier la tâche"}),s.jsx("button",{onClick:()=>Y(null,n),className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center",children:s.jsx(zt,{size:20})})]}),s.jsx(Zj,{onClose:()=>Y(null,n),task:r})]})]})})}),c&&Ce&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",onClick:()=>Y(null,u),children:s.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-white text-lg font-medium",children:"Ajouter un commentaire"}),s.jsx("button",{onClick:()=>Y(null,u),className:"text-white/60 hover:text-white",children:s.jsx(zt,{size:20})})]}),s.jsx("textarea",{value:h,onChange:V=>p(V.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),s.jsxs("div",{className:"flex justify-end mt-4",children:[s.jsx("button",{onClick:()=>Y(null,u),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),s.jsx("button",{onClick:ne,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!h.trim(),children:"Envoyer"})]})]})}),d&&Ce&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",onClick:()=>Y(null,f),children:s.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-white text-lg font-medium",children:"Signaler un retard"}),s.jsx("button",{onClick:()=>Y(null,f),className:"text-white/60 hover:text-white",children:s.jsx(zt,{size:20})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),s.jsx("textarea",{value:w,onChange:V=>N(V.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),s.jsx("input",{type:"text",value:S,onChange:V=>j(V.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),s.jsxs("div",{className:"flex justify-end mt-4",children:[s.jsx("button",{onClick:()=>Y(null,f),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),s.jsx("button",{onClick:_e,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!w.trim(),children:"Signaler"})]})]})})]})}const WRe=({value:e,maxValue:t=100,color:r})=>{const n=Math.min(100,Math.round(e/t*100));return s.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},VRe=({currentSize:e,targetSize:t,progress:r})=>{const n=["T15","N°5","N°4","N°3","N°2","N°1"],a=()=>r>100?"#ef4444":r>=85?"#22c55e":(r>=70,"#3b82f6");return s.jsxs("div",{className:"mt-4 mb-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"text-white/70 text-xs",children:"Début"}),s.jsx("div",{className:"text-white/70 text-xs",children:"Objectif"}),s.jsx("div",{className:"text-white/70 text-xs",children:"Final"})]}),s.jsxs("div",{className:"relative h-3 w-full rounded-full overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to right, #3b82f6, #3b82f6 30%, #3b82f6 50%, #3b82f6 75%, #22c55e 85%, #eab308 95%, #ef4444)"}}),s.jsx("div",{className:"absolute inset-y-0 right-0 bg-gray-900/70 rounded-r-full transition-all duration-1000 ease-out",style:{width:`${100-r}%`}}),s.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white/70",style:{left:"85%"}}),s.jsxs("div",{className:"absolute top-1/2 z-10 -translate-y-1/2 transition-all duration-1000",style:{left:`${r}%`},children:[s.jsx(je.div,{className:"absolute -inset-2 rounded-full opacity-30",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{backgroundColor:a()}}),s.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg border-2 border-white z-20",style:{backgroundColor:a()}})]})]}),s.jsx("div",{className:"flex justify-between mt-1",children:n.map((i,o)=>s.jsx("div",{className:`text-xs ${i===e?"text-white font-bold":i===t?"text-green-400 font-bold":"text-white/50"}`,children:i},o))})]})},qRe=({occupancy:e})=>{const t=Array.from({length:10},(a,i)=>i+1),r=e/100*10,n="w-full h-7 rounded-sm border border-white/10";return s.jsx("div",{className:"grid grid-cols-10 gap-1 w-full mt-2",style:{backgroundColor:"rgb(7, 26, 64)"},children:t.map(a=>{const i=a===Math.ceil(r)&&!Number.isInteger(r),o=a<=Math.floor(r);return a===1?s.jsx("div",{className:`${n} bg-transparent`},a):o?s.jsx("div",{className:`${n} bg-[#a02648]`},a):i?s.jsx("div",{className:`${n} relative overflow-hidden`,children:s.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-[#a02648]",style:{width:"50%"}})},a):s.jsx("div",{className:`${n} bg-transparent`},a)})})},GRe=()=>{const e=[{date:"13/01/2025",action:"Échantillonnage",user:"Sophie L."},{date:"12/01/2025",action:"Vider 15 cordes",user:"Marc D."},{date:"11/01/2025",action:"Vider 15 cordes",user:"Jean F."},{date:"10/01/2025",action:"Vider 15 cordes",user:"Pierre M."}];return s.jsx("div",{className:"space-y-3 mt-4",children:e.map((t,r)=>s.jsxs(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.1},className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-white/10",children:s.jsx(MV,{size:16,className:"text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:t.action}),s.jsx("div",{className:"text-sm text-white/60",children:t.date})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(pf,{size:16,className:"text-white/40 mr-1"}),s.jsx("span",{className:"text-white/70",children:t.user})]})]},r))})};function YRe({table:e,onClose:t}){const r=cg(t),n=e.alert||e.timeProgress>100,[a,i]=k.useState("info");return s.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4 md:p-6",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:s.jsxs(je.div,{ref:r,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},className:"glass-effect shadow-glass w-full max-w-4xl rounded-xl overflow-hidden relative",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-900/80 to-brand-burgundy/80 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 blur-xl rounded-full"}),s.jsx(Qn,{size:24,className:"text-white relative z-10"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name}),s.jsx("p",{className:"text-white/70",children:e.type}),e.status&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 mt-2 rounded-full text-xs font-medium bg-white/10 text-white/80",children:e.status})]})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full","aria-label":"Fermer",children:s.jsx(zt,{size:24})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex border-b border-white/10",children:[s.jsx("button",{onClick:()=>i("info"),className:`px-4 py-2 font-medium transition-colors ${a==="info"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Informations"}),s.jsx("button",{onClick:()=>i("history"),className:`px-4 py-2 font-medium transition-colors ${a==="history"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Historique"})]}),a==="info"&&s.jsxs(s.Fragment,{children:[s.jsxs(je.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5},className:"glass-effect rounded-xl p-6 space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(Li,{size:18,className:"mr-2 text-blue-400"}),"Occupation de la table"]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.occupancy,"%"]}),s.jsxs("div",{className:"text-sm text-white/60",children:[Math.round(e.occupancy*.1),"/10 unités"]})]}),s.jsx(qRe,{occupancy:e.occupancy}),e.alert&&s.jsxs("div",{className:"flex items-center p-3 bg-red-500/20 rounded-lg mt-3",children:[s.jsx(Oa,{size:16,className:"text-red-400 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-white",children:e.alert})]})]}),s.jsxs(je.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.1},className:"glass-effect rounded-xl p-6 space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(AS,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]}),n&&s.jsxs("div",{className:"flex items-center p-3 bg-amber-500/20 rounded-lg",children:[s.jsx(Ka,{size:16,className:"text-amber-400 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-white",children:e.alert||"Calibre dépassé"})]}),s.jsx(VRe,{currentSize:e.currentSize,targetSize:e.targetSize,progress:e.timeProgress}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[s.jsx("div",{className:"text-white/60",children:"Calibre actuel"}),s.jsx("div",{className:"text-white font-semibold text-lg",children:e.currentSize})]}),s.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[s.jsx("div",{className:"text-white/60",children:"Calibre cible"}),s.jsx("div",{className:"text-white font-semibold text-lg",children:e.targetSize})]})]})]}),s.jsxs(je.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.2},className:"glass-effect rounded-xl p-6 space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(ta,{size:18,className:"mr-2 text-blue-400"}),"Informations de production"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 mb-1",children:"Date de démarrage"}),s.jsx("div",{className:"text-white font-medium",children:e.startDate})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white/60 mb-1",children:"Date de récolte prévue"}),s.jsx("div",{className:"text-white font-medium",children:e.harvestDate})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"text-white/60",children:"Taux de mortalité"}),s.jsxs("div",{className:`text-sm ${e.mortality>20?"text-red-400":e.mortality>15?"text-amber-400":"text-green-400"}`,children:[e.mortality,"%"]})]}),s.jsx(WRe,{value:e.mortality,maxValue:30,color:e.mortality<=15?"#22c55e":e.mortality<=20?"#eab308":"#ef4444"})]})]})]}),a==="history"&&s.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"glass-effect rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des manipulations"}),s.jsx(GRe,{})]})]})]})})}const T2=[{id:"1",title:"Inspection des huîtres",description:"Vérification de la qualité et de la taille des huîtres dans le parc A.",priority:"high",status:"pending",dueDate:"2025-03-15",category:"Qualité",assignedTo:"Jean Dupont",estimatedTime:3,location:"Parc A - Zone Nord",tags:["inspection","qualité","huîtres"]},{id:"2",title:"Maintenance des poches",description:"Entretien et rotation des poches d'huîtres pour optimiser la croissance.",priority:"medium",status:"in_progress",dueDate:"2025-03-14",category:"Maintenance",assignedTo:"Marie Martin",estimatedTime:5,location:"Parc B - Filière 3",tags:["maintenance","poches","rotation"]},{id:"3",title:"Analyse de l'eau",description:"Prélèvement et analyse des échantillons d'eau pour surveiller la qualité du milieu.",priority:"medium",status:"completed",dueDate:"2025-03-10",category:"Environnement",assignedTo:"Sophie Bernard",estimatedTime:2,actualTime:1.5,location:"Laboratoire",tags:["analyse","eau","qualité"]},{id:"4",title:"Préparation commandes",description:"Préparation des commandes pour livraison aux restaurants locaux.",priority:"high",status:"in_progress",dueDate:"2025-03-13",category:"Logistique",assignedTo:"Thomas Leroy",estimatedTime:4,location:"Zone de conditionnement",tags:["commandes","livraison","restaurants"]},{id:"5",title:"Contrôle des naissains",description:"Vérification de la croissance des naissains et ajustement des conditions.",priority:"low",status:"pending",dueDate:"2025-03-18",category:"Production",assignedTo:"Julie Moreau",estimatedTime:3,location:"Écloserie",tags:["naissains","croissance","surveillance"]}];function O2({title:e,value:t,icon:r,color:n,onClick:a}){const i=()=>{switch(n){case"green":return"bg-emerald-500/20 text-emerald-400";case"blue":return"bg-blue-500/20 text-blue-400";case"yellow":return"bg-amber-500/20 text-amber-400";case"red":return"bg-red-500/20 text-red-400";default:return"bg-cyan-500/20 text-cyan-400"}};return s.jsx("div",{onClick:a,className:"p-4 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[120px] flex items-center stats-card transform hover:-translate-y-1 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4 direction-column",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${i()} flex items-center justify-center`,children:r}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:e}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:t})]})]})})}const _I={hidden:{opacity:0,transform:"translate3d(0, 20px, 0)"},visible:{opacity:1,transform:"translate3d(0, 0, 0)",transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transform:"translate3d(0, 20px, 0)",transition:{duration:.2,ease:"easeIn"}}};function XRe(){var g;Is();const[e,t]=k.useState(""),[r,n]=k.useState(null),[a,i]=k.useState(!1),{session:o}=Yo();(g=o==null?void 0:o.user)==null||g.role;const l=()=>{n(null)},c=()=>{i(!0)},u=()=>{i(!1)},d=v=>{console.log(`Filtering tasks by status: ${v}`)},f=v=>{console.log(`Filtering tasks by priority: ${v}`)},h=T2.filter(v=>v.status==="pending").length,p=T2.filter(v=>v.status==="in_progress").length,m=T2.filter(v=>v.status==="completed").length,x=T2.filter(v=>v.priority==="high").length;return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-4 sm:p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6 task-page-header",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 task-page-header",children:[s.jsxs("h1",{className:"text-3xl font-bold text-white flex justify-start items-center gap-2 mb-4 header-content",children:[s.jsx("span",{className:"header-icon",children:s.jsx("span",{className:"icon-inner",children:s.jsx(FV,{size:28,className:"text-cyan-400","aria-hidden":"true"})})}),s.jsx("span",{className:"header-title",children:"Gestion des Tâches"})]}),s.jsxs("div",{className:"flex flex-wrap md:flex-nowrap gap-3 action-buttons items-center",children:[s.jsxs("div",{className:"relative search-container w-full md:w-1/2",children:[s.jsx(Xa,{size:18,className:"search-icon absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60 pointer-events-none","aria-hidden":"true"}),s.jsx("input",{type:"text",placeholder:"Rechercher une tâche...",className:"pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] text-white w-full h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",value:e,onChange:v=>t(v.target.value)})]}),s.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] whitespace-nowrap h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 action-button w-full md:w-1/2","aria-label":"Ajouter une nouvelle tâche",children:[s.jsx(gr,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Nouvelle tâche"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 stats-container",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-4 w-full lg:w-2/5 stats-grid",children:[s.jsx(O2,{title:"En attente",value:h,icon:s.jsx(Qa,{size:20,className:"text-amber-500","aria-hidden":"true"}),color:"amber",onClick:()=>d("pending")}),s.jsx(O2,{title:"En cours",value:p,icon:s.jsx(PN,{size:20,className:"text-blue-500","aria-hidden":"true"}),color:"blue",onClick:()=>d("in_progress")})]}),s.jsx("div",{className:"w-full lg:w-1/5 flex justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 flex items-center justify-center",children:s.jsx(lk,{className:"h-10 w-10 text-cyan-400","aria-hidden":"true"})}),s.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mt-2",children:"Tâches en cours"}),s.jsx("p",{className:"text-sm text-white/60",children:Kt(new Date,"d MMMM yyyy",{locale:Zr})})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-4 w-full lg:w-2/5 stats-grid",children:[s.jsx(O2,{title:"Terminées",value:m,icon:s.jsx(uf,{size:20,className:"text-green-500","aria-hidden":"true"}),color:"green",onClick:()=>d("completed")}),s.jsx(O2,{title:"Prioritaires",value:x,icon:s.jsx(Oa,{size:20,className:"text-red-500","aria-hidden":"true"}),color:"red",onClick:()=>f("high")})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6 task-list-container",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 task-list-header",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:s.jsx(lk,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Liste des tâches"}),s.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",Kt(new Date,"d MMMM yyyy 'à' HH:mm",{locale:Zr})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:-translate-y-1 filter-button","aria-label":"Filtrer les tâches",children:[s.jsx(qi,{size:16,className:"text-white/70","aria-hidden":"true"}),s.jsx("span",{className:"text-white/70 text-sm",children:"Filtrer"})]})})]}),s.jsx(HRe,{searchQuery:e})]}),s.jsx(_r,{children:a&&s.jsx(je.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,children:s.jsxs(je.div,{className:"p-6 rounded-lg max-w-2xl w-full mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20 new-task-modal",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:v=>v.stopPropagation(),variants:_I,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-white/10 pb-4 new-task-modal-header",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:s.jsx(gr,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent new-task-modal-title",children:"Nouvelle tâche"})]}),s.jsx("button",{onClick:u,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:rotate-90 new-task-modal-close","aria-label":"Fermer",children:s.jsx(zt,{size:20,"aria-hidden":"true"})})]}),s.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar new-task-modal-body",children:s.jsx(Zj,{onClose:u})})]})]})})}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 activity-report-container",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 activity-report-header",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:s.jsx(RV,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Rapport d'activité"}),s.jsx("p",{className:"text-sm text-white/60",children:"Performances et analyses"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 stats-grid",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[s.jsx("h3",{className:"text-lg text-white mb-2",children:"Efficacité"}),s.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"87%"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"+2% depuis la semaine dernière"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[s.jsx("h3",{className:"text-lg text-white mb-2",children:"Temps moyen"}),s.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"3.2h"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Par tâche complétée"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[s.jsx("h3",{className:"text-lg text-white mb-2",children:"Priorité"}),s.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"12"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Tâches à traiter cette semaine"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[s.jsx("h3",{className:"text-lg text-white mb-2",children:"Score global"}),s.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"A+"}),s.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Excellent niveau de performance"})]})]}),s.jsx("div",{className:"flex justify-center md:justify-end mt-4",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 export-button",children:[s.jsx(Wo,{size:18,"aria-hidden":"true"}),s.jsx("span",{children:"Exporter le rapport"})]})})]}),s.jsx(_r,{children:r&&s.jsx(je.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:s.jsx(je.div,{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 max-w-4xl w-full mx-4",variants:_I,initial:"hidden",animate:"visible",exit:"exit",onClick:v=>v.stopPropagation(),children:s.jsx(YRe,{table:r,onClose:l})})})})]})}function KRe({table:e}){const t=Is();return s.jsx("div",{className:"flex-1 pt-24",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-white/5 rounded-lg transition-colors text-white/60 hover:text-white/90",children:s.jsx(LM,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Bouzigues"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("p",{className:"text-white/60",children:"T-1234"}),s.jsx("button",{className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:s.jsx(kS,{size:14,className:"text-white/60"})})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-thermometer mr-2 text-brand-burgundy",children:s.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),"Température"]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-droplets mr-2 text-brand-primary",children:[s.jsx("path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"}),s.jsx("path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"})]}),"Salinité"]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clock mr-2 text-brand-tertiary",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Échantillonnage"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),s.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),s.jsx("span",{className:"text-white",children:"26 févr. 2025"})]}),s.jsx("div",{className:"pt-2 border-t border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),s.jsx("span",{className:"text-lg font-medium text-yellow-400",children:"2.5%"})]})})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shell mr-2 text-brand-burgundy",children:s.jsx("path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44"})}),"Lot en cours"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Calibre"}),s.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Quantité"}),s.jsx("span",{className:"text-white font-medium",children:"300 unités"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),s.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[s.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-spreadsheet mr-2 text-brand-tertiary",children:[s.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),s.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),s.jsx("path",{d:"M8 13h2"}),s.jsx("path",{d:"M14 13h2"}),s.jsx("path",{d:"M8 17h2"}),s.jsx("path",{d:"M14 17h2"})]}),"Importation de données"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),s.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-download mr-1",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),"Télécharger un modèle de fichier"]}),s.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-upload",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"17 8 12 3 7 8"}),s.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),"Importer des données"]})]})]})]})})}function QRe(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function JRe(e,t){t===void 0&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var ZRe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eLe=function(e){ZRe(t,e);function t(r,n){var a=this.constructor,i=e.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),QRe(i,a.prototype),JRe(i),i}return t}(Error),tLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rs=function(e){tLe(t,e);function t(r){r===void 0&&(r=void 0);var n=e.call(this,r)||this;return n.message=r,n}return t.prototype.getKind=function(){var r=this.constructor;return r.kind},t.kind="Exception",t}(eLe),rLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ha=function(e){rLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArgumentException",t}(Rs),nLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lt=function(e){nLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t}(Rs),SU=function(){function e(t){if(this.binarizer=t,t===null)throw new Lt("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(t,r){return this.binarizer.getBlackRow(t,r)},e.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,r,n,a){var i=this.binarizer.getLuminanceSource().crop(t,r,n,a);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},e}(),aLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pa=function(e){aLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(Rs),iLe=function(){function e(t){this.source=t}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}(),An=function(){function e(){}return e.arraycopy=function(t,r,n,a,i){for(;i--;)n[a++]=t[r++]},e.currentTimeMillis=function(){return Date.now()},e}(),sLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uE=function(e){sLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t}(Rs),oLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NI=function(e){oLe(t,e);function t(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=e.call(this,n)||this;return a.index=r,a.message=n,a}return t.kind="ArrayIndexOutOfBoundsException",t}(uE),lLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Va=function(){function e(){}return e.fill=function(t,r){for(var n=0,a=t.length;n<a;n++)t[n]=r},e.fillWithin=function(t,r,n,a){e.rangeCheck(t.length,r,n);for(var i=r;i<n;i++)t[i]=a},e.rangeCheck=function(t,r,n){if(r>n)throw new Lt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new NI(r);if(n>t)throw new NI(n)},e.asList=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t},e.create=function(t,r,n){var a=Array.from({length:t});return a.map(function(i){return Array.from({length:r}).fill(n)})},e.createInt32Array=function(t,r,n){var a=Array.from({length:t});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},e.equals=function(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(var n=0,a=t.length;n<a;n++)if(t[n]!==r[n])return!1;return!0},e.hashCode=function(t){var r,n;if(t===null)return 0;var a=1;try{for(var i=lLe(t),o=i.next();!o.done;o=i.next()){var l=o.value;a=31*a+l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},e.fillUint8Array=function(t,r){for(var n=0;n!==t.length;n++)t[n]=r},e.copyOf=function(t,r){return t.slice(0,r)},e.copyOfUint8Array=function(t,r){if(t.length<=r){var n=new Uint8Array(r);return n.set(t),n}return t.slice(0,r)},e.copyOfRange=function(t,r,n){var a=n-r,i=new Int32Array(a);return An.arraycopy(t,r,i,0,a),i},e.binarySearch=function(t,r,n){n===void 0&&(n=e.numberComparator);for(var a=0,i=t.length-1;a<=i;){var o=i+a>>1,l=n(r,t[o]);if(l>0)a=o+1;else if(l<0)i=o-1;else return o}return-a-1},e.numberComparator=function(t,r){return t-r},e}(),dr=function(){function e(){}return e.numberOfTrailingZeros=function(t){var r;if(t===0)return 32;var n=31;return r=t<<16,r!==0&&(n-=16,t=r),r=t<<8,r!==0&&(n-=8,t=r),r=t<<4,r!==0&&(n-=4,t=r),r=t<<2,r!==0&&(n-=2,t=r),n-(t<<1>>>31)},e.numberOfLeadingZeros=function(t){if(t===0)return 32;var r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r},e.toHexString=function(t){return t.toString(16)},e.toBinaryString=function(t){return String(parseInt(String(t),2))},e.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},e.truncDivision=function(t,r){return Math.trunc(t/r)},e.parseInt=function(t,r){return r===void 0&&(r=void 0),parseInt(t,r)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),hi=function(){function e(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=e.makeArray(t):this.bits=r)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var r=e.makeArray(t);An.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},e.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},e.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},e.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},e.prototype.getNextSet=function(t){var r=this.size;if(t>=r)return r;var n=this.bits,a=Math.floor(t/32),i=n[a];i&=~((1<<(t&31))-1);for(var o=n.length;i===0;){if(++a===o)return r;i=n[a]}var l=a*32+dr.numberOfTrailingZeros(i);return l>r?r:l},e.prototype.getNextUnset=function(t){var r=this.size;if(t>=r)return r;var n=this.bits,a=Math.floor(t/32),i=~n[a];i&=~((1<<(t&31))-1);for(var o=n.length;i===0;){if(++a===o)return r;i=~n[a]}var l=a*32+dr.numberOfTrailingZeros(i);return l>r?r:l},e.prototype.setBulk=function(t,r){this.bits[Math.floor(t/32)]=r},e.prototype.setRange=function(t,r){if(r<t||t<0||r>this.size)throw new Lt;if(r!==t){r--;for(var n=Math.floor(t/32),a=Math.floor(r/32),i=this.bits,o=n;o<=a;o++){var l=o>n?0:t&31,c=o<a?31:r&31,u=(2<<c)-(1<<l);i[o]|=u}}},e.prototype.clear=function(){for(var t=this.bits.length,r=this.bits,n=0;n<t;n++)r[n]=0},e.prototype.isRange=function(t,r,n){if(r<t||t<0||r>this.size)throw new Lt;if(r===t)return!0;r--;for(var a=Math.floor(t/32),i=Math.floor(r/32),o=this.bits,l=a;l<=i;l++){var c=l>a?0:t&31,u=l<i?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((o[l]&d)!==(n?d:0))return!1}return!0},e.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},e.prototype.appendBits=function(t,r){if(r<0||r>32)throw new Lt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((t>>n-1&1)===1)},e.prototype.appendBitArray=function(t){var r=t.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(t.get(n))},e.prototype.xor=function(t){if(this.size!==t.size)throw new Lt("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=t.bits[n]},e.prototype.toBytes=function(t,r,n,a){for(var i=0;i<a;i++){for(var o=0,l=0;l<8;l++)this.get(t)&&(o|=1<<7-l),t++;r[n+i]=o}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var o=a[i];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,t[r-i]=o}if(this.size!==n*32){for(var l=n*32-this.size,c=t[0]>>>l,i=1;i<n;i++){var u=t[i];c|=u<<32-l,t[i-1]=c,c=u>>>l}t[n-1]=c}this.bits=t},e.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.size===r.size&&Va.equals(this.bits,r.bits)},e.prototype.hashCode=function(){return 31*this.size+Va.hashCode(this.bits)},e.prototype.toString=function(){for(var t="",r=0,n=this.size;r<n;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var t=[],r=0,n=this.size;r<n;r++)t.push(this.get(r));return t},e}(),eS;(function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(eS||(eS={}));const Cn=eS;var cLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ut=function(e){cLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(Rs),uLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Gr;(function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"})(Gr||(Gr={}));var Ua=function(){function e(t,r,n){for(var a,i,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=t,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var f=c[u];e.VALUES_TO_ECI.set(f,this)}try{for(var h=uLe(o),p=h.next();!p.done;p=h.next()){var m=p.value;e.NAME_TO_ECI.set(m,this)}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new ut("incorect value");var r=e.VALUES_TO_ECI.get(t);if(r===void 0)throw new ut("incorect value");return r},e.getCharacterSetECIByName=function(t){var r=e.NAME_TO_ECI.get(t);if(r===void 0)throw new ut("incorect value");return r},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.getName()===r.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(Gr.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(Gr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(Gr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(Gr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(Gr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(Gr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(Gr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(Gr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(Gr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(Gr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(Gr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(Gr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(Gr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(Gr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(Gr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(Gr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(Gr.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(Gr.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(Gr.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(Gr.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(Gr.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(Gr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(Gr.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(Gr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(Gr.Big5,28,"Big5"),e.GB18030=new e(Gr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(Gr.EUC_KR,30,"EUC_KR","EUC-KR"),e}(),dLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cb=function(e){dLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t}(Rs),Uo=function(){function e(){}return e.decode=function(t,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(t,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&t==="ISO-8859-1"},e.encode=function(t,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(t,n):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},e.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},e.encodingName=function(t){return typeof t=="string"?t:t.getName()},e.encodingCharacterSet=function(t){return t instanceof Ua?t:Ua.getCharacterSetECIByName(t)},e.decodeFallback=function(t,r){var n=this.encodingCharacterSet(r);if(e.isDecodeFallbackSupported(n)){for(var a="",i=0,o=t.length;i<o;i++){var l=t[i].toString(16);l.length<2&&(l="0"+l),a+="%"+l}return decodeURIComponent(a)}if(n.equals(Ua.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new cb("Encoding "+this.encodingName(r)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(t){return t.equals(Ua.UTF8)||t.equals(Ua.ISO8859_1)||t.equals(Ua.ASCII)},e.encodeFallback=function(t){for(var r=btoa(unescape(encodeURIComponent(t))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},e}(),wr=function(){function e(){}return e.castAsNonUtf8Char=function(t,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Uo.decode(new Uint8Array([t]),n)},e.guessEncoding=function(t,r){if(r!=null&&r.get(Cn.CHARACTER_SET)!==void 0)return r.get(Cn.CHARACTER_SET).toString();for(var n=t.length,a=!0,i=!0,o=!0,l=0,c=0,u=0,d=0,f=0,h=0,p=0,m=0,x=0,g=0,v=0,b=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,y=0;y<n&&(a||i||o);y++){var w=t[y]&255;o&&(l>0?w&128?l--:o=!1:w&128&&(w&64?(l++,w&32?(l++,w&16?(l++,w&8?o=!1:d++):u++):c++):o=!1)),a&&(w>127&&w<160?a=!1:w>159&&(w<192||w===215||w===247)&&v++),i&&(f>0?w<64||w===127||w>252?i=!1:f--:w===128||w===160||w>239?i=!1:w>160&&w<224?(h++,m=0,p++,p>x&&(x=p)):w>127?(f++,p=0,m++,m>g&&(g=m)):(p=0,m=0))}return o&&l>0&&(o=!1),i&&f>0&&(i=!1),o&&(b||c+u+d>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||x>=3||g>=3)?e.SHIFT_JIS:a&&i?x===2&&h===2||v*10>=n?e.SHIFT_JIS:e.ISO88591:a?e.ISO88591:i?e.SHIFT_JIS:o?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(l,c,u,d,f,h){if(l==="%%")return"%";if(r[++a]!==void 0){l=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[a];break;case"c":m=r[a][0];break;case"f":m=parseFloat(r[a]).toFixed(l);break;case"p":m=parseFloat(r[a]).toPrecision(l);break;case"e":m=parseFloat(r[a]).toExponential(l);break;case"x":m=parseInt(r[a]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[a],p||10).toPrecision(l)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var x=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";m.length<x;)m=c!==void 0?m+g:g+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,i)},e.getBytes=function(t,r){return Uo.encode(t,r)},e.getCharCode=function(t,r){return r===void 0&&(r=0),t.charCodeAt(r)},e.getCharAt=function(t){return String.fromCharCode(t)},e.SHIFT_JIS=Ua.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=Ua.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=Ua.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}(),lr=function(){function e(t){t===void 0&&(t=""),this.value=t}return e.prototype.enableDecoding=function(t){return this.encoding=t,this},e.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=wr.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},e.prototype.appendChars=function(t,r,n){for(var a=r;r<r+n;a++)this.append(t[a]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(t){return this.value.charAt(t)},e.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},e.prototype.setCharAt=function(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)},e.prototype.substring=function(t,r){return this.value.substring(t,r)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(t,r){this.value=this.value.substring(0,t)+r+this.value.substring(t)},e}(),hc=function(){function e(t,r,n,a){if(this.width=t,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=t),this.height=r,t<1||r<1)throw new Lt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((t+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var r=t.length,n=t[0].length,a=new e(n,r),i=0;i<r;i++)for(var o=t[i],l=0;l<n;l++)o[l]&&a.set(l,i);return a},e.parseFromString=function(t,r,n){if(t===null)throw new Lt("stringRepresentation cannot be null");for(var a=new Array(t.length),i=0,o=0,l=-1,c=0,u=0;u<t.length;)if(t.charAt(u)===`
`||t.charAt(u)==="\r"){if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new Lt("row lengths do not match");o=i,c++}u++}else if(t.substring(u,u+r.length)===r)u+=r.length,a[i]=!0,i++;else if(t.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new Lt("illegal character encountered: "+t.substring(u));if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new Lt("row lengths do not match");c++}for(var d=new e(l,c),f=0;f<i;f++)a[f]&&d.set(Math.floor(f%l),Math.floor(f/l));return d},e.prototype.get=function(t,r){var n=r*this.rowSize+Math.floor(t/32);return(this.bits[n]>>>(t&31)&1)!==0},e.prototype.set=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(t&31)&4294967295},e.prototype.unset=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(t&31)&4294967295)},e.prototype.flip=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(t&31)&4294967295},e.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Lt("input matrix dimensions do not match");for(var r=new hi(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,o=this.height;i<o;i++)for(var l=i*n,c=t.getRow(i,r).getBitArray(),u=0;u<n;u++)a[l+u]^=c[u]},e.prototype.clear=function(){for(var t=this.bits,r=t.length,n=0;n<r;n++)t[n]=0},e.prototype.setRegion=function(t,r,n,a){if(r<0||t<0)throw new Lt("Left and top must be nonnegative");if(a<1||n<1)throw new Lt("Height and width must be at least 1");var i=t+n,o=r+a;if(o>this.height||i>this.width)throw new Lt("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,u=r;u<o;u++)for(var d=u*l,f=t;f<i;f++)c[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},e.prototype.getRow=function(t,r){r==null||r.getSize()<this.width?r=new hi(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=t*n,o=0;o<n;o++)r.setBulk(o*32,a[i+o]);return r},e.prototype.setRow=function(t,r){An.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var t=this.getWidth(),r=this.getHeight(),n=new hi(t),a=new hi(t),i=0,o=Math.floor((r+1)/2);i<o;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},e.prototype.getEnclosingRectangle=function(){for(var t=this.width,r=this.height,n=this.rowSize,a=this.bits,i=t,o=r,l=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=a[u*n+d];if(f!==0){if(u<o&&(o=u),u>c&&(c=u),d*32<i){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<i&&(i=d*32+h)}if(d*32+31>l){for(var h=31;!(f>>>h);)h--;d*32+h>l&&(l=d*32+h)}}}return l<i||c<o?null:Int32Array.from([i,o,l-i+1,c-o+1])},e.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/t,i=n%t*32,o=r[n],l=0;!(o<<31-l&4294967295);)l++;return i+=l,Int32Array.from([i,a])},e.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/t),i=Math.floor(n%t)*32,o=r[n],l=31;!(o>>>l);)l--;return i+=l,Int32Array.from([i,a])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Va.equals(this.bits,r.bits)},e.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Va.hashCode(this.bits),t},e.prototype.toString=function(t,r,n){return t===void 0&&(t="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(t,r,n)},e.prototype.buildToString=function(t,r,n){for(var a=new lr,i=0,o=this.height;i<o;i++){for(var l=0,c=this.width;l<c;l++)a.append(this.get(l,i)?t:r);a.append(n)}return a.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}(),fLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ge=function(e){fLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(Rs),hLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pLe=function(e){hLe(t,e);function t(r){var n=e.call(this,r)||this;return n.luminances=t.EMPTY,n.buckets=new Int32Array(t.LUMINANCE_BUCKETS),n}return t.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new hi(i):n.clear(),this.initArrays(i);for(var o=a.getRow(r,this.luminances),l=this.buckets,c=0;c<i;c++)l[(o[c]&255)>>t.LUMINANCE_SHIFT]++;var u=t.estimateBlackPoint(l);if(i<3)for(var c=0;c<i;c++)(o[c]&255)<u&&n.set(c);else for(var d=o[0]&255,f=o[1]&255,c=1;c<i-1;c++){var h=o[c+1]&255;(f*4-d-h)/2<u&&n.set(c),d=f,f=h}return n},t.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new hc(n,a);this.initArrays(n);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(a*l/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;o[h>>t.LUMINANCE_SHIFT]++}for(var p=t.estimateBlackPoint(o),m=r.getMatrix(),l=0;l<a;l++)for(var x=l*n,f=0;f<n;f++){var h=m[x+f]&255;h<p&&i.set(f,l)}return i},t.prototype.createBinarizer=function(r){return new t(r)},t.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<t.LUMINANCE_BUCKETS;a++)n[a]=0},t.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,o=0,l=0;l<n;l++)r[l]>o&&(i=l,o=r[l]),r[l]>a&&(a=r[l]);for(var c=0,u=0,l=0;l<n;l++){var d=l-i,f=r[l]*d*d;f>u&&(c=l,u=f)}if(i>c){var h=i;i=c,c=h}if(c-i<=n/16)throw new Ge;for(var p=c-1,m=-1,l=c-1;l>i;l--){var x=l-i,f=x*x*(c-l)*(a-r[l]);f>m&&(p=l,m=f)}return p<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(iLe),mLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AU=function(e){mLe(t,e);function t(r){var n=e.call(this,r)||this;return n.matrix=null,n}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=t.MINIMUM_DIMENSION&&a>=t.MINIMUM_DIMENSION){var i=r.getMatrix(),o=n>>t.BLOCK_SIZE_POWER;n&t.BLOCK_SIZE_MASK&&o++;var l=a>>t.BLOCK_SIZE_POWER;a&t.BLOCK_SIZE_MASK&&l++;var c=t.calculateBlackPoints(i,o,l,n,a),u=new hc(n,a);t.calculateThresholdForBlock(i,o,l,n,a,c,u),this.matrix=u}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(r){return new t(r)},t.calculateThresholdForBlock=function(r,n,a,i,o,l,c){for(var u=o-t.BLOCK_SIZE,d=i-t.BLOCK_SIZE,f=0;f<a;f++){var h=f<<t.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=t.cap(f,2,a-3),m=0;m<n;m++){var x=m<<t.BLOCK_SIZE_POWER;x>d&&(x=d);for(var g=t.cap(m,2,n-3),v=0,b=-2;b<=2;b++){var y=l[p+b];v+=y[g-2]+y[g-1]+y[g]+y[g+1]+y[g+2]}var w=v/25;t.thresholdBlock(r,x,h,w,i,c)}}},t.cap=function(r,n,a){return r<n?n:r>a?a:r},t.thresholdBlock=function(r,n,a,i,o,l){for(var c=0,u=a*o+n;c<t.BLOCK_SIZE;c++,u+=o)for(var d=0;d<t.BLOCK_SIZE;d++)(r[u+d]&255)<=i&&l.set(n+d,a+c)},t.calculateBlackPoints=function(r,n,a,i,o){for(var l=o-t.BLOCK_SIZE,c=i-t.BLOCK_SIZE,u=new Array(a),d=0;d<a;d++){u[d]=new Int32Array(n);var f=d<<t.BLOCK_SIZE_POWER;f>l&&(f=l);for(var h=0;h<n;h++){var p=h<<t.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,x=255,g=0,v=0,b=f*i+p;v<t.BLOCK_SIZE;v++,b+=i){for(var y=0;y<t.BLOCK_SIZE;y++){var w=r[b+y]&255;m+=w,w<x&&(x=w),w>g&&(g=w)}if(g-x>t.MIN_DYNAMIC_RANGE)for(v++,b+=i;v<t.BLOCK_SIZE;v++,b+=i)for(var y=0;y<t.BLOCK_SIZE;y++)m+=r[b+y]&255}var N=m>>t.BLOCK_SIZE_POWER*2;if(g-x<=t.MIN_DYNAMIC_RANGE&&(N=x/2,d>0&&h>0)){var S=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;x<S&&(N=S)}u[d][h]=N}}return u},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t}(pLe),zg=function(){function e(t,r){this.width=t,this.height=r}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(t,r,n,a){throw new cb("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new cb("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new cb("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),r=new lr,n=0;n<this.height;n++){for(var a=this.getRow(n,t),i=0;i<this.width;i++){var o=a[i]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},e}(),xLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I5=function(e){xLe(t,e);function t(r){var n=e.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return t.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),o=0;o<i;o++)a[o]=255-(a[o]&255);return a},t.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(r,n,a,i){return new t(this.delegate.crop(r,n,a,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(zg),gLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vLe=function(e){gLe(t,e);function t(r,n){n===void 0&&(n=!1);var a=e.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=t.makeBufferFromCanvasImageData(r,n),a}return t.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return t.toGrayscaleBuffer(a.data,r.width,r.height,n)},t.toGrayscaleBuffer=function(r,n,a,i){i===void 0&&(i=!1);var o=new Uint8ClampedArray(n*a);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var l=0,c=0,u=r.length;l<u;l+=4,c++){var d=void 0,f=r[l+3];if(f===0)d=255;else{var h=r[l],p=r[l+1],m=r[l+2];d=306*h+601*p+117*m+512>>10}o[c]=d}else for(var l=0,c=0,x=r.length;l<x;l+=4,c++){var d=void 0,f=r[l+3];if(f===0)d=255;else{var h=r[l],p=r[l+1],m=r[l+2];d=306*h+601*p+117*m+512>>10}o[c]=255-d}return o},t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Lt("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return e.prototype.crop.call(this,r,n,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},t.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*t.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*l),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*l);return n.width=c,n.height=u,a.translate(c/2,u/2),a.rotate(i),a.drawImage(this.canvas,o/-2,l/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.prototype.invert=function(){return new I5(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}(zg),bLe=function(){function e(t,r,n){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),rs=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},ns=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mm=function(){function e(t,r,n){r===void 0&&(r=500),this.reader=t,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return rs(this,void 0,void 0,function(){var t,r,n,a,i,o,l,c,u,d,f,h;return ns(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=p.sent(),r=[];try{for(n=yLe(t),a=n.next();!a.done;a=n.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(l=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),u=i.groupId,d={deviceId:l,label:c,kind:o,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},e.prototype.getVideoInputDevices=function(){return rs(this,void 0,void 0,function(){var t;return ns(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),[2,t.map(function(n){return new bLe(n.deviceId,n.label)})]}})})},e.prototype.findDeviceById=function(t){return rs(this,void 0,void 0,function(){var r;return ns(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===t})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(t,r){return rs(this,void 0,void 0,function(){return ns(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,r){return rs(this,void 0,void 0,function(){var n,a;return ns(this,function(i){switch(i.label){case 0:return this.reset(),t?n={deviceId:{exact:t}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(t,r){return rs(this,void 0,void 0,function(){var n;return ns(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,r){return rs(this,void 0,void 0,function(){var n,a;return ns(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(t,r,n){return rs(this,void 0,void 0,function(){return ns(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(t,r,n)];case 1:return[2,a.sent()]}})})},e.prototype.decodeFromVideoDevice=function(t,r,n){return rs(this,void 0,void 0,function(){var a,i;return ns(this,function(o){switch(o.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromConstraints=function(t,r,n){return rs(this,void 0,void 0,function(){var a;return ns(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromStream=function(t,r,n){return rs(this,void 0,void 0,function(){var a;return ns(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(t,r){return rs(this,void 0,void 0,function(){var n;return ns(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,t),this.videoElement=n,this.stream=t,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},e.prototype.playVideoOnLoadAsync=function(t){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(t,function(){return n()})})},e.prototype.playVideoOnLoad=function(t,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)},e.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},e.prototype.tryPlayVideo=function(t){return rs(this,void 0,void 0,function(){return ns(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(t,r){var n=document.getElementById(t);if(!n)throw new ha("element with id '"+t+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new ha("element with id '"+t+"' must be an "+r+" element");return n},e.prototype.decodeFromImage=function(t,r){if(!t&&!r)throw new ha("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)},e.prototype.decodeFromVideo=function(t,r){if(!t&&!r)throw new ha("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)},e.prototype.decodeFromVideoContinuously=function(t,r,n){if(t===void 0&&r===void 0)throw new ha("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(t,n)},e.prototype.decodeFromImageElement=function(t){if(!t)throw new ha("An image element must be provided.");this.reset();var r=this.prepareImageElement(t);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},e.prototype.decodeFromVideoElement=function(t){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)},e.prototype.decodeFromVideoElementContinuously=function(t,r){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,r)},e.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new ha("A video element must be provided.");this.reset();var r=this.prepareVideoElement(t);return this.videoElement=r,r},e.prototype.decodeFromImageUrl=function(t){if(!t)throw new ha("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=t,n},e.prototype.decodeFromVideoUrl=function(t){if(!t)throw new ha("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=t,n},e.prototype.decodeFromVideoUrlContinuously=function(t,r){if(!t)throw new ha("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=t,a},e.prototype._decodeOnLoadImage=function(t){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(t,!1,!0).then(n,a)},t.addEventListener("load",r.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(t){return rs(this,void 0,void 0,function(){return ns(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),[4,this.decodeOnce(t)];case 2:return[2,r.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(t,r){return rs(this,void 0,void 0,function(){return ns(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),this.decodeContinuously(t,r),[2]}})})},e.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.prototype.prepareImageElement=function(t){var r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r},e.prototype.prepareVideoElement=function(t){var r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.prototype.decodeOnce=function(t,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(o,l){if(a._stopAsyncDecode){l(new Ge("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(t);o(c)}catch(h){var u=r&&h instanceof Ge,d=h instanceof Pa||h instanceof ut,f=d&&n;if(u||f)return setTimeout(i,a._timeBetweenDecodingAttempts,o,l);l(h)}};return new Promise(function(o,l){return i(o,l)})},e.prototype.decodeContinuously=function(t,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(t);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof Pa||c instanceof ut,l=c instanceof Ge;(o||l)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},e.prototype.decode=function(t){var r=this.createBinaryBitmap(t);return this.decodeBitmap(r)},e.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var r=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),r=!0):this.drawImageOnCanvas(t);var n=this.getCaptureCanvas(t),a=new vLe(n,r),i=new AU(a);return new SU(i)},e.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(t),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(t,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},e.prototype.drawImageOnCanvas=function(t,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},e.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(n=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(n=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}},e.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},e}(),Qi=function(){function e(t,r,n,a,i,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=An.currentTimeMillis()),this.text=t,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,o==null?this.timestamp=An.currentTimeMillis():this.timestamp=o}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)},e.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},e.prototype.addResultPoints=function(t){var r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){var n=new Array(r.length+t.length);An.arraycopy(r,0,n,0,r.length),An.arraycopy(t,0,n,r.length,t.length),this.resultPoints=n}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}(),tS;(function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tS||(tS={}));const Rt=tS;var rS;(function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rS||(rS={}));const Ai=rS;var M5=function(){function e(t,r,n,a,i,o){i===void 0&&(i=-1),o===void 0&&(o=-1),this.rawBytes=t,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=t==null?0:8*t.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(t){this.numBits=t},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(t){this.erasures=t},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(t){this.other=t},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}(),Sx=function(){function e(){}return e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Lt;return this.logTable[t]},e.addOrSubtract=function(t,r){return t^r},e}(),bd=function(){function e(t,r){if(r.length===0)throw new Lt;this.field=t;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),An.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var r=this.coefficients,n;if(t===1){n=0;for(var a=0,i=r.length;a!==i;a++){var o=r[a];n=Sx.addOrSubtract(n,o)}return n}n=r[0];for(var l=r.length,c=this.field,a=1;a<l;a++)n=Sx.addOrSubtract(c.multiply(t,n),r[a]);return n},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Lt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),o=n.length-r.length;An.arraycopy(n,0,i,0,o);for(var l=o;l<n.length;l++)i[l]=Sx.addOrSubtract(r[l-o],n[l]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Lt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=t.coefficients,i=a.length,o=new Int32Array(n+i-1),l=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<i;d++)o[c+d]=Sx.addOrSubtract(o[c+d],l.multiply(u,a[d]));return new e(l,o)},e.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,o=0;o<r;o++)a[o]=n.multiply(i[o],t);return new e(n,a)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new Lt;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+t),o=this.field,l=0;l<a;l++)i[l]=o.multiply(n[l],r);return new e(o,i)},e.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Lt("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Lt("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=t.getCoefficient(t.getDegree()),o=r.inverse(i);a.getDegree()>=t.getDegree()&&!a.isZero();){var l=a.getDegree()-t.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),o),u=t.multiplyByMonomial(l,c),d=r.buildMonomial(l,c);n=n.addOrSubtract(d),a=a.addOrSubtract(u)}return[n,a]},e.prototype.toString=function(){for(var t="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t},e}(),wLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CU=function(e){wLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArithmeticException",t}(Rs),_Le=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ks=function(e){_Le(t,e);function t(r,n,a){var i=e.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var o=new Int32Array(n),l=1,c=0;c<n;c++)o[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);i.expTable=o;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[o[c]]=c;return i.logTable=u,i.zero=new bd(i,Int32Array.from([0])),i.one=new bd(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(r,n){if(r<0)throw new Lt;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new bd(this,a)},t.prototype.inverse=function(r){if(r===0)throw new CU;return this.expTable[this.size-this.logTable[r]-1]},t.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+dr.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(r){return r===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(Sx),NLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P2=function(e){NLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReedSolomonException",t}(Rs),jLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ug=function(e){jLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalStateException",t}(Rs),F5=function(){function e(t){this.field=t}return e.prototype.decode=function(t,r){for(var n=this.field,a=new bd(n,t),i=new Int32Array(r),o=!0,l=0;l<r;l++){var c=a.evaluateAt(n.exp(l+n.getGeneratorBase()));i[i.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var u=new bd(n,i),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),l=0;l<p.length;l++){var x=t.length-1-n.log(p[l]);if(x<0)throw new P2("Bad error location");t[x]=ks.addOrSubtract(t[x],m[l])}},e.prototype.runEuclideanAlgorithm=function(t,r,n){if(t.getDegree()<r.getDegree()){var a=t;t=r,r=a}for(var i=this.field,o=t,l=r,c=i.getZero(),u=i.getOne();l.getDegree()>=(n/2|0);){var d=o,f=c;if(o=l,c=u,o.isZero())throw new P2("r_{i-1} was zero");l=d;for(var h=i.getZero(),p=o.getCoefficient(o.getDegree()),m=i.inverse(p);l.getDegree()>=o.getDegree()&&!l.isZero();){var x=l.getDegree()-o.getDegree(),g=i.multiply(l.getCoefficient(l.getDegree()),m);h=h.addOrSubtract(i.buildMonomial(x,g)),l=l.addOrSubtract(o.multiplyByMonomial(x,g))}if(u=h.multiply(c).addOrSubtract(f),l.getDegree()>=o.getDegree())throw new Ug("Division algorithm failed to reduce polynomial?")}var v=u.getCoefficient(0);if(v===0)throw new P2("sigmaTilde(0) was zero");var b=i.inverse(v),y=u.multiplyScalar(b),w=l.multiplyScalar(b);return[y,w]},e.prototype.findErrorLocations=function(t){var r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,o=1;o<i.getSize()&&a<r;o++)t.evaluateAt(o)===0&&(n[a]=i.inverse(o),a++);if(a!==r)throw new P2("Error locator degree does not match number of roots");return n},e.prototype.findErrorMagnitudes=function(t,r){for(var n=r.length,a=new Int32Array(n),i=this.field,o=0;o<n;o++){for(var l=i.inverse(r[o]),c=1,u=0;u<n;u++)if(o!==u){var d=i.multiply(r[u],l),f=d&1?d&-2:d|1;c=i.multiply(c,f)}a[o]=i.multiply(t.evaluateAt(l),i.inverse(c)),i.getGeneratorBase()!==0&&(a[o]=i.multiply(a[o],l))}return a},e}(),bi;(function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"})(bi||(bi={}));var jI=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var r=t.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=e.convertBoolArrayToByteArray(a),o=e.getEncodedData(a),l=new M5(i,o,null,null);return l.setNumBits(a.length),l},e.highLevelDecode=function(t){return this.getEncodedData(t)},e.getEncodedData=function(t){for(var r=t.length,n=bi.UPPER,a=bi.UPPER,i="",o=0;o<r;)if(a===bi.BINARY){if(r-o<5)break;var l=e.readCode(t,o,5);if(o+=5,l===0){if(r-o<11)break;l=e.readCode(t,o,11)+31,o+=11}for(var c=0;c<l;c++){if(r-o<8){o=r;break}var u=e.readCode(t,o,8);i+=wr.castAsNonUtf8Char(u),o+=8}a=n}else{var d=a===bi.DIGIT?4:5;if(r-o<d)break;var u=e.readCode(t,o,d);o+=d;var f=e.getCharacter(a,u);f.startsWith("CTRL_")?(n=a,a=e.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=a)):(i+=f,a=n)}return i},e.getTable=function(t){switch(t){case"L":return bi.LOWER;case"P":return bi.PUNCT;case"M":return bi.MIXED;case"D":return bi.DIGIT;case"B":return bi.BINARY;case"U":default:return bi.UPPER}},e.getCharacter=function(t,r){switch(t){case bi.UPPER:return e.UPPER_TABLE[r];case bi.LOWER:return e.LOWER_TABLE[r];case bi.MIXED:return e.MIXED_TABLE[r];case bi.PUNCT:return e.PUNCT_TABLE[r];case bi.DIGIT:return e.DIGIT_TABLE[r];default:throw new Ug("Bad table")}},e.prototype.correctBits=function(t){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=ks.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=ks.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=ks.AZTEC_DATA_10):(n=12,r=ks.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=t.length/n;if(i<a)throw new ut;for(var o=t.length%n,l=new Int32Array(i),c=0;c<i;c++,o+=n)l[c]=e.readCode(t,o,n);try{var u=new F5(r);u.decode(l,i-a)}catch(g){throw new ut(g)}for(var d=(1<<n)-1,f=0,c=0;c<a;c++){var h=l[c];if(h===0||h===d)throw new ut;(h===1||h===d-1)&&f++}for(var p=new Array(a*n-f),m=0,c=0;c<a;c++){var h=l[c];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var x=n-1;x>=0;--x)p[m++]=(h&1<<x)!==0}return p},e.prototype.extractBits=function(t){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<i.length;l++)i[l]=l;else for(var c=a+1+2*dr.truncDivision(dr.truncDivision(a,2)-1,15),u=a/2,d=dr.truncDivision(c,2),l=0;l<u;l++){var f=l+dr.truncDivision(l,15);i[u-l-1]=d-f-1,i[u+l]=d+f+1}for(var l=0,h=0;l<n;l++){for(var p=(n-l)*4+(r?9:12),m=l*2,x=a-1-m,g=0;g<p;g++)for(var v=g*2,b=0;b<2;b++)o[h+v+b]=t.get(i[m+b],i[m+g]),o[h+2*p+v+b]=t.get(i[m+g],i[x-b]),o[h+4*p+v+b]=t.get(i[x-b],i[x-g]),o[h+6*p+v+b]=t.get(i[x-g],i[m+b]);h+=p*8}return o},e.readCode=function(t,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,t[i]&&(a|=1);return a},e.readByte=function(t,r){var n=t.length-r;return n>=8?e.readCode(t,r,8):e.readCode(t,r,n)<<8-n},e.convertBoolArrayToByteArray=function(t){for(var r=new Uint8Array((t.length+7)/8),n=0;n<r.length;n++)r[n]=e.readByte(t,8*n);return r},e.prototype.totalBitsInLayer=function(t,r){return((r?88:112)+16*t)*t},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}(),Dr=function(){function e(){}return e.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},e.distance=function(t,r,n,a){var i=t-n,o=r-a;return Math.sqrt(i*i+o*o)},e.sum=function(t){for(var r=0,n=0,a=t.length;n!==a;n++){var i=t[n];r+=i}return r},e}(),nS=function(){function e(){}return e.floatToIntBits=function(t){return t},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),Et=function(){function e(t,r){this.x=t,this.y=r}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var r=t;return this.x===r.x&&this.y===r.y}return!1},e.prototype.hashCode=function(){return 31*nS.floatToIntBits(this.x)+nS.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(t){var r=this.distance(t[0],t[1]),n=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]),i,o,l;if(n>=r&&n>=a?(o=t[0],i=t[1],l=t[2]):a>=n&&a>=r?(o=t[1],i=t[0],l=t[2]):(o=t[2],i=t[0],l=t[1]),this.crossProductZ(i,o,l)<0){var c=i;i=l,l=c}t[0]=i,t[1]=o,t[2]=l},e.distance=function(t,r){return Dr.distance(t.x,t.y,r.x,r.y)},e.crossProductZ=function(t,r,n){var a=r.x,i=r.y;return(n.x-a)*(t.y-i)-(n.y-i)*(t.x-a)},e}(),dE=function(){function e(t,r){this.bits=t,this.points=r}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),SLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ALe=function(e){SLe(t,e);function t(r,n,a,i,o){var l=e.call(this,r,n)||this;return l.compact=a,l.nbDatablocks=i,l.nbLayers=o,l}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(dE),aS=function(){function e(t,r,n,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=e.INIT_SIZE),n==null&&(n=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ge}return e.prototype.detect=function(){for(var t=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,o=!0,l=!1,c=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!c)&&r<h;)m=this.containsBlackPoint(n,a,r,!1),m?(r++,o=!0,c=!0):c||r++;if(r>=h){i=!0;break}for(var x=!0;(x||!u)&&a<p;)x=this.containsBlackPoint(t,r,a,!0),x?(a++,o=!0,u=!0):u||a++;if(a>=p){i=!0;break}for(var g=!0;(g||!d)&&t>=0;)g=this.containsBlackPoint(n,a,t,!1),g?(t--,o=!0,d=!0):d||t--;if(t<0){i=!0;break}for(var v=!0;(v||!f)&&n>=0;)v=this.containsBlackPoint(t,r,n,!0),v?(n--,o=!0,f=!0):f||n--;if(n<0){i=!0;break}o&&(l=!0)}if(!i&&l){for(var b=r-t,y=null,w=1;y===null&&w<b;w++)y=this.getBlackPointOnSegment(t,a-w,t+w,a);if(y==null)throw new Ge;for(var N=null,w=1;N===null&&w<b;w++)N=this.getBlackPointOnSegment(t,n+w,t+w,n);if(N==null)throw new Ge;for(var S=null,w=1;S===null&&w<b;w++)S=this.getBlackPointOnSegment(r,n+w,r-w,n);if(S==null)throw new Ge;for(var j=null,w=1;j===null&&w<b;w++)j=this.getBlackPointOnSegment(r,a-w,r-w,a);if(j==null)throw new Ge;return this.centerEdges(j,y,S,N)}else throw new Ge},e.prototype.getBlackPointOnSegment=function(t,r,n,a){for(var i=Dr.round(Dr.distance(t,r,n,a)),o=(n-t)/i,l=(a-r)/i,c=this.image,u=0;u<i;u++){var d=Dr.round(t+u*o),f=Dr.round(r+u*l);if(c.get(d,f))return new Et(d,f)}return null},e.prototype.centerEdges=function(t,r,n,a){var i=t.getX(),o=t.getY(),l=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),f=a.getX(),h=a.getY(),p=e.CORR;return i<this.width/2?[new Et(f-p,h+p),new Et(l+p,c+p),new Et(u-p,d-p),new Et(i+p,o-p)]:[new Et(f+p,h+p),new Et(l+p,c-p),new Et(u-p,d+p),new Et(i-p,o-p)]},e.prototype.containsBlackPoint=function(t,r,n,a){var i=this.image;if(a){for(var o=t;o<=r;o++)if(i.get(o,n))return!0}else for(var l=t;l<=r;l++)if(i.get(n,l))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}(),SI=function(){function e(){}return e.checkAndNudgePoints=function(t,r){for(var n=t.getWidth(),a=t.getHeight(),i=!0,o=0;o<r.length&&i;o+=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>a)throw new Ge;i=!1,l===-1?(r[o]=0,i=!0):l===n&&(r[o]=n-1,i=!0),c===-1?(r[o+1]=0,i=!0):c===a&&(r[o+1]=a-1,i=!0)}i=!0;for(var o=r.length-2;o>=0&&i;o-=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>a)throw new Ge;i=!1,l===-1?(r[o]=0,i=!0):l===n&&(r[o]=n-1,i=!0),c===-1?(r[o+1]=0,i=!0):c===a&&(r[o+1]=a-1,i=!0)}},e}(),EU=function(){function e(t,r,n,a,i,o,l,c,u){this.a11=t,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=o,this.a13=l,this.a23=c,this.a33=u}return e.quadrilateralToQuadrilateral=function(t,r,n,a,i,o,l,c,u,d,f,h,p,m,x,g){var v=e.quadrilateralToSquare(t,r,n,a,i,o,l,c),b=e.squareToQuadrilateral(u,d,f,h,p,m,x,g);return b.times(v)},e.prototype.transformPoints=function(t){for(var r=t.length,n=this.a11,a=this.a12,i=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=t[h],m=t[h+1],x=i*p+c*m+f;t[h]=(n*p+o*m+u)/x,t[h+1]=(a*p+l*m+d)/x}},e.prototype.transformPointsWithValues=function(t,r){for(var n=this.a11,a=this.a12,i=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=t.length,p=0;p<h;p++){var m=t[p],x=r[p],g=i*m+c*x+f;t[p]=(n*m+o*x+u)/g,r[p]=(a*m+l*x+d)/g}},e.squareToQuadrilateral=function(t,r,n,a,i,o,l,c){var u=t-n+i-l,d=r-a+o-c;if(u===0&&d===0)return new e(n-t,i-n,t,a-r,o-a,r,0,0,1);var f=n-i,h=l-i,p=a-o,m=c-o,x=f*m-h*p,g=(u*m-h*d)/x,v=(f*d-u*p)/x;return new e(n-t+g*n,l-t+v*l,t,a-r+g*a,c-r+v*c,r,g,v,1)},e.quadrilateralToSquare=function(t,r,n,a,i,o,l,c){return e.squareToQuadrilateral(t,r,n,a,i,o,l,c).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}(),CLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ELe=function(e){CLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sampleGrid=function(r,n,a,i,o,l,c,u,d,f,h,p,m,x,g,v,b,y,w){var N=EU.quadrilateralToQuadrilateral(i,o,l,c,u,d,f,h,p,m,x,g,v,b,y,w);return this.sampleGridWithTransform(r,n,a,N)},t.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new Ge;for(var o=new hc(n,a),l=new Float32Array(2*n),c=0;c<a;c++){for(var u=l.length,d=c+.5,f=0;f<u;f+=2)l[f]=f/2+.5,l[f+1]=d;i.transformPoints(l),SI.checkAndNudgePoints(r,l);try{for(var f=0;f<u;f+=2)r.get(Math.floor(l[f]),Math.floor(l[f+1]))&&o.set(f/2,c)}catch{throw new Ge}}return o},t}(SI),fE=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new ELe,e}(),Ss=function(){function e(t,r){this.x=t,this.y=r}return e.prototype.toResultPoint=function(){return new Et(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),kLe=function(){function e(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(t){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(t){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new ALe(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Ge;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var o=n[(this.shift+i)%4];this.compact?(a<<=7,a+=o>>1&127):(a<<=10,a+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},e.prototype.getRotation=function(t,r){var n=0;t.forEach(function(i,o,l){var c=(i>>r-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(dr.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Ge},e.prototype.getCorrectedParameterData=function(t,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,o=new Int32Array(n),l=n-1;l>=0;--l)o[l]=t&15,t>>=4;try{var c=new F5(ks.AZTEC_PARAM);c.decode(o,i)}catch{throw new Ge}for(var u=0,l=0;l<a;l++)u=(u<<4)+o[l];return u},e.prototype.getBullsEyeCorners=function(t){var r=t,n=t,a=t,i=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(a,o,-1,1),d=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(l,c,u,d))break}r=l,n=c,a=u,i=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ge;this.compact=this.nbCenterLayers===5;var h=new Et(r.getX()+.5,r.getY()-.5),p=new Et(n.getX()+.5,n.getY()+.5),m=new Et(a.getX()-.5,a.getY()+.5),x=new Et(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,p,m,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var t,r,n,a;try{var i=new aS(this.image).detect();t=i[0],r=i[1],n=i[2],a=i[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;t=this.getFirstDifferent(new Ss(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ss(o+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ss(o-7,l+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ss(o-7,l-7),!1,-1,-1).toResultPoint()}var c=Dr.round((t.getX()+a.getX()+r.getX()+n.getX())/4),u=Dr.round((t.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new aS(this.image,15,c,u).detect();t=i[0],r=i[1],n=i[2],a=i[3]}catch{t=this.getFirstDifferent(new Ss(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ss(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ss(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ss(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Dr.round((t.getX()+a.getX()+r.getX()+n.getX())/4),u=Dr.round((t.getY()+a.getY()+r.getY()+n.getY())/4),new Ss(c,u)},e.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(t,r,n,a,i){var o=fE.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,u=l/2+this.nbCenterLayers;return o.sampleGrid(t,l,l,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},e.prototype.sampleLine=function(t,r,n){for(var a=0,i=this.distanceResultPoint(t,r),o=i/n,l=t.getX(),c=t.getY(),u=o*(r.getX()-t.getX())/i,d=o*(r.getY()-t.getY())/i,f=0;f<n;f++)this.image.get(Dr.round(l+f*u),Dr.round(c+f*d))&&(a|=1<<n-f-1);return a},e.prototype.isWhiteOrBlackRectangle=function(t,r,n,a){var i=3;t=new Ss(t.getX()-i,t.getY()+i),r=new Ss(r.getX()-i,r.getY()-i),n=new Ss(n.getX()+i,n.getY()-i),a=new Ss(a.getX()+i,a.getY()+i);var o=this.getColor(a,t);if(o===0)return!1;var l=this.getColor(t,r);return l!==o||(l=this.getColor(r,n),l!==o)?!1:(l=this.getColor(n,a),l===o)},e.prototype.getColor=function(t,r){for(var n=this.distancePoint(t,r),a=(r.getX()-t.getX())/n,i=(r.getY()-t.getY())/n,o=0,l=t.getX(),c=t.getY(),u=this.image.get(t.getX(),t.getY()),d=Math.ceil(n),f=0;f<d;f++)l+=a,c+=i,this.image.get(Dr.round(l),Dr.round(c))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},e.prototype.getFirstDifferent=function(t,r,n,a){for(var i=t.getX()+n,o=t.getY()+a;this.isValid(i,o)&&this.image.get(i,o)===r;)i+=n,o+=a;for(i-=n,o-=a;this.isValid(i,o)&&this.image.get(i,o)===r;)i+=n;for(i-=n;this.isValid(i,o)&&this.image.get(i,o)===r;)o+=a;return o-=a,new Ss(i,o)},e.prototype.expandSquare=function(t,r,n){var a=n/(2*r),i=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),l=(t[0].getX()+t[2].getX())/2,c=(t[0].getY()+t[2].getY())/2,u=new Et(l+a*i,c+a*o),d=new Et(l-a*i,c-a*o);i=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),l=(t[1].getX()+t[3].getX())/2,c=(t[1].getY()+t[3].getY())/2;var f=new Et(l+a*i,c+a*o),h=new Et(l-a*i,c-a*o),p=[u,f,d,h];return p},e.prototype.isValid=function(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()},e.prototype.isValidPoint=function(t){var r=Dr.round(t.getX()),n=Dr.round(t.getY());return this.isValid(r,n)},e.prototype.distancePoint=function(t,r){return Dr.distance(t.getX(),t.getY(),r.getX(),r.getY())},e.prototype.distanceResultPoint=function(t,r){return Dr.distance(t.getX(),t.getY(),r.getX(),r.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(dr.truncDivision(this.nbLayers-4,8)+1)+15},e}(),tw=function(){function e(){}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n=null,a=new kLe(t.getBlackMatrix()),i=null,o=null;try{var l=a.detectMirror(!1);i=l.getPoints(),this.reportFoundResultPoints(r,i),o=new jI().decode(l)}catch(f){n=f}if(o==null)try{var l=a.detectMirror(!0);i=l.getPoints(),this.reportFoundResultPoints(r,i),o=new jI().decode(l)}catch(f){throw n??f}var c=new Qi(o.getText(),o.getRawBytes(),o.getNumBits(),i,Rt.AZTEC,An.currentTimeMillis()),u=o.getByteSegments();u!=null&&c.putMetadata(Ai.BYTE_SEGMENTS,u);var d=o.getECLevel();return d!=null&&c.putMetadata(Ai.ERROR_CORRECTION_LEVEL,d),c},e.prototype.reportFoundResultPoints=function(t,r){if(t!=null){var n=t.get(Cn.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,o){n.foundPossibleResultPoint(a)})}},e.prototype.reset=function(){},e}(),TLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){TLe(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new tw,r)||this}return t})(mm);var Ya=function(){function e(){}return e.prototype.decode=function(t,r){try{return this.doDecode(t,r)}catch{var n=r&&r.get(Cn.TRY_HARDER)===!0;if(n&&t.isRotateSupported()){var a=t.rotateCounterClockwise(),i=this.doDecode(a,r),o=i.getResultMetadata(),l=270;o!==null&&o.get(Ai.ORIENTATION)===!0&&(l=l+o.get(Ai.ORIENTATION)%360),i.putMetadata(Ai.ORIENTATION,l);var c=i.getResultPoints();if(c!==null)for(var u=a.getHeight(),d=0;d<c.length;d++)c[d]=new Et(u-c[d].getY()-1,c[d].getX());return i}else throw new Ge}},e.prototype.reset=function(){},e.prototype.doDecode=function(t,r){var n=t.getWidth(),a=t.getHeight(),i=new hi(n),o=r&&r.get(Cn.TRY_HARDER)===!0,l=Math.max(1,a>>(o?8:5)),c;o?c=a:c=15;for(var u=Math.trunc(a/2),d=0;d<c;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+l*(h?f:-f);if(p<0||p>=a)break;try{i=t.getBlackRow(p,i)}catch{continue}for(var m=function(b){if(b===1&&(i.reverse(),r&&r.get(Cn.NEED_RESULT_POINT_CALLBACK)===!0)){var y=new Map;r.forEach(function(S,j){return y.set(j,S)}),y.delete(Cn.NEED_RESULT_POINT_CALLBACK),r=y}try{var w=x.decodeRow(p,i,r);if(b===1){w.putMetadata(Ai.ORIENTATION,180);var N=w.getResultPoints();N!==null&&(N[0]=new Et(n-N[0].getX()-1,N[0].getY()),N[1]=new Et(n-N[1].getX()-1,N[1].getY()))}return{value:w}}catch{}},x=this,g=0;g<2;g++){var v=m(g);if(typeof v=="object")return v.value}}throw new Ge},e.recordPattern=function(t,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var o=t.getSize();if(r>=o)throw new Ge;for(var l=!t.get(r),c=0,u=r;u<o;){if(t.get(u)!==l)n[c]++;else{if(++c===a)break;n[c]=1,l=!l}u++}if(!(c===a||c===a-1&&u===o))throw new Ge},e.recordPatternInReverse=function(t,r,n){for(var a=n.length,i=t.get(r);r>0&&a>=0;)t.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new Ge;e.recordPattern(t,r+1,n)},e.patternMatchVariance=function(t,r,n){for(var a=t.length,i=0,o=0,l=0;l<a;l++)i+=t[l],o+=r[l];if(i<o)return Number.POSITIVE_INFINITY;var c=i/o;n*=c;for(var u=0,d=0;d<a;d++){var f=t[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/i},e}(),OLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AI=function(e){OLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),l=a,c=!1,u=6,d=a;d<n;d++)if(r.get(d)!==c)o[i]++;else{if(i===u-1){for(var f=t.MAX_AVG_VARIANCE,h=-1,p=t.CODE_START_A;p<=t.CODE_START_C;p++){var m=Ya.patternMatchVariance(o,t.CODE_PATTERNS[p],t.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,h]);l+=o[0]+o[1],o=o.slice(2,o.length),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,c=!c}throw new Ge},t.decodeCode=function(r,n,a){Ya.recordPattern(r,a,n);for(var i=t.MAX_AVG_VARIANCE,o=-1,l=0;l<t.CODE_PATTERNS.length;l++){var c=t.CODE_PATTERNS[l],u=this.patternMatchVariance(n,c,t.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,o=l)}if(o>=0)return o;throw new Ge},t.prototype.decodeRow=function(r,n,a){var i=a&&a.get(Cn.ASSUME_GS1)===!0,o=t.findStartPattern(n),l=o[2],c=0,u=new Uint8Array(20);u[c++]=l;var d;switch(l){case t.CODE_START_A:d=t.CODE_CODE_A;break;case t.CODE_START_B:d=t.CODE_CODE_B;break;case t.CODE_START_C:d=t.CODE_CODE_C;break;default:throw new ut}for(var f=!1,h=!1,p="",m=o[0],x=o[1],g=Int32Array.from([0,0,0,0,0,0]),v=0,b=0,y=l,w=0,N=!0,S=!1,j=!1;!f;){var A=h;switch(h=!1,v=b,b=t.decodeCode(n,g,x),u[c++]=b,b!==t.CODE_STOP&&(N=!0),b!==t.CODE_STOP&&(w++,y+=w*b),m=x,x+=g.reduce(function(W,X){return W+X},0),b){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new ut}switch(d){case t.CODE_CODE_A:if(b<64)j===S?p+=String.fromCharCode(32+b):p+=String.fromCharCode(32+b+128),j=!1;else if(b<96)j===S?p+=String.fromCharCode(b-64):p+=String.fromCharCode(b+64),j=!1;else switch(b!==t.CODE_STOP&&(N=!1),b){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!S&&j?(S=!0,j=!1):S&&j?(S=!1,j=!1):j=!0;break;case t.CODE_SHIFT:h=!0,d=t.CODE_CODE_B;break;case t.CODE_CODE_B:d=t.CODE_CODE_B;break;case t.CODE_CODE_C:d=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_B:if(b<96)j===S?p+=String.fromCharCode(32+b):p+=String.fromCharCode(32+b+128),j=!1;else switch(b!==t.CODE_STOP&&(N=!1),b){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!S&&j?(S=!0,j=!1):S&&j?(S=!1,j=!1):j=!0;break;case t.CODE_SHIFT:h=!0,d=t.CODE_CODE_A;break;case t.CODE_CODE_A:d=t.CODE_CODE_A;break;case t.CODE_CODE_C:d=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_C:if(b<100)b<10&&(p+="0"),p+=b;else switch(b!==t.CODE_STOP&&(N=!1),b){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_CODE_A:d=t.CODE_CODE_A;break;case t.CODE_CODE_B:d=t.CODE_CODE_B;break;case t.CODE_STOP:f=!0;break}break}A&&(d=d===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var T=x-m;if(x=n.getNextUnset(x),!n.isRange(x,Math.min(n.getSize(),x+(x-m)/2),!1))throw new Ge;if(y-=w*v,y%103!==v)throw new Pa;var R=p.length;if(R===0)throw new Ge;R>0&&N&&(d===t.CODE_CODE_C?p=p.substring(0,R-2):p=p.substring(0,R-1));for(var O=(o[1]+o[0])/2,E=m+T/2,L=u.length,B=new Uint8Array(L),G=0;G<L;G++)B[G]=u[G];var U=[new Et(O,r),new Et(E,r)];return new Qi(p,B,0,U,Rt.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(Ya),PLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fN=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},CI=function(e){PLe(t,e);function t(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=e.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return t.prototype.decodeRow=function(r,n,a){var i,o,l,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=t.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{t.recordPattern(n,f,u);var x=t.toNarrowWidePattern(u);if(x<0)throw new Ge;p=t.patternToChar(x),this.decodeRowResult+=p,m=f;try{for(var g=(i=void 0,fN(u)),v=g.next();!v.done;v=g.next()){var b=v.value;f+=b}}catch(L){i={error:L}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var w=fN(u),N=w.next();!N.done;N=w.next()){var b=N.value;y+=b}}catch(L){l={error:L}}finally{try{N&&!N.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}var S=f-m-y;if(f!==h&&S*2<y)throw new Ge;if(this.usingCheckDigit){for(var j=this.decodeRowResult.length-1,A=0,T=0;T<j;T++)A+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(T));if(this.decodeRowResult.charAt(j)!==t.ALPHABET_STRING.charAt(A%43))throw new Pa;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new Ge;var R;this.extendedMode?R=t.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;var O=(d[1]+d[0])/2,E=m+y/2;return new Qi(R,null,0,[new Et(O,r),new Et(E,r)],Rt.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),o=0,l=i,c=!1,u=n.length,d=i;d<a;d++)if(r.get(d)!==c)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===t.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new Ge},t.toNarrowWidePattern=function(r){var n,a,i=r.length,o=0,l;do{var c=2147483647;try{for(var u=(n=void 0,fN(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<c&&f>o&&(c=f)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}o=c,l=0;for(var h=0,p=0,m=0;m<i;m++){var f=r[m];f>o&&(p|=1<<i-1-m,l++,h+=f)}if(l===3){for(var m=0;m<i&&l>0;m++){var f=r[m];if(f>o&&(l--,f*2>=h))return-1}return p}}while(l>3);return-1},t.patternToChar=function(r){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===r)return t.ALPHABET_STRING.charAt(n);if(r===t.ASTERISK_ENCODING)return"*";throw new Ge},t.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var o=r.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(i+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ut;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ut;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new ut;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ut;break}a+=c,i++}else a+=o}return a},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(Ya),DLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hN=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},EI=function(e){DLe(t,e);function t(){var r=e.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return t.prototype.decodeRow=function(r,n,a){var i,o,l,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{t.recordPattern(n,d,h);var x=this.toPattern(h);if(x<0)throw new Ge;p=this.patternToChar(x),this.decodeRowResult+=p,m=d;try{for(var g=(i=void 0,hN(h)),v=g.next();!v.done;v=g.next()){var b=v.value;d+=b}}catch(T){i={error:T}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var w=hN(h),N=w.next();!N.done;N=w.next()){var b=N.value;y+=b}}catch(T){l={error:T}}finally{try{N&&!N.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}if(d===f||!n.get(d))throw new Ge;if(this.decodeRowResult.length<2)throw new Ge;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var S=this.decodeExtended(this.decodeRowResult),j=(u[1]+u[0])/2,A=m+y/2;return new Qi(S,null,0,[new Et(j,r),new Et(A,r)],Rt.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,o=a,l=!1,c=i.length,u=0,d=a;d<n;d++)if(r.get(d)!==l)i[u]++;else{if(u===c-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,l=!l}throw new Ge},t.prototype.toPattern=function(r){var n,a,i=0;try{for(var o=hN(r),l=o.next();!l.done;l=o.next()){var c=l.value;i+=c}}catch(m){n={error:m}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/i);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},t.prototype.patternToChar=function(r){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===r)return t.ALPHABET_STRING.charAt(n);throw new Ge},t.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var o=r.charAt(i);if(o>="a"&&o<="d"){if(i>=n-1)throw new ut;var l=r.charAt(i+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ut;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ut;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new ut;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ut;break}a+=c,i++}else a+=o}return a},t.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},t.prototype.checkOneChecksum=function(r,n,a){for(var i=1,o=0,l=n-1;l>=0;l--)o+=i*t.ALPHABET_STRING.indexOf(r.charAt(l)),++i>a&&(i=1);if(r.charAt(n)!==t.ALPHABET_STRING[o%47])throw new Pa},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t}(Ya),ILe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kI=function(e){ILe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return t.prototype.decodeRow=function(r,n,a){var i,o,l=this.decodeStart(n),c=this.decodeEnd(n),u=new lr;t.decodeMiddle(n,l[1],c[0],u);var d=u.toString(),f=null;a!=null&&(f=a.get(Cn.ALLOWED_LENGTHS)),f==null&&(f=t.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var x=MLe(f),g=x.next();!g.done;g=x.next()){var v=g.value;if(h===v){p=!0;break}v>m&&(m=v)}}catch(w){i={error:w}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}if(!p&&h>m&&(p=!0),!p)throw new ut;var b=[new Et(l[1],r),new Et(c[0],r)],y=new Qi(d,null,0,b,Rt.ITF,new Date().getTime());return y},t.decodeMiddle=function(r,n,a,i){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);n<a;){Ya.recordPattern(r,n,o);for(var u=0;u<5;u++){var d=2*u;l[u]=o[d],c[u]=o[d+1]}var f=t.decodeDigit(l);i.append(f.toString()),f=this.decodeDigit(c),i.append(f.toString()),o.forEach(function(h){n+=h})}},t.prototype.decodeStart=function(r){var n=t.skipWhiteSpace(r),a=t.findGuardPattern(r,n,t.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},t.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new Ge},t.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new Ge;return a},t.prototype.decodeEnd=function(r){r.reverse();try{var n=t.skipWhiteSpace(r),a=void 0;try{a=t.findGuardPattern(r,n,t.END_PATTERN_REVERSED[0])}catch(o){o instanceof Ge&&(a=t.findGuardPattern(r,n,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},t.findGuardPattern=function(r,n,a){var i=a.length,o=new Int32Array(i),l=r.getSize(),c=!1,u=0,d=n;o.fill(0);for(var f=n;f<l;f++)if(r.get(f)!==c)o[u]++;else{if(u===i-1){if(Ya.patternMatchVariance(o,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[d,f];d+=o[0]+o[1],An.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,c=!c}throw new Ge},t.decodeDigit=function(r){for(var n=t.MAX_AVG_VARIANCE,a=-1,i=t.PATTERNS.length,o=0;o<i;o++){var l=t.PATTERNS[o],c=Ya.patternMatchVariance(r,l,t.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=o):c===n&&(a=-1)}if(a>=0)return a%10;throw new Ge},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(Ya),FLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$p=function(e){FLe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return t.findStartGuardPattern=function(r){for(var n=!1,a,i=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),a=t.findGuardPattern(r,i,!1,this.START_END_PATTERN,o);var l=a[0];i=a[1];var c=l-(i-l);c>=0&&(n=r.isRange(c,l,!1))}return a},t.checkChecksum=function(r){return t.checkStandardUPCEANChecksum(r)},t.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return t.getStandardUPCEANChecksum(r.substring(0,n-1))===a},t.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new ut;a+=o}a*=3;for(var i=n-2;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new ut;a+=o}return(1e3-a)%10},t.decodeEnd=function(r,n){return t.findGuardPattern(r,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},t.findGuardPattern=function(r,n,a,i,o){var l=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=i.length,f=a,h=n;h<l;h++)if(r.get(h)!==f)o[c]++;else{if(c===d-1){if(Ya.patternMatchVariance(o,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<c-1;m++)o[m]=p[m];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,f=!f}throw new Ge},t.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=i.length,u=0;u<c;u++){var d=i[u],f=Ya.patternMatchVariance(n,d,t.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,l=u)}if(l>=0)return l;throw new Ge},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(Ya),RLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},LLe=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),o=a.toString(),l=e.parseExtensionString(o),c=[new Et((n[0]+n[1])/2,t),new Et(i,t)],u=new Qi(o,null,0,c,Rt.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},e.prototype.decodeMiddle=function(t,r,n){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=t.getSize(),c=r[1],u=0,d=0;d<5&&c<l;d++){var f=$p.decodeDigit(t,o,c,$p.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,RLe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<4-d),d!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(n.length!==5)throw new Ge;var x=this.determineCheckDigit(u);if(e.extensionChecksum(n.toString())!==x)throw new Ge;return c},e.extensionChecksum=function(t){for(var r=t.length,n=0,a=r-2;a>=0;a-=2)n+=t.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=t.charAt(a).charCodeAt(0)-48;return n*=3,n%10},e.prototype.determineCheckDigit=function(t){for(var r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Ge},e.parseExtensionString=function(t){if(t.length!==5)return null;var r=e.parseExtension5String(t);return r==null?null:new Map([[Ai.SUGGESTED_PRICE,r]])},e.parseExtension5String=function(t){var r;switch(t.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(t.substring(1)),a=(n/100).toString(),i=n%100,o=i<10?"0"+i:i.toString();return r+a+"."+o},e}(),BLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$Le=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),o=a.toString(),l=e.parseExtensionString(o),c=[new Et((n[0]+n[1])/2,t),new Et(i,t)],u=new Qi(o,null,0,c,Rt.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},e.prototype.decodeMiddle=function(t,r,n){var a,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=t.getSize(),c=r[1],u=0,d=0;d<2&&c<l;d++){var f=$p.decodeDigit(t,o,c,$p.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,BLe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<1-d),d!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(n.length!==2)throw new Ge;if(parseInt(n.toString())%4!==u)throw new Ge;return c},e.parseExtensionString=function(t){return t.length!==2?null:new Map([[Ai.ISSUE_NUMBER,parseInt(t)]])},e}(),zLe=function(){function e(){}return e.decodeRow=function(t,r,n){var a=$p.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new LLe;return i.decodeRow(t,r,a)}catch{var o=new $Le;return o.decodeRow(t,r,a)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}(),ULe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),za=function(e){ULe(t,e);function t(){var r=e.call(this)||this;r.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var a=t.L_PATTERNS[n-10],i=new Int32Array(a.length),o=0;o<a.length;o++)i[o]=a[a.length-o-1];t.L_AND_G_PATTERNS[n]=i}return r}return t.prototype.decodeRow=function(r,n,a){var i=t.findStartGuardPattern(n),o=a==null?null:a.get(Cn.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Et((i[0]+i[1])/2,r);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(o!=null){var f=new Et(u,r);o.foundPossibleResultPoint(f)}var h=t.decodeEnd(n,u);if(o!=null){var p=new Et((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var m=h[1],x=m+(m-h[0]);if(x>=n.getSize()||!n.isRange(m,x,!1))throw new Ge;var g=d.toString();if(g.length<8)throw new ut;if(!t.checkChecksum(g))throw new Pa;var v=(i[1]+i[0])/2,b=(h[1]+h[0])/2,y=this.getBarcodeFormat(),w=[new Et(v,r),new Et(b,r)],N=new Qi(g,null,0,w,y,new Date().getTime()),S=0;try{var j=zLe.decodeRow(r,n,h[1]);N.putMetadata(Ai.UPC_EAN_EXTENSION,j.getText()),N.putAllMetadata(j.getResultMetadata()),N.addResultPoints(j.getResultPoints()),S=j.getText().length}catch{}var A=a==null?null:a.get(Cn.ALLOWED_EAN_EXTENSIONS);if(A!=null){var T=!1;for(var R in A)if(S.toString()===R){T=!0;break}if(!T)throw new Ge}return y===Rt.EAN_13||Rt.UPC_A,N},t.checkChecksum=function(r){return t.checkStandardUPCEANChecksum(r)},t.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return t.getStandardUPCEANChecksum(r.substring(0,n-1))===a},t.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new ut;a+=o}a*=3;for(var i=n-2;i>=0;i-=2){var o=r.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new ut;a+=o}return(1e3-a)%10},t.decodeEnd=function(r,n){return t.findGuardPattern(r,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}($p),HLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iS=function(e){HLe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return t.prototype.decodeMiddle=function(r,n,a){var i,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=za.decodeDigit(r,u,f,za.L_AND_G_PATTERNS);a+=String.fromCharCode(48+m%10);try{for(var x=(i=void 0,TI(u)),g=x.next();!g.done;g=x.next()){var v=g.value;f+=v}}catch(N){i={error:N}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}m>=10&&(h|=1<<5-p)}a=t.determineFirstDigit(a,h);var b=za.findGuardPattern(r,f,!0,za.MIDDLE_PATTERN,new Int32Array(za.MIDDLE_PATTERN.length).fill(0));f=b[1];for(var p=0;p<6&&f<d;p++){var m=za.decodeDigit(r,u,f,za.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var y=(l=void 0,TI(u)),w=y.next();!w.done;w=y.next()){var v=w.value;f+=v}}catch(j){l={error:j}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Rt.EAN_13},t.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new Ge},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(za),WLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},PI=function(e){WLe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return t.prototype.decodeMiddle=function(r,n,a){var i,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=za.decodeDigit(r,u,f,za.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var m=(i=void 0,OI(u)),x=m.next();!x.done;x=m.next()){var g=x.value;f+=g}}catch(w){i={error:w}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}}var v=za.findGuardPattern(r,f,!0,za.MIDDLE_PATTERN,new Int32Array(za.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var h=0;h<4&&f<d;h++){var p=za.decodeDigit(r,u,f,za.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var b=(l=void 0,OI(u)),y=b.next();!y.done;y=b.next()){var g=y.value;f+=g}}catch(S){l={error:S}}finally{try{y&&!y.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Rt.EAN_8},t}(za),VLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DI=function(e){VLe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ean13Reader=new iS,r}return t.prototype.getBarcodeFormat=function(){return Rt.UPC_A},t.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},t.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},t.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},t.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new Qi(n.substring(1),null,null,r.getResultPoints(),Rt.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new Ge},t.prototype.reset=function(){this.ean13Reader.reset()},t}(za),qLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},II=function(e){qLe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return t.prototype.decodeMiddle=function(r,n,a){var i,o,l=this.decodeMiddleCounters.map(function(g){return g});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],d=0,f=0;f<6&&u<c;f++){var h=t.decodeDigit(r,l,u,t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var p=(i=void 0,GLe(l)),m=p.next();!m.done;m=p.next()){var x=m.value;u+=x}}catch(g){i={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}h>=10&&(d|=1<<5-f)}return t.determineNumSysAndCheckDigit(new lr(a),d),u},t.prototype.decodeEnd=function(r,n){return t.findGuardPatternWithoutCounters(r,n,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(r){return za.checkChecksum(t.convertUPCEtoUPCA(r))},t.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw Ge.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Rt.UPC_E},t.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),a=new lr;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(za),YLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pN=function(e){YLe(t,e);function t(r){var n=e.call(this)||this,a=r==null?null:r.get(Cn.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Rt.EAN_13)>-1&&i.push(new iS),a.indexOf(Rt.UPC_A)>-1&&i.push(new DI),a.indexOf(Rt.EAN_8)>-1&&i.push(new PI),a.indexOf(Rt.UPC_E)>-1&&i.push(new II)),i.length===0&&(i.push(new iS),i.push(new DI),i.push(new PI),i.push(new II)),n.readers=i,n}return t.prototype.decodeRow=function(r,n,a){var i,o;try{for(var l=MI(this.readers),c=l.next();!c.done;c=l.next()){var u=c.value;try{var d=u.decodeRow(r,n,a),f=d.getBarcodeFormat()===Rt.EAN_13&&d.getText().charAt(0)==="0",h=a==null?null:a.get(Cn.POSSIBLE_FORMATS),p=h==null||h.includes(Rt.UPC_A);if(f&&p){var m=d.getRawBytes(),x=new Qi(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),Rt.UPC_A);return x.putAllMetadata(d.getResultMetadata()),x}return d}catch{}}}catch(g){i={error:g}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}throw new Ge},t.prototype.reset=function(){var r,n;try{for(var a=MI(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;o.reset()}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t}(Ya),XLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KLe=function(e){XLe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return t.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new Ge;var o=this.codaBarDecodeRow(i.row);if(!o)throw new Ge;return new Qi(o,null,0,[new Et(i.left,r),new Et(i.right,r)],Rt.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var o=[],l=n[0],c=1,u=1;u<n.length;u++)n[u]===l?c++:(l=n[u],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:a,right:i}},t.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),o=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var l=n.join("");return this.validCodaBarString(l)?l:null},t.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},t}(Ya),QLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c0=function(e){QLe(t,e);function t(){var r=e.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(Ya.patternMatchVariance(r,n[a],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return a;throw new Ge},t.count=function(r){return Dr.sum(new Int32Array(r))},t.increment=function(r,n){for(var a=0,i=n[0],o=1;o<r.length;o++)n[o]>i&&(i=n[o],a=o);r[a]++},t.decrement=function(r,n){for(var a=0,i=n[0],o=1;o<r.length;o++)n[o]<i&&(i=n[o],a=o);r[a]--},t.isFinderPattern=function(r){var n,a,i=r[0]+r[1],o=i+r[2]+r[3],l=i/o;if(l>=t.MIN_FINDER_PATTERN_RATIO&&l<=t.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=JLe(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<c&&(c=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(Ya),rw=function(){function e(t,r){this.value=t,this.checksumPortion=r}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}(),kU=function(){function e(t,r,n,a,i){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Et(n,i)),this.resultPoints.push(new Et(a,i))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.hashCode=function(){return this.value},e}(),ZLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rh=function(){function e(){}return e.getRSSvalue=function(t,r,n){var a,i,o=0;try{for(var l=ZLe(t),c=l.next();!c.done;c=l.next()){var u=c.value;o+=u}}catch(b){a={error:b}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}for(var d=0,f=0,h=t.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<t[p];m++,f&=~(1<<p)){var x=e.combins(o-m-1,h-p-2);if(n&&f===0&&o-m-(h-p-1)>=h-p-1&&(x-=e.combins(o-m-(h-p),h-p-2)),h-p-1>1){for(var g=0,v=o-m-(h-p-2);v>r;v--)g+=e.combins(o-m-v-1,h-p-3);x-=g*(h-1-p)}else o-m>r&&x--;d+=x}o-=m}return d},e.combins=function(t,r){var n,a;t-r>r?(a=r,n=t-r):(a=t-r,n=r);for(var i=1,o=1,l=t;l>n;l--)i*=l,o<=a&&(i/=o,o++);for(;o<=a;)i/=o,o++;return i},e}(),e9e=function(){function e(){}return e.buildBitArray=function(t){var r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new hi(n),i=0,o=t[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)l&1<<c&&a.set(i),i++;for(var c=1;c<t.length;++c){for(var u=t[c],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&a.set(i),i++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&a.set(i),i++}return a},e}(),Zd=function(){function e(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}(),hE=function(){function e(t){this.newPosition=t}return e.prototype.getNewPosition=function(){return this.newPosition},e}(),t9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dl=function(e){t9e(t,e);function t(r,n){var a=e.call(this,r)||this;return a.value=n,a}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(hE),r9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e0=function(e){r9e(t,e);function t(r,n,a){var i=e.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(hE),n9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vh=function(e){n9e(t,e);function t(r,n,a){var i=e.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new ut;return i.firstDigit=n,i.secondDigit=a,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(hE),D2=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a9e=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var r,n,a,i,o,l,c,u;if(!t)return null;if(t.length<2)throw new Ge;var d=t.substring(0,2);try{for(var f=D2(e.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,p[2],t):e.processFixedAI(2,p[1],t)}}catch(S){r={error:S}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(t.length<3)throw new Ge;var m=t.substring(0,3);try{for(var x=D2(e.THREE_DIGIT_DATA_LENGTH),g=x.next();!g.done;g=x.next()){var p=g.value;if(p[0]===m)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,p[2],t):e.processFixedAI(3,p[1],t)}}catch(S){a={error:S}}finally{try{g&&!g.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}try{for(var v=D2(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=v.next();!b.done;b=v.next()){var p=b.value;if(p[0]===m)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,p[2],t):e.processFixedAI(4,p[1],t)}}catch(S){o={error:S}}finally{try{b&&!b.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}if(t.length<4)throw new Ge;var y=t.substring(0,4);try{for(var w=D2(e.FOUR_DIGIT_DATA_LENGTH),N=w.next();!N.done;N=w.next()){var p=N.value;if(p[0]===y)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,p[2],t):e.processFixedAI(4,p[1],t)}}catch(S){c={error:S}}finally{try{N&&!N.done&&(u=w.return)&&u.call(w)}finally{if(c)throw c.error}}throw new Ge},e.processFixedAI=function(t,r,n){if(n.length<t)throw new Ge;var a=n.substring(0,t);if(n.length<t+r)throw new Ge;var i=n.substring(t,t+r),o=n.substring(t+r),l="("+a+")"+i,c=e.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},e.processVariableAI=function(t,r,n){var a=n.substring(0,t),i;n.length<t+r?i=n.length:i=t+r;var o=n.substring(t,i),l=n.substring(i),c="("+a+")"+o,u=e.parseFieldsInGeneralPurpose(l);return u==null?c:c+u},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}(),ub=function(){function e(t){this.buffer=new lr,this.information=t}return e.prototype.decodeAllCodes=function(t,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),o=a9e.parseFieldsInGeneralPurpose(i.getNewString());if(o!=null&&t.append(o),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return t.toString()},e.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)},e.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(t,4);return r===0?new vh(this.information.getSize(),vh.FNC1,vh.FNC1):new vh(this.information.getSize(),r-1,vh.FNC1)}var n=this.extractNumericValueFromBitArray(t,7),a=(n-8)/11,i=(n-8)%11;return new vh(t+7,a,i)},e.prototype.extractNumericValueFromBitArray=function(t,r){return e.extractNumericValueFromBitArray(this.information,t,r)},e.extractNumericValueFromBitArray=function(t,r,n){for(var a=0,i=0;i<n;++i)t.get(r+i)&&(a|=1<<n-i-1);return a},e.prototype.decodeGeneralPurposeField=function(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new e0(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new e0(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var t,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!t)break}while(!t);return r.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var r=void 0;return t.isSecondDigitFNC1()?r=new e0(this.current.getPosition(),this.buffer.toString()):r=new e0(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Zd(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var r=new e0(this.current.getPosition(),this.buffer.toString());return new Zd(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zd(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var r=new e0(this.current.getPosition(),this.buffer.toString());return new Zd(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zd(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var r=new e0(this.current.getPosition(),this.buffer.toString());return new Zd(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zd(!1)},e.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253},e.prototype.decodeIsoIec646=function(t){var r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new dl(t+5,dl.FNC1);if(r>=5&&r<15)return new dl(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<90)return new dl(t+7,""+(n+1));if(n>=90&&n<116)return new dl(t+7,""+(n+7));var a=this.extractNumericValueFromBitArray(t,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new ut}return new dl(t+8,i)},e.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63},e.prototype.decodeAlphanumeric=function(t){var r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new dl(t+5,dl.FNC1);if(r>=5&&r<15)return new dl(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,6);if(n>=32&&n<58)return new dl(t+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Ug("Decoding invalid alphanumeric value: "+n)}return new dl(t+6,a)},e.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0},e}(),TU=function(){function e(t){this.information=t,this.generalDecoder=new ub(t)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}(),i9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gl=function(e){i9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},t.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}t.appendCheckDigit(r,a)},t.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var o=r.charAt(i+n).charCodeAt(0)-48;a+=i&1?o:3*o}a=10-a%10,a===10&&(a=0),r.append(a)},t.GTIN_SIZE=40,t}(TU),s9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o9e=function(e){s9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){var r=new lr;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,t.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(gl),l9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),c9e=function(e){l9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){var r=new lr;return this.getGeneralDecoder().decodeAllCodes(r,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(TU),u9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),db=function(e){u9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var o=this.checkWeight(i),l=1e5,c=0;c<5;++c)o/l===0&&r.append("0"),l/=10;r.append(o)},t}(gl),d9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OU=function(e){d9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+db.GTIN_SIZE+t.WEIGHT_SIZE)throw new Ge;var r=new lr;return this.encodeCompressedGtin(r,t.HEADER_SIZE),this.encodeCompressedWeight(r,t.HEADER_SIZE+db.GTIN_SIZE,t.WEIGHT_SIZE),r.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(db),f9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h9e=function(e){f9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.addWeightCode=function(r,n){r.append("(3103)")},t.prototype.checkWeight=function(r){return r},t}(OU),p9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),m9e=function(e){p9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},t.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},t}(OU),x9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g9e=function(e){x9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+gl.GTIN_SIZE)throw new Ge;var r=new lr;this.encodeCompressedGtin(r,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+gl.GTIN_SIZE,t.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+gl.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(gl),v9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),b9e=function(e){v9e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+gl.GTIN_SIZE)throw new Ge;var r=new lr;this.encodeCompressedGtin(r,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+gl.GTIN_SIZE,t.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+gl.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+gl.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(gl),y9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qu=function(e){y9e(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Ge;var r=new lr;return this.encodeCompressedGtin(r,t.HEADER_SIZE),this.encodeCompressedWeight(r,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(r,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),r.toString()},t.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,t.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var o=a%12+1;a/=12;var l=a;l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o),i/10===0&&r.append("0"),r.append(i)}},t.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},t.prototype.checkWeight=function(r){return r%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(db);function w9e(e){try{if(e.get(1))return new o9e(e);if(!e.get(2))return new c9e(e);var t=ub.extractNumericValueFromBitArray(e,1,4);switch(t){case 4:return new h9e(e);case 5:return new m9e(e)}var r=ub.extractNumericValueFromBitArray(e,1,5);switch(r){case 12:return new g9e(e);case 13:return new b9e(e)}var n=ub.extractNumericValueFromBitArray(e,1,7);switch(n){case 56:return new qu(e,"310","11");case 57:return new qu(e,"320","11");case 58:return new qu(e,"310","13");case 59:return new qu(e,"320","13");case 60:return new qu(e,"310","15");case 61:return new qu(e,"320","15");case 62:return new qu(e,"310","17");case 63:return new qu(e,"320","17")}}catch(a){throw console.log(a),new Ug("unknown decoder: "+e)}}var FI=function(){function e(t,r,n,a){this.leftchar=t,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return this.rightchar==null},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,r){return t instanceof e?e.equalsOrNull(t.leftchar,r.leftchar)&&e.equalsOrNull(t.rightchar,r.rightchar)&&e.equalsOrNull(t.finderpattern,r.finderpattern):!1},e.equalsOrNull=function(t,r){return t===null?r===null:e.equals(t,r)},e.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},e}(),_9e=function(){function e(t,r,n){this.pairs=t,this.rowNumber=r,this.wasReversed=n}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,r){return t instanceof e?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1},e.prototype.checkEqualitity=function(t,r){if(!(!t||!r)){var n;return t.forEach(function(a,i){r.forEach(function(o){a.getLeftChar().getValue()===o.getLeftChar().getValue()&&a.getRightChar().getValue()===o.getRightChar().getValue()&&a.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},e}(),N9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gu=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},j9e=function(e){N9e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.pairs=new Array(t.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return t.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(r,n))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof Ge){if(!this.pairs.length)throw new Ge;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Ge},t.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},t.prototype.checkRows=function(r,n){for(var a,i,o=n;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(a=void 0,Gu(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){a={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(l.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(l);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new Ge},t.isValidSequence=function(r){var n,a;try{for(var i=Gu(t.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var l=o.value;if(!(r.length>l.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==l[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},t.prototype.storeRow=function(r,n){for(var a=0,i=!1,o=!1;a<this.rows.length;){var l=this.rows[a];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}i=l.isEquivalent(this.pairs),a++}o||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new _9e(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(r,n){var a,i,o,l,c,u;try{for(var d=Gu(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,Gu(h.getPairs())),x=m.next();!x.done;x=m.next()){var g=x.value,v=!1;try{for(var b=(c=void 0,Gu(r)),y=b.next();!y.done;y=b.next()){var w=y.value;if(FI.equals(g,w)){v=!0;break}}}catch(N){c={error:N}}finally{try{y&&!y.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}v||(p=!1)}}catch(N){o={error:N}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}}}}catch(N){a={error:N}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}},t.isPartialRow=function(r,n){var a,i,o,l,c,u;try{for(var d=Gu(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(o=void 0,Gu(r)),x=m.next();!x.done;x=m.next()){var g=x.value,v=!1;try{for(var b=(c=void 0,Gu(h.getPairs())),y=b.next();!y.done;y=b.next()){var w=y.value;if(g.equals(w)){v=!0;break}}}catch(N){c={error:N}}finally{try{y&&!y.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}if(!v){p=!1;break}}}catch(N){o={error:N}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(N){a={error:N}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(r){var n=e9e.buildBitArray(r),a=w9e(n),i=a.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new Qi(i,null,null,c,Rt.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);i+=c.getLeftChar().getChecksumPortion(),o++;var u=c.getRightChar();u!=null&&(i+=u.getChecksumPortion(),o++)}i%=211;var d=211*(o-4)+i;return d===n.getValue()},t.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},t.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var o,l=!0,c=-1;do this.findNextPair(r,n,c),o=this.parseFoundFinderPattern(r,a,i),o===null?c=t.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var u=this.decodeDataCharacter(r,o,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Ge;var d;try{d=this.decodeDataCharacter(r,o,i,!1)}catch(f){d=null,console.log(f)}return new FI(u,d,o,!0)},t.prototype.isEmptyPair=function(r){return r.length===0},t.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o=r.getSize(),l;if(a>=0)l=a;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;l<o&&(d=!r.get(l),!!d);)l++;for(var f=0,h=l,p=l;p<o;p++)if(r.get(p)!==d)i[f]++;else{if(f===3){if(u&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&t.reverseCounters(i),h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,d=!d}throw new Ge},t.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},t.prototype.parseFoundFinderPattern=function(r,n,a){var i,o,l;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),i=l-this.startEnd[1];var u=this.getDecodeFinderCounters();An.arraycopy(u,0,u,1,u.length-1),u[0]=i;var d;try{d=this.parseFinderValue(u,t.FINDER_PATTERNS)}catch{return null}return new kU(d,[o,l],o,l,n)},t.prototype.decodeDataCharacter=function(r,n,a,i){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(i)t.recordPatternInReverse(r,n.getStartEnd()[0],o);else{t.recordPattern(r,n.getStartEnd()[1],o);for(var c=0,u=o.length-1;c<u;c++,u--){var d=o[c];o[c]=o[u],o[u]=d}}var f=17,h=Dr.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new Ge;for(var m=this.getOddCounts(),x=this.getEvenCounts(),g=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var b=1*o[c]/h,y=b+.5;if(y<1){if(b<.3)throw new Ge;y=1}else if(y>8){if(b>8.7)throw new Ge;y=8}var w=c/2;c&1?(x[w]=y,v[w]=b-y):(m[w]=y,g[w]=b-y)}this.adjustOddEvenCounts(f);for(var N=4*n.getValue()+(a?0:2)+(i?0:1)-1,S=0,j=0,c=m.length-1;c>=0;c--){if(t.isNotA1left(n,a,i)){var A=t.WEIGHTS[N][2*c];j+=m[c]*A}S+=m[c]}for(var T=0,c=x.length-1;c>=0;c--)if(t.isNotA1left(n,a,i)){var A=t.WEIGHTS[N][2*c+1];T+=x[c]*A}var R=j+T;if(S&1||S>13||S<4)throw new Ge;var O=(13-S)/2,E=t.SYMBOL_WIDEST[O],L=9-E,B=Rh.getRSSvalue(m,E,!0),G=Rh.getRSSvalue(x,L,!1),U=t.EVEN_TOTAL_SUBSET[O],W=t.GSUM[O],X=B*U+G+W;return new rw(X,R)},t.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},t.prototype.adjustOddEvenCounts=function(r){var n=Dr.sum(new Int32Array(this.getOddCounts())),a=Dr.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;n>13?o=!0:n<4&&(i=!0);var l=!1,c=!1;a>13?c=!0:a<4&&(l=!0);var u=n+a-r,d=(n&1)===1,f=(a&1)===0;if(u===1)if(d){if(f)throw new Ge;o=!0}else{if(!f)throw new Ge;c=!0}else if(u===-1)if(d){if(f)throw new Ge;i=!0}else{if(!f)throw new Ge;l=!0}else if(u===0){if(d){if(!f)throw new Ge;n<a?(i=!0,c=!0):(o=!0,l=!0)}else if(f)throw new Ge}else throw new Ge;if(i){if(o)throw new Ge;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Ge;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(c0),S9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A9e=function(e){S9e(t,e);function t(r,n,a){var i=e.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(rw),C9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mN=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RI=function(e){C9e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return t.prototype.decodeRow=function(r,n,a){var i,o,l,c,u=this.decodePair(n,!1,r,a);t.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,a);t.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=mN(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(l=void 0,mN(this.possibleRightPairs)),x=m.next();!x.done;x=m.next()){var g=x.value;if(g.getCount()>1&&t.checkChecksum(p,g))return t.constructResult(p,g)}}catch(v){l={error:v}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}throw new Ge},t.addOrTally=function(r,n){var a,i;if(n!=null){var o=!1;try{for(var l=mN(r),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}o||r.push(n)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),o=new lr,l=13-i.length;l>0;l--)o.append("0");o.append(i);for(var c=0,l=0;l<13;l++){var u=o.charAt(l).charCodeAt(0)-48;c+=l&1?u:3*u}c=10-c%10,c===10&&(c=0),o.append(c.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Qi(o.toString(),null,0,[d[0],d[1],f[0],f[1]],Rt.RSS_14,new Date().getTime())},t.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},t.prototype.decodePair=function(r,n,a,i){try{var o=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,a,n,o),c=i==null?null:i.get(Cn.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new Et(u,a))}var d=this.decodeDataCharacter(r,l,!0),f=this.decodeDataCharacter(r,l,!1);return new A9e(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),l)}catch{return null}},t.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(a)Ya.recordPatternInReverse(r,n.getStartEnd()[0],i);else{Ya.recordPattern(r,n.getStartEnd()[1]+1,i);for(var l=0,c=i.length-1;l<c;l++,c--){var u=i[l];i[l]=i[c],i[c]=u}}for(var d=a?16:15,f=Dr.sum(new Int32Array(i))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<i.length;l++){var g=i[l]/f,v=Math.floor(g+.5);v<1?v=1:v>8&&(v=8);var b=Math.floor(l/2);l&1?(p[b]=v,x[b]=g-v):(h[b]=v,m[b]=g-v)}this.adjustOddEvenCounts(a,d);for(var y=0,w=0,l=h.length-1;l>=0;l--)w*=9,w+=h[l],y+=h[l];for(var N=0,S=0,l=p.length-1;l>=0;l--)N*=9,N+=p[l],S+=p[l];var j=w+3*N;if(a){if(y&1||y>12||y<4)throw new Ge;var A=(12-y)/2,T=t.OUTSIDE_ODD_WIDEST[A],R=9-T,O=Rh.getRSSvalue(h,T,!1),E=Rh.getRSSvalue(p,R,!0),L=t.OUTSIDE_EVEN_TOTAL_SUBSET[A],B=t.OUTSIDE_GSUM[A];return new rw(O*L+E+B,j)}else{if(S&1||S>10||S<4)throw new Ge;var A=(10-S)/2,T=t.INSIDE_ODD_WIDEST[A],R=9-T,O=Rh.getRSSvalue(h,T,!0),E=Rh.getRSSvalue(p,R,!1),G=t.INSIDE_ODD_TOTAL_SUBSET[A],B=t.INSIDE_GSUM[A];return new rw(E*G+O+B,j)}},t.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),o=!1,l=0;l<i&&(o=!r.get(l),n!==o);)l++;for(var c=0,u=l,d=l;d<i;d++)if(r.get(d)!==o)a[c]++;else{if(c===3){if(c0.isFinderPattern(a))return[u,d];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,o=!o}throw new Ge},t.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var o=r.get(i[0]),l=i[0]-1;l>=0&&o!==r.get(l);)l--;l++;var c=i[0]-l,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);An.arraycopy(u,0,d,1,u.length-1),d[0]=c;var f=this.parseFinderValue(d,t.FINDER_PATTERNS),h=l,p=i[1];return a&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new kU(f,[l,i[1]],h,p,n)},t.prototype.adjustOddEvenCounts=function(r,n){var a=Dr.sum(new Int32Array(this.getOddCounts())),i=Dr.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,u=!1;r?(a>12?l=!0:a<4&&(o=!0),i>12?u=!0:i<4&&(c=!0)):(a>11?l=!0:a<5&&(o=!0),i>10?u=!0:i<4&&(c=!0));var d=a+i-n,f=(a&1)===(r?1:0),h=(i&1)===1;if(d===1)if(f){if(h)throw new Ge;l=!0}else{if(!h)throw new Ge;u=!0}else if(d===-1)if(f){if(h)throw new Ge;o=!0}else{if(!h)throw new Ge;c=!0}else if(d===0){if(f){if(!h)throw new Ge;a<i?(o=!0,u=!0):(l=!0,c=!0)}else if(h)throw new Ge}else throw new Ge;if(o){if(l)throw new Ge;c0.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&c0.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Ge;c0.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&c0.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(c0),E9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lh=function(e){E9e(t,e);function t(r){var n=e.call(this)||this;n.readers=[];var a=r?r.get(Cn.POSSIBLE_FORMATS):null,i=r&&r.get(Cn.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(Cn.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Rt.EAN_13)||a.includes(Rt.UPC_A)||a.includes(Rt.EAN_8)||a.includes(Rt.UPC_E))&&n.readers.push(new pN(r)),a.includes(Rt.CODE_39)&&n.readers.push(new CI(i,o)),a.includes(Rt.CODE_93)&&n.readers.push(new EI),a.includes(Rt.CODE_128)&&n.readers.push(new AI),a.includes(Rt.ITF)&&n.readers.push(new kI),a.includes(Rt.CODABAR)&&n.readers.push(new KLe),a.includes(Rt.RSS_14)&&n.readers.push(new RI),a.includes(Rt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new j9e))),n.readers.length===0&&(n.readers.push(new pN(r)),n.readers.push(new CI),n.readers.push(new EI),n.readers.push(new pN(r)),n.readers.push(new AI),n.readers.push(new kI),n.readers.push(new RI)),n}return t.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new Ge},t.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},t}(Ya),k9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){k9e(t,e);function t(r,n){return r===void 0&&(r=500),e.call(this,new Lh(n),r,n)||this}return t})(mm);var LI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hr=function(){function e(t,r,n){this.ecCodewords=t,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),Lr=function(){function e(t,r){this.count=t,this.dataCodewords=r}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),T9e=function(){function e(t,r,n,a,i,o){var l,c;this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=o;var u=0,d=o.getECCodewords(),f=o.getECBlocks();try{for(var h=LI(f),p=h.next();!p.done;p=h.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(x){l={error:x}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}this.totalCodewords=u}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,r){var n,a;if(t&1||r&1)throw new ut;try{for(var i=LI(e.VERSIONS),o=i.next();!o.done;o=i.next()){var l=o.value;if(l.symbolSizeRows===t&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new ut},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new Hr(5,new Lr(1,3))),new e(2,12,12,10,10,new Hr(7,new Lr(1,5))),new e(3,14,14,12,12,new Hr(10,new Lr(1,8))),new e(4,16,16,14,14,new Hr(12,new Lr(1,12))),new e(5,18,18,16,16,new Hr(14,new Lr(1,18))),new e(6,20,20,18,18,new Hr(18,new Lr(1,22))),new e(7,22,22,20,20,new Hr(20,new Lr(1,30))),new e(8,24,24,22,22,new Hr(24,new Lr(1,36))),new e(9,26,26,24,24,new Hr(28,new Lr(1,44))),new e(10,32,32,14,14,new Hr(36,new Lr(1,62))),new e(11,36,36,16,16,new Hr(42,new Lr(1,86))),new e(12,40,40,18,18,new Hr(48,new Lr(1,114))),new e(13,44,44,20,20,new Hr(56,new Lr(1,144))),new e(14,48,48,22,22,new Hr(68,new Lr(1,174))),new e(15,52,52,24,24,new Hr(42,new Lr(2,102))),new e(16,64,64,14,14,new Hr(56,new Lr(2,140))),new e(17,72,72,16,16,new Hr(36,new Lr(4,92))),new e(18,80,80,18,18,new Hr(48,new Lr(4,114))),new e(19,88,88,20,20,new Hr(56,new Lr(4,144))),new e(20,96,96,22,22,new Hr(68,new Lr(4,174))),new e(21,104,104,24,24,new Hr(56,new Lr(6,136))),new e(22,120,120,18,18,new Hr(68,new Lr(6,175))),new e(23,132,132,20,20,new Hr(62,new Lr(8,163))),new e(24,144,144,22,22,new Hr(62,new Lr(8,156),new Lr(2,155))),new e(25,8,18,6,16,new Hr(7,new Lr(1,5))),new e(26,8,32,6,14,new Hr(11,new Lr(1,10))),new e(27,12,26,10,24,new Hr(14,new Lr(1,16))),new e(28,12,36,10,16,new Hr(18,new Lr(1,22))),new e(29,16,36,14,16,new Hr(24,new Lr(1,32))),new e(30,16,48,14,22,new Hr(28,new Lr(1,49)))]},e.VERSIONS=e.buildVersions(),e}(),O9e=function(){function e(t){var r=t.getHeight();if(r<8||r>144||r&1)throw new ut;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new hc(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(t){var r=t.getHeight(),n=t.getWidth();return T9e.getVersionForDimensions(r,n)},e.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,u=!1,d=!1;do if(n===i&&a===0&&!l)t[r++]=this.readCorner1(i,o)&255,n-=2,a+=2,l=!0;else if(n===i-2&&a===0&&o&3&&!c)t[r++]=this.readCorner2(i,o)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&!(o&7)&&!u)t[r++]=this.readCorner3(i,o)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(o&7)===4&&!d)t[r++]=this.readCorner4(i,o)&255,n-=2,a+=2,d=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(t[r++]=this.readUtah(n,a,i,o)&255),n-=2,a+=2;while(n>=0&&a<o);n+=1,a+=3;do n>=0&&a<o&&!this.readMappingMatrix.get(a,n)&&(t[r++]=this.readUtah(n,a,i,o)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<o);if(r!==this.version.getTotalCodewords())throw new ut;return t},e.prototype.readModule=function(t,r,n,a){return t<0&&(t+=n,r+=4-(n+4&7)),r<0&&(r+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)},e.prototype.readUtah=function(t,r,n,a){var i=0;return this.readModule(t-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r,n,a)&&(i|=1),i<<=1,this.readModule(t,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t,r,n,a)&&(i|=1),i},e.prototype.readCorner1=function(t,r){var n=0;return this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,1,t,r)&&(n|=1),n<<=1,this.readModule(t-1,2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(2,r-1,t,r)&&(n|=1),n<<=1,this.readModule(3,r-1,t,r)&&(n|=1),n},e.prototype.readCorner2=function(t,r){var n=0;return this.readModule(t-3,0,t,r)&&(n|=1),n<<=1,this.readModule(t-2,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(0,r-4,t,r)&&(n|=1),n<<=1,this.readModule(0,r-3,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n},e.prototype.readCorner3=function(t,r){var n=0;return this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(0,r-3,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-3,t,r)&&(n|=1),n<<=1,this.readModule(1,r-2,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n},e.prototype.readCorner4=function(t,r){var n=0;return this.readModule(t-3,0,t,r)&&(n|=1),n<<=1,this.readModule(t-2,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(2,r-1,t,r)&&(n|=1),n<<=1,this.readModule(3,r-1,t,r)&&(n|=1),n},e.prototype.extractDataRegion=function(t){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new Lt("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=r/a|0,l=n/i|0,c=o*a,u=l*i,d=new hc(u,c),f=0;f<o;++f)for(var h=f*a,p=0;p<l;++p)for(var m=p*i,x=0;x<a;++x)for(var g=f*(a+2)+1+x,v=h+x,b=0;b<i;++b){var y=p*(i+2)+1+b;if(t.get(y,g)){var w=m+b;d.set(w,v)}}return d},e}(),BI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},P9e=function(){function e(t,r){this.numDataCodewords=t,this.codewords=r}return e.getDataBlocks=function(t,r){var n,a,i,o,l=r.getECBlocks(),c=0,u=l.getECBlocks();try{for(var d=BI(u),f=d.next();!f.done;f=d.next()){var h=f.value;c+=h.getCount()}}catch(B){n={error:B}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var p=new Array(c),m=0;try{for(var x=BI(u),g=x.next();!g.done;g=x.next())for(var h=g.value,v=0;v<h.getCount();v++){var b=h.getDataCodewords(),y=l.getECCodewords()+b;p[m++]=new e(b,new Uint8Array(y))}}catch(B){i={error:B}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}for(var w=p[0].codewords.length,N=w-l.getECCodewords(),S=N-1,j=0,v=0;v<S;v++)for(var A=0;A<m;A++)p[A].codewords[v]=t[j++];for(var T=r.getVersionNumber()===24,R=T?8:m,A=0;A<R;A++)p[A].codewords[N-1]=t[j++];for(var O=p[0].codewords.length,v=N;v<O;v++)for(var A=0;A<m;A++){var E=T?(A+8)%m:A,L=T&&E>7?v-1:v;p[E].codewords[L]=t[j++]}if(j!==t.length)throw new Lt;return p},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),PU=function(){function e(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Lt(""+t);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var o=8-n,l=t<o?t:o,c=o-l,u=255>>8-l<<c;r=(i[a]&u)>>c,t-=l,n+=l,n===8&&(n=0,a++)}if(t>0){for(;t>=8;)r=r<<8|i[a]&255,a++,t-=8;if(t>0){var c=8-t,u=255>>c<<c;r=r<<t|(i[a]&u)>>c,n+=t}}return this.bitOffset=n,this.byteOffset=a,r},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}(),La;(function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"})(La||(La={}));var D9e=function(){function e(){}return e.decode=function(t){var r=new PU(t),n=new lr,a=new lr,i=new Array,o=La.ASCII_ENCODE;do if(o===La.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,a);else{switch(o){case La.C40_ENCODE:this.decodeC40Segment(r,n);break;case La.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case La.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case La.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case La.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new ut}o=La.ASCII_ENCODE}while(o!==La.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new M5(t,n.toString(),i.length===0?null:i,null)},e.decodeAsciiSegment=function(t,r,n){var a=!1;do{var i=t.readBits(8);if(i===0)throw new ut;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),La.ASCII_ENCODE;if(i===129)return La.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&r.append("0"),r.append(""+o)}else switch(i){case 230:return La.C40_ENCODE;case 231:return La.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return La.ANSIX12_ENCODE;case 239:return La.TEXT_ENCODE;case 240:return La.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new ut;break}}while(t.available()>0);return La.ASCII_ENCODE},e.decodeC40Segment=function(t,r){var n=!1,a=[],i=0;do{if(t.available()===8)return;var o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),a);for(var l=0;l<3;l++){var c=a[l];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new ut;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ut}i=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new ut}}}while(t.available()>0)},e.decodeTextSegment=function(t,r){var n=!1,a=[],i=0;do{if(t.available()===8)return;var o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),a);for(var l=0;l<3;l++){var c=a[l];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new ut;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ut}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),i=0}else throw new ut;break;default:throw new ut}}}while(t.available()>0)},e.decodeAnsiX12Segment=function(t,r){var n=[];do{if(t.available()===8)return;var a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),n);for(var i=0;i<3;i++){var o=n[i];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new ut;break}}}while(t.available()>0)},e.parseTwoBytes=function(t,r,n){var a=(t<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},e.decodeEdifactSegment=function(t,r){do{if(t.available()<=16)return;for(var n=0;n<4;n++){var a=t.readBits(6);if(a===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(t.available()>0)},e.decodeBase256Segment=function(t,r,n){var a=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),a++),o;if(i===0?o=t.available()/8|0:i<250?o=i:o=250*(i-249)+this.unrandomize255State(t.readBits(8),a++),o<0)throw new ut;for(var l=new Uint8Array(o),c=0;c<o;c++){if(t.available()<8)throw new ut;l[c]=this.unrandomize255State(t.readBits(8),a++)}n.push(l);try{r.append(Uo.decode(l,wr.ISO88591))}catch(u){throw new Ug("Platform does not support required encoding: "+u.message)}},e.unrandomize255State=function(t,r){var n=149*r%255+1,a=t-n;return a>=0?a:a+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],e}(),I9e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},M9e=function(){function e(){this.rsDecoder=new F5(ks.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(t){var r,n,a=new O9e(t),i=a.getVersion(),o=a.readCodewords(),l=P9e.getDataBlocks(o,i),c=0;try{for(var u=I9e(l),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getNumDataCodewords()}}catch(y){r={error:y}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(c),p=l.length,m=0;m<p;m++){var x=l[m],g=x.getCodewords(),v=x.getNumDataCodewords();this.correctErrors(g,v);for(var b=0;b<v;b++)h[b*p+m]=g[b]}return D9e.decode(h)},e.prototype.correctErrors=function(t,r){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-r)}catch{throw new Pa}for(var a=0;a<r;a++)t[a]=n[a]},e}(),F9e=function(){function e(t){this.image=t,this.rectangleDetector=new aS(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Ge;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],o=r[3],l=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(i,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var u=e.sampleGrid(this.image,n,a,i,o,l,c);return new dE(u,[n,a,i,o])},e.shiftPoint=function(t,r,n){var a=(r.getX()-t.getX())/(n+1),i=(r.getY()-t.getY())/(n+1);return new Et(t.getX()+a,t.getY()+i)},e.moveAway=function(t,r,n){var a=t.getX(),i=t.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new Et(a,i)},e.prototype.detectSolid1=function(t){var r=t[0],n=t[1],a=t[3],i=t[2],o=this.transitionsBetween(r,n),l=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),d=o,f=[i,r,n,a];return d>l&&(d=l,f[0]=r,f[1]=n,f[2]=a,f[3]=i),d>c&&(d=c,f[0]=n,f[1]=a,f[2]=i,f[3]=r),d>u&&(f[0]=a,f[1]=i,f[2]=r,f[3]=n),f},e.prototype.detectSolid2=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],o=this.transitionsBetween(r,i),l=e.shiftPoint(n,a,(o+1)*4),c=e.shiftPoint(a,n,(o+1)*4),u=this.transitionsBetween(l,r),d=this.transitionsBetween(c,i);return u<d?(t[0]=r,t[1]=n,t[2]=a,t[3]=i):(t[0]=n,t[1]=a,t[2]=i,t[3]=r),t},e.prototype.correctTopRight=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],o=this.transitionsBetween(r,i),l=this.transitionsBetween(n,i),c=e.shiftPoint(r,n,(l+1)*4),u=e.shiftPoint(a,n,(o+1)*4);o=this.transitionsBetween(c,i),l=this.transitionsBetween(u,i);var d=new Et(i.getX()+(a.getX()-n.getX())/(o+1),i.getY()+(a.getY()-n.getY())/(o+1)),f=new Et(i.getX()+(r.getX()-n.getX())/(l+1),i.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,f)+this.transitionsBetween(u,f);return h>p?d:f},e.prototype.shiftToModuleCenter=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],o=this.transitionsBetween(r,i)+1,l=this.transitionsBetween(a,i)+1,c=e.shiftPoint(r,n,l*4),u=e.shiftPoint(a,n,o*4);o=this.transitionsBetween(c,i)+1,l=this.transitionsBetween(u,i)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var d=(r.getX()+n.getX()+a.getX()+i.getX())/4,f=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=e.moveAway(r,d,f),n=e.moveAway(n,d,f),a=e.moveAway(a,d,f),i=e.moveAway(i,d,f);var h,p;return c=e.shiftPoint(r,n,l*4),c=e.shiftPoint(c,i,o*4),h=e.shiftPoint(n,r,l*4),h=e.shiftPoint(h,a,o*4),u=e.shiftPoint(a,i,l*4),u=e.shiftPoint(u,n,o*4),p=e.shiftPoint(i,a,l*4),p=e.shiftPoint(p,r,o*4),[c,h,u,p]},e.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},e.sampleGrid=function(t,r,n,a,i,o,l){var c=fE.getInstance();return c.sampleGrid(t,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},e.prototype.transitionsBetween=function(t,r){var n=Math.trunc(t.getX()),a=Math.trunc(t.getY()),i=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-a)>Math.abs(i-n);if(l){var c=n;n=a,a=c,c=i,i=o,o=c}for(var u=Math.abs(i-n),d=Math.abs(o-a),f=-u/2,h=a<o?1:-1,p=n<i?1:-1,m=0,x=this.image.get(l?a:n,l?n:a),g=n,v=a;g!==i;g+=p){var b=this.image.get(l?v:g,l?g:v);if(b!==x&&(m++,x=b),f+=d,f>0){if(v===o)break;v+=h,f-=u}}return m},e}(),nw=function(){function e(){this.decoder=new M9e}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(Cn.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decode(i),a=e.NO_POINTS}else{var o=new F9e(t.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),a=o.getPoints()}var l=n.getRawBytes(),c=new Qi(n.getText(),l,8*l.length,a,Rt.DATA_MATRIX,An.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Ai.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(Ai.ERROR_CORRECTION_LEVEL,d),c},e.prototype.reset=function(){},e.extractPureBits=function(t){var r=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(r==null||n==null)throw new Ge;var a=this.moduleSize(r,t),i=r[1],o=n[1],l=r[0],c=n[0],u=(c-l+1)/a,d=(o-i+1)/a;if(u<=0||d<=0)throw new Ge;var f=a/2;i+=f,l+=f;for(var h=new hc(u,d),p=0;p<d;p++)for(var m=i+p*a,x=0;x<u;x++)t.get(l+x*a,m)&&h.set(x,p);return h},e.moduleSize=function(t,r){for(var n=r.getWidth(),a=t[0],i=t[1];a<n&&r.get(a,i);)a++;if(a===n)throw new Ge;var o=a-t[0];if(o===0)throw new Ge;return o},e.NO_POINTS=[],e}(),R9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){R9e(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new nw,r)||this}return t})(mm);var Bh;(function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"})(Bh||(Bh={}));var L9e=function(){function e(t,r,n){this.value=t,this.stringValue=r,this.bits=n,e.FOR_BITS.set(n,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new ha(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new Lt;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(Bh.L,"L",1),e.M=new e(Bh.M,"M",0),e.Q=new e(Bh.Q,"Q",3),e.H=new e(Bh.H,"H",2),e}(),B9e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DU=function(){function e(t){this.errorCorrectionLevel=L9e.forBits(t>>3&3),this.dataMask=t&7}return e.numBitsDiffering=function(t,r){return dr.bitCount(t^r)},e.decodeFormatInformation=function(t,r){var n=e.doDecodeFormatInformation(t,r);return n!==null?n:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,r^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,r){var n,a,i=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=B9e(e.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var u=c.value,d=u[0];if(d===t||d===r)return new e(u[1]);var f=e.numBitsDiffering(t,d);f<i&&(o=u[1],i=f),t!==r&&(f=e.numBitsDiffering(r,d),f<i&&(o=u[1],i=f))}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return i<=3?new e(o):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}(),$9e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=function(){function e(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=t,this.ecBlocks=r}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var t,r,n=0,a=this.ecBlocks;try{for(var i=$9e(a),o=i.next();!o.done;o=i.next()){var l=o.value;n+=l.getCount()}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),me=function(){function e(t,r){this.count=t,this.dataCodewords=r}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),z9e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},U0=function(){function e(t,r){for(var n,a,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;var l=0,c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var d=z9e(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.totalCodewords=l}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},e.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new ut;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ut}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new Lt;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<e.VERSION_DECODE_INFO.length;a++){var i=e.VERSION_DECODE_INFO[a];if(i===t)return e.getVersionForNumber(a+7);var o=DU.numBitsDiffering(t,i);o<r&&(n=a+7,r=o)}return r<=3?e.getVersionForNumber(n):null},e.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),r=new hc(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,o=0;o<n;o++)a===0&&(o===0||o===n-1)||a===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new ze(7,new me(1,19)),new ze(10,new me(1,16)),new ze(13,new me(1,13)),new ze(17,new me(1,9))),new e(2,Int32Array.from([6,18]),new ze(10,new me(1,34)),new ze(16,new me(1,28)),new ze(22,new me(1,22)),new ze(28,new me(1,16))),new e(3,Int32Array.from([6,22]),new ze(15,new me(1,55)),new ze(26,new me(1,44)),new ze(18,new me(2,17)),new ze(22,new me(2,13))),new e(4,Int32Array.from([6,26]),new ze(20,new me(1,80)),new ze(18,new me(2,32)),new ze(26,new me(2,24)),new ze(16,new me(4,9))),new e(5,Int32Array.from([6,30]),new ze(26,new me(1,108)),new ze(24,new me(2,43)),new ze(18,new me(2,15),new me(2,16)),new ze(22,new me(2,11),new me(2,12))),new e(6,Int32Array.from([6,34]),new ze(18,new me(2,68)),new ze(16,new me(4,27)),new ze(24,new me(4,19)),new ze(28,new me(4,15))),new e(7,Int32Array.from([6,22,38]),new ze(20,new me(2,78)),new ze(18,new me(4,31)),new ze(18,new me(2,14),new me(4,15)),new ze(26,new me(4,13),new me(1,14))),new e(8,Int32Array.from([6,24,42]),new ze(24,new me(2,97)),new ze(22,new me(2,38),new me(2,39)),new ze(22,new me(4,18),new me(2,19)),new ze(26,new me(4,14),new me(2,15))),new e(9,Int32Array.from([6,26,46]),new ze(30,new me(2,116)),new ze(22,new me(3,36),new me(2,37)),new ze(20,new me(4,16),new me(4,17)),new ze(24,new me(4,12),new me(4,13))),new e(10,Int32Array.from([6,28,50]),new ze(18,new me(2,68),new me(2,69)),new ze(26,new me(4,43),new me(1,44)),new ze(24,new me(6,19),new me(2,20)),new ze(28,new me(6,15),new me(2,16))),new e(11,Int32Array.from([6,30,54]),new ze(20,new me(4,81)),new ze(30,new me(1,50),new me(4,51)),new ze(28,new me(4,22),new me(4,23)),new ze(24,new me(3,12),new me(8,13))),new e(12,Int32Array.from([6,32,58]),new ze(24,new me(2,92),new me(2,93)),new ze(22,new me(6,36),new me(2,37)),new ze(26,new me(4,20),new me(6,21)),new ze(28,new me(7,14),new me(4,15))),new e(13,Int32Array.from([6,34,62]),new ze(26,new me(4,107)),new ze(22,new me(8,37),new me(1,38)),new ze(24,new me(8,20),new me(4,21)),new ze(22,new me(12,11),new me(4,12))),new e(14,Int32Array.from([6,26,46,66]),new ze(30,new me(3,115),new me(1,116)),new ze(24,new me(4,40),new me(5,41)),new ze(20,new me(11,16),new me(5,17)),new ze(24,new me(11,12),new me(5,13))),new e(15,Int32Array.from([6,26,48,70]),new ze(22,new me(5,87),new me(1,88)),new ze(24,new me(5,41),new me(5,42)),new ze(30,new me(5,24),new me(7,25)),new ze(24,new me(11,12),new me(7,13))),new e(16,Int32Array.from([6,26,50,74]),new ze(24,new me(5,98),new me(1,99)),new ze(28,new me(7,45),new me(3,46)),new ze(24,new me(15,19),new me(2,20)),new ze(30,new me(3,15),new me(13,16))),new e(17,Int32Array.from([6,30,54,78]),new ze(28,new me(1,107),new me(5,108)),new ze(28,new me(10,46),new me(1,47)),new ze(28,new me(1,22),new me(15,23)),new ze(28,new me(2,14),new me(17,15))),new e(18,Int32Array.from([6,30,56,82]),new ze(30,new me(5,120),new me(1,121)),new ze(26,new me(9,43),new me(4,44)),new ze(28,new me(17,22),new me(1,23)),new ze(28,new me(2,14),new me(19,15))),new e(19,Int32Array.from([6,30,58,86]),new ze(28,new me(3,113),new me(4,114)),new ze(26,new me(3,44),new me(11,45)),new ze(26,new me(17,21),new me(4,22)),new ze(26,new me(9,13),new me(16,14))),new e(20,Int32Array.from([6,34,62,90]),new ze(28,new me(3,107),new me(5,108)),new ze(26,new me(3,41),new me(13,42)),new ze(30,new me(15,24),new me(5,25)),new ze(28,new me(15,15),new me(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new ze(28,new me(4,116),new me(4,117)),new ze(26,new me(17,42)),new ze(28,new me(17,22),new me(6,23)),new ze(30,new me(19,16),new me(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new ze(28,new me(2,111),new me(7,112)),new ze(28,new me(17,46)),new ze(30,new me(7,24),new me(16,25)),new ze(24,new me(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new ze(30,new me(4,121),new me(5,122)),new ze(28,new me(4,47),new me(14,48)),new ze(30,new me(11,24),new me(14,25)),new ze(30,new me(16,15),new me(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new ze(30,new me(6,117),new me(4,118)),new ze(28,new me(6,45),new me(14,46)),new ze(30,new me(11,24),new me(16,25)),new ze(30,new me(30,16),new me(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new ze(26,new me(8,106),new me(4,107)),new ze(28,new me(8,47),new me(13,48)),new ze(30,new me(7,24),new me(22,25)),new ze(30,new me(22,15),new me(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new ze(28,new me(10,114),new me(2,115)),new ze(28,new me(19,46),new me(4,47)),new ze(28,new me(28,22),new me(6,23)),new ze(30,new me(33,16),new me(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new ze(30,new me(8,122),new me(4,123)),new ze(28,new me(22,45),new me(3,46)),new ze(30,new me(8,23),new me(26,24)),new ze(30,new me(12,15),new me(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new ze(30,new me(3,117),new me(10,118)),new ze(28,new me(3,45),new me(23,46)),new ze(30,new me(4,24),new me(31,25)),new ze(30,new me(11,15),new me(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new ze(30,new me(7,116),new me(7,117)),new ze(28,new me(21,45),new me(7,46)),new ze(30,new me(1,23),new me(37,24)),new ze(30,new me(19,15),new me(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new ze(30,new me(5,115),new me(10,116)),new ze(28,new me(19,47),new me(10,48)),new ze(30,new me(15,24),new me(25,25)),new ze(30,new me(23,15),new me(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new ze(30,new me(13,115),new me(3,116)),new ze(28,new me(2,46),new me(29,47)),new ze(30,new me(42,24),new me(1,25)),new ze(30,new me(23,15),new me(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new ze(30,new me(17,115)),new ze(28,new me(10,46),new me(23,47)),new ze(30,new me(10,24),new me(35,25)),new ze(30,new me(19,15),new me(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new ze(30,new me(17,115),new me(1,116)),new ze(28,new me(14,46),new me(21,47)),new ze(30,new me(29,24),new me(19,25)),new ze(30,new me(11,15),new me(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new ze(30,new me(13,115),new me(6,116)),new ze(28,new me(14,46),new me(23,47)),new ze(30,new me(44,24),new me(7,25)),new ze(30,new me(59,16),new me(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new ze(30,new me(12,121),new me(7,122)),new ze(28,new me(12,47),new me(26,48)),new ze(30,new me(39,24),new me(14,25)),new ze(30,new me(22,15),new me(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new ze(30,new me(6,121),new me(14,122)),new ze(28,new me(6,47),new me(34,48)),new ze(30,new me(46,24),new me(10,25)),new ze(30,new me(2,15),new me(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new ze(30,new me(17,122),new me(4,123)),new ze(28,new me(29,46),new me(14,47)),new ze(30,new me(49,24),new me(10,25)),new ze(30,new me(24,15),new me(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new ze(30,new me(4,122),new me(18,123)),new ze(28,new me(13,46),new me(32,47)),new ze(30,new me(48,24),new me(14,25)),new ze(30,new me(42,15),new me(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new ze(30,new me(20,117),new me(4,118)),new ze(28,new me(40,47),new me(7,48)),new ze(30,new me(43,24),new me(22,25)),new ze(30,new me(10,15),new me(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new ze(30,new me(19,118),new me(6,119)),new ze(28,new me(18,47),new me(31,48)),new ze(30,new me(34,24),new me(34,25)),new ze(30,new me(20,15),new me(61,16)))],e}(),ii;(function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"})(ii||(ii={}));var $I=function(){function e(t,r){this.value=t,this.isMasked=r}return e.prototype.unmaskBitMatrix=function(t,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&t.flip(a,n)},e.values=new Map([[ii.DATA_MASK_000,new e(ii.DATA_MASK_000,function(t,r){return(t+r&1)===0})],[ii.DATA_MASK_001,new e(ii.DATA_MASK_001,function(t,r){return(t&1)===0})],[ii.DATA_MASK_010,new e(ii.DATA_MASK_010,function(t,r){return r%3===0})],[ii.DATA_MASK_011,new e(ii.DATA_MASK_011,function(t,r){return(t+r)%3===0})],[ii.DATA_MASK_100,new e(ii.DATA_MASK_100,function(t,r){return(Math.floor(t/2)+Math.floor(r/3)&1)===0})],[ii.DATA_MASK_101,new e(ii.DATA_MASK_101,function(t,r){return t*r%6===0})],[ii.DATA_MASK_110,new e(ii.DATA_MASK_110,function(t,r){return t*r%6<3})],[ii.DATA_MASK_111,new e(ii.DATA_MASK_111,function(t,r){return(t+r+t*r%3&1)===0})]]),e}(),U9e=function(){function e(t){var r=t.getHeight();if(r<21||(r&3)!==1)throw new ut;this.bitMatrix=t}return e.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,r=0;r<6;r++)t=this.copyBit(r,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);for(var a=this.bitMatrix.getHeight(),i=0,o=a-7,n=a-1;n>=o;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=DU.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ut},e.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return U0.getVersionForNumber(r);for(var n=0,a=t-11,i=5;i>=0;i--)for(var o=t-9;o>=a;o--)n=this.copyBit(o,i,n);var l=U0.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;n=0;for(var o=5;o>=0;o--)for(var i=t-9;i>=a;i--)n=this.copyBit(o,i,n);if(l=U0.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new ut},e.prototype.copyBit=function(t,r,n){var a=this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r);return a?n<<1|1:n<<1},e.prototype.readCodewords=function(){var t=this.readFormatInformation(),r=this.readVersion(),n=$I.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,f=a-1;f>0;f-=2){f===6&&f--;for(var h=0;h<a;h++)for(var p=o?a-1-h:h,m=0;m<2;m++)i.get(f-m,p)||(d++,u<<=1,this.bitMatrix.get(f-m,p)&&(u|=1),d===8&&(l[c++]=u,d=0,u=0));o=!o}if(c!==r.getTotalCodewords())throw new ut;return l},e.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=$I.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}},e.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},e.prototype.mirror=function(){for(var t=this.bitMatrix,r=0,n=t.getWidth();r<n;r++)for(var a=r+1,i=t.getHeight();a<i;a++)t.get(r,a)!==t.get(a,r)&&(t.flip(a,r),t.flip(r,a))},e}(),zI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},H9e=function(){function e(t,r){this.numDataCodewords=t,this.codewords=r}return e.getDataBlocks=function(t,r,n){var a,i,o,l;if(t.length!==r.getTotalCodewords())throw new Lt;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var f=zI(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(L){a={error:L}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var m=new Array(u),x=0;try{for(var g=zI(d),v=g.next();!v.done;v=g.next())for(var p=v.value,b=0;b<p.getCount();b++){var y=p.getDataCodewords(),w=c.getECCodewordsPerBlock()+y;m[x++]=new e(y,new Uint8Array(w))}}catch(L){o={error:L}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}for(var N=m[0].codewords.length,S=m.length-1;S>=0;){var j=m[S].codewords.length;if(j===N)break;S--}S++;for(var A=N-c.getECCodewordsPerBlock(),T=0,b=0;b<A;b++)for(var R=0;R<x;R++)m[R].codewords[b]=t[T++];for(var R=S;R<x;R++)m[R].codewords[A]=t[T++];for(var O=m[0].codewords.length,b=A;b<O;b++)for(var R=0;R<x;R++){var E=R<S?b:b+1;m[R].codewords[E]=t[T++]}return m},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),ko;(function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"})(ko||(ko={}));var Pn=function(){function e(t,r,n,a){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,e.FOR_BITS.set(a,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var r=e.FOR_BITS.get(t);if(r===void 0)throw new Lt;return r},e.prototype.getCharacterCountBits=function(t){var r=t.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(ko.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(ko.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(ko.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(ko.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(ko.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(ko.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(ko.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(ko.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(ko.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(ko.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}(),W9e=function(){function e(){}return e.decode=function(t,r,n,a){var i=new PU(t),o=new lr,l=new Array,c=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(i.available()<4)h=Pn.TERMINATOR;else{var p=i.readBits(4);h=Pn.forBits(p)}switch(h){case Pn.TERMINATOR:break;case Pn.FNC1_FIRST_POSITION:case Pn.FNC1_SECOND_POSITION:f=!0;break;case Pn.STRUCTURED_APPEND:if(i.available()<16)throw new ut;c=i.readBits(8),u=i.readBits(8);break;case Pn.ECI:var m=e.parseECIValue(i);if(d=Ua.getCharacterSetECIByValue(m),d===null)throw new ut;break;case Pn.HANZI:var x=i.readBits(4),g=i.readBits(h.getCharacterCountBits(r));x===e.GB2312_SUBSET&&e.decodeHanziSegment(i,o,g);break;default:var v=i.readBits(h.getCharacterCountBits(r));switch(h){case Pn.NUMERIC:e.decodeNumericSegment(i,o,v);break;case Pn.ALPHANUMERIC:e.decodeAlphanumericSegment(i,o,v,f);break;case Pn.BYTE:e.decodeByteSegment(i,o,v,d,l,a);break;case Pn.KANJI:e.decodeKanjiSegment(i,o,v);break;default:throw new ut}break}}while(h!==Pn.TERMINATOR)}catch{throw new ut}return new M5(t,o.toString(),l.length===0?null:l,n===null?null:n.toString(),c,u)},e.decodeHanziSegment=function(t,r,n){if(n*13>t.available())throw new ut;for(var a=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,a[i]=l>>8&255,a[i+1]=l&255,i+=2,n--}try{r.append(Uo.decode(a,wr.GB2312))}catch(c){throw new ut(c)}},e.decodeKanjiSegment=function(t,r,n){if(n*13>t.available())throw new ut;for(var a=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,a[i]=l>>8,a[i+1]=l,i+=2,n--}try{r.append(Uo.decode(a,wr.SHIFT_JIS))}catch(c){throw new ut(c)}},e.decodeByteSegment=function(t,r,n,a,i,o){if(8*n>t.available())throw new ut;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=t.readBits(8);var u;a===null?u=wr.guessEncoding(l,o):u=a.getName();try{r.append(Uo.decode(l,u))}catch(d){throw new ut(d)}i.push(l)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new ut;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,r,n,a){for(var i=r.length();n>1;){if(t.available()<11)throw new ut;var o=t.readBits(11);r.append(e.toAlphaNumericChar(Math.floor(o/45))),r.append(e.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(t.available()<6)throw new ut;r.append(e.toAlphaNumericChar(t.readBits(6)))}if(a)for(var l=i;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},e.decodeNumericSegment=function(t,r,n){for(;n>=3;){if(t.available()<10)throw new ut;var a=t.readBits(10);if(a>=1e3)throw new ut;r.append(e.toAlphaNumericChar(Math.floor(a/100))),r.append(e.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(e.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(t.available()<7)throw new ut;var i=t.readBits(7);if(i>=100)throw new ut;r.append(e.toAlphaNumericChar(Math.floor(i/10))),r.append(e.toAlphaNumericChar(i%10))}else if(n===1){if(t.available()<4)throw new ut;var o=t.readBits(4);if(o>=10)throw new ut;r.append(e.toAlphaNumericChar(o))}},e.parseECIValue=function(t){var r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=t.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new ut},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}(),IU=function(){function e(t){this.mirrored=t}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var r=t[0];t[0]=t[2],t[2]=r}},e}(),UI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},V9e=function(){function e(){this.rsDecoder=new F5(ks.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(t,r){return this.decodeBitMatrix(hc.parseFromBooleanArray(t),r)},e.prototype.decodeBitMatrix=function(t,r){var n=new U9e(t),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){a=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new IU(!0)),i}catch(o){throw a!==null?a:o}},e.prototype.decodeBitMatrixParser=function(t,r){var n,a,i,o,l=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),d=H9e.getDataBlocks(u,l,c),f=0;try{for(var h=UI(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(S){n={error:S}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}var x=new Uint8Array(f),g=0;try{for(var v=UI(d),b=v.next();!b.done;b=v.next()){var m=b.value,y=m.getCodewords(),w=m.getNumDataCodewords();this.correctErrors(y,w);for(var N=0;N<w;N++)x[g++]=y[N]}}catch(S){i={error:S}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}return W9e.decode(x,l,c,r)},e.prototype.correctErrors=function(t,r){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-r)}catch{throw new Pa}for(var a=0;a<r;a++)t[a]=n[a]},e}(),q9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G9e=function(e){q9e(t,e);function t(r,n,a){var i=e.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return t.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+a)/2;return new t(i,o,l)},t}(Et),Y9e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},X9e=function(){function e(t,r,n,a,i,o,l){this.image=t,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var t=this.startX,r=this.height,n=this.width,a=t+n,i=this.startY+r/2,o=new Int32Array(3),l=this.image,c=0;c<r;c++){var u=i+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=t;d<a&&!l.get(d,u);)d++;for(var f=0;d<a;){if(l.get(d,u))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,d);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;d++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,a);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ge},e.centerFromEnd=function(t,r){return r-t[2]-t[1]/2},e.prototype.foundPatternCross=function(t){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-t[a])>=n)return!1;return!0},e.prototype.crossCheckVertical=function(t,r,n,a){var i=this.image,o=i.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=t;c>=0&&i.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!i.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<o&&i.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===o||l[1]>n)return NaN;for(;c<o&&!i.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var u=l[0]+l[1]+l[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n){var a,i,o=t[0]+t[1]+t[2],l=e.centerFromEnd(t,n),c=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(c)){var u=(t[0]+t[1]+t[2])/3;try{for(var d=Y9e(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,c,l))return h.combineEstimate(c,l,u)}}catch(m){a={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var p=new G9e(l,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},e}(),K9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q9e=function(e){K9e(t,e);function t(r,n,a,i){var o=e.call(this,r,n)||this;return o.estimatedModuleSize=a,o.count=i,i===void 0&&(o.count=1),o}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(r,n,a){var i=this.count+1,o=(this.count*this.getX()+n)/i,l=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new t(o,l,c,i)},t}(Et),J9e=function(){function e(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}(),px=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Z9e=function(){function e(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var r=t!=null&&t.get(Cn.TRY_HARDER)!==void 0,n=t!=null&&t.get(Cn.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),o=a.getWidth(),l=Math.floor(3*i/(4*e.MAX_MODULES));(l<e.MIN_SKIP||r)&&(l=e.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=l-1;d<i&&!c;d+=l){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<o;h++)if(a.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(e.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-l,h=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(e.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,o,n);p===!0&&(l=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var x=this.selectBestPatterns();return Et.orderBestPatterns(x),new J9e(x)},e.centerFromEnd=function(t,r){return r-t[4]-t[3]-t[2]/2},e.foundPatternCross=function(t){for(var r=0,n=0;n<5;n++){var a=t[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o},e.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},e.prototype.crossCheckDiagonal=function(t,r,n,a){for(var i=this.getCrossCheckStateCount(),o=0,l=this.image;t>=o&&r>=o&&l.get(r-o,t-o);)i[2]++,o++;if(t<o||r<o)return!1;for(;t>=o&&r>=o&&!l.get(r-o,t-o)&&i[1]<=n;)i[1]++,o++;if(t<o||r<o||i[1]>n)return!1;for(;t>=o&&r>=o&&l.get(r-o,t-o)&&i[0]<=n;)i[0]++,o++;if(i[0]>n)return!1;var c=l.getHeight(),u=l.getWidth();for(o=1;t+o<c&&r+o<u&&l.get(r+o,t+o);)i[2]++,o++;if(t+o>=c||r+o>=u)return!1;for(;t+o<c&&r+o<u&&!l.get(r+o,t+o)&&i[3]<n;)i[3]++,o++;if(t+o>=c||r+o>=u||i[3]>=n)return!1;for(;t+o<c&&r+o<u&&l.get(r+o,t+o)&&i[4]<n;)i[4]++,o++;if(i[4]>=n)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-a)<2*a&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,r,n,a){for(var i=this.image,o=i.getHeight(),l=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&i.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<o&&i.get(r,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!i.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&i.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-a)>=2*a?NaN:e.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.crossCheckHorizontal=function(t,r,n,a){for(var i=this.image,o=i.getWidth(),l=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&i.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<o&&i.get(c,r);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!i.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&i.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-a)>=a?NaN:e.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n,a){var i=t[0]+t[1]+t[2]+t[3]+t[4],o=e.centerFromEnd(t,n),l=this.crossCheckVertical(r,Math.floor(o),t[2],i);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),t[2],i),!isNaN(o)&&(!a||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),t[2],i)))){for(var c=i/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(c,l,o)){d[f]=p.combineEstimate(l,o,c),u=!0;break}}if(!u){var m=new Q9e(o,l,c);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},e.prototype.findRowSkip=function(){var t,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=px(this.possibleCenters),o=i.next();!o.done;o=i.next()){var l=o.value;if(l.getCount()>=e.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,r,n,a,i=0,o=0,l=this.possibleCenters.length;try{for(var c=px(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=e.CENTER_QUORUM&&(i++,o+=d.getEstimatedModuleSize())}}catch(x){t={error:x}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(i<3)return!1;var f=o/l,h=0;try{for(var p=px(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(x){n={error:x}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}return h<=.05*o},e.prototype.selectBestPatterns=function(){var t,r,n,a,i=this.possibleCenters.length;if(i<3)throw new Ge;var o=this.possibleCenters,l;if(i>3){var c=0,u=0;try{for(var d=px(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();c+=p,u+=p*p}}catch(N){t={error:N}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}l=c/i;var m=Math.sqrt(u/i-l*l);o.sort(function(N,S){var j=Math.abs(S.getEstimatedModuleSize()-l),A=Math.abs(N.getEstimatedModuleSize()-l);return j<A?-1:j>A?1:0});for(var x=Math.max(.2*l,m),g=0;g<o.length&&o.length>3;g++){var v=o[g];Math.abs(v.getEstimatedModuleSize()-l)>x&&(o.splice(g,1),g--)}}if(o.length>3){var c=0;try{for(var b=px(o),y=b.next();!y.done;y=b.next()){var w=y.value;c+=w.getEstimatedModuleSize()}}catch(S){n={error:S}}finally{try{y&&!y.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}l=c/o.length,o.sort(function(S,j){if(j.getCount()===S.getCount()){var A=Math.abs(j.getEstimatedModuleSize()-l),T=Math.abs(S.getEstimatedModuleSize()-l);return A<T?1:A>T?-1:0}else return j.getCount()-S.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}(),eBe=function(){function e(t){this.image=t}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(Cn.NEED_RESULT_POINT_CALLBACK);var r=new Z9e(this.image,this.resultPointCallback),n=r.find(t);return this.processFinderPatternInfo(n)},e.prototype.processFinderPatternInfo=function(t){var r=t.getTopLeft(),n=t.getTopRight(),a=t.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new Ge("No pattern found in proccess finder.");var o=e.computeDimension(r,n,a,i),l=U0.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,u=null;if(l.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+a.getX(),f=n.getY()-r.getY()+a.getY(),h=1-3/c,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),x=4;x<=16;x<<=1)try{u=this.findAlignmentInRegion(i,p,m,x);break}catch(y){if(!(y instanceof Ge))throw y}var g=e.createTransform(r,n,a,u,o),v=e.sampleGrid(this.image,g,o),b;return u===null?b=[a,r,n]:b=[a,r,n,u],new dE(v,b)},e.createTransform=function(t,r,n,a,i){var o=i-3.5,l,c,u,d;return a!==null?(l=a.getX(),c=a.getY(),u=o-3,d=u):(l=r.getX()-t.getX()+n.getX(),c=r.getY()-t.getY()+n.getY(),u=o,d=o),EU.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,d,3.5,o,t.getX(),t.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},e.sampleGrid=function(t,r,n){var a=fE.getInstance();return a.sampleGridWithTransform(t,n,n,r)},e.computeDimension=function(t,r,n,a){var i=Dr.round(Et.distance(t,r)/a),o=Dr.round(Et.distance(t,n)/a),l=Math.floor((i+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Ge("Dimensions could be not found.")}return l},e.prototype.calculateModuleSize=function(t,r,n){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,n))/2},e.prototype.calculateModuleSizeOneWay=function(t,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(t,r,n,a),o=1,l=t-(n-t);l<0?(o=t/(t-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(l-t),l=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(t+(l-t)*o),i+=this.sizeOfBlackWhiteBlackRun(t,r,l,c),i-1},e.prototype.sizeOfBlackWhiteBlackRun=function(t,r,n,a){var i=Math.abs(a-r)>Math.abs(n-t);if(i){var o=t;t=r,r=o,o=n,n=a,a=o}for(var l=Math.abs(n-t),c=Math.abs(a-r),u=-l/2,d=t<n?1:-1,f=r<a?1:-1,h=0,p=n+d,m=t,x=r;m!==p;m+=d){var g=i?x:m,v=i?m:x;if(h===1===this.image.get(g,v)){if(h===2)return Dr.distance(m,x,t,r);h++}if(u+=c,u>0){if(x===a)break;x+=f,u-=l}}return h===2?Dr.distance(n+d,a,t,r):NaN},e.prototype.findAlignmentInRegion=function(t,r,n,a){var i=Math.floor(a*t),o=Math.max(0,r-i),l=Math.min(this.image.getWidth()-1,r+i);if(l-o<t*3)throw new Ge("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-c<t*3)throw new Ge("Alignment bottom exceeds estimated module size.");var d=new X9e(this.image,o,c,l-o,u-c,t,this.resultPointCallback);return d.find()},e}(),aw=function(){function e(){this.decoder=new V9e}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,r){var n,a;if(r!=null&&r.get(Cn.PURE_BARCODE)!==void 0){var i=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=e.NO_POINTS}else{var o=new eBe(t.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),a=o.getPoints()}n.getOther()instanceof IU&&n.getOther().applyMirroredCorrection(a);var l=new Qi(n.getText(),n.getRawBytes(),void 0,a,Rt.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(Ai.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&l.putMetadata(Ai.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(l.putMetadata(Ai.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(Ai.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},e.prototype.reset=function(){},e.extractPureBits=function(t){var r=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(r===null||n===null)throw new Ge;var a=this.moduleSize(r,t),i=r[1],o=n[1],l=r[0],c=n[0];if(l>=c||i>=o)throw new Ge;if(o-i!==c-l&&(c=l+(o-i),c>=t.getWidth()))throw new Ge;var u=Math.round((c-l+1)/a),d=Math.round((o-i+1)/a);if(u<=0||d<=0)throw new Ge;if(d!==u)throw new Ge;var f=Math.floor(a/2);i+=f,l+=f;var h=l+Math.floor((u-1)*a)-c;if(h>0){if(h>f)throw new Ge;l-=h}var p=i+Math.floor((d-1)*a)-o;if(p>0){if(p>f)throw new Ge;i-=p}for(var m=new hc(u,d),x=0;x<d;x++)for(var g=i+Math.floor(x*a),v=0;v<u;v++)t.get(l+Math.floor(v*a),g)&&m.set(v,x);return m},e.moduleSize=function(t,r){for(var n=r.getHeight(),a=r.getWidth(),i=t[0],o=t[1],l=!0,c=0;i<a&&o<n;){if(l!==r.get(i,o)){if(++c===5)break;l=!l}i++,o++}if(i===a||o===n)throw new Ge;return(i-t[0])/7},e.NO_POINTS=new Array,e}(),tBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ar=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(t){return Dr.sum(t)},e.toIntArray=function(t){var r,n;if(t==null||!t.length)return e.EMPTY_INT_ARRAY;var a=new Int32Array(t.length),i=0;try{for(var o=tBe(t),l=o.next();!l.done;l=o.next()){var c=l.value;a[i++]=c}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.getCodeword=function(t){var r=Va.binarySearch(e.SYMBOL_TABLE,t&262143);return r<0?-1:(e.CODEWORD_TABLE[r]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}(),rBe=function(){function e(t,r){this.bits=t,this.points=r}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),nBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aBe=function(){function e(){}return e.detectMultiple=function(t,r,n){var a=t.getBlackMatrix(),i=e.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=e.detect(n,a)),new rBe(a,i)},e.detect=function(t,r){for(var n,a,i=new Array,o=0,l=0,c=!1;o<r.getHeight();){var u=e.findVertices(r,o,l);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,l=0;try{for(var d=(n=void 0,nBe(i)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}o+=e.ROW_STEP;continue}if(c=!0,i.push(u),!t)break;u[2]!=null?(l=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return i},e.findVertices=function(t,r,n){var a=t.getHeight(),i=t.getWidth(),o=new Array(8);return e.copyToResult(o,e.findRowsWithPattern(t,a,i,r,n,e.START_PATTERN),e.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),e.copyToResult(o,e.findRowsWithPattern(t,a,i,r,n,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),o},e.copyToResult=function(t,r,n){for(var a=0;a<n.length;a++)t[n[a]]=r[a]},e.findRowsWithPattern=function(t,r,n,a,i,o){for(var l=new Array(4),c=!1,u=new Int32Array(o.length);a<r;a+=e.ROW_STEP){var d=e.findGuardPattern(t,i,a,n,!1,o,u);if(d!=null){for(;a>0;){var f=e.findGuardPattern(t,i,--a,n,!1,o,u);if(f!=null)d=f;else{a++;break}}l[0]=new Et(d[0],a),l[1]=new Et(d[1],a),c=!0;break}}var h=a+1;if(c){for(var p=0,f=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);h<r;h++){var d=e.findGuardPattern(t,f[0],h,n,!1,o,u);if(d!=null&&Math.abs(f[0]-d[0])<e.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<e.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>e.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,l[2]=new Et(f[0],h),l[3]=new Et(f[1],h)}return h-a<e.BARCODE_MIN_HEIGHT&&Va.fill(l,null),l},e.findGuardPattern=function(t,r,n,a,i,o,l){Va.fillWithin(l,0,l.length,0);for(var c=r,u=0;t.get(c,n)&&c>0&&u++<e.MAX_PIXEL_DRIFT;)c--;for(var d=c,f=0,h=o.length,p=i;d<a;d++){var m=t.get(d,n);if(m!==p)l[f]++;else{if(f===h-1){if(e.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=l[0]+l[1],An.arraycopy(l,2,l,0,f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,p=!p}}return f===h-1&&e.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},e.patternMatchVariance=function(t,r,n){for(var a=t.length,i=0,o=0,l=0;l<a;l++)i+=t[l],o+=r[l];if(i<o)return 1/0;var c=i/o;n*=c;for(var u=0,d=0;d<a;d++){var f=t[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/i},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}(),iBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A0=function(){function e(t,r){if(r.length===0)throw new Lt;this.field=t;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),An.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){var r,n;if(t===0)return this.getCoefficient(0);if(t===1){var a=0;try{for(var i=iBe(this.coefficients),o=i.next();!o.done;o=i.next()){var l=o.value;a=this.field.add(a,l)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(t,c),this.coefficients[d]);return c},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new Lt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),o=n.length-r.length;An.arraycopy(n,0,i,0,o);for(var l=o;l<n.length;l++)i[l]=this.field.add(r[l-o],n[l]);return new e(this.field,i)},e.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Lt("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Lt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=t.coefficients,i=a.length,o=new Int32Array(n+i-1),l=0;l<n;l++)for(var c=r[l],u=0;u<i;u++)o[l+u]=this.field.add(o[l+u],this.field.multiply(c,a[u]));return new e(this.field,o)},e.prototype.negative=function(){for(var t=this.coefficients.length,r=new Int32Array(t),n=0;n<t;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new e(this.field,r)},e.prototype.multiplyScalar=function(t){if(t===0)return new e(this.field,new Int32Array([0]));if(t===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,n)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new Lt;if(r===0)return new e(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+t),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new e(this.field,a)},e.prototype.toString=function(){for(var t=new lr,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),(r===0||n!==1)&&t.append(n),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()},e}(),sBe=function(){function e(){}return e.prototype.add=function(t,r){return(t+r)%this.modulus},e.prototype.subtract=function(t,r){return(this.modulus+t-r)%this.modulus},e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Lt;return this.logTable[t]},e.prototype.inverse=function(t){if(t===0)throw new CU;return this.expTable[this.modulus-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(t){return t===this},e}(),oBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lBe=function(e){oBe(t,e);function t(r,n){var a=e.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,o=0;o<r;o++)a.expTable[o]=i,i=i*n%r;for(var o=0;o<r-1;o++)a.logTable[a.expTable[o]]=o;return a.zero=new A0(a,new Int32Array([0])),a.one=new A0(a,new Int32Array([1])),a}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(r,n){if(r<0)throw new Lt;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new A0(this,a)},t.PDF417_GF=new t(Ar.NUMBER_OF_CODEWORDS,3),t}(sBe),cBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uBe=function(){function e(){this.field=lBe.PDF417_GF}return e.prototype.decode=function(t,r,n){for(var a,i,o=new A0(this.field,t),l=new Int32Array(r),c=!1,u=r;u>0;u--){var d=o.evaluateAt(this.field.exp(u));l[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=cBe(n),p=h.next();!p.done;p=h.next()){var m=p.value,x=this.field.exp(t.length-1-m),g=new A0(this.field,new Int32Array([this.field.subtract(0,x),1]));f=f.multiply(g)}}catch(A){a={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}for(var v=new A0(this.field,l),b=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),v,r),y=b[0],w=b[1],N=this.findErrorLocations(y),S=this.findErrorMagnitudes(w,y,N),u=0;u<N.length;u++){var j=t.length-1-this.field.log(N[u]);if(j<0)throw Pa.getChecksumInstance();t[j]=this.field.subtract(t[j],S[u])}return N.length},e.prototype.runEuclideanAlgorithm=function(t,r,n){if(t.getDegree()<r.getDegree()){var a=t;t=r,r=a}for(var i=t,o=r,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=i,d=l;if(i=o,l=c,i.isZero())throw Pa.getChecksumInstance();o=u;for(var f=this.field.getZero(),h=i.getCoefficient(i.getDegree()),p=this.field.inverse(h);o.getDegree()>=i.getDegree()&&!o.isZero();){var m=o.getDegree()-i.getDegree(),x=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(m,x)),o=o.subtract(i.multiplyByMonomial(m,x))}c=f.multiply(l).subtract(d).negative()}var g=c.getCoefficient(0);if(g===0)throw Pa.getChecksumInstance();var v=this.field.inverse(g),b=c.multiply(v),y=o.multiply(v);return[b,y]},e.prototype.findErrorLocations=function(t){for(var r=t.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)t.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw Pa.getChecksumInstance();return n},e.prototype.findErrorMagnitudes=function(t,r,n){for(var a=r.getDegree(),i=new Int32Array(a),o=1;o<=a;o++)i[a-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new A0(this.field,i),c=n.length,u=new Int32Array(c),o=0;o<c;o++){var d=this.field.inverse(n[o]),f=this.field.subtract(0,t.evaluateAt(d)),h=this.field.inverse(l.evaluateAt(d));u[o]=this.field.multiply(f,h)}return u},e}(),sS=function(){function e(t,r,n,a,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,r,n,a,i)}return e.prototype.constructor_1=function(t,r,n,a,i){var o=r==null||n==null,l=a==null||i==null;if(o&&l)throw new Ge;o?(r=new Et(0,a.getY()),n=new Et(0,i.getY())):l&&(a=new Et(t.getWidth()-1,r.getY()),i=new Et(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},e.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},e.merge=function(t,r){return t==null?r:r==null?t:new e(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)},e.prototype.addMissingRows=function(t,r,n){var a=this.topLeft,i=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(t>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-t);u<0&&(u=0);var d=new Et(c.getX(),u);n?a=d:o=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Et(f.getX(),h);n?i=p:l=p}return new e(this.image,a,i,o,l)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}(),dBe=function(){function e(t,r,n,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}(),pE=function(){function e(){this.buffer=""}return e.form=function(t,r){var n=-1;function a(o,l,c,u,d,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(c),x=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=l!==void 0?p+x:x+p;return p}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,a)},e.prototype.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=e.form(t,r)},e.prototype.toString=function(){return this.buffer},e}(),fBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MU=function(){function e(t){this.boundingBox=new sS(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var r=this.getCodeword(t);if(r!=null)return r;for(var n=1;n<e.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(t)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(t)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},e.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},e.prototype.setCodeword=function(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r},e.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var t,r,n=new pE,a=0;try{for(var i=fBe(this.codewords),o=i.next();!o.done;o=i.next()){var l=o.value;if(l==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.toString()},e.MAX_NEARBY_DISTANCE=5,e}(),hBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pBe=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Ax=function(){function e(){this.values=new Map}return e.prototype.setValue=function(t){t=Math.trunc(t);var r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)},e.prototype.getValue=function(){var t,r,n=-1,a=new Array,i=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),a=[],a.push(p.getKey())):p.getValue()===n&&a.push(p.getKey())};try{for(var o=hBe(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=pBe(l.value,2),u=c[0],d=c[1];i(u,d)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return Ar.toIntArray(a)},e.prototype.getConfidence=function(t){return this.values.get(t)},e}(),mBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xN=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},HI=function(e){mBe(t,e);function t(r,n){var a=e.call(this,r)||this;return a._isLeft=n,a}return t.prototype.setRowNumbers=function(){var r,n;try{for(var a=xN(this.getCodewords()),i=a.next();!i.done;i=a.next()){var o=i.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),o=this._isLeft?a.getBottomLeft():a.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,d=1,f=0,h=l;h<c;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-u;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var x=void 0;d>2?x=(d-2)*m:x=m;for(var g=x>=h,v=1;v<=x&&!g;v++)g=n[h-v]!=null;g?n[h]=null:(u=p.getRowNumber(),f=1)}}},t.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var o=xN(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var u=c.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1,d=o;d<l;d++)if(c[d]!=null){var f=c[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[d]=null:u=f.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new Ax,o=new Ax,l=new Ax,c=new Ax;try{for(var u=xN(a),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:c.setValue(h/3),l.setValue(h%3);break;case 2:i.setValue(h+1);break}}}}catch(x){r={error:x}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Ar.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Ar.MAX_ROWS_IN_BARCODE)return null;var m=new dBe(i.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,m),m},t.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var o=i.getValue()%30,l=i.getRowNumber();if(l>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:o+1!==n.getColumnCount()&&(r[a]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+e.prototype.toString.call(this)},t}(MU),xBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gBe=function(){function e(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=Ar.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return t},e.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null&&r[n]!=null&&t[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(t[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},e.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(i=e.adjustRowNumberIfValid(a,i,l),l.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(i=e.adjustRowNumberIfValid(a,i,l),l.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(t,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),r=0):++r),r},e.prototype.adjustRowNumbers=function(t,r,n){var a,i;if(this.detectionResultColumns[t-1]!=null){var o=n[r],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());var u=new Array(14);u[2]=l[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=l[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=l[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=l[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=l[r+2],u[13]=c[r+2]);try{for(var d=xBe(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(e.adjustRowNumber(o,h))return}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},e.adjustRowNumber=function(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(t){this.boundingBox=t},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(t,r){this.detectionResultColumns[t]=r},e.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},e.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new pE,n=0;n<t.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},e}(),vBe=function(){function e(t,r,n,a){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(t){this.rowNumber=t},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}(),bBe=function(){function e(){}return e.initialize=function(){for(var t=0;t<Ar.SYMBOL_TABLE.length;t++)for(var r=Ar.SYMBOL_TABLE[t],n=r&1,a=0;a<Ar.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(Ar.BARS_IN_MODULE)),e.RATIOS_TABLE[t][Ar.BARS_IN_MODULE-a-1]=Math.fround(i/Ar.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var r=e.getDecodedCodewordValue(e.sampleBitCounts(t));return r!==-1?r:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(t){for(var r=Dr.sum(t),n=new Int32Array(Ar.BARS_IN_MODULE),a=0,i=0,o=0;o<Ar.MODULES_IN_CODEWORD;o++){var l=r/(2*Ar.MODULES_IN_CODEWORD)+o*r/Ar.MODULES_IN_CODEWORD;i+t[a]<=l&&(i+=t[a],a++),n[a]++}return n},e.getDecodedCodewordValue=function(t){var r=e.getBitValue(t);return Ar.getCodeword(r)===-1?-1:r},e.getBitValue=function(t){for(var r=0,n=0;n<t.length;n++)for(var a=0;a<t[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},e.getClosestDecodedValue=function(t){var r=Dr.sum(t),n=new Array(Ar.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(t[a]/r);var i=nS.MAX_VALUE,o=-1;this.bSymbolTableReady||e.initialize();for(var l=0;l<e.RATIOS_TABLE.length;l++){for(var c=0,u=e.RATIOS_TABLE[l],d=0;d<Ar.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(c+=Math.fround(f*f),c>=i)break}c<i&&(i=c,o=Ar.SYMBOL_TABLE[l])}return o},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(Ar.SYMBOL_TABLE.length).map(function(t){return new Array(Ar.BARS_IN_MODULE)}),e}(),yBe=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(t){this.segmentIndex=t},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(t){this.fileId=t},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(t){this.optionalData=t},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(t){this.lastSegment=t},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(t){this.segmentCount=t},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(t){this.sender=t},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(t){this.addressee=t},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(t){this.fileName=t},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(t){this.fileSize=t},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(t){this.checksum=t},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(t){this.timestamp=t},e}(),WI=function(){function e(){}return e.parseLong=function(t,r){return r===void 0&&(r=void 0),parseInt(t,r)},e}(),wBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_Be=function(e){wBe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="NullPointerException",t}(Rs),NBe=function(){function e(){}return e.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},e.prototype.writeBytesOffset=function(t,r,n){if(t==null)throw new _Be;if(r<0||r>t.length||n<0||r+n>t.length||r+n<0)throw new uE;if(n===0)return;for(var a=0;a<n;a++)this.write(t[r+a])},e.prototype.flush=function(){},e.prototype.close=function(){},e}(),jBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SBe=function(e){jBe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Rs),ABe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CBe=function(e){ABe(t,e);function t(r){r===void 0&&(r=32);var n=e.call(this)||this;if(n.count=0,r<0)throw new Lt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return t.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},t.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new SBe;a=dr.MAX_VALUE}this.buf=Va.copyOfUint8Array(this.buf,a)},t.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},t.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new uE;this.ensureCapacity(this.count+a),An.arraycopy(r,n,this.buf,this.count,a),this.count+=a},t.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return Va.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(r){return new String(this.buf).toString()},t.prototype.toString_number=function(r){return new String(this.buf).toString()},t.prototype.close=function(){},t}(NBe),ln;(function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ln||(ln={}));function FU(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var I2;function ed(e){if(typeof I2>"u"&&(I2=FU()),I2===null)throw new Error("BigInt is not supported!");return I2(e)}function EBe(){var e=[];e[0]=ed(1);var t=ed(900);e[1]=t;for(var r=2;r<16;r++)e[r]=e[r-1]*t;return e}var kBe=function(){function e(){}return e.decode=function(t,r){var n=new lr(""),a=Ua.ISO8859_1;n.enableDecoding(a);for(var i=1,o=t[i++],l=new yBe;i<t[0];){switch(o){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,n);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(o,t,a,i,n);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,n);break;case e.ECI_CHARSET:Ua.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,l);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new ut;default:i--,i=e.textCompaction(t,i,n);break}if(i<t.length)o=t[i++];else throw ut.getFormatInstance()}if(n.length()===0)throw ut.getFormatInstance();var c=new M5(null,n.toString(),null,r);return c.setOther(l),c},e.decodeMacroBlock=function(t,r,n){if(r+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ut.getFormatInstance();for(var a=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=t[r];n.setSegmentIndex(dr.parseInt(e.decodeBase900toBase10(a,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new lr;r=e.textCompaction(t,r,o),n.setFileId(o.toString());var l=-1;for(t[r]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<t[0];)switch(t[r]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new lr;r=e.textCompaction(t,r+1,c),n.setFileName(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new lr;r=e.textCompaction(t,r+1,u),n.setSender(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new lr;r=e.textCompaction(t,r+1,d),n.setAddressee(d.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new lr;r=e.numericCompaction(t,r+1,f),n.setSegmentCount(dr.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new lr;r=e.numericCompaction(t,r+1,h),n.setTimestamp(WI.parseLong(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new lr;r=e.numericCompaction(t,r+1,p),n.setChecksum(dr.parseInt(p.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new lr;r=e.numericCompaction(t,r+1,m),n.setFileSize(WI.parseLong(m.toString()));break;default:throw ut.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ut.getFormatInstance()}if(l!==-1){var x=r-l;n.isLastSegment()&&x--,n.setOptionalData(Va.copyOfRange(t,l,l+x))}return r},e.textCompaction=function(t,r,n){for(var a=new Int32Array((t[0]-r)*2),i=new Int32Array((t[0]-r)*2),o=0,l=!1;r<t[0]&&!l;){var c=t[r++];if(c<e.TEXT_COMPACTION_MODE_LATCH)a[o]=c/30,a[o+1]=c%30,o+=2;else switch(c){case e.TEXT_COMPACTION_MODE_LATCH:a[o++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[o]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=t[r++],i[o]=c,o++;break}}return e.decodeTextCompaction(a,i,o,n),r},e.decodeTextCompaction=function(t,r,n,a){for(var i=ln.ALPHA,o=ln.ALPHA,l=0;l<n;){var c=t[l],u="";switch(i){case ln.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case e.LL:i=ln.LOWER;break;case e.ML:i=ln.MIXED;break;case e.PS:o=i,i=ln.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ln.ALPHA;break}break;case ln.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case e.AS:o=i,i=ln.ALPHA_SHIFT;break;case e.ML:i=ln.MIXED;break;case e.PS:o=i,i=ln.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ln.ALPHA;break}break;case ln.MIXED:if(c<e.PL)u=e.MIXED_CHARS[c];else switch(c){case e.PL:i=ln.PUNCT;break;case 26:u=" ";break;case e.LL:i=ln.LOWER;break;case e.AL:i=ln.ALPHA;break;case e.PS:o=i,i=ln.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ln.ALPHA;break}break;case ln.PUNCT:if(c<e.PAL)u=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=ln.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ln.ALPHA;break}break;case ln.ALPHA_SHIFT:if(i=o,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=ln.ALPHA;break}break;case ln.PUNCT_SHIFT:if(i=o,c<e.PAL)u=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=ln.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ln.ALPHA;break}break}u!==""&&a.append(u),l++}},e.byteCompaction=function(t,r,n,a,i){var o=new CBe,l=0,c=0,u=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[a++];a<r[0]&&!u;)switch(d[l++]=f,c=900*c+f,f=r[a++],f){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(l%5===0&&l>0){for(var h=0;h<6;++h)o.write(Number(ed(c)>>ed(8*(5-h))));c=0,l=0}break}a===r[0]&&f<e.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=f);for(var p=0;p<l;p++)o.write(d[p]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!u;){var m=r[a++];if(m<e.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+m;else switch(m){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(l%5===0&&l>0){for(var h=0;h<6;++h)o.write(Number(ed(c)>>ed(8*(5-h))));c=0,l=0}}break}return i.append(Uo.decode(o.toByteArray(),n)),a},e.numericCompaction=function(t,r,n){for(var a=0,i=!1,o=new Int32Array(e.MAX_NUMERIC_CODEWORDS);r<t[0]&&!i;){var l=t[r++];if(r===t[0]&&(i=!0),l<e.TEXT_COMPACTION_MODE_LATCH)o[a]=l,a++;else switch(l){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%e.MAX_NUMERIC_CODEWORDS===0||l===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(e.decodeBase900toBase10(o,a)),a=0)}return r},e.decodeBase900toBase10=function(t,r){for(var n=ed(0),a=0;a<r;a++)n+=e.EXP900[r-a-1]*ed(t[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new ut;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",e.EXP900=FU()?EBe():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}(),mx=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TBe=function(){function e(){}return e.decode=function(t,r,n,a,i,o,l){for(var c=new sS(t,r,n,a,i),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=e.getRowIndicatorColumn(t,c,r,!0,o,l)),a!=null&&(d=e.getRowIndicatorColumn(t,c,a,!1,o,l)),f=e.merge(u,d),f==null)throw Ge.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}f.setBoundingBox(c);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(m,d);for(var x=u!=null,g=1;g<=m;g++){var v=x?g:m-g;if(f.getDetectionResultColumn(v)===void 0){var b=void 0;v===0||v===m?b=new HI(c,v===0):b=new MU(c),f.setDetectionResultColumn(v,b);for(var y=-1,w=y,N=c.getMinY();N<=c.getMaxY();N++){if(y=e.getStartColumn(f,v,N,x),y<0||y>c.getMaxX()){if(w===-1)continue;y=w}var S=e.detectCodeword(t,c.getMinX(),c.getMaxX(),x,y,N,o,l);S!=null&&(b.setCodeword(N,S),w=y,o=Math.min(o,S.getWidth()),l=Math.max(l,S.getWidth()))}}}return e.createDecoderResult(f)},e.merge=function(t,r){if(t==null&&r==null)return null;var n=e.getBarcodeMetadata(t,r);if(n==null)return null;var a=sS.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(r));return new gBe(n,a)},e.adjustBoundingBox=function(t){var r,n;if(t==null)return null;var a=t.getRowHeights();if(a==null)return null;var i=e.getMax(a),o=0;try{for(var l=mx(a),c=l.next();!c.done;c=l.next()){var u=c.value;if(o+=i-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=t.getCodewords(),f=0;o>0&&d[f]==null;f++)o--;for(var h=0,f=a.length-1;f>=0&&(h+=i-a[f],!(a[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return t.getBoundingBox().addMissingRows(o,h,t.isLeft())},e.getMax=function(t){var r,n,a=-1;try{for(var i=mx(t),o=i.next();!o.done;o=i.next()){var l=o.value;a=Math.max(a,l)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},e.getBarcodeMetadata=function(t,r){var n;if(t==null||(n=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},e.getRowIndicatorColumn=function(t,r,n,a,i,o){for(var l=new HI(r,a),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=e.detectCodeword(t,0,t.getWidth(),a,d,f,i,o);h!=null&&(l.setCodeword(f,h),a?d=h.getStartX():d=h.getEndX())}return l},e.adjustCodewordCount=function(t,r){var n=r[0][1],a=n.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(i<1||i>Ar.MAX_CODEWORDS_IN_BARCODE)throw Ge.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},e.createDecoderResult=function(t){var r=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,r);for(var n=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],o=new Array,l=0;l<t.getBarcodeRowCount();l++)for(var c=0;c<t.getBarcodeColumnCount();c++){var u=r[l][c+1].getValue(),d=l*t.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?a[d]=u[0]:(o.push(d),i.push(u))}for(var f=new Array(i.length),h=0;h<f.length;h++)f[h]=i[h];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,Ar.toIntArray(n),Ar.toIntArray(o),f)},e.createDecoderResultFromAmbiguousValues=function(t,r,n,a,i){for(var o=new Int32Array(a.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)r[a[c]]=i[c][o[c]];try{return e.decodeCodewords(r,t,n)}catch(d){var u=d instanceof Pa;if(!u)throw d}if(o.length===0)throw Pa.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<i[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw Pa.getChecksumInstance()}throw Pa.getChecksumInstance()},e.createBarcodeMatrix=function(t){for(var r,n,a,i,o=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new Ax;var u=0;try{for(var d=mx(t.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(a=void 0,mx(h.getCodewords())),m=p.next();!m.done;m=p.next()){var x=m.value;if(x!=null){var g=x.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][u].setValue(x.getValue())}}}}catch(v){a={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u++}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},e.isValidBarcodeColumn=function(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1},e.getStartColumn=function(t,r,n,a){var i,o,l=a?1:-1,c=null;if(e.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(e.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var u=0;e.isValidBarcodeColumn(t,r-l);){r-=l;try{for(var d=(i=void 0,mx(t.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(a?h.getEndX():h.getStartX())+l*u*(h.getEndX()-h.getStartX())}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}u++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,r,n,a,i,o,l,c){i=e.adjustCodewordStartColumn(t,r,n,a,i,o);var u=e.getModuleBitCount(t,r,n,a,i,o);if(u==null)return null;var d,f=Dr.sum(u);if(a)d=i+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=i,i=d-f}if(!e.checkCodewordSkew(f,l,c))return null;var m=bBe.getDecodedValue(u),x=Ar.getCodeword(m);return x===-1?null:new vBe(i,d,e.getCodewordBucketNumber(m),x)},e.getModuleBitCount=function(t,r,n,a,i,o){for(var l=i,c=new Int32Array(8),u=0,d=a?1:-1,f=a;(a?l<n:l>=r)&&u<c.length;)t.get(l,o)===f?(c[u]++,l+=d):(u++,f=!f);return u===c.length||l===(a?n:r)&&u===c.length-1?c:null},e.getNumberOfECCodeWords=function(t){return 2<<t},e.adjustCodewordStartColumn=function(t,r,n,a,i,o){for(var l=i,c=a?-1:1,u=0;u<2;u++){for(;(a?l>=r:l<n)&&a===t.get(l,o);){if(Math.abs(i-l)>e.CODEWORD_SKEW_SIZE)return i;l+=c}c=-c,a=!a}return l},e.checkCodewordSkew=function(t,r,n){return r-e.CODEWORD_SKEW_SIZE<=t&&t<=n+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,r,n){if(t.length===0)throw ut.getFormatInstance();var a=1<<r+1,i=e.correctErrors(t,n,a);e.verifyCodewordCount(t,a);var o=kBe.decode(t,""+r);return o.setErrorsCorrected(i),o.setErasures(n.length),o},e.correctErrors=function(t,r,n){if(r!=null&&r.length>n/2+e.MAX_ERRORS||n<0||n>e.MAX_EC_CODEWORDS)throw Pa.getChecksumInstance();return e.errorCorrection.decode(t,n,r)},e.verifyCodewordCount=function(t,r){if(t.length<4)throw ut.getFormatInstance();var n=t[0];if(n>t.length)throw ut.getFormatInstance();if(n===0)if(r<t.length)t[0]=t.length-r;else throw ut.getFormatInstance()},e.getBitCountForCodeword=function(t){for(var r=new Int32Array(8),n=0,a=r.length-1;!((t&1)!==n&&(n=t&1,a--,a<0));)r[a]++,t>>=1;return r},e.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},e.toString=function(t){for(var r=new pE,n=0;n<t.length;n++){r.format("Row %2d: ",n);for(var a=0;a<t[n].length;a++){var i=t[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new uBe,e}(),OBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iw=function(){function e(){}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n=e.decode(t,r,!1);if(n==null||n.length===0||n[0]==null)throw Ge.getNotFoundInstance();return n[0]},e.prototype.decodeMultiple=function(t,r){r===void 0&&(r=null);try{return e.decode(t,r,!0)}catch(n){throw n instanceof ut||n instanceof Pa?Ge.getNotFoundInstance():n}},e.decode=function(t,r,n){var a,i,o=new Array,l=aBe.detectMultiple(t,r,n);try{for(var c=OBe(l.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,f=TBe.decode(l.getBits(),d[4],d[5],d[6],d[7],e.getMinCodewordWidth(d),e.getMaxCodewordWidth(d)),h=new Qi(f.getText(),f.getRawBytes(),void 0,d,Rt.PDF_417);h.putMetadata(Ai.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(Ai.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(m){a={error:m}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return o.map(function(m){return m})},e.getMaxWidth=function(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))},e.getMinWidth=function(t,r){return t==null||r==null?dr.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*Ar.MODULES_IN_CODEWORD/Ar.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*Ar.MODULES_IN_CODEWORD/Ar.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*Ar.MODULES_IN_CODEWORD/Ar.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*Ar.MODULES_IN_CODEWORD/Ar.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}(),PBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VI=function(e){PBe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReaderException",t}(Rs),qI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RU=function(){function e(){}return e.prototype.decode=function(t,r){return this.setHints(r),this.decodeInternal(t)},e.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},e.prototype.setHints=function(t){this.hints=t;var r=t!=null&&t.get(Cn.TRY_HARDER)!==void 0,n=t==null?null:t.get(Cn.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(o){return o===Rt.UPC_A||o===Rt.UPC_E||o===Rt.EAN_13||o===Rt.EAN_8||o===Rt.CODABAR||o===Rt.CODE_39||o===Rt.CODE_93||o===Rt.CODE_128||o===Rt.ITF||o===Rt.RSS_14||o===Rt.RSS_EXPANDED});i&&!r&&a.push(new Lh(t)),n.includes(Rt.QR_CODE)&&a.push(new aw),n.includes(Rt.DATA_MATRIX)&&a.push(new nw),n.includes(Rt.AZTEC)&&a.push(new tw),n.includes(Rt.PDF_417)&&a.push(new iw),i&&r&&a.push(new Lh(t))}a.length===0&&(r||a.push(new Lh(t)),a.push(new aw),a.push(new nw),a.push(new tw),a.push(new iw),r&&a.push(new Lh(t))),this.readers=a},e.prototype.reset=function(){var t,r;if(this.readers!==null)try{for(var n=qI(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.decodeInternal=function(t){var r,n;if(this.readers===null)throw new VI("No readers where selected, nothing can be read.");try{for(var a=qI(this.readers),i=a.next();!i.done;i=a.next()){var o=i.value;try{return o.decode(t,this.hints)}catch(l){if(l instanceof VI)continue}}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new Ge("No MultiFormat Readers were able to detect the code.")},e}(),DBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){DBe(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new RU;return i.setHints(r),a=e.call(this,i,n)||this,a}return t.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},t})(mm);var IBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){IBe(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new iw,r)||this}return t})(mm);var MBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){MBe(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new aw,r)||this}return t})(mm);var oS;(function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"})(oS||(oS={}));const M2=oS;var LU=function(){function e(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new bd(t,Int32Array.from([1])))}return e.prototype.buildGenerator=function(t){var r=this.cachedGenerators;if(t>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=t;i++){var o=n.multiply(new bd(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(o),n=o}return r[t]},e.prototype.encode=function(t,r){if(r===0)throw new Lt("No error correction bytes");var n=t.length-r;if(n<=0)throw new Lt("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);An.arraycopy(t,0,i,0,n);var o=new bd(this.field,i);o=o.multiplyByMonomial(r,1);for(var l=o.divide(a)[1],c=l.getCoefficients(),u=r-c.length,d=0;d<u;d++)t[n+d]=0;An.arraycopy(c,0,t,n+u,c.length)},e}(),Cx=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i-1;o++)for(var l=n[o],c=0;c<a-1;c++){var u=l[c];u===l[c+1]&&u===n[o+1][c]&&u===n[o+1][c+1]&&r++}return e.N2*r},e.applyMaskPenaltyRule3=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var l=0;l<a;l++){var c=n[o];l+6<a&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(e.isWhiteHorizontal(c,l-4,l)||e.isWhiteHorizontal(c,l+7,l+11))&&r++,o+6<i&&n[o][l]===1&&n[o+1][l]===0&&n[o+2][l]===1&&n[o+3][l]===1&&n[o+4][l]===1&&n[o+5][l]===0&&n[o+6][l]===1&&(e.isWhiteVertical(n,l,o-4,o)||e.isWhiteVertical(n,l,o+7,o+11))&&r++}return r*e.N3},e.isWhiteHorizontal=function(t,r,n){r=Math.max(r,0),n=Math.min(n,t.length);for(var a=r;a<n;a++)if(t[a]===1)return!1;return!0},e.isWhiteVertical=function(t,r,n,a){n=Math.max(n,0),a=Math.min(a,t.length);for(var i=n;i<a;i++)if(t[i][r]===1)return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var l=n[o],c=0;c<a;c++)l[c]===1&&r++;var u=t.getHeight()*t.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*e.N4},e.getDataMaskBit=function(t,r,n){var a,i;switch(t){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new Lt("Invalid mask pattern: "+t)}return a===0},e.applyMaskPenaltyRule1Internal=function(t,r){for(var n=0,a=r?t.getHeight():t.getWidth(),i=r?t.getWidth():t.getHeight(),o=t.getArray(),l=0;l<a;l++){for(var c=0,u=-1,d=0;d<i;d++){var f=r?o[l][d]:o[d][l];f===u?c++:(c>=5&&(n+=e.N1+(c-5)),c=1,u=f)}c>=5&&(n+=e.N1+(c-5))}return n},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}(),FBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RBe=function(){function e(t,r){this.width=t,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(t);this.bytes=n}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(t,r){return this.bytes[r][t]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(t,r,n){this.bytes[r][t]=n},e.prototype.setBoolean=function(t,r,n){this.bytes[r][t]=n?1:0},e.prototype.clear=function(t){var r,n;try{for(var a=FBe(this.bytes),i=a.next();!i.done;i=a.next()){var o=i.value;Va.fill(o,t)}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],o=r.bytes[n],l=0,c=this.width;l<c;++l)if(i[l]!==o[l])return!1;return!0},e.prototype.toString=function(){for(var t=new lr,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,o=this.width;i<o;++i)switch(a[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},e}(),lS=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var t=new lr;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},e.prototype.setMode=function(t){this.mode=t},e.prototype.setECLevel=function(t){this.ecLevel=t},e.prototype.setVersion=function(t){this.version=t},e.prototype.setMaskPattern=function(t){this.maskPattern=t},e.prototype.setMatrix=function(t){this.matrix=t},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}(),LBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tn=function(e){LBe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="WriterException",t}(Rs),GI=function(){function e(){}return e.clearMatrix=function(t){t.clear(255)},e.buildMatrix=function(t,r,n,a,i){e.clearMatrix(i),e.embedBasicPatterns(n,i),e.embedTypeInfo(r,a,i),e.maybeEmbedVersionInfo(n,i),e.embedDataBits(t,a,i)},e.embedBasicPatterns=function(t,r){e.embedPositionDetectionPatternsAndSeparators(r),e.embedDarkDotAtLeftBottomCorner(r),e.maybeEmbedPositionAdjustmentPatterns(t,r),e.embedTimingPatterns(r)},e.embedTypeInfo=function(t,r,n){var a=new hi;e.makeTypeInfoBits(t,r,a);for(var i=0,o=a.getSize();i<o;++i){var l=a.get(a.getSize()-1-i),c=e.TYPE_INFO_COORDINATES[i],u=c[0],d=c[1];if(n.setBoolean(u,d,l),i<8){var f=n.getWidth()-i-1,h=8;n.setBoolean(f,h,l)}else{var f=8,h=n.getHeight()-7+(i-8);n.setBoolean(f,h,l)}}},e.maybeEmbedVersionInfo=function(t,r){if(!(t.getVersionNumber()<7)){var n=new hi;e.makeVersionInfoBits(t,n);for(var a=6*3-1,i=0;i<6;++i)for(var o=0;o<3;++o){var l=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,i,l)}}},e.embedDataBits=function(t,r,n){for(var a=0,i=-1,o=n.getWidth()-1,l=n.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var u=o-c;if(e.isEmpty(n.get(u,l))){var d=void 0;a<t.getSize()?(d=t.get(a),++a):d=!1,r!==255&&Cx.getDataMaskBit(r,u,l)&&(d=!d),n.setBoolean(u,l,d)}}l+=i}i=-i,l+=i,o-=2}if(a!==t.getSize())throw new Tn("Not all bits consumed: "+a+"/"+t.getSize())},e.findMSBSet=function(t){return 32-dr.numberOfLeadingZeros(t)},e.calculateBCHCode=function(t,r){if(r===0)throw new Lt("0 polynomial");var n=e.findMSBSet(r);for(t<<=n-1;e.findMSBSet(t)>=n;)t^=r<<e.findMSBSet(t)-n;return t},e.makeTypeInfoBits=function(t,r,n){if(!lS.isValidMaskPattern(r))throw new Tn("Invalid mask pattern");var a=t.getBits()<<3|r;n.appendBits(a,5);var i=e.calculateBCHCode(a,e.TYPE_INFO_POLY);n.appendBits(i,10);var o=new hi;if(o.appendBits(e.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Tn("should not happen but we got: "+n.getSize())},e.makeVersionInfoBits=function(t,r){r.appendBits(t.getVersionNumber(),6);var n=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Tn("should not happen but we got: "+r.getSize())},e.isEmpty=function(t){return t===255},e.embedTimingPatterns=function(t){for(var r=8;r<t.getWidth()-8;++r){var n=(r+1)%2;e.isEmpty(t.get(r,6))&&t.setNumber(r,6,n),e.isEmpty(t.get(6,r))&&t.setNumber(6,r,n)}},e.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new Tn;t.setNumber(8,t.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,r,n){for(var a=0;a<8;++a){if(!e.isEmpty(n.get(t+a,r)))throw new Tn;n.setNumber(t+a,r,0)}},e.embedVerticalSeparationPattern=function(t,r,n){for(var a=0;a<7;++a){if(!e.isEmpty(n.get(t,r+a)))throw new Tn;n.setNumber(t,r+a,0)}},e.embedPositionAdjustmentPattern=function(t,r,n){for(var a=0;a<5;++a)for(var i=e.POSITION_ADJUSTMENT_PATTERN[a],o=0;o<5;++o)n.setNumber(t+o,r+a,i[o])},e.embedPositionDetectionPattern=function(t,r,n){for(var a=0;a<7;++a)for(var i=e.POSITION_DETECTION_PATTERN[a],o=0;o<7;++o)n.setNumber(t+o,r+a,i[o])},e.embedPositionDetectionPatternsAndSeparators=function(t){var r=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-r,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-r,t);var n=8;e.embedHorizontalSeparationPattern(0,n-1,t),e.embedHorizontalSeparationPattern(t.getWidth()-n,n-1,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-n,t);var a=7;e.embedVerticalSeparationPattern(a,0,t),e.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),e.embedVerticalSeparationPattern(a,t.getHeight()-a,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,r){if(!(t.getVersionNumber()<2))for(var n=t.getVersionNumber()-1,a=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,o=a.length;i!==o;i++){var l=a[i];if(l>=0)for(var c=0;c!==o;c++){var u=a[c];u>=0&&e.isEmpty(r.get(u,l))&&e.embedPositionAdjustmentPattern(u-2,l-2,r)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}(),BBe=function(){function e(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}(),YI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.calculateMaskPenalty=function(t){return Cx.applyMaskPenaltyRule1(t)+Cx.applyMaskPenaltyRule2(t)+Cx.applyMaskPenaltyRule3(t)+Cx.applyMaskPenaltyRule4(t)},e.encode=function(t,r,n){n===void 0&&(n=null);var a=e.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(M2.CHARACTER_SET)!==void 0;i&&(a=n.get(M2.CHARACTER_SET).toString());var o=this.chooseMode(t,a),l=new hi;if(o===Pn.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=Ua.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var u=new hi;this.appendBytes(t,o,u,a);var d;if(n!==null&&n.get(M2.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(M2.QR_VERSION).toString(),10);d=U0.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,l,u,d);if(!this.willFit(h,d,r))throw new Tn("Data too big for requested version")}else d=this.recommendVersion(r,o,l,u);var p=new hi;p.appendBitArray(l);var m=o===Pn.BYTE?u.getSizeInBytes():t.length;this.appendLengthInfo(m,d,o,p),p.appendBitArray(u);var x=d.getECBlocksForLevel(r),g=d.getTotalCodewords()-x.getTotalECCodewords();this.terminateBits(g,p);var v=this.interleaveWithECBytes(p,d.getTotalCodewords(),g,x.getNumBlocks()),b=new lS;b.setECLevel(r),b.setMode(o),b.setVersion(d);var y=d.getDimensionForVersion(),w=new RBe(y,y),N=this.chooseMaskPattern(v,r,d,w);return b.setMaskPattern(N),GI.buildMatrix(v,r,d,N,w),b.setMatrix(w),b},e.recommendVersion=function(t,r,n,a){var i=this.calculateBitsNeeded(r,n,a,U0.getVersionForNumber(1)),o=this.chooseVersion(i,t),l=this.calculateBitsNeeded(r,n,a,o);return this.chooseVersion(l,t)},e.calculateBitsNeeded=function(t,r,n,a){return r.getSize()+t.getCharacterCountBits(a)+n.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,r){if(r===void 0&&(r=null),Ua.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Pn.KANJI;for(var n=!1,a=!1,i=0,o=t.length;i<o;++i){var l=t.charAt(i);if(e.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)a=!0;else return Pn.BYTE}return a?Pn.ALPHANUMERIC:n?Pn.NUMERIC:Pn.BYTE},e.isOnlyDoubleByteKanji=function(t){var r;try{r=Uo.encode(t,Ua.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(t,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<lS.NUM_MASK_PATTERNS;l++){GI.buildMatrix(t,r,n,l,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,o=l)}return o},e.chooseVersion=function(t,r){for(var n=1;n<=40;n++){var a=U0.getVersionForNumber(n);if(e.willFit(t,a,r))return a}throw new Tn("Data too big")},e.willFit=function(t,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),o=i.getTotalECCodewords(),l=a-o,c=(t+7)/8;return l>=c},e.terminateBits=function(t,r){var n=t*8;if(r.getSize()>n)throw new Tn("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var o=t-r.getSizeInBytes(),a=0;a<o;++a)r.appendBits(a&1?17:236,8);if(r.getSize()!==n)throw new Tn("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(t,r,n,a,i,o){if(a>=n)throw new Tn("Block ID too large");var l=t%n,c=n-l,u=Math.floor(t/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,m=d-h;if(p!==m)throw new Tn("EC bytes mismatch");if(n!==c+l)throw new Tn("RS blocks mismatch");if(t!==(f+p)*c+(h+m)*l)throw new Tn("Total bytes mismatch");a<c?(i[0]=f,o[0]=p):(i[0]=h,o[0]=m)},e.interleaveWithECBytes=function(t,r,n,a){var i,o,l,c;if(t.getSizeInBytes()!==n)throw new Tn("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<a;++p){var m=new Int32Array(1),x=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(r,n,a,p,m,x);var g=m[0],v=new Uint8Array(g);t.toBytes(8*u,v,0,g);var b=e.generateECBytes(v,x[0]);h.push(new BBe(v,b)),d=Math.max(d,g),f=Math.max(f,b.length),u+=m[0]}if(n!==u)throw new Tn("Data bytes does not match offset");for(var y=new hi,p=0;p<d;++p)try{for(var w=(i=void 0,YI(h)),N=w.next();!N.done;N=w.next()){var S=N.value,v=S.getDataBytes();p<v.length&&y.appendBits(v[p],8)}}catch(R){i={error:R}}finally{try{N&&!N.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}for(var p=0;p<f;++p)try{for(var j=(l=void 0,YI(h)),A=j.next();!A.done;A=j.next()){var S=A.value,b=S.getErrorCorrectionBytes();p<b.length&&y.appendBits(b[p],8)}}catch(R){l={error:R}}finally{try{A&&!A.done&&(c=j.return)&&c.call(j)}finally{if(l)throw l.error}}if(r!==y.getSizeInBytes())throw new Tn("Interleaving error: "+r+" and "+y.getSizeInBytes()+" differ.");return y},e.generateECBytes=function(t,r){for(var n=t.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=t[i]&255;new LU(ks.QR_CODE_FIELD_256).encode(a,r);for(var o=new Uint8Array(r),i=0;i<r;i++)o[i]=a[n+i];return o},e.appendModeInfo=function(t,r){r.appendBits(t.getBits(),4)},e.appendLengthInfo=function(t,r,n,a){var i=n.getCharacterCountBits(r);if(t>=1<<i)throw new Tn(t+" is bigger than "+((1<<i)-1));a.appendBits(t,i)},e.appendBytes=function(t,r,n,a){switch(r){case Pn.NUMERIC:e.appendNumericBytes(t,n);break;case Pn.ALPHANUMERIC:e.appendAlphanumericBytes(t,n);break;case Pn.BYTE:e.append8BitBytes(t,n,a);break;case Pn.KANJI:e.appendKanjiBytes(t,n);break;default:throw new Tn("Invalid mode: "+r)}},e.getDigit=function(t){return t.charCodeAt(0)-48},e.isDigit=function(t){var r=e.getDigit(t);return r>=0&&r<=9},e.appendNumericBytes=function(t,r){for(var n=t.length,a=0;a<n;){var i=e.getDigit(t.charAt(a));if(a+2<n){var o=e.getDigit(t.charAt(a+1)),l=e.getDigit(t.charAt(a+2));r.appendBits(i*100+o*10+l,10),a+=3}else if(a+1<n){var o=e.getDigit(t.charAt(a+1));r.appendBits(i*10+o,7),a+=2}else r.appendBits(i,4),a++}},e.appendAlphanumericBytes=function(t,r){for(var n=t.length,a=0;a<n;){var i=e.getAlphanumericCode(t.charCodeAt(a));if(i===-1)throw new Tn;if(a+1<n){var o=e.getAlphanumericCode(t.charCodeAt(a+1));if(o===-1)throw new Tn;r.appendBits(i*45+o,11),a+=2}else r.appendBits(i,6),a++}},e.append8BitBytes=function(t,r,n){var a;try{a=Uo.encode(t,n)}catch(c){throw new Tn(c)}for(var i=0,o=a.length;i!==o;i++){var l=a[i];r.appendBits(l,8)}},e.appendKanjiBytes=function(t,r){var n;try{n=Uo.encode(t,Ua.SJIS)}catch(f){throw new Tn(f)}for(var a=n.length,i=0;i<a;i+=2){var o=n[i]&255,l=n[i+1]&255,c=o<<8&4294967295|l,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new Tn("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},e.appendECI=function(t,r){r.appendBits(Pn.ECI.getBits(),4),r.appendBits(t.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=Ua.UTF8.getName(),e})();var $Be=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){$Be(t,e);function t(r,n,a,i,o,l,c,u){var d=e.call(this,l,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=a,d.left=i,d.top=o,i+l>n||o+c>a)throw new Lt("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(l,c),d}return t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Lt("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return An.arraycopy(this.yuvData,i,n,0,a),n},t.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return An.arraycopy(this.yuvData,o,i,0,a),i;for(var l=0;l<n;l++){var c=l*r;An.arraycopy(this.yuvData,o,i,c,r),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},t.prototype.renderThumbnail=function(){for(var r=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,u=0;u<r;u++){var d=i[o+u*t.THUMBNAIL_SCALE_FACTOR]&255;a[c+u]=4278190080|d*65793}o+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return a},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,o=this.top*this.dataWidth+this.left;i<n;i++,o+=this.dataWidth)for(var l=o+r/2,c=o,u=o+r-1;c<l;c++,u--){var d=a[c];a[c]=a[u],a[u]=d}},t.prototype.invert=function(){return new I5(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(zg);var zBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){zBe(t,e);function t(r,n,a,i,o,l,c){var u=e.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=o,u.left=l,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*a,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,x=p>>7&510,g=p&255;f[h]=(m+x+g)/4&255}u.luminances=f}else u.luminances=r;if(i===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=a),l===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new Lt("Crop rectangle does not fit within image data.");return u}return t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Lt("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return An.arraycopy(this.luminances,i,n,0,a),n},t.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return An.arraycopy(this.luminances,o,i,0,a),i;for(var l=0;l<n;l++){var c=l*r;An.arraycopy(this.luminances,o,i,c,r),o+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return new t(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},t.prototype.invert=function(){return new I5(this)},t})(zg);var UBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HBe=function(e){UBe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.forName=function(r){return this.getCharacterSetECIByName(r)},t}(Ua),WBe=function(){function e(){}return e.ISO_8859_1=Ua.ISO8859_1,e}(),cS,VBe=301,qBe=function(e,t){for(var r=1,n=0;n<255;n++)t[n]=r,e[r]=n,r*=2,r>=256&&(r^=VBe);return{LOG:e,ALOG:t}};cS=qBe([],[]),cS.LOG;cS.ALOG;var XI;(function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(XI||(XI={}));var KI=129,BU=230,GBe=231,YBe=235,XBe=236,KBe=237,QBe=238,JBe=239,ZBe=240,gN=254,e$e=254,QI="[)>05",JI="[)>06",ZI="",Xr=0,yi=1,as=2,Ba=3,si=4,Ri=5,t$e=function(){function e(){}return e.prototype.getEncodingMode=function(){return Xr},e.prototype.encode=function(t){var r=vl.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(r>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var n=t.getCurrentChar(),a=vl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Ri:t.writeCodeword(GBe),t.signalEncoderChange(Ri);return;case yi:t.writeCodeword(BU),t.signalEncoderChange(yi);return;case Ba:t.writeCodeword(QBe),t.signalEncoderChange(Ba);break;case as:t.writeCodeword(JBe),t.signalEncoderChange(as);break;case si:t.writeCodeword(ZBe),t.signalEncoderChange(si);break;default:throw new Error("Illegal mode: "+a)}else vl.isExtendedASCII(n)?(t.writeCodeword(YBe),t.writeCodeword(n-128+1),t.pos++):(t.writeCodeword(n+1),t.pos++)}},e.prototype.encodeASCIIDigits=function(t,r){if(vl.isDigit(t)&&vl.isDigit(r)){var n=(t-48)*10+(r-48);return n+130}throw new Error("not digits: "+t+r)},e}(),r$e=function(){function e(){}return e.prototype.getEncodingMode=function(){return Ri},e.prototype.encode=function(t){var r=new lr;for(r.append(0);t.hasMoreCharacters();){var n=t.getCurrentChar();r.append(n),t.pos++;var a=vl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange(Xr);break}}var i=r.length()-1,o=1,l=t.getCodewordCount()+i+o;t.updateSymbolInfo(l);var c=t.getSymbolInfo().getDataCapacity()-l>0;if(t.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,wr.getCharAt(i));else if(i<=1555)r.setCharAt(0,wr.getCharAt(Math.floor(i/250)+249)),r.insert(1,wr.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=r.length();u<n;u++)t.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),t.getCodewordCount()+1))},e.prototype.randomize255State=function(t,r){var n=149*r%255+1,a=t+n;return a<=255?a:a-256},e}(),mE=function(){function e(){}return e.prototype.getEncodingMode=function(){return yi},e.prototype.encodeMaximal=function(t){for(var r=new lr,n=0,a=t.pos,i=0;t.hasMoreCharacters();){var o=t.getCurrentChar();t.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(a=t.pos,i=r.length())}if(i!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(t.getCodewordCount()+l+1);t.updateSymbolInfo(c);var u=t.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(t.pos=a)}r.length()>0&&t.writeCodeword(BU),this.handleEOD(t,r)},e.prototype.encode=function(t){for(var r=new lr;t.hasMoreCharacters();){var n=t.getCurrentChar();t.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,o=t.getCodewordCount()+i;t.updateSymbolInfo(o);var l=t.getSymbolInfo().getDataCapacity()-o;if(!t.hasMoreCharacters()){var c=new lr;for(r.length()%3===2&&l!==2&&(a=this.backtrackOneCharacter(t,r,c,a));r.length()%3===1&&(a>3||l!==1);)a=this.backtrackOneCharacter(t,r,c,a);break}var u=r.length();if(u%3===0){var d=vl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){t.signalEncoderChange(Xr);break}}}this.handleEOD(t,r)},e.prototype.backtrackOneCharacter=function(t,r,n,a){var i=r.length(),o=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(o),t.pos--;var l=t.getCurrentChar();return a=this.encodeChar(l,n),t.resetSymbolInfo(),a},e.prototype.writeNextTriplet=function(t,r){t.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},e.prototype.handleEOD=function(t,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=t.getCodewordCount()+n;t.updateSymbolInfo(i);var o=t.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(t,r);t.hasMoreCharacters()&&t.writeCodeword(gN)}else if(o===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(t,r);t.hasMoreCharacters()&&t.writeCodeword(gN),t.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(t,r);(o>0||t.hasMoreCharacters())&&t.writeCodeword(gN)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(Xr)},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=65&&t<=90)return r.append(t-65+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t<=95)return r.append(1),r.append(t-91+22),2;if(t<=127)return r.append(2),r.append(t-96),2;r.append("1");var n=2;return n+=this.encodeChar(t-128,r),n},e.prototype.encodeToCodewords=function(t){var r=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,n=r/256,a=r%256,i=new lr;return i.append(n),i.append(a),i.toString()},e}(),n$e=function(){function e(){}return e.prototype.getEncodingMode=function(){return si},e.prototype.encode=function(t){for(var r=new lr;t.hasMoreCharacters();){var n=t.getCurrentChar();this.encodeChar(n,r),t.pos++;var a=r.length();if(a>=4){t.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var o=vl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){t.signalEncoderChange(Xr);break}}}r.append(wr.getCharAt(31)),this.handleEOD(t,r)},e.prototype.handleEOD=function(t,r){try{var n=r.length();if(n===0)return;if(n===1){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>a&&(t.updateSymbolInfo(t.getCodewordCount()+1),a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,l=this.encodeToCodewords(r.toString()),c=!t.hasMoreCharacters(),u=c&&o<=2;if(o<=2){t.updateSymbolInfo(t.getCodewordCount()+o);var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();a>=3&&(u=!1,t.updateSymbolInfo(t.getCodewordCount()+l.length))}u?(t.resetSymbolInfo(),t.pos-=o):t.writeCodewords(l)}finally{t.signalEncoderChange(Xr)}},e.prototype.encodeChar=function(t,r){t>=32&&t<=63?r.append(t):t>=64&&t<=94?r.append(wr.getCharAt(t-64)):vl.illegalCharacter(wr.getCharAt(t))},e.prototype.encodeToCodewords=function(t){var r=t.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=t.charAt(0).charCodeAt(0),a=r>=2?t.charAt(1).charCodeAt(0):0,i=r>=3?t.charAt(2).charCodeAt(0):0,o=r>=4?t.charAt(3).charCodeAt(0):0,l=(n<<18)+(a<<12)+(i<<6)+o,c=l>>16&255,u=l>>8&255,d=l&255,f=new lr;return f.append(c),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},e}(),a$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i$e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Br=function(){function e(t,r,n,a,i,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=t,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return e.lookup=function(t,r,n,a,i){var o,l;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=i$e(o$e),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(d.getSymbolWidth()>a.getWidth()||d.getSymbolHeight()>a.getHeight()))&&t<=d.dataCapacity)return d}}catch(f){o={error:f}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},e}(),s$e=function(e){a$e(t,e);function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},t}(Br),o$e=[new Br(!1,3,5,8,8,1),new Br(!1,5,7,10,10,1),new Br(!0,5,7,16,6,1),new Br(!1,8,10,12,12,1),new Br(!0,10,11,14,6,2),new Br(!1,12,12,14,14,1),new Br(!0,16,14,24,10,1),new Br(!1,18,14,16,16,1),new Br(!1,22,18,18,18,1),new Br(!0,22,18,16,10,2),new Br(!1,30,20,20,20,1),new Br(!0,32,24,16,14,2),new Br(!1,36,24,22,22,1),new Br(!1,44,28,24,24,1),new Br(!0,49,28,22,14,2),new Br(!1,62,36,14,14,4),new Br(!1,86,42,16,16,4),new Br(!1,114,48,18,18,4),new Br(!1,144,56,20,20,4),new Br(!1,174,68,22,22,4),new Br(!1,204,84,24,24,4,102,42),new Br(!1,280,112,14,14,16,140,56),new Br(!1,368,144,16,16,16,92,36),new Br(!1,456,192,18,18,16,114,48),new Br(!1,576,224,20,20,16,144,56),new Br(!1,696,272,22,22,16,174,68),new Br(!1,816,336,24,24,16,136,56),new Br(!1,1050,408,18,18,36,175,68),new Br(!1,1304,496,20,20,36,163,62),new s$e],l$e=function(){function e(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var r=t.split("").map(function(l){return l.charCodeAt(0)}),n=new lr,a=0,i=r.length;a<i;a++){var o=String.fromCharCode(r[a]&255);if(o==="?"&&t.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new lr,this.newEncoding=-1}return e.prototype.setSymbolShape=function(t){this.shape=t},e.prototype.setSizeConstraints=function(t,r){this.minSize=t,this.maxSize=r},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(t){this.codewords.append(t)},e.prototype.writeCodeword=function(t){this.codewords.append(t)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(t){this.newEncoding=t},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Br.lookup(t,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e}(),c$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u$e=function(e){c$e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return Ba},t.prototype.encode=function(r){for(var n=new lr;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var o=vl.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Xr);break}}}this.handleEOD(r,n)},t.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):vl.illegalCharacter(wr.getCharAt(r));break}return 1},t.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(e$e),r.getNewEncoding()<0&&r.signalEncoderChange(Xr)},t}(mE),d$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f$e=function(e){d$e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return as},t.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},t}(mE),vl=function(){function e(){}return e.randomize253State=function(t){var r=149*t%253+1,n=KI+r;return n<=254?n:n-254},e.encodeHighLevel=function(t,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var o=new mE,l=[new t$e,o,new f$e,new u$e,new n$e,new r$e],c=new l$e(t);c.setSymbolShape(r),c.setSizeConstraints(n,a),t.startsWith(QI)&&t.endsWith(ZI)?(c.writeCodeword(XBe),c.setSkipAtEnd(2),c.pos+=QI.length):t.startsWith(JI)&&t.endsWith(ZI)&&(c.writeCodeword(KBe),c.setSkipAtEnd(2),c.pos+=JI.length);var u=Xr;for(i&&(o.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();d<f&&u!==Xr&&u!==Ri&&u!==si&&c.writeCodeword("þ");var h=c.getCodewords();for(h.length()<f&&h.append(KI);h.length()<f;)h.append(this.randomize253State(h.length()+1));return c.getCodewords().toString()},e.lookAheadTest=function(t,r,n){var a=this.lookAheadTestIntern(t,r,n);if(n===Ba&&a===Ba){for(var i=Math.min(r+3,t.length),o=r;o<i;o++)if(!this.isNativeX12(t.charCodeAt(o)))return Xr}else if(n===si&&a===si){for(var i=Math.min(r+4,t.length),o=r;o<i;o++)if(!this.isNativeEDIFACT(t.charCodeAt(o)))return Xr}return a},e.lookAheadTestIntern=function(t,r,n){if(r>=t.length)return n;var a;n===Xr?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,o=new Uint8Array(6),l=[];;){if(r+i===t.length){Va.fill(o,0),Va.fill(l,0);var c=this.findMinimums(a,l,dr.MAX_VALUE,o),u=this.getMinimumCount(o);if(l[Xr]===c)return Xr;if(u===1){if(o[Ri]>0)return Ri;if(o[si]>0)return si;if(o[as]>0)return as;if(o[Ba]>0)return Ba}return yi}var d=t.charCodeAt(r+i);if(i++,this.isDigit(d)?a[Xr]+=.5:this.isExtendedASCII(d)?(a[Xr]=Math.ceil(a[Xr]),a[Xr]+=2):(a[Xr]=Math.ceil(a[Xr]),a[Xr]++),this.isNativeC40(d)?a[yi]+=2/3:this.isExtendedASCII(d)?a[yi]+=8/3:a[yi]+=4/3,this.isNativeText(d)?a[as]+=2/3:this.isExtendedASCII(d)?a[as]+=8/3:a[as]+=4/3,this.isNativeX12(d)?a[Ba]+=2/3:this.isExtendedASCII(d)?a[Ba]+=13/3:a[Ba]+=10/3,this.isNativeEDIFACT(d)?a[si]+=3/4:this.isExtendedASCII(d)?a[si]+=17/4:a[si]+=13/4,this.isSpecialB256(d)?a[Ri]+=4:a[Ri]++,i>=4){if(Va.fill(o,0),Va.fill(l,0),this.findMinimums(a,l,dr.MAX_VALUE,o),l[Xr]<this.min(l[Ri],l[yi],l[as],l[Ba],l[si]))return Xr;if(l[Ri]<l[Xr]||l[Ri]+1<this.min(l[yi],l[as],l[Ba],l[si]))return Ri;if(l[si]+1<this.min(l[Ri],l[yi],l[as],l[Ba],l[Xr]))return si;if(l[as]+1<this.min(l[Ri],l[yi],l[si],l[Ba],l[Xr]))return as;if(l[Ba]+1<this.min(l[Ri],l[yi],l[si],l[as],l[Xr]))return Ba;if(l[yi]+1<this.min(l[Xr],l[Ri],l[si],l[as])){if(l[yi]<l[Ba])return yi;if(l[yi]===l[Ba]){for(var f=r+i+1;f<t.length;){var h=t.charCodeAt(f);if(this.isX12TermSep(h))return Ba;if(!this.isNativeX12(h))break;f++}return yi}}}}},e.min=function(t,r,n,a,i){var o=Math.min(t,Math.min(r,Math.min(n,a)));return i===void 0?o:Math.min(o,i)},e.findMinimums=function(t,r,n,a){for(var i=0;i<6;i++){var o=r[i]=Math.ceil(t[i]);n>o&&(n=o,Va.fill(a,0)),n===o&&(a[i]=a[i]+1)}return n},e.getMinimumCount=function(t){for(var r=0,n=0;n<6;n++)r+=t[n];return r||0},e.isDigit=function(t){return t>=48&&t<=57},e.isExtendedASCII=function(t){return t>=128&&t<=255},e.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},e.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},e.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},e.isX12TermSep=function(t){return t===13||t===42||t===62},e.isNativeEDIFACT=function(t){return t>=32&&t<=94},e.isSpecialB256=function(t){return!1},e.determineConsecutiveDigitCount=function(t,r){r===void 0&&(r=0);for(var n=t.length,a=r;a<n&&this.isDigit(t.charCodeAt(a));)a++;return a-r},e.illegalCharacter=function(t){var r=dr.toHexString(t.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+t+" (0x"+r+")")},e}(),vN=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},eM=function(){function e(t){this.charset=t,this.name=t.name}return e.prototype.canEncode=function(t){try{return Uo.encode(t,this.charset)!=null}catch{return!1}},e}(),h$e=function(){function e(t,r,n){var a,i,o,l,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(T){return new eM(HBe.forName(T))}),this.encoders=[];var d=[];d.push(new eM(WBe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<t.length;h++){var p=!1;try{for(var m=(a=void 0,vN(d)),x=m.next();!x.done;x=m.next()){var g=x.value,v=t.charAt(h),b=v.charCodeAt(0);if(b===n||g.canEncode(v)){p=!0;break}}}catch(T){a={error:T}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}if(!p)try{for(var y=(o=void 0,vN(this.ENCODERS)),w=y.next();!w.done;w=y.next()){var g=w.value;if(g.canEncode(t.charAt(h))){d.push(g),p=!0;break}}}catch(T){o={error:T}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var N=0;try{for(var S=vN(d),j=S.next();!j.done;j=S.next()){var g=j.value;this.encoders[N++]=g}}catch(T){c={error:T}}finally{try{j&&!j.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}}var A=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){A=h;break}}this.priorityEncoderIndex=A}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},e.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},e.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(t,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(t,r){if(!(r<this.length()))throw new Error("index must be less than length");return Uo.encode(wr.getCharAt(t),this.encoders[r].name)},e}(),p$e=3,m$e=function(){function e(t,r,n){this.fnc1=n;var a=new h$e(t,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var o=t.charAt(i).charCodeAt(0);this.bytes[i]=o===n?1e3:o}else this.bytes=this.encodeMinimally(t,a,n)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(t,r){if(t+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(t+n))return!1;return!0},e.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},e.prototype.subSequence=function(t,r){if(t<0||t>r||r>this.length())throw new Error(""+t);for(var n=new lr,a=t;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},e.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},e.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},e.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},e.prototype.addEdge=function(t,r,n){(t[r][n.encoderIndex]==null||t[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(t[r][n.encoderIndex]=n)},e.prototype.addEdges=function(t,r,n,a,i,o){var l=t.charAt(a).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(l===o||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(l===o||r.canEncode(l,d))&&this.addEdge(n,a+1,new tM(l,r,d,i,o))},e.prototype.encodeMinimally=function(t,r,n){var a=t.length,i=new tM[a+1][r.length()];this.addEdges(t,r,i,0,null,n);for(var o=1;o<=a;o++){for(var l=0;l<r.length();l++)i[o][l]!=null&&o<a&&this.addEdges(t,r,i,o,i[o][l],n);for(var l=0;l<r.length();l++)i[o-1][l]=null}for(var c=-1,u=dr.MAX_VALUE,l=0;l<r.length();l++)if(i[a][l]!=null){var d=i[a][l];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+t+'"');for(var f=[],h=i[a][c];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var x=[],o=0;o<x.length;o++)x[o]=f[o];return x},e}(),tM=function(){function e(t,r,n,a,i){this.c=t,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=t===i?1e3:t;var o=this.isFNC1()?1:r.encode(t,n).length,l=a===null?0:a.encoderIndex;l!==n&&(o+=p$e),a!=null&&(o+=a.cachedTotalSize),this.cachedTotalSize=o}return e.prototype.isFNC1=function(){return this.c===1e3},e}(),x$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var rM;(function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"})(rM||(rM={}));(function(e){x$e(t,e);function t(r,n,a,i,o){var l=e.call(this,r,n,a)||this;return l.shape=i,l.macroId=o,l}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(m$e);var g$e=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(t){this.compact=t},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(t){this.size=t},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(t){this.layers=t},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(t){this.codeWords=t},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(t){this.matrix=t},e}(),nM=function(){function e(){}return e.singletonList=function(t){return[t]},e.min=function(t,r){return t.sort(r)[0]},e}(),v$e=function(){function e(t){this.previous=t}return e.prototype.getPrevious=function(){return this.previous},e}(),b$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xE=function(e){b$e(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.value=n,i.bitCount=a,i}return t.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},t.prototype.add=function(r,n){return new t(this,r,n)},t.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,r,n)},t.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+dr.toBinaryString(r|1<<this.bitCount).substring(1)+">"},t}(v$e),y$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w$e=function(e){y$e(t,e);function t(r,n,a){var i=e.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return t.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},t.prototype.addBinaryShift=function(r,n){return new t(this,r,n)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(xE);function _$e(e,t,r){return new w$e(e,t,r)}function xx(e,t,r){return new xE(e,t,r)}var N$e=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],yd=0,sw=1,$o=2,$U=3,nc=4,j$e=new xE(null,0,0),bN=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],S$e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function A$e(e){var t,r;try{for(var n=S$e(e),a=n.next();!a.done;a=n.next()){var i=a.value;Va.fill(i,-1)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e[yd][nc]=0,e[sw][nc]=0,e[sw][yd]=28,e[$U][nc]=0,e[$o][nc]=0,e[$o][yd]=15,e}var zU=A$e(Va.createInt32Array(6,6)),C$e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E$e=function(){function e(t,r,n,a){this.token=t,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,r){var n=this.bitCount,a=this.token;if(t!==this.mode){var i=bN[this.mode][t];a=xx(a,i&65535,i>>16),n+=i>>16}var o=t===$o?4:5;return a=xx(a,r,o),new e(a,t,0,n+o)},e.prototype.shiftAndAppend=function(t,r){var n=this.token,a=this.mode===$o?4:5;return n=xx(n,zU[this.mode][t],a),n=xx(n,r,5),new e(n,this.mode,0,this.bitCount+a+5)},e.prototype.addBinaryShiftChar=function(t){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===nc||this.mode===$o){var i=bN[n][yd];r=xx(r,i&65535,i>>16),a+=i>>16,n=yd}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new e(r,n,this.binaryShiftByteCount+1,a+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(t+1)),l},e.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=_$e(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new e(r,this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var r=this.bitCount+(bN[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount},e.prototype.toBitArray=function(t){for(var r,n,a=[],i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())a.unshift(i);var o=new hi;try{for(var l=C$e(a),c=l.next();!c.done;c=l.next()){var u=c.value;u.appendTo(o,t)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},e.prototype.toString=function(){return wr.format("%s bits=%d bytes=%d",N$e[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(j$e,yd,0,0),e}();function k$e(e){var t=wr.getCharCode(" "),r=wr.getCharCode("."),n=wr.getCharCode(",");e[yd][t]=1;for(var a=wr.getCharCode("Z"),i=wr.getCharCode("A"),o=i;o<=a;o++)e[yd][o]=o-i+2;e[sw][t]=1;for(var l=wr.getCharCode("z"),c=wr.getCharCode("a"),o=c;o<=l;o++)e[sw][o]=o-c+2;e[$o][t]=1;for(var u=wr.getCharCode("9"),d=wr.getCharCode("0"),o=d;o<=u;o++)e[$o][o]=o-d+2;e[$o][n]=12,e[$o][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)e[$U][wr.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)wr.getCharCode(p[h])>0&&(e[nc][wr.getCharCode(p[h])]=h);return e}var yN=k$e(Va.createInt32Array(5,256)),F2=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},T$e=function(){function e(t){this.text=t}return e.prototype.encode=function(){for(var t=wr.getCharCode(" "),r=wr.getCharCode(`
`),n=nM.singletonList(E$e.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,o=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case wr.getCharCode("\r"):i=o===r?2:0;break;case wr.getCharCode("."):i=o===t?3:0;break;case wr.getCharCode(","):i=o===t?4:0;break;case wr.getCharCode(":"):i=o===t?5:0;break;default:i=0}i>0?(n=e.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var l=nM.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return l.toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,r){var n,a,i=[];try{for(var o=F2(t),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,r,i)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return e.simplifyStates(i)},e.prototype.updateStateForChar=function(t,r,n){for(var a=this.text[r]&255,i=yN[t.getMode()][a]>0,o=null,l=0;l<=nc;l++){var c=yN[l][a];if(c>0){if(o==null&&(o=t.endBinaryShift(r)),!i||l===t.getMode()||l===$o){var u=o.latchAndAppend(l,c);n.push(u)}if(!i&&zU[t.getMode()][l]>=0){var d=o.shiftAndAppend(l,c);n.push(d)}}}if(t.getBinaryShiftByteCount()>0||yN[t.getMode()][a]===0){var f=t.addBinaryShiftChar(r);n.push(f)}},e.updateStateListForPair=function(t,r,n){var a,i,o=[];try{for(var l=F2(t),c=l.next();!c.done;c=l.next()){var u=c.value;this.updateStateForPair(u,r,n,o)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return this.simplifyStates(o)},e.updateStateForPair=function(t,r,n,a){var i=t.endBinaryShift(r);if(a.push(i.latchAndAppend(nc,n)),t.getMode()!==nc&&a.push(i.shiftAndAppend(nc,n)),n===3||n===4){var o=i.latchAndAppend($o,16-n).latchAndAppend($o,1);a.push(o)}if(t.getBinaryShiftByteCount()>0){var l=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(l)}},e.simplifyStates=function(t){var r,n,a,i,o=[];try{for(var l=F2(t),c=l.next();!c.done;c=l.next()){var u=c.value,d=!0,f=function(g){if(g.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(g)&&(o=o.filter(function(v){return v!==g}))};try{for(var h=(a=void 0,F2(o)),p=h.next();!p.done;p=h.next()){var m=p.value,x=f(m);if(x==="break")break}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}d&&o.push(u)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},e}(),O$e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,r,n){var a=new T$e(t).encode(),i=dr.truncDivision(a.getSize()*r,100)+11,o=a.getSize()+i,l,c,u,d,f;if(n!==e.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new Lt(wr.format("Illegal value %s for layers",n));u=e.totalBitsInLayer(c,l),d=e.WORD_SIZE[c];var h=u-u%d;if(f=e.stuffBits(a,d),f.getSize()+i>h)throw new Lt("Data to large for user specified layer");if(l&&f.getSize()>d*64)throw new Lt("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>e.MAX_NB_BITS)throw new Lt("Data too large for an Aztec code");if(l=p<=3,c=l?p+1:p,u=e.totalBitsInLayer(c,l),!(o>u)){(f==null||d!==e.WORD_SIZE[c])&&(d=e.WORD_SIZE[c],f=e.stuffBits(a,d));var h=u-u%d;if(!(l&&f.getSize()>d*64)&&f.getSize()+i<=h)break}}}var m=e.generateCheckWords(f,u,d),x=f.getSize()/d,g=e.generateModeMessage(l,c,x),v=(l?11:14)+c*4,b=new Int32Array(v),y;if(l){y=v;for(var p=0;p<b.length;p++)b[p]=p}else{y=v+1+2*dr.truncDivision(dr.truncDivision(v,2)-1,15);for(var w=dr.truncDivision(v,2),N=dr.truncDivision(y,2),p=0;p<w;p++){var S=p+dr.truncDivision(p,15);b[w-p-1]=N-S-1,b[w+p]=N+S+1}}for(var j=new hc(y),p=0,A=0;p<c;p++){for(var T=(c-p)*4+(l?9:12),R=0;R<T;R++)for(var O=R*2,E=0;E<2;E++)m.get(A+O+E)&&j.set(b[p*2+E],b[p*2+R]),m.get(A+T*2+O+E)&&j.set(b[p*2+R],b[v-1-p*2-E]),m.get(A+T*4+O+E)&&j.set(b[v-1-p*2-E],b[v-1-p*2-R]),m.get(A+T*6+O+E)&&j.set(b[v-1-p*2-R],b[p*2+E]);A+=T*8}if(e.drawModeMessage(j,l,y,g),l)e.drawBullsEye(j,dr.truncDivision(y,2),5);else{e.drawBullsEye(j,dr.truncDivision(y,2),7);for(var p=0,R=0;p<dr.truncDivision(v,2)-1;p+=15,R+=16)for(var E=dr.truncDivision(y,2)&1;E<y;E+=2)j.set(dr.truncDivision(y,2)-R,E),j.set(dr.truncDivision(y,2)+R,E),j.set(E,dr.truncDivision(y,2)-R),j.set(E,dr.truncDivision(y,2)+R)}var L=new g$e;return L.setCompact(l),L.setSize(y),L.setLayers(c),L.setCodeWords(x),L.setMatrix(j),L},e.drawBullsEye=function(t,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)t.set(i,r-a),t.set(i,r+a),t.set(r-a,i),t.set(r+a,i);t.set(r-n,r-n),t.set(r-n+1,r-n),t.set(r-n,r-n+1),t.set(r+n,r-n),t.set(r+n,r-n+1),t.set(r+n,r+n-1)},e.generateModeMessage=function(t,r,n){var a=new hi;return t?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=e.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=e.generateCheckWords(a,40,4)),a},e.drawModeMessage=function(t,r,n,a){var i=dr.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var l=i-3+o;a.get(o)&&t.set(l,i-5),a.get(o+7)&&t.set(i+5,l),a.get(20-o)&&t.set(l,i+5),a.get(27-o)&&t.set(i-5,l)}else for(var o=0;o<10;o++){var l=i-5+o+dr.truncDivision(o,5);a.get(o)&&t.set(l,i-7),a.get(o+10)&&t.set(i+7,l),a.get(29-o)&&t.set(l,i+7),a.get(39-o)&&t.set(i-7,l)}},e.generateCheckWords=function(t,r,n){var a,i,o=t.getSize()/n,l=new LU(e.getGF(n)),c=dr.truncDivision(r,n),u=e.bitsToWords(t,n,c);l.encode(u,c-o);var d=r%n,f=new hi;f.appendBits(0,d);try{for(var h=O$e(Array.from(u)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return f},e.bitsToWords=function(t,r,n){var a=new Int32Array(n),i,o;for(i=0,o=t.getSize()/r;i<o;i++){for(var l=0,c=0;c<r;c++)l|=t.get(i*r+c)?1<<r-c-1:0;a[i]=l}return a},e.getGF=function(t){switch(t){case 4:return ks.AZTEC_PARAM;case 6:return ks.AZTEC_DATA_6;case 8:return ks.AZTEC_DATA_8;case 10:return ks.AZTEC_DATA_10;case 12:return ks.AZTEC_DATA_12;default:throw new Lt("Unsupported word size "+t)}},e.stuffBits=function(t,r){for(var n=new hi,a=t.getSize(),i=(1<<r)-2,o=0;o<a;o+=r){for(var l=0,c=0;c<r;c++)(o+c>=a||t.get(o+c))&&(l|=1<<r-1-c);(l&i)===i?(n.appendBits(l&i,r),o--):l&i?n.appendBits(l,r):(n.appendBits(l|1,r),o--)}return n},e.totalBitsInLayer=function(t,r){return((r?88:112)+16*t)*t},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e})();var P$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D$e=function(e){P$e(t,e);function t(r){var n=e.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=t.makeBufferFromCanvasImageData(r),n}return t.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var a=n.getImageData(0,0,r.width,r.height);return t.toGrayscaleBuffer(a.data,r.width,r.height)},t.toGrayscaleBuffer=function(r,n,a){for(var i=new Uint8ClampedArray(n*a),o=0,l=0,c=r.length;o<c;o+=4,l++){var u=void 0,d=r[o+3];if(d===0)u=255;else{var f=r[o],h=r[o+1],p=r[o+2];u=306*f+601*h+117*p+512>>10}i[l]=u}return i},t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Lt("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return e.prototype.crop.call(this,r,n,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new I5(this)},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},t.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var a=r*t.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*i+Math.abs(Math.sin(a))*o),c=Math.ceil(Math.abs(Math.sin(a))*i+Math.abs(Math.cos(a))*o);n.width=l,n.height=c;var u=n.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(l/2,c/2),u.rotate(a),u.drawImage(this.canvas,i/-2,o/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.DEGREE_TO_RADIANS=Math.PI/180,t}(zg);function UU(){return typeof navigator<"u"}function I$e(){return UU()&&!!navigator.mediaDevices}function M$e(){return!!(I$e()&&navigator.mediaDevices.enumerateDevices)}var $h=function(){return $h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$h.apply(this,arguments)},Un=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},Hn=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},wN=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},F$e={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},xm=function(){function e(t,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=t,this.hints=r,this.options=$h($h({},F$e),n)}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(Cn.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),e.addVideoSource=function(t,r){try{t.srcObject=r}catch{console.error("got interrupted by new loading request")}},e.mediaStreamSetTorch=function(t,r){return Un(this,void 0,void 0,function(){return Hn(this,function(n){switch(n.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},e.mediaStreamIsTorchCompatible=function(t){var r,n,a=t.getVideoTracks();try{for(var i=wN(a),o=i.next();!o.done;o=i.next()){var l=o.value;if(e.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},e.mediaStreamIsTorchCompatibleTrack=function(t){try{var r=t.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},e.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},e.getMediaElement=function(t,r){var n=document.getElementById(t);if(!n)throw new ha("element with id '".concat(t,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new ha("element with id '".concat(t,"' must be an ").concat(r," element"));return n},e.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if(typeof t=="string")return e.getMediaElement(t,"video");if(!t&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},e.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if(typeof t=="string")return e.getMediaElement(t,"img");if(typeof t>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},e.prepareVideoElement=function(t){var r=e.createVideoElement(t);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.createBinaryBitmapFromCanvas=function(t){var r=new D$e(t),n=new AU(r);return new SU(n)},e.drawImageOnCanvas=function(t,r){t.drawImage(r,0,0)},e.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimensions!")},e.createCaptureCanvas=function(t){if(!t)throw new ha("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=e.getMediaElementDimensions(t),a=n.width,i=n.height;return r.style.width=a+"px",r.style.height=i+"px",r.width=a,r.height=i,r},e.tryPlayVideo=function(t){return Un(this,void 0,void 0,function(){var r;return Hn(this,function(n){switch(n.label){case 0:if(t!=null&&t.ended)return console.error("Trying to play video that has ended."),[2,!1];if(e.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},e.createCanvasFromMediaElement=function(t){var r=e.createCaptureCanvas(t),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return e.drawImageOnCanvas(n,t),r},e.createBinaryBitmapFromMediaElem=function(t){var r=e.createCanvasFromMediaElement(t);return e.createBinaryBitmapFromCanvas(r)},e.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},e.listVideoInputDevices=function(){return Un(this,void 0,void 0,function(){var t,r,n,a,i,o,l,c,u,d,f,h;return Hn(this,function(p){switch(p.label){case 0:if(!UU())throw new Error("Can't enumerate devices, navigator is not present.");if(!M$e())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=p.sent(),r=[];try{for(n=wN(t),a=n.next();!a.done;a=n.next())i=a.value,o=i.kind==="video"?"videoinput":i.kind,o==="videoinput"&&(l=i.deviceId||i.id,c=i.label||"Video device ".concat(r.length+1),u=i.groupId,d={deviceId:l,label:c,kind:o,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},e.findDeviceById=function(t){return Un(this,void 0,void 0,function(){var r;return Hn(this,function(n){switch(n.label){case 0:return[4,e.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===t})]:[2]}})})},e.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch{t.src=""}t&&t.removeAttribute("src")}},e.releaseAllStreams=function(){e.streamTracker.length!==0&&e.streamTracker.forEach(function(t){t.getTracks().forEach(function(r){return r.stop()})}),e.streamTracker=[]},e.playVideoOnLoadAsync=function(t,r){return Un(this,void 0,void 0,function(){var n;return Hn(this,function(a){switch(a.label){case 0:return[4,e.tryPlayVideo(t)];case 1:return n=a.sent(),n?[2,!0]:[2,new Promise(function(i,o){var l=setTimeout(function(){e.isVideoPlaying(t)||(o(!1),t.removeEventListener("canplay",c))},r),c=function(){e.tryPlayVideo(t).then(function(u){clearTimeout(l),t.removeEventListener("canplay",c),i(u)})};t.addEventListener("canplay",c)})]}})})},e.attachStreamToVideo=function(t,r,n){return n===void 0&&(n=5e3),Un(this,void 0,void 0,function(){var a;return Hn(this,function(i){switch(i.label){case 0:return a=e.prepareVideoElement(r),e.addVideoSource(a,t),[4,e.playVideoOnLoadAsync(a,n)];case 1:return i.sent(),[2,a]}})})},e._waitImageLoad=function(t){return new Promise(function(r,n){var a=1e4,i=setTimeout(function(){e.isImageLoaded(t)||(t.removeEventListener("load",o),n())},a),o=function(){clearTimeout(i),t.removeEventListener("load",o),r()};t.addEventListener("load",o)})},e.checkCallbackFnOrThrow=function(t){if(!t)throw new ha("`callbackFn` is a required parameter, you cannot capture results without it.")},e.disposeMediaStream=function(t){t.getVideoTracks().forEach(function(r){return r.stop()}),t=void 0},e.prototype.decode=function(t){var r=e.createCanvasFromMediaElement(t);return this.decodeFromCanvas(r)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},e.prototype.decodeFromCanvas=function(t){var r=e.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(r)},e.prototype.decodeFromImageElement=function(t){return Un(this,void 0,void 0,function(){var r;return Hn(this,function(n){switch(n.label){case 0:if(!t)throw new ha("An image element must be provided.");return r=e.prepareImageElement(t),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeFromImageUrl=function(t){return Un(this,void 0,void 0,function(){var r;return Hn(this,function(n){switch(n.label){case 0:if(!t)throw new ha("An URL must be provided.");r=e.prepareImageElement(),r.src=t,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return e.destroyImageElement(r),[7];case 4:return[2]}})})},e.prototype.decodeFromConstraints=function(t,r,n){return Un(this,void 0,void 0,function(){var a,i;return Hn(this,function(o){switch(o.label){case 0:return e.checkCallbackFnOrThrow(n),[4,this.getUserMedia(t)];case 1:a=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(a,r,n)];case 3:return[2,o.sent()];case 4:throw i=o.sent(),e.disposeMediaStream(a),i;case 5:return[2]}})})},e.prototype.decodeFromStream=function(t,r,n){return Un(this,void 0,void 0,function(){var a,i,o,l,c,u,d,f,h,p=this;return Hn(this,function(m){switch(m.label){case 0:return e.checkCallbackFnOrThrow(n),a=this.options.tryPlayVideoTimeout,[4,e.attachStreamToVideo(t,r,a)];case 1:return i=m.sent(),o=function(){e.disposeMediaStream(t),e.cleanVideoSource(i)},l=this.scan(i,n,o),c=t.getVideoTracks(),u=$h($h({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(x,g){return Un(this,void 0,void 0,function(){var v,b,y,w,N,S,j;return Hn(this,function(A){switch(A.label){case 0:v=g?c.filter(g):c,A.label=1;case 1:A.trys.push([1,6,7,8]),b=wN(v),y=b.next(),A.label=2;case 2:return y.done?[3,5]:(w=y.value,[4,w.applyConstraints(x)]);case 3:A.sent(),A.label=4;case 4:return y=b.next(),[3,2];case 5:return[3,8];case 6:return N=A.sent(),S={error:N},[3,8];case 7:try{y&&!y.done&&(j=b.return)&&j.call(b)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(x){return c.find(x).getConstraints()},streamVideoSettingsGet:function(x){return c.find(x).getSettings()},streamVideoCapabilitiesGet:function(x){return c.find(x).getCapabilities()}}),d=e.mediaStreamIsTorchCompatible(t),d&&(f=c==null?void 0:c.find(function(x){return e.mediaStreamIsTorchCompatibleTrack(x)}),h=function(x){return Un(p,void 0,void 0,function(){return Hn(this,function(g){switch(g.label){case 0:return[4,e.mediaStreamSetTorch(f,x)];case 1:return g.sent(),[2]}})})},u.switchTorch=h,u.stop=function(){return Un(p,void 0,void 0,function(){return Hn(this,function(x){switch(x.label){case 0:return l.stop(),[4,h(!1)];case 1:return x.sent(),[2]}})})}),[2,u]}})})},e.prototype.decodeFromVideoDevice=function(t,r,n){return Un(this,void 0,void 0,function(){var a,i;return Hn(this,function(o){switch(o.label){case 0:return e.checkCallbackFnOrThrow(n),t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromVideoElement=function(t,r){return Un(this,void 0,void 0,function(){var n,a;return Hn(this,function(i){switch(i.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new ha("A video element must be provided.");return n=e.prepareVideoElement(t),a=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,a)];case 1:return i.sent(),[2,this.scan(n,r)]}})})},e.prototype.decodeFromVideoUrl=function(t,r){return Un(this,void 0,void 0,function(){var n,a,i,o;return Hn(this,function(l){switch(l.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new ha("An URL must be provided.");return n=e.prepareVideoElement(),n.src=t,a=function(){e.cleanVideoSource(n)},i=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,i)];case 1:return l.sent(),o=this.scan(n,r,a),[2,o]}})})},e.prototype.decodeOnceFromConstraints=function(t,r){return Un(this,void 0,void 0,function(){var n;return Hn(this,function(a){switch(a.label){case 0:return[4,this.getUserMedia(t)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,r){return Un(this,void 0,void 0,function(){var n,a,i;return Hn(this,function(o){switch(o.label){case 0:return n=!!r,[4,e.attachStreamToVideo(t,r)];case 1:a=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(a)];case 3:return i=o.sent(),[2,i];case 4:return n||e.cleanVideoSource(a),[7];case 5:return[2]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,r){return Un(this,void 0,void 0,function(){var n,a;return Hn(this,function(i){switch(i.label){case 0:return t?n={deviceId:{exact:t}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromVideoElement=function(t){return Un(this,void 0,void 0,function(){var r,n;return Hn(this,function(a){switch(a.label){case 0:if(!t)throw new ha("A video element must be provided.");return r=e.prepareVideoElement(t),n=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(r,n)];case 1:return a.sent(),[4,this.scanOneResult(r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromVideoUrl=function(t){return Un(this,void 0,void 0,function(){var r,n;return Hn(this,function(a){switch(a.label){case 0:if(!t)throw new ha("An URL must be provided.");r=e.prepareVideoElement(),r.src=t,n=this.decodeOnceFromVideoElement(r),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,n];case 2:return[2,a.sent()];case 3:return e.cleanVideoSource(r),[7];case 4:return[2]}})})},e.prototype.scanOneResult=function(t,r,n,a){var i=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),new Promise(function(o,l){i.scan(t,function(c,u,d){if(c){o(c),d.stop();return}if(u){if(u instanceof Ge&&r||u instanceof Pa&&n||u instanceof ut&&a)return;d.stop(),l(u)}})})},e.prototype.scan=function(t,r,n){var a=this;e.checkCallbackFnOrThrow(r);var i=e.createCaptureCanvas(t),o;try{o=i.getContext("2d",{willReadFrequently:!0})}catch{o=i.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){o=void 0,i=void 0},c=!1,u,d=function(){c=!0,clearTimeout(u),l(),n&&n()},f={stop:d},h=function(){if(!c)try{e.drawImageOnCanvas(o,t);var p=a.decodeFromCanvas(i);r(p,void 0,f),u=setTimeout(h,a.options.delayBetweenScanSuccess)}catch(v){r(void 0,v,f);var m=v instanceof Pa,x=v instanceof ut,g=v instanceof Ge;if(m||x||g){u=setTimeout(h,a.options.delayBetweenScanAttempts);return}l(),n&&n(v)}};return h(),f},e.prototype._decodeOnLoadImage=function(t){return Un(this,void 0,void 0,function(){var r;return Hn(this,function(n){switch(n.label){case 0:return r=e.isImageLoaded(t),r?[3,2]:[4,e._waitImageLoad(t)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(t)]}})})},e.prototype.getUserMedia=function(t){return Un(this,void 0,void 0,function(){var r;return Hn(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=n.sent(),e.streamTracker.push(r),[2,r]}})})},e.streamTracker=[],e}(),R$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){R$e(t,e);function t(r,n){return e.call(this,new tw,r,n)||this}return t})(xm);var L$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){L$e(t,e);function t(r,n){return e.call(this,new Lh(r),r,n)||this}return t})(xm);var B$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){B$e(t,e);function t(r,n){return e.call(this,new nw,r,n)||this}return t})(xm);var $$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){$$e(t,e);function t(r,n){var a=this,i=new RU;return i.setHints(r),a=e.call(this,i,r,n)||this,a.reader=i,a}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(r){this.hints.set(Cn.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},t.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},t})(xm);var z$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){z$e(t,e);function t(r,n){return e.call(this,new iw,r,n)||this}return t})(xm);var U$e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H$e=function(e){U$e(t,e);function t(r,n){return e.call(this,new aw,r,n)||this}return t}(xm);const R2=[{id:"lot001",name:"Lot Huîtres A",date:"2023-05-12",type:"lot",location:"Bassin 3",status:"Optimal",stock:{quantity:"500",unit:"kg"}},{id:"lot002",name:"Lot Huîtres B",date:"2023-05-15",type:"lot",location:"Bassin 2",status:"Attention",stock:{quantity:"350",unit:"kg"}},{id:"lot003",name:"Lot Huîtres C",date:"2023-06-01",type:"lot",location:"Stockage 1",status:"Optimal",stock:{quantity:"200",unit:"kg"}}],L2=[{id:"bassin001",name:"Bassin 1",date:"2023-04-01",type:"bassin",location:"Zone production nord",status:"Optimal",occupation:"75%",nextMaintenance:"2023-07-15",stock:{quantity:"850",unit:"kg"},stats:[{label:"Température",value:"12.3°C"},{label:"Oxygène",value:"7.8 mg/L"},{label:"Produit",value:"Huîtres N°2"}]},{id:"bassin002",name:"Bassin 2",date:"2023-04-05",type:"bassin",location:"Zone production est",status:"Attention",occupation:"45%",nextMaintenance:"2023-07-10",stock:{quantity:"420",unit:"kg"},stats:[{label:"Température",value:"11.9°C"},{label:"Oxygène",value:"6.5 mg/L"},{label:"Produit",value:"Moules de mer"}]},{id:"bassin003",name:"Bassin 3",date:"2023-04-10",type:"bassin",location:"Zone production sud",status:"Optimal",occupation:"90%",nextMaintenance:"2023-07-20",stock:{quantity:"950",unit:"kg"},stats:[{label:"Température",value:"12.1°C"},{label:"Oxygène",value:"7.2 mg/L"},{label:"Produit",value:"Huîtres N°3"}]}],bh=[{id:"storage-0001",name:"Frigo 1",type:"storage",date:"2023-04-20",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"500 kg"},{label:"Occupation",value:"65%"},{label:"Température",value:"4.5°C"},{label:"Humidité",value:"85%"}],products:[{name:"Huîtres Fines de Claire N°3",quantity:"180 kg",dlc:"05/04/2025"},{name:"Huîtres Spéciales N°2",quantity:"145 kg",dlc:"08/04/2025"}]},{id:"storage-0002",name:"Frigo 2",type:"storage",date:"2023-04-25",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"300 kg"},{label:"Occupation",value:"30%"},{label:"Température",value:"5.2°C"},{label:"Humidité",value:"80%"}],products:[{name:"Huîtres Plates",quantity:"60 kg",dlc:"10/04/2025"},{name:"Moules de Bouchot",quantity:"30 kg",dlc:"02/04/2025"}]},{id:"storage-0003",name:"Congélateur 1",type:"storage",date:"2023-04-30",location:"Zone de stockage secondaire",status:"Attention",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"200 kg"},{label:"Occupation",value:"85%"},{label:"Température",value:"-18.2°C"},{label:"Humidité",value:"40%"}],products:[{name:"Fruits de mer congelés",quantity:"95 kg",dlc:"20/10/2025"},{name:"Poissons congelés",quantity:"75 kg",dlc:"15/09/2025"}]},{id:"storage-0004",name:"Congélateur 2",type:"storage",date:"2023-05-05",location:"Zone de stockage secondaire",status:"Optimal",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"150 kg"},{label:"Occupation",value:"40%"},{label:"Température",value:"-20.5°C"},{label:"Humidité",value:"35%"}],products:[{name:"Crustacés congelés",quantity:"35 kg",dlc:"25/11/2025"},{name:"Préparations maison",quantity:"25 kg",dlc:"30/08/2025"}]},{id:"storage-0005",name:"Remise",type:"storage",date:"2023-05-10",location:"Arrière bâtiment",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"1000 kg"},{label:"Occupation",value:"55%"},{label:"Température",value:"15.0°C"},{label:"Humidité",value:"60%"}],products:[{name:"Matériel d'emballage",quantity:"300 kg",dlc:"N/A"},{name:"Équipement de manutention",quantity:"250 kg",dlc:"N/A"}]},{id:"storage-0006",name:"Cave",type:"storage",date:"2023-05-15",location:"Sous-sol",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"800 kg"},{label:"Occupation",value:"25%"},{label:"Température",value:"12.5°C"},{label:"Humidité",value:"75%"}],products:[{name:"Conserves",quantity:"120 kg",dlc:"31/12/2026"},{name:"Fournitures diverses",quantity:"80 kg",dlc:"N/A"}]}],B2=[{id:"bl001",reference:"BL-2023-001",date:"2023-06-05",type:"bl",client:"Restaurant La Marée",status:"Livré",products:[{name:"Huîtres calibre 3",quantity:"20kg"},{name:"Huîtres calibre 2",quantity:"15kg"}],notes:"Livraison effectuée le matin, client satisfait."},{id:"bl002",reference:"BL-2023-002",date:"2023-06-10",type:"bl",client:"Poissonnerie du Port",status:"En cours",products:[{name:"Huîtres calibre 1",quantity:"25kg"},{name:"Huîtres calibre 4",quantity:"10kg"}],notes:"Livraison prévue pour demain matin."}],$2=[{id:"hist001",date:"2023-06-01 09:30",type:"history",action:"Contrôle qualité",user:"Jean Dupont",details:"Contrôle effectué sur Bassin 1, paramètres normaux."},{id:"hist002",date:"2023-06-02 11:15",type:"history",action:"Maintenance",user:"Marie Martin",details:"Maintenance du système de filtration Bassin 2."},{id:"hist003",date:"2023-06-03 14:45",type:"history",action:"Récolte",user:"Pierre Leblanc",details:"Récolte de 100kg depuis Bassin 3 vers Stockage 1."},{id:"hist004",date:"2023-06-04 16:30",type:"history",action:"Préparation commande",user:"Sophie Leroy",details:"Préparation BL-2023-001 pour Restaurant La Marée."}];function W$e(){const[e,t]=k.useState("bassins"),[r,n]=k.useState(null),[a,i]=k.useState({}),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,p]=k.useState(!1),[m,x]=k.useState(null),[g,v]=k.useState({}),[b,y]=k.useState(""),[w,N]=k.useState([]),S=k.useRef(null),[j,A]=k.useState(null);k.useEffect(()=>{if(c&&!j){const P=new H$e;A(P)}return()=>{A(null)}},[c]),k.useEffect(()=>{c&&j&&S.current&&j.decodeFromVideoDevice(void 0,S.current,(P,M)=>{P&&(y(P.getText()),console.log("QR Code scanné:",P.getText()))}).catch(P=>console.error("Erreur lors du scan:",P))},[c,j]);const T=P=>{n(P),i(JSON.parse(JSON.stringify(P)))},R=()=>{console.log("Saving:",a),n(null)},O=P=>{x(P),p(!0)},E=()=>{const P=new Mt("l","mm","a4"),M=P.internal.pageSize.getWidth(),z=P.internal.pageSize.getHeight();let Y=60;P.setFillColor(10,42,64),P.rect(0,0,M,25,"F"),P.setTextColor(255,255,255),P.setFontSize(16),P.text("Rapport de Traçabilité OYSTER CULT",M/2,15,{align:"center"}),P.setTextColor(10,42,64),P.setFontSize(10),P.text(`Date d'export: ${new Date().toLocaleDateString("fr-FR")}`,14,35),P.text("Exporté par: Utilisateur",14,42),P.text(`Période: ${new Date().toLocaleDateString("fr-FR")} - ${new Date().toLocaleDateString("fr-FR")}`,14,49);const ae=(pe,re)=>{P.setFillColor(10,42,64),P.rect(10,Y,M-20,10,"F"),P.setTextColor(255,255,255),P.setFontSize(10);let Oe=10;pe.forEach((oe,de)=>{const ye=re[de];P.text(oe,Oe+ye/2,Y+7,{align:"center"}),Oe+=ye}),Y+=10},ue=(pe,re=10)=>{const Oe=pe*re;return Y+Oe>z-20?(P.addPage(),Y=30,P.setFillColor(10,42,64),P.rect(0,0,M,20,"F"),P.setTextColor(255,255,255),P.setFontSize(12),P.text("Rapport de Traçabilité OYSTER CULT (suite)",M/2,13,{align:"center"}),!0):!1},ne=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Lots en cours",M/2,Y,{align:"center"}),Y+=10;const pe=[(M-20)*.25,(M-20)*.25,(M-20)*.2,(M-20)*.15,(M-20)*.15];ae(["Nom","Emplacement","Stock","Status","Date"],pe),ue(R2.length),R2.forEach((re,Oe)=>{const oe=Y+Oe*10;Oe%2===0&&(P.setFillColor(240,240,240),P.rect(10,oe,M-20,10,"F")),P.setTextColor(60,60,60);let de=10;P.text(re.name,de+pe[0]/2,oe+7,{align:"center"}),de+=pe[0],P.text(re.location,de+pe[1]/2,oe+7,{align:"center"}),de+=pe[1],P.text(`${re.stock.quantity} ${re.stock.unit}`,de+pe[2]/2,oe+7,{align:"center"}),de+=pe[2],P.text(re.status,de+pe[3]/2,oe+7,{align:"center"}),de+=pe[3],P.text(re.date,de+pe[4]/2,oe+7,{align:"center"})}),Y+=R2.length*10+15},_e=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Bassins",M/2,Y,{align:"center"}),Y+=10;const pe=[(M-20)*.2,(M-20)*.2,(M-20)*.15,(M-20)*.15,(M-20)*.15,(M-20)*.15];ae(["Nom","Emplacement","Stock","Occupation","Statut","Proch. Maintenance"],pe),ue(L2.length),L2.forEach((re,Oe)=>{const oe=Y+Oe*10;Oe%2===0&&(P.setFillColor(240,240,240),P.rect(10,oe,M-20,10,"F")),P.setTextColor(60,60,60);let de=10;P.text(re.name,de+pe[0]/2,oe+7,{align:"center"}),de+=pe[0],P.text(re.location,de+pe[1]/2,oe+7,{align:"center"}),de+=pe[1],P.text(`${re.stock.quantity} ${re.stock.unit}`,de+pe[2]/2,oe+7,{align:"center"}),de+=pe[2],P.text(re.occupation,de+pe[3]/2,oe+7,{align:"center"}),de+=pe[3],P.text(re.status,de+pe[4]/2,oe+7,{align:"center"}),de+=pe[4],P.text(re.nextMaintenance,de+pe[5]/2,oe+7,{align:"center"})}),Y+=L2.length*10+15},Ce=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Emplacements de stockage",M/2,Y,{align:"center"}),Y+=10;const pe=[(M-20)*.25,(M-20)*.25,(M-20)*.2,(M-20)*.15,(M-20)*.15];ae(["Nom","Emplacement","Température","Humidité","Statut"],pe),ue(bh.length),bh.forEach((de,ye)=>{var tt,gt;const Ie=Y+ye*10;ye%2===0&&(P.setFillColor(240,240,240),P.rect(10,Ie,M-20,10,"F")),P.setTextColor(60,60,60);let Ne=10;P.text(de.name,Ne+pe[0]/2,Ie+7,{align:"center"}),Ne+=pe[0],P.text(de.location,Ne+pe[1]/2,Ie+7,{align:"center"}),Ne+=pe[1];const Pe=((tt=de.stats.find(Nt=>Nt.label==="Température"))==null?void 0:tt.value)||"N/A";P.text(Pe,Ne+pe[2]/2,Ie+7,{align:"center"}),Ne+=pe[2];const Xe=((gt=de.stats.find(Nt=>Nt.label==="Humidité"))==null?void 0:gt.value)||"N/A";P.text(Xe,Ne+pe[3]/2,Ie+7,{align:"center"}),Ne+=pe[3],P.text(de.status,Ne+pe[4]/2,Ie+7,{align:"center"})}),Y+=bh.length*10+15,P.addPage(),Y=30,P.setFontSize(14),P.setTextColor(10,42,64),P.text("Produits stockés",M/2,Y,{align:"center"}),Y+=10;const re=[(M-20)*.25,(M-20)*.35,(M-20)*.2,(M-20)*.2];ae(["Emplacement","Produit","Quantité","DLC"],re);let Oe=0;bh.forEach(de=>{Oe+=de.products.length}),ue(Oe);let oe=0;bh.forEach(de=>{de.products.forEach((ye,Ie)=>{oe>0&&oe%25===0&&(P.addPage(),Y=30,ae(["Emplacement","Produit","Quantité","DLC"],re));const Ne=Y+oe%25*10;oe%2===0&&(P.setFillColor(240,240,240),P.rect(10,Ne,M-20,10,"F")),P.setTextColor(60,60,60);let Pe=10;P.text(de.name,Pe+re[0]/2,Ne+7,{align:"center"}),Pe+=re[0],P.text(ye.name,Pe+re[1]/2,Ne+7,{align:"center"}),Pe+=re[1],P.text(ye.quantity,Pe+re[2]/2,Ne+7,{align:"center"}),Pe+=re[2],P.text(ye.dlc,Pe+re[3]/2,Ne+7,{align:"center"}),oe++})}),Y+=oe%25*10+15},V=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Bons de livraison",M/2,Y,{align:"center"}),Y+=10;const pe=[(M-20)*.2,(M-20)*.3,(M-20)*.25,(M-20)*.25];ae(["Référence","Client","Date","Statut"],pe),ue(B2.length),B2.forEach((re,Oe)=>{const oe=Y+Oe*10;Oe%2===0&&(P.setFillColor(240,240,240),P.rect(10,oe,M-20,10,"F")),P.setTextColor(60,60,60);let de=10;P.text(re.reference,de+pe[0]/2,oe+7,{align:"center"}),de+=pe[0],P.text(re.client,de+pe[1]/2,oe+7,{align:"center"}),de+=pe[1],P.text(re.date,de+pe[2]/2,oe+7,{align:"center"}),de+=pe[2],P.text(re.status,de+pe[3]/2,oe+7,{align:"center"})}),Y+=B2.length*10+15},Me=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Historique des activités",M/2,Y,{align:"center"}),Y+=10;const pe=[(M-20)*.2,(M-20)*.2,(M-20)*.2,(M-20)*.4];ae(["Date","Utilisateur","Action","Détails"],pe),ue($2.length),$2.forEach((re,Oe)=>{const oe=Y+Oe*10;Oe%2===0&&(P.setFillColor(240,240,240),P.rect(10,oe,M-20,10,"F")),P.setTextColor(60,60,60);let de=10;P.text(re.date,de+pe[0]/2,oe+7,{align:"center"}),de+=pe[0],P.text(re.user,de+pe[1]/2,oe+7,{align:"center"}),de+=pe[1],P.text(re.action,de+pe[2]/2,oe+7,{align:"center"}),de+=pe[2],P.text(re.details,de+pe[3]/2,oe+7,{align:"center"})}),Y+=$2.length*10+15};ne(),P.addPage(),Y=30,_e(),P.addPage(),Y=30,Ce(),P.addPage(),Y=30,V(),P.addPage(),Y=30,Me();const Ae=P.internal.getNumberOfPages();for(let pe=1;pe<=Ae;pe++){P.setPage(pe),P.setFontSize(10),P.setTextColor(100,100,100);const re=`Page ${pe}/${Ae}`;P.text(`OYSTER CULT - Traçabilité - ${re}`,M/2,z-10,{align:"center"})}P.save("traceabilite-oyster-cult.pdf"),f(!1)},L=()=>{if(!r)return null;const P=()=>{switch(r.type){case"lot":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-name",className:"block text-sm text-cyan-400 mb-1",children:"Nom"}),s.jsx("input",{id:"edit-name",type:"text",value:a.name,onChange:M=>i({...a,name:M.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-location",className:"block text-sm text-cyan-400 mb-1",children:"Emplacement"}),s.jsx("input",{id:"edit-location",type:"text",value:a.location,onChange:M=>i({...a,location:M.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-quantity",className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),s.jsx("input",{id:"edit-quantity",type:"text",value:a.stock.quantity,onChange:M=>i({...a,stock:{...a.stock,quantity:M.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"bassin":return s.jsxs("div",{className:"space-y-4",children:[r.stats.map((M,z)=>s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-stat-${z}`,className:"block text-sm text-cyan-400 mb-1",children:M.label}),s.jsx("input",{id:`edit-stat-${z}`,type:"text",value:a.stats[z].value,onChange:Y=>{const ae=[...a.stats];ae[z]={...ae[z],value:Y.target.value},i({...a,stats:ae})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},z)),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-occupation",className:"block text-sm text-cyan-400 mb-1",children:"Occupation"}),s.jsx("input",{id:"edit-occupation",type:"text",value:a.occupation,onChange:M=>i({...a,occupation:M.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-maintenance",className:"block text-sm text-cyan-400 mb-1",children:"Prochaine maintenance"}),s.jsx("input",{id:"edit-maintenance",type:"text",value:a.nextMaintenance,onChange:M=>i({...a,nextMaintenance:M.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-stock",className:"block text-sm text-cyan-400 mb-1",children:"Stock"}),s.jsx("input",{id:"edit-stock",type:"text",value:a.stock.quantity,onChange:M=>i({...a,stock:{...a.stock,quantity:M.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"storage":return s.jsxs("div",{className:"space-y-4",children:[r.stats.map((M,z)=>s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-storage-stat-${z}`,className:"block text-sm text-cyan-400 mb-1",children:M.label}),s.jsx("input",{id:`edit-storage-stat-${z}`,type:"text",value:a.stats[z].value,onChange:Y=>{const ae=[...a.stats];ae[z]={...ae[z],value:Y.target.value},i({...a,stats:ae})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},z)),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Produits"}),a.products.map((M,z)=>s.jsxs("div",{className:"space-y-2 mb-4 p-3 rounded-lg bg-cyan-500/5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-product-name-${z}`,className:"block text-sm text-cyan-400 mb-1",children:"Nom du produit"}),s.jsx("input",{id:`edit-product-name-${z}`,type:"text",value:M.name,onChange:Y=>{const ae=[...a.products];ae[z]={...ae[z],name:Y.target.value},i({...a,products:ae})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-product-quantity-${z}`,className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),s.jsx("input",{id:`edit-product-quantity-${z}`,type:"text",value:M.quantity,onChange:Y=>{const ae=[...a.products];ae[z]={...ae[z],quantity:Y.target.value},i({...a,products:ae})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:`edit-product-dlc-${z}`,className:"block text-sm text-cyan-400 mb-1",children:"DLC"}),s.jsx("input",{id:`edit-product-dlc-${z}`,type:"text",value:M.dlc,onChange:Y=>{const ae=[...a.products];ae[z]={...ae[z],dlc:Y.target.value},i({...a,products:ae})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]},z))]})]});default:return null}};return s.jsxs(kh,{isOpen:!0,onClose:()=>n(null),title:`Modifier ${r.name}`,children:[P(),s.jsxs("div",{className:"flex justify-end mt-6 gap-3",children:[s.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler la modification",children:"Annuler"}),s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Enregistrer les modifications",children:[s.jsx(hf,{className:"w-4 h-4"}),"Enregistrer"]})]})]})},B=()=>!h||!m?null:s.jsx(kh,{isOpen:!0,onClose:()=>p(!1),title:`Bon de livraison - ${m.reference}`,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Date"}),s.jsx("p",{className:"text-white",children:m.date})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-cyan-400 mb-1",children:"Client"}),s.jsx("p",{className:"text-white",children:m.client})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-cyan-400 mb-2",id:"products-heading",children:"Produits"}),s.jsx("div",{className:"space-y-2","aria-labelledby":"products-heading",children:m.products.map((P,M)=>s.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-white",children:P.name}),s.jsx("p",{className:"text-cyan-400",children:P.quantity})]})},M))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Notes"}),s.jsx("p",{className:"text-white",children:m.notes})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le bon de livraison",children:"Fermer"})})]})}),G=()=>o?s.jsx(kh,{isOpen:!0,onClose:()=>l(!1),title:"Filtrer les éléments",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filter-search",className:"block text-sm text-cyan-400 mb-1",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"filter-search",type:"text",value:g.search||"",onChange:P=>v({...g,search:P.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg pl-10 pr-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher..."}),s.jsx(Xa,{className:"absolute left-3 top-2.5 w-4 h-4 text-cyan-400","aria-hidden":"true"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filter-date",className:"block text-sm text-cyan-400 mb-1",children:"Date"}),s.jsx("input",{id:"filter-date",type:"date",value:g.date||"",onChange:P=>v({...g,date:P.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filter-status",className:"block text-sm text-cyan-400 mb-1",children:"Statut"}),s.jsxs("select",{id:"filter-status",value:g.status||"",onChange:P=>v({...g,status:P.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx("option",{value:"",children:"Tous"}),s.jsx("option",{value:"Optimal",children:"Optimal"}),s.jsx("option",{value:"Attention",children:"Attention"}),s.jsx("option",{value:"Livré",children:"Livré"}),s.jsx("option",{value:"En cours",children:"En cours"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filter-type",className:"block text-sm text-cyan-400 mb-1",children:"Type"}),s.jsxs("select",{id:"filter-type",value:g.type||"",onChange:P=>v({...g,type:P.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx("option",{value:"",children:"Tous"}),s.jsx("option",{value:"lot",children:"Lots"}),s.jsx("option",{value:"bassin",children:"Bassins"}),s.jsx("option",{value:"storage",children:"Stockage"}),s.jsx("option",{value:"bl",children:"Bons de livraison"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{v({}),l(!1)},className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Réinitialiser les filtres",children:"Réinitialiser"}),s.jsxs("button",{onClick:()=>l(!1),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Appliquer les filtres",children:[s.jsx(qi,{className:"w-4 h-4","aria-hidden":"true"}),"Appliquer"]})]})]})}):null,U=()=>c?s.jsx(kh,{isOpen:!0,onClose:()=>{u(!1),y("")},title:"Scanner un QR Code",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative overflow-hidden rounded-lg bg-black aspect-video",children:s.jsx("video",{ref:S,className:"w-full h-full object-cover rounded-lg","aria-label":"Flux vidéo pour le scan de QR code"})}),b&&s.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[s.jsx("p",{className:"text-sm text-cyan-400",id:"qr-result-label",children:"Résultat du scan"}),s.jsx("p",{className:"text-white break-all","aria-labelledby":"qr-result-label",children:b})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>{u(!1),y("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le scanner QR",children:"Fermer"})})]})}):null,W=()=>d?s.jsx(kh,{isOpen:!0,onClose:()=>f(!1),title:"Exporter les données",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white",id:"export-description",children:"Voulez-vous exporter toutes les données de traçabilité en PDF ? Le document contiendra toutes les informations de chaque onglet (Lots, Bassins, Stockage, Bons de livraison et Historique)."}),s.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10 mb-4",children:[s.jsxs("h3",{className:"text-cyan-400 font-medium mb-2 flex items-center gap-2",children:[s.jsx(W0,{className:"w-4 h-4"}),"Informations importantes"]}),s.jsxs("ul",{className:"list-disc pl-5 text-sm text-white/80 space-y-2",children:[s.jsxs("li",{children:["Le PDF généré contiendra ",s.jsx("strong",{children:"toutes les données"})," de tous les onglets, quelle que soit la page actuellement affichée."]}),s.jsx("li",{children:"Les données seront organisées par sections avec une mise en page optimisée."}),s.jsx("li",{children:"Pour les sections contenant beaucoup de données, plusieurs pages seront créées automatiquement."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler l'export",children:"Annuler"}),s.jsxs("button",{onClick:E,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-labelledby":"export-description",children:[s.jsx(Wo,{className:"w-4 h-4","aria-hidden":"true"}),"Exporter en PDF"]})]})]})}):null,X=({tabs:P,activeTab:M,onChange:z,className:Y})=>s.jsx("div",{className:`flex gap-4 ${Y}`,role:"tablist",children:P.map(ae=>s.jsxs("button",{onClick:()=>z(ae.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap min-w-[44px] min-h-[44px] ${M===ae.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] focus:ring-2 focus:ring-cyan-500/40 transform hover:-translate-y-1 hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300":"text-white/60 hover:text-white hover:bg-white/5 shadow-[0_4px_8px_rgba(0,0,0,0.2)] hover:shadow-[0_5px_12px_rgba(0,0,0,0.3)] focus:ring-2 focus:ring-white/30 transform hover:-translate-y-1 transition-all duration-300"}`,role:"tab","aria-selected":M===ae.id,"aria-controls":`tab-panel-${ae.id}`,id:`tab-${ae.id}`,children:[s.jsx("span",{className:"w-4 h-4","aria-hidden":"true",children:ae.icon}),s.jsx("span",{children:ae.label})]},ae.id))}),q=P=>{t(P)},le=[{id:"bassins",label:"Bassins",icon:s.jsx(Li,{size:20}),count:15},{id:"autre_emplacement",label:"Autre emplacement",icon:s.jsx(na,{size:20}),count:8},{id:"bl",label:"Bons de livraison",icon:s.jsx(V0,{size:20}),count:36},{id:"historique",label:"Historique",icon:s.jsx(su,{size:20})}],se=P=>{console.log("Visualisation du document:",P)},I=P=>{N(M=>M.includes(P)?M.filter(z=>z!==P):[...M,P])};return s.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2 mb-4",children:[s.jsx(Qn,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Traçabilité"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les lots",children:[s.jsx(qi,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Filtrer"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[s.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter les données",children:[s.jsx(Wo,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Exporter"})]})]})]}),s.jsx("div",{className:"relative mb-6 mt-4",children:s.jsx(X,{tabs:le,activeTab:e,onChange:q,className:"overflow-x-auto pb-2 hide-scrollbar"})})]}),s.jsxs("div",{id:"traceability-content",className:"space-y-6",children:[e==="lots"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(jn,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Lots de production"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[s.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:R2.map(P=>s.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:P.name}),s.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",P.location]})]}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{onClick:()=>T(P),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${P.name}`,children:s.jsx(Os,{className:"w-4 h-4","aria-hidden":"true"})})})]}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${P.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),s.jsx("p",{className:"text-xs text-white/70",children:P.status})]})]}),s.jsxs("p",{className:"text-white",children:[P.stock.quantity," ",P.stock.unit]})]}),s.jsx("div",{className:"text-sm text-white/70",children:s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("p",{children:"Date de création"}),s.jsx("p",{children:P.date})]})})]})]})},P.id))})]})}),e==="bassins"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(Li,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Occupation des bassins"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bassin",children:[s.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:L2.map(P=>{var M;return s.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:P.name}),s.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",P.location]})]}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{onClick:()=>T(P),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${P.name}`,children:s.jsx(Os,{className:"w-4 h-4","aria-hidden":"true"})})})]}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${P.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),s.jsx("p",{className:"text-xs text-white/70",children:P.status})]})]}),s.jsxs("p",{className:"text-white",children:[P.stock.quantity," ",P.stock.unit]}),s.jsx("p",{className:"text-sm text-white/70 mt-1",children:((M=P.stats.find(z=>z.label==="Produit"))==null?void 0:M.value)||"Non spécifié"})]}),s.jsxs("div",{className:"text-sm text-white/70",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("p",{children:"Statut"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="Optimal"?"bg-green-500/10 text-green-400":"bg-yellow-500/10 text-yellow-400"}`,children:P.status})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{children:"Prochaine maintenance"}),s.jsx("p",{children:P.nextMaintenance})]})]})]})]})},P.id)})})]})}),e==="bl"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(V0,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Bons de livraison"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bon de livraison",children:[s.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6",children:B2.map(P=>s.jsxs("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors cursor-pointer",onClick:()=>O(P),children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-2 md:gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:P.reference}),s.jsxs("p",{className:"text-sm text-white/60",children:["Client: ",P.client]})]}),s.jsx("div",{children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="Livré"?"bg-green-500/10 text-green-400":"bg-blue-500/10 text-blue-400"}`,children:P.status})})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-sm text-cyan-400",children:"Produits"}),s.jsx("ul",{className:"mt-1 space-y-1",children:P.products.map((M,z)=>s.jsxs("li",{className:"text-sm text-white flex justify-between",children:[s.jsx("span",{children:M.name}),s.jsx("span",{children:M.quantity})]},z))})]}),s.jsxs("div",{className:"mt-3 flex justify-between text-sm",children:[s.jsxs("span",{className:"text-white/60",children:["Date: ",P.date]}),s.jsx("button",{onClick:M=>{M.stopPropagation(),O(P)},className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Voir les détails du bon de livraison ${P.reference}`,children:s.jsx(qc,{className:"w-4 h-4","aria-hidden":"true"})})]})]},P.id))})]})}),e==="historique"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(su,{className:"text-cyan-400","aria-hidden":"true"}),"Historique des activités"]})}),s.jsx("div",{className:"space-y-4 mt-6",children:$2.map(P=>s.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[s.jsx("h3",{className:"font-medium text-white mb-1",children:P.action}),s.jsx("span",{className:"text-sm text-white/60",children:P.date})]}),s.jsxs("p",{className:"text-sm text-white/60 mb-2",children:["Par: ",P.user]}),s.jsx("p",{className:"text-sm text-white",children:P.details})]})]})},P.id))})]})}),e==="autre_emplacement"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(na,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Emplacements de stockage"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un emplacement de stockage",children:[s.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:bh.map(P=>{var Ce,V,Me;const M=((Ce=P.stats.find(Ae=>Ae.label==="Type"))==null?void 0:Ce.value)||"Stockage",z=((V=P.stats.find(Ae=>Ae.label==="Occupation"))==null?void 0:V.value)||"0%",Y=((Me=P.stats.find(Ae=>Ae.label==="Capacité"))==null?void 0:Me.value)||"N/A",ae=parseInt(z)||0;let ue="bg-emerald-500",ne="text-emerald-400";ae<20?(ue="bg-red-500",ne="text-red-400"):ae<40&&(ue="bg-amber-500",ne="text-amber-400");let _e="bg-emerald-500/10 text-emerald-400";return P.status==="Attention"?_e="bg-amber-500/10 text-amber-400":P.status==="Critique"&&(_e="bg-red-500/10 text-red-400"),s.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors","aria-label":`Emplacement de stockage ${P.name}, ${M}, occupation ${z}`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:P.name}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/60 mt-1",children:[s.jsx("span",{className:"inline-block px-2 py-0.5 bg-cyan-500/10 rounded text-cyan-400 text-xs",children:M}),s.jsx("span",{"aria-hidden":"true",children:"•"}),s.jsx("span",{children:P.location})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>T(P),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${P.name}`,children:s.jsx(Os,{className:"w-4 h-4","aria-hidden":"true"})}),s.jsx("button",{onClick:()=>se(P.id),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`QR Code pour ${P.name}`,children:s.jsx(og,{className:"w-4 h-4","aria-hidden":"true"})})]})]}),s.jsxs("div",{className:"mt-2 space-y-4",children:[s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-cyan-400",children:"Capacité"}),s.jsx("span",{className:"text-white font-medium",children:Y})]})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-cyan-400",children:"Occupation"}),s.jsx("span",{className:`text-sm font-medium ${ne}`,children:z})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full ${ue} rounded-full transition-all duration-500 ease-in-out`,style:{width:`${ae}%`},role:"progressbar","aria-valuenow":ae,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Occupation: ${z}`})})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:P.stats.filter(Ae=>["Température","Humidité"].includes(Ae.label)).map((Ae,pe)=>s.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-cyan-400",children:Ae.label}),s.jsx("p",{className:"text-white font-medium",children:Ae.value})]},pe))}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_e}`,children:P.status})]}),P.products&&P.products.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),I(P.id)},className:"w-full flex justify-between items-center py-2 px-3 rounded-lg bg-cyan-500/10 text-white hover:bg-cyan-500/20 transition-colors min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-expanded":w.includes(P.id),"aria-controls":`products-${P.id}`,children:[s.jsxs("span",{className:"flex items-center text-sm font-medium",children:[s.jsx(jn,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Produits (",P.products.length,")"]}),s.jsx(ff,{className:`w-4 h-4 transition-transform duration-300 ${w.includes(P.id)?"rotate-180":""}`,"aria-hidden":"true"})]}),w.includes(P.id)&&s.jsxs("div",{id:`products-${P.id}`,className:"mt-2 space-y-2 p-3 bg-cyan-500/5 rounded-lg border border-cyan-500/10 animate-fadeIn",children:[s.jsx("h4",{className:"text-sm font-medium text-cyan-400 mb-2",children:"Produits stockés"}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-white/60",children:[s.jsx("th",{className:"pb-2 font-medium",children:"Produit"}),s.jsx("th",{className:"pb-2 font-medium",children:"Quantité"}),s.jsx("th",{className:"pb-2 font-medium",children:"DLC"})]})}),s.jsx("tbody",{children:P.products.map((Ae,pe)=>{const re=Ae.dlc!=="N/A";let Oe="";if(re){const oe=new Date,ye=new Date(Ae.dlc.split("/").reverse().join("-")).getTime()-oe.getTime(),Ie=Math.ceil(ye/(1e3*60*60*24));Ie<0?Oe="text-red-400 font-medium":Ie<=7&&(Oe="text-amber-400 font-medium")}return s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2 text-white",children:Ae.name}),s.jsx("td",{className:"py-2 text-white",children:Ae.quantity}),s.jsx("td",{className:"py-2",children:s.jsxs("span",{className:Ae.dlc==="N/A"?"text-white/60":`text-white ${Oe}`,children:[Ae.dlc,Oe==="text-red-400 font-medium"&&s.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-red-500/20",children:"Dépassée"}),Oe==="text-amber-400 font-medium"&&s.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-amber-500/20",children:"Bientôt"})]})})]},pe)})})]})]})]}),s.jsx("div",{className:"mt-auto pt-4",children:s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-xs text-white/60",children:[s.jsx("span",{className:"w-20",children:"Date:"}),s.jsx("span",{className:"text-white/80",children:P.date})]})})]})},P.id)})})]})})]}),L(),B(),G(),U(),W()]})}function V$e({onSubmit:e,onCancel:t}){const r=n=>{n.preventDefault(),e({})};return s.jsxs("form",{onSubmit:r,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-white/70 mb-2",children:"Client"}),s.jsx("input",{type:"text",id:"client",name:"client",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nom du client"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"products",className:"block text-sm font-medium text-white/70 mb-2",children:"Produits"}),s.jsxs("select",{id:"products",name:"products",multiple:!0,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",children:[s.jsx("option",{value:"huitres-speciales",children:"Huîtres Spéciales N°2"}),s.jsx("option",{value:"huitres-fines",children:"Huîtres Fines N°3"}),s.jsx("option",{value:"huitres-plates",children:"Huîtres Plates"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-white/70 mb-2",children:"Quantité"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",min:"1",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nombre de douzaines"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-white/70 mb-2",children:"Prix unitaire (€)"}),s.jsx("input",{type:"number",id:"price",name:"price",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"29.90"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-white/70 mb-2",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",rows:3,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Informations complémentaires..."})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Créer la vente"})]})]})}const HU=[{month:"Jan",sales:42e3,orders:156},{month:"Fév",sales:48e3,orders:172},{month:"Mar",sales:45e3,orders:168},{month:"Avr",sales:52e3,orders:189},{month:"Mai",sales:49e3,orders:175},{month:"Juin",sales:55e3,orders:198}],WU=(e,t)=>({data:e.map(r=>({name:r.month,value:r[t]}))}),q$e=[{name:"Ventes",color:"#22d3ee",...WU(HU,"sales")}],G$e=[{name:"Commandes",color:"#22d3ee",...WU(HU,"orders")}];function Y$e(){const[e,t]=k.useState(!1),[r,n]=k.useState("");k.useState("month");const a=i=>{console.log("Creating sale:",i),t(!1)};return s.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:s.jsx(rp,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ventes"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(gr,{size:20,"aria-hidden":"true"}),"Nouvelle Vente"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(FM,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Ventes totales"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"55,000 €"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(xs,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Nouveaux clients"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"24"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(PS,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Commandes"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"198"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+15% ce mois"})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:s.jsx(jn,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70",children:"Produits vendus"}),s.jsx("p",{className:"text-2xl font-semibold text-white",children:"856"}),s.jsx("p",{className:"text-sm text-emerald-400",children:"+5% ce mois"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Évolution des ventes"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),s.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),s.jsx(rg,{series:q$e,height:300})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nombre de commandes"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),s.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),s.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),s.jsx(rg,{series:G$e,height:300})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Dernières ventes"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xa,{size:20,className:"absolute left-3 -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),s.jsx("input",{type:"text",placeholder:"Rechercher...",value:r,onChange:i=>n(i.target.value),className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(qi,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-white/60",children:[s.jsx("th",{className:"pb-4",children:"Date"}),s.jsx("th",{className:"pb-4",children:"Client"}),s.jsx("th",{className:"pb-4",children:"Produits"}),s.jsx("th",{className:"pb-4 text-right",children:"Montant"}),s.jsx("th",{className:"pb-4",children:"Statut"})]})}),s.jsxs("tbody",{className:"text-white",children:[s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-4",children:"26/03/2025"}),s.jsx("td",{children:"Martin Dubois"}),s.jsx("td",{children:"Huîtres Spéciales N°2 (3 dz)"}),s.jsx("td",{className:"text-right text-cyan-400",children:"89.70 €"}),s.jsx("td",{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Livrée"})})]}),s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-4",children:"26/03/2025"}),s.jsx("td",{children:"Sophie Martin"}),s.jsx("td",{children:"Huîtres Fines N°3 (4 dz)"}),s.jsx("td",{className:"text-right text-cyan-400",children:"95.60 €"}),s.jsx("td",{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"En cours"})})]})]})]})]}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Vente"}),s.jsx("button",{onClick:()=>t(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:s.jsx(zt,{size:24})})]}),s.jsx(V$e,{onSubmit:a,onCancel:()=>t(!1)})]})})]})}const aM=aE,X$e=iE,iM=P5,VU=k.forwardRef(({className:e,...t},r)=>s.jsx(Rg,{ref:r,className:Za("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));VU.displayName=Rg.displayName;const uS=k.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(X$e,{children:[s.jsx(VU,{}),s.jsx(Lg,{ref:n,className:Za("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:t})]}));uS.displayName=Lg.displayName;const dS=({className:e,...t})=>s.jsx("div",{className:Za("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dS.displayName="DialogHeader";const fS=k.forwardRef(({className:e,...t},r)=>s.jsx(Bg,{ref:r,className:Za("text-lg font-semibold leading-none tracking-tight",e),...t}));fS.displayName=Bg.displayName;const K$e=k.forwardRef(({className:e,...t},r)=>s.jsx($g,{ref:r,className:Za("text-sm text-muted-foreground",e),...t}));K$e.displayName=$g.displayName;const Q$e=[{id:"1",content:"Produits reçus en excellent état.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Évaluation du lot reçu",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:30:00",type:"rating",rating:{overall:4.5,details:{quality:5,delivery:4,communication:4.5}}}];function J$e({orderId:e}){const[t,r]=k.useState(""),[n,a]=k.useState(Q$e),[i,o]=k.useState(!1),[l,c]=k.useState({overall:0,quality:0,delivery:0,communication:0}),u=f=>{if(f.preventDefault(),!t.trim())return;const h={id:Date.now().toString(),content:t,author:{name:"Utilisateur",avatar:"https://i.pravatar.cc/40?img=3"},timestamp:new Date().toISOString(),type:"comment"};a([...n,h]),r("")},d=()=>{const f={id:Date.now().toString(),content:"Note ajoutée",author:{name:"Utilisateur",avatar:"https://i.pravatar.cc/40?img=3"},timestamp:new Date().toISOString(),type:"rating",rating:{overall:l.overall,details:{quality:l.quality,delivery:l.delivery,communication:l.communication}}};a([...n,f]),o(!1)};return s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Commentaires"}),s.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 transition-colors","aria-label":"Ajouter une note",children:[s.jsx(co,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Noter"})]})]}),i&&s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mb-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60 block mb-2",children:"Note globale"}),s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(f=>s.jsx("button",{onClick:()=>c({...l,overall:f}),className:`text-xl ${f<=l.overall?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de ${f} étoiles`,children:"★"},f))})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Qualité"}),s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>s.jsx("button",{onClick:()=>c({...l,quality:f}),className:`text-sm ${f<=l.quality?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de qualité: ${f} étoiles`,children:"★"},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Livraison"}),s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>s.jsx("button",{onClick:()=>c({...l,delivery:f}),className:`text-sm ${f<=l.delivery?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de livraison: ${f} étoiles`,children:"★"},f))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Communication"}),s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>s.jsx("button",{onClick:()=>c({...l,communication:f}),className:`text-sm ${f<=l.communication?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de communication: ${f} étoiles`,children:"★"},f))})]})]}),s.jsx("button",{onClick:d,className:"w-full px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors text-sm",disabled:l.overall===0,children:"Enregistrer la note"})]}),s.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:n.map(f=>s.jsx("div",{className:"bg-white/5 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:f.author.avatar?s.jsx("img",{src:f.author.avatar,alt:f.author.name,className:"w-8 h-8 rounded-full"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:s.jsx(pf,{className:"w-5 h-5 text-white/60"})})}),s.jsxs("div",{className:"flex-grow min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-white text-sm",children:f.author.name}),s.jsx("span",{className:"text-xs text-white/60",children:Kt(new Date(f.timestamp),"d MMM yyyy 'à' HH:mm",{locale:Zr})})]}),f.type==="rating"&&f.rating&&s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(h=>s.jsx("span",{className:`text-sm ${h<=f.rating.overall?"text-yellow-400":"text-gray-400"}`,children:"★"},h))}),f.rating.details&&s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1 text-xs text-white/60",children:[s.jsxs("div",{children:["Qualité: ",f.rating.details.quality,"/5"]}),s.jsxs("div",{children:["Livraison: ",f.rating.details.delivery,"/5"]}),s.jsxs("div",{children:["Communication: ",f.rating.details.communication,"/5"]})]})]}),s.jsx("p",{className:"text-white/90 text-sm break-words",children:f.content}),f.attachments&&f.attachments.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:f.attachments.map((h,p)=>s.jsxs("div",{className:"flex items-center gap-1 bg-white/10 rounded px-2 py-0.5 text-xs",children:[s.jsx($M,{className:"w-3 h-3"}),s.jsx("span",{children:h.name})]},p))})]})]})},f.id))}),s.jsxs("form",{onSubmit:u,className:"mt-4 flex gap-2",children:[s.jsx("div",{className:"flex-grow",children:s.jsx("input",{type:"text",value:t,onChange:f=>r(f.target.value),placeholder:"Ajouter un commentaire...",className:"w-full px-3 py-1.5 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-1 focus:ring-cyan-500/40 text-white text-sm placeholder-white/40","aria-label":"Nouveau commentaire"})}),s.jsxs("button",{type:"submit",disabled:!t.trim(),className:"flex items-center gap-1 px-3 py-1.5 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm","aria-label":"Envoyer le commentaire",children:[s.jsx(fw,{className:"w-4 h-4"}),s.jsx("span",{children:"Envoyer"})]})]})]})}function Z$e({order:e,onClose:t}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-end z-50",children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 h-full w-[600px] border-l border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:e.product}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-full transition-colors","aria-label":"Fermer les détails",children:s.jsx(zt,{className:"w-6 h-6 text-white/60"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Fournisseur"}),s.jsx("p",{className:"text-white",children:e.supplier})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Statut"}),s.jsx("p",{className:"text-white",children:e.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Quantité"}),s.jsxs("p",{className:"text-white",children:[e.quantity," kg"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Prix"}),s.jsxs("p",{className:"text-white",children:[e.price," €"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Emplacement"}),s.jsx("p",{className:"text-white",children:e.stockLocation})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Dernière mise à jour"}),s.jsx("p",{className:"text-white",children:e.lastUpdate})]})]}),e.rating>0&&s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("label",{className:"text-sm text-white/60 block mb-2",children:"Évaluation"}),s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(r=>s.jsx("span",{className:`text-xl ${r<=e.rating?"text-yellow-400":"text-gray-400"}`,children:"★"},r))})]}),s.jsx("div",{className:"bg-white/5 rounded-lg",children:s.jsx(J$e,{orderId:e.id})})]})]})}):null}function eze(){var E,L,B,G,U,W,X,q,le;Is();const[e,t]=k.useState(""),[r,n]=k.useState(null),[a,i]=k.useState("date"),[o,l]=k.useState("asc"),[c,u]=k.useState(!1),[d,f]=k.useState(""),[h,p]=k.useState("");k.useState(0);const[m,x]=k.useState({}),[g,v]=k.useState(""),[b,y]=k.useState([{id:"1",product:"Huîtres spéciales n°2 Bouzigues",supplier:"Bassin de Thau SARL",deliveryDate:"15/03",price:1420,quantity:180,status:"pending",icon:Qn,stockLocation:"En attente",lastUpdate:"2024-03-15",rating:0},{id:"2",product:"Palourdes vénérirupis",supplier:"Conchyliculteurs Normands",deliveryDate:"14/03",price:850,quantity:65,status:"confirmed",icon:Qn,stockLocation:"En attente",lastUpdate:"2024-03-14",rating:0},{id:"3",product:"Coquilles Saint-Jacques Normandie",supplier:"Pêcherie Atlantique",deliveryDate:"12/03",price:1680,quantity:90,status:"dispatched",icon:Qn,stockLocation:"En transit",lastUpdate:"2024-03-12",rating:0},{id:"4",product:"Coques fraîches Baie de Somme",supplier:"Marée du Nord",deliveryDate:"11/03",price:720,quantity:40,status:"in_transit",icon:Qn,stockLocation:"En transit",lastUpdate:"2024-03-11",rating:0},{id:"5",product:"Huîtres creuses Marennes-Oléron",supplier:"Maison Gillardeau",deliveryDate:"10/03",price:1250,quantity:200,status:"pending",icon:Qn,stockLocation:"En attente",lastUpdate:"2024-03-10",rating:0},{id:"6",product:"Moules bouchot AOP Mont Saint-Michel",supplier:"Mytiliculteurs Bretons",deliveryDate:"08/03",price:680,quantity:150,status:"confirmed",icon:Qn,stockLocation:"En attente",lastUpdate:"2024-03-08",rating:0},{id:"7",product:"Crevettes grises de l'Atlantique",supplier:"Pêcheurs de la Manche",deliveryDate:"05/03",price:950,quantity:50,status:"dispatched",icon:Qn,stockLocation:"En transit",lastUpdate:"2024-03-05",rating:0},{id:"8",product:"Crabes dormeurs de Bretagne",supplier:"Criée de Roscoff",deliveryDate:"03/03",price:1100,quantity:60,status:"in_transit",icon:Qn,stockLocation:"En transit",lastUpdate:"2024-03-03",rating:0},{id:"9",product:"Moules de Méditerranée",supplier:"CDB",deliveryDate:"28/02",price:450,quantity:100,status:"pending",icon:Qn,stockLocation:"Bassin A3",lastUpdate:"2024-02-28",rating:0},{id:"10",product:"Huîtres Spéciales",supplier:"Cancale Huîtres",deliveryDate:"27/02",price:780,quantity:150,status:"confirmed",icon:Qn,stockLocation:"Bassin B1",lastUpdate:"2024-02-27",rating:0},{id:"11",product:"Bar de ligne",supplier:"Pêcheurs Bretons",deliveryDate:"26/02",price:890,quantity:45,status:"delivered",icon:IM,stockLocation:"Trempage T2",lastUpdate:"2024-02-26",rating:0},{id:"12",product:"Huîtres plates Belon",supplier:"Ostréiculteurs du Morbihan",deliveryDate:"24/02",price:1350,quantity:80,status:"completed",icon:Qn,stockLocation:"Bassin C2",lastUpdate:"2024-02-24",rating:0},{id:"13",product:"Palourdes de Thau",supplier:"Étang de Thau",deliveryDate:"22/02",price:580,quantity:40,status:"completed",icon:Qn,stockLocation:"Zone D3",lastUpdate:"2024-02-22",rating:0}]),w=se=>{switch(se){case"pending":return{label:"En attente",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case"confirmed":return{label:"Confirmée",bgColor:"bg-blue-500/20",textColor:"text-blue-400",borderColor:"border-blue-500/30"};case"dispatched":return{label:"Expédiée",bgColor:"bg-indigo-500/20",textColor:"text-indigo-400",borderColor:"border-indigo-500/30"};case"in_transit":return{label:"En transit",bgColor:"bg-purple-500/20",textColor:"text-purple-400",borderColor:"border-purple-500/30"};case"delivered":return{label:"Livrée",bgColor:"bg-green-500/20",textColor:"text-green-400",borderColor:"border-green-500/30"};case"completed":return{label:"Traitée",bgColor:"bg-teal-500/20",textColor:"text-teal-400",borderColor:"border-teal-500/30"};default:return{label:"Inconnue",bgColor:"bg-gray-500/20",textColor:"text-gray-400",borderColor:"border-gray-500/30"}}},N=se=>{se.preventDefault(),console.log("Nouveau achat:")},S=se=>`${se} kg`,j=[{value:"status",label:"Statut",icon:s.jsx(Oa,{className:"w-4 h-4"})},{value:"date",label:"Date",icon:s.jsx(ta,{className:"w-4 h-4"})},{value:"price",label:"Prix",icon:s.jsx(IN,{className:"w-4 h-4"})},{value:"quantity",label:"Quantité",icon:s.jsx(Qn,{className:"w-4 h-4"})}],A=se=>[...se].sort((I,P)=>{let M=0;switch(a){case"status":const z={pending:1,processing:2,shipped:3,delivered:4,cancelled:5};M=(z[I.status]||999)-(z[P.status]||999);break;case"date":const Y=new Date(I.deliveryDate).getTime(),ae=new Date(P.deliveryDate).getTime();M=Y-ae;break;case"price":const ue=I.price,ne=P.price;M=ue-ne;break;case"quantity":const _e=I.quantity,Ce=P.quantity;M=_e-Ce;break}return o==="asc"?M:-M}),T=()=>{const se=new Date,I=se.getMonth(),P=se.getFullYear(),M=b.filter(ue=>{const ne=new Date(ue.deliveryDate);return ne.getMonth()===I&&ne.getFullYear()===P}),z=M.reduce((ue,ne)=>ue+ne.price,0),Y=M.reduce((ue,ne)=>ue+ne.quantity,0),ae=b.length>0?b.reduce((ue,ne)=>ue+ne.price,0)/b.length:0;return{pending:b.filter(ue=>ue.status==="pending").length,processing:b.filter(ue=>ue.status==="processing").length,delivered:b.filter(ue=>ue.status==="delivered").length,totalMonth:z.toFixed(2),totalQuantityMonth:Y.toFixed(2),averageOrderValue:ae.toFixed(2),dailyAverage:(Y/se.getDate()).toFixed(1)}},R=A(b),O=se=>{a===se?l(o==="asc"?"desc":"asc"):(i(se),l("asc"))};return T(),s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(_g,{title:"Achats",icon:s.jsx(PS,{className:"w-6 h-6"}),className:"mb-6"}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 p-6",children:s.jsxs("div",{className:"lg:col-span-12 space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:s.jsxs("div",{className:"flex-1 min-w-[280px] relative",children:[s.jsx(tr,{type:"text",placeholder:"Rechercher une commande...",value:e,onChange:se=>t(se.target.value),className:"w-full pl-10 bg-gray-800/50 border-gray-700 text-white placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:s.jsx(Xa,{className:"w-4 h-4 text-white/40","aria-hidden":"true"})})]})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(se=>s.jsxs(xn,{variant:"outline",size:"sm",onClick:()=>O(se.value),className:Za("flex items-center gap-2 min-w-[44px] min-h-[44px]",a===se.value&&"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"),children:[se.icon,s.jsx("span",{children:se.label}),a===se.value&&s.jsx(ES,{className:Za("w-4 h-4 transition-transform",o==="desc"&&"transform rotate-180")})]},se.value))}),s.jsx("div",{className:"space-y-4",children:R.map(se=>{var I;return s.jsx(sb,{className:"border border-white/10 rounded-lg overflow-hidden transform transition-all duration-200 hover:scale-[1.02] cursor-pointer",style:{background:"rgba(15,23,42,0.3)",backdropFilter:"blur(10px)",boxShadow:"rgba(0,0,0,0.2) 0px 10px 20px -5px, rgba(0,150,255,0.1) 0px 8px 16px -8px, rgba(255,255,255,0.07) 0px -1px 2px 0px inset, rgba(0,65,255,0.05) 0px 0px 8px inset, rgba(0,0,0,0.05) 0px 0px 1px inset"},children:s.jsx("div",{className:"p-4 flex justify-between",children:s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-lg font-semibold text-white truncate",children:se.product}),s.jsx(Jj,{variant:"default",className:`${w(se.status).bgColor} ${w(se.status).textColor} ${w(se.status).borderColor}`,children:w(se.status).label})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{children:se.supplier})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{children:se.deliveryDate})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{children:S(se.quantity)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(IN,{className:"w-4 h-4 text-cyan-400"}),s.jsxs("span",{children:[se.price," €"]})]})]}),se.status==="completed"&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(P=>s.jsx("button",{onClick:()=>{const M=b.map(z=>z.id===se.id?{...z,rating:P}:z);y(M)},className:"focus:outline-none",children:s.jsx(co,{className:`w-5 h-5 ${P<=se.rating?"text-yellow-400 fill-yellow-400":"text-gray-400"}`})},P))})}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-sm text-white/60",children:"Commentaires"})]}),(I=m[se.id])==null?void 0:I.map((P,M)=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-cyan-400",children:P.author}),s.jsx("span",{className:"text-xs text-gray-400",children:P.date})]}),s.jsx("p",{className:"text-sm text-white/80",children:P.text})]},M)),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(tr,{value:g,onChange:P=>v(P.target.value),placeholder:"Ajouter un commentaire...",className:"flex-1 bg-white/5 border-white/10"}),s.jsx(xn,{onClick:()=>{if(g.trim()){const P={text:g,date:new Date().toLocaleString(),author:"Vous"};x(M=>({...M,[se.id]:[...M[se.id]||[],P]})),v("")}},className:"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:"Envoyer"})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("span",{className:"text-xl font-bold text-white",children:[se.price,"€"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[se.status==="delivered"&&s.jsx(xn,{variant:"ghost",size:"sm",className:"p-2",onClick:P=>{P.stopPropagation()},children:s.jsx(qc,{className:"w-4 h-4"})}),s.jsx(xn,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>n(se.id),"aria-label":"Voir les détails",children:s.jsx(Fo,{className:"w-5 h-5 text-gray-400"})})]})]})]})})})},se.id)})})]})}),s.jsx(aM,{open:!1,onOpenChange:se=>{},children:s.jsxs(uS,{className:"bg-[rgba(15,23,42,0.3)] backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] max-w-2xl",children:[s.jsx(dS,{children:s.jsx(fS,{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Nouvelle commande"})}),s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"supplier",className:"text-sm text-white/60 mb-1 block",children:"Fournisseur"}),s.jsx(tr,{id:"supplier",name:"supplier",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Nom du fournisseur"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"product",className:"text-sm text-white/60 mb-1 block",children:"Produit"}),s.jsx(tr,{id:"product",name:"product",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Nom du produit"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"text-sm text-white/60 mb-1 block",children:"Quantité (kg)"}),s.jsx(tr,{id:"quantity",name:"quantity",type:"number",min:"1",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Quantité en kg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"text-sm text-white/60 mb-1 block",children:"Prix (€)"}),s.jsx(tr,{id:"price",name:"price",type:"number",min:"0",step:"0.01",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Prix en euros"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"deliveryDate",className:"text-sm text-white/60 mb-1 block",children:"Date de livraison"}),s.jsx(tr,{id:"deliveryDate",name:"deliveryDate",type:"date",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",min:new Date().toISOString().split("T")[0]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(iM,{asChild:!0,children:s.jsx(xn,{type:"button",variant:"outline",className:"border-cyan-500/20 text-cyan-400 hover:bg-cyan-500/10",children:"Annuler"})}),s.jsx(xn,{type:"submit",className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600",children:"Créer la commande"})]})]})]})}),s.jsx(aM,{open:!!r,onOpenChange:se=>{se||(n(null),u(!1),f(""),p(""))},children:s.jsx(uS,{className:"bg-[rgba(15,23,42,0.98)] border-white/10 text-white",children:r&&s.jsxs(s.Fragment,{children:[s.jsxs(dS,{children:[s.jsx(fS,{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Détails de la commande"}),s.jsx(iM,{asChild:!0,children:s.jsx(xn,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white absolute right-4 top-4",onClick:()=>{n(null),u(!1),f(""),p("")},children:s.jsx(zt,{className:"w-5 h-5"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg font-semibold text-white",children:(E=b.find(se=>se.id===r))==null?void 0:E.product}),s.jsx(Jj,{variant:"default",className:`${w(((L=b.find(se=>se.id===r))==null?void 0:L.status)||"").bgColor} ${w(((B=b.find(se=>se.id===r))==null?void 0:B.status)||"").textColor} ${w(((G=b.find(se=>se.id===r))==null?void 0:G.status)||"").borderColor}`,children:w(((U=b.find(se=>se.id===r))==null?void 0:U.status)||"").label})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Fournisseur"}),s.jsx("p",{className:"text-white",children:(W=b.find(se=>se.id===r))==null?void 0:W.supplier})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Date de livraison"}),s.jsx("p",{className:"text-white",children:(X=b.find(se=>se.id===r))==null?void 0:X.deliveryDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Quantité"}),s.jsx("p",{className:"text-white",children:S(((q=b.find(se=>se.id===r))==null?void 0:q.quantity)||0)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-white/60",children:"Prix"}),s.jsxs("p",{className:"text-white",children:[(le=b.find(se=>se.id===r))==null?void 0:le.price," €"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsxs(xn,{variant:"outline",onClick:()=>{u(!0);const se=b.find(I=>I.id===r);se&&(f(se.deliveryDate),p(se.quantity.toString()))},className:"flex items-center gap-2",children:[s.jsx(gr,{className:"w-4 h-4"}),"Recommander"]}),s.jsx(xn,{variant:"ghost",onClick:()=>{n(null),u(!1),f(""),p("")},children:"Fermer"})]})]})]})})}),r&&s.jsx(Z$e,{order:b.find(se=>se.id===r),onClose:()=>n(null)})]})}function tze(){var a;const[e,t]=k.useState(!1),{session:r}=Yo(),n=i=>{i.preventDefault(),t(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-32 h-32 rounded-full bg-brand-burgundy/20 flex items-center justify-center overflow-hidden",children:(a=r==null?void 0:r.user)!=null&&a.avatar_url?s.jsx("img",{src:r.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx(e1,{size:64,className:"text-brand-burgundy"})}),s.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity rounded-full",children:[s.jsx(Ho,{size:24}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Nikko DURAND"}),s.jsx("p",{className:"text-white/60",children:"Responsable Production"}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center text-white/60",children:[s.jsx(uo,{size:16,className:"mr-2"}),"nikkodurand@gmail.com"]}),s.jsxs("div",{className:"flex items-center text-white/60",children:[s.jsx(vs,{size:16,className:"mr-2"}),"06 51 94 48 44"]})]})]}),s.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:e?"Annuler":"Modifier"})]}),e?s.jsxs("form",{onSubmit:n,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),s.jsx("input",{type:"text",defaultValue:"Nikko",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),s.jsx("input",{type:"text",defaultValue:"DURAND",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),s.jsx("input",{type:"email",defaultValue:"nikkodurand@gmail.com",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),s.jsx("input",{type:"tel",defaultValue:"06 51 94 48 44",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),s.jsx("textarea",{rows:3,defaultValue:"126 chemin du mas d'argent, 34140 Bouzigues",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]}):s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations complémentaires"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Adresse"}),s.jsx("div",{className:"text-white mt-1",children:"126 chemin du mas d'argent, 34140 Bouzigues"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white/60",children:"Numéro de sécurité sociale"}),s.jsx("div",{className:"text-white mt-1",children:"1 85 12 17 123 456 78"})]})]})]})]})}function rze(){const[e,t]=k.useState(!1),[r,n]=k.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Mot de passe"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Dernière modification il y a 3 mois"})]}),s.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Modifier"})]}),e&&s.jsxs("form",{className:"mt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe actuel"}),s.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nouveau mot de passe"}),s.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmer le nouveau mot de passe"}),s.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Mettre à jour"})]})]})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Double authentification"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Sécurisez votre compte avec la 2FA"})]}),s.jsx("button",{onClick:()=>n(!r),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Configurer"})]}),r&&s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(UM,{size:20,className:"text-white/60 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Application d'authentification"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une application comme Google Authenticator pour générer des codes"})]})]})}),s.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(LV,{size:20,className:"text-white/60 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Clé de sécurité"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une clé de sécurité physique (YubiKey, etc.)"})]})]})})]})]}),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sessions actives"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Chrome - Windows"}),s.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 2 minutes"}),s.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.1"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:"Session actuelle"})})]})}),s.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Safari - iPhone"}),s.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 1 heure"}),s.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.2"})]}),s.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Déconnecter"})]})})]})]}),s.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-4",children:"Zone dangereuse"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Supprimer le compte"}),s.jsx("div",{className:"text-white/60 mt-1",children:"Cette action est irréversible et supprimera toutes vos données"})]}),s.jsx("button",{className:"px-4 py-2 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:"Supprimer mon compte"})]})]})]})}const nze=[{id:"1",type:"login",action:"Connexion",timestamp:"2025-02-19T10:30:00",location:"La Rochelle, France",device:"Chrome - Windows"},{id:"2",type:"settings",action:"Modification du profil",timestamp:"2025-02-19T09:15:00",details:"Mise à jour des informations personnelles"},{id:"3",type:"document",action:"Téléchargement rapport",timestamp:"2025-02-19T08:45:00",details:"Rapport de production - Janvier 2025"},{id:"4",type:"notification",action:"Paramètres de notification",timestamp:"2025-02-19T08:30:00",details:"Activation des notifications mobiles"}],aze={login:BV,settings:hw,document:ao,notification:Vp};function ize(){return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique d'activité"})}),s.jsx("div",{className:"divide-y divide-white/10",children:nze.map(e=>{const t=aze[e.type];return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:s.jsx(t,{size:20,className:"text-brand-burgundy"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("h4",{className:"text-lg font-medium text-white",children:e.action})}),e.details&&s.jsx("p",{className:"text-white/70 mt-1",children:e.details}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qa,{size:16,className:"mr-1"}),Kt(new Date(e.timestamp),"PPp",{locale:Zr})]}),e.location&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"•"}),s.jsx("div",{children:e.location})]}),e.device&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"•"}),s.jsx("div",{children:e.device})]})]})]})]})},e.id)})})]})})}function sze(){const[e,t]=k.useState([]),[r,n]=k.useState("csv"),[a,i]=k.useState({start:"",end:""}),o=()=>{console.log("Exporting data:",{selectedData:e,format:r,dateRange:a})};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Export des données"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sélectionner les données"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.includes("tasks"),onChange:l=>{l.target.checked?t([...e,"tasks"]):t(e.filter(c=>c!=="tasks"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Tâches"}),s.jsx("div",{className:"text-sm text-white/60",children:"Historique des tâches"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.includes("inventory"),onChange:l=>{l.target.checked?t([...e,"inventory"]):t(e.filter(c=>c!=="inventory"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Inventaire"}),s.jsx("div",{className:"text-sm text-white/60",children:"Données de stock"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.includes("time"),onChange:l=>{l.target.checked?t([...e,"time"]):t(e.filter(c=>c!=="time"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Temps de travail"}),s.jsx("div",{className:"text-sm text-white/60",children:"Suivi du temps"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.includes("activity"),onChange:l=>{l.target.checked?t([...e,"activity"]):t(e.filter(c=>c!=="activity"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Activité"}),s.jsx("div",{className:"text-sm text-white/60",children:"Historique d'activité"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Format d'export"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"radio",name:"format",value:"csv",checked:r==="csv",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),s.jsx("div",{className:"text-white font-medium",children:"CSV"})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"radio",name:"format",value:"json",checked:r==="json",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),s.jsx("div",{className:"text-white font-medium",children:"JSON"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Période"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),s.jsx("input",{type:"date",value:a.start,onChange:l=>i({...a,start:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),s.jsx("input",{type:"date",value:a.end,onChange:l=>i({...a,end:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),s.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ka,{size:20,className:"text-yellow-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-yellow-400 font-medium",children:"Note importante"}),s.jsx("p",{className:"text-yellow-400/80 mt-1",children:"L'export peut contenir des données sensibles. Assurez-vous de les stocker de manière sécurisée."})]})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:o,disabled:e.length===0,className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Wo,{size:20,className:"mr-2"}),"Exporter les données"]})})]})]})})}function oze(){var n;const{session:e}=Yo(),t=lze((n=e==null?void 0:e.user)==null?void 0:n.id),r=()=>{navigator.clipboard.writeText(t)};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Mon Code Ami"}),s.jsx("p",{className:"text-white/60 mt-1",children:"Partagez ce code pour vous connecter avec d'autres professionnels"})]}),s.jsx("div",{className:"w-12 h-12 bg-brand-burgundy/20 rounded-lg flex items-center justify-center",children:s.jsx(xs,{size:24,className:"text-brand-burgundy"})})]}),s.jsx("div",{className:"mt-8 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-xl"}),s.jsx(je.div,{className:"relative bg-gradient-to-br from-brand-dark to-brand-purple p-8 rounded-xl border border-white/10",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider text-center text-white",children:t})})]})}),s.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[s.jsxs(je.button,{onClick:r,className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx($V,{size:20,className:"mr-2"}),"Copier le code"]}),s.jsxs(je.button,{className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(og,{size:20,className:"mr-2"}),"Afficher le QR Code"]})]}),s.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment ça marche ?"}),s.jsxs("ol",{className:"space-y-2 text-white/60",children:[s.jsx("li",{children:"1. Partagez votre code ami avec un autre professionnel"}),s.jsx("li",{children:'2. Utilisez son code dans la section "Entre Pro" pour vous connecter'}),s.jsx("li",{children:"3. Une fois connectés, vous pourrez échanger et collaborer facilement"})]})]})]})})}function lze(e){var n;return e&&((n=(Array.from(e).reduce((a,i)=>(a<<5)-a+i.charCodeAt(0),0).toString(36).toUpperCase()+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").slice(0,12).match(/.{1,4}/g))==null?void 0:n.join("-"))||"XXXX-XXXX-XXXX"}function sM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qU(...e){return t=>{let r=!1;const n=e.map(a=>{const i=sM(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():sM(e[a],null)}}}}function kf(...e){return k.useCallback(qU(...e),e)}function cze(e){const t=uze(e),r=k.forwardRef((n,a)=>{const{children:i,...o}=n,l=k.Children.toArray(i),c=l.find(fze);if(c){const u=c.props.children,d=l.map(f=>f===c?k.Children.count(u)>1?k.Children.only(null):k.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:k.isValidElement(u)?k.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function uze(e){const t=k.forwardRef((r,n)=>{const{children:a,...i}=r;if(k.isValidElement(a)){const o=pze(a),l=hze(i,a.props);return a.type!==k.Fragment&&(l.ref=n?qU(n,o):o),k.cloneElement(a,l)}return k.Children.count(a)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dze=Symbol("radix.slottable");function fze(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dze}function hze(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function pze(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hg=mze.reduce((e,t)=>{const r=cze(`Primitive.${t}`),n=k.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),hS=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{};function xze(e,t){return k.useReducer((r,n)=>t[r][n]??r,e)}var Wg=e=>{const{present:t,children:r}=e,n=gze(t),a=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),i=kf(n.ref,vze(a));return typeof r=="function"||n.isPresent?k.cloneElement(a,{ref:i}):null};Wg.displayName="Presence";function gze(e){const[t,r]=k.useState(),n=k.useRef(null),a=k.useRef(e),i=k.useRef("none"),o=e?"mounted":"unmounted",[l,c]=xze(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const u=z2(n.current);i.current=l==="mounted"?u:"none"},[l]),hS(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=z2(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),hS(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=z2(n.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=z2(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function z2(e){return(e==null?void 0:e.animationName)||"none"}function vze(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bze(e,t=[]){let r=[];function n(i,o){const l=k.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...m}=f,x=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=k.useMemo(()=>m,Object.values(m));return s.jsx(x.Provider,{value:g,children:p})};u.displayName=i+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,m=k.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>k.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return k.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,yze(a,...t)]}function yze(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function h0(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var wze=k.createContext(void 0);function _ze(e){const t=k.useContext(wze);return e||t||"ltr"}function Nze(e,[t,r]){return Math.min(r,Math.max(t,e))}function H0(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jze(e,t){return k.useReducer((r,n)=>t[r][n]??r,e)}var gE="ScrollArea",[GU,JWe]=bze(gE),[Sze,Jo]=GU(gE),YU=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=k.useState(null),[u,d]=k.useState(null),[f,h]=k.useState(null),[p,m]=k.useState(null),[x,g]=k.useState(null),[v,b]=k.useState(0),[y,w]=k.useState(0),[N,S]=k.useState(!1),[j,A]=k.useState(!1),T=kf(t,O=>c(O)),R=_ze(a);return s.jsx(Sze,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:x,onScrollbarYChange:g,scrollbarYEnabled:j,onScrollbarYEnabledChange:A,onCornerWidthChange:b,onCornerHeightChange:w,children:s.jsx(Hg.div,{dir:R,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});YU.displayName=gE;var XU="ScrollAreaViewport",KU=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Jo(XU,r),l=k.useRef(null),c=kf(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Hg.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});KU.displayName=XU;var _c="ScrollAreaScrollbar",vE=k.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Jo(_c,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return k.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Aze,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Cze,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(QU,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(bE,{...n,ref:t}):null});vE.displayName=_c;var Aze=k.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Jo(_c,e.__scopeScrollArea),[i,o]=k.useState(!1);return k.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Wg,{present:r||i,children:s.jsx(QU,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Cze=k.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Jo(_c,e.__scopeScrollArea),i=e.orientation==="horizontal",o=L5(()=>c("SCROLL_END"),100),[l,c]=jze("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return k.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),k.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Wg,{present:r||l!=="hidden",children:s.jsx(bE,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:H0(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:H0(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),QU=k.forwardRef((e,t)=>{const r=Jo(_c,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=k.useState(!1),l=e.orientation==="horizontal",c=L5(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return zp(r.viewport,c),zp(r.content,c),s.jsx(Wg,{present:n||i,children:s.jsx(bE,{"data-state":i?"visible":"hidden",...a,ref:t})})}),bE=k.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Jo(_c,e.__scopeScrollArea),i=k.useRef(null),o=k.useRef(0),[l,c]=k.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rH(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Dze(h,o.current,l,p)}return r==="horizontal"?s.jsx(Eze,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=oM(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(kze,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=oM(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Eze=k.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Jo(_c,e.__scopeScrollArea),[o,l]=k.useState(),c=k.useRef(null),u=kf(t,c,i.onScrollbarXChange);return k.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ZU,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":R5(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),aH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:lw(o.paddingLeft),paddingEnd:lw(o.paddingRight)}})}})}),kze=k.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Jo(_c,e.__scopeScrollArea),[o,l]=k.useState(),c=k.useRef(null),u=kf(t,c,i.onScrollbarYChange);return k.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ZU,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":R5(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),aH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:lw(o.paddingTop),paddingEnd:lw(o.paddingBottom)}})}})}),[Tze,JU]=GU(_c),ZU=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Jo(_c,r),[m,x]=k.useState(null),g=kf(t,T=>x(T)),v=k.useRef(null),b=k.useRef(""),y=p.viewport,w=n.content-n.viewport,N=h0(d),S=h0(c),j=L5(f,10);function A(T){if(v.current){const R=T.clientX-v.current.left,O=T.clientY-v.current.top;u({x:R,y:O})}}return k.useEffect(()=>{const T=R=>{const O=R.target;(m==null?void 0:m.contains(O))&&N(R,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[y,m,w,N]),k.useEffect(S,[n,S]),zp(m,j),zp(p.content,j),s.jsx(Tze,{scope:r,scrollbar:m,hasThumb:a,onThumbChange:h0(i),onThumbPointerUp:h0(o),onThumbPositionChange:S,onThumbPointerDown:h0(l),children:s.jsx(Hg.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:H0(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(T))}),onPointerMove:H0(e.onPointerMove,A),onPointerUp:H0(e.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),ow="ScrollAreaThumb",eH=k.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=JU(ow,e.__scopeScrollArea);return s.jsx(Wg,{present:r||a.hasThumb,children:s.jsx(Oze,{ref:t,...n})})}),Oze=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Jo(ow,r),o=JU(ow,r),{onThumbPositionChange:l}=o,c=kf(t,f=>o.onThumbChange(f)),u=k.useRef(void 0),d=L5(()=>{u.current&&(u.current(),u.current=void 0)},100);return k.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Ize(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Hg.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:H0(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,x=f.clientY-p.top;o.onThumbPointerDown({x:m,y:x})}),onPointerUp:H0(e.onPointerUp,o.onThumbPointerUp)})});eH.displayName=ow;var yE="ScrollAreaCorner",tH=k.forwardRef((e,t)=>{const r=Jo(yE,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Pze,{...e,ref:t}):null});tH.displayName=yE;var Pze=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Jo(yE,r),[i,o]=k.useState(0),[l,c]=k.useState(0),u=!!(i&&l);return zp(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),zp(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Hg.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function lw(e){return e?parseInt(e,10):0}function rH(e,t){const r=e/t;return isNaN(r)?0:r}function R5(e){const t=rH(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Dze(e,t,r,n="ltr"){const a=R5(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return nH([c,u],f)(e)}function oM(e,t,r="ltr"){const n=R5(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Nze(e,c);return nH([0,o],[0,l])(u)}function nH(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function aH(e,t){return e>0&&e<t}var Ize=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function L5(e,t){const r=h0(e),n=k.useRef(0);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),k.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function zp(e,t){const r=h0(t);hS(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var iH=YU,Mze=KU,Fze=tH;const sH=k.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(iH,{ref:n,className:Za("relative overflow-hidden",e),...r,children:[s.jsx(Mze,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(oH,{}),s.jsx(Fze,{})]}));sH.displayName=iH.displayName;const oH=k.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(vE,{ref:n,orientation:t,className:Za("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(eH,{className:"relative flex-1 rounded-full bg-white/10"})}));oH.displayName=vE.displayName;function Rze(){const e=[{id:1,date:"2025-05-31T14:30:00",type:"Modification",description:"Mise à jour du calibre de la table #12"},{id:2,date:"2025-05-31T13:15:00",type:"Déplacement",description:"Transfert du lot #532 vers la table de trempe"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Journal d'actions"})}),s.jsx(sH,{className:"h-[500px] rounded-md border border-white/10 bg-gray-900/50",children:s.jsx("div",{className:"p-4 space-y-4",children:e.map(t=>s.jsxs("div",{className:"p-4 rounded-lg bg-gray-800/50 border border-white/5 hover:border-white/10 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:new Date(t.date).toLocaleString("fr-FR",{dateStyle:"long",timeStyle:"short"})}),s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-500/10 text-blue-400",children:t.type})]}),s.jsx("p",{className:"text-white",children:t.description})]},t.id))})})]})}function Lze(){const[e,t]=k.useState("info");return s.jsxs(je.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsx(_g,{icon:s.jsx(e1,{size:28,className:"text-white"}),title:"Mon Espace"}),s.jsx("div",{className:"flex items-center justify-between"}),s.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[s.jsx("button",{onClick:()=>t("config"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="config"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(hw,{size:16,className:"mr-2"}),"Configuration"]})}),s.jsx("button",{onClick:()=>t("info"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="info"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(e1,{size:16,className:"mr-2"}),"Informations"]})}),s.jsx("button",{onClick:()=>t("action-log"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="action-log"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ao,{size:16,className:"mr-2"}),"Journal d'actions"]})}),s.jsx("button",{onClick:()=>t("friend-code"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="friend-code"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(xs,{size:16,className:"mr-2"}),"Code ami"]})}),s.jsx("button",{onClick:()=>t("security"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="security"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(X2,{size:16,className:"mr-2"}),"Sécurité"]})}),s.jsx("button",{onClick:()=>t("activity"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="activity"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(su,{size:16,className:"mr-2"}),"Activité"]})}),s.jsx("button",{onClick:()=>t("export"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="export"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wo,{size:16,className:"mr-2"}),"Export"]})})]}),e==="info"&&s.jsx(tze,{}),e==="action-log"&&s.jsx(Rze,{}),e==="friend-code"&&s.jsx(oze,{}),e==="security"&&s.jsx(rze,{}),e==="activity"&&s.jsx(ize,{}),e==="export"&&s.jsx(sze,{}),e==="config"&&s.jsx(jU,{})]})}const yh="oystercult_cart";function lH(){const[e,t]=k.useState([]),[r,n]=k.useState(!1);k.useEffect(()=>{const l=localStorage.getItem(yh);if(l)try{t(JSON.parse(l))}catch(c){console.error("Erreur lors du chargement du panier:",c),localStorage.removeItem(yh)}},[]);const a=k.useCallback((l,c)=>{const u=[...e],d=u.find(f=>f.productId===l);d?d.quantity=c:u.push({productId:l,quantity:c}),t(u),localStorage.setItem(yh,JSON.stringify(u))},[e]),i=k.useCallback(l=>{const c=e.filter(u=>u.productId!==l);t(c),c.length===0?localStorage.removeItem(yh):localStorage.setItem(yh,JSON.stringify(c))},[e]),o=k.useCallback(()=>{t([]),localStorage.removeItem(yh)},[]);return k.useCallback(()=>{n(!r)},[r]),{cartItems:e,addToCart:a,removeFromCart:i,clearCart:o,isCartModalOpen:r,setIsCartModalOpen:n}}function cH({isOpen:e,onClose:t,items:r,products:n,onRemoveItem:a,onClearCart:i}){if(!e)return null;console.log("CartModal - items:",r),console.log("CartModal - products:",n);const o=r.reduce((c,u)=>{const d=n.find(f=>f.id===u.productId);return console.log(`Item ${u.productId} - Found product:`,d),c+(d?d.price*u.quantity:0)},0),l=()=>{i(),t()};return s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",style:{minHeight:"100vh"},children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-xl w-full max-w-md mx-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[s.jsx("h2",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Panier"}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-[rgb(var(--color-brand-surface-hover))] rounded-lg transition-colors",children:s.jsx(zt,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"})})]}),s.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:r.length===0?s.jsx("p",{className:"text-center text-[rgb(var(--color-text-secondary))]",children:"Votre panier est vide"}):s.jsx("div",{className:"space-y-4",children:r.map(c=>{const u=n.find(d=>d.id===c.productId);return u?s.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-[rgb(var(--color-brand-surface-hover))] rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-[rgb(var(--color-text-primary))]",children:u.name}),s.jsxs("p",{className:"text-sm text-[rgb(var(--color-text-secondary))]",children:[c.quantity," ",u.unit," × ",u.price.toFixed(2),"€"]}),s.jsxs("p",{className:"text-sm font-medium text-[rgb(var(--color-brand-primary))]",children:["Total: ",(c.quantity*u.price).toFixed(2),"€"]})]}),s.jsx("button",{onClick:()=>a(c.productId),className:"p-2 hover:bg-[rgb(var(--color-brand-surface))] rounded-lg transition-colors",children:s.jsx(Ci,{className:"w-4 h-4 text-red-500"})})]},c.productId):null})})}),r.length>0&&s.jsxs("div",{className:"p-4 border-t border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Total"}),s.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[o.toFixed(2),"€"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Vider"}),s.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2 bg-[rgb(var(--color-brand-primary))] text-white rounded-lg hover:bg-[rgb(var(--color-brand-primary)_/_0.9)] transition-colors flex items-center justify-center gap-2",children:[s.jsx(PS,{className:"w-4 h-4"}),"Valider la commande"]})]})]})]})})}const _N=[{id:"1",name:"Capteur de courantologie",description:"Mesure précise des courants marins avec transmission en temps réel",price:899.99,category:"sensor",features:["Mesure bidirectionnelle","Précision ±0.1 m/s","Transmission sans fil","Batterie longue durée"],inStock:!0,specifications:{"Plage de mesure":"0-10 m/s",Autonomie:"12 mois","Profondeur max":"50m",Protection:"IP68"},image:"https://example.com/image1.jpg"},{id:"2",name:"Sonde pH connectée",description:"Surveillance continue du pH avec alertes automatiques",price:299.99,category:"sensor",features:["Calibration automatique","Alertes personnalisables","Interface intuitive","Installation facile"],inStock:!0,specifications:{"Plage pH":"0-14",Précision:"±0.01 pH","Temps de réponse":"<5s",Température:"0-50°C"},image:"https://example.com/image2.jpg"},{id:"3",name:"Bracelet d'urgence",description:"Bracelet connecté étanche avec bouton d'appel d'urgence",price:149.99,category:"device",features:["Étanche IP68","Batterie 7 jours","Géolocalisation","Bouton SOS"],inStock:!0,specifications:{Matériau:"Silicone médical",Connectivité:"Bluetooth 5.0",Autonomie:"7 jours",Résistance:"5 ATM"},image:"https://example.com/image3.jpg"}];function Bze(){const[e,t]=k.useState(""),[r,n]=k.useState("all"),[a,i]=k.useState(!1),{cartItems:o,addToCart:l,removeFromCart:c,clearCart:u,isCartModalOpen:d,setIsCartModalOpen:f}=lH();k.useEffect(()=>{const m=x=>{a&&i(!1)};return document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}},[a]);const h=["all",...new Set(_N.map(m=>m.category))],p=_N.filter(m=>{const x=r==="all"||m.category===r,g=m.name.toLowerCase().includes(e.toLowerCase())||m.description.toLowerCase().includes(e.toLowerCase());return x&&g});return s.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-bg))]",children:s.jsxs("main",{className:"max-w-[1400px] mx-auto px-6 pb-24",children:[s.jsxs(je.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsx(_g,{icon:s.jsx(AM,{size:28,className:"text-white"}),title:"Boutique"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:()=>f(!0),className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",children:[s.jsx(rp,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),o.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:o.length})]})})]}),s.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary))]","aria-label":"Search icon"}),s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:e,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none focus:border-[rgb(var(--color-brand-primary))] w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>i(!a),className:"w-full sm:w-48 px-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg flex items-center justify-between gap-2 bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[s.jsx("span",{className:"text-[rgb(var(--color-text-primary))]",children:r==="all"?"Toutes catégories":r}),s.jsx(ff,{className:"w-4 h-4 text-[rgb(var(--color-text-secondary))]"})]}),a&&s.jsx("div",{className:"absolute z-20 mt-1 w-full bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg shadow-lg",children:s.jsx("div",{className:"p-1",children:h.map(m=>s.jsx("button",{onClick:()=>{n(m),i(!1)},className:`w-full text-left px-3 py-2 rounded-md transition-colors ${r===m?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":"hover:bg-[rgb(var(--color-brand-surface-hover))] text-[rgb(var(--color-text-primary))]"}`,children:s.jsx("span",{className:"capitalize",children:m==="all"?"Toutes catégories":m})},m))})})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(m=>s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-all duration-200",children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-medium text-white break-words",children:m.name}),s.jsx("p",{className:"text-sm text-white/60 mt-1 line-clamp-3",children:m.description})]}),s.jsxs("div",{className:"text-xl font-bold text-white whitespace-nowrap",children:[m.price,"€"]})]}),s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:m.features.map((x,g)=>s.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:x},g))}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Spécifications"}),s.jsx("div",{className:"space-y-2",children:Object.entries(m.specifications).map(([x,g])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/60",children:x}),s.jsx("span",{className:"text-white",children:g})]},x))})]}),s.jsx("div",{className:"mt-6 flex items-center justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:"0",defaultValue:"0",className:"w-20 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20",onChange:x=>{parseInt(x.target.value,10)<0&&(x.target.value="0")}}),s.jsx("button",{onClick:x=>{const g=x.currentTarget.previousElementSibling,v=parseInt(g.value,10);v>0&&l(m.id,v)},className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter au panier"})]})})]})},m.id))}),s.jsx(cH,{isOpen:d,onClose:()=>f(!1),items:o,products:_N,onRemoveItem:c,onClearCart:()=>{u(),f(!1)}})]})})}var uH="AlertDialog",[$ze,ZWe]=Rz(uH,[tU]),_u=tU(),dH=e=>{const{__scopeAlertDialog:t,...r}=e,n=_u(t);return s.jsx(aE,{...n,...r,modal:!0})};dH.displayName=uH;var zze="AlertDialogTrigger",Uze=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_u(r);return s.jsx(gFe,{...a,...n,ref:t})});Uze.displayName=zze;var Hze="AlertDialogPortal",fH=e=>{const{__scopeAlertDialog:t,...r}=e,n=_u(t);return s.jsx(iE,{...n,...r})};fH.displayName=Hze;var Wze="AlertDialogOverlay",hH=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_u(r);return s.jsx(Rg,{...a,...n,ref:t})});hH.displayName=Wze;var ep="AlertDialogContent",[Vze,qze]=$ze(ep),pH=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=_u(r),o=k.useRef(null),l=yu(t,o),c=k.useRef(null);return s.jsx(hFe,{contentName:ep,titleName:mH,docsSlug:"alert-dialog",children:s.jsx(Vze,{scope:r,cancelRef:c,children:s.jsxs(Lg,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:iu(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Lz,{children:n}),s.jsx(Yze,{contentRef:o})]})})})});pH.displayName=ep;var mH="AlertDialogTitle",xH=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_u(r);return s.jsx(Bg,{...a,...n,ref:t})});xH.displayName=mH;var gH="AlertDialogDescription",vH=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_u(r);return s.jsx($g,{...a,...n,ref:t})});vH.displayName=gH;var Gze="AlertDialogAction",bH=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_u(r);return s.jsx(P5,{...a,...n,ref:t})});bH.displayName=Gze;var yH="AlertDialogCancel",wH=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=qze(yH,r),i=_u(r),o=yu(t,a);return s.jsx(P5,{...i,...n,ref:o})});wH.displayName=yH;var Yze=({contentRef:e})=>{const t=`\`${ep}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ep}\` by passing a \`${gH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ep}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Xze=dH,Kze=fH,_H=hH,NH=pH,jH=bH,SH=wH,AH=xH,CH=vH;const Qze=Xze,Jze=Kze,EH=k.forwardRef(({className:e,...t},r)=>s.jsx(_H,{className:Za("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));EH.displayName=_H.displayName;const kH=k.forwardRef(({className:e,...t},r)=>s.jsxs(Jze,{children:[s.jsx(EH,{}),s.jsx(NH,{ref:r,className:Za("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));kH.displayName=NH.displayName;const TH=({className:e,...t})=>s.jsx("div",{className:Za("flex flex-col space-y-2 text-center sm:text-left",e),...t});TH.displayName="AlertDialogHeader";const OH=({className:e,...t})=>s.jsx("div",{className:Za("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});OH.displayName="AlertDialogFooter";const PH=k.forwardRef(({className:e,...t},r)=>s.jsx(AH,{ref:r,className:Za("text-lg font-semibold",e),...t}));PH.displayName=AH.displayName;const DH=k.forwardRef(({className:e,...t},r)=>s.jsx(CH,{ref:r,className:Za("text-sm text-muted-foreground",e),...t}));DH.displayName=CH.displayName;const IH=k.forwardRef(({className:e,...t},r)=>s.jsx(jH,{ref:r,className:Za("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));IH.displayName=jH.displayName;const MH=k.forwardRef(({className:e,...t},r)=>s.jsx(SH,{ref:r,className:Za("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",e),...t}));MH.displayName=SH.displayName;function Zze({supplier:e,onDelete:t,onViewCatalog:r}){const[n,a]=k.useState(!1),i=e.name.split(" ").map(o=>o[0]).join("");return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 p-4 space-y-4 transition-all duration-300",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-24 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsx("div",{className:"relative w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold bg-gradient-to-br from-[rgba(15,23,42,0.4)] to-[rgba(20,100,100,0.4)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 z-10",children:s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:i})})]})}),e.is_friend&&s.jsxs("div",{className:"absolute top-2 right-2 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(16,185,129,0.2)] backdrop-filter backdrop-blur-[10px] rounded-full px-3 py-1 flex items-center gap-1 border border-emerald-500/20 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(16,185,129,0.2)]",children:[s.jsx(zV,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-xs font-medium text-cyan-400",children:"Ami"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),s.jsxs("div",{className:"text-xs text-white/70 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(OS,{className:"w-3 h-3 shrink-0 text-cyan-400"}),s.jsx("span",{children:e.address})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vs,{className:"w-3 h-3 shrink-0 text-cyan-400"}),s.jsx("span",{children:e.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"w-3 h-3 shrink-0 text-cyan-400"}),s.jsx("span",{children:e.email})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-white/10",children:[s.jsxs("button",{onClick:()=>r(e.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":`Voir le catalogue de ${e.name}`,children:[s.jsx(UV,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Catalogue"})]}),s.jsx("button",{onClick:()=>a(!0),className:"flex items-center justify-center p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-300 border border-white/5 hover:border-red-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_4px_15px_rgba(0,0,0,0.3),0_0_10px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40","aria-label":`Supprimer ${e.name}`,children:s.jsx(Ci,{className:"w-4 h-4"})})]})]})]}),s.jsx(Qze,{open:n,onOpenChange:a,children:s.jsxs(kH,{className:"bg-gradient-to-br from-[rgba(15,23,42,0.8)] to-[rgba(20,100,100,0.8)] backdrop-filter backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.4)_0px_10px_25px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px]",children:[s.jsxs(TH,{children:[s.jsx(PH,{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirmer la suppression"}),s.jsx(DH,{className:"text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."})]}),s.jsxs(OH,{children:[s.jsx(MH,{className:"bg-white/5 border border-white/10 hover:border-white/20 hover:bg-white/10 text-white rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),s.jsx(IH,{onClick:()=>{t(e.id),a(!1)},className:"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30 rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(239,68,68,0.1)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40 transition-all duration-300",children:"Supprimer"})]})]})})]})}const Ql=k.forwardRef(({className:e,...t},r)=>s.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e||""}`,ref:r,...t}));Ql.displayName="Label";function eUe({open:e,onOpenChange:t,editingSupplier:r}){const{addSupplier:n,updateSupplier:a}=D5(),i=!!r,[o,l]=k.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||""}),[c,u]=k.useState(!1),[d,f]=k.useState({}),h=x=>{const{name:g,value:v}=x.target;l(b=>({...b,[g]:v})),d[g]&&f(b=>{const y={...b};return delete y[g],y})},p=()=>{const x={};return o.name.trim()||(x.name="Le nom est requis"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(x.email="Format d'email invalide"):x.email="L'email est requis",o.phone.trim()||(x.phone="Le téléphone est requis"),o.address.trim()||(x.address="L'adresse est requise"),f(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!!p()){u(!0);try{i&&r?await a.mutateAsync({id:r.id,...o}):await n.mutateAsync(o),t(!1),l({name:"",email:"",phone:"",address:""})}catch(g){console.error("Error saving supplier:",g)}finally{u(!1)}}};return s.jsx(gU,{open:e,onOpenChange:t,children:s.jsxs(sE,{className:"sm:max-w-[500px] bg-[#1a1c25] text-white border-[#2a2d3a]",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1},children:[s.jsxs(oE,{children:[s.jsx(lE,{className:"text-white",children:i?"Modifier le fournisseur":"Ajouter un fournisseur"}),s.jsx(yU,{children:i?"Modifiez les informations du fournisseur ci-dessous.":"Remplissez les informations du nouveau fournisseur."})]}),s.jsxs("form",{onSubmit:m,className:"space-y-5 my-2",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(Ql,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(pf,{className:"h-3.5 w-3.5"}),"Nom du fournisseur"]}),s.jsx(tr,{id:"name",name:"name",value:o.name,onChange:h,placeholder:"Atlantique Coquillages",className:`bg-[#12141d] border-[#2a2d3a] text-white ${d.name?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.name&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.name})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(Ql,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(uo,{className:"h-3.5 w-3.5"}),"Email"]}),s.jsx(tr,{id:"email",name:"email",type:"email",value:o.email,onChange:h,placeholder:"contact@atlantique-coquillages.fr",className:`border-[#2a2d3a] text-white ${d.email?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.email&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.email})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(Ql,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(vs,{className:"h-3.5 w-3.5"}),"Téléphone"]}),s.jsx(tr,{id:"phone",name:"phone",value:o.phone,onChange:h,placeholder:"01 23 45 67 89",className:`border-[#2a2d3a] text-white ${d.phone?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.phone&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.phone})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(Ql,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(na,{className:"h-3.5 w-3.5"}),"Adresse"]}),s.jsx(tr,{id:"address",name:"address",value:o.address,onChange:h,placeholder:"42 Avenue du Port, 85230 Bouin",className:`border-[#2a2d3a] text-white ${d.address?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.address&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.address})]}),s.jsxs(bU,{className:"mt-6",children:[s.jsx(xn,{type:"button",variant:"outline",onClick:()=>t(!1),className:"border-[#2a2d3a] text-white hover:bg-[#2a2d3a] hover:text-white",children:"Annuler"}),s.jsx(xn,{type:"submit",disabled:c,className:"bg-gradient-to-r text-white",children:c?"Enregistrement...":i?"Mettre à jour":"Ajouter"})]})]})]})})}function tUe(){const{suppliers:e,isLoading:t,updateSupplier:r}=D5(),[n,a]=k.useState(!1),[i,o]=k.useState(""),l=Is(),c=async f=>{try{await r.mutateAsync({id:f,deleted:!0})}catch(h){console.error("Error deleting supplier:",h)}},u=f=>{console.log("Bouton Catalogue cliqué, ID du fournisseur:",f),console.log("Navigation vers:",`/suppliers/${f}/catalog`),l(`/suppliers/${f}/catalog`)},d=e.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())||f.email.toLowerCase().includes(i.toLowerCase()));return t?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"})}):s.jsx("div",{className:"p-6 max-w-[1600px] mx-auto",children:s.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),s.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:s.jsx(V0,{size:28,className:"text-cyan-400"})})]}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Fournisseurs"})]}),s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("div",{children:s.jsx("p",{className:"text-white/70",children:"Gérez vos fournisseurs et accédez à leurs catalogues"})}),s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx(gr,{size:20}),"Ajouter un fournisseur"]})]}),s.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative flex-grow max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsx(Xa,{className:"w-4 h-4 text-white/40",style:{zIndex:1}})}),s.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher un fournisseur...",value:i,onChange:f=>o(f.target.value),"aria-label":"Rechercher un fournisseur"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/70 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] px-4 py-2 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 min-w-[44px] min-h-[44px]",children:[s.jsx(xs,{className:"w-4 h-4 text-cyan-400"}),s.jsxs("span",{className:"text-sm",children:[d.length," fournisseurs"]})]})]}),d.length===0?s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.5)] to-[rgba(20,100,100,0.5)] backdrop-filter backdrop-blur-[10px] rounded-full p-4 mb-4 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:s.jsx(xs,{className:"w-8 h-8 text-cyan-400"})}),s.jsx("h3",{className:"text-xl font-medium mb-2 text-white",children:"Aucun fournisseur trouvé"}),s.jsx("p",{className:"max-w-md text-white/70",children:i?"Aucun résultat ne correspond à votre recherche. Essayez avec d'autres termes.":"Commencez par ajouter un fournisseur en cliquant sur le bouton ci-dessus."})]}):s.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:d.map(f=>s.jsx(Zze,{supplier:f,onDelete:c,onViewCatalog:u},f.id))})}),s.jsx(eUe,{open:n,onOpenChange:a})]})})}function rUe(){const{supplierId:e}=HV(),t=Is(),{suppliers:r,getSupplierProducts:n}=D5(),{cartItems:a,addToCart:i,removeFromCart:o,clearCart:l,isCartModalOpen:c,setIsCartModalOpen:u}=lH(),[d,f]=k.useState({}),[h,p]=k.useState(!0),[m,x]=k.useState([]),[g,v]=k.useState("all"),[b,y]=k.useState(""),[w,N]=k.useState(!1),[S,j]=k.useState([]),[A,T]=k.useState(!1),R=r.find(B=>B.id===e);k.useEffect(()=>{A||(console.log("SupplierCatalogPage chargée, supplierId:",e),console.log("URL actuelle:",window.location.pathname),console.log("Fournisseur trouvé:",R),T(!0))},[e,R,A]),k.useEffect(()=>{if(!e||m.length>0)return;console.log("useEffect appelé pour charger les produits"),(async()=>{p(!0);try{console.log("⚡ Chargement des produits pour le fournisseur:",e);const G=await n(e);if(console.log("⚡ Produits reçus:",G),Array.isArray(G)&&G.length>0){x(G),console.log("⚡ Produits définis avec succès:",G.length);const U={};G.forEach(W=>{U[W.id]=W.min_order_quantity||W.minOrder||1}),f(U)}else console.log("⚡ Aucun produit trouvé ou format incorrect:",G),x([]),f({})}catch(G){console.error("❌ Erreur lors du chargement des produits:",G),x([]),f({})}p(!1)})()},[e,n,m.length]),k.useEffect(()=>{if(m.length===0)return;console.log("useEffect appelé pour filtrer les produits");let B=[...m];g!=="all"&&(B=B.filter(G=>G.category===g)),b&&(B=B.filter(G=>G.name.toLowerCase().includes(b.toLowerCase()))),j(B)},[m,g,b]),k.useEffect(()=>{console.log("Cart items:",a),console.log("Products:",m)},[a,m]);const O=B=>{const G=d[B.id]||B.min_order_quantity||B.minOrder||1;console.log("----------------------------------------"),console.log("Adding to cart:"),console.log(`Product ID: ${B.id}`),console.log(`Product Name: ${B.name}`),console.log(`Quantity: ${G}`),console.log("Current cart items:",a),console.log("----------------------------------------"),i(B.id,G)},E=(B,G)=>{f(U=>({...U,[B]:G}))},L=["all",...new Set(m.map(B=>B.category))];return R?s.jsxs("div",{className:"container mx-auto px-4 mt-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[s.jsx(pb,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:R.name}),s.jsxs("button",{onClick:()=>u(!0),className:"relative p-2 rounded-lg hover:bg-gray-800 transition-colors",children:[s.jsx(rp,{className:"h-6 w-6 text-white hover:text-cyan-400 transition-colors duration-300","aria-hidden":"true"}),a.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-cyan-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:a.length})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"relative w-1/2",children:[s.jsx(Xa,{className:"search-icon-fixed left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/50 pointer-events-none z-10","aria-label":"Search icon"}),s.jsx("input",{type:"search",placeholder:"Rechercher un produit...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:b,onChange:B=>y(B.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>N(!w),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",children:["Catégorie: ",g==="all"?"Toutes":g,s.jsx(ff,{className:"h-5 w-5","aria-hidden":"true"})]}),s.jsx(_r,{children:w&&s.jsx(je.ul,{className:"absolute top-full right-0 mt-2 rounded-lg bg-gray-800 border border-gray-700 shadow-lg overflow-hidden z-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:L.map(B=>s.jsxs(je.li,{className:"px-4 py-2 text-white hover:bg-gray-700 transition-colors duration-300 cursor-pointer",onClick:()=>{v(B),N(!1)},whileHover:{backgroundColor:"#4a5568"},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g===B&&s.jsx(dw,{className:"h-4 w-4 text-cyan-500","aria-hidden":"true"}),s.jsx("span",{children:B==="all"?"Toutes":B})]},B))})})]})]}),h?s.jsx("div",{className:"text-white",children:"Chargement des produits..."}):S.length===0?s.jsxs("div",{className:"text-white",children:["Aucun produit trouvé pour le fournisseur ",s.jsx("strong",{children:R.name})," dans la catégorie ",s.jsx("strong",{children:g}),b&&` avec le terme de recherche ${b}`,"."]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map(B=>{const G=d[B.id]||B.min_order_quantity||B.minOrder||1;return s.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800 p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:B.name}),s.jsx("p",{className:"text-white/70",children:B.description}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("span",{className:"text-cyan-400 font-bold",children:[B.price," ",B.unit]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",min:B.min_order_quantity||B.minOrder||1,className:"w-20 px-2 py-1 rounded-lg bg-gray-700 border border-gray-600 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:G,onChange:U=>{const W=parseInt(U.target.value,10);E(B.id,W)}}),s.jsx("button",{onClick:()=>O(B),className:"ml-2 px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors duration-300",children:"Ajouter"})]})]})]},B.id)})}),s.jsx(cH,{isOpen:c,onClose:()=>u(!1),items:a,products:m,onRemoveItem:o,onClearCart:l})]}):s.jsxs("div",{className:"container mx-auto px-4 mt-12",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[s.jsx(pb,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Fournisseur non trouvé"})]})}function Vg({children:e,onClick:t,className:r="",style:n}){const[a,i]=K.useState(!1);return s.jsxs(je.div,{className:`relative overflow-hidden bg-white/5 border border-white/10 ${r}`,style:n,onClick:t,onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),whileHover:{y:-4},children:[e,s.jsx(je.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/5 pointer-events-none",initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:.2}}),s.jsx(je.div,{className:"absolute inset-0 pointer-events-none rounded-lg border border-blue-500/30",initial:{opacity:0},animate:{opacity:a?1:0,boxShadow:a?"0 0 15px 1px rgba(59, 130, 246, 0.3)":"none"},transition:{duration:.2}})]})}const nUe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fc(async()=>{const{default:n}=await Promise.resolve().then(()=>gm);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class wE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class aUe extends wE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iUe extends wE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sUe extends wE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pS||(pS={}));var oUe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class lUe{constructor(t,{headers:r={},customFetch:n,region:a=pS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=nUe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return oUe(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(m=>{throw new aUe(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new iUe(d);if(!d.ok)throw new sUe(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Es={},_E={},B5={},qg={},$5={},z5={},cUe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Up=cUe();const uUe=Up.fetch,FH=Up.fetch.bind(Up),RH=Up.Headers,dUe=Up.Request,fUe=Up.Response,gm=Object.freeze(Object.defineProperty({__proto__:null,Headers:RH,Request:dUe,Response:fUe,default:FH,fetch:uUe},Symbol.toStringTag,{value:"Module"})),hUe=DM(gm);var U5={};Object.defineProperty(U5,"__esModule",{value:!0});let pUe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};U5.default=pUe;var LH=qa&&qa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z5,"__esModule",{value:!0});const mUe=LH(hUe),xUe=LH(U5);let gUe=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mUe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&x===""?(h=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new xUe.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}};z5.default=gUe;var vUe=qa&&qa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($5,"__esModule",{value:!0});const bUe=vUe(z5);let yUe=class extends bUe.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$5.default=yUe;var wUe=qa&&qa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qg,"__esModule",{value:!0});const _Ue=wUe($5);let NUe=class extends _Ue.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};qg.default=NUe;var jUe=qa&&qa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(B5,"__esModule",{value:!0});const gx=jUe(qg);let SUe=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gx.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new gx.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new gx.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new gx.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gx.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};B5.default=SUe;var H5={},W5={};Object.defineProperty(W5,"__esModule",{value:!0});W5.version=void 0;W5.version="0.0.0-automated";Object.defineProperty(H5,"__esModule",{value:!0});H5.DEFAULT_HEADERS=void 0;const AUe=W5;H5.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${AUe.version}`};var BH=qa&&qa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_E,"__esModule",{value:!0});const CUe=BH(B5),EUe=BH(qg),kUe=H5;let TUe=class $H{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},kUe.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new CUe.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $H(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new EUe.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};_E.default=TUe;var vm=qa&&qa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Es,"__esModule",{value:!0});Es.PostgrestError=Es.PostgrestBuilder=Es.PostgrestTransformBuilder=Es.PostgrestFilterBuilder=Es.PostgrestQueryBuilder=Es.PostgrestClient=void 0;const zH=vm(_E);Es.PostgrestClient=zH.default;const UH=vm(B5);Es.PostgrestQueryBuilder=UH.default;const HH=vm(qg);Es.PostgrestFilterBuilder=HH.default;const WH=vm($5);Es.PostgrestTransformBuilder=WH.default;const VH=vm(z5);Es.PostgrestBuilder=VH.default;const qH=vm(U5);Es.PostgrestError=qH.default;var OUe=Es.default={PostgrestClient:zH.default,PostgrestQueryBuilder:UH.default,PostgrestFilterBuilder:HH.default,PostgrestTransformBuilder:WH.default,PostgrestBuilder:VH.default,PostgrestError:qH.default};const{PostgrestClient:PUe,PostgrestQueryBuilder:iVe,PostgrestFilterBuilder:sVe,PostgrestTransformBuilder:oVe,PostgrestBuilder:lVe,PostgrestError:cVe}=OUe,DUe="2.11.2",IUe={"X-Client-Info":`realtime-js/${DUe}`},MUe="1.0.0",GH=1e4,FUe=1e3;var tp;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tp||(tp={}));var qs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qs||(qs={}));var ml;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ml||(ml={}));var mS;(function(e){e.websocket="websocket"})(mS||(mS={}));var p0;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(p0||(p0={}));class RUe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class YH{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(wn||(wn={}));const lM=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=LUe(o,e,t,a),i),{})},LUe=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?XH(i,o):xS(o)},XH=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return UUe(t,r)}switch(e){case wn.bool:return BUe(t);case wn.float4:case wn.float8:case wn.int2:case wn.int4:case wn.int8:case wn.numeric:case wn.oid:return $Ue(t);case wn.json:case wn.jsonb:return zUe(t);case wn.timestamp:return HUe(t);case wn.abstime:case wn.date:case wn.daterange:case wn.int4range:case wn.int8range:case wn.money:case wn.reltime:case wn.text:case wn.time:case wn.timestamptz:case wn.timetz:case wn.tsrange:case wn.tstzrange:return xS(t);default:return xS(t)}},xS=e=>e,BUe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$Ue=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zUe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},UUe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>XH(t,l))}return e},HUe=e=>typeof e=="string"?e.replace(" ","T"):e,KH=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class NN{constructor(t,r,n={},a=GH){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cM;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cM||(cM={}));class Jx{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jx.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Jx.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Jx.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=d.filter(g=>p.indexOf(g.presence_ref)<0),x=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(l[u]=m),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uM;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(uM||(uM={}));var dM;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dM||(dM={}));var zc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zc||(zc={}));class NE{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new NN(this,ml.join,this.params,this.timeout),this.rejoinTimer=new YH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ml.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Jx(this),this.broadcastEndpointURL=KH(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(zc.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(zc.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(zc.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let x=0;x<p;x++){const g=h[x],{filter:{event:v,schema:b,table:y,filter:w}}=g,N=d&&d[x];if(N&&N.event===v&&N.schema===b&&N.table===y&&N.filter===w)m.push(Object.assign(Object.assign({},g),{id:N.id}));else{this.unsubscribe(),t==null||t(zc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(zc.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(zc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ml.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new NN(this,ml.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new NN(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ml;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,x,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(x=p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,x,g,v,b,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,N=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const w=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:x,table:g,commit_timestamp:v,type:b,errors:y}=m;h=Object.assign(Object.assign({},{schema:x,table:g,commit_timestamp:v,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===qs.closed}_isJoined(){return this.state===qs.joined}_isJoining(){return this.state===qs.joining}_isLeaving(){return this.state===qs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&NE.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ml.close,{},t)}_onError(t){this._on(ml.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=lM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=lM(t.columns,t.old_record)),r}}const WUe=()=>{},VUe=typeof WebSocket<"u",qUe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GUe{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=IUe,this.params={},this.timeout=GH,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=WUe,this.conn=null,this.sendBuffer=[],this.serializer=new RUe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>fc(async()=>{const{default:c}=await Promise.resolve().then(()=>gm);return{default:c}},void 0,import.meta.url).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${mS.websocket}`,this.httpEndpoint=KH(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new YH(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(VUe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new YUe(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),fc(async()=>{const{default:t}=await import("./browser-CFIGawOg.js").then(r=>r.b);return{default:t}},__vite__mapDeps([2,1]),import.meta.url).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:MUe}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tp.connecting:return p0.Connecting;case tp.open:return p0.Open;case tp.closing:return p0.Closing;default:return p0.Closed}}isConnected(){return this.connectionState()===p0.Open}channel(t,r={config:{}}){const n=new NE(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(ml.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(FUe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ml.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([qUe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class YUe{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=tp.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class jE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function oi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XUe extends jE{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gS extends jE{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var KUe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const QH=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fc(async()=>{const{default:n}=await Promise.resolve().then(()=>gm);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},QUe=()=>KUe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fc(()=>Promise.resolve().then(()=>gm),void 0,import.meta.url)).Response:Response}),vS=e=>{if(Array.isArray(e))return e.map(r=>vS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=vS(n)}),t};var Tf=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const jN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JUe=(e,t,r)=>Tf(void 0,void 0,void 0,function*(){const n=yield QUe();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new XUe(jN(a),e.status||500))}).catch(a=>{t(new gS(jN(a),a))}):t(new gS(jN(e),e))}),ZUe=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Gg(e,t,r,n,a,i){return Tf(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,ZUe(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>JUe(c,l,n))})})}function cw(e,t,r,n){return Tf(this,void 0,void 0,function*(){return Gg(e,"GET",t,r,n)})}function td(e,t,r,n,a){return Tf(this,void 0,void 0,function*(){return Gg(e,"POST",t,n,a,r)})}function eHe(e,t,r,n,a){return Tf(this,void 0,void 0,function*(){return Gg(e,"PUT",t,n,a,r)})}function tHe(e,t,r,n){return Tf(this,void 0,void 0,function*(){return Gg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function JH(e,t,r,n,a){return Tf(this,void 0,void 0,function*(){return Gg(e,"DELETE",t,n,a,r)})}var As=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const rHe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nHe{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=QH(a)}uploadOrUpdate(t,r,n,a){return As(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fM),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(oi(i))return{data:null,error:i};throw i}})}upload(t,r,n){return As(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return As(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:fM.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(oi(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return As(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield td(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new jE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(oi(n))return{data:null,error:n};throw n}})}update(t,r,n){return As(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return As(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(oi(a))return{data:null,error:a};throw a}})}copy(t,r,n){return As(this,void 0,void 0,function*(){try{return{data:{path:(yield td(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(oi(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return As(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield td(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(oi(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return As(this,void 0,void 0,function*(){try{const a=yield td(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(oi(a))return{data:null,error:a};throw a}})}download(t,r){return As(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield cw(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(oi(l))return{data:null,error:l};throw l}})}info(t){return As(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield cw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vS(n),error:null}}catch(n){if(oi(n))return{data:null,error:n};throw n}})}exists(t){return As(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield tHe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(oi(n)&&n instanceof gS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return As(this,void 0,void 0,function*(){try{return{data:yield JH(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(oi(r))return{data:null,error:r};throw r}})}list(t,r,n){return As(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},rHe),r),{prefix:t||""});return{data:yield td(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(oi(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const aHe="2.7.1",iHe={"X-Client-Info":`storage-js/${aHe}`};var wh=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class sHe{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},iHe),r),this.fetch=QH(n)}listBuckets(){return wh(this,void 0,void 0,function*(){try{return{data:yield cw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(oi(t))return{data:null,error:t};throw t}})}getBucket(t){return wh(this,void 0,void 0,function*(){try{return{data:yield cw(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(oi(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return wh(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(oi(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return wh(this,void 0,void 0,function*(){try{return{data:yield eHe(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(oi(n))return{data:null,error:n};throw n}})}emptyBucket(t){return wh(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(oi(r))return{data:null,error:r};throw r}})}deleteBucket(t){return wh(this,void 0,void 0,function*(){try{return{data:yield JH(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(oi(r))return{data:null,error:r};throw r}})}}class oHe extends sHe{constructor(t,r={},n){super(t,r,n)}from(t){return new nHe(this.url,this.headers,t,this.fetch)}}const lHe="2.48.1";let Ex="";typeof Deno<"u"?Ex="deno":typeof document<"u"?Ex="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ex="react-native":Ex="node";const cHe={"X-Client-Info":`supabase-js-${Ex}/${lHe}`},uHe={headers:cHe},dHe={schema:"public"},fHe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hHe={};var pHe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const mHe=e=>{let t;return e?t=e:typeof fetch>"u"?t=FH:t=fetch,(...r)=>t(...r)},xHe=()=>typeof Headers>"u"?RH:Headers,gHe=(e,t,r)=>{const n=mHe(r),a=xHe();return(i,o)=>pHe(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var vHe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function bHe(e){return e.replace(/\/$/,"")}function yHe(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>vHe(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const ZH="2.67.3",wHe="http://localhost:9999",_He="supabase.auth.token",NHe={"X-Client-Info":`gotrue-js/${ZH}`},hM=10,bS="X-Supabase-Api-Version",eW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function jHe(e){return Math.round(Date.now()/1e3)+e}function SHe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zl=()=>typeof window<"u"&&typeof document<"u",t0={tested:!1,writable:!1},Zx=()=>{if(!zl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(t0.tested)return t0.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),t0.tested=!0,t0.writable=!0}catch{t0.tested=!0,t0.writable=!1}return t0.writable};function AHe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const tW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fc(async()=>{const{default:n}=await Promise.resolve().then(()=>gm);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},CHe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rW=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},U2=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},H2=async(e,t)=>{await e.removeItem(t)};function EHe(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=o<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&a!=0&&(r=r+String.fromCharCode(a)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class V5{constructor(){this.promise=new V5.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}V5.promiseConstructor=Promise;function pM(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(EHe(n))}async function kHe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function THe(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function OHe(e){return("0"+e.toString(16)).substr(-2)}function PHe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,OHe).join("")}async function DHe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function IHe(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function MHe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await DHe(e);return IHe(r)}async function _h(e,t,r=!1){const n=PHe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await rW(e,`${t}-code-verifier`,a);const i=await MHe(n);return[i,n===i?"plain":"s256"]}const FHe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RHe(e){const t=e.headers.get(bS);if(!t||!t.match(FHe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class SE extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function or(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LHe extends SE{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function BHe(e){return or(e)&&e.name==="AuthApiError"}class nW extends SE{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Of extends SE{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Qu extends Of{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $He(e){return or(e)&&e.name==="AuthSessionMissingError"}class SN extends Of{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class W2 extends Of{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class V2 extends Of{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zHe(e){return or(e)&&e.name==="AuthImplicitGrantRedirectError"}class mM extends Of{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yS extends Of{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function AN(e){return or(e)&&e.name==="AuthRetryableFetchError"}class xM extends Of{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var UHe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const u0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HHe=[502,503,504];async function gM(e){var t;if(!CHe(e))throw new yS(u0(e),0);if(HHe.includes(e.status))throw new yS(u0(e),e.status);let r;try{r=await e.json()}catch(i){throw new nW(u0(i),i)}let n;const a=RHe(e);if(a&&a.getTime()>=eW["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xM(u0(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Qu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xM(u0(r),e.status,r.weak_password.reasons);throw new LHe(u0(r),e.status||500,n)}const WHe=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function br(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[bS]||(i[bS]=eW["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await VHe(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function VHe(e,t,r,n,a,i){const o=WHe(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new yS(u0(c),0)}if(l.ok||await gM(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await gM(c)}}function Ju(e){var t;let r=null;XHe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=jHe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function vM(e){const t=Ju(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ld(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qHe(e){return{data:e,error:null}}function GHe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=UHe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function YHe(e){return e}function XHe(e){return e.access_token&&e.refresh_token&&e.expires_in}var KHe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class QHe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=tW(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await br(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await br(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ld})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=KHe(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await br(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:GHe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(or(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await br(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ld})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await br(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:YHe});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const x=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(or(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await br(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ld})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await br(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ld})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await br(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ld})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await br(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(or(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await br(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}}const JHe={getItem:e=>Zx()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Zx()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Zx()&&globalThis.localStorage.removeItem(e)}};function bM(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function ZHe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nh={debug:!!(globalThis&&Zx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aW extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eWe extends aW{}async function tWe(e,t,r){Nh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Nh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Nh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Nh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Nh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eWe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ZHe();const rWe={url:wHe,storageKey:_He,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NHe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},vx=30*1e3,yM=3;async function wM(e,t,r){return await r()}class ng{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ng.nextInstanceID,ng.nextInstanceID+=1,this.instanceID>0&&zl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},rWe),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new QHe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=tW(a.fetch),this.lock=a.lock||wM,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:zl()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=tWe:this.lock=wM,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Zx()?this.storage=JHe:(this.memoryStorage={},this.storage=bM(this.memoryStorage)):(this.memoryStorage={},this.storage=bM(this.memoryStorage)),zl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ZH}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=AHe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),zl()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zHe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return or(r)?{error:r}:{error:new nW("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ju}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await _h(this.storage,this.storageKey)),i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ju})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ju})}else throw new W2("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vM})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vM})}else throw new W2("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new SN}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await U2(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await br(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ju});if(await H2(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new SN}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(or(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await br(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ju}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new SN}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _h(this.storage,this.storageKey));const{error:f}=await br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new W2("You must provide either an email or phone number.")}catch(l){if(or(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await br(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ju});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await _h(this.storage,this.storageKey)),await br(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qHe})}catch(i){if(or(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Qu;const{error:a}=await br(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(or(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await br(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await br(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new W2("You must provide either an email or phone number and a type")}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await U2(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ld}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qu}:await br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ld})})}catch(r){if(or(r))return $He(r)&&(await this._removeSession(),await H2(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Qu;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await _h(this.storage,this.storageKey));const{data:u,error:d}=await br(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ld});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return pM(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qu;const r=Date.now()/1e3;let n=r,a=!0,i=null;const o=pM(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(or(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Qu;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!zl())throw new V2("No browser detected.");if(t.error||t.error_description||t.error_code)throw new V2(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new V2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mM("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new V2("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=vx&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:x,error:g}=await this._getUser(i);if(g)throw g;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(or(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await U2(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(BHe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await H2(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=SHe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await _h(this.storage,this.storageKey,!0));try{return await br(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(or(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await br(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return zl()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(or(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await br(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await THe(async a=>(a>0&&await kHe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await br(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ju})),(a,i)=>{const o=200*Math.pow(2,a);return i&&AN(i)&&Date.now()+o-n<vx})}catch(n){if(this._debug(r,"error",n),or(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await U2(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<a+hM;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${hM}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),AN(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Qu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new V5;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qu;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),or(i)){const o={session:null,error:i};return AN(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rW(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await H2(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vx);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/vx);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${vx}ms, refresh threshold is ${yM} ticks`),a<=yM&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aW)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await _h(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await br(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await br(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}ng.nextInstanceID=0;const nWe=ng;class aWe extends nWe{constructor(t){super(t)}}var iWe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class sWe{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=bHe(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:dHe,realtime:hHe,auth:Object.assign(Object.assign({},fHe),{storageKey:c}),global:uHe},d=yHe(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=gHe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new PUe(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new lUe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new oHe(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return iWe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aWe({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new GUe(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oWe=(e,t,r)=>new sWe(e,t,r),lWe="https://rmockgbhcxrgqpeejrry.supabase.co",cWe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",r0=oWe(lWe,cWe);function uWe(){const e=zM(),{addNotification:t}=Yo(),{data:r=[],isLoading:n}=TS({queryKey:["supplier_orders"],queryFn:async()=>{try{return[{id:"1",supplier_id:"hmo",status:"pending",products:[{id:"1",name:"Huîtres plates",quantity:120,price:8.5},{id:"2",name:"Huîtres creuses",quantity:240,price:7.2}],total_amount:2748,created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString(),comments:[]},{id:"2",supplier_id:"lpb",status:"accepted",products:[{id:"3",name:"Moules de Bouzigues",quantity:50,price:6}],total_amount:300,created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString(),comments:[{id:"1",content:"Commande validée par le fournisseur. Livraison prévue la semaine prochaine.",created_at:new Date(Date.now()-2592e5).toISOString(),user_id:"1"}]},{id:"3",supplier_id:"ac",status:"delivering",products:[{id:"4",name:"Huîtres du Bassin",quantity:80,price:9.5},{id:"5",name:"Palourdes",quantity:30,price:12}],total_amount:1120,created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),comments:[{id:"2",content:"Votre commande est en cours de livraison. Arrivée prévue demain matin.",created_at:new Date(Date.now()-864e5).toISOString(),user_id:"1"}]},{id:"4",supplier_id:"cp",status:"completed",products:[{id:"6",name:"Huîtres plates",quantity:50,price:8.5},{id:"7",name:"Moules de bouchot",quantity:80,price:5.2}],total_amount:841,storage_location:"Zone A, Étagère 3",created_at:new Date(Date.now()-10368e5).toISOString(),updated_at:new Date(Date.now()-6912e5).toISOString(),comments:[{id:"3",content:"Commande reçue et stockée. Qualité conforme aux attentes.",created_at:new Date(Date.now()-6912e5).toISOString(),user_id:"1"}]},{id:"5",supplier_id:"hmo",status:"rejected",products:[{id:"8",name:"Huîtres spéciales",quantity:20,price:15}],total_amount:300,created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date(Date.now()-7776e5).toISOString(),comments:[{id:"4",content:"Commande refusée par le fournisseur. Stock insuffisant pour le moment.",created_at:new Date(Date.now()-7776e5).toISOString(),user_id:"2"}]}]}catch(l){return console.error("Error fetching supplier orders:",l),[]}}}),a=kx({mutationFn:async l=>{const{data:c}=await r0.from("supplier_products").select("id, price").in("id",l.products.map(h=>h.id)),u=l.products.reduce((h,p)=>{const m=c==null?void 0:c.find(x=>x.id===p.id);return h+((m==null?void 0:m.price)||0)*p.quantity},0),{data:d,error:f}=await r0.from("supplier_orders").insert([{...l,status:"pending",total_amount:u}]).select().single();if(f)throw f;return t({title:"Commande créée",message:"La commande a été créée avec succès",type:"success",important:!1,category:"inventory"}),d},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}}),i=kx({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await r0.from("supplier_orders").update(c).eq("id",l).select().single();if(d)throw d;if(c.status==="completed"){const f=await r0.from("supplier_orders").select("*").eq("id",l).single();if(f.data)for(const h of f.data.products)await r0.rpc("update_stock",{product_id:h.id,quantity:h.quantity,storage_location:c.storage_location,expiry_date:c.expiry_date});t({title:"Stock mis à jour",message:"Le stock a été mis à jour avec les produits livrés",type:"success",important:!1,category:"inventory"})}return u},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}}),o=kx({mutationFn:async({order_id:l,content:c})=>{var f;const{data:u,error:d}=await r0.from("supplier_order_comments").insert([{order_id:l,content:c,user_id:(f=(await r0.auth.getUser()).data.user)==null?void 0:f.id}]).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}});return{orders:r,isLoading:n,createOrder:a,updateOrder:i,addComment:o}}const _M=[{id:"hmo",name:"HMO",description:"Huîtres de Marennes Oléron",products:["Huîtres plates","Huîtres creuses","Huîtres spéciales"]},{id:"lpb",name:"LPB",description:"Les Parcs de Bouzigues",products:["Moules de Bouzigues","Huîtres de Bouzigues"]},{id:"ac",name:"AC",description:"Arcachon Coquillages",products:["Huîtres du Bassin","Palourdes","Coques"]},{id:"cp",name:"CP",description:"Cancale Production",products:["Huîtres plates","Huîtres creuses","Moules de bouchot"]}];function dWe(){const{orders:e,isLoading:t,updateOrder:r}=uWe(),[n,a]=K.useState(null);K.useState(!1),Yo();const[i,o]=k.useState("");return k.useState(null),_M.filter(l=>l.name.toLowerCase().includes(i.toLowerCase())||l.description.toLowerCase().includes(i.toLowerCase())||l.products.some(c=>c.toLowerCase().includes(i.toLowerCase()))),t?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[rgb(var(--color-brand-primary))]"})}):s.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commandes Fournisseurs"}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/5 rounded-lg text-white/60 hover:text-white transition-colors",children:s.jsx(zt,{size:24})})})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:i,onChange:l=>o(l.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20"}),s.jsx(Xa,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40",size:20})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Vos commandes récentes"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>{const c=_M.find(f=>f.id===l.supplier_id),u=l.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":l.status==="accepted"?"bg-green-500/20 text-green-400 border-green-500/30":l.status==="delivering"?"bg-blue-500/20 text-blue-400 border-blue-500/30":l.status==="completed"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-red-500/20 text-red-400 border-red-500/30",d=l.status==="pending"?"Envoyé":l.status==="accepted"?"Validé":l.status==="delivering"?"En cours de livraison":l.status==="completed"?"Reçu":"Refusé";return s.jsx(Vg,{onClick:()=>a(l.id),className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:(c==null?void 0:c.name)||"Fournisseur"}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u}`,children:d})]}),s.jsxs("div",{className:"text-sm text-white/60 mb-3",children:[s.jsxs("p",{className:"mb-1",children:["Commandé le ",new Date(l.created_at).toLocaleDateString("fr-FR")]}),s.jsxs("p",{className:"font-medium text-white/80",children:["Total: ",l.total_amount.toFixed(2),"€"]})]}),s.jsxs("div",{className:"border-t border-white/5 pt-3 mt-auto",children:[s.jsxs("p",{className:"text-sm font-medium text-white/70",children:[l.products.length," produit",l.products.length>1?"s":""]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.products.slice(0,2).map(f=>s.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:[f.quantity,"× ",f.name]},f.id)),l.products.length>2&&s.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:["+",l.products.length-2," autre",l.products.length-2>1?"s":""]})]})]}),l.comments&&l.comments.length>0&&s.jsxs("div",{className:"mt-3 flex items-center text-white/50 text-sm",children:[s.jsx(pc,{size:14,className:"mr-1"}),l.comments.length," commentaire",l.comments.length>1?"s":""]})]})},l.id)})})]})]})})}const fWe=({onClose:e,onUpload:t})=>{const[r,n]=k.useState(""),[a,i]=k.useState(null),[o,l]=k.useState(!1),[c,u]=k.useState(""),d=k.useRef(null),f=x=>{if(x.target.files&&x.target.files[0]){const g=x.target.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}i(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}},h=x=>{if(x.preventDefault(),!r.trim()){u("Veuillez saisir un titre pour le document.");return}if(!a){u("Veuillez sélectionner un fichier.");return}t(r,a,o)},p=x=>{x.preventDefault()},m=x=>{if(x.preventDefault(),x.dataTransfer.files&&x.dataTransfer.files[0]){const g=x.dataTransfer.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}i(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}};return s.jsx(_r,{children:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:s.jsxs(je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ajouter un document"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:s.jsx(zt,{size:20})})]}),s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titre du document"}),s.jsx("input",{type:"text",id:"title",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: Carte d'identité, Permis de conduire...",value:r,onChange:x=>n(x.target.value)})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{var x;return(x=d.current)==null?void 0:x.click()},onDragOver:p,onDrop:m,children:[a?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(ao,{size:40,className:"text-blue-500 mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.name}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(a.size/1024/1024).toFixed(2)," MB"]}),s.jsx("button",{type:"button",className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:x=>{x.stopPropagation(),i(null),d.current&&(d.current.value="")},children:"Changer de fichier"})]}):s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Ho,{size:40,className:"text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cliquez pour sélectionner un fichier"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"ou glissez-déposez ici"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format supporté: PDF, JPG, PNG (max. 10 MB)"})]}),s.jsx("input",{ref:d,type:"file",className:"hidden",accept:"application/pdf,image/jpeg,image/png",onChange:f})]})}),s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:o,onChange:x=>l(x.target.checked)}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Document obligatoire (visible dans le QR code)"})]})}),c&&s.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",disabled:!a||!r.trim(),children:"Enregistrer"})]})]})]})})})},hWe=({documents:e,onDelete:t})=>{if(e.length===0)return s.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-brand-dark via-brand-purple/30 to-brand-burgundy/30 rounded-lg border border-white/10",children:[s.jsx(ck,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white",children:"Aucun document"}),s.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ajoutez vos documents importants pour y accéder facilement lors d'un contrôle."})]});const r=n=>{const a=URL.createObjectURL(n.file),i=window.document.createElement("a");i.style.display="none",i.href=a,i.download=n.title+"."+n.file.name.split(".").pop(),window.document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),window.document.body.removeChild(i)};return s.jsx("div",{className:"space-y-4",children:e.map(n=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx(ck,{size:24,className:"text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[n.title,n.isRequired&&s.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[s.jsx(dw,{size:12,className:"mr-1"}),"Obligatoire"]})]}),s.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx(ta,{size:14,className:"mr-1"}),s.jsxs("span",{children:["Ajouté le ",Kt(new Date(n.date),"dd MMMM yyyy",{locale:Zr})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>r(n),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full dark:text-blue-400 dark:hover:bg-blue-900/40",title:"Télécharger",children:s.jsx(Wo,{size:18})}),s.jsx("button",{onClick:()=>t(n.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full dark:text-red-400 dark:hover:bg-red-900/40",title:"Supprimer",children:s.jsx(Ci,{size:18})})]})]},n.id))})};var pWe=Object.defineProperty,uw=Object.getOwnPropertySymbols,iW=Object.prototype.hasOwnProperty,sW=Object.prototype.propertyIsEnumerable,NM=(e,t,r)=>t in e?pWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wS=(e,t)=>{for(var r in t||(t={}))iW.call(t,r)&&NM(e,r,t[r]);if(uw)for(var r of uw(t))sW.call(t,r)&&NM(e,r,t[r]);return e},_S=(e,t)=>{var r={};for(var n in e)iW.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&uw)for(var n of uw(e))t.indexOf(n)<0&&sW.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var cf;(e=>{const t=class pr{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<pr.MIN_VERSION||c>pr.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let m=0;m<this.size;m++)h.push(!1);for(let m=0;m<this.size;m++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),f==-1){let m=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const g=this.getPenaltyScore();g<m&&(f=x,m=g),this.applyMask(x)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return pr.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return pr.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,p=!0){if(!(pr.MIN_VERSION<=d&&d<=f&&f<=pr.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let m,x;for(m=d;;m++){const y=pr.getNumDataCodewords(m,u)*8,w=o.getTotalBits(c,m);if(w<=y){x=w;break}if(m>=f)throw new RangeError("Data too long")}for(const y of[pr.Ecc.MEDIUM,pr.Ecc.QUARTILE,pr.Ecc.HIGH])p&&x<=pr.getNumDataCodewords(m,y)*8&&(u=y);let g=[];for(const y of c){r(y.mode.modeBits,4,g),r(y.numChars,y.mode.numCharCountBits(m),g);for(const w of y.getData())g.push(w)}a(g.length==x);const v=pr.getNumDataCodewords(m,u)*8;a(g.length<=v),r(0,Math.min(4,v-g.length),g),r(0,(8-g.length%8)%8,g),a(g.length%8==0);for(let y=236;g.length<v;y^=253)r(y,8,g);let b=[];for(;b.length*8<g.length;)b.push(0);return g.forEach((y,w)=>b[w>>>3]|=y<<7-(w&7)),new pr(m,u,b,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;a(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,n(f,h));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,n(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,n(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,n(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let d=0;d<18;d++){const f=n(u,d),h=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(h,p,f),this.setFunctionModule(p,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),p=c+f,m=u+d;0<=p&&p<this.size&&0<=m&&m<this.size&&this.setFunctionModule(p,m,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=pr.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=pr.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=pr.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(pr.getNumRawDataModules(u)/8),m=f-p%f,x=Math.floor(p/f);let g=[];const v=pr.reedSolomonComputeDivisor(h);for(let y=0,w=0;y<f;y++){let N=c.slice(w,w+x-h+(y<m?0:1));w+=N.length;const S=pr.reedSolomonComputeRemainder(N,v);y<m&&N.push(0),g.push(N.concat(S))}let b=[];for(let y=0;y<g[0].length;y++)g.forEach((w,N)=>{(y!=x-h||N>=m)&&b.push(w[y])});return a(b.length==p),b}drawCodewords(c){if(c.length!=Math.floor(pr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const p=d-h,x=(d+1&2)==0?this.size-1-f:f;!this.isFunction[x][p]&&u<c.length*8&&(this.modules[x][p]=n(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[h][g]==p?(m++,m==5?c+=pr.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*pr.PENALTY_N3),p=this.modules[h][g],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*pr.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][h]==p?(m++,m==5?c+=pr.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*pr.PENALTY_N3),p=this.modules[g][h],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*pr.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const m=this.modules[h][p];m==this.modules[h][p+1]&&m==this.modules[h+1][p]&&m==this.modules[h+1][p+1]&&(c+=pr.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((p,m)=>p+(m?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return a(0<=f&&f<=9),c+=f*pr.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<pr.MIN_VERSION||c>pr.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(pr.getNumRawDataModules(c)/8)-pr.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*pr.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=pr.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=pr.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((p,m)=>d[m]^=pr.reedSolomonMultiply(p,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return a(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const i=class Kn{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new Kn(Kn.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Kn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new Kn(Kn.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Kn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=Kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=Kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(f,11,u)}return d<c.length&&r(Kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Kn(Kn.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Kn.isNumeric(c)?[Kn.makeNumeric(c)]:Kn.isAlphanumeric(c)?[Kn.makeAlphanumeric(c)]:[Kn.makeBytes(Kn.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Kn(Kn.Mode.ECI,0,u)}static isNumeric(c){return Kn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Kn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(cf||(cf={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(cf||(cf={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(cf||(cf={}));var zh=cf;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var mWe={L:zh.QrCode.Ecc.LOW,M:zh.QrCode.Ecc.MEDIUM,Q:zh.QrCode.Ecc.QUARTILE,H:zh.QrCode.Ecc.HIGH},oW=128,lW="L",cW="#FFFFFF",uW="#000000",dW=!1,fW=1,xWe=4,gWe=0,vWe=.1;function hW(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function pW(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function bWe(e,t,r,n){if(n==null)return null;const a=e.length+r*2,i=Math.floor(t*vWe),o=a/t,l=(n.width||i)*o,c=(n.height||i)*o,u=n.x==null?e.length/2-l/2:n.x*o,d=n.y==null?e.length/2-c/2:n.y*o,f=n.opacity==null?1:n.opacity;let h=null;if(n.excavate){let m=Math.floor(u),x=Math.floor(d),g=Math.ceil(l+u-m),v=Math.ceil(c+d-x);h={x:m,y:x,w:g,h:v}}const p=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:p}}function yWe(e,t){return t!=null?Math.max(Math.floor(t),0):e?xWe:gWe}function mW({value:e,level:t,minVersion:r,includeMargin:n,marginSize:a,imageSettings:i,size:o,boostLevel:l}){let c=K.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((x,g)=>(x.push(...zh.QrSegment.makeSegments(g)),x),[]);return zh.QrCode.encodeSegments(m,mWe[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=K.useMemo(()=>{let p=c.getModules();const m=yWe(n,a),x=p.length+m*2,g=bWe(p,o,m,i);return{cells:p,margin:m,numCells:x,calculatedImageSettings:g}},[c,o,i,n,a]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var wWe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),_We=K.forwardRef(function(t,r){const n=t,{value:a,size:i=oW,level:o=lW,bgColor:l=cW,fgColor:c=uW,includeMargin:u=dW,minVersion:d=fW,boostLevel:f,marginSize:h,imageSettings:p}=n,x=_S(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=x,v=_S(x,["style"]),b=p==null?void 0:p.src,y=K.useRef(null),w=K.useRef(null),N=K.useCallback(B=>{y.current=B,typeof r=="function"?r(B):r&&(r.current=B)},[r]),[S,j]=K.useState(!1),{margin:A,cells:T,numCells:R,calculatedImageSettings:O}=mW({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:p,size:i});K.useEffect(()=>{if(y.current!=null){const B=y.current,G=B.getContext("2d");if(!G)return;let U=T;const W=w.current,X=O!=null&&W!==null&&W.complete&&W.naturalHeight!==0&&W.naturalWidth!==0;X&&O.excavation!=null&&(U=pW(T,O.excavation));const q=window.devicePixelRatio||1;B.height=B.width=i*q;const le=i/R*q;G.scale(le,le),G.fillStyle=l,G.fillRect(0,0,R,R),G.fillStyle=c,wWe?G.fill(new Path2D(hW(U,A))):T.forEach(function(se,I){se.forEach(function(P,M){P&&G.fillRect(M+A,I+A,1,1)})}),O&&(G.globalAlpha=O.opacity),X&&G.drawImage(W,O.x+A,O.y+A,O.w,O.h)}}),K.useEffect(()=>{j(!1)},[b]);const E=wS({height:i,width:i},g);let L=null;return b!=null&&(L=K.createElement("img",{src:b,key:b,style:{display:"none"},onLoad:()=>{j(!0)},ref:w,crossOrigin:O==null?void 0:O.crossOrigin})),K.createElement(K.Fragment,null,K.createElement("canvas",wS({style:E,height:i,width:i,ref:N,role:"img"},v)),L)});_We.displayName="QRCodeCanvas";var xW=K.forwardRef(function(t,r){const n=t,{value:a,size:i=oW,level:o=lW,bgColor:l=cW,fgColor:c=uW,includeMargin:u=dW,minVersion:d=fW,boostLevel:f,title:h,marginSize:p,imageSettings:m}=n,x=_S(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:v,numCells:b,calculatedImageSettings:y}=mW({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:p,imageSettings:m,size:i});let w=v,N=null;m!=null&&y!=null&&(y.excavation!=null&&(w=pW(v,y.excavation)),N=K.createElement("image",{href:m.src,height:y.h,width:y.w,x:y.x+g,y:y.y+g,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const S=hW(w,g);return K.createElement("svg",wS({height:i,width:i,viewBox:`0 0 ${b} ${b}`,ref:r,role:"img"},x),!!h&&K.createElement("title",null,h),K.createElement("path",{fill:l,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),K.createElement("path",{fill:c,d:S,shapeRendering:"crispEdges"}),N)});xW.displayName="QRCodeSVG";const NWe=({documents:e,onClose:t})=>{const[r,n]=k.useState("");k.useEffect(()=>{if(e.length>0){const i=e.map(o=>({id:o.id,title:o.title,type:o.file.type,size:o.file.size,required:o.isRequired}));n(JSON.stringify({type:"OYSTERCULT_DIGITAL_VAULT",documents:i,expiry:Date.now()+36e5}))}},[e]);const a=()=>{const i=window.document.getElementById("qr-code-svg");if(i){const o=window.document.createElement("canvas"),l=o.getContext("2d"),c=new XMLSerializer().serializeToString(i),u=new Image;u.onload=()=>{o.width=200,o.height=200,l==null||l.drawImage(u,0,0,200,200);const d=o.toDataURL("image/png"),f=window.document.createElement("a");f.href=d,f.download="coffre-fort-numerique-qrcode.png",window.document.body.appendChild(f),f.click(),window.document.body.removeChild(f)},u.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};return s.jsx(_r,{children:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsxs(je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"QR Code d'accès"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:s.jsx(zt,{size:20})})]}),e.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(og,{size:60,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun document obligatoire"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez pas encore ajouté de documents marqués comme obligatoires."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"p-4 bg-white rounded-lg",children:s.jsx(xW,{id:"qr-code-svg",value:r,size:200,level:"H",includeMargin:!0})})}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(W0,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Ce QR code donne accès aux documents suivants :"}),s.jsx("ul",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 list-disc list-inside",children:e.map(i=>s.jsx("li",{children:i.title},i.id))})]})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx(Wo,{size:18,className:"mr-2"}),"Télécharger le QR Code"]})})]})]})})})})},jWe=()=>{const[e,t]=k.useState([]);return k.useEffect(()=>{(async()=>{})()},[]),{documents:e,addDocument:i=>{t(o=>[...o,i])},deleteDocument:i=>{t(o=>o.filter(l=>l.id!==i))},updateDocument:(i,o)=>{t(l=>l.map(c=>c.id===i?{...c,...o}:c))}}},SWe=()=>{const{documents:e,addDocument:t,deleteDocument:r}=jWe(),[n,a]=k.useState(!1),[i,o]=k.useState(!1),[l,c]=k.useState(""),u=e.filter(d=>d.title.toLowerCase().includes(l.toLowerCase()));return s.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[s.jsx(t1,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Coffre fort numérique"]}),s.jsx("p",{className:"text-white/70 md:hidden",children:"Stockez et gérez vos documents importants en toute sécurité"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un document",children:[s.jsx(Ho,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Ajouter un document"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Générer QR Code",children:[s.jsx(og,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Générer QR Code"})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("p",{className:"text-white/70 hidden md:block mb-6",children:"Stockez et gérez vos documents importants en toute sécurité"}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xa,{className:"absolute left-3 top-3 text-white/60",size:18,style:{top:"26%"},"aria-label":"Search icon"}),s.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400/30 focus:ring-2 focus:ring-cyan-500/40 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",value:l,onChange:d=>c(d.target.value),"aria-label":"Rechercher un document"})]})}),u.length>0?s.jsx(hWe,{documents:u,onDelete:r}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:s.jsx(t1,{className:"w-8 h-8 text-cyan-400"})}),s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Votre coffre-fort est vide"}),s.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez à ajouter des documents pour les protéger et y accéder à tout moment."}),s.jsxs("button",{onClick:()=>a(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter votre premier document",children:[s.jsx(Ho,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Ajouter votre premier document"})]})]})]})]}),n&&s.jsx(fWe,{onClose:()=>a(!1),onUpload:(d,f)=>{t({id:Date.now().toString(),title:d,file:f,date:new Date().toISOString()}),a(!1)}}),i&&s.jsx(NWe,{documents:e.filter(d=>d.isRequired),onClose:()=>o(!1)})]})};function AWe({onSelectContact:e}){const[t,r]=k.useState(""),[n,a]=k.useState(null),i=cE.filter(o=>o.name.toLowerCase().includes(t.toLowerCase()));return s.jsx("div",{className:"flex-1 h-full w-full max-w-full overflow-hidden",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"}),s.jsx("button",{className:"p-1.5 sm:p-2 bg-brand-burgundy rounded-full text-white hover:bg-brand-burgundy/80 transition-colors",children:s.jsx(gr,{size:18})})]}),s.jsx("div",{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:t,onChange:o=>r(o.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-10 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 text-sm sm:text-base"}),s.jsx(Xa,{className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"33%"},"aria-label":"Search icon",size:16})]})}),n?s.jsx("div",{className:"flex-1",children:s.jsx(NU,{contactId:n,onClose:()=>a(null)})}):s.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-white/10",children:i.length>0?s.jsx("div",{className:"space-y-0.5",children:i.map(o=>s.jsx("div",{onClick:()=>{a(o.id),e&&e(o.id)},className:"p-2 sm:p-3 hover:bg-white/5 cursor-pointer transition-colors",tabIndex:0,role:"button","aria-label":`Conversation avec ${o.name}`,children:s.jsxs("div",{className:"flex items-center justify-between pointer-events-none",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsxs("div",{className:"relative",children:[o.avatar?s.jsx("img",{src:o.avatar,alt:o.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full"}):s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-brand-primary/20 border border-brand-primary/30 flex items-center justify-center",children:s.jsx("span",{className:"text-brand-primary text-base sm:text-lg font-medium",children:o.name.substring(0,1)})}),o.online&&s.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-white text-sm sm:text-base",children:o.name}),o.lastMessage&&s.jsx("p",{className:"text-xs sm:text-sm text-white/60 truncate max-w-[150px] sm:max-w-[180px] md:max-w-[220px] lg:max-w-[280px]",children:o.lastMessage})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[o.lastMessageTime&&s.jsx("span",{className:"text-xs text-white/40",children:o.lastMessageTime}),o.unreadCount>0&&s.jsx("span",{className:"bg-brand-primary text-white text-xs rounded-full px-1.5 py-0.5 min-w-[20px] text-center",children:o.unreadCount})]})]})},o.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[s.jsx(pc,{size:36,className:"mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Aucune conversation trouvée"})]})})]})})}function CWe(){const e=Is(),t=()=>{e(-1)};return s.jsxs("div",{className:"h-full flex flex-col bg-background text-white",children:[s.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 mr-2 sm:mr-3 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:s.jsx(pb,{size:18,className:"sm:w-5 sm:h-5"})}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"})]})}),s.jsx("div",{className:"flex-1 flex w-full",children:s.jsx(AWe,{})})]})}function EWe(){const[e,t]=k.useState(null),[r,n]=k.useState(!1),[a,i]=k.useState(null),[o,l]=k.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"75kg",arrivalDate:"2025-03-02",expiryDate:"2025-03-15"},{id:"F2-02",name:"Coques",quantity:"30kg",arrivalDate:"2025-03-03",expiryDate:"2025-03-10"}],"Chambre froide":[{id:"CF-01",name:"Huîtres Plates",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-03-05"},{id:"CF-02",name:"Moules",quantity:"80kg",arrivalDate:"2025-02-22",expiryDate:"2025-03-08"}]}),c=d=>{i({...d}),n(!0)},u=()=>{if(a&&e){const d={...o},f=d[e],h=f.findIndex(p=>p.id===a.id);h!==-1&&(f[h]=a,l(d)),n(!1),i(null)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(o).map(([d,f])=>s.jsxs(Vg,{onClick:()=>t(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:d}),s.jsxs("p",{className:"text-sm text-white/60",children:[f.length," produits"]})]}),s.jsx(to,{className:"w-5 h-5 text-teal-400"})]}),s.jsx("div",{className:"space-y-2",children:f.map(h=>s.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-white",children:h.name}),s.jsx("button",{onClick:p=>{p.stopPropagation(),c(h)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[s.jsx("span",{className:"text-sm text-white/60",children:h.quantity}),s.jsxs("span",{className:"text-xs text-white/40",children:["Exp. ",new Date(h.expiryDate).toLocaleDateString("fr-FR")]})]})]},h.id))})]},d))}),r&&a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le produit"}),s.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(zt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du produit"}),s.jsx(tr,{value:a.name,onChange:d=>i({...a,name:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),s.jsx(tr,{value:a.quantity,onChange:d=>i({...a,quantity:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),s.jsx(tr,{type:"date",value:a.expiryDate,onChange:d=>i({...a,expiryDate:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),s.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[s.jsx(hf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const kWe=[{id:"1",date:"2025-03-15",supplier:"Fournisseur A",products:[{name:"Huîtres Fines de Claire",quantity:"100kg",price:800},{name:"Huîtres Spéciales",quantity:"50kg",price:500}],totalAmount:1300,status:"completed"}];function TWe(){const[e,t]=k.useState(kWe),[r,n]=k.useState(null),[a,i]=k.useState(!1),[o,l]=k.useState(null),c=d=>{l({...d}),i(!0)},u=()=>{if(o){const d=e.map(f=>f.id===o.id?o:f);t(d),i(!1),l(null)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>s.jsxs("div",{onClick:()=>n(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:d.supplier}),s.jsx("p",{className:"text-sm text-white/60",children:new Date(d.date).toLocaleDateString("fr-FR")})]}),s.jsx("button",{onClick:f=>{f.stopPropagation(),c(d)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[d.products.map((f,h)=>s.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-white",children:f.name}),s.jsx("span",{className:"text-sm text-white/60",children:f.quantity})]}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-sm text-teal-400",children:[f.price,"€"]})})]},h)),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Total"}),s.jsxs("span",{className:"text-sm font-medium text-white",children:[d.totalAmount,"€"]})]})})]})]},d.id))}),a&&o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier l'achat"}),s.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(zt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),s.jsx(tr,{value:o.supplier,onChange:d=>l({...o,supplier:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),s.jsx(tr,{type:"date",value:o.date,onChange:d=>l({...o,date:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.products.map((d,f)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-1",children:["Produit ",f+1]}),s.jsx(tr,{value:d.name,onChange:h=>{const p=[...o.products];p[f]={...d,name:h.target.value},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40 mb-2",placeholder:"Nom du produit"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(tr,{value:d.quantity,onChange:h=>{const p=[...o.products];p[f]={...d,quantity:h.target.value},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Quantité"}),s.jsx(tr,{type:"number",value:d.price,onChange:h=>{const p=[...o.products];p[f]={...d,price:Number(h.target.value)},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Prix"})]})]},f)),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),s.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[s.jsx(hf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const jM=[{id:"1",type:"invoice",number:"FC-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",amount:"1,250.00 €",products:"Palourdes (150kg)",status:"validated"},{id:"2",type:"delivery_note",number:"BL-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",products:"Palourdes (150kg)",status:"validated",expiryDate:"2025-03-15"},{id:"3",type:"invoice",number:"FC-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",amount:"2,340.00 €",products:"Moules (200kg), Huîtres (50kg)",status:"validated"},{id:"4",type:"delivery_note",number:"BL-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",products:"Moules (200kg), Huîtres (50kg)",status:"validated",expiryDate:"2025-03-10"},{id:"5",type:"invoice",number:"FC-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",amount:"890.00 €",products:"Huîtres creuses (100kg)",status:"validated"},{id:"6",type:"delivery_note",number:"BL-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",products:"Huîtres creuses (100kg)",status:"validated",expiryDate:"2025-03-05"},{id:"7",type:"invoice",number:"FC-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",amount:"1,780.00 €",products:"Palourdes (100kg), Moules (80kg)",status:"validated"},{id:"8",type:"delivery_note",number:"BL-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",products:"Palourdes (100kg), Moules (80kg)",status:"validated",expiryDate:"2025-02-28"}];function OWe(){const[e,t]=k.useState(""),[r,n]=k.useState("all"),[a,i]=k.useState({start:"",end:""}),[o,l]=k.useState(null),[c,u]=k.useState(!1),[d,f]=k.useState(null),h=y=>{l(y)},p=y=>{f({...y}),u(!0)},m=()=>{d&&(jM.map(y=>y.id===d.id?d:y),u(!1),f(null))},x=jM.filter(y=>{const w=y.number.toLowerCase().includes(e.toLowerCase())||y.supplier.toLowerCase().includes(e.toLowerCase())||y.products.toLowerCase().includes(e.toLowerCase()),N=r==="all"||y.type===r,S=(!a.start||y.date>=a.start)&&(!a.end||y.date<=a.end);return w&&N&&S}),g=y=>{switch(y){case"validated":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},v=y=>{switch(y){case"validated":return"Validé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return y}},b=y=>new Date(y).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xa,{className:"h-5 w-5 text-white/40"})}),s.jsx("input",{type:"text",placeholder:"Rechercher par numéro, fournisseur ou produits...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",value:e,onChange:y=>t(y.target.value)})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-48",children:s.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",value:r,onChange:y=>n(y.target.value),children:[s.jsx("option",{value:"all",children:"Tous les documents"}),s.jsx("option",{value:"invoice",children:"Factures"}),s.jsx("option",{value:"delivery_note",children:"Bons de livraison"})]})}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(Wo,{size:20,className:"mr-2"}),"Exporter"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),s.jsx("input",{type:"date",value:a.start,onChange:y=>i(w=>({...w,start:y.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),s.jsx("input",{type:"date",value:a.end,onChange:y=>i(w=>({...w,end:y.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[s.jsx(qi,{size:20,className:"mr-2"}),"Filtrer"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(y=>s.jsxs(Vg,{onClick:()=>l(y),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:y.number}),s.jsx("p",{className:"text-sm text-white/60",children:y.supplier})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:w=>{w.stopPropagation(),h(y)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(qc,{className:"w-4 h-4"})}),s.jsx("button",{onClick:w=>{w.stopPropagation(),p(y)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Os,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Date"}),s.jsx("span",{className:"text-sm font-medium text-white",children:b(y.date)})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Produits"}),s.jsx("span",{className:"text-sm font-medium text-white",children:y.products})]})}),y.type==="invoice"&&s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Montant"}),s.jsx("span",{className:"text-sm font-medium text-white",children:y.amount})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),s.jsx("span",{className:`text-sm font-medium ${g(y.status)}`,children:v(y.status)})]})})]})]},y.id))}),c&&d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le document"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(zt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro"}),s.jsx(tr,{value:d.number,onChange:y=>f({...d,number:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),s.jsx(tr,{value:d.supplier,onChange:y=>f({...d,supplier:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),s.jsx(tr,{type:"date",value:d.date,onChange:y=>f({...d,date:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),d.type==="invoice"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Montant"}),s.jsx(tr,{type:"number",value:d.amount,onChange:y=>f({...d,amount:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),s.jsxs("select",{value:d.status,onChange:y=>f({...d,status:y.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",children:[s.jsx("option",{value:"validated",children:"Validé"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"rejected",children:"Rejeté"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),s.jsxs("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[s.jsx(hf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const PWe=[{id:"1",batchNumber:"LOT-2025-001",type:"movement",description:"Déplacement du lot",date:"2025-02-19T10:00:00",user:"Jean Dupont",details:{from:"Zone Nord - Table A1",to:"Zone Nord - Table A2"}},{id:"2",batchNumber:"LOT-2025-001",type:"treatment",description:"Traitement préventif",date:"2025-02-18T14:30:00",user:"Marie Martin",details:{treatment:"Nettoyage des poches"}}],DWe={movement:na,treatment:ao,quality_check:m0,alert:Ka},CN={movement:"bg-emerald-400/20 text-emerald-300",treatment:"bg-emerald-500/20 text-emerald-300",quality_check:"bg-emerald-600/20 text-emerald-300",alert:"bg-emerald-700/20 text-emerald-300"};function IWe({searchQuery:e}){const t=PWe.filter(r=>r.batchNumber.toLowerCase().includes(e.toLowerCase())||r.description.toLowerCase().includes(e.toLowerCase()));return s.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-emerald-400/30",children:s.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des événements"})}),s.jsx("div",{className:"divide-y divide-white/10",children:t.map(r=>{const n=DWe[r.type];return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg ${CN[r.type].split(" ")[0]} flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{size:20,className:CN[r.type].split(" ")[1]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h4",{className:"text-lg font-medium text-white truncate",children:r.batchNumber}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${CN[r.type]}`,children:r.type==="movement"?"Déplacement":r.type==="treatment"?"Traitement":r.type==="quality_check"?"Contrôle qualité":"Alerte"})]}),s.jsx("p",{className:"text-white/70 mt-1",children:r.description}),r.details&&s.jsxs("div",{className:"mt-2 space-y-1",children:[r.details.from&&r.details.to&&s.jsxs("div",{className:"text-sm text-white/60",children:["De: ",r.details.from," → Vers: ",r.details.to]}),r.details.treatment&&s.jsxs("div",{className:"text-sm text-white/60",children:["Traitement: ",r.details.treatment]}),r.details.score&&s.jsxs("div",{className:"text-sm text-white/60",children:["Score qualité: ",r.details.score,"%"]}),r.details.issue&&s.jsxs("div",{className:"text-sm text-red-400",children:["Problème: ",r.details.issue]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(su,{size:16,className:"mr-1"}),Kt(new Date(r.date),"PPp",{locale:Zr})]}),s.jsx("div",{children:"•"}),s.jsxs("div",{children:["Par: ",r.user]})]})]})]})},r.id)})})]})}function MWe(){const[e,t]=k.useState(null),[r,n]=k.useState(!1),[a,i]=k.useState(null),[o,l]=k.useState([{id:"1",name:"Bassin A1",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.5,salinity:35.2,lastMaintenance:"2025-03-01",nextMaintenance:"2025-03-15",currentBatch:{id:"B1",name:"Huîtres Fines de Claire",quantity:"200kg",startDate:"2025-03-10",endDate:"2025-03-13"}},{id:"2",name:"Bassin A2",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.8,salinity:34.9,lastMaintenance:"2025-03-05",nextMaintenance:"2025-03-19",currentBatch:{id:"B2",name:"Huîtres Spéciales",quantity:"150kg",startDate:"2025-03-11",endDate:"2025-03-14"}},{id:"3",name:"Bassin B1",filterType:"UV + Mécanique",filterStatus:"maintenance",temperature:0,salinity:0,lastMaintenance:"2025-03-12",nextMaintenance:"2025-03-13"}]),c=h=>{i({...h}),n(!0)},u=()=>{if(a){const h=o.map(p=>p.id===a.id?a:p);l(h),n(!1),i(null)}},d=h=>{switch(h){case"active":return s.jsx(uf,{className:"w-5 h-5 text-green-500"});case"inactive":return s.jsx(RM,{className:"w-5 h-5 text-red-500"});case"maintenance":return s.jsx(Oa,{className:"w-5 h-5 text-yellow-500"})}},f=h=>{switch(h){case"active":return"Actif";case"inactive":return"Inactif";case"maintenance":return"En maintenance"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(h=>s.jsxs(Vg,{onClick:()=>t(h),className:"p-4 cursor-pointer hover:shadow-lg transition-shadow bg-white/5 backdrop-blur-sm border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:h.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d(h.filterStatus),s.jsx("span",{className:"text-sm text-white/60",children:f(h.filterStatus)})]})]}),s.jsx("button",{onClick:p=>{p.stopPropagation(),c(h)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[s.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Température"}),s.jsxs("div",{className:"font-medium text-white",children:[h.temperature,"°C"]})]}),s.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[s.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Salinité"}),s.jsxs("div",{className:"font-medium text-white",children:[h.salinity,"g/L"]})]})]}),h.currentBatch&&s.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[s.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Lot en cours"}),s.jsx("div",{className:"font-medium text-white",children:h.currentBatch.name}),s.jsxs("div",{className:"text-sm text-white/60 mt-1",children:[h.currentBatch.quantity," • ",new Date(h.currentBatch.endDate).toLocaleDateString("fr-FR")]})]})]})]},h.id))}),r&&a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-lg p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le bassin"}),s.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(zt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du bassin"}),s.jsx(tr,{value:a.name,onChange:h=>i({...a,name:h.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type de filtration"}),s.jsx(tr,{value:a.filterType,onChange:h=>i({...a,filterType:h.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),s.jsxs("select",{value:a.filterStatus,onChange:h=>i({...a,filterStatus:h.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"inactive",children:"Inactif"}),s.jsx("option",{value:"maintenance",children:"En maintenance"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Température (°C)"}),s.jsx(tr,{type:"number",step:"0.1",value:a.temperature,onChange:h=>i({...a,temperature:parseFloat(h.target.value)}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Salinité (g/L)"}),s.jsx(tr,{type:"number",step:"0.1",value:a.salinity,onChange:h=>i({...a,salinity:parseFloat(h.target.value)}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Dernière maintenance"}),s.jsx(tr,{type:"date",value:a.lastMaintenance,onChange:h=>i({...a,lastMaintenance:h.target.value}),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Prochaine maintenance"}),s.jsx(tr,{type:"date",value:a.nextMaintenance,onChange:h=>i({...a,nextMaintenance:h.target.value}),className:"mt-1"})]})]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Annuler"}),s.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-md",children:[s.jsx(hf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})})]})}const FWe=({searchQuery:e=""})=>{const[t,r]=k.useState([{id:"1",batchNumber:"Lot HF-2025-001",type:"Huîtres Fines de Claire",quantity:"200",status:"purification",startDate:"2025-03-10",location:"Bassin A1",expiryDate:"2025-03-24",notes:"Lot en cours de purification"}]),[n,a]=k.useState(null),[i,o]=k.useState(!1),[l,c]=k.useState(null),u=p=>{c({...p}),o(!0)},d=()=>{if(l){const p=t.map(m=>m.id===l.id?l:m);r(p),o(!1),c(null)}},f=t.filter(p=>p.status==="table1"||p.status==="table2"||p.status==="table3").slice(0,4),h=p=>FG(new Date,new Date(p));return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>s.jsxs(Vg,{onClick:()=>a(p),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:p.batchNumber}),s.jsx("p",{className:"text-sm text-white/60",children:p.type})]}),s.jsx("button",{onClick:m=>{m.stopPropagation(),u(p)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Quantité"}),s.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Emplacement"}),s.jsx("span",{className:"text-sm font-medium text-white",children:p.location})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Date d'expiration"}),s.jsx("span",{className:"text-sm font-medium text-white",children:new Date(p.expiryDate).toLocaleDateString("fr-FR")})]})}),s.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-white/60",children:"Temps en trempe"}),s.jsxs("span",{className:"text-sm font-medium text-white",children:[h(p.startDate),"h"]})]})})]})]},p.id))}),i&&l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le lot"}),s.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:s.jsx(zt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro du lot"}),s.jsx(tr,{value:l.batchNumber,onChange:p=>c({...l,batchNumber:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type"}),s.jsx(tr,{value:l.type,onChange:p=>c({...l,type:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),s.jsx(tr,{value:l.quantity,onChange:p=>c({...l,quantity:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Emplacement"}),s.jsx(tr,{value:l.location,onChange:p=>c({...l,location:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),s.jsx(tr,{type:"date",value:l.expiryDate,onChange:p=>c({...l,expiryDate:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),s.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[s.jsx(hf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})};class ur{constructor(t,r,n,a,i){this._legacyCanvasSize=ur.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||a||i?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof a=="function"?a:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof a=="number"?a:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let o=!1;if(t.hidden&&(t.hidden=!1,o=!0),document.body.contains(t)||(document.body.appendChild(t),o=!0),n=t.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(a=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),i=this.$overlay.style,i.position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!a&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let l=window.getComputedStyle(t);l.display==="none"&&(t.style.setProperty("display","block","important"),o=!0),l.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=ur.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await ur.listCameras(!1)).length}catch{return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),n;try{t&&(await r()).every(a=>!a.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((a,i)=>({id:a.deviceId,label:a.label||(i===0?"Default Camera":`Camera ${i+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),ur._stopVideoStream(n))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch{return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),ur._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),ur._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:r}=await this._getCameraStream();!this._active||this._paused?ur._stopVideoStream(t):(this._setVideoMirror(r),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(ur._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,r,n,a,i=!1,o=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,a=r.canvas,i=r.disallowCanvasResizing||!1,o=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||a||i||o?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let u,d;[n,u]=await Promise.all([n||ur.createQrEngine(),ur._loadImage(t)]),[a,d]=ur._drawToCanvas(u,l,a,i);let f;if(n instanceof Worker){let h=n;r||ur._postWorkerMessageSync(h,"inversionMode","both"),f=await new Promise((p,m)=>{let x,g,v,b=-1;g=w=>{w.data.id===b&&(h.removeEventListener("message",g),h.removeEventListener("error",v),clearTimeout(x),w.data.data!==null?p({data:w.data.data,cornerPoints:ur._convertPoints(w.data.cornerPoints,l)}):m(ur.NO_QR_CODE_FOUND))},v=w=>{h.removeEventListener("message",g),h.removeEventListener("error",v),clearTimeout(x),m("Scanner error: "+(w?w.message||w:"Unknown Error"))},h.addEventListener("message",g),h.addEventListener("error",v),x=setTimeout(()=>v("timeout"),1e4);let y=d.getImageData(0,0,a.width,a.height);b=ur._postWorkerMessageSync(h,"decode",y,[y.data.buffer])})}else f=await Promise.race([new Promise((h,p)=>window.setTimeout(()=>p("Scanner error: timeout"),1e4)),(async()=>{try{var[h]=await n.detect(a);if(!h)throw ur.NO_QR_CODE_FOUND;return{data:h.rawValue,cornerPoints:ur._convertPoints(h.cornerPoints,l)}}catch(p){if(h=p.message||p,/not implemented|service unavailable/.test(h))return ur._disableBarcodeDetector=!0,ur.scanImage(t,{scanRegion:l,canvas:a,disallowCanvasResizing:i,alsoTryWithoutScanRegion:o});throw`Scanner error: ${h}`}})()]);return c?f:f.data}catch(u){if(!l||!o)throw u;let d=await ur.scanImage(t,{qrEngine:n,canvas:a,disallowCanvasResizing:i});return c?d:d.data}finally{r||ur._postWorkerMessage(n,"close")}}setGrayscaleWeights(t,r,n,a=!0){ur._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:n,useIntegerApproximation:a})}setInversionMode(t){ur._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>fc(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[],import.meta.url).then(n=>n.createWorker()),!(!ur._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:a})=>/arm/i.test(n||"arm")&&13<=parseInt(a||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let r=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-r)/2),y:Math.round((t.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,r=t.videoWidth,n=t.videoHeight,a=t.offsetWidth,i=t.offsetHeight,o=t.offsetLeft,l=t.offsetTop,c=window.getComputedStyle(t),u=c.objectFit,d=r/n,f=a/i;switch(u){case"none":var h=r,p=n;break;case"fill":h=a,p=i;break;default:(u==="cover"?d>f:d<f)?(p=i,h=p*d):(h=a,p=h/d),u==="scale-down"&&(h=Math.min(h,r),p=Math.min(p,n))}var[m,x]=c.objectPosition.split(" ").map((v,b)=>{const y=parseFloat(v);return v.endsWith("%")?(b?i-p:a-h)*y/100:y});c=this._scanRegion.width||r,f=this._scanRegion.height||n,u=this._scanRegion.x||0;var g=this._scanRegion.y||0;d=this.$overlay.style,d.width=`${c/r*h}px`,d.height=`${f/n*p}px`,d.top=`${l+x+g/n*p}px`,n=/scaleX\(-1\)/.test(t.style.transform),d.left=`${o+(n?a-m-h:m)+(n?r-u-c:u)/r*h}px`,d.transform=t.style.transform}})}static _convertPoints(t,r){if(!r)return t;let n=r.x||0,a=r.y||0,i=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let o of t)o.x=o.x*i+n,o.y=o.y*r+a;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;t<r&&await new Promise(a=>setTimeout(a,r-t)),this._lastScanTimestamp=Date.now();try{var n=await ur.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(a){if(!this._active)return;this._onDecodeError(a)}!ur._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=ur.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:a,y:i})=>`${a},${i}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==ur.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(a=>Object.assign({},a,{[t]:{exact:this._preferredCamera}}));for(let a of[...n,...r])try{let i=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),o=this._getFacingMode(i)||(a.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:i,facingMode:o}}catch{}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let r of t.getTracks())r.stop(),t.removeTrack(r)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,r,n,a=!1){n=n||document.createElement("canvas");let i=r&&r.x?r.x:0,o=r&&r.y?r.y:0,l=r&&r.width?r.width:t.videoWidth||t.width,c=r&&r.height?r.height:t.videoHeight||t.height;return a||(a=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==a&&(n.width=a),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(t,i,o,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(t){if(t instanceof Image)return await ur._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let r=new Image;r.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await ur._awaitImageLoad(r),r}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((r,n)=>{let a=i=>{t.removeEventListener("load",a),t.removeEventListener("error",a),i instanceof ErrorEvent?n("Image load error"):r()};t.addEventListener("load",a),t.addEventListener("error",a)})}static async _postWorkerMessage(t,r,n,a){return ur._postWorkerMessageSync(await t,r,n,a)}static _postWorkerMessageSync(t,r,n,a){if(!(t instanceof Worker))return-1;let i=ur._workerMessageId++;return t.postMessage({id:i,type:r,data:n},a),i}}ur.DEFAULT_CANVAS_SIZE=400;ur.NO_QR_CODE_FOUND="No QR code found";ur._disableBarcodeDetector=!1;ur._workerMessageId=0;function RWe({onClose:e,onScanSuccess:t}){const r=k.useRef(null),[n,a]=k.useState(null);k.useState(!1);const i=k.useRef(null);return k.useEffect(()=>{if(!r.current)return;const o=new ur(r.current,l=>{t(l.data),e()},{highlightScanRegion:!0,highlightCodeOutline:!0});return i.current=o,o.start().catch(l=>{a("Impossible d'accéder à la caméra. Vérifiez les permissions."),console.error(l)}),()=>{o.destroy()}},[t,e]),s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs(je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"rounded-xl p-6 w-full max-w-md relative backdrop-blur-sm border border-white/10",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:s.jsx(zt,{size:20})}),s.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Scanner un QR Code"}),s.jsx("div",{className:"relative",children:n?s.jsx("div",{className:"p-4 bg-red-500/20 text-red-400 rounded-lg",children:n}):s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:r,className:"w-full aspect-square rounded-lg bg-black"}),s.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/50 rounded-lg pointer-events-none",children:s.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/20 rounded-lg animate-pulse"})})]})}),s.jsx("p",{className:"mt-4 text-sm text-white/60 text-center",children:"Placez le QR code dans le cadre pour le scanner automatiquement"})]})})}const LWe=({isOpen:e,onClose:t,onImportMail:r,onScanQR:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs(je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 w-full max-w-md relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300","aria-label":"Fermer",children:s.jsx(zt,{size:20,"aria-hidden":"true"})}),s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Importer des Analyses"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:()=>{const a=document.createElement("input");a.type="file",a.accept=".eml,.msg",a.onchange=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];o&&r(o)},a.click()},children:[s.jsx(uo,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:"Email du Laboratoire"}),s.jsx("p",{className:"text-sm text-white/60",children:"Importer directement depuis l'email"})]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:n,children:[s.jsx(og,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:"Scanner QR Code"}),s.jsx("p",{className:"text-sm text-white/60",children:"Scanner le code depuis le rapport"})]})]})]})]})}):null,BWe=[{id:"A123",date:"2025-03-15",bassinId:"B001",laboratoire:"Labya",status:"conforme",technicien:"Jean Dupont",nextAnalyseDate:"2025-03-22",parameters:[{name:"pH",value:7.8,unit:"",threshold:8.5,status:"normal"},{name:"Température",value:12.5,unit:"°C",threshold:15,status:"normal"},{name:"Oxygène dissous",value:8.2,unit:"mg/L",threshold:7,status:"normal"},{name:"Salinité",value:33.5,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:2.8,unit:"NTU",threshold:5,status:"normal"},{name:"E. coli",value:45,unit:"UFC/100mL",threshold:230,status:"normal"}]},{id:"A124",date:"2025-03-15",bassinId:"B002",laboratoire:"Labya",status:"en-attente",technicien:"Marie Martin",parameters:[{name:"pH",value:8.3,unit:"",threshold:8.5,status:"warning"},{name:"Température",value:14.8,unit:"°C",threshold:15,status:"warning"},{name:"Oxygène dissous",value:6.8,unit:"mg/L",threshold:7,status:"warning"},{name:"Salinité",value:34.2,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:4.2,unit:"NTU",threshold:5,status:"warning"},{name:"E. coli",value:180,unit:"UFC/100mL",threshold:230,status:"warning"}]}],$We=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!1),[a,i]=k.useState(!1),{data:o,isLoading:l}=TS({queryKey:["analyses"],queryFn:async()=>(await new Promise(m=>setTimeout(m,1e3)),BWe)}),c=async m=>{console.log("Importing from email:",m),n(!1)},u=()=>{n(!1),i(!0)},d=m=>{try{const x=JSON.parse(atob(m.split("/").pop()||""));console.log("QR Code data:",x)}catch(x){console.error("Erreur lors du décodage du QR code:",x)}},f=async()=>{try{const m=new Mt;m.setFontSize(20),m.setTextColor(44,62,80),m.text("Rapport d'Analyses OYSTER CULT",15,20),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Généré le ${Kt(new Date,"d MMMM yyyy 'à' HH:mm",{locale:Zr})}`,15,30);const x=(o==null?void 0:o.map(g=>[Kt(new Date(g.date),"dd/MM/yyyy"),g.bassinId,g.status.charAt(0).toUpperCase()+g.status.slice(1),g.technicien||"-",Kt(new Date(g.nextAnalyseDate||""),"dd/MM/yyyy")]))||[];m.autoTable({startY:40,head:[["Date","Bassin","Statut","Technicien","Prochaine Analyse"]],body:x,theme:"striped",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10}}),o==null||o.forEach((g,v)=>{v>0&&m.addPage();const b=20;m.setFontSize(16),m.setTextColor(44,62,80),m.text(`Détails Analyse - Bassin ${g.bassinId}`,15,b),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Date: ${Kt(new Date(g.date),"d MMMM yyyy",{locale:Zr})}`,15,b+10),m.text(`Technicien: ${g.technicien||"-"}`,15,b+20),m.text(`Statut: ${g.status.charAt(0).toUpperCase()+g.status.slice(1)}`,15,b+30);const y=g.parameters.map(w=>[w.name,w.value.toString(),w.unit,w.threshold?w.threshold.toString():"-",w.status.charAt(0).toUpperCase()+w.status.slice(1)]);m.autoTable({startY:b+40,head:[["Paramètre","Valeur","Unité","Seuil","Statut"]],body:y,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10},columnStyles:{0:{cellWidth:40},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:30}}})}),m.save(`analyses_${Kt(new Date,"yyyy-MM-dd")}.pdf`)}catch(m){console.error("Erreur lors de l'export:",m)}},h=m=>{switch(m){case"conforme":return"bg-emerald-500/20 text-emerald-400";case"non-conforme":return"bg-red-500/20 text-red-400";default:return"bg-amber-500/20 text-amber-400"}},p=m=>{switch(m){case"normal":return"text-emerald-400";case"warning":return"text-amber-400";case"critical":return"text-red-400";default:return"text-white"}};return s.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[s.jsx(uk,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Analyses"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer des analyses",children:[s.jsx(Ho,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Importer Analyses"})]}),s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter en PDF",children:[s.jsx(Wo,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Exporter PDF"})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:s.jsx(ao,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-medium text-white",children:"Résultats d'analyses"}),s.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",Kt(new Date,"d MMMM yyyy 'à' HH:mm",{locale:Zr})]})]})]}),l?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"w-10 h-10 border-t-2 border-b-2 border-cyan-400 rounded-full animate-spin"})}):(o==null?void 0:o.length)===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:s.jsx(uk,{className:"w-8 h-8 text-cyan-400","aria-hidden":"true"})}),s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Aucune analyse disponible"}),s.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez par importer des résultats d'analyses de laboratoire."}),s.jsxs("button",{onClick:()=>n(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer votre première analyse",children:[s.jsx(Ho,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:"Importer une analyse"})]})]}):s.jsx("div",{className:"space-y-4",children:o==null?void 0:o.map(m=>s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300 transform hover:-translate-y-1",children:[s.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>t(e===m.id?null:m.id),children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${h(m.status)} backdrop-filter backdrop-blur-[8px] border border-white/10 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-white",children:["Bassin ",m.bassinId]}),s.jsxs("p",{className:"text-sm text-white/60",children:[Kt(new Date(m.date),"d MMMM yyyy",{locale:Zr}),m.technicien?` • ${m.technicien}`:""]})]})]}),s.jsx("button",{"aria-label":e===m.id?"Masquer les détails":"Afficher les détails",className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:e===m.id?s.jsx(ff,{className:"w-5 h-5 text-white/60","aria-hidden":"true"}):s.jsx(Fo,{className:"w-5 h-5 text-white/60","aria-hidden":"true"})})]}),e===m.id&&s.jsxs(je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-white/10",children:[s.jsx("h4",{className:"font-medium text-white mb-3",children:"Paramètres analysés"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m.parameters.map((x,g)=>s.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg p-3 border border-white/10 hover:border-cyan-400/30 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] transition-all duration-300 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/80",children:x.name}),s.jsxs("p",{className:`text-lg font-medium ${p(x.status)}`,children:[x.value," ",x.unit]})]}),x.threshold&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-white/60",children:"Seuil"}),s.jsxs("p",{className:"text-sm text-white/80",children:[x.threshold," ",x.unit]})]})]},g))}),m.nextAnalyseDate&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/60",children:[s.jsx("span",{children:"Prochaine analyse prévue le:"}),s.jsx("span",{className:"text-white",children:Kt(new Date(m.nextAnalyseDate),"d MMMM yyyy",{locale:Zr})})]})]})]},m.id))})]})]}),s.jsx(_r,{children:r&&s.jsx(LWe,{isOpen:r,onClose:()=>n(!1),onImportMail:c,onScanQR:u})}),s.jsx(_r,{children:a&&s.jsx(RWe,{onClose:()=>i(!1),onScanSuccess:d})})]})},Fa={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},zWe={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},EN={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}},UWe=()=>{const[e,t]=k.useState(!0),[r,n]=k.useState(!1),[a,i]=k.useState(!1),[o,l]=k.useState([{id:"1",name:"Caméra Entrée",ip:"192.168.1.100:554",status:"online",lastSeen:"24/03 17:47",alerts:0},{id:"2",name:"Caméra Bassin #1",ip:"192.168.1.101:554",status:"online",lastSeen:"24/03 17:50",alerts:2},{id:"3",name:"Caméra Bassin #2",ip:"192.168.1.102:554",status:"offline",lastSeen:"23/03 14:33",alerts:0},{id:"4",name:"Caméra Zone de Stockage",ip:"192.168.1.103:554",status:"online",lastSeen:"24/03 17:49",alerts:1}]);k.useEffect(()=>{const u=()=>{i(window.innerWidth<=768)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),k.useEffect(()=>{const u=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(u)},[]);const c=u=>{u.preventDefault();const d=new FormData(u.currentTarget),f={id:`${o.length+1}`,name:d.get("camera-name"),ip:d.get("camera-ip"),status:"online",lastSeen:new Date().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),alerts:0};l([...o,f]),n(!1)};return e?s.jsx("div",{className:"h-full w-full flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-t-cyan-500 border-b-cyan-500 border-l-transparent border-r-transparent rounded-full animate-spin"}),s.jsx("span",{className:"mt-4 text-white/70",children:"Chargement des caméras..."})]})}):s.jsxs(je.div,{initial:"hidden",animate:"visible",variants:zWe,className:"space-y-6",children:[s.jsx(_g,{icon:s.jsx(WV,{size:28,className:"text-white"}),title:"Surveillance"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[s.jsxs(je.div,{variants:EN,className:`${Fa.container} ${Fa.hoverEffect} p-5 space-y-4`,children:[s.jsx("h2",{className:Fa.heading,children:"Statistiques surveillance"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:Fa.subheading,children:"Caméras actives"}),s.jsxs("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:[o.filter(u=>u.status==="online").length,"/",o.length]})]}),s.jsxs("div",{className:"text-2xl font-bold text-white mt-2",children:[Math.round(o.filter(u=>u.status==="online").length/o.length*100),"%"]}),s.jsx("div",{className:Fa.progressBar,children:s.jsx(je.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:`${o.filter(u=>u.status==="online").length/o.length*100}%`},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:Fa.subheading,children:"Alertes aujourd'hui"}),s.jsx("div",{className:"bg-amber-500/20 text-amber-300 text-xs px-2 py-1 rounded-full",children:o.reduce((u,d)=>u+d.alerts,0)})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:o.reduce((u,d)=>u+d.alerts,0)}),s.jsx("div",{className:Fa.progressBar,children:s.jsx(je.div,{className:"h-full bg-gradient-to-r from-amber-500 to-orange-400",initial:{width:0},animate:{width:o.reduce((u,d)=>u+d.alerts,0)>0?"50%":"0%"},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:Fa.subheading,children:"Durée fonctionnement"}),s.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"6j 12h"}),s.jsx("div",{className:Fa.progressBar,children:s.jsx(je.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"85%"},transition:{duration:1,ease:"easeOut"}})})]}),s.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:Fa.subheading,children:"Espace stockage"}),s.jsx("div",{className:"bg-cyan-500/20 text-cyan-300 text-xs px-2 py-1 rounded-full",children:"84%"})]}),s.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"758.4 Go"}),s.jsx("div",{className:Fa.progressBar,children:s.jsx(je.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-400",initial:{width:0},animate:{width:"84%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),s.jsxs(je.div,{variants:EN,className:`${Fa.container} ${Fa.hoverEffect} p-5`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h2",{className:Fa.heading,children:"Caméras de surveillance"}),s.jsxs("button",{onClick:()=>n(!0),className:"px-3 py-1.5 bg-[rgba(0,128,128,0.3)] hover:bg-[rgba(0,128,128,0.4)] rounded-lg text-sm text-white flex items-center transition-all shadow-[rgba(0,0,0,0.15)_0px_4px_8px,rgba(0,210,200,0.1)_0px_0px_3px_inset] min-w-[44px] min-h-[44px]","aria-label":"Ajouter une caméra",children:[s.jsx(gr,{size:16,className:"mr-2"}),"Ajouter"]})]}),s.jsx("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:o.map(u=>s.jsxs("div",{className:"rounded-lg backdrop-blur-sm bg-[rgba(0,40,80,0.2)] border border-white/10 transition-all duration-200 hover:border-cyan-500/30 p-4 flex flex-col focus-visible:ring-2 focus-visible:ring-cyan-500/50 focus:outline-none",tabIndex:0,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-white",children:u.name}),s.jsx("p",{className:"text-white/60 text-sm",children:u.ip}),s.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",u.lastSeen]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${u.status==="online"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:u.status==="online"?"Connecté":"Déconnecté"})]}),s.jsxs("div",{className:"bg-[rgba(0,20,40,0.3)] rounded-lg h-24 overflow-hidden relative",children:[u.status==="online"?s.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url('/OYSTERCULT/images/camera-feed-${u.id}.jpg')`}}):s.jsxs("div",{className:"w-full h-full flex items-center justify-center text-white/60",children:[s.jsx(Wp,{className:"mr-2 opacity-50",size:18}),"Signal perdu"]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1",children:s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("span",{className:"text-xs text-white/80 bg-black/40 px-1.5 py-0.5 rounded text-right",children:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})})})]}),s.jsxs("div",{className:"flex justify-between gap-2 mt-3",children:[s.jsxs("button",{className:"flex-1 bg-[rgba(0,80,110,0.3)] hover:bg-[rgba(0,90,125,0.4)] text-white py-1.5 px-3 rounded-lg flex items-center justify-center text-sm transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-w-[44px] min-h-[44px]","aria-label":`Voir le flux de ${u.name}`,children:[s.jsx(qc,{size:16,className:"mr-2"}),"Voir le flux"]}),s.jsx("button",{className:"bg-[rgba(180,40,40,0.2)] hover:bg-[rgba(180,40,40,0.3)] text-red-300 p-1.5 rounded-lg flex items-center justify-center transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500/50 min-w-[44px] min-h-[44px]","aria-label":`Supprimer ${u.name}`,children:s.jsx(Ci,{size:16})})]})]},u.id))})]}),s.jsxs(je.div,{variants:EN,className:`${Fa.container} ${Fa.hoverEffect} p-5`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsx("h2",{className:Fa.heading,children:"Journal d'alertes"}),s.jsx("div",{className:"text-sm text-white/60",children:"Aujourd'hui, 24 mars"})]}),s.jsxs("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:[[{id:1,camera:"Caméra Bassin #1",time:"16:05",message:"Mouvement détecté",level:"warning"},{id:2,camera:"Caméra Zone de Stockage",time:"15:32",message:"Objet retiré",level:"warning"},{id:3,camera:"Caméra Bassin #1",time:"14:47",message:"Niveau d'eau bas",level:"error"},{id:4,camera:"Caméra Bassin #2",time:"09:15",message:"Connexion perdue",level:"error"},{id:5,camera:"Caméra Entrée",time:"08:01",message:"Mouvement détecté",level:"info"}].map(u=>s.jsxs("div",{className:"p-3 rounded-lg flex items-center bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,25,45,0.4)] transition-colors",children:[s.jsx("div",{className:`
                  w-10 h-10 rounded-full mr-3 flex items-center justify-center
                  ${u.level==="error"?"bg-red-500/20 text-red-300":u.level==="warning"?"bg-amber-500/20 text-amber-300":"bg-blue-500/20 text-blue-300"}
                `,children:s.jsx(Ka,{size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-white",children:u.camera}),s.jsx("span",{className:"text-sm text-white/40",children:u.time})]}),s.jsx("p",{className:"text-sm mt-0.5 text-white/70",children:u.message})]})]},u.id)),s.jsx("button",{className:"w-full mt-4 bg-[rgba(0,40,80,0.2)] hover:bg-[rgba(0,50,90,0.3)] text-white/80 py-2 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-h-[44px]","aria-label":"Voir toutes les alertes",children:"Voir toutes les alertes"})]})]})]}),s.jsx(_r,{children:r&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:[s.jsx(je.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>n(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),s.jsx(je.div,{className:`relative w-full max-w-md rounded-xl ${Fa.container} overflow-hidden`,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:`text-xl ${Fa.heading}`,children:"Ajouter une caméra"}),s.jsx("button",{onClick:()=>n(!1),className:"rounded-full p-1.5 bg-[rgba(0,40,80,0.3)] hover:bg-[rgba(0,50,90,0.4)] transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50","aria-label":"Fermer",children:s.jsx(zt,{size:18})})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"camera-name",className:"block text-sm font-medium mb-1 text-white/80",children:"Nom"}),s.jsx("input",{id:"camera-name",name:"camera-name",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Caméra Entrée",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"camera-location",className:"block text-sm font-medium mb-1 text-white/80",children:"Emplacement"}),s.jsx("input",{id:"camera-location",name:"camera-location",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Entrée principale"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"camera-ip",className:"block text-sm font-medium mb-1 text-white/80",children:"Adresse IP"}),s.jsx("input",{id:"camera-ip",name:"camera-ip",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"192.168.1.100:554",pattern:"^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\:[0-9]{1,5})?$",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"camera-type",className:"block text-sm font-medium mb-1 text-white/80",children:"Type"}),s.jsxs("select",{id:"camera-type",name:"camera-type",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",required:!0,children:[s.jsx("option",{value:"ip",children:"Caméra IP"}),s.jsx("option",{value:"rtsp",children:"RTSP Stream"}),s.jsx("option",{value:"hls",children:"HLS Stream"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2.5 bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,30,50,0.4)] border border-white/10 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white/80 min-h-[44px]",children:"Annuler"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white font-medium min-h-[44px]",children:"Ajouter"})]})]})]})})]})})]})},NS=k.forwardRef(({children:e,className:t,variant:r="default",noPadding:n,fullWidth:a,...i},o)=>{const l="rounded-lg backdrop-blur-sm bg-black/40 border transition-all duration-200",c={default:"border-white/10",outlined:"border-white/20 shadow-sm",elevated:"border-white/10 shadow-lg"},u=n?"p-0":"p-6",d=a?"w-full":"";return s.jsx(je.div,{ref:o,className:Za(l,c[r],u,d,"focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50",t),...i,whileHover:{scale:1.005},transition:{type:"spring",duration:.3,...i.transition},style:{WebkitBackdropFilter:"blur(8px)",...i.style},tabIndex:i.tabIndex||0,children:e})});NS.displayName="Card";const Yu={success:e=>{console.log(`Success: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-green-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},3e3)},error:e=>{console.error(`Error: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-red-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},4e3)},info:e=>{console.info(`Info: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-blue-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},3e3)},warning:e=>{console.warn(`Warning: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-yellow-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",window.matchMedia("(prefers-reduced-motion: reduce)").matches?(t.style.opacity="1",t.style.transform="none"):(t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)"),setTimeout(()=>{t.style.opacity="0",window.matchMedia("(prefers-reduced-motion: reduce)").matches||(t.style.transform="translateY(-20px)"),setTimeout(()=>t.remove(),300)},3e3)}},HWe=()=>{const[e,t]=k.useState(()=>{const g=localStorage.getItem("surveillanceDevices");return g?JSON.parse(g):[{id:"1",name:"Caméra entrée",ipAddress:"192.168.1.100",port:"554",username:"admin",password:"********",isConnected:!0,lastSeen:new Date().toISOString()}]}),[r,n]=k.useState({name:"",ipAddress:"",port:"554",username:"admin",password:""}),[a,i]=k.useState(!1),[o,l]=k.useState(!1),[c,u]=k.useState(!0);k.useEffect(()=>{localStorage.setItem("surveillanceDevices",JSON.stringify(e))},[e]),k.useEffect(()=>{const g=setTimeout(()=>{u(!1)},800);return()=>clearTimeout(g)},[]);const d=(g,v)=>{n({...r,[g]:v})},f=()=>{if(!r.ipAddress||!r.port){Yu.error("Veuillez saisir l'adresse IP et le port");return}l(!0),setTimeout(()=>{l(!1),Math.random()>.2?Yu.success(`Connexion réussie à ${r.ipAddress}:${r.port}`):Yu.error(`Échec de connexion à ${r.ipAddress}:${r.port}`)},1500)},h=()=>{if(!r.name||!r.ipAddress){Yu.error("Veuillez saisir au moins le nom et l'adresse IP");return}const g={...r,id:Date.now().toString(),isConnected:!0,lastSeen:new Date().toISOString()};t([...e,g]),n({name:"",ipAddress:"",port:"554",username:"admin",password:""}),i(!1),Yu.success(`${g.name} ajouté avec succès`)},p=g=>{const v=e.find(b=>b.id===g);v&&(t(e.filter(b=>b.id!==g)),Yu.info(`${v.name} supprimé`))},m=g=>{Yu.info(`Ouverture du flux de ${g.name}...`),setTimeout(()=>{const v=e.map(b=>b.id===g.id?{...b,lastSeen:new Date().toISOString()}:b);t(v),Yu.success(`Flux de ${g.name} prêt à être affiché`)},1200)},x=g=>{if(!g)return"Jamais";const v=new Date(g);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(v)};return c?s.jsx("div",{className:"container mx-auto p-4 max-w-4xl flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(DN,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-cyan-400"}),s.jsx("p",{className:"text-lg text-white/70",children:"Chargement des appareils de surveillance..."})]})}):s.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Surveillance Vidéo"}),s.jsxs(xn,{onClick:()=>i(!a),"aria-label":a?"Annuler l'ajout d'une caméra":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[a?s.jsx(zt,{className:"mr-2"}):s.jsx(gr,{className:"mr-2"}),a?"Annuler":"Ajouter une caméra"]})]}),a&&s.jsxs(NS,{className:"p-4 mb-6 border border-blue-500/30",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Connecter un nouvel appareil"}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ql,{htmlFor:"name",children:"Nom de l'appareil"}),s.jsx(tr,{id:"name",value:r.name,onChange:g=>d("name",g.target.value),placeholder:"Caméra entrée",className:"mt-1","aria-required":"true"})]}),s.jsxs("div",{children:[s.jsx(Ql,{htmlFor:"ipAddress",children:"Adresse IP"}),s.jsx(tr,{id:"ipAddress",value:r.ipAddress,onChange:g=>d("ipAddress",g.target.value),placeholder:"192.168.1.100",className:"mt-1","aria-required":"true"})]}),s.jsxs("div",{children:[s.jsx(Ql,{htmlFor:"port",children:"Port"}),s.jsx(tr,{id:"port",value:r.port,onChange:g=>d("port",g.target.value),placeholder:"554",className:"mt-1","aria-required":"true"})]}),s.jsxs("div",{children:[s.jsx(Ql,{htmlFor:"username",children:"Nom d'utilisateur"}),s.jsx(tr,{id:"username",value:r.username,onChange:g=>d("username",g.target.value),placeholder:"admin",className:"mt-1",autoComplete:"username"})]}),s.jsxs("div",{children:[s.jsx(Ql,{htmlFor:"password",children:"Mot de passe"}),s.jsx(tr,{id:"password",type:"password",value:r.password,onChange:g=>d("password",g.target.value),placeholder:"••••••••",autoComplete:"new-password",className:"mt-1"})]}),s.jsxs("div",{className:"flex gap-2 col-span-2 mt-2",children:[s.jsxs(xn,{variant:"outline",onClick:f,disabled:o,"aria-label":"Tester la connexion",className:"min-w-[44px] min-h-[44px]",children:[o?s.jsx(DN,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(dw,{className:"mr-2 h-4 w-4"}),"Tester la connexion"]}),s.jsxs(xn,{onClick:h,"aria-label":"Ajouter la caméra",className:"min-w-[44px] min-h-[44px]",children:[s.jsx(gr,{className:"mr-2 h-4 w-4"}),"Ajouter"]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Vos appareils (",e.length,")"]}),e.length===0?s.jsxs("div",{className:"text-center p-8 bg-black/20 rounded-lg border border-white/10",children:[s.jsx(Wp,{className:"mx-auto h-12 w-12 mb-3 opacity-50"}),s.jsx("p",{className:"text-white/70",children:"Aucun appareil de surveillance connecté"}),s.jsx("p",{className:"text-sm text-white/50 mb-4",children:'Cliquez sur "Ajouter une caméra" pour commencer'}),s.jsxs(xn,{onClick:()=>i(!0),"aria-label":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[s.jsx(gr,{className:"mr-2 h-4 w-4"}),"Ajouter une caméra"]})]}):s.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:e.map(g=>s.jsxs(NS,{className:"p-4 flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:g.name}),s.jsxs("p",{className:"text-white/60 text-sm",children:[g.ipAddress,":",g.port]}),s.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",x(g.lastSeen)]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${g.isConnected?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:g.isConnected?"Connecté":"Déconnecté"})]}),s.jsxs("div",{className:"mt-auto flex gap-2 pt-4",children:[s.jsxs(xn,{variant:"outline",className:"flex-1 min-w-[44px] min-h-[44px]",onClick:()=>m(g),"aria-label":`Voir le flux de ${g.name}`,children:[s.jsx(qc,{className:"mr-2 h-4 w-4"}),"Voir"]}),s.jsx(xn,{variant:"outline",className:"bg-red-500/10 hover:bg-red-500/20 text-red-300 min-w-[44px] min-h-[44px]",onClick:()=>p(g.id),"aria-label":`Supprimer ${g.name}`,children:s.jsx(Ci,{className:"h-4 w-4"})})]})]},g.id))})]})]})},WWe=()=>{const{pathname:e}=Hp();return k.useEffect(()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0;const t=document.querySelector("meta[name=viewport]");t&&t.remove();const r=document.createElement("meta");r.name="viewport",r.content="width=1920, initial-scale=0.25, user-scalable=yes",document.head.appendChild(r),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},50)},[e]),null},VWe=new HM("https://cool-otter-362.convex.cloud");function qWe(){const e=Is(),t=Hp(),[r,n]=k.useState(!1),[a,i]=k.useState(!1),[o,l]=k.useState(!1),c=k.useRef(null),[u,d]=k.useState(!1),[f,h]=k.useState(!1),{totalUnreadCount:p,markAsRead:m}=PX();k.useEffect(()=>{const g=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;d(g),g&&document.body.classList.add("ios-device")},[]),k.useEffect(()=>{const g=()=>{h(window.innerWidth<=768)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),k.useEffect(()=>{t.pathname.includes("/network/messages")||(c.current=t.pathname)},[t.pathname]);const x=()=>{t.pathname.includes("/network/messages")?e(c.current||"/dashboard"):e("/network/messages")};return s.jsxs(s.Fragment,{children:[s.jsx(yX,{onShowMobileMenu:()=>n(!0),onToggleNotifications:()=>i(!a),onShowEmergency:()=>l(!0),onEmergencyClick:()=>l(!0),onToggleMessages:x,unreadMessagesCount:p}),s.jsxs("div",{className:"flex min-h-screen h-full",children:[s.jsx("button",{className:"fixed top-6 left-6 z-50 md:hidden flex items-center justify-center w-14 h-14 rounded-lg shadow-lg transition-all duration-200",onClick:()=>n(!0),"aria-label":"Ouvrir le menu",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(0, 210, 200, 0.25) 0px 0px 15px inset",WebkitTapHighlightColor:"transparent",transform:"translateZ(0)",willChange:"transform"},children:s.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"24px",height:"24px",filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.4))"},children:[s.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})}),s.jsx(NX,{showMobileMenu:r,onCloseMobileMenu:()=>n(!1),onEmergencyClick:()=>l(!0),onToggleMessages:x,onToggleNotifications:()=>i(!0)}),s.jsx("div",{className:`
            flex-1 pt-16 md:pt-16 
            pb-4 
            px-4 md:px-6 lg:px-8
            ml-0 lg:ml-[4.5rem] transition-all duration-300
            min-h-screen
            flex flex-col
          `,style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",willChange:"transform",transform:"translate3d(0,0,0)",position:"fixed",inset:"0",width:"100%",height:"100%",overflow:f&&t.pathname.endsWith("/dashboard")?"hidden":"auto"},children:s.jsx("main",{className:`flex-1 p-6 pt-12 pb-40 ${t.pathname.endsWith("/dashboard")?"h-full":"h-[calc(100%-80px)]"} ${f&&t.pathname.endsWith("/dashboard")?"overflow-hidden":""}`,children:s.jsx("div",{className:`max-w-7xl mx-auto h-full outlet-container ${t.pathname.includes("/tasks")&&!f?"mt-[50px]":""}`,style:{minHeight:"calc(100% - 80px)"},children:s.jsx(XV,{})})})})]}),s.jsxs(_r,{children:[a&&s.jsx(SX,{onClose:()=>i(!1)}),o&&s.jsx(kX,{isOpen:o,onClose:()=>l(!1)})]}),s.jsx(TX,{})]})}function GWe(){const e=Hp();Is();const t=localStorage.getItem("isAuthenticated")==="true";return f7([e.pathname]),k.useEffect(()=>{window.scrollTo(0,0),document.body.scrollTop=0},[e.pathname]),e.pathname,s.jsxs(s.Fragment,{children:[s.jsx(WWe,{}),s.jsx("div",{className:"min-h-screen w-screen h-screen overflow-auto",children:s.jsxs(YV,{children:[s.jsx(vr,{path:"/",element:s.jsx(k_,{to:"/auth",replace:!0})}),s.jsx(vr,{path:"/auth",element:s.jsx($X,{})}),s.jsx(vr,{path:"/surveillance/simple",element:s.jsx(UWe,{})}),t?s.jsxs(vr,{element:s.jsx(qWe,{}),children:[s.jsx(vr,{path:"/dashboard",element:s.jsx(Owe,{})}),s.jsx(vr,{path:"/stocks",element:s.jsx(_Fe,{})}),s.jsx(vr,{path:"/stock/:id",element:s.jsx(TFe,{})}),s.jsx(vr,{path:"/tables/:id",element:s.jsx(KRe,{})}),s.jsx(vr,{path:"/accounting",element:s.jsx(MFe,{})}),s.jsx(vr,{path:"/invoices",element:s.jsx($Fe,{})}),s.jsx(vr,{path:"/hr",element:s.jsx(ZFe,{})}),s.jsx(vr,{path:"/network",element:s.jsx(xRe,{})}),s.jsx(vr,{path:"/network/messages",element:s.jsx(CWe,{})}),s.jsx(vr,{path:"/config",element:s.jsx(jU,{})}),s.jsx(vr,{path:"/notifications",element:s.jsx(BRe,{})}),s.jsx(vr,{path:"/tasks",element:s.jsx(XRe,{})}),s.jsx(vr,{path:"/traceability",element:s.jsx(W$e,{})}),s.jsx(vr,{path:"/traceability/storage-locations",element:s.jsx(EWe,{})}),s.jsx(vr,{path:"/traceability/market-purchases",element:s.jsx(TWe,{})}),s.jsx(vr,{path:"/traceability/invoices-delivery-notes",element:s.jsx(OWe,{})}),s.jsx(vr,{path:"/traceability/batches",element:s.jsx(FWe,{})}),s.jsx(vr,{path:"/traceability/batch-history",element:s.jsx(IWe,{searchQuery:""})}),s.jsx(vr,{path:"/traceability/purification-pools",element:s.jsx(MWe,{})}),s.jsx(vr,{path:"/sales",element:s.jsx(Y$e,{})}),s.jsx(vr,{path:"/purchases",element:s.jsx(eze,{})}),s.jsx(vr,{path:"/profile",element:s.jsx(Lze,{})}),s.jsx(vr,{path:"/shop",element:s.jsx(Bze,{})}),s.jsx(vr,{path:"/suppliers",element:s.jsx(tUe,{})}),s.jsx(vr,{path:"/digital-vault",element:s.jsx(SWe,{})}),s.jsx(vr,{path:"/suppliers/:supplierId/catalog",element:s.jsx(rUe,{})}),s.jsx(vr,{path:"/suppliers/orders",element:s.jsx(dWe,{})}),s.jsx(vr,{path:"/surveillance",element:s.jsx(HWe,{})}),s.jsx(vr,{path:"/analyses",element:s.jsx($We,{})}),s.jsx(vr,{path:"*",element:s.jsx(k_,{to:"/dashboard",replace:!0})})]}):s.jsx(vr,{path:"*",element:s.jsx(k_,{to:"/auth",replace:!0})})]})})]})}function YWe(){const e=new VV;return s.jsx(WM,{client:VWe,children:s.jsxs(qV,{client:e,children:[s.jsx(GV,{basename:"",children:s.jsx(GWe,{})}),s.jsx(Bq,{position:"bottom-right"})]})})}const ag=()=>{window.scrollTo(0,0),document.querySelectorAll('.overflow-auto, .overflow-y-auto, .overflow-x-auto, [style*="overflow"]').forEach(e=>{e instanceof HTMLElement&&(e.scrollTop=0,e.scrollLeft=0)}),document.body&&(document.body.scrollTop=0,document.body.scrollLeft=0),document.documentElement&&(document.documentElement.scrollTop=0,document.documentElement.scrollLeft=0)},q5=()=>{const e=document.querySelector('meta[name="viewport"]');e&&(e.setAttribute("content","width=1920, initial-scale=0.25, user-scalable=yes"),window.scrollTo(0,0),setTimeout(()=>{e.setAttribute("content","width=1920, initial-scale=0.25, user-scalable=yes"),ag(),setTimeout(()=>{e.setAttribute("content","width=1920, initial-scale=0.25, user-scalable=yes"),window.scrollTo(0,0)},300)},100))};window.addEventListener("beforeunload",()=>{sessionStorage.setItem("pageRefreshing","true")});sessionStorage.getItem("pageRefreshing")==="true"&&(ag(),q5(),sessionStorage.removeItem("pageRefreshing"));q5();window.addEventListener("load",()=>{ag(),q5(),setTimeout(()=>{ag(),window.scrollTo(0,0)},500)});window.addEventListener("popstate",()=>{ag(),q5()});const XWe=new HM("https://cool-otter-362.convex.cloud"),gW=document.getElementById("root");if(!gW)throw new Error("Root element not found");VM(gW).render(s.jsx(k.StrictMode,{children:s.jsx(WM,{client:XWe,children:s.jsx(YWe,{})})}));export{tn as _};
//# sourceMappingURL=index-D_fcsllc.js.map
